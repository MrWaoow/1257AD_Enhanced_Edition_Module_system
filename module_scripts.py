# -*- coding: UTF-8 -*-
####################################################################################################################
# Generated by Warband Module Decompiler
# All rights of the module belong to their respective owners
####################################################################################################################

from header_common import *
from header_operations import *
from module_constants import *
from header_presentations import *
from header_parties import *
from header_skills import *
from header_mission_templates import *
from header_items import *
from header_triggers import *
from header_terrain_types import *
from header_music import *
from header_map_icons import *
from ID_animations import *


####################################################################################################################
# scripts is a list of script records.
# Each script record contns the following two fields:
# 1) Script id: The prefix "script_" will be inserted when referencing scripts.
# 2) Operation block: This must be a valid operation block. See header_operations.py for reference.
####################################################################################################################

scripts = [
  ("game_start",
  [
    (set_show_messages, 0),
    (assign, "$setting_use_dmod", 1),
    (call_script, "script_init_item_score"),
    (item_set_slot, itm_practice_axe, 74, 1),
    (item_set_slot, itm_tutorial_staff_no_attack, 74, 1),
    (item_set_slot, itm_practice_dagger, 74, 1),
    (assign, "$g_player_cur_role", 0),
    (faction_set_slot, "fac_player_supporters_faction", 21, 2),
    (faction_set_slot, "fac_player_supporters_faction", 11, "trp_player"),
    (troop_set_faction, "trp_player", "fac_player_faction"),
    (assign, "$players_kingdom", "fac_player_faction"),
    (assign, "$g_player_luck", 200),
    (assign, "$freelancer_state", 0),
    (troop_set_slot, "trp_player", 2, 2),
    (troop_set_slot, "trp_player", 166, 1),
    (store_random_in_range, ":var0", "p_training_ground", "p_bridge_1"),
    (party_relocate_near_party, "p_main_party", ":var0", 3),
    (str_store_troop_name, s5, "trp_player"),
    (party_set_name, "p_main_party", s5),
    (call_script, "script_update_party_creation_random_limits"),
    (assign, "$g_decap_enabled", 1),
    (assign, "$g_decap_minimum_damage", 30),
    (assign, "$g_decap_negative_health", 10),
    (assign, "$g_decap_chance", 20),
    (assign, "$g_decap_psys_blood_decapitation", 40),
    (assign, "$g_decap_psys_game_blood", 10),
    (assign, "$g_decap_psys_game_blood_2", 10),
    (assign, "$g_dismemberment_enabled", 1),
    (call_script, "script_ee_setup_global_defaults"),
    (party_set_slot, "p_castle_player", 7, -1),
    (call_script, "script_set_kingdom_languages_game_start"),
    (try_for_range, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_set_slot, ":var1", 137, -1),
      (faction_set_slot, ":var1", 138, -1),
      (faction_set_slot, ":var1", 139, -1),
    (try_end),
    (faction_set_slot, "fac_kingdom_9", 137, "trp_knight_9_1"),
    (try_for_range, ":var2", 0, 124),
      (neq, ":var2", "fac_player_faction"),
      (neq, ":var2", "fac_player_supporters_faction"),
      (faction_set_slot, ":var2", 8, -1),
      (faction_set_slot, ":var2", 11, -1),
    (try_end),
    (try_for_range, ":var2", 0, 124),
      (neq, ":var2", "fac_escaped_prisoners_faction"),
      (set_relation, ":var2", "fac_escaped_prisoners_faction", -40),
      (set_relation, "fac_escaped_prisoners_faction", ":var2", -40),
    (try_end),
    (try_for_range, ":var2", "fac_kingdom_1", "fac_kingdoms_end"),
      (neg|faction_slot_eq, ":var2", 21, 0),
      (faction_set_slot, ":var2", 21, 0),
    (try_end),
    (try_for_range, ":var1", 84, 114),
      (faction_set_slot, ":var1", 21, 2),
      (faction_set_note_available, ":var1", 0),
    (try_end),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (store_random_in_range, ":var4", 15, 20),
      (party_set_slot, ":var3", 93, ":var4"),
      (store_random_in_range, ":var5", 1, 4),
      (party_set_slot, ":var3", 800, ":var5"),
      (store_random_in_range, ":var5", 1, 4),
      (party_set_slot, ":var3", 801, ":var5"),
      (party_set_slot, ":var3", 258, 0),
      (party_set_slot, ":var3", 235, -1),
    (try_end),
    (call_script, "script_set_troop_culture"),
    (store_random_in_range, "$g_diplo_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
    (store_random_in_range, "$g_recalculate_ais_cur_fac", "fac_kingdom_1", "fac_kingdoms_end"),
    (assign, "$g_player_religion_time", -720),
    (call_script, "script_raf_set_troop_classes"),
    (try_for_range, ":var6", 0, "trp_heroes_end"),
      (this_or_next|eq, ":var6", "trp_player"),
      (is_between, ":var6", "trp_npc1", "trp_heroes_end"),
      (troop_set_slot, ":var6", 31, -1),
      (troop_set_slot, ":var6", 32, -1),
      (troop_set_slot, ":var6", 33, -1),
      (troop_set_slot, ":var6", 30, -1),
      (troop_set_slot, ":var6", 34, -1),
      (troop_set_slot, ":var6", 8, -1),
      (troop_set_slot, ":var6", 38, -1),
      (troop_set_slot, ":var6", 154, -1),
      (store_random_in_range, ":var7", 0, 10000),
      (troop_set_slot, ":var6", 48, ":var7"),
      (troop_set_slot, ":var6", 49, ":var7"),
    (try_end),
    (try_for_range, ":var6", "trp_npc1", "trp_heroes_end"),
      (troop_set_slot, ":var6", 166, 1),
    (try_end),
    (try_for_range, ":var6", "trp_town_1_mayor", "trp_village_1_elder"),
      (troop_set_slot, ":var6", 166, 1),
    (try_end),
    (try_for_range, ":var6", "trp_village_1_elder", "trp_merchants_end"),
      (troop_set_slot, ":var6", 166, 1),
    (try_end),
    (try_for_range, ":var6", "trp_enhanced_rnd_lord_1", "trp_enhanced_rnd_lord_end"),
      (troop_set_slot, ":var6", 166, 0),
    (try_end),
    (assign, "$g_lord_long_term_count", 0),
    (call_script, "script_initialize_banner_info"),
    (call_script, "script_initialize_item_info"),
    (call_script, "script_raf_initialize_aristocracy"),
    (call_script, "script_initialize_npcs"),
    (assign, "$disable_npc_complaints", 1),
    (try_for_range, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var2", 21, 0),
      (store_random_in_range, ":var8", 0, 312),
      (val_mul, ":var8", -1),
      (faction_set_slot, ":var2", 94, ":var8"),
    (try_end),
    (store_sub, ":var9", "p_castle_1_1", "p_town_1_1"),
    (assign, ":var10", ":var9"),
    (try_for_range, ":var11", 0, ":var9"),
      (troop_set_slot, "trp_random_town_sequence", ":var11", -1),
    (try_end),
    (assign, ":var11", 0),
    (try_for_range, ":var12", 0, ":var10"),
      (store_random_in_range, ":var13", 0, ":var9"),
      (assign, ":var14", 1),
      (try_for_range, ":var15", 0, ":var9"),
        (troop_slot_eq, "trp_random_town_sequence", ":var15", ":var13"),
        (assign, ":var14", 0),
      (try_end),
      (try_begin),
        (eq, ":var14", 1),
        (troop_set_slot, "trp_random_town_sequence", ":var11", ":var13"),
        (val_add, ":var11", 1),
      (else_try),
        (val_add, ":var10", 1),
      (try_end),
    (try_end),
    (call_script, "script_ee_setup_faction_troops"),
    (call_script, "script_ee_setup_faction_info"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg3, "$cheat_mode"),
      (display_message, "@{!}DEBUG : Completed faction troop assignments, cheat mode: {reg3}"),
    (try_end),
    (call_script, "script_initialize_faction_troop_types"),
    (try_for_range, ":var16", "itm_spice", "itm_siege_supply"),
      (store_sub, ":var17", ":var16", "itm_spice"),
      (val_add, ":var17", 310),
      (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
        (party_set_slot, ":var3", ":var17", 1000),
      (try_end),
    (try_end),
    (call_script, "script_initialize_trade_routes"),
    (call_script, "script_initialize_town_arena_info"),
    (try_for_range, ":var18", "p_town_1_1", "p_castle_1_1"),
      (store_random_in_range, ":var19", 0, 100),
      (lt, ":var19", 5),
      (store_random_in_range, ":var20", 12, 15),
      (party_set_slot, ":var18", 156, ":var20"),
    (try_end),
    (call_script, "script_ee_setup_settlement_info"),
    (call_script, "script_give_village_elders_random_money"),
    (faction_set_slot, "fac_kingdom_1", 15, "mesh_banner_kingdom_1"),
    (faction_set_slot, "fac_kingdom_2", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_3", 15, "mesh_banner_kingdom_3"),
    (faction_set_slot, "fac_kingdom_4", 15, "mesh_banner_kingdom_4"),
    (faction_set_slot, "fac_kingdom_5", 15, "mesh_banner_kingdom_5"),
    (faction_set_slot, "fac_kingdom_6", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_7", 15, "mesh_banner_kingdom_7"),
    (faction_set_slot, "fac_kingdom_8", 15, "mesh_banner_kingdom_8"),
    (faction_set_slot, "fac_kingdom_9", 15, "mesh_banner_kingdom_9"),
    (faction_set_slot, "fac_kingdom_10", 15, "mesh_banner_kingdom_10"),
    (faction_set_slot, "fac_kingdom_11", 15, "mesh_banner_kingdom_11"),
    (faction_set_slot, "fac_kingdom_12", 15, "mesh_banner_kingdom_12"),
    (faction_set_slot, "fac_kingdom_13", 15, "mesh_banner_kingdom_13"),
    (faction_set_slot, "fac_kingdom_14", 15, "mesh_banner_kingdom_14"),
    (faction_set_slot, "fac_kingdom_15", 15, "mesh_banner_kingdom_15"),
    (faction_set_slot, "fac_kingdom_16", 15, "mesh_banner_kingdom_16"),
    (faction_set_slot, "fac_kingdom_17", 15, "mesh_banner_kingdom_17"),
    (faction_set_slot, "fac_kingdom_18", 15, "mesh_banner_kingdom_18"),
    (faction_set_slot, "fac_kingdom_19", 15, "mesh_banner_kingdom_19"),
    (faction_set_slot, "fac_kingdom_20", 15, "mesh_banner_kingdom_20"),
    (faction_set_slot, "fac_papacy", 15, "mesh_banner_kingdom_21"),
    (faction_set_slot, "fac_kingdom_22", 15, "mesh_banner_kingdom_22"),
    (faction_set_slot, "fac_kingdom_23", 15, "mesh_banner_kingdom_23"),
    (faction_set_slot, "fac_kingdom_24", 15, "mesh_banner_kingdom_24"),
    (faction_set_slot, "fac_kingdom_25", 15, "mesh_banner_kingdom_25"),
    (faction_set_slot, "fac_kingdom_26", 15, "mesh_banner_kingdom_26"),
    (faction_set_slot, "fac_kingdom_27", 15, "mesh_banner_kingdom_27"),
    (faction_set_slot, "fac_kingdom_28", 15, "mesh_banner_kingdom_28"),
    (faction_set_slot, "fac_kingdom_29", 15, "mesh_banner_kingdom_29"),
    (faction_set_slot, "fac_kingdom_30", 15, "mesh_banner_kingdom_30"),
    (faction_set_slot, "fac_kingdom_31", 15, "mesh_banner_kingdom_31"),
    (faction_set_slot, "fac_kingdom_32", 15, "mesh_banner_kingdom_32"),
    (faction_set_slot, "fac_kingdom_33", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_34", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_35", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_36", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_37", 15, "mesh_banner_kingdom_32"),
    (faction_set_slot, "fac_kingdom_38", 15, "mesh_banner_kingdom_32"),
    (faction_set_slot, "fac_kingdom_39", 15, "mesh_banner_kingdom_32"),
    (faction_set_slot, "fac_kingdom_40", 15, "mesh_banner_kingdom_32"),
    (faction_set_slot, "fac_kingdom_41", 15, "mesh_banner_kingdom_32"),
    (faction_set_slot, "fac_kingdom_42", 15, "mesh_banner_kingdom_6"),
    (try_for_range, ":var21", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var21", 166, 1),
      (this_or_next|troop_slot_eq, ":var21", 2, 2),
      (troop_slot_eq, ":var21", 2, 9),
      (store_faction_of_troop, ":var22", ":var21"),
      (neg|faction_slot_eq, ":var22", 11, ":var21"),
      (store_character_level, ":var23", ":var21"),
      (store_mul, ":var24", ":var23", ":var23"),
      (val_div, ":var24", 4),
      (troop_get_slot, ":var25", ":var21", 18),
      (store_mul, ":var26", ":var25", ":var25"),
      (val_div, ":var26", 8),
      (val_add, ":var24", ":var26"),
      (try_begin),
        (faction_slot_eq, ":var22", 11, ":var21"),
        (store_random_in_range, ":var27", 250, 400),
      (else_try),
        (store_random_in_range, ":var27", 0, 100),
      (try_end),
      (val_add, ":var24", ":var27"),
      (troop_set_slot, ":var21", 7, ":var24"),
    (try_end),
    (try_for_range, ":var28", "trp_player", "trp_merchants_end"),
      (add_troop_note_tableau_mesh, ":var28", "tableau_troop_note_mesh"),
    (try_end),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (add_party_note_tableau_mesh, ":var3", "tableau_center_note_mesh"),
    (try_end),
    (try_for_range, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (is_between, ":var2", "fac_kingdom_1", "fac_kingdoms_end"),
      (add_faction_note_tableau_mesh, ":var2", "tableau_faction_note_mesh"),
    (else_try),
      (add_faction_note_tableau_mesh, ":var2", "tableau_faction_note_mesh_banner"),
    (try_end),
    (call_script, "script_ee_setup_lord_banners"),
    (call_script, "script_ee_give_centers_to_factions"),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var29", ":var3"),
      (faction_get_slot, ":var30", ":var29", 10),
      (party_set_slot, ":var3", 19, ":var30"),
      (party_set_slot, ":var3", 61, ":var29"),
      (party_set_slot, ":var3", 62, ":var29"),
    (try_end),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var3", 19, 10),
      (party_set_slot, ":var3", 19, 14),
    (try_end),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var3", 19, 26),
      (store_faction_of_party, ":var31", ":var3"),
      (neq, ":var31", "fac_kingdom_3"),
      (neq, ":var3", "p_village_27_11"),
      (neq, ":var3", "p_village_27_12"),
      (neq, ":var3", "p_castle_27_5"),
      (party_set_slot, ":var3", 19, 23),
    (try_end),
    (party_set_slot, "p_castle_3_8", 19, 25),
    (party_set_slot, "p_village_3_16", 19, 25),
    (party_set_slot, "p_castle_player", 19, 39),
    (party_set_slot, "p_castle_player", 61, 46),
    (party_set_slot, "p_castle_player", 62, 46),
    (party_set_slot, "p_village_player", 19, 39),
    (party_set_slot, "p_village_player", 61, 46),
    (party_set_slot, "p_village_player", 62, 46),
    (party_set_slot, "p_town_3_3", 19, "fac_culture_rus"),
    (party_set_slot, "p_town_3_3", 61, "fac_kingdom_15"),
    (party_set_slot, "p_town_3_2", 19, "fac_culture_rus"),
    (party_set_slot, "p_town_3_2", 61, "fac_kingdom_15"),
    (party_set_slot, "p_town_3_4", 19, "fac_culture_rus"),
    (party_set_slot, "p_town_3_4", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_3_1", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_3_2", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_3_3", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_3_4", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_3_5", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_3_6", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_3_7", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_3_1", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_3_2", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_3_3", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_3_4", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_3_5", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_3_6", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_3_7", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_1", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_2", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_3", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_4", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_5", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_6", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_7", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_8", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_9", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_10", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_11", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_14", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_15", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_3_1", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_2", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_3", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_4", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_5", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_6", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_7", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_8", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_9", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_10", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_11", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_14", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_3_15", 61, "fac_kingdom_15"),
    (party_set_slot, "p_town_2_4", 19, "fac_culture_rus"),
    (party_set_slot, "p_town_2_4", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_2_6", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_2_7", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_2_8", 19, "fac_culture_rus"),
    (party_set_slot, "p_castle_2_6", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_2_7", 61, "fac_kingdom_15"),
    (party_set_slot, "p_castle_2_8", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_2_12", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_2_13", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_2_14", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_2_15", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_2_16", 19, "fac_culture_rus"),
    (party_set_slot, "p_village_2_12", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_2_13", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_2_14", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_2_15", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_2_16", 61, "fac_kingdom_15"),
    (party_set_slot, "p_village_23_5", 19, "fac_culture_anatolian_christian"),
    (party_set_slot, "p_village_23_8", 19, "fac_culture_anatolian_christian"),
    (party_set_slot, "p_village_27_7", 19, "fac_culture_anatolian_christian"),
    (party_set_slot, "p_town_23_2", 19, "fac_culture_anatolian_christian"),
    (party_set_slot, "p_castle_27_1", 19, "fac_culture_anatolian_christian"),
    (party_set_slot, "p_village_4_6", 19, "fac_culture_finnish"),
    (party_set_slot, "p_village_4_5", 19, "fac_culture_finnish"),
    (party_set_slot, "p_town_4_3", 19, "fac_culture_finnish"),
    (party_set_slot, "p_village_14_4", 19, "fac_culture_finnish"),
    (party_set_slot, "p_town_14_2", 19, "fac_culture_finnish"),
    (party_set_slot, "p_castle_1_1", 19, "fac_culture_finnish"),
    (party_set_slot, "p_castle_1_6", 19, "fac_culture_finnish"),
    (party_set_slot, "p_castle_1_3", 19, "fac_culture_finnish"),
    (party_set_slot, "p_castle_1_5", 19, "fac_culture_finnish"),
    (party_set_slot, "p_village_1_13", 19, "fac_culture_finnish"),
    (party_set_slot, "p_village_5_9", 19, "fac_culture_mazovian"),
    (party_set_slot, "p_village_5_8", 19, "fac_culture_mazovian"),
    (party_set_slot, "p_village_5_11", 19, "fac_culture_mazovian"),
    (party_set_slot, "p_village_5_16", 19, "fac_culture_mazovian"),
    (party_set_slot, "p_castle_5_1", 19, "fac_culture_mazovian"),
    (party_set_slot, "p_castle_5_6", 19, "fac_culture_mazovian"),
    (party_set_slot, "p_castle_5_8", 19, "fac_culture_mazovian"),
    (party_set_slot, "p_castle_5_2", 19, "fac_culture_mazovian"),
    (party_set_slot, "p_town_23_6", 19, "fac_culture_hospitaller"),
    (party_set_slot, "p_castle_23_1", 19, "fac_culture_hospitaller"),
    (party_set_slot, "p_village_23_7", 19, "fac_culture_antioch"),
    (party_set_slot, "p_village_23_12", 19, "fac_culture_antioch"),
    (party_set_slot, "p_castle_23_3", 19, "fac_culture_tripoli"),
    (party_set_slot, "p_town_23_1", 19, "fac_culture_jerusalem"),
    (party_set_slot, "p_castle_23_2", 19, "fac_culture_jerusalem"),
    (party_set_slot, "p_town_23_2", 19, "fac_culture_anatolian_christian"),
    (party_set_slot, "p_village_23_5", 19, "fac_culture_anatolian_christian"),
    (party_set_slot, "p_town_23_4", 19, "fac_culture_teutonic"),
    (party_set_slot, "p_village_23_3", 19, "fac_culture_ibelin"),
    (party_set_slot, "p_village_23_11", 19, "fac_culture_ibelin"),
    (party_set_slot, "p_town_23_5", 19, "fac_culture_templar"),
    (party_set_slot, "p_village_23_9", 19, "fac_culture_templar"),
    (call_script, "script_give_center_to_lord", "p_town_5_1", "trp_kingdom_5_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_5_2", "trp_knight_5_9", 0),
    (call_script, "script_give_center_to_lord", "p_town_5_3", "trp_knight_5_10", 0),
    (call_script, "script_give_center_to_lord", "p_town_5_4", "trp_knight_5_15", 0),
    (call_script, "script_give_center_to_lord", "p_town_1_1", "trp_kingdom_1_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_1_2", "trp_knight_1_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_1_3", "trp_knight_1_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_1_4", "trp_knight_1_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_2_1", "trp_kingdom_2_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_2_2", "trp_knight_2_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_2_3", "trp_knight_2_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_2_4", "trp_knight_2_3", 0),
    (call_script, "script_give_center_to_lord", "p_village_2_13", "trp_knight_2_11", 0),
    (call_script, "script_give_center_to_lord", "p_village_2_12", "trp_knight_2_12", 0),
    (call_script, "script_give_center_to_lord", "p_village_2_16", "trp_knight_2_13", 0),
    (call_script, "script_give_center_to_lord", "p_castle_2_8", "trp_knight_2_14", 0),
    (call_script, "script_give_center_to_lord", "p_village_2_9", "trp_knight_2_15", 0),
    (call_script, "script_give_center_to_lord", "p_castle_3_8", "trp_knight_3_20", 0),
    (call_script, "script_give_center_to_lord", "p_village_3_16", "trp_knight_3_20", 0),
    (call_script, "script_give_center_to_lord", "p_town_8_1", "trp_kingdom_8_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_8_2", "trp_knight_8_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_4_1", "trp_kingdom_4_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_4_2", "trp_knight_4_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_4_3", "trp_knight_4_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_7_1", "trp_kingdom_7_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_7_2", "trp_knight_7_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_7_3", "trp_knight_7_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_7_4", "trp_knight_7_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_6_1", "trp_knight_6_19", 0),
    (call_script, "script_give_center_to_lord", "p_town_6_2", "trp_knight_6_4", 0),
    (call_script, "script_give_center_to_lord", "p_town_6_3", "trp_kingdom_6_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_6_5", "trp_knight_6_6", 0),
    (call_script, "script_give_center_to_lord", "p_town_6_6", "trp_knight_6_15", 0),
    (call_script, "script_give_center_to_lord", "p_town_6_4", "trp_knight_6_20", 0),
    (call_script, "script_give_center_to_lord", "p_castle_6_3", "trp_knight_6_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_3_1", "trp_kingdom_3_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_3_3", "trp_knight_3_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_3_2", "trp_knight_3_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_3_4", "trp_knight_3_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_9_1", "trp_kingdom_9_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_9_2", "trp_knight_9_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_9_3", "trp_knight_9_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_9_4", "trp_knight_9_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_9_5", "trp_knight_9_4", 0),
    (call_script, "script_give_center_to_lord", "p_town_10_1", "trp_kingdom_10_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_10_2", "trp_knight_10_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_10_3", "trp_knight_10_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_10_4", "trp_knight_10_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_10_5", "trp_knight_10_4", 0),
    (call_script, "script_give_center_to_lord", "p_town_10_6", "trp_knight_10_5", 0),
    (call_script, "script_give_center_to_lord", "p_town_10_7", "trp_knight_10_6", 0),
    (call_script, "script_give_center_to_lord", "p_town_11_1", "trp_kingdom_11_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_11_2", "trp_knight_11_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_11_3", "trp_knight_11_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_14_1", "trp_kingdom_14_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_14_2", "trp_knight_14_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_14_3", "trp_knight_14_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_12_1", "trp_kingdom_12_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_12_2", "trp_knight_12_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_13_2", "trp_knight_13_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_15_1", "trp_kingdom_15_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_15_2", "trp_knight_15_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_15_3", "trp_knight_15_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_16_1", "trp_kingdom_16_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_17_1", "trp_kingdom_17_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_18_1", "trp_kingdom_18_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_19_1", "trp_kingdom_19_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_20_1", "trp_kingdom_20_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_21_1", "trp_pope", 0),
    (call_script, "script_give_center_to_lord", "p_village_21_1", "trp_pope", 0),
    (call_script, "script_give_center_to_lord", "p_village_21_2", "trp_pope", 0),
    (call_script, "script_give_center_to_lord", "p_town_22_1", "trp_kingdom_22_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_22_2", "trp_knight_22_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_22_3", "trp_knight_22_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_22_4", "trp_knight_22_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_23_1", "trp_kingdom_23_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_23_2", "trp_knight_23_9", 0),
    (call_script, "script_give_center_to_lord", "p_village_23_5", "trp_knight_23_9", 0),
    (call_script, "script_give_center_to_lord", "p_village_23_8", "trp_knight_23_10", 0),
    (call_script, "script_give_center_to_lord", "p_town_24_1", "trp_kingdom_24_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_25_1", "trp_kingdom_25_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_25_2", "trp_knight_25_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_25_3", "trp_knight_25_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_25_4", "trp_knight_25_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_26_1", "trp_kingdom_26_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_27_2", "trp_kingdom_27_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_27_1", "trp_knight_27_1", 0),
    (call_script, "script_give_center_to_lord", "p_castle_27_1", "trp_knight_27_2", 0),
    (call_script, "script_give_center_to_lord", "p_village_27_7", "trp_knight_27_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_27_3", "trp_knight_27_3", 0),
    (call_script, "script_give_center_to_lord", "p_village_27_5", "trp_knight_27_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_28_1", "trp_kingdom_28_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_29_1", "trp_kingdom_29_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_29_2", "trp_knight_29_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_30_1", "trp_kingdom_30_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_30_2", "trp_knight_30_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_31_1", "trp_kingdom_31_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_31_2", "trp_knight_31_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_31_3", "trp_knight_31_2", 0),
    (call_script, "script_give_center_to_lord", "p_castle_31_1", "trp_knight_31_3", 0),
    (call_script, "script_give_center_to_lord", "p_castle_31_2", "trp_knight_31_4", 0),
    (call_script, "script_give_center_to_lord", "p_town_32_1", "trp_kingdom_32_lord", 0),
    (call_script, "script_give_center_to_lord", "p_castle_32_1", "trp_knight_32_1", 0),
    (call_script, "script_give_center_to_lord", "p_village_32_2", "trp_knight_32_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_32_2", "trp_knight_32_3", 0),
    (call_script, "script_give_center_to_lord", "p_village_32_3", "trp_knight_32_4", 0),
    (call_script, "script_give_center_to_lord", "p_castle_35_1", "trp_kingdom_35_lord", 0),
    (call_script, "script_give_center_to_lord", "p_castle_33_1", "trp_kingdom_33_lord", 0),
    (call_script, "script_give_center_to_lord", "p_castle_34_1", "trp_kingdom_34_lord", 0),
    (call_script, "script_give_center_to_lord", "p_castle_36_1", "trp_kingdom_36_lord", 0),
    (call_script, "script_give_center_to_lord", "p_castle_38_1", "trp_knight_38_2", 0),
    (call_script, "script_give_center_to_lord", "p_castle_38_2", "trp_knight_38_1", 0),
    (call_script, "script_give_center_to_lord", "p_town_38_1", "trp_kingdom_38_lord", 0),
    (call_script, "script_give_center_to_lord", "p_castle_39_1", "trp_knight_39_1", 0),
    (call_script, "script_give_center_to_lord", "p_castle_39_2", "trp_knight_39_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_39_1", "trp_kingdom_39_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_40_1", "trp_kingdom_40_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_40_2", "trp_knight_40_2", 0),
    (call_script, "script_give_center_to_lord", "p_town_41_1", "trp_kingdom_41_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_41_2", "trp_knight_41_3", 0),
    (call_script, "script_give_center_to_lord", "p_town_42_1", "trp_kingdom_42_lord", 0),
    (call_script, "script_give_center_to_lord", "p_town_42_2", "trp_knight_42_1", 0),
    (call_script, "script_assign_lords_to_empty_centers"),
    (try_for_range, ":var32", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var32", 166, 1),
      (store_faction_of_troop, ":var33", ":var32"),
      (faction_get_slot, ":var30", ":var33", 10),
      (troop_set_slot, ":var32", 165, ":var30"),
    (try_end),
    (try_begin),
      (troop_set_slot, "trp_kingdom_23_lord", 165, "fac_culture_jerusalem"),
      (troop_set_slot, "trp_knight_23_1", 165, "fac_culture_hospitaller"),
      (troop_set_slot, "trp_knight_23_2", 165, "fac_culture_templar"),
      (troop_set_slot, "trp_knight_23_3", 165, "fac_culture_antioch"),
      (troop_set_slot, "trp_knight_23_5", 165, "fac_culture_ibelin"),
      (troop_set_slot, "trp_knight_23_6", 165, "fac_culture_teutonic"),
      (troop_set_slot, "trp_knight_23_7", 165, "fac_culture_ibelin"),
      (troop_set_slot, "trp_knight_23_8", 165, "fac_culture_jerusalem"),
      (troop_set_slot, "trp_knight_23_9", 165, "fac_culture_anatolian_christian"),
      (troop_set_slot, "trp_knight_23_15", 165, "fac_culture_antioch"),
      (troop_set_slot, "trp_kingdom_27_lord", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_1", 165, "fac_culture_anatolian"),
      (troop_set_slot, "trp_knight_27_2", 165, "fac_culture_anatolian_christian"),
      (troop_set_slot, "trp_knight_27_3", 165, "fac_culture_anatolian"),
      (troop_set_slot, "trp_knight_27_4", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_5", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_6", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_7", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_8", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_9", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_10", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_11", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_12", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_13", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_14", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_27_15", 165, "fac_culture_mongol"),
      (troop_set_slot, "trp_knight_5_2", 165, "fac_culture_mazovian"),
      (troop_set_slot, "trp_knight_7_15", 165, "fac_culture_cuman"),
    (try_end),
    (party_set_slot, "p_town_9_5", 62, "fac_kingdom_10"),
    (party_set_slot, "p_town_9_6", 62, "fac_kingdom_13"),
    (party_set_slot, "p_castle_9_9", 62, "fac_kingdom_13"),
    (party_set_slot, "p_town_25_5", 62, "fac_kingdom_23"),
    (party_set_slot, "p_town_26_1", 62, "fac_kingdom_22"),
    (call_script, "script_update_village_market_towns"),
    (try_for_range, ":var18", "p_town_1_1", "p_castle_1_1"),
      (store_faction_of_party, ":var34", ":var18"),
      (call_script, "script_raf_aor_faction_to_region", ":var34"),
      (faction_get_slot, ":var30", ":var34", 10),
      (try_begin),
        (this_or_next|eq, reg0, 8),
        (this_or_next|eq, reg0, 10),
        (this_or_next|eq, reg0, 11),
        (eq, reg0, 12),
        (party_set_slot, ":var18", 10, "scn_town_arab_center"),
        (party_set_slot, ":var18", 11, "scn_town_arab_castle"),
        (party_set_slot, ":var18", 12, "scn_town_arab_prison"),
        (party_set_slot, ":var18", 18, "scn_town_arab_walls"),
        (party_set_slot, ":var18", 17, "scn_town_arab_alley"),
        (party_set_slot, ":var18", 13, "scn_town_arab_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_arab_store"),
        (party_set_slot, ":var18", 16, "scn_town_arab_arena"),
        (party_set_slot, ":var18", 27, 0),
      (else_try),
        (eq, reg0, 2),
        (party_set_slot, ":var18", 10, "scn_town_nordic_center_new"),
        (party_set_slot, ":var18", 11, "scn_town_nordic_castle"),
        (party_set_slot, ":var18", 12, "scn_town_nordic_prison"),
        (party_set_slot, ":var18", 18, "scn_town_nordic_walls_new"),
        (party_set_slot, ":var18", 17, "scn_town_nordic_alley"),
        (party_set_slot, ":var18", 13, "scn_town_nordic_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_nordic_store"),
        (party_set_slot, ":var18", 16, "scn_town_nordic_arena"),
        (party_set_slot, ":var18", 27, 0),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_1"),
        (this_or_next|eq, reg0, 13),
        (this_or_next|eq, reg0, 7),
        (this_or_next|eq, reg0, 16),
        (eq, reg0, 5),
        (store_random_in_range, ":var13", 1, 5),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var18", 10, "scn_town_euro_center"),
          (party_set_slot, ":var18", 18, "scn_town_euro_walls"),
          (party_set_slot, ":var18", 27, 1),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var18", 10, "scn_town_euro_center_2"),
          (party_set_slot, ":var18", 18, "scn_town_euro_walls"),
          (party_set_slot, ":var18", 27, 1),
        (else_try),
          (eq, ":var13", 3),
          (party_set_slot, ":var18", 10, "scn_town_euro_center_3"),
          (party_set_slot, ":var18", 18, "scn_town_euro_walls"),
          (party_set_slot, ":var18", 27, 1),
        (else_try),
          (eq, ":var13", 4),
          (party_set_slot, ":var18", 10, "scn_town_euro_center_4"),
          (party_set_slot, ":var18", 18, "scn_town_euro_walls"),
          (party_set_slot, ":var18", 27, 1),
        (try_end),
        (party_set_slot, ":var18", 11, "scn_town_euro_castle"),
        (party_set_slot, ":var18", 12, "scn_town_euro_prison"),
        (party_set_slot, ":var18", 17, "scn_town_euro_alley"),
        (party_set_slot, ":var18", 13, "scn_town_euro_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_euro_store"),
        (party_set_slot, ":var18", 16, "scn_town_euro_arena"),
      (else_try),
        (eq, reg0, 1),
        (party_set_slot, ":var18", 10, "scn_town_baltic_center"),
        (party_set_slot, ":var18", 11, "scn_town_baltic_castle"),
        (party_set_slot, ":var18", 12, "scn_town_baltic_prison"),
        (party_set_slot, ":var18", 18, "scn_town_baltic_walls"),
        (party_set_slot, ":var18", 17, "scn_town_baltic_alley"),
        (party_set_slot, ":var18", 13, "scn_town_baltic_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_baltic_store"),
        (party_set_slot, ":var18", 16, "scn_town_baltic_arena"),
        (party_set_slot, ":var18", 27, 0),
      (else_try),
        (eq, reg0, 4),
        (party_set_slot, ":var18", 10, "scn_town_mongol_center"),
        (party_set_slot, ":var18", 11, "scn_town_mongol_castle"),
        (party_set_slot, ":var18", 12, "scn_town_mongol_prison"),
        (party_set_slot, ":var18", 18, "scn_town_mongol_walls"),
        (party_set_slot, ":var18", 17, "scn_town_mongol_alley"),
        (party_set_slot, ":var18", 13, "scn_town_mongol_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_mongol_store"),
        (party_set_slot, ":var18", 16, "scn_town_mongol_arena"),
        (party_set_slot, ":var18", 27, 0),
      (else_try),
        (this_or_next|eq, reg0, 9),
        (this_or_next|eq, reg0, 14),
        (eq, reg0, 15),
        (party_set_slot, ":var18", 10, "scn_byzantine_center"),
        (party_set_slot, ":var18", 11, "scn_town_interior_byz"),
        (party_set_slot, ":var18", 12, "scn_town_eastern_prison"),
        (party_set_slot, ":var18", 18, "scn_byzantine_walls_belfry"),
        (party_set_slot, ":var18", 17, "scn_town_eastern_alley"),
        (party_set_slot, ":var18", 13, "scn_town_eastern_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_eastern_store"),
        (party_set_slot, ":var18", 16, "scn_town_eastern_arena"),
        (party_set_slot, ":var18", 27, 1),
      (else_try),
        (eq, reg0, 3),
        (party_set_slot, ":var18", 10, "scn_rus_center"),
        (party_set_slot, ":var18", 11, "scn_town_baltic_castle"),
        (party_set_slot, ":var18", 12, "scn_town_baltic_prison"),
        (party_set_slot, ":var18", 18, "scn_rus_walls"),
        (party_set_slot, ":var18", 17, "scn_town_baltic_alley"),
        (party_set_slot, ":var18", 13, "scn_town_baltic_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_baltic_store"),
        (party_set_slot, ":var18", 16, "scn_town_baltic_arena"),
        (party_set_slot, ":var18", 27, 0),
      (try_end),
      (store_faction_of_party, ":var34", ":var18"),
      (try_begin),
        (this_or_next|eq, ":var34", "fac_kingdom_8"),
        (eq, ":var34", "fac_kingdom_3"),
        (neq, ":var18", "p_town_3_1"),
        (party_set_slot, ":var18", 10, "scn_rus_snow_center"),
        (party_set_slot, ":var18", 18, "scn_rus_snow_walls"),
        (party_set_slot, ":var18", 11, "scn_town_baltic_castle"),
        (party_set_slot, ":var18", 12, "scn_town_baltic_prison"),
        (party_set_slot, ":var18", 17, "scn_town_baltic_alley"),
        (party_set_slot, ":var18", 13, "scn_town_baltic_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_baltic_store"),
        (party_set_slot, ":var18", 16, "scn_town_baltic_arena"),
      (try_end),
      (try_begin),
        (eq, ":var34", "fac_kingdom_26"),
        (party_set_slot, ":var18", 10, "scn_byzantine_center"),
        (party_set_slot, ":var18", 11, "scn_town_interior_byz"),
        (party_set_slot, ":var18", 12, "scn_town_eastern_prison"),
        (party_set_slot, ":var18", 18, "scn_byzantine_walls_belfry"),
        (party_set_slot, ":var18", 17, "scn_town_eastern_alley"),
        (party_set_slot, ":var18", 13, "scn_town_eastern_tavern"),
        (party_set_slot, ":var18", 14, "scn_town_eastern_store"),
        (party_set_slot, ":var18", 16, "scn_town_eastern_arena"),
        (party_set_slot, ":var18", 27, 1),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var34", "fac_kingdom_42"),
        (eq, ":var34", "fac_kingdom_6"),
        (store_random_in_range, ":var13", 1, 4),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var18", 10, "scn_town_euro_center"),
          (party_set_slot, ":var18", 18, "scn_town_euro_walls"),
          (party_set_slot, ":var18", 27, 1),
        (else_try),
          (party_set_slot, ":var18", 10, "scn_aachen_center"),
          (party_set_slot, ":var18", 18, "scn_aachen_walls"),
          (party_set_slot, ":var18", 27, 0),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var34", "fac_kingdom_1"),
        (party_set_slot, ":var18", 10, "scn_to_center"),
        (party_set_slot, ":var18", 18, "scn_to_walls"),
        (party_set_slot, ":var18", 11, "scn_to_interior"),
        (party_set_slot, ":var18", 27, 0),
      (try_end),
      (try_begin),
        (eq, ":var30", "fac_culture_italian"),
        (party_set_slot, ":var18", 11, "scn_town_italy_castle"),
        (party_set_slot, ":var18", 10, "scn_town_italy_center"),
        (party_set_slot, ":var18", 18, "scn_town_italy_walls_new"),
        (party_set_slot, ":var18", 27, 0),
      (try_end),
      (try_begin),
        (eq, ":var30", "fac_culture_italian"),
        (party_set_slot, ":var18", 11, "scn_town_italy_castle"),
        (party_set_slot, ":var18", 10, "scn_town_italy_center"),
        (party_set_slot, ":var18", 18, "scn_town_italy_walls_new"),
        (party_set_slot, ":var18", 27, 0),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var30", "fac_culture_andalus"),
        (this_or_next|eq, ":var30", "fac_culture_marinid"),
        (eq, ":var30", "fac_culture_marinid"),
        (party_set_slot, ":var18", 11, "scn_town_arab_castle_west"),
      (try_end),
      (try_begin),
        (eq, ":var34", "fac_kingdom_23"),
        (store_random_in_range, ":var5", 0, 2),
        (try_begin),
          (eq, ":var5", 0),
          (party_set_slot, ":var18", 11, "scn_town_castle_crusade_1"),
        (else_try),
          (party_set_slot, ":var18", 11, "scn_town_castle_crusade_2"),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (party_set_slot, "p_town_9_5", 10, "scn_town_france_bordeaux"),
      (party_set_slot, "p_town_9_5", 18, "scn_town_france_bordeaux_walls"),
      (party_set_slot, "p_town_9_5", 11, "scn_town_euro_castle"),
      (party_set_slot, "p_town_9_5", 12, "scn_town_euro_prison"),
      (party_set_slot, "p_town_9_5", 17, "scn_town_euro_alley"),
      (party_set_slot, "p_town_9_5", 13, "scn_town_euro_tavern"),
      (party_set_slot, "p_town_9_5", 14, "scn_town_euro_store"),
      (party_set_slot, "p_town_9_5", 16, "scn_town_euro_arena"),
      (party_set_slot, "p_town_9_5", 27, 1),
    (try_end),
    (try_begin),
      (party_set_slot, "p_town_26_1", 10, "scn_byzantine_center"),
      (party_set_slot, "p_town_26_1", 11, "scn_town_interior_byz"),
      (party_set_slot, "p_town_26_1", 12, "scn_town_eastern_prison"),
      (party_set_slot, "p_town_26_1", 18, "scn_byzantine_walls_belfry"),
      (party_set_slot, "p_town_26_1", 17, "scn_town_eastern_alley"),
      (party_set_slot, "p_town_26_1", 13, "scn_town_eastern_tavern"),
      (party_set_slot, "p_town_26_1", 14, "scn_town_eastern_store"),
      (party_set_slot, "p_town_26_1", 16, "scn_town_eastern_arena"),
      (party_set_slot, "p_town_26_1", 27, 1),
    (try_end),
    (try_for_range, ":var35", "p_castle_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var34", ":var35"),
      (try_begin),
        (this_or_next|eq, ":var34", "fac_kingdom_1"),
        (this_or_next|eq, ":var34", "fac_kingdom_5"),
        (this_or_next|eq, ":var34", "fac_kingdom_6"),
        (this_or_next|eq, ":var34", "fac_kingdom_7"),
        (this_or_next|eq, ":var34", "fac_kingdom_9"),
        (this_or_next|eq, ":var34", "fac_kingdom_37"),
        (this_or_next|eq, ":var34", "fac_kingdom_10"),
        (this_or_next|eq, ":var34", "fac_kingdom_4"),
        (eq, ":var34", "fac_kingdom_42"),
        (store_random_in_range, ":var13", 1, 24),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var35", 10, "scn_walls_motte_bailey_1"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var35", 10, "scn_walls_tonbridge"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 3),
          (party_set_slot, ":var35", 10, "scn_walls_pevensey"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 4),
          (party_set_slot, ":var35", 10, "scn_walls_york"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 5),
          (party_set_slot, ":var35", 10, "scn_walls_carlisle"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 6),
          (party_set_slot, ":var35", 10, "scn_walls_llansteffan"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 7),
          (party_set_slot, ":var35", 10, "scn_walls_beaumaris"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 8),
          (party_set_slot, ":var35", 10, "scn_walls_conwy"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 9),
          (party_set_slot, ":var35", 10, "scn_walls_arwa"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 10),
          (party_set_slot, ":var35", 10, "scn_walls_lublin"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 11),
          (party_set_slot, ":var35", 10, "scn_walls_hedingham"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 12),
          (party_set_slot, ":var35", 10, "scn_castle_1_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_1_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_1_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 13),
          (party_set_slot, ":var35", 10, "scn_castle_3_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_3_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_3_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 14),
          (party_set_slot, ":var35", 10, "scn_castle_11_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_11_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_11_prison"),
          (party_set_slot, ":var35", 27, 1),
        (else_try),
          (eq, ":var13", 15),
          (party_set_slot, ":var35", 10, "scn_castle_12_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_12_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_12_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 16),
          (party_set_slot, ":var35", 10, "scn_castle_13_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_13_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_13_prison"),
          (party_set_slot, ":var35", 27, 1),
        (else_try),
          (eq, ":var13", 17),
          (party_set_slot, ":var35", 10, "scn_castle_15_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_15_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_15_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 18),
          (party_set_slot, ":var35", 10, "scn_castle_20_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_20_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_20_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 19),
          (party_set_slot, ":var35", 10, "scn_castle_21_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_21_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_21_prison"),
          (party_set_slot, ":var35", 27, 1),
        (else_try),
          (eq, ":var13", 20),
          (party_set_slot, ":var35", 10, "scn_walls_dorpat"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 21),
          (party_set_slot, ":var35", 10, "scn_walls_hedingham"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 22),
          (party_set_slot, ":var35", 10, "scn_castle_23_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_23_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_23_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (party_set_slot, ":var35", 10, "scn_castle_walls_euro"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_12"),
        (eq, ":var34", "fac_kingdom_13"),
        (store_random_in_range, ":var13", 1, 7),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var35", 10, "scn_walls_motte_bailey_1"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var35", 10, "scn_walls_tonbridge"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 3),
          (party_set_slot, ":var35", 10, "scn_walls_pevensey"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 4),
          (party_set_slot, ":var35", 10, "scn_walls_york"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 5),
          (party_set_slot, ":var35", 10, "scn_walls_carlisle"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (party_set_slot, ":var35", 10, "scn_walls_scot"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_euro"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_euro"),
          (party_set_slot, ":var35", 27, 0),
        (try_end),
      (else_try),
        (eq, ":var34", "fac_kingdom_22"),
        (party_set_slot, ":var35", 10, "scn_byzantine_castle"),
        (party_set_slot, ":var35", 11, "scn_castle_interior_byz"),
        (party_set_slot, ":var35", 12, "scn_castle_prison_iberia"),
        (party_set_slot, ":var35", 27, 0),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_2"),
        (this_or_next|eq, ":var34", "fac_kingdom_30"),
        (this_or_next|eq, ":var34", "fac_kingdom_33"),
        (this_or_next|eq, ":var34", "fac_kingdom_34"),
        (this_or_next|eq, ":var34", "fac_kingdom_35"),
        (eq, ":var34", "fac_kingdom_36"),
        (store_random_in_range, ":var13", 1, 3),
        (party_get_current_terrain, ":var36", ":var35"),
        (try_begin),
          (this_or_next|eq, ":var36", 12),
          (eq, ":var36", 4),
          (try_begin),
            (eq, ":var13", 1),
            (party_set_slot, ":var35", 10, "scn_walls_seiminiskeliai_snow"),
            (party_set_slot, ":var35", 11, "scn_castle_interior_eastern"),
            (party_set_slot, ":var35", 12, "scn_castle_prison_eastern"),
            (party_set_slot, ":var35", 27, 0),
          (else_try),
            (party_set_slot, ":var35", 10, "scn_walls_taurapilis_snow"),
            (party_set_slot, ":var35", 11, "scn_castle_interior_eastern"),
            (party_set_slot, ":var35", 12, "scn_castle_prison_eastern"),
            (party_set_slot, ":var35", 27, 0),
          (try_end),
        (else_try),
          (try_begin),
            (eq, ":var13", 1),
            (party_set_slot, ":var35", 10, "scn_walls_seiminiskeliai"),
            (party_set_slot, ":var35", 11, "scn_castle_interior_eastern"),
            (party_set_slot, ":var35", 12, "scn_castle_prison_eastern"),
            (party_set_slot, ":var35", 27, 0),
          (else_try),
            (party_set_slot, ":var35", 10, "scn_walls_taurapilis"),
            (party_set_slot, ":var35", 11, "scn_castle_interior_eastern"),
            (party_set_slot, ":var35", 12, "scn_castle_prison_eastern"),
            (party_set_slot, ":var35", 27, 0),
          (try_end),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_8"),
        (eq, ":var34", "fac_kingdom_3"),
        (store_random_in_range, ":var13", 1, 3),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var35", 10, "scn_walls_vladimir_snow"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_eastern"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_eastern"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (party_set_slot, ":var35", 10, "scn_walls_moscow"),
          (party_set_slot, ":var35", 11, "scn_interior_moscow"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_eastern"),
          (party_set_slot, ":var35", 27, 0),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_15"),
        (this_or_next|eq, ":var34", "fac_kingdom_29"),
        (eq, ":var34", "fac_kingdom_26"),
        (store_random_in_range, ":var13", 1, 4),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var35", 10, "scn_castle_37_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_37_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_37_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var35", 10, "scn_walls_vladimir"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_eastern"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_eastern"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (party_set_slot, ":var35", 10, "scn_castle_walls_eastern"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_eastern"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_eastern"),
          (party_set_slot, ":var35", 27, 1),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_11"),
        (eq, ":var34", "fac_kingdom_14"),
        (store_random_in_range, ":var13", 1, 10),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var35", 10, "scn_walls_tonbridge"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_nordic"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_nordic"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var35", 10, "scn_castle_18_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_18_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_18_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 3),
          (party_set_slot, ":var35", 10, "scn_castle_19_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_19_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_19_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 4),
          (party_set_slot, ":var35", 10, "scn_castle_29_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_29_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_29_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 5),
          (party_set_slot, ":var35", 10, "scn_castle_39_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_39_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_39_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 6),
          (party_set_slot, ":var35", 10, "scn_walls_ragnhildsholmen"),
          (party_set_slot, ":var35", 11, "scn_castle_39_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_39_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 7),
          (party_set_slot, ":var35", 10, "scn_castle_cold"),
          (party_set_slot, ":var35", 11, "scn_castle_39_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_39_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 8),
          (party_set_slot, ":var35", 10, "scn_walls_lake"),
          (party_set_slot, ":var35", 11, "scn_castle_39_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_39_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (party_set_slot, ":var35", 10, "scn_castle_walls_nordic"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_nordic"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_nordic"),
          (party_set_slot, ":var35", 27, 1),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_16"),
        (this_or_next|eq, ":var34", "fac_kingdom_17"),
        (this_or_next|eq, ":var34", "fac_kingdom_18"),
        (eq, ":var34", "fac_kingdom_19"),
        (store_random_in_range, ":var13", 1, 4),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var35", 10, "scn_castle_2_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_2_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_2_prison"),
          (party_set_slot, ":var35", 27, 1),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var35", 10, "scn_castle_9_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_9_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_9_prison"),
          (party_set_slot, ":var35", 27, 1),
        (else_try),
          (party_set_slot, ":var35", 10, "scn_castle_17_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_17_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_17_prison"),
          (party_set_slot, ":var35", 27, 0),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var34", "fac_papacy"),
        (this_or_next|eq, ":var34", "fac_kingdom_32"),
        (this_or_next|eq, ":var34", "fac_kingdom_38"),
        (this_or_next|eq, ":var34", "fac_kingdom_39"),
        (this_or_next|eq, ":var34", "fac_kingdom_40"),
        (this_or_next|eq, ":var34", "fac_kingdom_41"),
        (eq, ":var34", "fac_kingdom_24"),
        (store_random_in_range, ":var13", 1, 11),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var35", 10, "scn_walls_motte_bailey_1"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var35", 10, "scn_walls_motte_bailey_1"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 3),
          (party_set_slot, ":var35", 10, "scn_walls_tonbridge"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 4),
          (party_set_slot, ":var35", 10, "scn_walls_pevensey"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 4),
          (party_set_slot, ":var35", 10, "scn_walls_york"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 5),
          (party_set_slot, ":var35", 10, "scn_walls_carlisle"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 6),
          (party_set_slot, ":var35", 10, "scn_walls_llansteffan"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 7),
          (party_set_slot, ":var35", 10, "scn_walls_beaumaris"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 8),
          (party_set_slot, ":var35", 10, "scn_walls_conwy"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 9),
          (party_set_slot, ":var35", 10, "scn_walls_hedingham"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (party_set_slot, ":var35", 10, "scn_castle_walls_italy"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_italy"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_italy"),
          (party_set_slot, ":var35", 27, 1),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_20"),
        (this_or_next|eq, ":var34", "fac_kingdom_23"),
        (this_or_next|eq, ":var34", "fac_kingdom_28"),
        (this_or_next|eq, ":var34", "fac_kingdom_31"),
        (eq, ":var34", "fac_kingdom_25"),
        (store_random_in_range, ":var13", 0, 7),
        (try_begin),
          (eq, ":var13", 0),
          (party_set_slot, ":var35", 10, "scn_castle_2_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_2_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_2_prison"),
          (party_set_slot, ":var35", 27, 1),
        (else_try),
          (eq, ":var13", 1),
          (party_set_slot, ":var35", 10, "scn_castle_42_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_42_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_42_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var35", 10, "scn_castle_43_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_43_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_43_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 3),
          (party_set_slot, ":var35", 10, "scn_castle_45_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_45_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_45_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 4),
          (party_set_slot, ":var35", 10, "scn_castle_46_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_46_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_46_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (eq, ":var13", 5),
          (party_set_slot, ":var35", 10, "scn_castle_47_exterior"),
          (party_set_slot, ":var35", 11, "scn_castle_47_interior"),
          (party_set_slot, ":var35", 12, "scn_castle_47_prison"),
          (party_set_slot, ":var35", 27, 0),
        (else_try),
          (party_set_slot, ":var35", 10, "scn_castle_walls_arab"),
          (party_set_slot, ":var35", 11, "scn_castle_interior_arab"),
          (party_set_slot, ":var35", 12, "scn_castle_prison_arab"),
          (party_set_slot, ":var35", 27, 0),
        (try_end),
      (else_try),
        (eq, ":var34", "fac_kingdom_27"),
        (party_set_slot, ":var35", 10, "scn_castle_walls_mongol"),
        (party_set_slot, ":var35", 11, "scn_castle_interior_mongol"),
        (party_set_slot, ":var35", 12, "scn_castle_prison_mongol"),
        (party_set_slot, ":var35", 27, 1),
      (try_end),
    (try_end),
    (party_set_slot, "p_castle_3_7", 10, "scn_walls_vladimir"),
    (party_set_slot, "p_castle_3_7", 27, 0),
    (party_set_slot, "p_castle_2_4", 10, "scn_walls_kernave"),
    (party_set_slot, "p_castle_2_4", 27, 0),
    (party_set_slot, "p_castle_3_6", 10, "scn_walls_moscow"),
    (party_set_slot, "p_castle_3_6", 11, "scn_interior_moscow"),
    (party_set_slot, "p_castle_3_6", 27, 0),
    (party_set_slot, "p_castle_3_2", 10, "scn_walls_vladimir_snow"),
    (party_set_slot, "p_castle_3_2", 27, 0),
    (party_set_slot, "p_castle_2_7", 10, "scn_walls_vladimir_snow"),
    (party_set_slot, "p_castle_2_7", 27, 0),
    (party_set_slot, "p_castle_2_8", 10, "scn_walls_moscow"),
    (party_set_slot, "p_castle_2_8", 27, 0),
    (party_set_slot, "p_castle_1_9", 10, "scn_walls_wenden"),
    (party_set_slot, "p_castle_1_9", 27, 1),
    (party_set_slot, "p_castle_1_7", 10, "scn_walls_treyden"),
    (party_set_slot, "p_castle_1_7", 27, 0),
    (party_set_slot, "p_castle_1_1", 10, "scn_walls_arensburg"),
    (party_set_slot, "p_castle_1_1", 27, 1),
    (party_set_slot, "p_castle_1_5", 10, "scn_walls_dorpat"),
    (party_set_slot, "p_castle_1_5", 27, 0),
    (party_set_slot, "p_castle_1_6", 10, "scn_walls_lemsahl"),
    (party_set_slot, "p_castle_1_6", 27, 0),
    (party_set_slot, "p_castle_1_8", 10, "scn_walls_marienwerder"),
    (party_set_slot, "p_castle_1_8", 27, 0),
    (party_set_slot, "p_castle_2_2", 10, "scn_walls_seiminiskeliai"),
    (party_set_slot, "p_castle_2_2", 27, 0),
    (party_set_slot, "p_castle_11_6", 10, "scn_walls_mann"),
    (party_set_slot, "p_castle_11_6", 27, 0),
    (party_set_slot, "p_castle_25_1", 10, "scn_walls_mansoura"),
    (party_set_slot, "p_castle_25_1", 27, 0),
    (party_set_slot, "p_town_23_1", 10, "scn_acre_center"),
    (party_set_slot, "p_town_23_1", 18, "scn_acre_walls"),
    (party_set_slot, "p_town_23_1", 27, 0),
    (party_set_slot, "p_town_9_1", 10, "scn_london_center"),
    (party_set_slot, "p_town_9_1", 18, "scn_london_walls"),
    (party_set_slot, "p_town_9_1", 27, 0),
    (party_set_slot, "p_town_3_3", 10, "scn_rus_center"),
    (party_set_slot, "p_town_3_3", 18, "scn_rus_walls"),
    (party_set_slot, "p_town_2_4", 10, "scn_rus_snow_center"),
    (party_set_slot, "p_town_2_4", 18, "scn_rus_snow_walls"),
    (party_set_slot, "p_town_3_3", 11, "scn_town_baltic_castle"),
    (party_set_slot, "p_town_3_3", 12, "scn_town_baltic_prison"),
    (party_set_slot, "p_town_3_3", 17, "scn_town_baltic_alley"),
    (party_set_slot, "p_town_3_3", 13, "scn_town_baltic_tavern"),
    (party_set_slot, "p_town_3_3", 14, "scn_town_baltic_store"),
    (party_set_slot, "p_town_3_3", 16, "scn_town_baltic_arena"),
    (party_set_slot, "p_town_3_3", 27, 0),
    (party_set_slot, "p_town_38_1", 11, "scn_town_italy_castle"),
    (party_set_slot, "p_town_38_1", 10, "scn_town_italy_center"),
    (party_set_slot, "p_town_38_1", 18, "scn_town_italy_walls_new"),
    (party_set_slot, "p_town_38_1", 27, 0),
    (party_set_slot, "p_town_39_1", 11, "scn_town_italy_castle"),
    (party_set_slot, "p_town_39_1", 10, "scn_town_italy_center"),
    (party_set_slot, "p_town_39_1", 18, "scn_town_italy_walls_new"),
    (party_set_slot, "p_town_39_1", 27, 0),
    (party_set_slot, "p_town_2_1", 10, "scn_vilnius_center"),
    (party_set_slot, "p_town_2_1", 18, "scn_vilnius_walls"),
    (party_set_slot, "p_town_2_1", 27, 0),
    (party_set_slot, "p_town_22_2", 10, "scn_smyrna_center"),
    (party_set_slot, "p_town_22_2", 18, "scn_smyrna_walls"),
    (party_set_slot, "p_town_22_2", 27, 0),
    (party_set_slot, "p_town_9_4", 10, "scn_york_center"),
    (party_set_slot, "p_town_27_4", 10, "scn_aleppo_center"),
    (party_set_slot, "p_town_27_4", 18, "scn_aleppo_walls"),
    (party_set_slot, "p_town_27_4", 27, 0),
    (party_set_slot, "p_town_26_1", 10, "scn_constantinople_center"),
    (party_set_slot, "p_town_32_1", 10, "scn_venice_center"),
    (party_set_slot, "p_town_6_1", 10, "scn_nuernberg_center"),
    (party_set_slot, "p_town_6_1", 11, "scn_nuernberg_castle"),
    (party_set_slot, "p_town_6_1", 12, "scn_nuernberg_prison"),
    (party_set_slot, "p_town_6_1", 18, "scn_nuernberg_walls"),
    (party_set_slot, "p_town_6_1", 13, "scn_nuernberg_tavern"),
    (party_set_slot, "p_town_6_1", 14, "scn_nuernberg_store"),
    (party_set_slot, "p_town_6_1", 16, "scn_nuernberg_arena"),
    (party_set_slot, "p_town_6_1", 27, 0),
    (party_set_slot, "p_town_9_2", 10, "scn_bristol_center"),
    (party_set_slot, "p_town_9_2", 18, "scn_bristol_walls"),
    (party_set_slot, "p_town_9_2", 27, 1),
    (party_set_slot, "p_castle_8_4", 10, "scn_walls_ladoga"),
    (party_set_slot, "p_castle_8_4", 27, 0),
    (party_set_slot, "p_castle_5_8", 10, "scn_walls_lublin"),
    (party_set_slot, "p_castle_5_8", 27, 0),
    (party_set_slot, "p_castle_23_1", 10, "scn_walls_krak"),
    (party_set_slot, "p_castle_23_1", 27, 0),
    (party_set_slot, "p_castle_2_5", 10, "scn_walls_taurapilis"),
    (party_set_slot, "p_castle_2_5", 27, 0),
    (party_set_slot, "p_castle_11_4", 10, "scn_walls_tunsberg"),
    (party_set_slot, "p_castle_11_4", 27, 0),
    (party_set_slot, "p_castle_6_5", 10, "scn_walls_munchen"),
    (party_set_slot, "p_castle_6_5", 27, 0),
    (party_set_slot, "p_castle_6_11", 10, "scn_walls_hohenburg"),
    (party_set_slot, "p_castle_6_11", 27, 0),
    (party_set_slot, "p_town_14_2", 10, "scn_oslo_center"),
    (party_set_slot, "p_town_23_6", 10, "scn_center_saphet"),
    (party_set_slot, "p_town_23_6", 18, "scn_walls_saphet"),
    (party_set_slot, "p_town_23_6", 27, 0),
    (party_set_slot, "p_town_25_5", 10, "scn_center_jerusalem"),
    (party_set_slot, "p_town_25_5", 18, "scn_walls_jerusalem"),
    (party_set_slot, "p_town_25_5", 27, 1),
    (party_set_slot, "p_town_23_4", 10, "scn_center_antioch"),
    (party_set_slot, "p_town_23_4", 18, "scn_walls_antioch"),
    (party_set_slot, "p_town_23_4", 27, 0),
    (party_set_slot, "p_castle_25_6", 10, "scn_walls_karak"),
    (party_set_slot, "p_castle_25_6", 27, 0),
    (party_set_slot, "p_castle_8_1", 10, "scn_walls_pskov"),
    (party_set_slot, "p_castle_8_1", 27, 0),
    (party_set_slot, "p_castle_5_4", 10, "scn_walls_opole"),
    (party_set_slot, "p_castle_5_4", 27, 0),
    (party_set_slot, "p_castle_6_6", 10, "scn_walls_brandenburg"),
    (party_set_slot, "p_castle_6_6", 27, 0),
    (party_set_slot, "p_castle_9_7", 10, "scn_walls_hedingham"),
    (party_set_slot, "p_castle_9_7", 11, "scn_castle_interior_euro"),
    (party_set_slot, "p_castle_9_7", 12, "scn_castle_prison_euro"),
    (party_set_slot, "p_castle_9_7", 27, 0),
    (party_set_slot, "p_castle_11_5", 10, "scn_walls_ragnhildsholmen"),
    (party_set_slot, "p_castle_11_5", 27, 0),
    (try_for_range, ":var37", "p_village_1_1", "p_salt_mine"),
      (store_sub, ":var17", ":var37", "p_village_1_1"),
      (store_faction_of_party, ":var34", ":var37"),
      (try_begin),
        (this_or_next|eq, ":var34", "fac_kingdom_5"),
        (this_or_next|eq, ":var34", "fac_kingdom_6"),
        (this_or_next|eq, ":var34", "fac_kingdom_4"),
        (this_or_next|eq, ":var34", "fac_kingdom_7"),
        (this_or_next|eq, ":var34", "fac_kingdom_37"),
        (this_or_next|eq, ":var34", "fac_kingdom_10"),
        (this_or_next|eq, ":var34", "fac_kingdom_12"),
        (this_or_next|eq, ":var34", "fac_kingdom_42"),
        (eq, ":var34", "fac_kingdom_13"),
        (store_random_in_range, ":var13", 1, 4),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var37", 10, "scn_village_euro"),
        (else_try),
          (eq, ":var13", 2),
          (party_set_slot, ":var37", 10, "scn_village_euro2"),
        (else_try),
          (party_set_slot, ":var37", 10, "scn_den_bosch"),
        (try_end),
      (else_try),
        (eq, ":var34", "fac_kingdom_9"),
        (party_set_slot, ":var37", 10, "scn_village_england"),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_22"),
        (this_or_next|eq, ":var34", "fac_kingdom_27"),
        (this_or_next|eq, ":var34", "fac_kingdom_29"),
        (this_or_next|eq, ":var34", "fac_kingdom_30"),
        (eq, ":var34", "fac_kingdom_26"),
        (store_random_in_range, ":var13", 1, 3),
        (try_begin),
          (eq, ":var13", 1),
          (party_set_slot, ":var37", 10, "scn_village_byz"),
        (else_try),
          (party_set_slot, ":var37", 10, "scn_village_byzantine"),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_8"),
        (eq, ":var34", "fac_kingdom_3"),
        (party_set_slot, ":var37", 10, "scn_village_eastern2"),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_1"),
        (this_or_next|eq, ":var34", "fac_kingdom_2"),
        (this_or_next|eq, ":var34", "fac_kingdom_33"),
        (this_or_next|eq, ":var34", "fac_kingdom_34"),
        (this_or_next|eq, ":var34", "fac_kingdom_35"),
        (this_or_next|eq, ":var34", "fac_kingdom_36"),
        (eq, ":var34", "fac_kingdom_15"),
        (party_set_slot, ":var37", 10, "scn_village_eastern"),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_11"),
        (eq, ":var34", "fac_kingdom_14"),
        (party_set_slot, ":var37", 10, "scn_village_nordic"),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_20"),
        (this_or_next|eq, ":var34", "fac_kingdom_16"),
        (this_or_next|eq, ":var34", "fac_kingdom_28"),
        (this_or_next|eq, ":var34", "fac_kingdom_31"),
        (this_or_next|eq, ":var34", "fac_kingdom_18"),
        (eq, ":var34", "fac_kingdom_19"),
        (party_set_slot, ":var37", 10, "scn_village_iberia"),
      (else_try),
        (this_or_next|eq, ":var34", "fac_papacy"),
        (this_or_next|eq, ":var34", "fac_kingdom_17"),
        (this_or_next|eq, ":var34", "fac_kingdom_32"),
        (this_or_next|eq, ":var34", "fac_kingdom_38"),
        (this_or_next|eq, ":var34", "fac_kingdom_39"),
        (this_or_next|eq, ":var34", "fac_kingdom_40"),
        (this_or_next|eq, ":var34", "fac_kingdom_41"),
        (eq, ":var34", "fac_kingdom_24"),
        (party_set_slot, ":var37", 10, "scn_village_italy"),
      (else_try),
        (this_or_next|eq, ":var34", "fac_kingdom_23"),
        (eq, ":var34", "fac_kingdom_25"),
        (party_set_slot, ":var37", 10, "scn_village_arab"),
      (try_end),
    (try_end),
    (party_set_slot, "p_castle_3_8", 10, "scn_castle_walls_euro"),
    (party_set_slot, "p_castle_3_8", 11, "scn_castle_interior_euro"),
    (party_set_slot, "p_castle_3_8", 12, "scn_castle_prison_euro"),
    (party_set_slot, "p_castle_3_8", 27, 0),
    (party_set_slot, "p_village_3_16", 10, "scn_village_euro"),
    (party_set_slot, "p_village_6_19", 10, "scn_den_bosch"),
    (party_set_slot, "p_village_4_15", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_4_14", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_4_3", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_11_5", 10, "scn_village_nordic2"),
    (party_set_slot, "p_village_11_8", 10, "scn_village_nordic2"),
    (party_set_slot, "p_village_11_10", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_11_11", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_11_1", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_11_3", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_14_3", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_14_5", 10, "scn_village_nordic3"),
    (party_set_slot, "p_village_1_8", 10, "scn_village_euro"),
    (party_set_slot, "p_village_1_9", 10, "scn_village_euro"),
    (party_set_slot, "p_village_1_14", 10, "scn_village_euro"),
    (party_set_slot, "p_village_1_1", 10, "scn_village_euro"),
    (party_set_slot, "p_village_1_2", 10, "scn_village_euro"),
    (party_set_slot, "p_village_1_17", 10, "scn_village_euro"),
    (party_set_slot, "p_village_10_12", 10, "scn_village_italy"),
    (party_set_slot, "p_village_10_10", 10, "scn_village_italy"),
    (party_set_slot, "p_village_10_15", 10, "scn_village_italy"),
    (party_set_slot, "p_village_10_19", 10, "scn_village_italy"),
    (party_set_slot, "p_village_10_17", 10, "scn_village_italy"),
    (party_set_slot, "p_village_28_2", 10, "scn_village_arab"),
    (party_set_slot, "p_village_28_9", 10, "scn_village_arab"),
    (party_set_slot, "p_village_28_1", 10, "scn_village_arab"),
    (party_set_slot, "p_village_28_10", 10, "scn_village_arab"),
    (party_set_slot, "p_village_3_5", 10, "scn_village_eastern"),
    (party_set_slot, "p_castle_3_3", 10, "scn_castle_walls_mongol"),
    (party_set_slot, "p_village_3_14", 10, "scn_village_eastern"),
    (party_set_slot, "p_village_3_10", 10, "scn_village_byz"),
    (party_set_slot, "p_village_2_16", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_2_15", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_2_4", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_2_8", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_2_3", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_2_2", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_1_3", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_1_10", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_1_15", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_1_13", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_1_11", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_1_6", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_1_7", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_4_5", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_4_6", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_14_4", 10, "scn_village_eastern2"),
    (party_set_slot, "p_village_12_1", 10, "scn_village_nordic"),
    (call_script, "script_randomly_start_war_peace_new", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (this_or_next|party_slot_eq, ":var3", 0, 3),
      (party_slot_eq, ":var3", 0, 4),
      (try_for_range, ":var38", 0, 4),
        (call_script, "script_center_set_walker_to_type", ":var3", ":var38", 0),
      (try_end),
    (try_end),
    (call_script, "script_initialize_economic_information"),
    (try_for_range, ":var37", "p_village_1_1", "p_salt_mine"),
      (call_script, "script_refresh_village_merchant_inventory", ":var37"),
      (call_script, "script_refresh_village_merchant_inventory", ":var37"),
    (try_end),
    (try_for_range, ":var39", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
      (try_begin),
        (troop_slot_eq, ":var39", 166, 1),
        (store_faction_of_troop, ":var40", ":var39"),
        (is_between, ":var40", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (troop_set_slot, ":var39", 14, ":var40"),
        (try_begin),
          (is_between, ":var39", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
          (faction_set_slot, ":var40", 60, 1),
        (try_end),
      (try_end),
      (assign, ":var41", 6000),
      (try_begin),
        (store_faction_of_troop, ":var31", ":var39"),
        (faction_slot_eq, ":var31", 11, ":var39"),
        (assign, ":var41", 15000),
      (try_end),
      (troop_set_slot, ":var39", 11, ":var41"),
    (try_end),
    (try_for_range, ":var42", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var31", ":var42"),
      (try_begin),
        (is_between, ":var42", "p_town_1_1", "p_castle_1_1"),
        (party_set_slot, ":var42", 261, 1),
        (party_set_slot, ":var42", 264, 1),
        (party_set_slot, ":var42", 267, 1),
        (party_set_slot, ":var42", 546, 1),
        (party_set_slot, ":var42", 547, 1),
        (party_set_slot, ":var42", 548, 1),
        (party_set_slot, ":var42", 549, 1),
        (party_set_slot, ":var42", 550, 1),
        (party_set_slot, ":var42", 551, 1),
        (party_set_slot, ":var42", 552, 1),
        (party_set_slot, ":var42", 553, 1),
        (party_set_slot, ":var42", 554, 1),
        (party_set_slot, ":var42", 555, 1),
        (party_set_slot, ":var42", 556, 1),
        (party_set_slot, ":var42", 557, 1),
        (party_set_slot, ":var42", 558, 1),
        (party_set_slot, ":var42", 592, 1),
        (party_set_slot, ":var42", 594, 1),
        (party_set_slot, ":var42", 593, 1),
        (party_set_slot, ":var42", 561, 1),
        (party_set_slot, ":var42", 562, 1),
        (party_set_slot, ":var42", 563, 1),
        (party_set_slot, ":var42", 564, 1),
        (party_set_slot, ":var42", 566, 1),
        (party_set_slot, ":var42", 567, 1),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var42", "p_town_3_1"),
        (this_or_next|eq, ":var42", "p_town_27_1"),
        (eq, ":var42", "p_town_27_4"),
        (party_set_slot, ":var42", 260, 31),
        (party_set_slot, ":var42", 262, "pt_company_kwarezmian_1"),
        (party_set_slot, ":var42", 475, 1),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_1"),
        (this_or_next|eq, ":var31", "fac_kingdom_5"),
        (this_or_next|eq, ":var31", "fac_kingdom_6"),
        (this_or_next|eq, ":var31", "fac_kingdom_7"),
        (this_or_next|eq, ":var31", "fac_kingdom_9"),
        (this_or_next|eq, ":var31", "fac_kingdom_10"),
        (this_or_next|eq, ":var31", "fac_kingdom_12"),
        (this_or_next|eq, ":var31", "fac_kingdom_41"),
        (this_or_next|eq, ":var31", "fac_kingdom_42"),
        (eq, ":var31", "fac_kingdom_37"),
        (party_set_slot, ":var42", 260, 1),
        (party_set_slot, ":var42", 262, "pt_generic_euro"),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_2"),
        (this_or_next|eq, ":var31", "fac_kingdom_33"),
        (this_or_next|eq, ":var31", "fac_kingdom_34"),
        (this_or_next|eq, ":var31", "fac_kingdom_35"),
        (eq, ":var31", "fac_kingdom_36"),
        (party_set_slot, ":var42", 260, 2),
        (party_set_slot, ":var42", 262, "pt_generic_balt"),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_4"),
        (this_or_next|eq, ":var31", "fac_kingdom_11"),
        (eq, ":var31", "fac_kingdom_14"),
        (party_set_slot, ":var42", 260, 8),
        (party_set_slot, ":var42", 262, "pt_generic_scan"),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_3"),
        (this_or_next|eq, ":var31", "fac_kingdom_8"),
        (eq, ":var31", "fac_kingdom_15"),
        (party_set_slot, ":var42", 260, 5),
        (party_set_slot, ":var42", 262, "pt_generic_rus"),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_16"),
        (this_or_next|eq, ":var31", "fac_kingdom_17"),
        (this_or_next|eq, ":var31", "fac_kingdom_18"),
        (this_or_next|eq, ":var31", "fac_kingdom_19"),
        (this_or_next|eq, ":var31", "fac_kingdom_26"),
        (this_or_next|eq, ":var31", "fac_papacy"),
        (this_or_next|eq, ":var31", "fac_kingdom_23"),
        (this_or_next|eq, ":var31", "fac_kingdom_24"),
        (this_or_next|eq, ":var31", "fac_kingdom_38"),
        (this_or_next|eq, ":var31", "fac_kingdom_39"),
        (this_or_next|eq, ":var31", "fac_kingdom_40"),
        (this_or_next|eq, ":var31", "fac_kingdom_27"),
        (eq, ":var31", "fac_kingdom_32"),
        (party_set_slot, ":var42", 260, 6),
        (party_set_slot, ":var42", 262, "pt_generic_latin"),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_22"),
        (this_or_next|eq, ":var31", "fac_kingdom_29"),
        (eq, ":var31", "fac_kingdom_30"),
        (party_set_slot, ":var42", 260, 7),
        (party_set_slot, ":var42", 262, "pt_generic_balkan"),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_20"),
        (eq, ":var31", "fac_kingdom_31"),
        (party_set_slot, ":var42", 260, 4),
        (party_set_slot, ":var42", 262, "pt_generic_maghreb"),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_28"),
        (eq, ":var31", "fac_kingdom_25"),
        (party_set_slot, ":var42", 260, 10),
        (party_set_slot, ":var42", 262, "pt_generic_mamluk"),
      (else_try),
        (eq, ":var31", "fac_kingdom_13"),
        (party_set_slot, ":var42", 260, 9),
        (party_set_slot, ":var42", 262, "pt_generic_gaelic_1"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var42", "p_town_3_3"),
        (eq, ":var42", "p_town_3_4"),
        (party_set_slot, ":var42", 263, 33),
        (party_set_slot, ":var42", 265, "pt_company_kipchak_1"),
        (party_set_slot, ":var42", 472, 1),
      (else_try),
        (eq, ":var42", "p_town_38_1"),
        (party_set_slot, ":var42", 263, 28),
        (party_set_slot, ":var42", 265, "pt_company_genoese_1"),
        (party_set_slot, ":var42", 477, 1),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_8"),
        (eq, ":var42", "p_town_3_2"),
        (party_set_slot, ":var42", 263, 32),
        (party_set_slot, ":var42", 265, "pt_company_mordovian"),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_37"),
        (eq, ":var31", "fac_kingdom_9"),
        (party_set_slot, ":var42", 263, 29),
        (party_set_slot, ":var42", 265, "pt_company_welsh_1"),
        (party_set_slot, ":var42", 480, 1),
      (else_try),
        (eq, ":var31", "fac_kingdom_23"),
        (party_set_slot, ":var42", 263, 23),
        (party_set_slot, ":var42", 265, "pt_company_turkopoles_1"),
        (party_set_slot, ":var42", 476, 1),
      (else_try),
        (eq, ":var31", "fac_kingdom_27"),
        (party_set_slot, ":var42", 263, 21),
        (party_set_slot, ":var42", 265, "pt_company_georgian_1"),
        (party_set_slot, ":var42", 474, 1),
      (else_try),
        (this_or_next|eq, ":var31", "fac_kingdom_3"),
        (eq, ":var31", "fac_kingdom_7"),
        (party_set_slot, ":var42", 263, 24),
        (party_set_slot, ":var42", 265, "pt_company_cuman_1"),
        (party_set_slot, ":var42", 471, 1),
      (else_try),
        (eq, ":var42", "p_town_6_2"),
        (party_set_slot, ":var42", 263, 20),
        (party_set_slot, ":var42", 265, "pt_company_brabantine_1"),
        (party_set_slot, ":var42", 479, 1),
      (else_try),
        (eq, ":var31", "fac_kingdom_24"),
        (party_set_slot, ":var42", 263, 22),
        (party_set_slot, ":var42", 265, "pt_company_sicily"),
      (else_try),
        (eq, ":var31", "fac_kingdom_25"),
        (party_set_slot, ":var42", 266, 30),
        (party_set_slot, ":var42", 268, "pt_company_mamlukes_1"),
        (party_set_slot, ":var42", 468, 1),
      (try_end),
      (try_begin),
        (eq, ":var31", "fac_kingdom_23"),
        (store_random_in_range, ":var43", 461, 468),
        (store_sub, ":var17", ":var43", 461),
        (assign, ":var44", "pt_company_teutonic_1"),
        (val_add, ":var44", ":var17"),
        (assign, ":var45", 51),
        (val_add, ":var45", ":var17"),
        (party_set_slot, ":var42", 266, ":var45"),
        (party_set_slot, ":var42", ":var43", 1),
        (party_set_slot, ":var42", 268, ":var44"),
      (try_end),
      (store_random_in_range, ":var4", 20, 25),
      (party_set_slot, ":var3", 93, ":var4"),
    (try_end),
    (try_for_range, ":var46", "trp_npc1", "trp_kingdom_1_lord"),
      (try_for_range, ":var47", "trp_npc1", "trp_kingdom_1_lord"),
        (neq, ":var47", ":var46"),
        (neg|troop_slot_eq, ":var46", 71, ":var47"),
        (neg|troop_slot_eq, ":var46", 73, ":var47"),
        (call_script, "script_troop_change_relation_with_troop", ":var46", ":var47", 7),
      (try_end),
    (try_end),
    (try_for_range, ":var48", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var48", 166, 1),
      (troop_slot_eq, ":var48", 2, 2),
      (troop_get_slot, ":var49", ":var48", 14),
      (try_for_range, ":var50", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var50", 166, 1),
        (this_or_next|troop_slot_eq, ":var50", 2, 2),
        (troop_slot_eq, ":var50", 2, 9),
        (troop_get_slot, ":var51", ":var50", 14),
        (eq, ":var51", ":var49"),
        (call_script, "script_troop_get_family_relation_to_troop", ":var48", ":var50"),
        (call_script, "script_troop_change_relation_with_troop", ":var48", ":var50", reg0),
        (store_random_in_range, ":var5", 0, 11),
        (call_script, "script_troop_change_relation_with_troop", ":var48", ":var50", ":var5"),
      (try_end),
    (try_end),
    (try_for_range, ":var12", 0, 15000),
      (call_script, "script_cf_random_political_event"),
    (try_end),
    (assign, "$total_random_quarrel_changes", 0),
    (assign, "$total_relation_adds", 0),
    (assign, "$total_relation_subs", 0),
    (try_for_range, ":var52", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var52", 21, 0),
      (call_script, "script_evaluate_realm_stability", ":var52"),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg3, "$cheat_mode"),
      (display_message, "@{!}DEBUG : Completed political events, cheat mode: {reg3}"),
    (try_end),
    (try_for_range, ":var53", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
      (troop_slot_eq, ":var53", 166, 1),
      (troop_slot_eq, ":var53", 30, -1),
      (neg|is_between, ":var53", "trp_kingdom_1_lord", "trp_knight_1_1"),
      (neg|is_between, ":var53", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (call_script, "script_assign_troop_love_interests", ":var53"),
    (try_end),
    (store_random_in_range, "$romantic_attraction_seed", 0, 5),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg3, "$romantic_attraction_seed"),
      (display_message, "@{!}DEBUG : Assigned love interests. Attraction seed: {reg3}"),
    (try_end),
    (call_script, "script_spawn_manors"),
    (try_for_range, ":var12", 0, 20),
      (call_script, "script_spawn_bandits"),
    (try_end),
    (set_spawn_radius, 5),
    (try_for_range, ":var54", "p_village_1_1", "p_salt_mine"),
      (store_random_in_range, ":var55", 0, 5),
      (eq, ":var55", 0),
      (spawn_around_party, ":var54", "pt_looters"),
    (try_end),
    (call_script, "script_update_mercenary_units_of_towns"),
    (call_script, "script_update_companion_candidates_in_taverns"),
    (call_script, "script_update_ransom_brokers"),
    (call_script, "script_update_tavern_travellers"),
    (call_script, "script_update_tavern_minstrels"),
    (call_script, "script_update_booksellers"),
    (call_script, "script_update_other_taverngoers"),
    (try_for_range, ":var12", 0, 5),
      (call_script, "script_spawn_balts"),
    (try_end),
    (try_for_range, ":var12", 0, 6),
      (call_script, "script_cf_spawn_crusaders_and_jihadists"),
    (try_end),
    (call_script, "script_spawn_peasant_rebels"),
    (call_script, "script_prepare_manor_troops"),
    (call_script, "script_update_manor_infested_by_bandits"),
    (call_script, "script_spawn_mongols"),
    (try_for_range, ":var56", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var56", 21, 0),
      (call_script, "script_update_faction_notes", ":var56"),
      (store_random_in_range, ":var13", -60, 0),
      (faction_set_slot, ":var2", 95, ":var13"),
    (try_end),
    (try_for_range, ":var53", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var53", 166, 1),
      (call_script, "script_update_troop_notes", ":var53"),
    (try_end),
    (try_for_range, ":var57", "p_town_1_1", "p_salt_mine"),
      (call_script, "script_update_center_notes", ":var57"),
    (try_end),
    (call_script, "script_update_troop_notes", "trp_player"),
    (try_for_range, ":var39", "trp_knight_1_1_wife", "trp_heroes_end"),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var39"),
      (troop_set_slot, ":var39", 12, reg1),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg3, "$cheat_mode"),
      (display_message, "@{!}DEBUG : Located kingdom ladies, cheat mode: {reg3}"),
    (try_end),
    (try_for_range, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var2", 21, 0),
      (call_script, "script_faction_recalculate_strength", ":var2"),
    (try_end),
    (faction_set_slot, "fac_kingdom_1", 22, "str_kingdom_1_adjective"),
    (faction_set_slot, "fac_kingdom_2", 22, "str_kingdom_2_adjective"),
    (faction_set_slot, "fac_kingdom_3", 22, "str_kingdom_3_adjective"),
    (faction_set_slot, "fac_kingdom_4", 22, "str_kingdom_4_adjective"),
    (faction_set_slot, "fac_kingdom_5", 22, "str_kingdom_5_adjective"),
    (faction_set_slot, "fac_kingdom_6", 22, "str_kingdom_6_adjective"),
    (faction_set_slot, "fac_kingdom_7", 22, "str_kingdom_7_adjective"),
    (faction_set_slot, "fac_kingdom_8", 22, "str_kingdom_8_adjective"),
    (faction_set_slot, "fac_kingdom_9", 22, "str_kingdom_9_adjective"),
    (faction_set_slot, "fac_kingdom_10", 22, "str_kingdom_10_adjective"),
    (faction_set_slot, "fac_kingdom_11", 22, "str_kingdom_11_adjective"),
    (faction_set_slot, "fac_kingdom_12", 22, "str_kingdom_12_adjective"),
    (faction_set_slot, "fac_kingdom_13", 22, "str_kingdom_13_adjective"),
    (faction_set_slot, "fac_kingdom_14", 22, "str_kingdom_14_adjective"),
    (faction_set_slot, "fac_kingdom_15", 22, "str_kingdom_15_adjective"),
    (faction_set_slot, "fac_kingdom_16", 22, "str_kingdom_16_adjective"),
    (faction_set_slot, "fac_kingdom_17", 22, "str_kingdom_17_adjective"),
    (faction_set_slot, "fac_kingdom_18", 22, "str_kingdom_18_adjective"),
    (faction_set_slot, "fac_kingdom_19", 22, "str_kingdom_19_adjective"),
    (faction_set_slot, "fac_kingdom_20", 22, "str_kingdom_20_adjective"),
    (faction_set_slot, "fac_papacy", 22, "str_kingdom_21_adjective"),
    (faction_set_slot, "fac_kingdom_22", 22, "str_kingdom_22_adjective"),
    (faction_set_slot, "fac_kingdom_23", 22, "str_kingdom_23_adjective"),
    (faction_set_slot, "fac_kingdom_24", 22, "str_kingdom_24_adjective"),
    (faction_set_slot, "fac_kingdom_25", 22, "str_kingdom_25_adjective"),
    (faction_set_slot, "fac_kingdom_26", 22, "str_kingdom_26_adjective"),
    (faction_set_slot, "fac_kingdom_27", 22, "str_kingdom_27_adjective"),
    (faction_set_slot, "fac_kingdom_28", 22, "str_kingdom_28_adjective"),
    (faction_set_slot, "fac_kingdom_29", 22, "str_kingdom_29_adjective"),
    (faction_set_slot, "fac_kingdom_30", 22, "str_kingdom_30_adjective"),
    (faction_set_slot, "fac_kingdom_31", 22, "str_kingdom_31_adjective"),
    (faction_set_slot, "fac_kingdom_32", 22, "str_kingdom_32_adjective"),
    (faction_set_slot, "fac_kingdom_33", 22, "str_kingdom_33_adjective"),
    (faction_set_slot, "fac_kingdom_34", 22, "str_kingdom_34_adjective"),
    (faction_set_slot, "fac_kingdom_35", 22, "str_kingdom_35_adjective"),
    (faction_set_slot, "fac_kingdom_36", 22, "str_kingdom_36_adjective"),
    (faction_set_slot, "fac_kingdom_37", 22, "str_kingdom_37_adjective"),
    (faction_set_slot, "fac_kingdom_38", 22, "str_kingdom_38_adjective"),
    (faction_set_slot, "fac_kingdom_39", 22, "str_kingdom_39_adjective"),
    (faction_set_slot, "fac_kingdom_40", 22, "str_kingdom_40_adjective"),
    (faction_set_slot, "fac_kingdom_41", 22, "str_kingdom_41_adjective"),
    (faction_set_slot, "fac_kingdom_42", 22, "str_kingdom_42_adjective"),
    (call_script, "script_get_player_party_morale_values"),
    (party_set_morale, "p_main_party", reg0),
    (try_for_range, ":var18", "p_town_1_1", "p_castle_1_1"),
      (store_random_in_range, ":var58", 15000, 30000),
      (party_set_slot, ":var18", 298, ":var58"),
      (val_div, ":var58", 200),
      (party_set_slot, ":var18", 295, ":var58"),
    (try_end),
    (try_for_range, ":var18", "p_village_1_1", "p_salt_mine"),
      (store_random_in_range, ":var58", 800, 2000),
      (party_set_slot, ":var18", 298, ":var58"),
      (val_div, ":var58", 200),
      (party_set_slot, ":var18", 295, ":var58"),
    (try_end),
    (troop_set_note_available, "trp_player", 1),
    (try_for_range, ":var28", "trp_kingdom_1_lord", "trp_knight_1_1"),
      (troop_set_note_available, ":var28", 1),
    (try_end),
    (try_for_range, ":var28", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
      (troop_slot_eq, ":var28", 166, 1),
      (troop_set_note_available, ":var28", 1),
    (try_end),
    (try_for_range, ":var28", "trp_knight_1_1_wife", "trp_heroes_end"),
      (troop_set_note_available, ":var28", 1),
    (try_end),
    (troop_set_note_available, "trp_knight_1_1_wife", 0),
    (try_for_range, ":var28", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (troop_set_note_available, ":var28", 1),
    (try_end),
    (try_for_range, ":var2", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_slot_eq, ":var2", 21, 0),
      (faction_set_note_available, ":var2", 1),
      (faction_set_slot, ":var2", 103, 0),
    (try_end),
    (faction_set_note_available, "fac_neutral", 0),
    (try_for_range, ":var59", "p_town_1_1", "p_salt_mine"),
      (party_set_note_available, ":var59", 1),
    (try_end),
    (party_set_note_available, "p_castle_player", 0),
    (party_set_note_available, "p_village_player", 0),
    (try_for_range, ":var37", "p_village_1_1", "p_salt_mine"),
      (call_script, "script_update_volunteer_troops_in_village", ":var37"),
    (try_end),
    (try_for_range, ":var37", "p_town_1_1", "p_castle_1_1"),
      (call_script, "script_update_volunteer_troops_in_village", ":var37"),
      (call_script, "script_update_npc_volunteer_troops_in_village", ":var37"),
    (try_end),
    (try_for_range, ":var37", "p_castle_1_1", "p_village_1_1"),
      (call_script, "script_update_volunteer_troops_in_village", ":var37"),
      (call_script, "script_update_npc_volunteer_troops_in_village", ":var37"),
    (try_end),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_2_lord", "trp_kingdom_4_lord", -15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_4_lord", "trp_kingdom_2_lord", -15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_14_lord", "trp_kingdom_2_lord", -15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_2_lord", "trp_kingdom_14_lord", -15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_15_lord", "trp_kingdom_2_lord", 5),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_2_lord", "trp_kingdom_15_lord", 5),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_5_lord", "trp_kingdom_2_lord", 5),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_2_lord", "trp_kingdom_5_lord", 5),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_15_lord", "trp_kingdom_3_lord", -5),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_8_lord", "trp_kingdom_3_lord", 15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_3_lord", "trp_kingdom_8_lord", 15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_1_lord", "trp_kingdom_2_lord", -15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_2_lord", "trp_kingdom_1_lord", -15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_13_lord", "trp_kingdom_9_lord", -15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_9_lord", "trp_kingdom_13_lord", -15),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_12_lord", "trp_kingdom_9_lord", -2),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_9_lord", "trp_kingdom_12_lord", -2),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_10_lord", "trp_kingdom_9_lord", -10),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_9_lord", "trp_kingdom_10_lord", -10),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_17_lord", "trp_kingdom_20_lord", 5),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_20_lord", "trp_kingdom_17_lord", 5),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_3_lord", "trp_kingdom_27_lord", -10),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_27_lord", "trp_kingdom_3_lord", -10),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_23_lord", "trp_kingdom_25_lord", -50),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_25_lord", "trp_kingdom_23_lord", -50),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_22_lord", "trp_kingdom_26_lord", -50),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_29_lord", "trp_kingdom_22_lord", -3),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_30_lord", "trp_kingdom_22_lord", -3),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_29_lord", "trp_kingdom_30_lord", -1),
    (call_script, "script_troop_change_relation_with_troop", "trp_kingdom_30_lord", "trp_kingdom_29_lord", -1),
    (try_for_range, ":var12", 0, 100),
      (call_script, "script_cf_random_political_event"),
    (try_end),
    (call_script, "script_initialize_item_banners"),
    (call_script, "script_refresh_center_inventories"),
    (call_script, "script_refresh_center_armories"),
    (call_script, "script_refresh_center_weaponsmiths"),
    (call_script, "script_refresh_center_stables"),
    (try_begin),
      (assign, "$g_current_factions_active_temp", 0),
      (try_for_range, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var1", 21, 0),
        (val_add, "$g_current_factions_active_temp", 1),
      (try_end),
      (assign, "$g_current_factions_active", "$g_current_factions_active_temp"),
    (try_end),
    (try_for_range, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_set_slot, ":var1", 120, 0),
      (faction_set_slot, ":var1", 121, 0),
      (faction_set_slot, ":var1", 122, 0),
      (faction_set_slot, ":var1", 123, 0),
      (faction_set_slot, ":var1", 124, 0),
      (faction_set_slot, ":var1", 125, 0),
      (faction_set_slot, ":var1", 126, 0),
      (faction_set_slot, ":var1", 127, 0),
      (faction_set_slot, ":var1", 128, 0),
      (faction_set_slot, ":var1", 129, 0),
      (faction_set_slot, ":var1", 130, 0),
      (faction_set_slot, ":var1", 131, 0),
      (faction_set_slot, ":var1", 132, 0),
      (faction_set_slot, ":var1", 133, 0),
    (try_end),
    (call_script, "script_init_kingdoms_marshalls"),
    (set_show_messages, 1),
    (assign, "$cstm_items_array", "trp_cstm_items_horses"),
    (try_for_range, ":var60", "trp_cstm_custom_troop_1_tier_0_0_0", "trp_cstm_custom_troops_end"),
      (troop_set_class, ":var60", 0),
      (troop_get_upgrade_troop, ":var61", ":var60", 0),
      (gt, ":var61", 0),
      (troop_set_slot, ":var61", 502, ":var60"),
      (troop_get_upgrade_troop, ":var61", ":var60", 1),
      (gt, ":var61", 0),
      (troop_set_slot, ":var61", 502, ":var60"),
    (try_end),
    (call_script, "script_cstm_setup_item_arrays"),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 0, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 1, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 2, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 3, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 4, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 5, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 6, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 7, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 8, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 9, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 10, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 11, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 12, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 13, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 14, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 15, 0),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 16, 1),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 17, 1),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 18, 2),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 19, 3),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 20, 3),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 21, 4),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 22, 5),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 23, 5),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 24, 6),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 25, 7),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 26, 7),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 27, 8),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 28, 9),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 29, 9),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 30, 10),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 31, 11),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 32, 11),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 33, 12),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 34, 13),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 35, 14),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 36, 14),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 37, 15),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 38, 16),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 39, 17),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 40, 18),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 41, 18),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 42, 19),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 43, 20),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 44, 21),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 45, 22),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 46, 22),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 47, 23),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 48, 24),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 49, 25),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 50, 26),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 51, 27),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 52, 28),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 53, 30),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 54, 31),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 55, 32),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 56, 34),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 57, 35),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 58, 37),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 59, 38),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 60, 39),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 61, 41),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 62, 42),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 63, 44),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 64, 46),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 65, 47),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 66, 49),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 67, 51),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 68, 53),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 69, 55),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 70, 58),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 71, 60),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 72, 62),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 73, 65),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 74, 68),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 75, 70),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 76, 73),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 77, 76),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 78, 79),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 79, 82),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 80, 85),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 81, 89),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 82, 92),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 83, 96),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 84, 99),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 85, 103),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 86, 107),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 87, 111),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 88, 115),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 89, 119),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 90, 124),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 91, 128),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 92, 133),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 93, 137),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 94, 142),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 95, 147),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 96, 152),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 97, 157),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 98, 163),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 99, 168),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 100, 173),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 101, 182),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 102, 191),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 103, 200),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 104, 209),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 105, 219),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 106, 229),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 107, 239),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 108, 249),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 109, 259),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 110, 270),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 111, 280),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 112, 291),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 113, 302),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 114, 314),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 115, 325),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 116, 337),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 117, 349),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 118, 362),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 119, 374),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 120, 387),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 121, 400),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 122, 413),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 123, 426),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 124, 440),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 125, 454),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 126, 468),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 127, 482),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 128, 497),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 129, 512),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 130, 527),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 131, 542),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 132, 558),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 133, 574),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 134, 590),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 135, 606),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 136, 623),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 137, 639),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 138, 657),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 139, 674),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 140, 692),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 141, 709),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 142, 728),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 143, 746),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 144, 765),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 145, 784),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 146, 803),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 147, 822),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 148, 842),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 149, 862),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 150, 882),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 151, 914),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 152, 946),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 153, 979),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 154, 1012),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 155, 1045),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 156, 1079),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 157, 1113),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 158, 1148),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 159, 1183),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 160, 1219),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 161, 1255),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 162, 1292),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 163, 1329),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 164, 1366),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 165, 1404),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 166, 1442),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 167, 1481),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 168, 1521),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 169, 1561),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 170, 1601),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 171, 1642),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 172, 1683),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 173, 1725),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 174, 1767),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 175, 1810),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 176, 1853),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 177, 1897),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 178, 1941),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 179, 1986),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 180, 2031),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 181, 2077),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 182, 2123),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 183, 2170),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 184, 2217),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 185, 2265),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 186, 2313),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 187, 2362),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 188, 2412),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 189, 2462),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 190, 2512),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 191, 2563),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 192, 2614),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 193, 2667),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 194, 2719),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 195, 2772),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 196, 2826),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 197, 2880),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 198, 2935),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 199, 2990),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 200, 3046),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 201, 3133),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 202, 3221),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 203, 3309),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 204, 3399),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 205, 3489),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 206, 3580),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 207, 3672),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 208, 3765),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 209, 3859),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 210, 3954),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 211, 4050),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 212, 4146),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 213, 4244),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 214, 4342),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 215, 4442),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 216, 4542),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 217, 4643),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 218, 4745),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 219, 4848),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 220, 4952),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 221, 5057),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 222, 5163),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 223, 5270),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 224, 5377),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 225, 5486),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 226, 5596),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 227, 5706),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 228, 5818),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 229, 5930),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 230, 6044),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 231, 6159),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 232, 6274),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 233, 6391),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 234, 6508),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 235, 6627),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 236, 6746),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 237, 6867),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 238, 6988),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 239, 7111),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 240, 7234),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 241, 7359),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 242, 7484),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 243, 7611),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 244, 7738),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 245, 7867),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 246, 7997),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 247, 8128),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 248, 8259),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 249, 8392),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 250, 8526),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 251, 8734),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 252, 8943),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 253, 9154),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 254, 9366),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 255, 9581),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 256, 9797),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 257, 10014),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 258, 10233),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 259, 10454),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 260, 10677),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 261, 10901),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 262, 11127),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 263, 11355),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 264, 11584),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 265, 11816),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 266, 12048),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 267, 12283),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 268, 12519),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 269, 12758),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 270, 12997),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 271, 13239),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 272, 13482),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 273, 13727),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 274, 13974),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 275, 14223),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 276, 14473),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 277, 14725),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 278, 14979),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 279, 15235),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 280, 15493),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 281, 15753),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 282, 16014),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 283, 16277),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 284, 16542),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 285, 16809),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 286, 17077),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 287, 17348),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 288, 17620),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 289, 17894),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 290, 18170),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 291, 18448),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 292, 18728),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 293, 19010),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 294, 19294),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 295, 19579),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 296, 19866),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 297, 20156),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 298, 20447),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 299, 20740),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 300, 21035),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 301, 21491),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 302, 21953),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 303, 22414),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 304, 22882),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 305, 23350),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 306, 23823),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 307, 24298),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 308, 24776),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 309, 25257),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 310, 25740),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 311, 26229),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 312, 26718),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 313, 27213),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 314, 27710),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 315, 28209),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 316, 28713),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 317, 29217),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 318, 29728),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 319, 30240),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 320, 30755),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 321, 31275),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 322, 31795),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 323, 32321),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 324, 32850),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 325, 33379),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 326, 33916),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 327, 34454),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 328, 34994),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 329, 35540),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 330, 36086),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 331, 36638),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 332, 37193),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 333, 37748),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 334, 38311),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 335, 38876),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 336, 39441),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 337, 40013),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 338, 40588),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 339, 41163),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 340, 41745),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 341, 42330),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 342, 42916),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 343, 43508),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 344, 44103),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 345, 44699),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 346, 45300),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 347, 45907),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 348, 46514),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 349, 47122),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 350, 47741),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 351, 48698),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 352, 49661),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 353, 50625),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 354, 51589),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 355, 52553),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 356, 53530),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 357, 54523),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 358, 55516),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 359, 56509),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 360, 57502),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 361, 58495),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 362, 59517),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 363, 60541),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 364, 61565),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 365, 62589),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 366, 63613),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 367, 64642),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 368, 65699),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 369, 66756),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 370, 67813),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 371, 68870),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 372, 69927),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 373, 70987),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 374, 72079),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 375, 73171),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 376, 74263),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 377, 75356),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 378, 76448),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 379, 77540),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 380, 78658),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 381, 79788),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 382, 80918),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 383, 82048),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 384, 83177),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 385, 84307),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 386, 85437),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 387, 86605),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 388, 87776),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 389, 88946),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 390, 90116),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 391, 91287),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 392, 92457),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 393, 93627),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 394, 94835),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 395, 96048),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 396, 97262),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 397, 98475),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 398, 99689),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 399, 100903),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 400, 102116),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 401, 104044),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 402, 105971),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 403, 107899),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 404, 109826),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 405, 111754),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 406, 113681),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 407, 115609),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 408, 117536),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 409, 119464),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 410, 121450),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 411, 123498),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 412, 125546),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 413, 127594),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 414, 129642),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 415, 131690),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 416, 133738),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 417, 135786),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 418, 137834),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 419, 139882),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 420, 141930),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 421, 143978),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 422, 146026),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 423, 148105),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 424, 150290),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 425, 152475),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 426, 154659),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 427, 156844),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 428, 159028),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 429, 161213),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 430, 163397),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 431, 165582),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 432, 167766),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 433, 169951),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 434, 172135),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 435, 174320),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 436, 176504),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 437, 178689),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 438, 180970),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 439, 183310),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 440, 185651),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 441, 187991),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 442, 190332),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 443, 192672),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 444, 195013),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 445, 197354),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 446, 199694),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 447, 202035),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 448, 204375),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 449, 206716),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 450, 209056),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 451, 212697),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 452, 216338),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 453, 219979),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 454, 223619),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 455, 227260),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 456, 230901),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 457, 234542),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 458, 238183),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 459, 241824),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 460, 245465),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 461, 249106),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 462, 253194),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 463, 257290),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 464, 261386),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 465, 265482),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 466, 269578),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 467, 273674),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 468, 277770),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 469, 281866),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 470, 285962),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 471, 290058),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 472, 294154),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 473, 298250),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 474, 302346),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 475, 306442),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 476, 310538),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 477, 314634),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 478, 318730),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 479, 322826),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 480, 326922),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 481, 331018),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 482, 335114),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 483, 339210),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 484, 343306),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 485, 347402),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 486, 351498),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 487, 355594),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 488, 359690),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 489, 363786),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 490, 367882),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 491, 371978),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 492, 376447),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 493, 381128),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 494, 385810),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 495, 390491),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 496, 395172),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 497, 399853),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 498, 404534),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 499, 409215),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 500, 413896),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 501, 420450),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 502, 427003),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 503, 433557),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 504, 440110),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 505, 446664),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 506, 453218),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 507, 459771),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 508, 466325),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 509, 472878),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 510, 479432),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 511, 485986),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 512, 492869),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 513, 501061),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 514, 509253),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 515, 517445),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 516, 525637),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 517, 533829),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 518, 542021),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 519, 550213),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 520, 558405),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 521, 566597),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 522, 574789),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 523, 582981),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 524, 591173),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 525, 599365),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 526, 607557),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 527, 615749),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 528, 623941),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 529, 632133),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 530, 640325),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 531, 648517),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 532, 656709),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 533, 664901),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 534, 673093),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 535, 681285),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 536, 689477),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 537, 697669),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 538, 705861),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 539, 714053),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 540, 722245),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 541, 730437),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 542, 738629),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 543, 746821),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 544, 755013),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 545, 763205),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 546, 771397),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 547, 779589),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 548, 787781),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 549, 795973),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 550, 804165),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 551, 820548),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 552, 836932),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 553, 853316),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 554, 869700),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 555, 886084),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 556, 902468),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 557, 918852),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 558, 935236),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 559, 951620),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 560, 968004),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 561, 984388),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 562, 1000772),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 563, 1017156),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 564, 1033540),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 565, 1049924),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 566, 1066308),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 567, 1082692),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 568, 1099076),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 569, 1115460),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 570, 1131844),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 571, 1148228),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 572, 1164612),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 573, 1180996),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 574, 1197380),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 575, 1213764),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 576, 1230148),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 577, 1246532),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 578, 1262916),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 579, 1279300),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 580, 1295684),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 581, 1312068),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 582, 1328452),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 583, 1344836),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 584, 1361220),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 585, 1377604),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 586, 1393988),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 587, 1410372),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 588, 1426756),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 589, 1443140),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 590, 1459524),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 591, 1475908),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 592, 1492292),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 593, 1508676),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 594, 1525060),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 595, 1541444),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 596, 1557828),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 597, 1574212),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 598, 1590596),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 599, 1606980),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 600, 1623364),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 601, 1639748),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 602, 1656132),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 603, 1672516),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 604, 1688900),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 605, 1705284),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 606, 1721668),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 607, 1738052),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 608, 1754436),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 609, 1770820),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 610, 1787204),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 611, 1803588),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 612, 1819972),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 613, 1836356),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 614, 1852740),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 615, 1869124),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 616, 1885508),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 617, 1901892),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 618, 1918276),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 619, 1934660),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 620, 1951044),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 621, 1967428),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 622, 1983812),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 623, 2000196),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 624, 2016580),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 625, 2032964),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 626, 2049348),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 627, 2065732),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 628, 2082116),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 629, 2098500),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 630, 2114884),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 631, 2131268),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 632, 2147652),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 633, 2164036),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 634, 2180420),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 635, 2196804),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 636, 2213188),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 637, 2229572),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 638, 2245956),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 639, 2262340),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 640, 2278724),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 641, 2295108),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 642, 2311492),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 643, 2327876),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 644, 2344260),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 645, 2360644),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 646, 2377028),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 647, 2393412),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 648, 2409796),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 649, 2426180),
    (troop_set_slot, "trp_cstm_proficiency_requirements", 650, 2442564),
    (troop_set_slot, "trp_cstm_inventory_values", 0, 680),
    (troop_set_slot, "trp_cstm_inventory_values", 1, 800),
    (troop_set_slot, "trp_cstm_inventory_values", 2, 940),
    (troop_set_slot, "trp_cstm_inventory_values", 3, 1100),
    (troop_set_slot, "trp_cstm_inventory_values", 4, 1290),
    (troop_set_slot, "trp_cstm_inventory_values", 5, 1500),
    (troop_set_slot, "trp_cstm_inventory_values", 6, 1740),
    (troop_set_slot, "trp_cstm_inventory_values", 7, 2010),
    (troop_set_slot, "trp_cstm_inventory_values", 8, 2320),
    (troop_set_slot, "trp_cstm_inventory_values", 9, 2670),
    (troop_set_slot, "trp_cstm_inventory_values", 10, 3080),
    (troop_set_slot, "trp_cstm_inventory_values", 11, 3540),
    (troop_set_slot, "trp_cstm_inventory_values", 12, 4060),
    (troop_set_slot, "trp_cstm_inventory_values", 13, 4650),
    (troop_set_slot, "trp_cstm_inventory_values", 14, 5330),
    (troop_set_slot, "trp_cstm_inventory_values", 15, 6100),
    (troop_set_slot, "trp_cstm_inventory_values", 16, 6980),
    (troop_set_slot, "trp_cstm_inventory_values", 17, 7980),
    (troop_set_slot, "trp_cstm_inventory_values", 18, 9120),
    (troop_set_slot, "trp_cstm_inventory_values", 19, 10420),
    (troop_set_slot, "trp_cstm_inventory_values", 20, 11890),
    (troop_set_slot, "trp_cstm_inventory_values", 21, 13570),
    (troop_set_slot, "trp_cstm_inventory_values", 22, 15490),
    (troop_set_slot, "trp_cstm_inventory_values", 23, 17670),
    (troop_set_slot, "trp_cstm_inventory_values", 24, 20160),
    (troop_set_slot, "trp_cstm_inventory_values", 25, 22990),
    (troop_set_slot, "trp_cstm_inventory_values", 26, 26210),
    (troop_set_slot, "trp_cstm_inventory_values", 27, 29880),
    (troop_set_slot, "trp_cstm_inventory_values", 28, 34060),
    (troop_set_slot, "trp_cstm_inventory_values", 29, 38820),
    (troop_set_slot, "trp_cstm_inventory_values", 30, 44240),
    (troop_set_slot, "trp_cstm_inventory_values", 31, 50410),
    (troop_set_slot, "trp_cstm_inventory_values", 32, 57440),
    (troop_set_slot, "trp_cstm_inventory_values", 33, 65440),
    (troop_set_slot, "trp_cstm_inventory_values", 34, 74560),
    (troop_set_slot, "trp_cstm_inventory_values", 35, 84940),
    (troop_set_slot, "trp_cstm_inventory_values", 36, 96770),
    (troop_set_slot, "trp_cstm_inventory_values", 37, 110230),
    (troop_set_slot, "trp_cstm_inventory_values", 38, 125570),
    (troop_set_slot, "trp_cstm_inventory_values", 39, 143030),
    (troop_set_slot, "trp_cstm_inventory_values", 40, 162920),
    (troop_set_slot, "trp_cstm_inventory_values", 41, 185570),
    (troop_set_slot, "trp_cstm_inventory_values", 42, 211360),
    (troop_set_slot, "trp_cstm_inventory_values", 43, 240740),
    (troop_set_slot, "trp_cstm_inventory_values", 44, 274190),
    (troop_set_slot, "trp_cstm_inventory_values", 45, 312290),
    (troop_set_slot, "trp_cstm_inventory_values", 46, 355670),
    (troop_set_slot, "trp_cstm_inventory_values", 47, 405080),
    (troop_set_slot, "trp_cstm_inventory_values", 48, 461350),
    (troop_set_slot, "trp_cstm_inventory_values", 49, 525430),
    (troop_set_slot, "trp_cstm_inventory_values", 50, 598400),
    (troop_set_slot, "trp_cstm_inventory_values", 51, 681510),
    (troop_set_slot, "trp_cstm_inventory_values", 52, 776150),
    (troop_set_slot, "trp_cstm_inventory_values", 53, 883940),
    (troop_set_slot, "trp_cstm_inventory_values", 54, 1006680),
    (troop_set_slot, "trp_cstm_inventory_values", 55, 1146470),
    (troop_set_slot, "trp_cstm_inventory_values", 56, 1305660),
    (troop_set_slot, "trp_cstm_inventory_values", 57, 1486960),
    (troop_set_slot, "trp_cstm_inventory_values", 58, 1693420),
    (troop_set_slot, "trp_cstm_inventory_values", 59, 1928550),
    (troop_set_slot, "trp_cstm_inventory_values", 60, 2196320),
    (troop_set_slot, "trp_cstm_inventory_values", 61, 2501260),
    (troop_set_slot, "trp_cstm_inventory_values", 62, 2848540),
    (troop_set_slot, "trp_cstm_inventory_values", 63, 3244030),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_0", 500, "trp_cstm_custom_troop_1_tier_0_0_0_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_0_dummy", 501, "trp_cstm_custom_troop_1_tier_0_0_0"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_0_0_0"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_0_0_0"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_1", 500, "trp_cstm_custom_troop_1_tier_0_0_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_1_dummy", 501, "trp_cstm_custom_troop_1_tier_0_0_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_0_0_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_0_0_1"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_2", 500, "trp_cstm_custom_troop_1_tier_0_0_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_2_dummy", 501, "trp_cstm_custom_troop_1_tier_0_0_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_0_0_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_0_0_2"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_3", 500, "trp_cstm_custom_troop_1_tier_0_0_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_3_dummy", 501, "trp_cstm_custom_troop_1_tier_0_0_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_0_0_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_0_0_3"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_4", 500, "trp_cstm_custom_troop_1_tier_0_0_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_4_dummy", 501, "trp_cstm_custom_troop_1_tier_0_0_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_0_0_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_0_0_4"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_5", 500, "trp_cstm_custom_troop_1_tier_0_0_5_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_5_dummy", 501, "trp_cstm_custom_troop_1_tier_0_0_5"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_0_0_5"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_0_0_5"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_6", 500, "trp_cstm_custom_troop_1_tier_0_0_6_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_0_0_6_dummy", 501, "trp_cstm_custom_troop_1_tier_0_0_6"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_0_0_6"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_0_0_6"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_0", 500, "trp_cstm_custom_troop_1_tier_1_0_0_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_0_dummy", 501, "trp_cstm_custom_troop_1_tier_1_0_0"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_1_0_0"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_1_0_0"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_1", 500, "trp_cstm_custom_troop_1_tier_1_0_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_1_dummy", 501, "trp_cstm_custom_troop_1_tier_1_0_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_1_0_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_1_0_1"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_2", 500, "trp_cstm_custom_troop_1_tier_1_0_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_2_dummy", 501, "trp_cstm_custom_troop_1_tier_1_0_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_1_0_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_1_0_2"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_3", 500, "trp_cstm_custom_troop_1_tier_1_0_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_3_dummy", 501, "trp_cstm_custom_troop_1_tier_1_0_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_1_0_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_1_0_3"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_4", 500, "trp_cstm_custom_troop_1_tier_1_0_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_4_dummy", 501, "trp_cstm_custom_troop_1_tier_1_0_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_1_0_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_1_0_4"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_5", 500, "trp_cstm_custom_troop_1_tier_1_0_5_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_5_dummy", 501, "trp_cstm_custom_troop_1_tier_1_0_5"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_1_0_5"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_1_0_5"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_6", 500, "trp_cstm_custom_troop_1_tier_1_0_6_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_1_tier_1_0_6_dummy", 501, "trp_cstm_custom_troop_1_tier_1_0_6"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_1_tier_1_0_6"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_1_tier_1_0_6"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_0", 500, "trp_cstm_custom_troop_2_tiers_0_0_0_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_0_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_0_0"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_0_0"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_0_0"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_1", 500, "trp_cstm_custom_troop_2_tiers_0_0_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_1_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_0_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_0_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_0_1"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_1", 500, "trp_cstm_custom_troop_2_tiers_0_1_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_1_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_1_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_1_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_1_1"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_2", 500, "trp_cstm_custom_troop_2_tiers_0_0_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_2_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_0_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_0_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_0_2"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_2", 500, "trp_cstm_custom_troop_2_tiers_0_1_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_2_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_1_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_1_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_1_2"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_3", 500, "trp_cstm_custom_troop_2_tiers_0_0_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_3_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_0_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_0_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_0_3"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_3", 500, "trp_cstm_custom_troop_2_tiers_0_1_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_3_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_1_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_1_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_1_3"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_4", 500, "trp_cstm_custom_troop_2_tiers_0_0_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_4_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_0_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_0_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_0_4"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_4", 500, "trp_cstm_custom_troop_2_tiers_0_1_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_4_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_1_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_1_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_1_4"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_5", 500, "trp_cstm_custom_troop_2_tiers_0_0_5_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_0_5_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_0_5"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_0_5"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_0_5"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_5", 500, "trp_cstm_custom_troop_2_tiers_0_1_5_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_0_1_5_dummy", 501, "trp_cstm_custom_troop_2_tiers_0_1_5"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_0_1_5"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_0_1_5"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_0", 500, "trp_cstm_custom_troop_2_tiers_1_0_0_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_0_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_0_0"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_0_0"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_0_0"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_1", 500, "trp_cstm_custom_troop_2_tiers_1_0_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_1_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_0_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_0_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_0_1"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_1", 500, "trp_cstm_custom_troop_2_tiers_1_1_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_1_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_1_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_1_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_1_1"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_2", 500, "trp_cstm_custom_troop_2_tiers_1_0_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_2_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_0_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_0_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_0_2"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_2", 500, "trp_cstm_custom_troop_2_tiers_1_1_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_2_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_1_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_1_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_1_2"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_3", 500, "trp_cstm_custom_troop_2_tiers_1_0_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_3_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_0_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_0_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_0_3"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_3", 500, "trp_cstm_custom_troop_2_tiers_1_1_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_3_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_1_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_1_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_1_3"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_4", 500, "trp_cstm_custom_troop_2_tiers_1_0_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_4_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_0_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_0_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_0_4"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_4", 500, "trp_cstm_custom_troop_2_tiers_1_1_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_4_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_1_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_1_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_1_4"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_5", 500, "trp_cstm_custom_troop_2_tiers_1_0_5_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_0_5_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_0_5"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_0_5"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_0_5"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_5", 500, "trp_cstm_custom_troop_2_tiers_1_1_5_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_2_tiers_1_1_5_dummy", 501, "trp_cstm_custom_troop_2_tiers_1_1_5"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_2_tiers_1_1_5"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_2_tiers_1_1_5"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_0", 500, "trp_cstm_custom_troop_3_tiers_0_0_0_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_0_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_0_0"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_0_0"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_0_0"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_1", 500, "trp_cstm_custom_troop_3_tiers_0_0_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_1_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_0_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_0_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_0_1"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_1_1", 500, "trp_cstm_custom_troop_3_tiers_0_1_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_1_1_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_1_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_1_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_1_1"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_2", 500, "trp_cstm_custom_troop_3_tiers_0_0_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_2_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_0_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_0_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_0_2"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_1_2", 500, "trp_cstm_custom_troop_3_tiers_0_1_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_1_2_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_1_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_1_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_1_2"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_2_2", 500, "trp_cstm_custom_troop_3_tiers_0_2_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_2_2_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_2_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_2_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_2_2"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_3", 500, "trp_cstm_custom_troop_3_tiers_0_0_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_3_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_0_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_0_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_0_3"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_1_3", 500, "trp_cstm_custom_troop_3_tiers_0_1_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_1_3_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_1_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_1_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_1_3"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_2_3", 500, "trp_cstm_custom_troop_3_tiers_0_2_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_2_3_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_2_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_2_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_2_3"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_4", 500, "trp_cstm_custom_troop_3_tiers_0_0_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_0_4_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_0_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_0_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_0_4"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_1_4", 500, "trp_cstm_custom_troop_3_tiers_0_1_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_1_4_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_1_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_1_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_1_4"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_2_4", 500, "trp_cstm_custom_troop_3_tiers_0_2_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_0_2_4_dummy", 501, "trp_cstm_custom_troop_3_tiers_0_2_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_0_2_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_0_2_4"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_0", 500, "trp_cstm_custom_troop_3_tiers_1_0_0_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_0_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_0_0"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_0_0"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_0_0"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_1", 500, "trp_cstm_custom_troop_3_tiers_1_0_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_1_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_0_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_0_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_0_1"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_1_1", 500, "trp_cstm_custom_troop_3_tiers_1_1_1_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_1_1_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_1_1"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_1_1"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_1_1"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_2", 500, "trp_cstm_custom_troop_3_tiers_1_0_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_2_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_0_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_0_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_0_2"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_1_2", 500, "trp_cstm_custom_troop_3_tiers_1_1_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_1_2_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_1_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_1_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_1_2"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_2_2", 500, "trp_cstm_custom_troop_3_tiers_1_2_2_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_2_2_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_2_2"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_2_2"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_2_2"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_3", 500, "trp_cstm_custom_troop_3_tiers_1_0_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_3_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_0_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_0_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_0_3"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_1_3", 500, "trp_cstm_custom_troop_3_tiers_1_1_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_1_3_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_1_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_1_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_1_3"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_2_3", 500, "trp_cstm_custom_troop_3_tiers_1_2_3_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_2_3_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_2_3"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_2_3"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_2_3"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_4", 500, "trp_cstm_custom_troop_3_tiers_1_0_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_0_4_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_0_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_0_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_0_4"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_1_4", 500, "trp_cstm_custom_troop_3_tiers_1_1_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_1_4_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_1_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_1_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_1_4"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_2_4", 500, "trp_cstm_custom_troop_3_tiers_1_2_4_dummy"),
    (troop_set_slot, "trp_cstm_custom_troop_3_tiers_1_2_4_dummy", 501, "trp_cstm_custom_troop_3_tiers_1_2_4"),
    (call_script, "script_cstm_troop_set_stats_to_default", "trp_cstm_custom_troop_3_tiers_1_2_4"),
    (call_script, "script_cstm_copy_custom_troop_to_dummy", "trp_cstm_custom_troop_3_tiers_1_2_4"),
    (troop_set_slot, "trp_cstm_items_horses", 1, 1),
    (troop_set_slot, "trp_cstm_items_one_handed_weapons", 1, 2),
    (troop_set_slot, "trp_cstm_items_two_handed_weapons", 1, 3),
    (troop_set_slot, "trp_cstm_items_polearms", 1, 4),
    (troop_set_slot, "trp_cstm_items_arrows", 1, 5),
    (troop_set_slot, "trp_cstm_items_bolts", 1, 6),
    (troop_set_slot, "trp_cstm_items_shields", 1, 7),
    (troop_set_slot, "trp_cstm_items_bows", 1, 8),
    (troop_set_slot, "trp_cstm_items_crossbows", 1, 9),
    (troop_set_slot, "trp_cstm_items_throwing_weapons", 1, 10),
    (troop_set_slot, "trp_cstm_items_caps_and_helmets", 1, 12),
    (troop_set_slot, "trp_cstm_items_body_armour", 1, 13),
    (troop_set_slot, "trp_cstm_items_boots_and_greaves", 1, 14),
    (troop_set_slot, "trp_cstm_items_gloves_and_gauntlets", 1, 15),
    (troop_set_slot, "trp_cstm_items_pistols", 1, 16),
    (troop_set_slot, "trp_cstm_items_bullets", 1, 18),
  ]),

  ("game_get_use_string",
  [
    (store_script_param, ":var0", 1),
    (prop_instance_get_scene_prop_kind, ":var1", ":var0"),
    (try_begin),
      (this_or_next|eq, ":var1", "spr_winch_b"),
      (eq, ":var1", "spr_winch"),
      (assign, ":var2", "spr_portcullis"),
    (else_try),
      (this_or_next|eq, ":var1", "spr_door_destructible"),
      (this_or_next|eq, ":var1", "spr_castle_f_door_b"),
      (this_or_next|eq, ":var1", "spr_castle_e_sally_door_a"),
      (this_or_next|eq, ":var1", "spr_castle_f_sally_door_a"),
      (this_or_next|eq, ":var1", "spr_earth_sally_gate_left"),
      (this_or_next|eq, ":var1", "spr_earth_sally_gate_right"),
      (this_or_next|eq, ":var1", "spr_viking_keep_destroy_sally_door_left"),
      (this_or_next|eq, ":var1", "spr_viking_keep_destroy_sally_door_right"),
      (this_or_next|eq, ":var1", "spr_castle_f_door_a"),
      (this_or_next|eq, ":var1", "spr_siege_ladder_move_6m"),
      (this_or_next|eq, ":var1", "spr_siege_ladder_move_8m"),
      (this_or_next|eq, ":var1", "spr_siege_ladder_move_10m"),
      (this_or_next|eq, ":var1", "spr_siege_ladder_move_12m"),
      (eq, ":var1", "spr_siege_ladder_move_14m"),
      (assign, ":var2", ":var1"),
    (try_end),
    (scene_prop_get_slot, ":var3", ":var0", 1),
    (try_begin),
      (eq, ":var2", "spr_portcullis"),
      (try_begin),
        (eq, ":var3", 0),
        (str_store_string, s0, "str_open_gate"),
      (else_try),
        (str_store_string, s0, "str_close_gate"),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var2", "spr_door_destructible"),
      (this_or_next|eq, ":var2", "spr_castle_f_door_b"),
      (this_or_next|eq, ":var2", "spr_castle_e_sally_door_a"),
      (this_or_next|eq, ":var2", "spr_castle_f_sally_door_a"),
      (this_or_next|eq, ":var2", "spr_earth_sally_gate_left"),
      (this_or_next|eq, ":var2", "spr_earth_sally_gate_right"),
      (this_or_next|eq, ":var2", "spr_viking_keep_destroy_sally_door_left"),
      (this_or_next|eq, ":var2", "spr_viking_keep_destroy_sally_door_right"),
      (eq, ":var2", "spr_castle_f_door_a"),
      (try_begin),
        (eq, ":var3", 0),
        (str_store_string, s0, "str_open_door"),
      (else_try),
        (str_store_string, s0, "str_close_door"),
      (try_end),
    (else_try),
      (try_begin),
        (eq, ":var3", 0),
        (str_store_string, s0, "str_raise_ladder"),
      (else_try),
        (str_store_string, s0, "str_drop_ladder"),
      (try_end),
    (try_end),
  ]),

  ("game_quick_start",
  [
    (assign, "$g_is_quick_battle", 0),
    (assign, "$g_quick_battle_game_type", 0),
    (assign, "$g_quick_battle_troop", "trp_quick_battle_troop_1"),
    (assign, "$g_quick_battle_map", "scn_quick_battle_scene_1"),
    (assign, "$g_quick_battle_team_1_faction", "fac_kingdom_1"),
    (assign, "$g_quick_battle_team_2_faction", "fac_kingdom_2"),
    (assign, "$g_quick_battle_army_1_size", 25),
    (assign, "$g_quick_battle_army_2_size", 25),
    (faction_set_slot, "fac_outlaws", 41, "trp_mountain_bandit"),
    (faction_set_slot, "fac_outlaws", 42, "trp_sea_raider"),
    (faction_set_slot, "fac_outlaws", 43, "trp_forest_bandit"),
    (faction_set_slot, "fac_outlaws", 44, "trp_taiga_bandit"),
    (faction_set_slot, "fac_outlaws", 45, "trp_steppe_bandit"),
    (faction_set_slot, "fac_outlaws", 46, "trp_desert_bandit"),
    (try_for_range, ":var0", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_slot_eq, ":var0", 21, 0),
      (call_script, "script_raf_aor_faction_to_region", ":var0"),
      (try_begin),
        (eq, reg0, 1),
        (faction_set_slot, ":var0", 41, "trp_balt_billman"),
        (faction_set_slot, ":var0", 42, "trp_balt_spearman"),
        (faction_set_slot, ":var0", 43, "trp_balt_archer"),
        (faction_set_slot, ":var0", 44, "trp_balt_jav"),
        (faction_set_slot, ":var0", 45, "trp_balt_medium_cavalry"),
        (faction_set_slot, ":var0", 46, "trp_balt_noble_3"),
      (else_try),
        (eq, reg0, 2),
        (faction_set_slot, ":var0", 41, "trp_nordic_veteran_spearman"),
        (faction_set_slot, ":var0", 42, "trp_nordic_veteran_billman"),
        (faction_set_slot, ":var0", 43, "trp_nordic_veteran_archer"),
        (faction_set_slot, ":var0", 44, "trp_nordic_veteran_crossbowman"),
        (faction_set_slot, ":var0", 45, "trp_nordic_squire"),
        (faction_set_slot, ":var0", 46, "trp_nordic_knight"),
      (else_try),
        (eq, reg0, 3),
        (faction_set_slot, ":var0", 41, "trp_rus_town_3_2"),
        (faction_set_slot, ":var0", 42, "trp_rus_town_2"),
        (faction_set_slot, ":var0", 43, "trp_rus_vil_3_2"),
        (faction_set_slot, ":var0", 44, "trp_rus_vil_3_2"),
        (faction_set_slot, ":var0", 45, "trp_rus_horse_3"),
        (faction_set_slot, ":var0", 46, "trp_rus_horse_4"),
      (else_try),
        (eq, reg0, 15),
        (faction_set_slot, ":var0", 41, "trp_rus_town_3_2"),
        (faction_set_slot, ":var0", 42, "trp_rus_town_2"),
        (faction_set_slot, ":var0", 43, "trp_rus_vil_3_2"),
        (faction_set_slot, ":var0", 44, "trp_rus_vil_3_2"),
        (faction_set_slot, ":var0", 45, "trp_rus_horse_3"),
        (faction_set_slot, ":var0", 46, "trp_rus_horse_4"),
      (else_try),
        (eq, reg0, 4),
        (faction_set_slot, ":var0", 41, "trp_tatar_horseman"),
        (faction_set_slot, ":var0", 42, "trp_tatar_horseman"),
        (faction_set_slot, ":var0", 43, "trp_tatar_horse_archer"),
        (faction_set_slot, ":var0", 44, "trp_tatar_veteran_horse_archer"),
        (faction_set_slot, ":var0", 45, "trp_tatar_lancer"),
        (faction_set_slot, ":var0", 46, "trp_tatar_heavy_lancer"),
      (else_try),
        (this_or_next|eq, reg0, 16),
        (eq, reg0, 5),
        (faction_set_slot, ":var0", 41, "trp_euro_spearman_2"),
        (faction_set_slot, ":var0", 42, "trp_euro_spearman_3"),
        (faction_set_slot, ":var0", 43, "trp_euro_xbow_2"),
        (faction_set_slot, ":var0", 44, "trp_euro_archer_2"),
        (faction_set_slot, ":var0", 45, "trp_euro_horse_2"),
        (faction_set_slot, ":var0", 46, "trp_euro_horse_4"),
      (else_try),
        (eq, reg0, 13),
        (faction_set_slot, ":var0", 41, "trp_iberian_town_footman_1"),
        (faction_set_slot, ":var0", 42, "trp_iberian_veteran_spearman"),
        (faction_set_slot, ":var0", 43, "trp_iberian_veteran_crossbowman"),
        (faction_set_slot, ":var0", 44, "trp_iberian_crossbows_sergeant"),
        (faction_set_slot, ":var0", 45, "trp_iberian_medium_cavalry"),
        (faction_set_slot, ":var0", 46, "trp_iberian_knight"),
      (else_try),
        (eq, reg0, 14),
        (faction_set_slot, ":var0", 41, "trp_iberian_town_footman_1"),
        (faction_set_slot, ":var0", 42, "trp_iberian_veteran_spearman"),
        (faction_set_slot, ":var0", 43, "trp_iberian_veteran_crossbowman"),
        (faction_set_slot, ":var0", 44, "trp_iberian_crossbows_sergeant"),
        (faction_set_slot, ":var0", 45, "trp_iberian_medium_cavalry"),
        (faction_set_slot, ":var0", 46, "trp_iberian_knight"),
      (else_try),
        (eq, reg0, 7),
        (faction_set_slot, ":var0", 41, "trp_gaelic_infantry_1"),
        (faction_set_slot, ":var0", 42, "trp_merc_veteran_gaelic_spearman"),
        (faction_set_slot, ":var0", 43, "trp_gaelic_archer_1"),
        (faction_set_slot, ":var0", 44, "trp_gaelic_archer_1"),
        (faction_set_slot, ":var0", 45, "trp_gaelic_medium_cavalry"),
        (faction_set_slot, ":var0", 46, "trp_gaelic_knight"),
      (else_try),
        (eq, reg0, 6),
        (faction_set_slot, ":var0", 41, "trp_teu_balt_3"),
        (faction_set_slot, ":var0", 42, "trp_teu_town_4_1"),
        (faction_set_slot, ":var0", 43, "trp_teu_town_3_2"),
        (faction_set_slot, ":var0", 44, "trp_teu_town_4_2"),
        (faction_set_slot, ":var0", 45, "trp_teu_horse_3"),
        (faction_set_slot, ":var0", 46, "trp_teu_horse_4"),
      (else_try),
        (eq, reg0, 10),
        (faction_set_slot, ":var0", 41, "trp_andalus_spearman_1"),
        (faction_set_slot, ":var0", 42, "trp_andalus_spearman_2"),
        (faction_set_slot, ":var0", 43, "trp_andalus_town_xbow_1"),
        (faction_set_slot, ":var0", 44, "trp_andalus_town_xbow_2"),
        (faction_set_slot, ":var0", 45, "trp_andalus_horse_2"),
        (faction_set_slot, ":var0", 46, "trp_andalus_horse_3"),
      (else_try),
        (eq, reg0, 11),
        (faction_set_slot, ":var0", 41, "trp_marinid_levy_spearman"),
        (faction_set_slot, ":var0", 42, "trp_marinid_swordsman"),
        (faction_set_slot, ":var0", 43, "trp_marinid_skirmishers"),
        (faction_set_slot, ":var0", 44, "trp_marinid_javelin_infantry"),
        (faction_set_slot, ":var0", 45, "trp_marinid_mounted_skirmisher_2"),
        (faction_set_slot, ":var0", 46, "trp_marinid_mounted_skirmisher_3"),
      (else_try),
        (eq, reg0, 12),
        (faction_set_slot, ":var0", 41, "trp_bedouin_recruit"),
        (faction_set_slot, ":var0", 42, "trp_halqa_archer"),
        (faction_set_slot, ":var0", 43, "trp_halqa_guisarmer_1"),
        (faction_set_slot, ":var0", 44, "trp_bedouin_javelin_2"),
        (faction_set_slot, ":var0", 45, "trp_bedouin_cavalry_2"),
        (faction_set_slot, ":var0", 46, "trp_ghulam_cavalry_3"),
      (else_try),
        (eq, reg0, 8),
        (faction_set_slot, ":var0", 41, "trp_hospitaller_half_brother"),
        (faction_set_slot, ":var0", 42, "trp_templar_half_brother"),
        (faction_set_slot, ":var0", 43, "trp_hospitaller_knight"),
        (faction_set_slot, ":var0", 44, "trp_templar_knight"),
        (faction_set_slot, ":var0", 45, "trp_hospitaller_knight"),
        (faction_set_slot, ":var0", 46, "trp_templar_knight"),
      (else_try),
        (eq, reg0, 9),
        (faction_set_slot, ":var0", 41, "trp_byz_town_3_1"),
        (faction_set_slot, ":var0", 42, "trp_byz_town_3_2"),
        (faction_set_slot, ":var0", 43, "trp_byz_village_3_1"),
        (faction_set_slot, ":var0", 44, "trp_byz_village_3_2"),
        (faction_set_slot, ":var0", 45, "trp_byz_castle_3"),
        (faction_set_slot, ":var0", 46, "trp_byz_castle_4"),
      (try_end),
    (try_end),
    (assign, "$g_multiplayer_selected_map", "scn_multi_scene_1"),
    (assign, "$g_multiplayer_respawn_period", 5),
    (assign, "$g_multiplayer_round_max_seconds", 300),
    (assign, "$g_multiplayer_game_max_minutes", 30),
    (assign, "$g_multiplayer_game_max_points", 300),
    (server_get_renaming_server_allowed, "$g_multiplayer_renaming_server_allowed"),
    (server_get_changing_game_type_allowed, "$g_multiplayer_changing_game_type_allowed"),
    (assign, "$g_multiplayer_point_gained_from_flags", 100),
    (assign, "$g_multiplayer_point_gained_from_capturing_flag", 5),
    (assign, "$g_multiplayer_game_type", 0),
    (assign, "$g_multiplayer_team_1_faction", "fac_kingdom_1"),
    (assign, "$g_multiplayer_team_2_faction", "fac_kingdom_2"),
    (assign, "$g_multiplayer_next_team_1_faction", "$g_multiplayer_team_1_faction"),
    (assign, "$g_multiplayer_next_team_2_faction", "$g_multiplayer_team_2_faction"),
    (assign, "$g_multiplayer_num_bots_team_1", 0),
    (assign, "$g_multiplayer_num_bots_team_2", 0),
    (assign, "$g_multiplayer_number_of_respawn_count", 0),
    (assign, "$g_multiplayer_num_bots_voteable", 50),
    (assign, "$g_multiplayer_max_num_bots", 101),
    (assign, "$g_multiplayer_factions_voteable", 1),
    (assign, "$g_multiplayer_maps_voteable", 1),
    (assign, "$g_multiplayer_kick_voteable", 1),
    (assign, "$g_multiplayer_ban_voteable", 1),
    (assign, "$g_multiplayer_valid_vote_ratio", 51),
    (assign, "$g_multiplayer_auto_team_balance_limit", 3),
    (assign, "$g_multiplayer_player_respawn_as_bot", 1),
    (assign, "$g_multiplayer_stats_chart_opened_manually", 0),
    (assign, "$g_multiplayer_mission_end_screen", 0),
    (assign, "$g_multiplayer_ready_for_spawning_agent", 1),
    (assign, "$g_multiplayer_welcome_message_shown", 0),
    (assign, "$g_multiplayer_allow_player_banners", 1),
    (assign, "$g_multiplayer_force_default_armor", 1),
    (assign, "$g_multiplayer_disallow_ranged_weapons", 0),
    (assign, "$g_multiplayer_initial_gold_multiplier", 100),
    (assign, "$g_multiplayer_battle_earnings_multiplier", 100),
    (assign, "$g_multiplayer_round_earnings_multiplier", 100),
    (faction_set_slot, "fac_kingdom_1", 15, "mesh_banner_kingdom_1"),
    (faction_set_slot, "fac_kingdom_2", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_3", 15, "mesh_banner_kingdom_3"),
    (faction_set_slot, "fac_kingdom_4", 15, "mesh_banner_kingdom_4"),
    (faction_set_slot, "fac_kingdom_5", 15, "mesh_banner_kingdom_5"),
    (faction_set_slot, "fac_kingdom_6", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_7", 15, "mesh_banner_kingdom_7"),
    (faction_set_slot, "fac_kingdom_8", 15, "mesh_banner_kingdom_8"),
    (faction_set_slot, "fac_kingdom_9", 15, "mesh_banner_kingdom_9"),
    (faction_set_slot, "fac_kingdom_10", 15, "mesh_banner_kingdom_10"),
    (faction_set_slot, "fac_kingdom_11", 15, "mesh_banner_kingdom_11"),
    (faction_set_slot, "fac_kingdom_12", 15, "mesh_banner_kingdom_12"),
    (faction_set_slot, "fac_kingdom_13", 15, "mesh_banner_kingdom_13"),
    (faction_set_slot, "fac_kingdom_14", 15, "mesh_banner_kingdom_14"),
    (faction_set_slot, "fac_kingdom_15", 15, "mesh_banner_kingdom_15"),
    (faction_set_slot, "fac_kingdom_16", 15, "mesh_banner_kingdom_16"),
    (faction_set_slot, "fac_kingdom_17", 15, "mesh_banner_kingdom_17"),
    (faction_set_slot, "fac_kingdom_18", 15, "mesh_banner_kingdom_18"),
    (faction_set_slot, "fac_kingdom_19", 15, "mesh_banner_kingdom_19"),
    (faction_set_slot, "fac_kingdom_20", 15, "mesh_banner_kingdom_20"),
    (faction_set_slot, "fac_papacy", 15, "mesh_banner_kingdom_21"),
    (faction_set_slot, "fac_kingdom_22", 15, "mesh_banner_kingdom_22"),
    (faction_set_slot, "fac_kingdom_23", 15, "mesh_banner_kingdom_23"),
    (faction_set_slot, "fac_kingdom_24", 15, "mesh_banner_kingdom_24"),
    (faction_set_slot, "fac_kingdom_25", 15, "mesh_banner_kingdom_25"),
    (faction_set_slot, "fac_kingdom_26", 15, "mesh_banner_kingdom_26"),
    (faction_set_slot, "fac_kingdom_27", 15, "mesh_banner_kingdom_27"),
    (faction_set_slot, "fac_kingdom_28", 15, "mesh_banner_kingdom_28"),
    (faction_set_slot, "fac_kingdom_29", 15, "mesh_banner_kingdom_29"),
    (faction_set_slot, "fac_kingdom_30", 15, "mesh_banner_kingdom_30"),
    (faction_set_slot, "fac_kingdom_31", 15, "mesh_banner_kingdom_31"),
    (faction_set_slot, "fac_kingdom_32", 15, "mesh_banner_kingdom_31"),
    (faction_set_slot, "fac_kingdom_34", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_35", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_36", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_33", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_34", 15, "mesh_banner_kingdom_2"),
    (faction_set_slot, "fac_kingdom_35", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_36", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_37", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_38", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_39", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_40", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_41", 15, "mesh_banner_kingdom_6"),
    (faction_set_slot, "fac_kingdom_42", 15, "mesh_banner_kingdom_6"),
    (try_for_range, ":var1", 0, "itm_items_end"),
      (try_for_range, ":var2", "fac_kingdom_1", "fac_kingdoms_end"),
        (store_sub, ":var3", ":var2", "fac_kingdom_1"),
        (val_add, ":var3", 30),
        (item_set_slot, ":var1", ":var3", 100),
      (try_end),
    (try_end),
    (store_sub, ":var4", "fac_kingdom_1", "fac_kingdom_1"),
    (val_add, ":var4", 30),
    (store_sub, ":var5", "fac_kingdom_2", "fac_kingdom_1"),
    (val_add, ":var5", 30),
    (store_sub, ":var6", "fac_kingdom_3", "fac_kingdom_1"),
    (val_add, ":var6", 30),
    (store_sub, ":var7", "fac_kingdom_4", "fac_kingdom_1"),
    (val_add, ":var7", 30),
    (store_sub, ":var8", "fac_kingdom_5", "fac_kingdom_1"),
    (val_add, ":var8", 30),
    (store_sub, ":var9", "fac_kingdom_6", "fac_kingdom_1"),
    (val_add, ":var9", 30),
    (item_set_slot, "itm_arrows", 60, 14),
    (item_set_slot, "itm_barbed_arrows", 60, 14),
    (item_set_slot, "itm_bodkin_arrows", 60, 14),
    (item_set_slot, "itm_khergit_arrows", 60, 14),
    (item_set_slot, "itm_bolts", 60, 15),
    (item_set_slot, "itm_steel_bolts", 60, 15),
    (item_set_slot, "itm_crossbow", 60, 12),
    (item_set_slot, "itm_heavy_crossbow", 60, 12),
    (item_set_slot, "itm_sniper_crossbow", 60, 12),
    (item_set_slot, "itm_nomad_bow", 60, 12),
    (item_set_slot, "itm_khergit_bow", 60, 12),
    (item_set_slot, "itm_strong_bow", 60, 12),
    (item_set_slot, "itm_short_bow", 60, 12),
    (item_set_slot, "itm_long_bow", 60, 12),
    (item_set_slot, "itm_light_crossbow", 60, 12),
    (item_set_slot, "itm_sword_type_xii", 60, 1),
    (item_set_slot, "itm_sword_type_xiii", 60, 1),
    (item_set_slot, "itm_sword_type_xiv", 60, 1),
    (item_set_slot, "itm_sword_type_xiiib", 60, 1),
    (item_set_slot, "itm_sword_type_xiv", 60, 1),
    (item_set_slot, "itm_scimitar", 60, 1),
    (item_set_slot, "itm_scimitar_b", 60, 1),
    (item_set_slot, "itm_dagger", 60, 1),
    (item_set_slot, "itm_sword_khergit_1", 60, 1),
    (item_set_slot, "itm_sword_khergit_2", 60, 1),
    (item_set_slot, "itm_sword_khergit_3", 60, 1),
    (item_set_slot, "itm_sword_khergit_4", 60, 1),
    (item_set_slot, "itm_sword_viking_1", 60, 1),
    (item_set_slot, "itm_sword_viking_2", 60, 1),
    (item_set_slot, "itm_sword_viking_2_small", 60, 1),
    (item_set_slot, "itm_sword_viking_3", 60, 1),
    (item_set_slot, "itm_sword_viking_3_small", 60, 1),
    (item_set_slot, "itm_sword_type_xiia", 60, 6),
    (item_set_slot, "itm_sword_type_xiiia", 60, 6),
    (item_set_slot, "itm_raf_two_handed_axe_a", 60, 2),
    (item_set_slot, "itm_shortened_voulge", 60, 7),
    (item_set_slot, "itm_long_axe", 60, 7),
    (item_set_slot, "itm_long_axe_b", 60, 7),
    (item_set_slot, "itm_mace_1", 60, 3),
    (item_set_slot, "itm_mace_2", 60, 3),
    (item_set_slot, "itm_mace_3", 60, 3),
    (item_set_slot, "itm_mace_4", 60, 3),
    (item_set_slot, "itm_long_spiked_club", 60, 3),
    (item_set_slot, "itm_long_hafted_spiked_mace", 60, 3),
    (item_set_slot, "itm_maul", 60, 3),
    (item_set_slot, "itm_sledgehammer", 60, 3),
    (item_set_slot, "itm_morningstar", 60, 3),
    (item_set_slot, "itm_military_sickle_a", 60, 4),
    (item_set_slot, "itm_fighting_pick", 60, 4),
    (item_set_slot, "itm_military_pick", 60, 4),
    (item_set_slot, "itm_club_with_spike_head", 60, 4),
    (item_set_slot, "itm_military_cleaver_b", 60, 5),
    (item_set_slot, "itm_military_cleaver_c", 60, 5),
    (item_set_slot, "itm_two_handed_cleaver", 60, 5),
    (item_set_slot, "itm_hafted_blade_a", 60, 5),
    (item_set_slot, "itm_hafted_blade_b", 60, 5),
    (item_set_slot, "itm_shortened_military_scythe", 60, 5),
    (item_set_slot, "itm_glaive", 60, 8),
    (item_set_slot, "itm_staff", 60, 8),
    (item_set_slot, "itm_quarter_staff", 60, 8),
    (item_set_slot, "itm_spear_i", 60, 8),
    (item_set_slot, "itm_military_scythe", 60, 8),
    (item_set_slot, "itm_light_lance", 60, 9),
    (item_set_slot, "itm_lance", 60, 9),
    (item_set_slot, "itm_heavy_lance", 60, 9),
    (item_set_slot, "itm_tab_shield_round_a", 60, 10),
    (item_set_slot, "itm_tab_shield_round_b", 60, 10),
    (item_set_slot, "itm_tab_shield_round_c", 60, 10),
    (item_set_slot, "itm_tab_shield_round_d", 60, 10),
    (item_set_slot, "itm_tab_shield_round_e", 60, 10),
    (item_set_slot, "itm_tab_shield_kite_c", 60, 10),
    (item_set_slot, "itm_tab_shield_kite_c", 60, 10),
    (item_set_slot, "itm_tab_shield_kite_c", 60, 10),
    (item_set_slot, "itm_tab_shield_kite_c", 60, 10),
    (item_set_slot, "itm_tab_shield_kite_cav_a", 60, 10),
    (item_set_slot, "itm_tab_shield_kite_cav_b", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_c", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_c", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_c", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_c", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_cav_a", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_cav_b", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_c", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_c", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_c", 60, 10),
    (item_set_slot, "itm_tab_shield_heater_c", 60, 10),
    (item_set_slot, "itm_tab_shield_small_round_a", 60, 10),
    (item_set_slot, "itm_tab_shield_small_round_b", 60, 10),
    (item_set_slot, "itm_tab_shield_small_round_c", 60, 10),
    (item_set_slot, "itm_darts", 60, 16),
    (item_set_slot, "itm_war_darts", 60, 16),
    (item_set_slot, "itm_javelin", 60, 16),
    (item_set_slot, "itm_jarid", 60, 16),
    (item_set_slot, "itm_throwing_spears", 60, 16),
    (item_set_slot, "itm_red_shirt", 60, 19),
    (item_set_slot, "itm_gambeson_a", 60, 19),
    (item_set_slot, "itm_haubergeon", 60, 19),
    (item_set_slot, "itm_coat_of_plates_red", 60, 19),
    (item_set_slot, "itm_mail_with_surcoat", 60, 19),
    (item_set_slot, "itm_linen_tunic", 60, 19),
    (item_set_slot, "itm_leather_vest", 60, 19),
    (item_set_slot, "itm_leather_jerkin", 60, 19),
    (item_set_slot, "itm_lamellar_vest", 60, 19),
    (item_set_slot, "itm_coarse_tunic", 60, 19),
    (item_set_slot, "itm_tribal_warrior_outfit", 60, 19),
    (item_set_slot, "itm_tunic_with_green_cape", 60, 19),
    (item_set_slot, "itm_surcoat_over_mail", 60, 19),
    (item_set_slot, "itm_hide_boots", 60, 24),
    (item_set_slot, "itm_ankle_boots", 60, 24),
    (item_set_slot, "itm_leather_boots", 60, 24),
    (item_set_slot, "itm_splinted_leather_greaves", 60, 24),
    (item_set_slot, "itm_mail_chausses", 60, 24),
    (item_set_slot, "itm_splinted_leather_greaves", 60, 24),
    (item_set_slot, "itm_leather_steppe_cap_a", 60, 22),
    (item_set_slot, "itm_leather_steppe_cap_b", 60, 22),
    (item_set_slot, "itm_leather_steppe_cap_c", 60, 22),
    (item_set_slot, "itm_khergit_war_helmet", 60, 22),
    (item_set_slot, "itm_khergit_guard_helmet", 60, 22),
    (item_set_slot, "itm_arming_cap", 60, 22),
    (item_set_slot, "itm_padded_coif", 60, 22),
    (item_set_slot, "itm_mail_coif", 60, 22),
    (item_set_slot, "itm_footman_helmet", 60, 22),
    (item_set_slot, "itm_kettlehat_a", 60, 22),
    (item_set_slot, "itm_flat_topped_helmet_a", 60, 22),
    (item_set_slot, "itm_vik_norman_helmet_a", 60, 22),
    (item_set_slot, "itm_maciejowski_helm", 60, 22),
    (item_set_slot, "itm_nomad_cap", 60, 22),
    (item_set_slot, "itm_leather_cap", 60, 22),
    (item_set_slot, "itm_rus_noble_helmet", 60, 22),
    (item_set_slot, "itm_rus_helmet_a", 60, 22),
    (item_set_slot, "itm_vaegir_mask", 60, 22),
    (item_set_slot, "itm_leather_gloves", 60, 26),
    (item_set_slot, "itm_mail_mittens", 60, 26),
    (item_set_slot, "itm_scale_gauntlets", 60, 26),
    (item_set_slot, "itm_saddle_horse", 60, 18),
    (item_set_slot, "itm_hunter", 60, 18),
    (item_set_slot, "itm_courser", 60, 18),
    (item_set_slot, "itm_hunter", 60, 18),
    (item_set_slot, "itm_warhorse", 60, 18),
    (item_set_slot, "itm_steppe_horse", 60, 18),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_bolts", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_steel_bolts", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_heavy_crossbow", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sniper_crossbow", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xii", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiii", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiv", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_red_shirt", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_haubergeon", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_ankle_boots", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_chausses", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_arming_cap", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_flat_topped_helmet_a", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_vik_norman_helmet_a", "trp_swadian_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xii", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiii", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiv", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiiib", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiv", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiia", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiiia", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_darts", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_war_darts", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_gambeson_a", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_haubergeon", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_ankle_boots", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_chausses", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_arming_cap", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_flat_topped_helmet_a", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_vik_norman_helmet_a", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_maciejowski_helm", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_swadian_infantry_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_darts", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_war_darts", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lance", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_heavy_lance", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xii", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiii", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiv", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiiib", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiv", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiia", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiiia", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_with_surcoat", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_coat_of_plates_red", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_ankle_boots", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_chausses", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_arming_cap", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_flat_topped_helmet_a", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_vik_norman_helmet_a", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_maciejowski_helm", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_saddle_horse", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_courser", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hunter", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_warhorse", "trp_swadian_man_at_arms_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_arrows", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_barbed_arrows", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scimitar", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_1", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_2", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_nomad_bow", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_khergit_bow", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_strong_bow", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_linen_tunic", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_jerkin", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_vest", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lamellar_vest", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hide_boots", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_splinted_leather_greaves", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_nomad_cap", "trp_vaegir_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_1", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_2", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_3", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_4", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_long_hafted_spiked_mace", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_long_spiked_club", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scimitar", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scimitar_b", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_javelin", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_linen_tunic", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_jerkin", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_vest", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lamellar_vest", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hide_boots", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_splinted_leather_greaves", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_rus_noble_helmet", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_rus_helmet_a", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_vaegir_spearman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_darts", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_war_darts", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scimitar", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scimitar_b", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lance", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_heavy_lance", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_cav_a", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_cav_b", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_linen_tunic", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_vest", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lamellar_vest", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hide_boots", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_splinted_leather_greaves", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_rus_noble_helmet", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_rus_helmet_a", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_saddle_horse", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_courser", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hunter", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_warhorse", "trp_vaegir_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_khergit_1", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_khergit_2", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_khergit_3", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_khergit_4", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_nomad_bow", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_khergit_bow", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_strong_bow", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_arrows", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_khergit_arrows", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_a", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_b", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_steppe_cap_a", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_steppe_cap_b", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_steppe_cap_c", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_coarse_tunic", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_vest", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tribal_warrior_outfit", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hide_boots", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_splinted_leather_greaves", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_steppe_horse", "trp_khergit_veteran_horse_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_javelin", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_khergit_1", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_khergit_2", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_khergit_3", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_khergit_4", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_a", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_b", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_c", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lance", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_heavy_lance", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hafted_blade_a", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hafted_blade_b", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_1", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_2", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_3", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_steppe_cap_a", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_steppe_cap_b", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_steppe_cap_c", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_khergit_war_helmet", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_khergit_guard_helmet", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_coarse_tunic", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_vest", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tribal_warrior_outfit", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hide_boots", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_splinted_leather_greaves", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_steppe_horse", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_courser", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hunter", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_warhorse", "trp_khergit_lancer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_arrows", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_barbed_arrows", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_bodkin_arrows", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_1", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_2", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_2_small", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_3", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_3_small", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_short_bow", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_long_bow", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_jerkin", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_splinted_leather_greaves", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_chausses", "trp_nord_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_1", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_2", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_2_small", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_3", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_3_small", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_long_axe", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_long_axe_b", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_round_a", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_round_b", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_round_c", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_round_d", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_round_e", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_jerkin", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_splinted_leather_greaves", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_chausses", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_nord_veteran_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_darts", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_war_darts", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_javelin", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_throwing_spears", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_1", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_2", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_viking_3", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_shortened_voulge", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_light_lance", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lance", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_a", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_b", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_c", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_jerkin", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_splinted_leather_greaves", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_chausses", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_saddle_horse", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_courser", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hunter", "trp_nord_scout_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_heavy_crossbow", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sniper_crossbow", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_bolts", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_steel_bolts", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_fighting_pick", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_pick", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_club_with_spike_head", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_maul", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sledgehammer", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_cleaver_b", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xii", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiii", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiv", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_cap", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_padded_coif", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_footman_helmet", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_kettlehat_a", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tunic_with_green_cape", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_ankle_boots", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_rhodok_veteran_crossbowman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_darts", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_war_darts", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_javelin", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_fighting_pick", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_pick", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_morningstar", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_club_with_spike_head", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_cleaver_b", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_cleaver_c", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_two_handed_cleaver", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_sickle_a", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_maul", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sledgehammer", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_glaive", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_c", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_cap", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_padded_coif", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_footman_helmet", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_kettlehat_a", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_surcoat_over_mail", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_ankle_boots", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_rhodok_sergeant_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_darts", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_war_darts", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_javelin", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xii", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiii", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_sword_type_xiiib", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_fighting_pick", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_pick", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_morningstar", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_cleaver_b", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_military_cleaver_c", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_two_handed_cleaver", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_shortened_military_scythe", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_light_lance", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lance", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_heavy_lance", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_cav_a", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_heater_cav_b", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_padded_coif", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_footman_helmet", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_kettlehat_a", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_surcoat_over_mail", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_ankle_boots", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_boots", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_leather_gloves", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_mail_mittens", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scale_gauntlets", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_saddle_horse", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_courser", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_hunter", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_warhorse", "trp_rhodok_horseman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_short_bow", "trp_sarranid_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_nomad_bow", "trp_sarranid_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_arrows", "trp_sarranid_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_barbed_arrows", "trp_sarranid_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_scimitar", "trp_sarranid_archer_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_jarid", "trp_sarranid_footman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_javelin", "trp_sarranid_footman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_sarranid_footman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_sarranid_footman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_sarranid_footman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_kite_c", "trp_sarranid_footman_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_lance", "trp_sarranid_mamluke_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_heavy_lance", "trp_sarranid_mamluke_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_jarid", "trp_sarranid_mamluke_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_javelin", "trp_sarranid_mamluke_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_a", "trp_sarranid_mamluke_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_b", "trp_sarranid_mamluke_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_tab_shield_small_round_c", "trp_sarranid_mamluke_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_saddle_horse", "trp_sarranid_mamluke_multiplayer"),
    (call_script, "script_multiplayer_set_item_available_for_troop", "itm_warhorse", "trp_sarranid_mamluke_multiplayer"),
  ]),

  ("get_army_size_from_slider_value",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", ":var0"),
    (try_begin),
      (gt, ":var0", 25),
      (store_sub, ":var2", ":var0", 25),
      (val_add, ":var1", ":var2"),
      (try_begin),
        (gt, ":var0", 50),
        (store_sub, ":var2", ":var0", 50),
        (val_mul, ":var2", 3),
        (val_add, ":var1", ":var2"),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("spawn_quick_battle_army",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_script_param, ":var5", 6),
    (store_script_param, ":var6", 7),
    (try_begin),
      (eq, ":var6", 1),
      (call_script, "script_get_army_size_from_slider_value", "$g_quick_battle_army_1_size"),
      (assign, ":var7", reg0),
      (set_player_troop, "$g_quick_battle_troop"),
      (set_visitor, ":var0", "$g_quick_battle_troop"),
      (try_begin),
        (eq, ":var0", 0),
        (try_begin),
          (is_between, ":var1", "fac_kingdom_1", "fac_kingdoms_end"),
          (faction_get_slot, "$g_quick_battle_team_0_banner", ":var1", 15),
        (else_try),
          (assign, "$g_quick_battle_team_0_banner", "mesh_banners_default_b"),
        (try_end),
      (else_try),
        (try_begin),
          (is_between, ":var1", "fac_kingdom_1", "fac_kingdoms_end"),
          (faction_get_slot, "$g_quick_battle_team_1_banner", ":var1", 15),
        (else_try),
          (assign, "$g_quick_battle_team_1_banner", "mesh_banners_default_b"),
        (try_end),
      (try_end),
      (val_add, ":var0", 1),
    (else_try),
      (call_script, "script_get_army_size_from_slider_value", "$g_quick_battle_army_2_size"),
      (assign, ":var7", reg0),
      (try_begin),
        (eq, ":var0", 0),
        (assign, "$g_quick_battle_team_0_banner", "mesh_banners_default_a"),
      (else_try),
        (assign, "$g_quick_battle_team_1_banner", "mesh_banners_default_a"),
      (try_end),
      (val_add, ":var0", 1),
    (try_end),
    (store_mul, ":var8", ":var2", ":var7"),
    (val_div, ":var8", 100),
    (store_mul, ":var9", ":var3", ":var7"),
    (val_div, ":var9", 100),
    (store_mul, ":var10", ":var4", ":var7"),
    (val_div, ":var10", 100),
    (try_begin),
      (store_add, ":var11", ":var8", ":var9"),
      (val_add, ":var11", ":var10"),
      (neq, ":var11", ":var7"),
      (store_sub, ":var12", ":var7", ":var11"),
      (try_begin),
        (gt, ":var2", ":var3"),
        (gt, ":var2", ":var4"),
        (val_add, ":var8", ":var12"),
      (else_try),
        (gt, ":var3", ":var4"),
        (val_add, ":var9", ":var12"),
      (else_try),
        (val_add, ":var10", ":var12"),
      (try_end),
    (try_end),
    (store_mul, ":var13", ":var8", 15),
    (val_div, ":var13", 100),
    (store_mul, ":var14", ":var8", 45),
    (val_div, ":var14", 100),
    (store_random_in_range, ":var15", ":var13", ":var14"),
    (store_sub, ":var16", ":var8", ":var15"),
    (store_mul, ":var13", ":var9", 15),
    (val_div, ":var13", 100),
    (store_mul, ":var14", ":var9", 45),
    (val_div, ":var14", 100),
    (store_random_in_range, ":var17", ":var13", ":var14"),
    (store_sub, ":var18", ":var9", ":var17"),
    (store_mul, ":var13", ":var10", 15),
    (val_div, ":var13", 100),
    (store_mul, ":var14", ":var10", 45),
    (val_div, ":var14", 100),
    (store_random_in_range, ":var19", ":var13", ":var14"),
    (store_sub, ":var20", ":var10", ":var19"),
    (faction_get_slot, ":var21", ":var1", 42),
    (set_visitors, ":var0", ":var21", ":var15"),
    (val_add, ":var0", 1),
    (faction_get_slot, ":var21", ":var1", 41),
    (set_visitors, ":var0", ":var21", ":var16"),
    (val_add, ":var0", 1),
    (faction_get_slot, ":var21", ":var1", 46),
    (set_visitors, ":var0", ":var21", ":var19"),
    (val_add, ":var0", 1),
    (faction_get_slot, ":var21", ":var1", 45),
    (set_visitors, ":var0", ":var21", ":var20"),
    (val_add, ":var0", 1),
    (try_begin),
      (eq, ":var5", 0),
      (faction_get_slot, ":var21", ":var1", 44),
      (set_visitors, ":var0", ":var21", ":var17"),
      (val_add, ":var0", 1),
      (faction_get_slot, ":var21", ":var1", 43),
      (set_visitors, ":var0", ":var21", ":var18"),
      (val_add, ":var0", 1),
    (else_try),
      (assign, ":var0", 40),
      (store_div, ":var22", ":var18", 8),
      (val_mul, ":var22", 8),
      (try_begin),
        (neq, ":var22", ":var18"),
        (val_div, ":var22", 8),
        (val_add, ":var22", 1),
        (val_mul, ":var22", 8),
      (try_end),
      (store_div, ":var23", ":var17", 8),
      (val_mul, ":var23", 8),
      (try_begin),
        (neq, ":var23", ":var17"),
        (val_div, ":var23", 8),
        (val_add, ":var23", 1),
        (val_mul, ":var23", 8),
      (try_end),
      (store_add, ":var24", ":var22", ":var23"),
      (store_div, ":var25", ":var24", 8),
      (assign, ":var26", ":var18"),
      (assign, ":var27", ":var17"),
      (assign, ":var28", 1000),
      (try_for_range, ":var29", 0, ":var28"),
        (try_begin),
          (gt, ":var27", 0),
          (assign, ":var30", ":var25"),
          (val_min, ":var30", ":var27"),
          (faction_get_slot, ":var21", ":var1", 44),
          (set_visitors, ":var0", ":var21", ":var30"),
          (val_add, ":var0", 1),
          (val_sub, ":var27", ":var30"),
        (else_try),
          (gt, ":var26", 0),
          (assign, ":var31", ":var25"),
          (val_min, ":var31", ":var26"),
          (faction_get_slot, ":var21", ":var1", 43),
          (set_visitors, ":var0", ":var21", ":var31"),
          (val_add, ":var0", 1),
          (val_sub, ":var26", ":var31"),
        (else_try),
          (assign, ":var28", 0),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("player_arrived",
  [
    (assign, ":var0", "fac_culture_player"),
    (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
    (faction_set_slot, "fac_player_faction", 10, ":var0"),
  ]),

  ("game_set_multiplayer_mission_end",
  [
    (assign, "$g_multiplayer_mission_end_screen", 1),
  ]),

  ("game_enable_cheat_menu",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (eq, ":var0", 0),
      (assign, "$cheat_mode", 0),
    (else_try),
      (eq, ":var0", 1),
      (assign, "$cheat_mode", 1),
    (try_end),
  ]),

  ("game_get_console_command",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, ":var0", 2),
      (store_script_param, ":var2", 3),
    (try_end),
    (try_begin),
      (eq, ":var0", 1),
      (assign, reg0, ":var1"),
      (try_begin),
        (eq, ":var1", 1),
        (assign, reg1, "$g_multiplayer_num_bots_team_1"),
        (str_store_string, s0, "str_team_reg0_bot_count_is_reg1"),
      (else_try),
        (eq, ":var1", 2),
        (assign, reg1, "$g_multiplayer_num_bots_team_2"),
        (str_store_string, s0, "str_team_reg0_bot_count_is_reg1"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 2),
      (assign, reg0, ":var1"),
      (assign, reg1, ":var2"),
      (try_begin),
        (eq, ":var1", 1),
        (ge, ":var2", 0),
        (assign, "$g_multiplayer_num_bots_team_1", ":var2"),
        (str_store_string, s0, "str_team_reg0_bot_count_is_reg1"),
      (else_try),
        (eq, ":var1", 2),
        (ge, ":var2", 0),
        (assign, "$g_multiplayer_num_bots_team_2", ":var2"),
        (str_store_string, s0, "str_team_reg0_bot_count_is_reg1"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 3),
      (assign, reg0, "$g_multiplayer_round_max_seconds"),
      (str_store_string, s0, "str_maximum_seconds_for_round_is_reg0"),
    (else_try),
      (eq, ":var0", 4),
      (assign, reg0, ":var1"),
      (try_begin),
        (is_between, ":var1", 60, 901),
        (assign, "$g_multiplayer_round_max_seconds", ":var1"),
        (str_store_string, s0, "str_maximum_seconds_for_round_is_reg0"),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 59, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 5),
      (assign, reg0, "$g_multiplayer_respawn_period"),
      (str_store_string, s0, "str_respawn_period_is_reg0_seconds"),
    (else_try),
      (eq, ":var0", 6),
      (assign, reg0, ":var1"),
      (try_begin),
        (is_between, ":var1", 3, 31),
        (assign, "$g_multiplayer_respawn_period", ":var1"),
        (str_store_string, s0, "str_respawn_period_is_reg0_seconds"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 7),
      (assign, reg0, "$g_multiplayer_num_bots_voteable"),
      (str_store_string, s0, "str_bots_upper_limit_for_votes_is_reg0"),
    (else_try),
      (eq, ":var0", 8),
      (try_begin),
        (is_between, ":var1", 0, 51),
        (assign, "$g_multiplayer_num_bots_voteable", ":var1"),
        (store_add, "$g_multiplayer_max_num_bots", ":var1", 1),
        (assign, reg0, "$g_multiplayer_num_bots_voteable"),
        (str_store_string, s0, "str_bots_upper_limit_for_votes_is_reg0"),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 81, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 9),
      (try_begin),
        (eq, "$g_multiplayer_maps_voteable", 1),
        (str_store_string, s0, "str_map_is_voteable"),
      (else_try),
        (str_store_string, s0, "str_map_is_not_voteable"),
      (try_end),
    (else_try),
      (eq, ":var0", 10),
      (try_begin),
        (is_between, ":var1", 0, 2),
        (assign, "$g_multiplayer_maps_voteable", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s0, "str_map_is_voteable"),
        (else_try),
          (str_store_string, s0, "str_map_is_not_voteable"),
        (try_end),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 83, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 11),
      (try_begin),
        (eq, "$g_multiplayer_factions_voteable", 1),
        (str_store_string, s0, "str_factions_are_voteable"),
      (else_try),
        (str_store_string, s0, "str_factions_are_not_voteable"),
      (try_end),
    (else_try),
      (eq, ":var0", 12),
      (try_begin),
        (is_between, ":var1", 0, 2),
        (assign, "$g_multiplayer_factions_voteable", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s0, "str_factions_are_voteable"),
        (else_try),
          (str_store_string, s0, "str_factions_are_not_voteable"),
        (try_end),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 82, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 13),
      (try_begin),
        (eq, "$g_multiplayer_player_respawn_as_bot", 1),
        (str_store_string, s0, "str_players_respawn_as_bot"),
      (else_try),
        (str_store_string, s0, "str_players_do_not_respawn_as_bot"),
      (try_end),
    (else_try),
      (eq, ":var0", 14),
      (try_begin),
        (is_between, ":var1", 0, 2),
        (assign, "$g_multiplayer_player_respawn_as_bot", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s0, "str_players_respawn_as_bot"),
        (else_try),
          (str_store_string, s0, "str_players_do_not_respawn_as_bot"),
        (try_end),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 85, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 15),
      (try_begin),
        (eq, "$g_multiplayer_kick_voteable", 1),
        (str_store_string, s0, "str_kicking_a_player_is_voteable"),
      (else_try),
        (str_store_string, s0, "str_kicking_a_player_is_not_voteable"),
      (try_end),
    (else_try),
      (eq, ":var0", 16),
      (try_begin),
        (is_between, ":var1", 0, 2),
        (assign, "$g_multiplayer_kick_voteable", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s0, "str_kicking_a_player_is_voteable"),
        (else_try),
          (str_store_string, s0, "str_kicking_a_player_is_not_voteable"),
        (try_end),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 90, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 17),
      (try_begin),
        (eq, "$g_multiplayer_ban_voteable", 1),
        (str_store_string, s0, "str_banning_a_player_is_voteable"),
      (else_try),
        (str_store_string, s0, "str_banning_a_player_is_not_voteable"),
      (try_end),
    (else_try),
      (eq, ":var0", 18),
      (try_begin),
        (is_between, ":var1", 0, 2),
        (assign, "$g_multiplayer_ban_voteable", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s0, "str_banning_a_player_is_voteable"),
        (else_try),
          (str_store_string, s0, "str_banning_a_player_is_not_voteable"),
        (try_end),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 91, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 19),
      (assign, reg0, "$g_multiplayer_valid_vote_ratio"),
      (str_store_string, s0, "str_percentage_of_yes_votes_required_for_a_poll_to_get_accepted_is_reg0"),
    (else_try),
      (eq, ":var0", 20),
      (try_begin),
        (is_between, ":var1", 50, 101),
        (assign, "$g_multiplayer_valid_vote_ratio", ":var1"),
        (assign, reg0, ":var1"),
        (str_store_string, s0, "str_percentage_of_yes_votes_required_for_a_poll_to_get_accepted_is_reg0"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 21),
      (assign, reg0, "$g_multiplayer_auto_team_balance_limit"),
      (str_store_string, s0, "str_auto_team_balance_threshold_is_reg0"),
    (else_try),
      (eq, ":var0", 22),
      (try_begin),
        (is_between, ":var1", 2, 7),
        (assign, "$g_multiplayer_auto_team_balance_limit", ":var1"),
        (assign, reg0, "$g_multiplayer_auto_team_balance_limit"),
        (str_store_string, s0, "str_auto_team_balance_threshold_is_reg0"),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 93, ":var1"),
        (try_end),
      (else_try),
        (ge, ":var1", 7),
        (assign, "$g_multiplayer_auto_team_balance_limit", 1000),
        (assign, reg0, "$g_multiplayer_auto_team_balance_limit"),
        (str_store_string, s0, "str_auto_team_balance_threshold_is_reg0"),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 93, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 23),
      (assign, reg0, "$g_multiplayer_initial_gold_multiplier"),
      (str_store_string, s0, "str_starting_gold_ratio_is_reg0"),
    (else_try),
      (eq, ":var0", 24),
      (try_begin),
        (is_between, ":var1", 0, 1001),
        (assign, "$g_multiplayer_initial_gold_multiplier", ":var1"),
        (assign, reg0, "$g_multiplayer_initial_gold_multiplier"),
        (str_store_string, s0, "str_starting_gold_ratio_is_reg0"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 25),
      (assign, reg0, "$g_multiplayer_battle_earnings_multiplier"),
      (str_store_string, s0, "str_combat_gold_bonus_ratio_is_reg0"),
    (else_try),
      (eq, ":var0", 26),
      (try_begin),
        (is_between, ":var1", 0, 1001),
        (assign, "$g_multiplayer_battle_earnings_multiplier", ":var1"),
        (assign, reg0, "$g_multiplayer_battle_earnings_multiplier"),
        (str_store_string, s0, "str_combat_gold_bonus_ratio_is_reg0"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 27),
      (assign, reg0, "$g_multiplayer_round_earnings_multiplier"),
      (str_store_string, s0, "str_round_gold_bonus_ratio_is_reg0"),
    (else_try),
      (eq, ":var0", 28),
      (try_begin),
        (is_between, ":var1", 0, 1001),
        (assign, "$g_multiplayer_round_earnings_multiplier", ":var1"),
        (assign, reg0, "$g_multiplayer_round_earnings_multiplier"),
        (str_store_string, s0, "str_round_gold_bonus_ratio_is_reg0"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 29),
      (try_begin),
        (eq, "$g_multiplayer_allow_player_banners", 1),
        (str_store_string, s0, "str_player_banners_are_allowed"),
      (else_try),
        (str_store_string, s0, "str_player_banners_are_not_allowed"),
      (try_end),
    (else_try),
      (eq, ":var0", 30),
      (try_begin),
        (is_between, ":var1", 0, 2),
        (assign, "$g_multiplayer_allow_player_banners", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s0, "str_player_banners_are_allowed"),
        (else_try),
          (str_store_string, s0, "str_player_banners_are_not_allowed"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 31),
      (try_begin),
        (eq, "$g_multiplayer_force_default_armor", 1),
        (str_store_string, s0, "str_default_armor_is_forced"),
      (else_try),
        (str_store_string, s0, "str_default_armor_is_not_forced"),
      (try_end),
    (else_try),
      (eq, ":var0", 32),
      (try_begin),
        (is_between, ":var1", 0, 2),
        (assign, "$g_multiplayer_force_default_armor", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s0, "str_default_armor_is_forced"),
        (else_try),
          (str_store_string, s0, "str_default_armor_is_not_forced"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 33),
      (assign, reg0, "$g_multiplayer_point_gained_from_flags"),
      (str_store_string, s0, "str_point_gained_from_flags_is_reg0"),
    (else_try),
      (eq, ":var0", 34),
      (try_begin),
        (is_between, ":var1", 25, 401),
        (assign, "$g_multiplayer_point_gained_from_flags", ":var1"),
        (assign, reg0, "$g_multiplayer_point_gained_from_flags"),
        (str_store_string, s0, "str_point_gained_from_flags_is_reg0"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 35),
      (assign, reg0, "$g_multiplayer_point_gained_from_capturing_flag"),
      (str_store_string, s0, "str_point_gained_from_capturing_flag_is_reg0"),
    (else_try),
      (eq, ":var0", 36),
      (try_begin),
        (is_between, ":var1", 0, 11),
        (assign, "$g_multiplayer_point_gained_from_capturing_flag", ":var1"),
        (assign, reg0, "$g_multiplayer_point_gained_from_capturing_flag"),
        (str_store_string, s0, "str_point_gained_from_capturing_flag_is_reg0"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 37),
      (assign, reg0, "$g_multiplayer_game_max_minutes"),
      (str_store_string, s0, "str_map_time_limit_is_reg0"),
    (else_try),
      (eq, ":var0", 38),
      (try_begin),
        (is_between, ":var1", 5, 121),
        (assign, "$g_multiplayer_game_max_minutes", ":var1"),
        (assign, reg0, "$g_multiplayer_game_max_minutes"),
        (str_store_string, s0, "str_map_time_limit_is_reg0"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 39),
      (assign, reg0, "$g_multiplayer_game_max_points"),
      (str_store_string, s0, "str_team_points_limit_is_reg0"),
    (else_try),
      (eq, ":var0", 40),
      (try_begin),
        (is_between, ":var1", 3, 1001),
        (assign, "$g_multiplayer_game_max_points", ":var1"),
        (assign, reg0, "$g_multiplayer_game_max_points"),
        (str_store_string, s0, "str_team_points_limit_is_reg0"),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 41),
      (assign, reg0, "$g_multiplayer_number_of_respawn_count"),
      (try_begin),
        (eq, reg0, 0),
        (str_store_string, s1, "str_unlimited"),
      (else_try),
        (str_store_string, s1, "str_reg0"),
      (try_end),
      (str_store_string, s0, "str_defender_spawn_count_limit_is_s1"),
    (else_try),
      (eq, ":var0", 42),
      (try_begin),
        (is_between, ":var1", 0, 6),
        (assign, "$g_multiplayer_number_of_respawn_count", ":var1"),
        (assign, reg0, "$g_multiplayer_number_of_respawn_count"),
        (try_begin),
          (eq, reg0, 0),
          (str_store_string, s1, "str_unlimited"),
        (else_try),
          (str_store_string, s1, "str_reg0"),
        (try_end),
        (str_store_string, s0, "str_defender_spawn_count_limit_is_s1"),
        (get_max_players, ":var3"),
        (try_for_range, ":var4", 1, ":var3"),
          (player_is_active, ":var4"),
          (multiplayer_send_int_to_player, ":var4", 88, ":var1"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (eq, ":var0", 43),
      (try_begin),
        (eq, "$g_multiplayer_disallow_ranged_weapons", 1),
        (str_store_string, s0, "str_ranged_weapons_are_disallowed"),
      (else_try),
        (str_store_string, s0, "str_ranged_weapons_are_allowed"),
      (try_end),
    (else_try),
      (eq, ":var0", 44),
      (try_begin),
        (is_between, ":var1", 0, 2),
        (assign, "$g_multiplayer_disallow_ranged_weapons", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s0, "str_ranged_weapons_are_disallowed"),
        (else_try),
          (str_store_string, s0, "str_ranged_weapons_are_allowed"),
        (try_end),
      (else_try),
        (str_store_string, s0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
      (try_end),
    (else_try),
      (str_store_string, s0, "@{!}DEBUG : SYSTEM ERROR!"),
    (try_end),
  ]),

  ("game_event_party_encounter",
  [
    (store_script_param_1, "$g_encountered_party"),
    (store_script_param_2, "$g_encountered_party_2"),
    (store_faction_of_party, "$g_encountered_party_faction", "$g_encountered_party"),
    (store_relation, "$g_encountered_party_relation", "$g_encountered_party_faction", "fac_player_faction"),
    (party_get_slot, "$g_encountered_party_type", "$g_encountered_party", 0),
    (party_get_template_id, "$g_encountered_party_template", "$g_encountered_party"),
    (call_script, "script_party_count_fit_regulars", "p_main_party"),
    (assign, "$playerparty_prebattle_regulars", reg0),
    (try_begin),
      (eq, "$culture_pool_initialized", 1),
      (eq, "$culture_pool", 1),
      (call_script, "script_rebalance_troops_by_culture"),
    (try_end),
    (assign, "$g_last_rest_center", -1),
    (assign, "$talk_context", 0),
    (assign, "$g_player_surrenders", 0),
    (assign, "$g_enemy_surrenders", 0),
    (assign, "$g_leave_encounter", 0),
    (assign, "$g_engaged_enemy", 0),
    (try_begin),
      (neg|is_between, "$g_encountered_party", "p_town_1_1", "p_salt_mine"),
      (rest_for_hours, 0),
      (assign, "$g_infinite_camping", 0),
    (try_end),
    (assign, "$new_encounter", 1),
    (try_begin),
      (lt, "$g_encountered_party_2", 0),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (jump_to_menu, "mnu_castle_outside"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 2),
        (jump_to_menu, "mnu_castle_outside"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 16),
        (jump_to_menu, "mnu_ship_reembark"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (jump_to_menu, "mnu_village"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 17),
        (jump_to_menu, "mnu_cattle_herd"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 35),
        (jump_to_menu, "mnu_outpost"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 53),
        (jump_to_menu, "mnu_fort"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 33),
        (jump_to_menu, "mnu_player_camp"),
      (else_try),
        (is_between, "$g_encountered_party", "p_training_ground", "p_bridge_1"),
        (jump_to_menu, "mnu_training_ground"),
      (else_try),
        (party_get_template_id, ":var0", "$g_encountered_party"),
        (ge, ":var0", "pt_steppe_bandit_lair"),
        (lt, ":var0", "pt_bandit_lair_templates_end"),
        (assign, "$loot_screen_shown", 0),
        (jump_to_menu, "mnu_bandit_lair"),
      (else_try),
        (eq, "$g_encountered_party", "p_zendar"),
        (jump_to_menu, "mnu_zendar"),
      (else_try),
        (eq, "$g_encountered_party", "p_salt_mine"),
        (jump_to_menu, "mnu_salt_mine"),
      (else_try),
        (eq, "$g_encountered_party", "p_four_ways_inn"),
        (jump_to_menu, "mnu_four_ways_inn"),
      (else_try),
        (eq, "$g_encountered_party", "p_test_scene"),
        (jump_to_menu, "mnu_test_scene"),
      (else_try),
        (eq, "$g_encountered_party", "p_battlefields"),
        (jump_to_menu, "mnu_battlefields"),
      (else_try),
        (eq, "$g_encountered_party", "p_training_ground"),
        (jump_to_menu, "mnu_tutorial"),
      (else_try),
        (eq, "$g_encountered_party", "p_camp_bandits"),
        (jump_to_menu, "mnu_camp"),
      (else_try),
        (eq, "$g_encountered_party_template", "pt_manor"),
        (jump_to_menu, "mnu_manor_center"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 256, 1),
        (eq, "$g_encountered_party_template", "pt_mongolian_camp"),
        (jump_to_menu, "mnu_mongol_camp"),
      (else_try),
        (jump_to_menu, "mnu_simple_encounter"),
      (try_end),
    (else_try),
      (try_begin),
        (this_or_next|party_slot_eq, "$g_encountered_party", 0, 3),
        (party_slot_eq, "$g_encountered_party", 0, 2),
        (try_begin),
          (eq, "$auto_enter_town", "$g_encountered_party"),
          (jump_to_menu, "mnu_town"),
        (else_try),
          (eq, "$auto_besiege_town", "$g_encountered_party"),
          (jump_to_menu, "mnu_besiegers_camp_with_allies"),
        (else_try),
          (jump_to_menu, "mnu_join_siege_outside"),
        (try_end),
      (else_try),
        (jump_to_menu, "mnu_pre_join"),
      (try_end),
    (try_end),
    (assign, "$auto_enter_town", 0),
    (assign, "$auto_besiege_town", 0),
  ]),

  ("game_event_simulate_battle",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, "$marshall_defeated_in_battle", -1),
    (store_current_hours, ":var2"),
    (try_for_parties, ":var3"),
      (party_get_battle_opponent, ":var4", ":var3"),
      (gt, ":var4", 0),
      (party_set_slot, ":var3", 68, ":var2"),
    (try_end),
    (assign, ":var5", 1),
    (try_begin),
      (ge, ":var0", 1),
      (party_slot_eq, ":var0", 0, 33),
      (ge, "$g_camp_mode", 1),
      (eq, "$auto_enter_town", ":var0"),
      (assign, ":var5", 0),
      (assign, "$g_camp_mode", 0),
      (assign, "$g_player_icon_state", 0),
      (rest_for_hours, 0, 0, 0),
      (start_encounter, ":var0"),
    (else_try),
      (ge, ":var0", 0),
      (ge, ":var1", 0),
      (party_is_active, ":var0"),
      (party_is_active, ":var1"),
      (store_faction_of_party, ":var6", ":var0"),
      (store_faction_of_party, ":var7", ":var1"),
      (store_relation, ":var8", ":var6", ":var7"),
      (lt, ":var8", 0),
      (assign, ":var5", 0),
      (try_begin),
        (this_or_next|eq, "$g_battle_simulation_cancel_for_party", ":var0"),
        (eq, "$g_battle_simulation_cancel_for_party", ":var1"),
        (assign, "$g_battle_simulation_cancel_for_party", -1),
        (assign, "$auto_enter_town", "$g_battle_simulation_auto_enter_town_after_battle"),
        (assign, ":var5", 1),
      (else_try),
        (try_begin),
          (this_or_next|party_slot_eq, ":var0", 2, 1),
          (party_slot_eq, ":var1", 2, 1),
          (assign, ":var5", 1),
        (try_end),
        (party_set_slot, ":var1", 2, 0),
        (party_collect_attachments_to_party, ":var0", "p_collective_ally"),
        (party_collect_attachments_to_party, ":var1", "p_collective_enemy"),
        (call_script, "script_party_calculate_strength", "p_collective_ally", 0),
        (assign, ":var9", reg0),
        (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
        (assign, ":var10", reg0),
        (store_div, ":var9", ":var9", 10),
        (val_min, ":var9", 150),
        (val_max, ":var9", 1),
        (store_div, ":var10", ":var10", 10),
        (val_min, ":var10", 150),
        (val_add, ":var10", 1),
        (try_begin),
          (this_or_next|party_slot_eq, ":var0", 0, 2),
          (party_slot_eq, ":var0", 0, 3),
          (val_mul, ":var9", 130),
          (val_div, ":var9", 100),
          (val_mul, ":var10", 100),
          (val_div, ":var10", 130),
        (try_end),
        (call_script, "script_party_count_fit_for_battle", "p_collective_ally", 0),
        (assign, ":var11", reg0),
        (try_begin),
          (neg|is_currently_night),
        (else_try),
          (is_currently_night),
          (val_mul, ":var10", 100),
          (val_div, ":var10", 300),
          (val_mul, ":var9", 100),
          (val_div, ":var9", 300),
        (try_end),
        (try_begin),
          (inflict_casualties_to_party_group, ":var1", ":var9", "p_temp_casualties_attacker"),
          (party_collect_attachments_to_party, ":var1", "p_collective_enemy"),
        (try_end),
        (call_script, "script_party_count_fit_for_battle", "p_collective_enemy", 0),
        (assign, ":var12", reg0),
        (try_begin),
          (gt, ":var12", 0),
          (inflict_casualties_to_party_group, ":var0", ":var10", "p_temp_casualties_defender"),
          (party_collect_attachments_to_party, ":var0", "p_collective_ally"),
        (try_end),
        (call_script, "script_party_count_fit_for_battle", "p_collective_ally", 0),
        (assign, ":var13", reg0),
        (try_begin),
          (this_or_next|eq, ":var12", 0),
          (eq, ":var13", 0),
          (assign, ":var14", 0),
          (try_begin),
            (neg|troop_is_wounded, "trp_player"),
            (eq, ":var13", 0),
            (eq, "$auto_enter_town", "$g_encountered_party"),
            (eq, ":var11", ":var13"),
            (assign, ":var14", 1),
          (try_end),
          (eq, ":var14", 0),
          (try_begin),
            (eq, ":var12", 0),
            (eq, ":var13", 0),
            (assign, ":var15", -1),
            (assign, ":var16", -1),
            (assign, ":var17", -1),
          (else_try),
            (eq, ":var12", 0),
            (assign, ":var15", ":var0"),
            (assign, ":var16", ":var1"),
            (assign, ":var17", "p_collective_enemy"),
          (else_try),
            (assign, ":var15", ":var1"),
            (assign, ":var16", ":var0"),
            (assign, ":var17", "p_collective_ally"),
          (try_end),
          (try_begin),
            (gt, ":var16", -1),
            (party_slot_eq, ":var16", 0, 11),
            (party_get_slot, ":var18", ":var16", 470),
            (party_set_slot, ":var16", 49, 0),
            (party_set_slot, ":var16", 50, 0),
            (gt, ":var18", 0),
            (val_add, ":var18", 1),
            (try_for_range, ":var19", 1, ":var18"),
              (store_add, ":var20", 470, ":var19"),
              (party_set_slot, ":var16", ":var20", 0),
            (try_end),
          (try_end),
          (try_begin),
            (ge, ":var15", 0),
            (call_script, "script_get_nonempty_party_in_group", ":var15"),
            (assign, ":var21", reg0),
            (store_faction_of_party, ":var22", ":var21"),
            (store_faction_of_party, ":var23", ":var16"),
          (else_try),
            (assign, ":var21", -1),
          (try_end),
          (try_begin),
            (faction_get_slot, ":var24", ":var22", 121),
            (val_add, ":var24", 1),
            (faction_set_slot, ":var22", 121, ":var24"),
            (faction_get_slot, ":var24", ":var23", 122),
            (val_add, ":var24", 1),
            (faction_set_slot, ":var23", 122, ":var24"),
            (faction_get_slot, ":var24", ":var7", 123),
            (store_party_size, ":var25", "p_temp_casualties_defender"),
            (val_add, ":var24", ":var25"),
            (faction_set_slot, ":var7", 123, ":var24"),
            (faction_get_slot, ":var24", ":var6", 123),
            (store_party_size, ":var25", "p_temp_casualties_attacker"),
            (val_add, ":var24", ":var25"),
            (faction_set_slot, ":var6", 123, ":var24"),
            (try_begin),
              (assign, ":var26", 0),
              (party_get_num_companion_stacks, ":var27", "p_collective_ally"),
              (try_for_range, ":var28", 0, ":var27"),
                (party_stack_get_size, ":var29", "p_collective_ally", ":var28"),
                (party_stack_get_num_wounded, ":var30", "p_collective_ally", ":var28"),
                (val_sub, ":var29", ":var30"),
                (val_add, ":var26", ":var29"),
              (try_end),
              (faction_get_slot, ":var24", ":var7", 124),
              (val_add, ":var24", ":var26"),
              (faction_set_slot, ":var7", 124, ":var24"),
            (try_end),
            (try_begin),
              (assign, ":var26", 0),
              (party_get_num_companion_stacks, ":var27", "p_collective_enemy"),
              (try_for_range, ":var28", 0, ":var27"),
                (party_stack_get_size, ":var29", "p_collective_enemy", ":var28"),
                (party_stack_get_num_wounded, ":var30", "p_collective_enemy", ":var28"),
                (val_sub, ":var29", ":var30"),
                (val_add, ":var26", ":var29"),
              (try_end),
              (faction_get_slot, ":var24", ":var6", 124),
              (val_add, ":var24", ":var26"),
              (faction_set_slot, ":var6", 124, ":var24"),
            (try_end),
            (faction_get_slot, ":var24", ":var7", 126),
            (store_party_size, ":var25", "p_temp_casualties_attacker"),
            (val_add, ":var24", ":var25"),
            (faction_set_slot, ":var7", 126, ":var24"),
            (faction_get_slot, ":var24", ":var6", 126),
            (store_party_size, ":var25", "p_temp_casualties_defender"),
            (val_add, ":var24", ":var25"),
            (faction_set_slot, ":var6", 126, ":var24"),
            (try_begin),
              (assign, ":var26", 0),
              (party_get_num_companion_stacks, ":var27", "p_collective_enemy"),
              (try_for_range, ":var28", 0, ":var27"),
                (party_stack_get_size, ":var29", "p_collective_enemy", ":var28"),
                (party_stack_get_num_wounded, ":var30", "p_collective_enemy", ":var28"),
                (val_sub, ":var29", ":var30"),
                (val_add, ":var26", ":var29"),
              (try_end),
              (faction_get_slot, ":var24", ":var7", 127),
              (val_add, ":var24", ":var26"),
              (faction_set_slot, ":var7", 127, ":var24"),
            (try_end),
            (try_begin),
              (assign, ":var26", 0),
              (party_get_num_companion_stacks, ":var27", "p_collective_ally"),
              (try_for_range, ":var28", 0, ":var27"),
                (party_stack_get_size, ":var29", "p_collective_ally", ":var28"),
                (party_stack_get_num_wounded, ":var30", "p_collective_ally", ":var28"),
                (val_sub, ":var29", ":var30"),
                (val_add, ":var26", ":var29"),
              (try_end),
              (faction_get_slot, ":var24", ":var6", 127),
              (val_add, ":var24", ":var26"),
              (faction_set_slot, ":var6", 127, ":var24"),
            (try_end),
            (faction_get_slot, ":var24", ":var23", 128),
            (store_party_size, ":var25", ":var17"),
            (val_add, ":var24", ":var25"),
            (faction_set_slot, ":var23", 128, ":var24"),
            (faction_get_slot, ":var24", ":var22", 125),
            (store_party_size, ":var25", ":var17"),
            (val_add, ":var24", ":var25"),
            (faction_set_slot, ":var22", 125, ":var24"),
          (try_end),
          (try_begin),
            (party_get_template_id, ":var31", ":var16"),
            (try_begin),
              (eq, ":var31", "pt_forager_party"),
              (faction_get_slot, ":var24", ":var23", 500),
              (val_sub, ":var24", 1),
              (faction_set_slot, ":var23", 500, ":var24"),
            (else_try),
              (eq, ":var31", "pt_scout_party"),
              (faction_get_slot, ":var24", ":var23", 501),
              (val_sub, ":var24", 1),
              (faction_set_slot, ":var23", 501, ":var24"),
            (else_try),
              (eq, ":var31", "pt_patrol_party"),
              (faction_get_slot, ":var24", ":var23", 502),
              (val_sub, ":var24", 1),
              (faction_set_slot, ":var23", 502, ":var24"),
            (else_try),
              (eq, ":var31", "pt_kingdom_caravan_party"),
              (faction_get_slot, ":var24", ":var23", 503),
              (val_sub, ":var24", 1),
              (faction_set_slot, ":var23", 503, ":var24"),
            (else_try),
              (eq, ":var31", "pt_prisoner_train_party"),
              (faction_get_slot, ":var24", ":var23", 504),
              (val_sub, ":var24", 1),
              (faction_set_slot, ":var23", 504, ":var24"),
            (else_try),
              (eq, ":var31", "pt_war_party"),
              (faction_get_slot, ":var24", ":var23", 505),
              (val_sub, ":var24", 1),
              (faction_set_slot, ":var23", 505, ":var24"),
            (else_try),
              (eq, ":var31", "pt_mercenary_company"),
              (faction_get_slot, ":var24", ":var23", 506),
              (val_sub, ":var24", 1),
              (faction_set_slot, ":var23", 506, ":var24"),
            (else_try),
              (eq, ":var31", "pt_wagon_train_template"),
              (assign, "$wagon_active", 0),
              (display_message, "@Your wagon train has been destroyed in battle!", 0xFF5050),
            (try_end),
          (try_end),
          (try_begin),
            (ge, ":var17", 0),
            (party_get_num_companion_stacks, ":var27", ":var17"),
          (else_try),
            (assign, ":var27", 0),
          (try_end),
          (try_begin),
            (assign, ":var32", -1),
            (ge, ":var15", 0),
            (party_stack_get_troop_id, ":var33", ":var15", 0),
            (troop_is_hero, ":var33"),
            (gt, ":var33", 0),
            (assign, ":var32", ":var33"),
          (try_end),
          (try_for_range, ":var34", 0, ":var27"),
            (party_stack_get_troop_id, ":var33", ":var17", ":var34"),
            (troop_is_hero, ":var33"),
            (try_begin),
              (check_quest_active, "qst_lend_surgeon"),
              (quest_slot_eq, "qst_lend_surgeon", 6, ":var33"),
              (call_script, "script_abort_quest", "qst_lend_surgeon", 0),
            (try_end),
            (call_script, "script_remove_troop_from_prison", ":var33"),
            (troop_set_slot, ":var33", 10, -1),
            (store_random_in_range, ":var35", 0, 100),
            (str_store_troop_name_link, s1, ":var33"),
            (str_store_faction_name_link, s2, ":var22"),
            (store_faction_of_troop, ":var36", ":var33"),
            (str_store_faction_name_link, s3, ":var36"),
            (try_begin),
              (assign, ":var37", 70),
              (gt, ":var32", -1),
              (troop_is_hero, ":var32"),
              (store_skill_level, ":var38", "skl_prisoner_management", ":var32"),
              (str_store_troop_name_link, s4, ":var32"),
              (store_mul, ":var39", ":var38", 4),
              (val_sub, ":var37", ":var39"),
              (ge, ":var35", ":var37"),
              (party_stack_get_troop_id, ":var40", ":var21", 0),
              (is_between, ":var40", "trp_npc1", "trp_knight_1_1_wife"),
              (troop_slot_eq, ":var40", 166, 1),
              (try_begin),
                (call_script, "script_get_troop_relation_with_troop", ":var40", ":var33"),
                (assign, ":var41", reg1),
                (lt, ":var41", -10),
                (troop_get_slot, ":var42", ":var40", 52),
                (assign, ":var43", 0),
                (try_begin),
                  (eq, ":var42", 5),
                  (call_script, "script_rand", -30, -15),
                  (val_add, ":var43", reg0),
                (else_try),
                  (eq, ":var42", 2),
                  (call_script, "script_rand", -20, -10),
                  (val_add, ":var43", reg0),
                (else_try),
                  (eq, ":var42", 3),
                  (call_script, "script_rand", -15, 0),
                  (val_add, ":var43", reg0),
                (else_try),
                  (eq, ":var42", 4),
                  (call_script, "script_rand", -10, -3),
                  (val_add, ":var43", reg0),
                (else_try),
                  (eq, ":var42", 7),
                  (call_script, "script_rand", -8, 0),
                  (val_add, ":var43", reg0),
                (else_try),
                  (eq, ":var42", 6),
                  (call_script, "script_rand", -4, 0),
                  (val_sub, ":var43", reg0),
                (try_end),
                (val_sub, ":var41", ":var43"),
                (call_script, "script_rand", -100, 0),
                (assign, ":var37", reg0),
                (gt, ":var37", ":var41"),
                (call_script, "script_kill_lord_execution", ":var40", ":var33", -1, 5, 2),
                (call_script, "script_get_message_color", 1, ":var33"),
              (else_try),
                (party_add_prisoners, ":var21", ":var33", 1),
                (gt, reg0, 0),
                (troop_set_slot, ":var33", 8, ":var21"),
                (call_script, "script_get_message_color", 2, ":var33"),
                (display_log_message, "@{s1} of {s3} has been taken prisoner by {s2}.", reg20),
              (try_end),
              (try_begin),
                (call_script, "script_cf_prisoner_offered_parole", ":var33"),
                (try_begin),
                  (eq, "$cheat_mode", 1),
                  (display_message, "@{!}DEBUG : Prisoner granted parole"),
                (try_end),
                (call_script, "script_troop_change_relation_with_troop", ":var40", ":var33", 3),
                (val_add, "$total_battle_enemy_changes", 3),
              (else_try),
                (try_begin),
                  (eq, "$cheat_mode", 1),
                  (display_message, "@{!}DEBUG : Prisoner not offered parole"),
                (try_end),
                (call_script, "script_troop_change_relation_with_troop", ":var40", ":var33", -5),
                (val_add, "$total_battle_enemy_changes", -5),
              (try_end),
              (store_faction_of_party, ":var44", ":var21"),
              (call_script, "script_update_troop_location_notes_prisoned", ":var33", ":var44"),
            (else_try),
              (try_begin),
                (party_stack_get_troop_id, ":var40", ":var21", 0),
                (is_between, ":var40", "trp_npc1", "trp_knight_1_1_wife"),
                (troop_slot_eq, ":var40", 166, 1),
                (call_script, "script_rand", 0, 100),
                (assign, ":var37", reg0),
                (try_begin),
                  (faction_slot_eq, ":var36", 11, ":var33"),
                  (lt, ":var37", "$g_lord_death_chance_battle_king"),
                  (call_script, "script_get_message_color", 1, ":var33"),
                  (display_log_message, "@{s1} of the {s3} was killed in battle by the {s2}!", reg20),
                  (call_script, "script_kill_lord_battle", ":var40", ":var33"),
                (else_try),
                  (neg|faction_slot_eq, ":var36", 11, ":var33"),
                  (lt, ":var37", "$g_lord_death_chance_battle"),
                  (call_script, "script_get_message_color", 1, ":var33"),
                  (display_log_message, "@{s1} of the {s3} was killed in battle by the {s2}!", reg20),
                  (call_script, "script_kill_lord_battle", ":var40", ":var33"),
                (else_try),
                  (is_between, ":var22", "fac_player_supporters_faction", "fac_kingdoms_end"),
                  (call_script, "script_get_message_color", 1, ":var33"),
                  (display_log_message, "@{s1} of the {s3} was defeated in battle by the {s2} but managed to escape.", reg20),
                  (val_add, "$total_battle_enemy_changes", -2),
                  (call_script, "script_change_troop_renown", ":var33", -10),
                (else_try),
                  (neg|is_between, ":var22", "fac_player_supporters_faction", "fac_kingdoms_end"),
                  (call_script, "script_get_message_color", 1, ":var33"),
                  (display_log_message, "@{s1} of the {s3} was defeated in battle but managed to escape.", reg20),
                  (call_script, "script_change_troop_renown", ":var33", -10),
                (try_end),
              (try_end),
            (try_end),
            (try_begin),
              (store_faction_of_troop, ":var45", ":var33"),
              (is_between, ":var45", "fac_player_supporters_faction", "fac_kingdoms_end"),
              (faction_slot_eq, ":var45", 8, ":var33"),
              (is_between, ":var45", "fac_player_supporters_faction", "fac_kingdoms_end"),
              (assign, "$marshall_defeated_in_battle", ":var33"),
              (call_script, "script_recalculate_ais_for_faction", ":var45"),
            (try_end),
          (try_end),
          (try_begin),
            (ge, ":var17", 0),
            (party_get_num_prisoner_stacks, ":var27", ":var17"),
          (else_try),
            (assign, ":var27", 0),
          (try_end),
          (try_for_range, ":var34", 0, ":var27"),
            (party_prisoner_stack_get_troop_id, ":var33", ":var17", ":var34"),
            (troop_is_hero, ":var33"),
            (call_script, "script_remove_troop_from_prison", ":var33"),
            (store_faction_of_troop, ":var45", ":var33"),
            (str_store_troop_name_link, s1, ":var33"),
            (str_store_faction_name_link, s2, ":var22"),
            (str_store_faction_name_link, s3, ":var45"),
            (call_script, "script_get_message_color", 3, ":var33"),
            (display_log_message, "@{s1} of {s3} has been freed from captivity by {s2}", reg20),
            (party_stack_get_troop_id, ":var40", ":var21", 0),
            (is_between, ":var40", "trp_npc1", "trp_knight_1_1_wife"),
            (troop_slot_eq, ":var40", 166, 1),
            (call_script, "script_troop_change_relation_with_troop", ":var40", ":var33", 5),
          (try_end),
          (try_begin),
            (ge, ":var17", 0),
            (party_clear, "p_temp_party"),
            (assign, "$g_move_heroes", 0),
            (call_script, "script_party_add_party_prisoners", "p_temp_party", ":var17"),
            (call_script, "script_party_prisoners_add_party_companions", "p_temp_party", ":var17"),
            (distribute_party_among_party_group, "p_temp_party", ":var15"),
            (call_script, "script_battle_political_consequences", ":var16", ":var15"),
            (call_script, "script_clear_party_group", ":var16"),
          (try_end),
          (assign, ":var5", 1),
          (try_begin),
            (ge, ":var17", 0),
            (party_get_slot, ":var46", ":var16", 0),
            (this_or_next|eq, ":var46", 3),
            (eq, ":var46", 2),
            (store_faction_of_party, ":var47", ":var15"),
            (store_faction_of_party, ":var23", ":var16"),
            (str_store_party_name_link, s1, ":var16"),
            (str_store_faction_name_link, s2, ":var47"),
            (str_store_faction_name_link, s3, ":var23"),
            (call_script, "script_get_message_color_siege_win", 8, ":var47", ":var23"),
            (display_log_message, "@{s2} have taken {s1} from {s3}.", reg20),
            (try_begin),
              (eq, "$g_auto_change_captured_fief_culture", 1),
              (faction_get_slot, ":var48", ":var47", 10),
              (party_set_slot, ":var16", 19, ":var48"),
            (try_end),
            (store_current_hours, ":var2"),
            (faction_set_slot, ":var47", 98, ":var2"),
            (try_begin),
              (eq, "$g_encountered_party", ":var16"),
              (call_script, "script_add_log_entry", 18, "trp_player", "$g_encountered_party", 0, "$g_encountered_party_faction"),
            (try_end),
            (try_begin),
              (party_get_num_companion_stacks, ":var27", ":var15"),
              (gt, ":var27", 0),
              (party_stack_get_troop_id, ":var49", ":var15", 0),
              (is_between, ":var49", "trp_npc1", "trp_knight_1_1_wife"),
              (troop_slot_eq, ":var49", 166, 1),
              (party_set_slot, ":var16", 28, ":var49"),
              (call_script, "script_change_troop_renown", ":var49", 30),
              (faction_get_slot, ":var50", ":var47", 11),
              (call_script, "script_troop_change_relation_with_troop", ":var50", ":var49", 5),
            (else_try),
              (party_set_slot, ":var16", 28, -1),
            (try_end),
            (call_script, "script_lift_siege", ":var16", 1),
            (store_faction_of_party, ":var51", ":var16"),
            (try_begin),
              (is_between, ":var16", "p_town_1_1", "p_castle_1_1"),
              (assign, ":var52", 40),
            (else_try),
              (assign, ":var52", 20),
            (try_end),
            (call_script, "script_faction_inflict_war_damage_on_faction", ":var47", ":var51", ":var52"),
            (call_script, "script_give_center_to_faction", ":var16", ":var47"),
            (try_begin),
              (eq, ":var23", "$players_kingdom"),
              (call_script, "script_add_notification_menu", "mnu_notification_center_lost", ":var16", ":var47"),
            (try_end),
            (party_get_num_attached_parties, ":var53", ":var1"),
            (try_for_range, ":var54", 0, ":var53"),
              (party_get_attached_party_with_rank, ":var55", ":var1", ":var54"),
              (party_get_num_companion_stacks, ":var27", ":var55"),
              (assign, ":var56", 0),
              (try_for_range, ":var28", 0, ":var27"),
                (party_stack_get_size, ":var29", ":var55", ":var28"),
                (val_add, ":var56", ":var29"),
              (try_end),
              (try_begin),
                (ge, ":var56", 10),
                (assign, ":var57", 0),
                (assign, ":var58", -1),
                (assign, ":var59", 10),
                (try_for_range, ":var60", 0, ":var59"),
                  (store_random_in_range, ":var61", 1, ":var27"),
                  (party_stack_get_troop_id, ":var62", ":var55", ":var61"),
                  (party_stack_get_size, ":var29", ":var55", ":var61"),
                  (ge, ":var29", 4),
                  (neq, ":var61", ":var58"),
                  (store_mul, ":var63", ":var56", 2),
                  (assign, ":var64", ":var63"),
                  (val_min, ":var64", 100),
                  (val_mul, ":var29", ":var64"),
                  (val_div, ":var29", 100),
                  (party_stack_get_troop_id, ":var65", ":var55", 0),
                  (try_begin),
                    (this_or_next|troop_slot_eq, ":var65", 52, 6),
                    (this_or_next|troop_slot_eq, ":var65", 52, 7),
                    (troop_slot_eq, ":var65", 52, 1),
                    (assign, reg2, 0),
                    (store_random_in_range, ":var66", 40, 50),
                  (else_try),
                    (this_or_next|troop_slot_eq, ":var65", 52, 2),
                    (troop_slot_eq, ":var65", 52, 4),
                    (assign, reg2, 1),
                    (store_random_in_range, ":var66", 30, 40),
                  (else_try),
                    (this_or_next|troop_slot_eq, ":var65", 52, 3),
                    (this_or_next|troop_slot_eq, ":var65", 52, 8),
                    (troop_slot_eq, ":var65", 52, 5),
                    (assign, reg2, 2),
                    (store_random_in_range, ":var66", 20, 30),
                  (else_try),
                    (this_or_next|troop_slot_eq, ":var65", 52, 9),
                    (troop_slot_eq, ":var65", 52, 10),
                    (assign, reg2, 3),
                    (store_random_in_range, ":var66", 50, 60),
                  (try_end),
                  (val_min, ":var66", 100),
                  (val_mul, ":var29", ":var66"),
                  (val_div, ":var29", 50),
                  (party_add_members, ":var0", ":var62", ":var29"),
                  (party_remove_members, ":var55", ":var62", ":var29"),
                  (val_add, ":var57", 1),
                  (assign, ":var58", ":var61"),
                  (try_begin),
                    (eq, ":var57", 5),
                    (assign, ":var59", 0),
                  (try_end),
                (try_end),
              (try_end),
            (try_end),
            (call_script, "script_recalculate_ais_for_faction", ":var47"),
            (call_script, "script_recalculate_ais_for_faction", ":var23"),
            (try_begin),
              (neg|is_between, ":var16", "p_castle_1_1", "p_village_1_1"),
              (call_script, "script_change_center_prosperity", ":var16", -5),
              (val_add, "$newglob_total_prosperity_from_townloot", -5),
            (try_end),
            (try_begin),
              (call_script, "script_order_best_besieger_party_to_guard_center", ":var16", ":var47"),
              (call_script, "script_order_lords_guard_center", ":var16", ":var47"),
              (try_begin),
                (party_slot_eq, ":var16", 0, 3),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
              (else_try),
                (party_slot_eq, ":var16", 0, 2),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
                (call_script, "script_cf_reinforce_party", ":var16"),
              (try_end),
            (try_end),
          (try_end),
          (try_begin),
            (eq, ":var16", "p_town_26_1"),
            (faction_get_slot, ":var67", ":var47", 10),
            (eq, ":var67", "fac_culture_byzantium"),
            (faction_set_name, ":var47", "@Roman Empire"),
            (display_message, "@The Roman Empire has been restored!", 0xFF0000),
            (party_set_slot, "p_town_26_1", 266, 50),
            (party_set_slot, "p_town_26_1", 268, "pt_company_varangian_1"),
            (party_set_slot, "p_town_26_1", 267, 1),
            (party_set_slot, "p_town_26_1", 469, 1),
          (try_end),
          (try_begin),
            (party_slot_eq, ":var1", 0, 13),
            (assign, ":var68", 200),
            (game_get_reduce_campaign_ai, ":var69"),
            (store_faction_of_party, ":var70", ":var1"),
            (try_begin),
              (this_or_next|eq, ":var1", "p_main_party"),
              (this_or_next|eq, ":var70", "fac_player_supporters_faction"),
              (eq, ":var70", "$players_kingdom"),
            (else_try),
              (eq, ":var69", 0),
              (val_mul, ":var68", 3),
              (val_div, ":var68", 2),
            (else_try),
              (eq, ":var69", 1),
            (else_try),
              (eq, ":var69", 2),
              (val_div, ":var68", 2),
            (try_end),
            (gt, ":var12", 0),
            (call_script, "script_upgrade_hero_party", ":var1", ":var68"),
          (try_end),
          (try_begin),
            (party_slot_eq, ":var0", 0, 13),
            (assign, ":var71", 200),
            (store_faction_of_party, ":var72", ":var0"),
            (game_get_reduce_campaign_ai, ":var69"),
            (try_begin),
              (this_or_next|eq, ":var0", "p_main_party"),
              (this_or_next|eq, ":var72", "fac_player_supporters_faction"),
              (eq, ":var72", "$players_kingdom"),
            (else_try),
              (eq, ":var69", 0),
              (val_mul, ":var71", 3),
              (val_div, ":var71", 2),
            (else_try),
              (eq, ":var69", 1),
            (else_try),
              (eq, ":var69", 2),
              (val_div, ":var71", 2),
            (try_end),
            (gt, ":var13", 0),
            (call_script, "script_upgrade_hero_party", ":var0", ":var71"),
          (try_end),
          (try_begin),
            (neg|party_slot_eq, ":var0", 0, 2),
            (neg|party_slot_eq, ":var0", 0, 3),
            (party_get_slot, ":var73", ":var1", 56),
            (party_get_slot, ":var74", ":var1", 57),
            (party_get_slot, ":var75", ":var1", 59),
            (store_add, ":var76", ":var73", ":var74"),
            (val_add, ":var76", ":var75"),
            (party_get_slot, ":var77", ":var0", 56),
            (party_get_slot, ":var78", ":var0", 57),
            (party_get_slot, ":var79", ":var0", 59),
            (store_add, ":var80", ":var77", ":var78"),
            (val_add, ":var76", ":var79"),
            (store_random_in_range, ":var81", 0, 100),
            (try_begin),
              (lt, ":var81", 10),
              (assign, ":var5", 1),
            (try_end),
          (else_try),
            (party_get_slot, ":var73", ":var1", 56),
            (party_get_slot, ":var74", ":var1", 57),
            (party_get_slot, ":var82", ":var1", 59),
            (store_add, ":var76", ":var73", ":var74"),
            (val_add, ":var76", ":var82"),
            (party_get_slot, ":var77", ":var0", 56),
            (party_get_slot, ":var78", ":var0", 57),
            (store_add, ":var80", ":var77", ":var78"),
            (val_mul, ":var80", 13),
            (val_div, ":var80", 10),
            (gt, ":var80", ":var76"),
            (gt, ":var80", 3),
            (store_random_in_range, ":var81", 0, 100),
            (try_begin),
              (lt, ":var81", 15),
              (assign, ":var5", 1),
              (call_script, "script_recalculate_ais_for_faction", ":var47"),
              (call_script, "script_recalculate_ais_for_faction", ":var23"),
              (try_begin),
                (eq, "$cheat_mode", 1),
                (display_message, "@{!}DEBUG : Siege attackers are running away"),
              (try_end),
            (try_end),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (set_trigger_result, ":var5"),
  ]),

  ("game_event_battle_end",
  [
    (try_for_range, ":var0", "trp_player_camp_chest_1", "trp_player_camp_chest_end"),
      (troop_get_slot, ":var1", ":var0", 60),
      (gt, ":var1", 0),
      (neg|party_is_active, ":var1"),
      (str_store_troop_name, s0, ":var0"),
      (display_message, "str_pcamp_s0_destroyed", 0xFFFF2222),
      (try_begin),
        (eq, "$auto_enter_town", ":var1"),
        (assign, "$auto_enter_town", 0),
      (try_end),
      (troop_get_slot, ":var2", ":var0", 33),
      (call_script, "script_cleanup_player_camp_slot", ":var0"),
      (call_script, "script_cleanup_player_camp_commander", ":var1", ":var2"),
    (try_end),
    (try_for_range, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var3", 166, 1),
      (troop_slot_eq, ":var3", 2, 2),
      (troop_get_slot, ":var4", ":var3", 10),
      (troop_get_slot, ":var5", ":var3", 8),
      (try_begin),
        (ge, ":var4", 0),
        (assign, ":var6", 0),
        (try_begin),
          (neg|party_is_active, ":var4"),
          (assign, ":var6", 1),
        (else_try),
          (party_count_companions_of_type, ":var7", ":var4", ":var3"),
          (le, ":var7", 0),
          (assign, ":var6", 1),
        (try_end),
        (eq, ":var6", 1),
        (troop_set_slot, ":var3", 10, -1),
      (try_end),
      (try_begin),
        (ge, ":var5", 0),
        (assign, ":var6", 0),
        (try_begin),
          (neg|party_is_active, ":var5"),
          (assign, ":var6", 1),
        (else_try),
          (party_count_prisoners_of_type, ":var7", ":var5", ":var3"),
          (le, ":var7", 0),
          (assign, ":var6", 1),
        (try_end),
        (eq, ":var6", 1),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s1, ":var3"),
          (display_message, "@{!}DEBUG: {s1} is no longer a prisoner."),
        (try_end),
        (call_script, "script_remove_troop_from_prison", ":var3"),
        (try_begin),
          (party_count_prisoners_of_type, ":var7", "p_main_party", ":var3"),
          (gt, ":var7", 0),
          (troop_set_slot, ":var3", 8, "p_main_party"),
          (assign, ":var6", 0),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name, s1, ":var3"),
            (display_message, "@{!}DEBUG: {s1} is now a prisoner of player."),
          (try_end),
        (try_end),
        (eq, ":var6", 1),
        (try_for_range, ":var8", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var8", 166, 1),
          (troop_slot_eq, ":var8", 2, 2),
          (eq, ":var6", 1),
          (troop_get_slot, ":var9", ":var8", 10),
          (party_is_active, ":var9"),
          (party_count_prisoners_of_type, ":var7", ":var9", ":var3"),
          (gt, ":var7", 0),
          (troop_set_slot, ":var3", 8, ":var9"),
          (assign, ":var6", 0),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name, s1, ":var3"),
            (str_store_party_name, s2, ":var9"),
            (display_message, "@{!}DEBUG: {s1} is now a prisoner of {s2}."),
          (try_end),
        (try_end),
        (try_for_range, ":var9", "p_town_1_1", "p_village_1_1"),
          (eq, ":var6", 1),
          (party_count_prisoners_of_type, ":var7", ":var9", ":var3"),
          (gt, ":var7", 0),
          (troop_set_slot, ":var3", 8, ":var9"),
          (assign, ":var6", 0),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name, s1, ":var3"),
            (str_store_party_name, s2, ":var9"),
            (display_message, "@{!}DEBUG: {s1} is now a prisoner of {s2}."),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("order_best_besieger_party_to_guard_center",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var4", 166, 1),
      (troop_get_slot, ":var5", ":var4", 10),
      (gt, ":var5", 0),
      (party_is_active, ":var5"),
      (store_faction_of_party, ":var6", ":var5"),
      (eq, ":var1", ":var6"),
      (store_distance_to_party_from_party, ":var7", ":var5", ":var0"),
      (lt, ":var7", 5),
      (neg|faction_slot_eq, ":var1", 8, ":var4"),
      (assign, ":var8", 0),
      (try_begin),
        (party_slot_eq, ":var5", 4, 1),
        (party_slot_eq, ":var5", 5, ":var0"),
        (assign, ":var8", 1),
      (else_try),
        (party_slot_eq, ":var5", 4, 11),
        (party_get_slot, ":var9", ":var5", 5),
        (party_slot_eq, ":var9", 4, 1),
        (party_slot_eq, ":var9", 5, ":var0"),
        (assign, ":var8", 1),
      (try_end),
      (eq, ":var8", 1),
      (party_get_slot, ":var10", ":var5", 56),
      (gt, ":var10", ":var3"),
      (assign, ":var3", ":var10"),
      (assign, ":var2", ":var5"),
    (try_end),
    (try_begin),
      (gt, ":var2", 0),
      (call_script, "script_party_set_ai_state", ":var2", 7, ":var0"),
      (party_set_flags, ":var2", pf_default_behavior, 1),
    (try_end),
  ]),

  ("game_get_item_buy_price_factor",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 100),
    (call_script, "script_get_trade_penalty", ":var0"),
    (assign, ":var2", reg0),
    (try_begin),
      (is_between, "$g_encountered_party", "p_town_1_1", "p_salt_mine"),
      (is_between, ":var0", "itm_spice", "itm_siege_supply"),
      (store_sub, ":var3", ":var0", "itm_spice"),
      (val_add, ":var3", 310),
      (party_get_slot, ":var1", "$g_encountered_party", ":var3"),
      (val_mul, ":var1", 100),
      (val_div, ":var1", 1000),
    (try_end),
    (store_add, ":var4", 100, ":var2"),
    (val_mul, ":var1", ":var4"),
    (val_div, ":var1", 100),
    (assign, reg0, ":var1"),
    (set_trigger_result, reg0),
  ]),

  ("game_get_item_sell_price_factor",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 100),
    (call_script, "script_get_trade_penalty", ":var0"),
    (assign, ":var2", reg0),
    (try_begin),
      (is_between, "$g_encountered_party", "p_town_1_1", "p_salt_mine"),
      (is_between, ":var0", "itm_spice", "itm_siege_supply"),
      (store_sub, ":var3", ":var0", "itm_spice"),
      (val_add, ":var3", 310),
      (party_get_slot, ":var1", "$g_encountered_party", ":var3"),
      (val_mul, ":var1", 100),
      (val_div, ":var1", 1000),
    (else_try),
      (val_mul, ":var2", 12),
    (try_end),
    (store_add, ":var4", 100, ":var2"),
    (val_mul, ":var1", 100),
    (val_div, ":var1", ":var4"),
    (assign, reg0, ":var1"),
    (set_trigger_result, reg0),
  ]),

  ("get_trade_penalty",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (party_get_skill_level, ":var2", "p_main_party", 0),
    (try_begin),
      (is_between, ":var0", "itm_spice", "itm_siege_supply"),
      (assign, ":var1", 13),
      (store_mul, ":var3", ":var2", 1),
      (val_sub, ":var1", ":var3"),
      (val_max, ":var1", 3),
    (else_try),
      (party_slot_eq, "$current_town", 501, 1),
      (assign, ":var1", 100),
      (store_mul, ":var3", ":var2", 6),
      (val_sub, ":var1", ":var3"),
    (else_try),
      (party_slot_eq, "$current_town", 501, 2),
      (assign, ":var1", 100),
      (store_mul, ":var3", ":var2", 7),
      (val_sub, ":var1", ":var3"),
    (else_try),
      (party_slot_eq, "$current_town", 501, 3),
      (assign, ":var1", 100),
      (store_mul, ":var3", ":var2", 8),
      (val_sub, ":var1", ":var3"),
    (else_try),
      (assign, ":var1", 100),
      (store_mul, ":var3", ":var2", 5),
      (val_sub, ":var1", ":var3"),
    (try_end),
    (assign, ":var4", 1000),
    (try_begin),
      (is_between, "$current_town", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var5", "$current_town", 26),
      (store_mul, ":var6", ":var5", -3),
      (val_add, ":var4", ":var6"),
      (try_begin),
        (lt, ":var5", 0),
        (store_sub, ":var7", 100, ":var5"),
        (val_mul, ":var4", ":var7"),
        (val_div, ":var4", 100),
      (try_end),
    (try_end),
    (call_script, "script_troop_get_player_relation", "$g_talk_troop"),
    (assign, ":var8", reg0),
    (try_begin),
      (lt, ":var8", 0),
      (store_sub, ":var9", 0, ":var8"),
      (store_mul, ":var10", ":var9", 20),
      (val_add, ":var4", ":var10"),
    (try_end),
    (try_begin),
      (is_between, "$current_town", "p_village_1_1", "p_salt_mine"),
      (val_mul, ":var1", 5),
      (val_div, ":var1", 4),
    (try_end),
    (val_mul, ":var1", ":var4"),
    (val_div, ":var1", 1000),
    (val_max, ":var1", 1),
    (assign, reg0, ":var1"),
  ]),

  ("game_event_buy_item",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (is_between, ":var0", "itm_spice", "itm_siege_supply"),
      (store_sub, ":var2", ":var0", "itm_spice"),
      (val_add, ":var2", 310),
      (party_get_slot, ":var3", "$g_encountered_party", ":var2"),
      (try_begin),
        (eq, ":var1", 0),
        (val_add, ":var3", 10),
      (else_try),
        (val_add, ":var3", 15),
      (try_end),
      (val_min, ":var3", 10000),
      (party_set_slot, "$g_encountered_party", ":var2", ":var3"),
    (try_end),
  ]),

  ("game_event_sell_item",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (is_between, ":var0", "itm_spice", "itm_siege_supply"),
      (store_sub, ":var2", ":var0", "itm_spice"),
      (val_add, ":var2", 310),
      (party_get_slot, ":var3", "$g_encountered_party", ":var2"),
      (try_begin),
        (eq, ":var1", 0),
        (val_sub, ":var3", 15),
      (else_try),
        (val_sub, ":var3", 10),
      (try_end),
      (val_max, ":var3", 100),
      (party_set_slot, "$g_encountered_party", ":var2", ":var3"),
    (try_end),
  ]),

  ("start_wedding_cutscene",
  [
    (store_script_param, "$g_wedding_groom_troop", 1),
    (store_script_param, "$g_wedding_bride_troop", 2),
    (assign, "$g_wedding_bishop_troop", "trp_temporary_minister"),
    (try_begin),
      (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neg|faction_slot_eq, "$players_kingdom", 11, "$g_wedding_groom_troop"),
      (neg|faction_slot_eq, "$players_kingdom", 11, "$g_wedding_bride_troop"),
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (troop_get_type, ":var1", ":var0"),
      (eq, ":var1", 0),
      (neq, ":var0", "$g_wedding_groom_troop"),
      (assign, "$g_wedding_bishop_troop", ":var0"),
    (else_try),
      (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (gt, "$g_player_minister", 0),
      (troop_get_type, ":var1", "$g_player_minister"),
      (eq, ":var1", 0),
      (neq, "$g_player_minister", "$g_wedding_groom_troop"),
      (assign, "$g_wedding_bishop_troop", "$g_player_minister"),
    (try_end),
    (assign, "$g_wedding_brides_dad_troop", "trp_temporary_minister"),
    (try_begin),
      (neq, "$g_wedding_bride_troop", "trp_player"),
      (try_begin),
        (troop_get_slot, ":var2", "$g_wedding_bride_troop", 31),
        (gt, ":var2", 0),
        (troop_get_type, ":var1", ":var2"),
        (eq, ":var1", 0),
        (neq, ":var2", "$g_wedding_groom_troop"),
        (neq, ":var2", "$g_wedding_bishop_troop"),
        (assign, "$g_wedding_brides_dad_troop", ":var2"),
      (else_try),
        (troop_get_slot, ":var3", "$g_wedding_bride_troop", 33),
        (gt, ":var3", 0),
        (troop_get_type, ":var1", ":var3"),
        (eq, ":var1", 0),
        (neq, ":var3", "$g_wedding_groom_troop"),
        (neq, ":var3", "$g_wedding_bishop_troop"),
        (assign, "$g_wedding_brides_dad_troop", ":var3"),
      (try_end),
    (else_try),
      (try_for_range, ":var4", "trp_npc1", "trp_kingdom_1_lord"),
        (this_or_next|troop_slot_eq, ":var4", 2, 5),
        (troop_slot_eq, ":var4", 2, 2),
        (troop_get_type, ":var1", ":var4"),
        (eq, ":var1", 0),
        (neq, ":var4", "$g_wedding_groom_troop"),
        (neq, ":var4", "$g_wedding_bishop_troop"),
        (assign, "$g_wedding_brides_dad_troop", ":var4"),
      (try_end),
    (try_end),
    (modify_visitors_at_site, "scn_wedding"),
    (reset_visitors, 0),
    (set_visitor, 0, "$g_wedding_groom_troop"),
    (set_visitor, 1, "$g_wedding_bride_troop"),
    (set_visitor, 2, "$g_wedding_brides_dad_troop"),
    (set_visitor, 3, "$g_wedding_bishop_troop"),
    (assign, ":var5", 4),
    (assign, ":var6", 0),
    (try_for_range, ":var7", "trp_npc1", "trp_heroes_end"),
      (troop_slot_eq, ":var7", 166, 1),
      (lt, ":var5", 32),
      (neq, ":var7", "$g_wedding_groom_troop"),
      (neq, ":var7", "$g_wedding_bride_troop"),
      (neq, ":var7", "$g_wedding_brides_dad_troop"),
      (neq, ":var7", "$g_wedding_bishop_troop"),
      (store_faction_of_troop, ":var8", ":var7"),
      (is_between, ":var8", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (eq, ":var8", "$players_kingdom"),
      (this_or_next|troop_slot_eq, ":var7", 2, 5),
      (this_or_next|troop_slot_eq, ":var7", 2, 2),
      (troop_slot_eq, ":var7", 2, 6),
      (troop_get_type, ":var1", ":var7"),
      (assign, ":var9", 1),
      (try_begin),
        (eq, ":var1", 0),
        (assign, ":var9", 0),
        (lt, ":var6", 16),
        (assign, ":var9", 1),
        (val_add, ":var6", 1),
      (try_end),
      (eq, ":var9", 1),
      (set_visitor, ":var5", ":var7"),
      (val_add, ":var5", 1),
    (try_end),
    (set_jump_mission, "mt_wedding"),
    (jump_to_scene, "scn_wedding"),
    (change_screen_mission),
  ]),

  ("game_get_total_wage",
  [
    (assign, ":var0", 0),
    (party_get_num_companion_stacks, ":var1", "p_main_party"),
    (try_for_range, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
      (party_stack_get_size, ":var4", "p_main_party", ":var2"),
      (call_script, "script_game_get_troop_wage", ":var3", 0),
      (val_mul, reg0, ":var4"),
      (val_add, ":var0", reg0),
    (try_end),
    (assign, reg0, ":var0"),
    (set_trigger_result, reg0),
  ]),

  ("game_get_join_cost",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_begin),
      (troop_is_hero, ":var0"),
    (else_try),
      (store_character_level, ":var2", ":var0"),
      (assign, ":var1", ":var2"),
      (val_add, ":var1", 5),
      (val_mul, ":var1", ":var1"),
      (val_add, ":var1", 40),
      (val_div, ":var1", 5),
      (try_begin),
        (troop_is_mounted, ":var0"),
        (val_mul, ":var1", 2),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$use_feudal_lance", 1),
      (this_or_next|gt, "$g_player_crusading", 0),
      (eq, "$use_feudal_lance", 1),
      (assign, ":var3", 0),
      (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
        (party_slot_eq, ":var4", 7, "trp_player"),
        (assign, ":var3", 1),
      (try_end),
      (eq, ":var3", 0),
      (val_div, ":var1", 3),
    (try_end),
    (assign, reg0, ":var1"),
    (set_trigger_result, reg0),
  ]),

  ("game_get_upgrade_xp",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (store_character_level, ":var2", ":var0"),
    (store_add, ":var1", ":var2", 3),
    (get_level_boundary, reg0, ":var1"),
    (val_mul, reg0, 6),
    (val_div, reg0, 1000),
    (val_add, reg0, 30),
    (try_begin),
      (ge, ":var0", "trp_bandit"),
      (lt, ":var0", "trp_black_khergit_horseman"),
      (val_mul, reg0, 2),
    (try_end),
    (set_trigger_result, reg0),
  ]),

  ("game_get_upgrade_cost",
  [
    (store_script_param_1, ":var0"),
    (store_character_level, ":var1", ":var0"),
    (try_begin),
      (is_between, ":var1", 0, 6),
      (assign, reg0, 10),
    (else_try),
      (is_between, ":var1", 6, 11),
      (assign, reg0, 20),
    (else_try),
      (is_between, ":var1", 11, 16),
      (assign, reg0, 40),
    (else_try),
      (is_between, ":var1", 16, 21),
      (assign, reg0, 80),
    (else_try),
      (is_between, ":var1", 21, 26),
      (assign, reg0, 120),
    (else_try),
      (is_between, ":var1", 26, 31),
      (assign, reg0, 160),
    (else_try),
      (assign, reg0, 200),
    (try_end),
    (set_trigger_result, reg0),
  ]),

  ("game_get_prisoner_price",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (this_or_next|is_between, "$g_talk_troop", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
      (eq, "$g_talk_troop", "trp_dplmc_constable"),
      (store_character_level, ":var1", ":var0"),
      (assign, ":var2", ":var1"),
      (val_add, ":var2", 10),
      (val_mul, ":var2", ":var2"),
      (val_div, ":var2", 6),
    (else_try),
      (assign, ":var2", 50),
    (try_end),
    (assign, reg0, ":var2"),
    (set_trigger_result, reg0),
  ]),

  ("game_check_prisoner_can_be_sold",
  [
    (store_script_param_1, ":var0"),
    (assign, reg0, 0),
    (try_begin),
      (neg|troop_is_hero, ":var0"),
      (assign, reg0, 1),
    (try_end),
    (set_trigger_result, reg0),
  ]),

  ("game_get_morale_of_troops_from_faction",
  [
    (store_script_param_1, ":var0"),
    (store_faction_of_troop, ":var1", ":var0"),
    (try_begin),
      (ge, ":var1", "fac_kingdom_1"),
      (lt, ":var1", "fac_kingdoms_end"),
      (faction_get_slot, reg0, ":var1", 99),
    (else_try),
      (assign, reg0, 0),
    (try_end),
    (val_div, reg0, 100),
    (party_get_morale, reg1, "p_main_party"),
    (val_add, reg0, reg1),
    (set_trigger_result, reg0),
  ]),

  ("game_event_detect_party",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 13),
      (party_stack_get_troop_id, ":var1", ":var0", 0),
      (is_between, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var1", 166, 1),
      (call_script, "script_update_troop_location_notes", ":var1", 0),
    (else_try),
      (is_between, ":var0", "p_town_1_1", "p_village_1_1"),
      (party_get_num_attached_parties, ":var2", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (party_get_attached_party_with_rank, ":var4", ":var0", ":var3"),
        (party_stack_get_troop_id, ":var1", ":var4", 0),
        (is_between, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var1", 166, 1),
        (call_script, "script_update_troop_location_notes", ":var1", 0),
      (try_end),
    (try_end),
  ]),

  ("game_event_undetect_party",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 13),
      (party_stack_get_troop_id, ":var1", ":var0", 0),
      (is_between, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var1", 166, 1),
      (call_script, "script_update_troop_location_notes", ":var1", 0),
    (try_end),
  ]),

  ("game_get_statistics_line",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (eq, ":var0", 0),
      (get_player_agent_kill_count, reg1),
      (str_store_string, s1, "str_number_of_troops_killed_reg1"),
      (set_result_string, s1),
    (else_try),
      (eq, ":var0", 1),
      (get_player_agent_kill_count, reg1, 1),
      (str_store_string, s1, "str_number_of_troops_wounded_reg1"),
      (set_result_string, s1),
    (else_try),
      (eq, ":var0", 2),
      (get_player_agent_own_troop_kill_count, reg1),
      (str_store_string, s1, "str_number_of_own_troops_killed_reg1"),
      (set_result_string, s1),
    (else_try),
      (eq, ":var0", 3),
      (get_player_agent_own_troop_kill_count, reg1, 1),
      (str_store_string, s1, "str_number_of_own_troops_wounded_reg1"),
      (set_result_string, s1),
    (try_end),
  ]),

  ("game_get_date_text",
  [
    (store_script_param_2, ":var0"),
    (store_div, ":var1", ":var0", 24),
    (store_add, ":var2", ":var1", 23),
    (assign, ":var3", 3),
    (assign, ":var4", 1257),
    (assign, ":var5", 99999),
    (try_for_range, ":var6", 0, ":var5"),
      (try_begin),
        (this_or_next|eq, ":var3", 1),
        (this_or_next|eq, ":var3", 3),
        (this_or_next|eq, ":var3", 5),
        (this_or_next|eq, ":var3", 7),
        (this_or_next|eq, ":var3", 8),
        (this_or_next|eq, ":var3", 10),
        (eq, ":var3", 12),
        (assign, ":var7", 31),
      (else_try),
        (this_or_next|eq, ":var3", 4),
        (this_or_next|eq, ":var3", 6),
        (this_or_next|eq, ":var3", 9),
        (eq, ":var3", 11),
        (assign, ":var7", 30),
      (else_try),
        (try_begin),
          (store_div, ":var8", ":var4", 4),
          (val_mul, ":var8", 4),
          (eq, ":var8", ":var4"),
          (assign, ":var7", 29),
        (else_try),
          (assign, ":var7", 28),
        (try_end),
      (try_end),
      (try_begin),
        (gt, ":var2", ":var7"),
        (val_sub, ":var2", ":var7"),
        (val_add, ":var3", 1),
        (try_begin),
          (gt, ":var3", 12),
          (val_sub, ":var3", 12),
          (val_add, ":var4", 1),
        (try_end),
      (else_try),
        (assign, ":var5", 0),
      (try_end),
    (try_end),
    (assign, reg1, ":var2"),
    (assign, reg2, ":var4"),
    (try_begin),
      (eq, ":var3", 1),
      (str_store_string, s1, "str_january_reg1_reg2"),
    (else_try),
      (eq, ":var3", 2),
      (str_store_string, s1, "str_february_reg1_reg2"),
    (else_try),
      (eq, ":var3", 3),
      (str_store_string, s1, "str_march_reg1_reg2"),
    (else_try),
      (eq, ":var3", 4),
      (str_store_string, s1, "str_april_reg1_reg2"),
    (else_try),
      (eq, ":var3", 5),
      (str_store_string, s1, "str_may_reg1_reg2"),
    (else_try),
      (eq, ":var3", 6),
      (str_store_string, s1, "str_june_reg1_reg2"),
    (else_try),
      (eq, ":var3", 7),
      (str_store_string, s1, "str_july_reg1_reg2"),
    (else_try),
      (eq, ":var3", 8),
      (str_store_string, s1, "str_august_reg1_reg2"),
    (else_try),
      (eq, ":var3", 9),
      (str_store_string, s1, "str_september_reg1_reg2"),
    (else_try),
      (eq, ":var3", 10),
      (str_store_string, s1, "str_october_reg1_reg2"),
    (else_try),
      (eq, ":var3", 11),
      (str_store_string, s1, "str_november_reg1_reg2"),
    (else_try),
      (eq, ":var3", 12),
      (str_store_string, s1, "str_december_reg1_reg2"),
    (try_end),
    (set_result_string, s1),
  ]),

  ("game_get_money_text",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (eq, ":var0", 1),
      (str_store_string, s1, "str_1_denar"),
    (else_try),
      (assign, reg1, ":var0"),
      (str_store_string, s1, "str_reg1_denars"),
    (try_end),
    (set_result_string, s1),
  ]),

  ("game_get_party_companion_limit",
  [
    (assign, ":var0", "trp_player"),
    (assign, ":var1", "$g_party_base_size"),
    (store_skill_level, ":var2", "skl_leadership", ":var0"),
    (store_attribute_level, ":var3", ":var0", ca_charisma),
    (val_mul, ":var2", "$g_party_size_leadership_bonus"),
    (val_add, ":var1", ":var2"),
    (val_add, ":var1", ":var3"),
    (try_begin),
      (eq, "$g_encountered_party_template", "pt_player_camp"),
      (store_script_param_1, ":var4"),
      (party_slot_eq, ":var4", 0, 33),
      (val_mul, ":var1", 100),
      (val_div, ":var1", 100),
      (party_get_slot, ":var0", ":var4", 25),
      (store_skill_level, ":var2", "skl_leadership", ":var0"),
      (store_attribute_level, ":var3", ":var0", ca_charisma),
      (val_mul, ":var2", 15),
      (val_mul, ":var3", 3),
      (val_add, ":var1", ":var2"),
      (val_add, ":var1", ":var3"),
    (try_end),
    (try_begin),
      (eq, "$g_player_cur_role", 6),
      (faction_slot_eq, "$players_kingdom", 21, 0),
      (faction_slot_eq, "$players_kingdom", 11, ":var0"),
      (val_add, ":var1", "$g_party_size_king_bonus"),
    (try_end),
    (try_begin),
      (this_or_next|eq, "$g_player_cur_role", 6),
      (this_or_next|eq, "$g_player_cur_role", 5),
      (eq, "$g_player_cur_role", 4),
      (faction_slot_eq, "$players_kingdom", 21, 0),
      (faction_slot_eq, "$players_kingdom", 8, ":var0"),
      (val_add, ":var1", "$g_party_size_marshall_bonus"),
    (try_end),
    (try_begin),
      (this_or_next|eq, "$g_player_cur_role", 6),
      (this_or_next|eq, "$g_player_cur_role", 5),
      (eq, "$g_player_cur_role", 4),
      (try_for_range, ":var5", "p_castle_1_1", "p_village_1_1"),
        (party_slot_eq, ":var5", 7, "trp_player"),
        (val_add, ":var1", "$g_party_size_castle_bonus"),
      (try_end),
    (try_end),
    (troop_get_slot, ":var6", ":var0", 7),
    (store_div, ":var7", ":var6", "$g_party_size_renown_bonus_divider"),
    (val_add, ":var1", ":var7"),
    (assign, reg0, ":var1"),
    (set_trigger_result, reg0),
  ]),

  ("game_reset_player_party_name",
  [
    (str_store_troop_name, s5, "trp_player"),
    (party_set_name, "p_main_party", s5),
  ]),

  ("game_get_troop_note",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (set_trigger_result, 0),
    (str_store_troop_name, s54, ":var0"),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (this_or_next|eq, "$player_has_homage", 1),
      (eq, "$players_kingdom", "fac_player_supporters_faction"),
      (assign, ":var2", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var2", ":var0"),
    (try_end),
    (str_clear, s49),
    (try_begin),
      (this_or_next|is_between, ":var0", "trp_knight_1_1", "trp_heroes_end"),
      (eq, ":var0", "trp_player"),
      (neg|is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var0", 166, 1),
      (assign, ":var3", 0),
      (try_begin),
        (call_script, "script_troop_get_family_relation_to_troop", "trp_player", ":var0"),
        (gt, reg0, 0),
        (val_add, ":var3", 1),
      (try_end),
      (try_for_range, ":var4", "trp_knight_1_1", "trp_heroes_end"),
        (troop_slot_eq, ":var4", 166, 1),
        (call_script, "script_troop_get_family_relation_to_troop", ":var4", ":var0"),
        (gt, reg0, 0),
        (val_add, ":var3", 1),
      (try_end),
      (try_begin),
        (gt, ":var3", 0),
        (try_begin),
          (eq, ":var0", "trp_player"),
          (str_store_string, s49, "str__family_"),
        (else_try),
          (troop_get_slot, reg1, ":var0", 18),
          (str_store_string, s49, "str__age_reg1_family_"),
        (try_end),
        (try_begin),
          (call_script, "script_troop_get_family_relation_to_troop", "trp_player", ":var0"),
          (gt, reg0, 0),
          (str_store_troop_name_link, s12, "trp_player"),
          (val_sub, ":var3", 1),
          (try_begin),
            (eq, ":var3", 0),
            (str_store_string, s49, "str_s49_s12_s11_end"),
          (else_try),
            (str_store_string, s49, "str_s49_s12_s11"),
          (try_end),
        (try_end),
        (try_for_range, ":var4", "trp_knight_1_1", "trp_heroes_end"),
          (troop_slot_eq, ":var4", 166, 1),
          (call_script, "script_troop_get_family_relation_to_troop", ":var4", ":var0"),
          (gt, reg0, 0),
          (try_begin),
            (neg|is_between, ":var4", "trp_knight_1_1_wife", "trp_heroes_end"),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name_link, s12, ":var4"),
            (call_script, "script_troop_get_relation_with_troop", ":var4", ":var0"),
            (str_store_string, s49, "str_s49_s12_s11_rel_reg0"),
          (else_try),
            (str_store_troop_name_link, s12, ":var4"),
            (val_sub, ":var3", 1),
            (try_begin),
              (eq, ":var3", 0),
              (str_store_string, s49, "str_s49_s12_s11_end"),
            (else_try),
              (str_store_string, s49, "str_s49_s12_s11"),
            (try_end),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (neq, ":var0", "trp_player"),
      (neg|is_between, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neg|is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (neg|is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (try_begin),
        (eq, ":var1", 0),
        (str_store_string, s0, "str_s54_has_left_the_realm"),
        (set_trigger_result, 1),
      (else_try),
        (str_clear, s0),
        (this_or_next|eq, ":var1", 1),
        (eq, ":var1", 2),
        (set_trigger_result, 1),
      (try_end),
    (else_try),
      (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (neg|troop_slot_eq, ":var0", 2, 2),
      (eq, ":var1", 0),
      (set_trigger_result, 1),
      (str_clear, s0),
      (assign, ":var5", ":var0"),
      (str_store_troop_name, s4, ":var5"),
      (try_begin),
        (troop_get_slot, ":var6", ":var5", 151),
        (this_or_next|main_party_has_troop, ":var5"),
        (this_or_next|troop_slot_ge, ":var5", 152, 1),
        (eq, "$g_player_minister", ":var5"),
        (try_begin),
          (troop_slot_eq, ":var5", 152, 1),
          (str_store_string, s8, "str_gathering_support"),
          (try_begin),
            (eq, ":var6", 1),
            (str_store_string, s5, "str_expected_back_imminently"),
          (else_try),
            (assign, reg3, ":var6"),
            (str_store_string, s5, "str_expected_back_in_approximately_reg3_days"),
          (try_end),
        (else_try),
          (troop_slot_eq, ":var5", 152, 2),
          (troop_get_slot, ":var7", ":var5", 67),
          (str_store_party_name, s11, ":var7"),
          (str_store_string, s8, "str_gathering_intelligence"),
          (try_begin),
            (eq, ":var6", 1),
            (str_store_string, s5, "str_expected_back_imminently"),
          (else_try),
            (assign, reg3, ":var6"),
            (str_store_string, s5, "str_expected_back_in_approximately_reg3_days"),
          (try_end),
        (else_try),
          (troop_slot_ge, ":var5", 152, 3),
          (neg|troop_slot_ge, ":var5", 152, 8),
          (troop_get_slot, ":var8", ":var5", 153),
          (str_store_faction_name, s9, ":var8"),
          (str_store_string, s8, "str_diplomatic_embassy_to_s9"),
          (try_begin),
            (eq, ":var6", 1),
            (str_store_string, s5, "str_expected_back_imminently"),
          (else_try),
            (assign, reg3, ":var6"),
            (str_store_string, s5, "str_expected_back_in_approximately_reg3_days"),
          (try_end),
        (else_try),
          (eq, ":var5", "$g_player_minister"),
          (str_store_string, s8, "str_serving_as_minister"),
          (str_store_party_name, s9, "$g_player_court"),
          (is_between, "$g_player_court", "p_town_1_1", "p_salt_mine"),
          (str_store_string, s5, "str_in_your_court_at_s9"),
        (else_try),
          (eq, ":var5", "$g_player_minister"),
          (str_store_string, s8, "str_serving_as_minister"),
          (str_store_string, s5, "str_awaiting_the_capture_of_a_fortress_which_can_serve_as_your_court"),
        (else_try),
          (main_party_has_troop, ":var5"),
          (str_store_string, s8, "str_under_arms"),
          (str_store_string, s5, "str_in_your_party"),
        (else_try),
          (troop_get_slot, ":var9", ":var5", 10),
          (party_is_active, ":var9"),
          (party_slot_eq, ":var9", 0, 33),
          (party_get_slot, ":var10", ":var9", 23),
          (troop_get_slot, ":var11", ":var10", 12),
          (str_store_party_name, s5, ":var11"),
          (str_store_string, s0, "str_pcamp_is_commanding_near_s5"),
        (try_end),
        (str_store_string, s0, "str_s4_s8_s5"),
      (else_try),
        (str_store_string, s0, "str_whereabouts_unknown"),
      (try_end),
    (else_try),
      (is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (neg|troop_slot_eq, ":var0", 2, 2),
      (neq, ":var0", "$supported_pretender"),
      (troop_get_slot, ":var12", ":var0", 14),
      (try_begin),
        (faction_slot_eq, ":var12", 21, 0),
        (faction_slot_eq, ":var12", 60, 1),
        (try_begin),
          (eq, ":var1", 0),
          (str_store_faction_name_link, s56, ":var12"),
          (str_store_string, s0, "@{s54} is a claimant to the throne of {s56}.", 0),
          (set_trigger_result, 1),
        (try_end),
      (else_try),
        (try_begin),
          (str_clear, s0),
          (this_or_next|eq, ":var1", 0),
          (this_or_next|eq, ":var1", 1),
          (eq, ":var1", 2),
          (set_trigger_result, 1),
        (try_end),
      (try_end),
    (else_try),
      (try_begin),
        (eq, ":var1", 0),
        (try_begin),
          (neg|is_between, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (assign, ":var13", 0),
        (else_try),
          (is_between, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (faction_get_slot, ":var13", ":var2", 11),
          (str_store_troop_name_link, s55, ":var13"),
          (str_store_faction_name_link, s56, ":var2"),
        (try_end),
        (assign, ":var14", 0),
        (assign, ":var15", 0),
        (try_begin),
          (eq, ":var2", "fac_player_faction"),
          (assign, ":var14", 1),
        (else_try),
          (eq, ":var13", ":var0"),
          (assign, ":var15", 1),
        (try_end),
        (try_begin),
          (faction_slot_eq, ":var2", 8, ":var0"),
          (assign, ":var16", 1),
        (else_try),
          (assign, ":var16", 0),
        (try_end),
        (assign, ":var17", 0),
        (str_store_string, s58, "@nowhere"),
        (try_for_range_backwards, ":var18", "p_town_1_1", "p_salt_mine"),
          (party_slot_eq, ":var18", 7, ":var0"),
          (try_begin),
            (eq, ":var17", 0),
            (str_store_party_name_link, s58, ":var18"),
          (else_try),
            (eq, ":var17", 1),
            (str_store_party_name_link, s57, ":var18"),
            (str_store_string, s58, "@{s57} and {s58}"),
          (else_try),
            (str_store_party_name_link, s57, ":var18"),
            (str_store_string, s58, "@{!}{s57}, {s58}"),
          (try_end),
          (val_add, ":var17", 1),
        (try_end),
        (str_clear, s59),
        (troop_get_type, reg3, ":var0"),
        (assign, reg4, ":var15"),
        (assign, reg5, ":var16"),
        (assign, reg6, ":var14"),
        (troop_get_slot, reg7, ":var0", 7),
        (assign, reg9, ":var17"),
        (troop_get_slot, reg15, ":var0", 150),
        (troop_get_slot, reg17, ":var0", 11),
        (str_clear, s53),
        (try_begin),
          (troop_slot_eq, ":var0", 2, 2),
          (try_begin),
            (troop_slot_eq, ":var0", 52, 1),
            (str_store_string, s53, "str_martial"),
          (else_try),
            (troop_slot_eq, ":var0", 52, 2),
            (str_store_string, s53, "str_quarrelsome"),
          (else_try),
            (troop_slot_eq, ":var0", 52, 3),
            (str_store_string, s53, "str_selfrighteous"),
          (else_try),
            (troop_slot_eq, ":var0", 52, 4),
            (str_store_string, s53, "str_cunning"),
          (else_try),
            (troop_slot_eq, ":var0", 52, 5),
            (str_store_string, s53, "str_debauched"),
          (else_try),
            (troop_slot_eq, ":var0", 52, 6),
            (str_store_string, s53, "str_goodnatured"),
          (else_try),
            (troop_slot_eq, ":var0", 52, 7),
            (str_store_string, s53, "str_upstanding"),
          (else_try),
            (troop_slot_eq, ":var0", 52, 0),
            (str_store_string, s53, "str_none"),
          (try_end),
        (try_end),
        (str_clear, s59),
        (try_begin),
          (call_script, "script_troop_get_player_relation", ":var0"),
          (assign, ":var19", reg0),
          (store_add, ":var20", ":var19", 100),
          (val_add, ":var20", 5),
          (store_div, ":var21", ":var20", 10),
          (val_clamp, ":var21", 0, 20),
          (store_add, ":var22", "str_relation_mnus_100_ns", ":var21"),
          (neq, ":var22", "str_relation_plus_0_ns"),
          (str_store_string, s60, "@{reg3?She:He}"),
          (str_store_string, s59, ":var22"),
          (str_store_string, s59, "@{!}^{s59}"),
        (try_end),
        (try_begin),
          (call_script, "script_calculate_hero_weekly_income_and_party_wage", ":var0"),
          (assign, reg34, -1),
          (assign, reg37, -1),
          (assign, reg38, -1),
          (assign, reg39, -1),
          (troop_get_slot, ":var23", ":var0", 10),
          (ge, ":var23", 0),
          (party_is_active, ":var23"),
          (party_get_slot, reg34, ":var23", 56),
          (call_script, "script_party_count_fit_for_battle", ":var23"),
          (assign, reg37, reg0),
          (call_script, "script_party_get_ideal_size", ":var23"),
          (assign, reg38, reg0),
          (store_mul, reg39, reg37, 100),
          (val_div, reg39, reg38),
        (try_end),
        (try_begin),
          (call_script, "script_troop_get_relation_with_troop", ":var13", ":var0"),
          (assign, reg40, reg0),
        (try_end),
        (str_clear, s62),
        (try_begin),
          (troop_slot_eq, ":var0", 2, 2),
          (troop_get_slot, ":var24", ":var0", 165),
          (assign, ":var25", "str_culture_1_adjective"),
          (val_add, ":var25", ":var24"),
          (val_sub, ":var25", 6),
          (str_store_string, s62, ":var25"),
        (else_try),
          (str_store_string, s62, "str_none"),
        (try_end),
        (try_begin),
          (troop_slot_eq, ":var0", 166, 1),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (display_message, "@{s54} is alive."),
          (try_end),
          (try_begin),
            (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
            (str_store_string, s0, "str_lord_info_string"),
          (else_try),
            (neg|is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
            (str_store_string, s0, "str_lord_info_string_short"),
          (try_end),
        (else_try),
          (str_clear, s0),
          (troop_slot_eq, ":var0", 166, 0),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (troop_get_slot, ":var26", ":var0", 175),
            (str_store_troop_name, s20, ":var26"),
            (display_message, "@{s54} is dead. Killer was {s20}."),
          (try_end),
          (try_begin),
            (troop_slot_eq, ":var0", 174, 1),
            (troop_get_slot, ":var26", ":var0", 175),
            (str_clear, s1),
            (str_store_troop_name_link, s1, ":var26"),
            (str_store_string, s0, "str_enhanced_troop_was_killed_battle"),
          (else_try),
            (troop_slot_eq, ":var0", 174, 2),
            (troop_get_slot, ":var26", ":var0", 176),
            (str_clear, s1),
            (str_clear, s2),
            (str_store_troop_name_link, s2, ":var26"),
            (try_begin),
              (troop_slot_eq, ":var0", 177, 1),
              (str_store_string, s1, "@beheaded"),
            (else_try),
              (troop_slot_eq, ":var0", 177, 2),
              (str_store_string, s1, "@hanged"),
            (else_try),
              (troop_slot_eq, ":var0", 177, 3),
              (str_store_string, s1, "@burned alive"),
            (else_try),
              (troop_slot_eq, ":var0", 177, 4),
              (str_store_string, s1, "@hung, strung and quartered"),
            (try_end),
            (str_store_string, s0, "str_enhanced_troop_was_executed"),
          (else_try),
            (troop_slot_eq, ":var0", 174, 3),
            (str_clear, s1),
            (str_clear, s2),
            (try_begin),
              (troop_get_slot, ":var27", ":var0", 179),
              (neg|is_between, ":var27", "trp_npc1", "trp_knight_1_1_wife"),
              (try_begin),
                (troop_slot_eq, ":var0", 178, 1),
                (str_store_string, s1, "@killed by poison"),
              (else_try),
                (troop_slot_eq, ":var0", 178, 2),
                (str_store_string, s1, "@stabbed to death by hired assassins"),
              (else_try),
                (troop_slot_eq, ":var0", 178, 3),
                (str_store_string, s1, "@strangled by hired assassins"),
              (else_try),
                (troop_slot_eq, ":var0", 178, 4),
                (str_store_string, s1, "@ambushed and killed by hired assassins"),
              (try_end),
              (str_store_string, s0, "str_enhanced_troop_was_assassinated"),
            (else_try),
              (troop_get_slot, ":var27", ":var0", 179),
              (is_between, ":var27", "trp_npc1", "trp_knight_1_1_wife"),
              (try_begin),
                (troop_slot_eq, ":var0", 178, 1),
                (str_store_string, s1, "@killed by poison"),
              (else_try),
                (troop_slot_eq, ":var0", 178, 2),
                (str_store_string, s1, "@stabbed to death by hired assassins"),
              (else_try),
                (troop_slot_eq, ":var0", 178, 3),
                (str_store_string, s1, "@strangled by hired assassins"),
              (else_try),
                (troop_slot_eq, ":var0", 178, 4),
                (str_store_string, s1, "@ambushed and killed by hired assassins"),
              (try_end),
              (str_store_troop_name_link, s2, ":var27"),
              (str_store_string, s0, "str_enhanced_troop_was_assassinated_found_perpetrators"),
            (try_end),
          (else_try),
            (troop_slot_eq, ":var0", 174, 4),
            (str_clear, s1),
            (str_store_string, s0, "str_enhanced_troop_committed_suicide"),
          (else_try),
            (troop_slot_eq, ":var0", 174, 5),
            (str_clear, s1),
            (str_store_string, s0, "str_enhanced_troop_exile"),
          (else_try),
            (try_begin),
              (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
              (str_store_string, s0, "str_lord_info_string"),
            (else_try),
              (neg|is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
              (str_store_string, s0, "str_lord_info_string_short"),
            (try_end),
          (try_end),
        (try_end),
        (add_troop_note_tableau_mesh, ":var0", "tableau_troop_note_mesh"),
        (set_trigger_result, 1),
      (try_end),
    (try_end),
  ]),

  ("game_get_center_note",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (set_trigger_result, 0),
    (try_begin),
      (eq, ":var1", 0),
      (party_get_slot, ":var2", ":var0", 7),
      (try_begin),
        (ge, ":var2", 0),
        (store_faction_of_troop, ":var3", ":var2"),
        (str_store_troop_name_link, s1, ":var2"),
        (try_begin),
          (eq, ":var2", "trp_player"),
          (gt, "$players_kingdom", 0),
          (str_store_faction_name_link, s2, "$players_kingdom"),
        (else_try),
          (str_store_faction_name_link, s2, ":var3"),
        (try_end),
        (str_store_party_name, s50, ":var0"),
        (try_begin),
          (party_slot_eq, ":var0", 0, 3),
          (str_store_string, s51, "@The town of {s50}"),
        (else_try),
          (party_slot_eq, ":var0", 0, 4),
          (party_get_slot, ":var4", ":var0", 120),
          (str_store_party_name_link, s52, ":var4"),
          (str_store_string, s51, "@The village of {s50} near {s52}"),
        (else_try),
          (str_store_string, s51, "@{!}{s50}"),
        (try_end),
        (str_store_string, s2, "@{s51} belongs to {s1} of {s2}.^"),
      (else_try),
        (str_clear, s2),
      (try_end),
      (try_begin),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
      (else_try),
        (assign, ":var5", 0),
        (try_for_range_backwards, ":var6", "p_village_1_1", "p_salt_mine"),
          (party_slot_eq, ":var6", 120, ":var0"),
          (try_begin),
            (eq, ":var5", 0),
            (str_store_party_name_link, s8, ":var6"),
          (else_try),
            (eq, ":var5", 1),
            (str_store_party_name_link, s7, ":var6"),
            (str_store_string, s8, "@{s7} and {s8}"),
          (else_try),
            (str_store_party_name_link, s7, ":var6"),
            (str_store_string, s8, "@{!}{s7}, {s8}"),
          (try_end),
          (val_add, ":var5", 1),
        (try_end),
        (try_begin),
          (eq, ":var5", 0),
          (str_store_string, s2, "@{s2}It has no villages.^"),
        (else_try),
          (store_sub, reg0, ":var5", 1),
          (str_store_string, s2, "@{s2}{reg0?Its villages are:Its village is} {s8}.^"),
        (try_end),
      (try_end),
      (call_script, "script_get_prosperity_text_to_s50", ":var0"),
      (str_store_string, s0, "@{s2}Its prosperity is: {s50}", 0),
      (set_trigger_result, 1),
    (try_end),
  ]),

  ("game_get_faction_note",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (set_trigger_result, 0),
    (try_begin),
      (is_between, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var0", 21, 0),
      (try_begin),
        (eq, ":var1", 0),
        (faction_get_slot, ":var2", ":var0", 11),
        (str_store_faction_name, s5, ":var0"),
        (str_store_troop_name_link, s6, ":var2"),
        (faction_get_slot, ":var3", ":var0", 8),
        (try_begin),
          (neq, ":var3", -1),
          (troop_slot_eq, ":var3", 166, 1),
          (str_store_troop_name_link, s13, ":var3"),
        (else_try),
          (str_store_string, s13, "@No one"),
        (try_end),
        (assign, ":var4", 0),
        (str_store_string, s8, "@nowhere"),
        (try_for_range_backwards, ":var5", "p_town_1_1", "p_salt_mine"),
          (store_faction_of_party, ":var6", ":var5"),
          (eq, ":var6", ":var0"),
          (try_begin),
            (eq, ":var4", 0),
            (str_store_party_name_link, s8, ":var5"),
          (else_try),
            (eq, ":var4", 1),
            (str_store_party_name_link, s7, ":var5"),
            (str_store_string, s8, "@{s7} and {s8}"),
          (else_try),
            (str_store_party_name_link, s7, ":var5"),
            (str_store_string, s8, "@{!}{s7}, {s8}"),
          (try_end),
          (val_add, ":var4", 1),
        (try_end),
        (assign, ":var7", 0),
        (str_store_string, s10, "@no one yet"),
        (try_for_range_backwards, ":var8", "trp_kingdom_heroes_including_player_begin", "trp_knight_1_1_wife"),
          (assign, ":var9", 0),
          (try_begin),
            (eq, ":var8", "trp_kingdom_heroes_including_player_begin"),
            (assign, ":var9", 1),
          (else_try),
            (troop_slot_eq, ":var8", 166, 1),
            (assign, ":var9", 1),
          (try_end),
          (eq, ":var9", 1),
          (assign, ":var10", ":var8"),
          (try_begin),
            (eq, ":var8", "trp_kingdom_heroes_including_player_begin"),
            (assign, ":var10", "trp_player"),
            (assign, ":var11", "$players_kingdom"),
          (else_try),
            (store_faction_of_troop, ":var11", ":var10"),
          (try_end),
          (eq, ":var11", ":var0"),
          (neq, ":var10", ":var2"),
          (troop_slot_eq, ":var10", 2, 2),
          (try_begin),
            (eq, ":var7", 0),
            (str_store_troop_name_link, s10, ":var10"),
          (else_try),
            (eq, ":var7", 1),
            (str_store_troop_name_link, s9, ":var10"),
            (str_store_string, s10, "@{s9} and {s10}"),
          (else_try),
            (str_store_troop_name_link, s9, ":var10"),
            (str_store_string, s10, "@{!}{s9}, {s10}"),
          (try_end),
          (val_add, ":var7", 1),
        (try_end),
        (assign, ":var7", 0),
        (try_for_range_backwards, ":var8", "trp_kingdom_heroes_including_player_begin", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var8", 166, 0),
          (assign, ":var10", ":var8"),
          (store_faction_of_troop, ":var11", ":var10"),
          (eq, ":var11", ":var0"),
          (neq, ":var10", ":var2"),
          (troop_slot_eq, ":var10", 2, 2),
          (try_begin),
            (eq, ":var7", 0),
            (str_store_troop_name_link, s15, ":var10"),
          (else_try),
            (eq, ":var7", 1),
            (str_store_troop_name_link, s16, ":var10"),
            (str_store_string, s15, "@{s16} and {s15}"),
          (else_try),
            (str_store_troop_name_link, s16, ":var10"),
            (str_store_string, s15, "@{!}{s16}, {s15}"),
          (try_end),
          (val_add, ":var7", 1),
        (try_end),
        (str_store_string, s12, "@noone"),
        (str_store_string, s21, "str_foreign_relations__"),
        (try_for_range, ":var12", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (faction_slot_eq, ":var12", 21, 0),
          (neq, ":var0", ":var12"),
          (str_store_faction_name_link, s14, ":var12"),
          (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var0", ":var12"),
          (assign, ":var13", reg0),
          (assign, ":var14", reg1),
          (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var12", ":var0"),
          (assign, ":var15", reg0),
          (try_begin),
            (eq, ":var13", -2),
            (str_store_string, s21, "str_s21__the_s5_is_at_war_with_the_s14"),
            (store_add, ":var16", ":var12", 300),
            (val_sub, ":var16", "fac_player_supporters_faction"),
            (faction_get_slot, ":var17", ":var0", ":var16"),
            (store_mul, ":var18", ":var17", 2),
            (store_add, ":var19", ":var0", 300),
            (val_sub, ":var19", "fac_player_supporters_faction"),
            (faction_get_slot, ":var20", ":var12", ":var19"),
            (store_mul, ":var21", ":var20", 2),
            (assign, ":var22", 0),
            (assign, ":var23", 0),
            (try_for_range, ":var24", 0, "$num_log_entries"),
              (troop_get_slot, ":var25", "trp_log_array_entry_type", ":var24"),
              (is_between, ":var25", 91, 96),
              (troop_get_slot, ":var26", "trp_log_array_actor", ":var24"),
              (troop_get_slot, ":var27", "trp_log_array_faction_object", ":var24"),
              (try_begin),
                (eq, ":var26", ":var12"),
                (eq, ":var27", ":var0"),
                (assign, ":var22", ":var25"),
                (assign, ":var23", ":var26"),
              (else_try),
                (eq, ":var26", ":var0"),
                (eq, ":var27", ":var12"),
                (assign, ":var22", ":var25"),
                (assign, ":var23", ":var26"),
              (try_end),
            (try_end),
            (str_store_string, s25, s8),
            (try_begin),
              (gt, ":var22", 0),
              (str_store_faction_name, s8, ":var23"),
              (try_begin),
                (eq, ":var22", 91),
                (str_store_string, s21, "str_s21_the_s8_declared_war_out_of_personal_enmity"),
              (else_try),
                (eq, ":var22", 95),
                (str_store_string, s21, "str_s21_the_s8_declared_war_due_to_religious_differences"),
              (else_try),
                (eq, ":var22", 94),
                (str_store_string, s21, "str_s21_the_s8_declared_war_in_response_to_border_provocations"),
              (else_try),
                (eq, ":var22", 93),
                (str_store_string, s21, "str_s21_the_s8_declared_war_to_curb_the_other_realms_power"),
              (else_try),
                (eq, ":var22", 92),
                (str_store_string, s21, "str_s21_the_s8_declared_war_to_regain_lost_territory"),
              (else_try),
                (eq, ":var22", 90),
                (neq, ":var23", "$players_kingdom"),
                (str_store_string, s21, "str_s21_the_s8_declared_war_as_part_of_a_bid_to_conquer_all_calradia"),
              (try_end),
            (try_end),
            (str_store_string, s8, s25),
            (try_begin),
              (gt, ":var17", ":var21"),
              (str_store_string, s21, "str_s21_the_s5_has_had_the_upper_hand_in_the_fighting"),
            (else_try),
              (gt, ":var20", ":var18"),
              (str_store_string, s21, "str_s21_the_s5_has_gotten_the_worst_of_the_fighting"),
            (else_try),
              (gt, ":var17", 100),
              (gt, ":var17", 100),
              (str_store_string, s21, "str_s21_the_fighting_has_gone_on_for_some_time_and_the_war_may_end_soon_with_a_truce"),
            (else_try),
              (str_store_string, s21, "str_s21_the_fighting_has_begun_relatively_recently_and_the_war_may_continue_for_some_time"),
            (try_end),
            (try_begin),
              (eq, "$cheat_mode", 1),
              (assign, reg4, ":var17"),
              (assign, reg5, ":var20"),
              (str_store_string, s21, "str_s21_reg4reg5"),
            (try_end),
          (else_try),
            (eq, ":var13", 1),
            (str_clear, s18),
            (try_begin),
              (neq, ":var15", 1),
              (str_store_string, s18, "str__however_the_truce_is_no_longer_binding_on_the_s14"),
            (try_end),
            (assign, reg1, ":var14"),
            (str_store_string, s21, "str_s21__the_s5_is_bound_by_truce_not_to_attack_the_s14s18_the_truce_will_expire_in_reg1_days"),
          (else_try),
            (eq, ":var13", -1),
            (str_store_string, s21, "str_s21__the_s5_has_recently_suffered_provocation_by_subjects_of_the_s14_and_there_is_a_risk_of_war"),
          (else_try),
            (eq, ":var13", 0),
            (str_store_string, s21, "str_s21__the_s5_has_no_outstanding_issues_with_the_s14"),
          (try_end),
          (try_begin),
            (eq, ":var15", -1),
            (str_store_string, s21, "str_s21_the_s14_was_recently_provoked_by_subjects_of_the_s5_and_there_is_a_risk_of_war_"),
          (try_end),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (call_script, "script_npc_decision_checklist_peace_or_war", ":var0", ":var12", -1),
            (str_store_string, s21, "@{!}DEBUG : {s21}.^CHEAT MODE ASSESSMENT: {s14}^"),
          (try_end),
        (try_end),
        (call_script, "script_raf_religion_to_s11", ":var0"),
        (faction_get_slot, ":var28", ":var0", 10),
        (store_sub, ":var29", ":var28", "fac_culture_finnish"),
        (val_add, ":var29", "str_culture_1_adjective"),
        (str_store_string, s22, ":var29"),
        (faction_get_slot, ":var30", ":var0", 135),
        (store_sub, ":var29", ":var30", 0),
        (val_add, ":var29", "str_faction_language_finnish"),
        (str_store_string, s12, ":var29"),
        (str_store_string, s0, "str_the_s5_is_ruled_by_s6_it_occupies_s8_its_vassals_are_s10_its_religion_is_s11__s21", 0),
        (set_trigger_result, 1),
      (try_end),
    (else_try),
      (is_between, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var0", 21, 1),
      (try_begin),
        (eq, ":var1", 0),
        (str_store_faction_name, s5, ":var0"),
        (str_store_string, s0, "@{s5} has been defeated!", 0),
        (set_trigger_result, 1),
      (else_try),
        (eq, ":var1", 1),
        (str_clear, s0),
        (set_trigger_result, 1),
      (try_end),
    (else_try),
      (try_begin),
        (this_or_next|eq, ":var1", 0),
        (eq, ":var1", 1),
        (str_clear, s0),
        (set_trigger_result, 1),
      (try_end),
    (try_end),
  ]),

  ("game_get_quest_note",
  [
    (set_trigger_result, 0),
  ]),

  ("game_get_info_page_note",
  [
    (set_trigger_result, 0),
  ]),

  ("game_get_scene_name",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (is_between, ":var0", "scn_multi_scene_1", "scn_multiplayer_maps_end"),
      (store_sub, ":var1", ":var0", "scn_multi_scene_1"),
      (val_add, ":var1", "str_multi_scene_1"),
      (str_store_string, s0, ":var1"),
    (try_end),
  ]),

  ("game_get_mission_template_name",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_multiplayer_get_mission_template_game_type", ":var0"),
    (assign, ":var1", reg0),
    (try_begin),
      (is_between, ":var1", 0, 8),
      (store_add, ":var2", ":var1", "str_multi_game_type_1"),
      (str_store_string, s0, ":var2"),
    (try_end),
  ]),

  ("add_kill_death_counts",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (ge, ":var0", 0),
      (agent_get_team, ":var2", ":var0"),
    (else_try),
      (assign, ":var2", -1),
    (try_end),
    (try_begin),
      (ge, ":var1", 0),
      (agent_get_team, ":var3", ":var1"),
    (else_try),
      (assign, ":var3", -1),
    (try_end),
    (try_begin),
      (try_begin),
        (ge, ":var0", 0),
        (ge, ":var1", 0),
        (agent_is_human, ":var0"),
        (agent_is_human, ":var1"),
        (neq, ":var0", ":var1"),
        (this_or_next|neq, ":var2", ":var3"),
        (this_or_next|eq, "$g_multiplayer_game_type", 0),
        (eq, "$g_multiplayer_game_type", 7),
        (agent_get_player_id, ":var4", ":var0"),
        (try_begin),
          (agent_is_non_player, ":var0"),
          (agent_get_team, ":var2", ":var0"),
          (team_get_bot_kill_count, ":var5", ":var2"),
          (val_add, ":var5", 1),
          (team_set_bot_kill_count, ":var2", ":var5"),
        (else_try),
          (player_is_active, ":var4"),
          (player_get_kill_count, ":var6", ":var4"),
          (val_add, ":var6", 1),
          (player_set_kill_count, ":var4", ":var6"),
        (try_end),
      (try_end),
      (try_begin),
        (ge, ":var1", 0),
        (agent_is_human, ":var1"),
        (try_begin),
          (agent_is_non_player, ":var1"),
          (agent_get_team, ":var3", ":var1"),
          (team_get_bot_death_count, ":var7", ":var3"),
          (val_add, ":var7", 1),
          (team_set_bot_death_count, ":var3", ":var7"),
        (else_try),
          (agent_get_player_id, ":var8", ":var1"),
          (player_is_active, ":var8"),
          (player_get_death_count, ":var9", ":var8"),
          (val_add, ":var9", 1),
          (player_set_death_count, ":var8", ":var9"),
        (try_end),
        (try_begin),
          (assign, ":var10", 0),
          (try_begin),
            (this_or_next|lt, ":var0", 0),
            (eq, ":var0", ":var1"),
            (assign, ":var10", 1),
          (try_end),
          (try_begin),
            (eq, ":var2", ":var3"),
            (neq, "$g_multiplayer_game_type", 0),
            (neq, "$g_multiplayer_game_type", 7),
            (assign, ":var10", 1),
          (try_end),
          (eq, ":var10", 1),
          (try_begin),
            (ge, ":var0", 0),
            (assign, ":var11", ":var0"),
          (else_try),
            (assign, ":var11", ":var1"),
          (try_end),
          (try_begin),
            (ge, ":var11", 0),
            (neg|agent_is_non_player, ":var11"),
            (agent_get_player_id, ":var12", ":var11"),
            (ge, ":var12", 0),
            (player_get_kill_count, ":var13", ":var12"),
            (val_add, ":var13", -1),
            (player_set_kill_count, ":var12", ":var13"),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("warn_player_about_auto_team_balance",
  [
    (assign, "$g_multiplayer_message_type", 3),
    (start_presentation, "prsnt_multiplayer_message_2"),
  ]),

  ("check_team_balance",
  [
    (try_begin),
      (multiplayer_is_server),
      (assign, ":var0", 0),
      (assign, ":var1", 0),
      (get_max_players, ":var2"),
      (try_for_range, ":var3", 0, ":var2"),
        (player_is_active, ":var3"),
        (player_get_team_no, ":var4", ":var3"),
        (try_begin),
          (eq, ":var4", 0),
          (val_add, ":var0", 1),
        (else_try),
          (eq, ":var4", 1),
          (val_add, ":var1", 1),
        (try_end),
      (try_end),
      (store_sub, ":var5", ":var0", ":var1"),
      (assign, ":var6", 0),
      (try_begin),
        (try_begin),
          (store_mul, ":var7", "$g_multiplayer_auto_team_balance_limit", -1),
          (le, ":var5", ":var7"),
          (store_div, ":var6", ":var5", -2),
          (assign, ":var8", 1),
          (assign, ":var9", 0),
        (else_try),
          (ge, ":var5", "$g_multiplayer_auto_team_balance_limit"),
          (store_div, ":var6", ":var5", 2),
          (assign, ":var8", 0),
          (assign, ":var9", 1),
        (try_end),
      (try_end),
      (try_begin),
        (gt, ":var6", 0),
        (try_begin),
          (eq, "$g_team_balance_next_round", 1),
          (try_for_range, ":var10", 0, ":var6"),
            (assign, ":var11", 0),
            (assign, ":var12", -1),
            (get_max_players, ":var2"),
            (try_for_range, ":var13", 0, ":var2"),
              (player_is_active, ":var13"),
              (player_get_team_no, ":var4", ":var13"),
              (eq, ":var4", ":var8"),
              (player_get_slot, ":var14", ":var13", 21),
              (try_begin),
                (gt, ":var14", ":var11"),
                (assign, ":var11", ":var14"),
                (assign, ":var12", ":var13"),
              (try_end),
            (try_end),
            (try_begin),
              (ge, ":var12", 0),
              (try_begin),
                (player_get_agent_id, ":var15", ":var12"),
                (ge, ":var15", 0),
                (agent_is_alive, ":var15"),
                (player_get_kill_count, ":var16", ":var12"),
                (val_add, ":var16", 1),
                (player_set_kill_count, ":var12", ":var16"),
                (player_get_death_count, ":var17", ":var12"),
                (val_sub, ":var17", 1),
                (player_set_death_count, ":var12", ":var17"),
                (player_get_score, ":var18", ":var12"),
                (val_add, ":var18", 1),
                (player_set_score, ":var12", ":var18"),
                (try_for_range, ":var13", 1, ":var2"),
                  (player_is_active, ":var13"),
                  (multiplayer_send_4_int_to_player, ":var13", 86, ":var12", ":var18", ":var16", ":var17"),
                (try_end),
                (player_get_value_of_original_items, ":var19", ":var12"),
                (player_get_gold, ":var20", ":var12"),
                (val_add, ":var20", ":var19"),
                (player_set_gold, ":var12", ":var20", 15000),
              (try_end),
              (player_set_troop_id, ":var12", -1),
              (player_set_team_no, ":var12", ":var9"),
              (multiplayer_send_message_to_player, ":var12", 79),
            (try_end),
          (try_end),
          (call_script, "script_show_multiplayer_message", 2, 0),
          (get_max_players, ":var2"),
          (try_for_range, ":var13", 1, ":var2"),
            (player_is_active, ":var13"),
            (multiplayer_send_int_to_player, ":var13", 68, 2),
          (try_end),
          (assign, "$g_team_balance_next_round", 0),
        (else_try),
          (assign, "$g_team_balance_next_round", 1),
          (call_script, "script_show_multiplayer_message", 3, 0),
          (get_max_players, ":var2"),
          (try_for_range, ":var13", 1, ":var2"),
            (player_is_active, ":var13"),
            (multiplayer_send_int_to_player, ":var13", 68, 3),
          (try_end),
        (try_end),
      (else_try),
        (assign, "$g_team_balance_next_round", 0),
      (try_end),
    (try_end),
  ]),

  ("check_creating_ladder_dust_effect",
  [
    (store_trigger_param_1, ":var0"),
    (store_trigger_param_2, ":var1"),
    (try_begin),
      (lt, ":var1", 15),
      (gt, ":var1", 3),
      (scene_prop_get_slot, ":var2", ":var0", 2),
      (scene_prop_get_slot, ":var3", ":var0", 1),
      (try_begin),
        (eq, ":var2", 0),
        (eq, ":var3", 0),
        (prop_instance_get_position, pos0, ":var0"),
        (assign, ":var4", -1),
        (try_for_range, ":var5", 100, 110),
          (entry_point_get_position, pos1, ":var5"),
          (get_sq_distance_between_positions, ":var6", pos0, pos1),
          (this_or_next|eq, ":var4", -1),
          (lt, ":var6", ":var4"),
          (assign, ":var4", ":var6"),
          (assign, ":var7", ":var5"),
        (try_end),
        (try_begin),
          (set_fixed_point_multiplier, 100),
          (ge, ":var4", 0),
          (lt, ":var4", 22500),
          (entry_point_get_position, pos1, ":var7"),
          (position_rotate_x, pos1, -90),
          (prop_instance_get_scene_prop_kind, ":var8", ":var0"),
          (try_begin),
            (eq, ":var8", "spr_siege_ladder_move_6m"),
            (init_position, pos2),
            (position_set_z, pos2, 300),
            (position_transform_position_to_parent, pos3, pos1, pos2),
            (particle_system_burst, "psys_ladder_dust_6m", pos3, 100),
            (particle_system_burst, "psys_ladder_straw_6m", pos3, 100),
          (else_try),
            (eq, ":var8", "spr_siege_ladder_move_8m"),
            (init_position, pos2),
            (position_set_z, pos2, 400),
            (position_transform_position_to_parent, pos3, pos1, pos2),
            (particle_system_burst, "psys_ladder_dust_8m", pos3, 100),
            (particle_system_burst, "psys_ladder_straw_8m", pos3, 100),
          (else_try),
            (eq, ":var8", "spr_siege_ladder_move_10m"),
            (init_position, pos2),
            (position_set_z, pos2, 500),
            (position_transform_position_to_parent, pos3, pos1, pos2),
            (particle_system_burst, "psys_ladder_dust_10m", pos3, 100),
            (particle_system_burst, "psys_ladder_straw_10m", pos3, 100),
          (else_try),
            (eq, ":var8", "spr_siege_ladder_move_12m"),
            (init_position, pos2),
            (position_set_z, pos2, 600),
            (position_transform_position_to_parent, pos3, pos1, pos2),
            (particle_system_burst, "psys_ladder_dust_12m", pos3, 100),
            (particle_system_burst, "psys_ladder_straw_12m", pos3, 100),
          (else_try),
            (eq, ":var8", "spr_siege_ladder_move_14m"),
            (init_position, pos2),
            (position_set_z, pos2, 700),
            (position_transform_position_to_parent, pos3, pos1, pos2),
            (particle_system_burst, "psys_ladder_dust_14m", pos3, 100),
            (particle_system_burst, "psys_ladder_straw_14m", pos3, 100),
          (try_end),
          (scene_prop_set_slot, ":var0", 2, 1),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("money_management_after_agent_death",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (try_begin),
      (multiplayer_is_server),
      (ge, ":var0", 0),
      (ge, ":var1", 0),
      (agent_is_human, ":var1"),
      (agent_is_human, ":var0"),
      (agent_get_team, ":var3", ":var0"),
      (agent_get_team, ":var4", ":var1"),
      (this_or_next|eq, "$g_multiplayer_game_type", 0),
      (this_or_next|eq, "$g_multiplayer_game_type", 7),
      (neq, ":var3", ":var4"),
      (neq, ":var1", ":var0"),
      (try_begin),
        (neg|agent_is_non_player, ":var1"),
        (agent_get_player_id, ":var5", ":var1"),
        (player_get_slot, ":var6", ":var5", 27),
      (else_try),
        (assign, ":var6", 0),
      (try_end),
      (assign, ":var7", 0),
      (get_max_players, ":var8"),
      (try_for_range, ":var9", 0, ":var8"),
        (player_is_active, ":var9"),
        (player_get_team_no, ":var10", ":var9"),
        (eq, ":var10", ":var4"),
        (val_add, ":var7", 1),
      (try_end),
      (try_for_range, ":var9", 0, ":var8"),
        (player_is_active, ":var9"),
        (try_begin),
          (this_or_next|eq, "$g_multiplayer_game_type", 2),
          (eq, "$g_multiplayer_game_type", 3),
          (assign, ":var11", 1),
        (else_try),
          (assign, ":var11", 0),
        (try_end),
        (this_or_next|eq, ":var11", 0),
        (this_or_next|player_slot_eq, ":var9", 0, 0),
        (player_slot_eq, ":var9", 0, 1),
        (player_get_agent_id, ":var12", ":var9"),
        (try_begin),
          (eq, ":var12", ":var1"),
          (player_get_gold, ":var13", ":var9"),
          (assign, ":var2", ":var9"),
          (store_mul, ":var14", ":var6", 48),
          (val_div, ":var14", 100),
          (val_mul, ":var14", "$g_multiplayer_battle_earnings_multiplier"),
          (val_div, ":var14", 100),
          (try_begin),
            (this_or_next|eq, "$g_multiplayer_game_type", 0),
            (this_or_next|eq, "$g_multiplayer_game_type", 7),
            (this_or_next|eq, "$g_multiplayer_game_type", 1),
            (this_or_next|eq, "$g_multiplayer_game_type", 4),
            (eq, "$g_multiplayer_game_type", 5),
            (val_mul, ":var14", 4),
            (val_div, ":var14", 3),
            (val_add, ":var13", ":var14"),
          (else_try),
            (this_or_next|eq, "$g_multiplayer_game_type", 2),
            (eq, "$g_multiplayer_game_type", 3),
            (val_mul, ":var14", 2),
            (val_div, ":var14", 3),
            (val_add, ":var13", ":var14"),
          (else_try),
            (val_add, ":var13", ":var14"),
          (try_end),
          (player_set_gold, ":var9", ":var13", 15000),
        (else_try),
          (eq, ":var12", ":var0"),
          (player_get_gold, ":var13", ":var9"),
          (assign, ":var15", 150),
          (val_mul, ":var15", "$g_multiplayer_battle_earnings_multiplier"),
          (val_div, ":var15", 100),
          (try_begin),
            (this_or_next|eq, "$g_multiplayer_game_type", 0),
            (this_or_next|eq, "$g_multiplayer_game_type", 7),
            (this_or_next|eq, "$g_multiplayer_game_type", 1),
            (this_or_next|eq, "$g_multiplayer_game_type", 4),
            (eq, "$g_multiplayer_game_type", 5),
            (val_mul, ":var15", 4),
            (val_div, ":var15", 3),
            (val_add, ":var13", ":var15"),
          (else_try),
            (this_or_next|eq, "$g_multiplayer_game_type", 2),
            (eq, "$g_multiplayer_game_type", 3),
            (val_mul, ":var15", 2),
            (val_div, ":var15", 3),
            (val_add, ":var13", ":var15"),
          (else_try),
            (val_add, ":var13", ":var15"),
          (try_end),
          (store_mul, ":var16", ":var6", 12),
          (val_div, ":var16", 100),
          (val_mul, ":var16", "$g_multiplayer_battle_earnings_multiplier"),
          (val_div, ":var16", 100),
          (try_begin),
            (this_or_next|eq, "$g_multiplayer_game_type", 0),
            (this_or_next|eq, "$g_multiplayer_game_type", 7),
            (this_or_next|eq, "$g_multiplayer_game_type", 1),
            (this_or_next|eq, "$g_multiplayer_game_type", 4),
            (eq, "$g_multiplayer_game_type", 5),
            (val_mul, ":var16", 4),
            (val_div, ":var16", 3),
            (val_add, ":var13", ":var16"),
          (else_try),
            (this_or_next|eq, "$g_multiplayer_game_type", 2),
            (eq, "$g_multiplayer_game_type", 3),
            (val_mul, ":var16", 2),
            (val_div, ":var16", 3),
            (val_add, ":var13", ":var16"),
          (else_try),
            (val_add, ":var13", ":var16"),
          (try_end),
          (player_set_gold, ":var9", ":var13", 15000),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (multiplayer_is_server),
      (neq, "$g_multiplayer_game_type", 2),
      (neq, "$g_multiplayer_game_type", 3),
      (ge, ":var1", 0),
      (agent_is_human, ":var1"),
      (agent_get_player_id, ":var2", ":var1"),
      (ge, ":var2", 0),
      (player_get_gold, ":var13", ":var2"),
      (try_begin),
        (store_mul, ":var17", "$g_multiplayer_initial_gold_multiplier", 10),
        (lt, ":var13", ":var17"),
        (assign, ":var13", ":var17"),
      (try_end),
      (player_set_gold, ":var2", ":var13"),
    (try_end),
  ]),

  ("raf_count_kingdom_lords_and_ladies",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, reg3, 0),
    (assign, reg4, 0),
    (try_for_range, ":var3", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
      (troop_slot_eq, ":var3", 166, 1),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (try_begin),
        (eq, ":var1", 0),
        (assign, reg3, ":var3"),
      (try_end),
      (val_add, ":var1", 1),
    (try_end),
    (try_for_range, ":var3", "trp_knight_1_1_wife", "trp_heroes_end"),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (try_begin),
        (eq, ":var2", 0),
        (assign, reg4, ":var3"),
      (try_end),
      (val_add, ":var2", 1),
    (try_end),
    (assign, reg0, ":var1"),
    (assign, reg1, ":var2"),
  ]),

  ("raf_initialize_aristocracy",
  [
    (assign, ":var0", "trp_kingdom_2_lady_1"),
    (try_for_range, ":var1", "trp_kingdom_1_lord", "trp_knight_1_1"),
      (troop_set_slot, ":var1", 2, 2),
      (store_random_in_range, ":var2", 50, 60),
      (troop_set_slot, ":var1", 18, ":var2"),
    (try_end),
    (try_for_range, ":var1", "trp_knight_1_1_wife", "trp_heroes_end"),
      (troop_set_slot, ":var1", 2, 6),
      (store_random_in_range, ":var3", 20, 26),
      (try_begin),
        (eq, ":var3", 20),
        (assign, ":var3", 21),
      (try_end),
      (troop_set_slot, ":var1", 52, ":var3"),
    (try_end),
    (try_for_range, ":var1", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
      (troop_slot_eq, ":var1", 166, 1),
      (troop_set_slot, ":var1", 2, 2),
      (store_random_in_range, ":var3", 1, 8),
      (troop_set_slot, ":var1", 52, ":var3"),
    (try_end),
    (try_for_range, ":var1", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (troop_set_slot, ":var1", 2, 9),
      (store_random_in_range, ":var2", 25, 30),
      (troop_set_slot, ":var1", 18, ":var2"),
    (try_end),
    (try_for_range, ":var4", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_slot_eq, ":var4", 21, 0),
      (call_script, "script_raf_count_kingdom_lords_and_ladies", ":var4"),
      (assign, ":var5", reg0),
      (assign, ":var6", reg1),
      (assign, ":var7", reg3),
      (assign, ":var8", reg4),
      (gt, ":var6", 0),
      (store_add, ":var9", ":var7", ":var5"),
      (store_div, ":var10", ":var5", 5),
      (store_mul, ":var11", ":var10", 2),
      (store_mul, ":var12", ":var10", 2),
      (store_add, ":var13", ":var8", ":var12"),
      (store_add, ":var14", ":var13", ":var11"),
      (store_add, ":var15", ":var7", ":var12"),
      (val_sub, ":var15", 1),
      (store_sub, ":var16", ":var12", 2),
      (store_add, ":var17", ":var15", 1),
      (store_add, ":var18", ":var17", ":var11"),
      (val_sub, ":var18", 1),
      (store_add, ":var19", ":var18", 1),
      (assign, ":var20", 0),
      (try_begin),
        (neq, ":var5", ":var6"),
        (str_store_faction_name, s25, ":var4"),
        (display_message, "@--DEBUG-- count of lords and ladies for {s25} is not equal"),
      (try_end),
      (assign, ":var20", 0),
      (try_for_range, ":var21", ":var7", ":var17"),
        (store_add, ":var0", ":var8", ":var20"),
        (store_random_in_range, ":var22", 0, ":var16"),
        (store_add, ":var23", ":var9", 10000),
        (val_add, ":var22", ":var23"),
        (troop_set_slot, ":var21", 31, ":var22"),
        (store_random_in_range, ":var2", 45, 64),
        (call_script, "script_init_troop_age", ":var21", ":var2"),
        (store_random_in_range, ":var3", 1, 8),
        (troop_set_slot, ":var21", 52, ":var3"),
        (try_begin),
          (troop_set_slot, ":var21", 30, ":var0"),
          (troop_set_slot, ":var0", 30, ":var21"),
          (store_random_in_range, ":var24", 20, 26),
          (try_begin),
            (eq, ":var24", 20),
            (assign, ":var24", 21),
          (try_end),
          (troop_set_slot, ":var0", 52, ":var24"),
          (store_random_in_range, ":var2", 35, 54),
          (call_script, "script_init_troop_age", ":var0", ":var2"),
          (call_script, "script_add_lady_items", ":var0"),
        (try_end),
        (try_begin),
          (lt, ":var20", ":var10"),
          (store_add, ":var25", ":var14", ":var20"),
          (troop_set_slot, ":var25", 31, ":var21"),
          (store_random_in_range, ":var2", 16, 25),
          (call_script, "script_init_troop_age", ":var25", ":var2"),
          (troop_set_slot, ":var25", 32, ":var0"),
          (store_random_in_range, ":var26", 21, 34),
          (try_begin),
            (le, ":var26", 25),
            (troop_set_slot, ":var0", 52, ":var26"),
          (else_try),
            (eq, ":var26", 26),
            (troop_set_slot, ":var0", 52, 21),
          (else_try),
            (eq, ":var26", 27),
            (troop_set_slot, ":var0", 52, 25),
          (else_try),
            (assign, ":var27", ":var3"),
            (try_begin),
              (this_or_next|eq, ":var27", 1),
              (eq, ":var27", 0),
              (troop_set_slot, ":var0", 52, 21),
            (else_try),
              (eq, ":var27", 2),
              (troop_set_slot, ":var0", 52, 23),
            (else_try),
              (eq, ":var27", 3),
              (troop_set_slot, ":var0", 52, 24),
            (else_try),
              (eq, ":var27", 4),
              (troop_set_slot, ":var0", 52, 22),
            (else_try),
              (eq, ":var27", 6),
              (troop_set_slot, ":var0", 52, 22),
            (else_try),
              (eq, ":var27", 5),
              (troop_set_slot, ":var0", 52, 24),
            (else_try),
              (eq, ":var27", 7),
              (troop_set_slot, ":var0", 52, 25),
            (try_end),
          (try_end),
          (call_script, "script_add_lady_items", ":var25"),
        (try_end),
        (try_begin),
          (ge, ":var20", ":var10"),
          (assign, ":var28", ":var19"),
          (val_add, ":var28", ":var20"),
          (val_sub, ":var28", ":var10"),
          (try_begin),
            (troop_set_slot, ":var28", 31, ":var21"),
            (troop_set_slot, ":var28", 32, ":var0"),
          (try_end),
          (store_random_in_range, ":var2", 16, 25),
          (call_script, "script_init_troop_age", ":var28", ":var2"),
        (try_end),
        (val_add, ":var20", 1),
      (try_end),
      (assign, ":var20", 0),
      (try_for_range, ":var21", ":var17", ":var19"),
        (store_random_in_range, ":var2", 25, 36),
        (store_random_in_range, ":var3", 1, 8),
        (troop_set_slot, ":var21", 52, ":var3"),
        (call_script, "script_init_troop_age", ":var21", ":var2"),
        (try_begin),
          (store_add, ":var29", ":var13", ":var20"),
          (store_random_in_range, ":var30", 20, 26),
          (try_begin),
            (eq, ":var30", 20),
            (assign, ":var30", 21),
          (try_end),
          (troop_set_slot, ":var29", 52, ":var30"),
          (troop_set_slot, ":var29", 33, ":var21"),
          (call_script, "script_init_troop_age", ":var29", 21),
          (call_script, "script_add_lady_items", ":var29"),
        (try_end),
        (val_add, ":var20", 1),
      (try_end),
    (try_end),
  ]),

  ("initialize_aristocracy",
  [
  ]),

  ("initialize_trade_routes",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (store_random_in_range, ":var1", 0, 6),
      (try_for_range, ":var2", 0, ":var1"),
        (store_random_in_range, ":var3", "p_town_1_1", "p_castle_1_1"),
        (neq, ":var3", ":var0"),
        (call_script, "script_set_trade_route_between_centers", ":var0", ":var3"),
      (try_end),
    (try_end),
  ]),

  ("initialize_faction_troop_types",
  [
    (try_for_range, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var0", 21, 0),
      (faction_get_slot, ":var1", ":var0", 10),
      (faction_get_slot, ":var2", ":var1", 41),
      (faction_set_slot, ":var0", 41, ":var2"),
      (faction_get_slot, ":var2", ":var1", 42),
      (faction_set_slot, ":var0", 42, ":var2"),
      (faction_get_slot, ":var2", ":var1", 43),
      (faction_set_slot, ":var0", 43, ":var2"),
      (faction_get_slot, ":var2", ":var1", 44),
      (faction_set_slot, ":var0", 44, ":var2"),
      (faction_get_slot, ":var2", ":var1", 45),
      (faction_set_slot, ":var0", 45, ":var2"),
      (faction_get_slot, ":var2", ":var1", 100),
      (faction_set_slot, ":var0", 100, ":var2"),
      (faction_get_slot, ":var2", ":var1", 101),
      (faction_set_slot, ":var0", 101, ":var2"),
      (faction_get_slot, ":var2", ":var1", 48),
      (faction_set_slot, ":var0", 48, ":var2"),
      (faction_get_slot, ":var2", ":var1", 49),
      (faction_set_slot, ":var0", 49, ":var2"),
      (faction_get_slot, ":var2", ":var1", 50),
      (faction_set_slot, ":var0", 50, ":var2"),
      (faction_get_slot, ":var2", ":var1", 51),
      (faction_set_slot, ":var0", 51, ":var2"),
      (faction_get_slot, ":var2", ":var1", 52),
      (faction_set_slot, ":var0", 52, ":var2"),
      (faction_get_slot, ":var2", ":var1", 77),
      (faction_set_slot, ":var0", 77, ":var2"),
      (faction_get_slot, ":var2", ":var1", 78),
      (faction_set_slot, ":var0", 78, ":var2"),
      (faction_get_slot, ":var2", ":var1", 79),
      (faction_set_slot, ":var0", 79, ":var2"),
      (faction_get_slot, ":var2", ":var1", 102),
      (faction_set_slot, ":var0", 102, ":var2"),
    (try_end),
  ]),

  ("initialize_item_info",
  [
    (item_set_slot, "itm_bread", 1, 8),
    (item_set_slot, "itm_grain", 1, 2),
    (item_set_slot, "itm_smoked_fish", 1, 4),
    (item_set_slot, "itm_dried_meat", 1, 5),
    (item_set_slot, "itm_cheese", 1, 5),
    (item_set_slot, "itm_sausages", 1, 5),
    (item_set_slot, "itm_butter", 1, 4),
    (item_set_slot, "itm_chicken", 1, 8),
    (item_set_slot, "itm_cattle_meat", 1, 7),
    (item_set_slot, "itm_pork", 1, 6),
    (item_set_slot, "itm_raw_olives", 1, 1),
    (item_set_slot, "itm_cabbages", 1, 2),
    (item_set_slot, "itm_raw_grapes", 1, 3),
    (item_set_slot, "itm_apples", 1, 4),
    (item_set_slot, "itm_raw_date_fruit", 1, 4),
    (item_set_slot, "itm_honey", 1, 6),
    (item_set_slot, "itm_wine", 1, 8),
    (item_set_slot, "itm_ale", 1, 7),
    (item_set_slot, "itm_grain", 11, 20),
    (item_set_slot, "itm_grain", 12, 20),
    (item_set_slot, "itm_grain", 13, 20),
    (item_set_slot, "itm_grain", 14, 209),
    (item_set_slot, "itm_grain", 15, "str_acres_grain"),
    (item_set_slot, "itm_grain", 53, 30),
    (item_set_slot, "itm_bread", 11, 30),
    (item_set_slot, "itm_bread", 12, 30),
    (item_set_slot, "itm_bread", 13, 30),
    (item_set_slot, "itm_bread", 14, 221),
    (item_set_slot, "itm_bread", 15, "str_mills"),
    (item_set_slot, "itm_bread", 50, "itm_grain"),
    (item_set_slot, "itm_bread", 52, 6),
    (item_set_slot, "itm_bread", 55, 6),
    (item_set_slot, "itm_bread", 56, 30),
    (item_set_slot, "itm_bread", 53, 50),
    (item_set_slot, "itm_bread", 58, 1500),
    (item_set_slot, "itm_ale", 11, 10),
    (item_set_slot, "itm_ale", 12, 15),
    (item_set_slot, "itm_ale", 13, 0),
    (item_set_slot, "itm_ale", 14, 222),
    (item_set_slot, "itm_ale", 15, "str_breweries"),
    (item_set_slot, "itm_ale", 53, 120),
    (item_set_slot, "itm_ale", 50, "itm_grain"),
    (item_set_slot, "itm_ale", 52, 1),
    (item_set_slot, "itm_ale", 55, 2),
    (item_set_slot, "itm_ale", 56, 50),
    (item_set_slot, "itm_ale", 53, 120),
    (item_set_slot, "itm_ale", 58, 2500),
    (item_set_slot, "itm_wine", 11, 15),
    (item_set_slot, "itm_wine", 12, 10),
    (item_set_slot, "itm_wine", 13, 25),
    (item_set_slot, "itm_wine", 14, 223),
    (item_set_slot, "itm_wine", 15, "str_presses"),
    (item_set_slot, "itm_wine", 50, "itm_raw_grapes"),
    (item_set_slot, "itm_wine", 52, 4),
    (item_set_slot, "itm_wine", 55, 2),
    (item_set_slot, "itm_wine", 56, 60),
    (item_set_slot, "itm_wine", 53, 220),
    (item_set_slot, "itm_wine", 58, 5000),
    (item_set_slot, "itm_raw_grapes", 11, 0),
    (item_set_slot, "itm_raw_grapes", 12, 0),
    (item_set_slot, "itm_raw_grapes", 13, 0),
    (item_set_slot, "itm_raw_grapes", 14, 211),
    (item_set_slot, "itm_raw_grapes", 15, "str_acres_orchard"),
    (item_set_slot, "itm_raw_grapes", 51, "itm_wine"),
    (item_set_slot, "itm_raw_grapes", 53, 75),
    (item_set_slot, "itm_apples", 11, 4),
    (item_set_slot, "itm_apples", 12, 4),
    (item_set_slot, "itm_apples", 13, 0),
    (item_set_slot, "itm_apples", 14, 211),
    (item_set_slot, "itm_apples", 15, "str_acres_orchard"),
    (item_set_slot, "itm_apples", 53, 44),
    (item_set_slot, "itm_smoked_fish", 11, 16),
    (item_set_slot, "itm_smoked_fish", 12, 16),
    (item_set_slot, "itm_smoked_fish", 13, 16),
    (item_set_slot, "itm_smoked_fish", 14, 214),
    (item_set_slot, "itm_smoked_fish", 15, "str_boats"),
    (item_set_slot, "itm_salt", 11, 5),
    (item_set_slot, "itm_salt", 12, 3),
    (item_set_slot, "itm_salt", 13, -1),
    (item_set_slot, "itm_salt", 14, 215),
    (item_set_slot, "itm_salt", 15, "str_pans"),
    (item_set_slot, "itm_dried_meat", 11, 20),
    (item_set_slot, "itm_dried_meat", 12, 5),
    (item_set_slot, "itm_dried_meat", 13, -1),
    (item_set_slot, "itm_dried_meat", 14, 205),
    (item_set_slot, "itm_dried_meat", 15, "str_head_cattle"),
    (item_set_slot, "itm_cattle_meat", 11, 12),
    (item_set_slot, "itm_cattle_meat", 12, 3),
    (item_set_slot, "itm_cattle_meat", 13, -1),
    (item_set_slot, "itm_cattle_meat", 14, 205),
    (item_set_slot, "itm_cattle_meat", 15, "str_head_cattle"),
    (item_set_slot, "itm_cheese", 11, 10),
    (item_set_slot, "itm_cheese", 12, 10),
    (item_set_slot, "itm_cheese", 13, 10),
    (item_set_slot, "itm_cheese", 14, 205),
    (item_set_slot, "itm_cheese", 15, "str_head_cattle"),
    (item_set_slot, "itm_butter", 11, 2),
    (item_set_slot, "itm_butter", 12, 2),
    (item_set_slot, "itm_butter", 13, 2),
    (item_set_slot, "itm_butter", 14, 205),
    (item_set_slot, "itm_butter", 15, "str_head_cattle"),
    (item_set_slot, "itm_leatherwork", 11, 10),
    (item_set_slot, "itm_leatherwork", 12, 10),
    (item_set_slot, "itm_leatherwork", 13, 10),
    (item_set_slot, "itm_leatherwork", 14, 230),
    (item_set_slot, "itm_leatherwork", 15, "str_tanneries"),
    (item_set_slot, "itm_leatherwork", 50, "itm_raw_leather"),
    (item_set_slot, "itm_leatherwork", 52, 3),
    (item_set_slot, "itm_leatherwork", 55, 3),
    (item_set_slot, "itm_leatherwork", 56, 50),
    (item_set_slot, "itm_leatherwork", 53, 220),
    (item_set_slot, "itm_leatherwork", 58, 8000),
    (item_set_slot, "itm_raw_leather", 11, 0),
    (item_set_slot, "itm_raw_leather", 12, 0),
    (item_set_slot, "itm_raw_leather", 13, 0),
    (item_set_slot, "itm_raw_leather", 14, 205),
    (item_set_slot, "itm_raw_leather", 15, "str_head_cattle"),
    (item_set_slot, "itm_raw_leather", 51, "itm_leatherwork"),
    (item_set_slot, "itm_raw_leather", 53, 120),
    (item_set_slot, "itm_sausages", 11, 12),
    (item_set_slot, "itm_sausages", 12, 3),
    (item_set_slot, "itm_sausages", 13, -1),
    (item_set_slot, "itm_sausages", 14, 206),
    (item_set_slot, "itm_sausages", 15, "str_head_sheep"),
    (item_set_slot, "itm_wool", 11, 0),
    (item_set_slot, "itm_wool", 12, 0),
    (item_set_slot, "itm_wool", 13, 0),
    (item_set_slot, "itm_wool", 14, 206),
    (item_set_slot, "itm_wool", 15, "str_head_sheep"),
    (item_set_slot, "itm_wool", 51, "itm_wool_cloth"),
    (item_set_slot, "itm_wool", 53, 130),
    (item_set_slot, "itm_wool_cloth", 11, 15),
    (item_set_slot, "itm_wool_cloth", 12, 20),
    (item_set_slot, "itm_wool_cloth", 13, 5),
    (item_set_slot, "itm_wool_cloth", 14, 227),
    (item_set_slot, "itm_wool_cloth", 15, "str_looms"),
    (item_set_slot, "itm_wool_cloth", 50, "itm_wool"),
    (item_set_slot, "itm_wool_cloth", 52, 2),
    (item_set_slot, "itm_wool_cloth", 55, 2),
    (item_set_slot, "itm_wool_cloth", 56, 120),
    (item_set_slot, "itm_wool_cloth", 53, 250),
    (item_set_slot, "itm_wool_cloth", 58, 6000),
    (item_set_slot, "itm_raw_flax", 11, 0),
    (item_set_slot, "itm_raw_flax", 12, 0),
    (item_set_slot, "itm_raw_flax", 13, 0),
    (item_set_slot, "itm_raw_flax", 14, 212),
    (item_set_slot, "itm_raw_flax", 15, "str_acres_flax"),
    (item_set_slot, "itm_raw_flax", 51, "itm_linen"),
    (item_set_slot, "itm_raw_flax", 53, 150),
    (item_set_slot, "itm_linen", 11, 7),
    (item_set_slot, "itm_linen", 12, 3),
    (item_set_slot, "itm_linen", 13, 15),
    (item_set_slot, "itm_linen", 14, 225),
    (item_set_slot, "itm_linen", 15, "str_looms"),
    (item_set_slot, "itm_linen", 50, "itm_raw_flax"),
    (item_set_slot, "itm_linen", 52, 2),
    (item_set_slot, "itm_linen", 55, 2),
    (item_set_slot, "itm_linen", 56, 120),
    (item_set_slot, "itm_linen", 53, 250),
    (item_set_slot, "itm_linen", 58, 6000),
    (item_set_slot, "itm_iron", 11, 0),
    (item_set_slot, "itm_iron", 12, 0),
    (item_set_slot, "itm_iron", 13, 0),
    (item_set_slot, "itm_iron", 14, 219),
    (item_set_slot, "itm_iron", 15, "str_deposits"),
    (item_set_slot, "itm_iron", 51, "itm_tools"),
    (item_set_slot, "itm_iron", 53, 264),
    (item_set_slot, "itm_tools", 11, 7),
    (item_set_slot, "itm_tools", 12, 7),
    (item_set_slot, "itm_tools", 13, 7),
    (item_set_slot, "itm_tools", 14, 229),
    (item_set_slot, "itm_tools", 15, "str_smithies"),
    (item_set_slot, "itm_tools", 50, "itm_iron"),
    (item_set_slot, "itm_tools", 52, 2),
    (item_set_slot, "itm_tools", 55, 2),
    (item_set_slot, "itm_tools", 56, 60),
    (item_set_slot, "itm_tools", 53, 410),
    (item_set_slot, "itm_tools", 58, 3500),
    (item_set_slot, "itm_pottery", 11, 15),
    (item_set_slot, "itm_pottery", 12, 5),
    (item_set_slot, "itm_pottery", 13, -1),
    (item_set_slot, "itm_pottery", 14, 228),
    (item_set_slot, "itm_pottery", 15, "str_kilns"),
    (item_set_slot, "itm_oil", 11, 10),
    (item_set_slot, "itm_oil", 12, 5),
    (item_set_slot, "itm_oil", 13, -1),
    (item_set_slot, "itm_oil", 14, 224),
    (item_set_slot, "itm_oil", 15, "str_presses"),
    (item_set_slot, "itm_oil", 50, "itm_raw_olives"),
    (item_set_slot, "itm_oil", 52, 6),
    (item_set_slot, "itm_oil", 55, 2),
    (item_set_slot, "itm_oil", 56, 80),
    (item_set_slot, "itm_oil", 53, 450),
    (item_set_slot, "itm_oil", 58, 4500),
    (item_set_slot, "itm_raw_olives", 11, 0),
    (item_set_slot, "itm_raw_olives", 12, 0),
    (item_set_slot, "itm_raw_olives", 13, 0),
    (item_set_slot, "itm_raw_olives", 14, 210),
    (item_set_slot, "itm_raw_olives", 15, "str_olive_groves"),
    (item_set_slot, "itm_raw_olives", 51, "itm_oil"),
    (item_set_slot, "itm_raw_olives", 53, 100),
    (item_set_slot, "itm_velvet", 11, 5),
    (item_set_slot, "itm_velvet", 12, 0),
    (item_set_slot, "itm_velvet", 13, -1),
    (item_set_slot, "itm_velvet", 14, 226),
    (item_set_slot, "itm_velvet", 15, "str_looms"),
    (item_set_slot, "itm_velvet", 50, "itm_raw_silk"),
    (item_set_slot, "itm_velvet", 52, 2),
    (item_set_slot, "itm_velvet", 55, 2),
    (item_set_slot, "itm_velvet", 56, 160),
    (item_set_slot, "itm_velvet", 53, 1025),
    (item_set_slot, "itm_velvet", 57, "itm_raw_dyes"),
    (item_set_slot, "itm_velvet", 58, 10000),
    (item_set_slot, "itm_raw_silk", 11, 0),
    (item_set_slot, "itm_raw_silk", 12, 0),
    (item_set_slot, "itm_raw_silk", 14, 217),
    (item_set_slot, "itm_raw_silk", 15, "str_mulberry_groves"),
    (item_set_slot, "itm_raw_silk", 51, "itm_velvet"),
    (item_set_slot, "itm_raw_silk", 53, 600),
    (item_set_slot, "itm_raw_dyes", 11, 3),
    (item_set_slot, "itm_raw_dyes", 12, 0),
    (item_set_slot, "itm_raw_dyes", 13, -1),
    (item_set_slot, "itm_raw_dyes", 15, "str_caravans"),
    (item_set_slot, "itm_raw_dyes", 53, 200),
    (item_set_slot, "itm_spice", 11, 5),
    (item_set_slot, "itm_spice", 12, 0),
    (item_set_slot, "itm_spice", 13, 5),
    (item_set_slot, "itm_spice", 15, "str_caravans"),
    (item_set_slot, "itm_furs", 11, 5),
    (item_set_slot, "itm_furs", 12, 0),
    (item_set_slot, "itm_furs", 13, -1),
    (item_set_slot, "itm_furs", 14, 220),
    (item_set_slot, "itm_furs", 15, "str_traps"),
    (item_set_slot, "itm_honey", 11, 12),
    (item_set_slot, "itm_honey", 12, 3),
    (item_set_slot, "itm_honey", 13, -1),
    (item_set_slot, "itm_honey", 14, 216),
    (item_set_slot, "itm_honey", 15, "str_hives"),
    (item_set_slot, "itm_cabbages", 11, 7),
    (item_set_slot, "itm_cabbages", 12, 7),
    (item_set_slot, "itm_cabbages", 13, 7),
    (item_set_slot, "itm_cabbages", 14, 232),
    (item_set_slot, "itm_cabbages", 15, "str_gardens"),
    (item_set_slot, "itm_raw_date_fruit", 11, 7),
    (item_set_slot, "itm_raw_date_fruit", 12, 7),
    (item_set_slot, "itm_raw_date_fruit", 13, 7),
    (item_set_slot, "itm_raw_date_fruit", 14, 232),
    (item_set_slot, "itm_raw_date_fruit", 15, "str_acres_oasis"),
    (item_set_slot, "itm_chicken", 11, 40),
    (item_set_slot, "itm_chicken", 12, 10),
    (item_set_slot, "itm_chicken", 13, -1),
    (item_set_slot, "itm_pork", 11, 40),
    (item_set_slot, "itm_pork", 12, 10),
    (item_set_slot, "itm_pork", 13, -1),
    (item_set_slot, "itm_book_tactics", 4, 9),
    (item_set_slot, "itm_book_persuasion", 4, 8),
    (item_set_slot, "itm_book_leadership", 4, 7),
    (item_set_slot, "itm_book_intelligence", 4, 10),
    (item_set_slot, "itm_book_trade", 4, 11),
    (item_set_slot, "itm_book_weapon_mastery", 4, 9),
    (item_set_slot, "itm_book_engineering", 4, 12),
    (item_set_slot, "itm_book_wound_treatment_reference", 4, 10),
    (item_set_slot, "itm_book_training_reference", 4, 10),
    (item_set_slot, "itm_book_surgery_reference", 4, 10),
  ]),

  ("initialize_town_arena_info",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 157, 2),
      (party_set_slot, ":var0", 158, 8),
    (try_end),
    (party_set_slot, "p_town_5_1", 80, 2),
    (party_set_slot, "p_town_5_1", 81, 1),
    (party_set_slot, "p_town_5_1", 82, 4),
    (party_set_slot, "p_town_5_1", 83, 1),
    (party_set_slot, "p_town_5_1", 84, 4),
    (party_set_slot, "p_town_5_1", 85, 1),
    (party_set_slot, "p_town_5_2", 80, 4),
    (party_set_slot, "p_town_5_2", 81, 4),
    (party_set_slot, "p_town_5_2", 82, 4),
    (party_set_slot, "p_town_5_2", 83, 6),
    (party_set_slot, "p_town_5_2", 84, 4),
    (party_set_slot, "p_town_5_2", 85, 8),
    (party_set_slot, "p_town_5_3", 80, 2),
    (party_set_slot, "p_town_5_3", 81, 8),
    (party_set_slot, "p_town_5_3", 82, 2),
    (party_set_slot, "p_town_5_3", 83, 8),
    (party_set_slot, "p_town_5_3", 84, 2),
    (party_set_slot, "p_town_5_3", 85, 8),
    (party_set_slot, "p_town_5_4", 80, 2),
    (party_set_slot, "p_town_5_4", 81, 8),
    (party_set_slot, "p_town_5_4", 82, 3),
    (party_set_slot, "p_town_5_4", 83, 8),
    (party_set_slot, "p_town_5_4", 84, 2),
    (party_set_slot, "p_town_5_4", 85, 5),
    (party_set_slot, "p_town_1_1", 80, 2),
    (party_set_slot, "p_town_1_1", 81, 3),
    (party_set_slot, "p_town_1_1", 82, 2),
    (party_set_slot, "p_town_1_1", 83, 5),
    (party_set_slot, "p_town_1_1", 84, 2),
    (party_set_slot, "p_town_1_1", 85, 8),
    (party_set_slot, "p_town_1_2", 80, 2),
    (party_set_slot, "p_town_1_2", 81, 4),
    (party_set_slot, "p_town_1_2", 82, 3),
    (party_set_slot, "p_town_1_2", 83, 4),
    (party_set_slot, "p_town_1_2", 84, 3),
    (party_set_slot, "p_town_1_2", 85, 6),
    (party_set_slot, "p_town_1_3", 80, 4),
    (party_set_slot, "p_town_1_3", 81, 4),
    (party_set_slot, "p_town_1_3", 82, 4),
    (party_set_slot, "p_town_1_3", 83, 6),
    (party_set_slot, "p_town_1_3", 84, 4),
    (party_set_slot, "p_town_1_3", 85, 8),
    (party_set_slot, "p_town_1_4", 80, 3),
    (party_set_slot, "p_town_1_4", 81, 1),
    (party_set_slot, "p_town_1_4", 82, 3),
    (party_set_slot, "p_town_1_4", 83, 3),
    (party_set_slot, "p_town_1_4", 84, 3),
    (party_set_slot, "p_town_1_4", 85, 7),
    (party_set_slot, "p_town_2_1", 80, 2),
    (party_set_slot, "p_town_2_1", 81, 2),
    (party_set_slot, "p_town_2_1", 82, 2),
    (party_set_slot, "p_town_2_1", 83, 5),
    (party_set_slot, "p_town_2_1", 84, 2),
    (party_set_slot, "p_town_2_1", 85, 8),
    (party_set_slot, "p_town_2_2", 80, 2),
    (party_set_slot, "p_town_2_2", 81, 3),
    (party_set_slot, "p_town_2_2", 82, 2),
    (party_set_slot, "p_town_2_2", 83, 5),
    (party_set_slot, "p_town_2_2", 84, 2),
    (party_set_slot, "p_town_2_2", 85, 8),
    (party_set_slot, "p_town_2_3", 80, 2),
    (party_set_slot, "p_town_2_3", 81, 8),
    (party_set_slot, "p_town_2_3", 82, 3),
    (party_set_slot, "p_town_2_3", 83, 4),
    (party_set_slot, "p_town_2_3", 84, 3),
    (party_set_slot, "p_town_2_3", 85, 6),
    (party_set_slot, "p_town_2_4", 80, 3),
    (party_set_slot, "p_town_2_4", 81, 8),
    (party_set_slot, "p_town_2_4", 82, 4),
    (party_set_slot, "p_town_2_4", 83, 6),
    (party_set_slot, "p_town_2_4", 84, 4),
    (party_set_slot, "p_town_2_4", 85, 5),
    (party_set_slot, "p_town_8_1", 80, 2),
    (party_set_slot, "p_town_8_1", 81, 8),
    (party_set_slot, "p_town_8_1", 82, 4),
    (party_set_slot, "p_town_8_1", 83, 5),
    (party_set_slot, "p_town_8_1", 84, 4),
    (party_set_slot, "p_town_8_1", 85, 7),
    (party_set_slot, "p_town_3_2", 80, 2),
    (party_set_slot, "p_town_3_2", 81, 4),
    (party_set_slot, "p_town_3_2", 82, 2),
    (party_set_slot, "p_town_3_2", 83, 5),
    (party_set_slot, "p_town_3_2", 84, 2),
    (party_set_slot, "p_town_3_2", 85, 6),
    (party_set_slot, "p_town_3_3", 80, 2),
    (party_set_slot, "p_town_3_3", 81, 8),
    (party_set_slot, "p_town_3_3", 82, 3),
    (party_set_slot, "p_town_3_3", 83, 4),
    (party_set_slot, "p_town_3_3", 84, 3),
    (party_set_slot, "p_town_3_3", 85, 6),
    (party_set_slot, "p_town_3_4", 80, 3),
    (party_set_slot, "p_town_3_4", 81, 8),
    (party_set_slot, "p_town_3_4", 82, 4),
    (party_set_slot, "p_town_3_4", 83, 6),
    (party_set_slot, "p_town_3_4", 84, 4),
    (party_set_slot, "p_town_3_4", 85, 5),
    (party_set_slot, "p_town_4_1", 80, 2),
    (party_set_slot, "p_town_4_1", 81, 8),
    (party_set_slot, "p_town_4_1", 82, 4),
    (party_set_slot, "p_town_4_1", 83, 5),
    (party_set_slot, "p_town_4_1", 84, 4),
    (party_set_slot, "p_town_4_1", 85, 7),
    (party_set_slot, "p_town_14_1", 80, 2),
    (party_set_slot, "p_town_14_1", 81, 4),
    (party_set_slot, "p_town_14_1", 82, 2),
    (party_set_slot, "p_town_14_1", 83, 5),
    (party_set_slot, "p_town_14_1", 84, 2),
    (party_set_slot, "p_town_14_1", 85, 6),
    (party_set_slot, "p_town_4_2", 80, 2),
    (party_set_slot, "p_town_4_2", 81, 1),
    (party_set_slot, "p_town_4_2", 82, 4),
    (party_set_slot, "p_town_4_2", 83, 1),
    (party_set_slot, "p_town_4_2", 84, 4),
    (party_set_slot, "p_town_4_2", 85, 1),
    (party_set_slot, "p_town_11_1", 80, 2),
    (party_set_slot, "p_town_11_1", 81, 1),
    (party_set_slot, "p_town_11_1", 82, 4),
    (party_set_slot, "p_town_11_1", 83, 1),
    (party_set_slot, "p_town_11_1", 84, 4),
    (party_set_slot, "p_town_11_1", 85, 1),
    (party_set_slot, "p_town_7_1", 80, 2),
    (party_set_slot, "p_town_7_1", 81, 1),
    (party_set_slot, "p_town_7_1", 82, 4),
    (party_set_slot, "p_town_7_1", 83, 1),
    (party_set_slot, "p_town_7_1", 84, 4),
    (party_set_slot, "p_town_7_1", 85, 1),
    (party_set_slot, "p_town_7_2", 80, 2),
    (party_set_slot, "p_town_7_2", 81, 1),
    (party_set_slot, "p_town_7_2", 82, 4),
    (party_set_slot, "p_town_7_2", 83, 1),
    (party_set_slot, "p_town_7_2", 84, 4),
    (party_set_slot, "p_town_7_2", 85, 1),
    (party_set_slot, "p_town_7_3", 80, 2),
    (party_set_slot, "p_town_7_3", 81, 1),
    (party_set_slot, "p_town_7_3", 82, 4),
    (party_set_slot, "p_town_7_3", 83, 1),
    (party_set_slot, "p_town_7_3", 84, 4),
    (party_set_slot, "p_town_7_3", 85, 1),
    (party_set_slot, "p_town_7_4", 80, 2),
    (party_set_slot, "p_town_7_4", 81, 1),
    (party_set_slot, "p_town_7_4", 82, 4),
    (party_set_slot, "p_town_7_4", 83, 1),
    (party_set_slot, "p_town_7_4", 84, 4),
    (party_set_slot, "p_town_7_4", 85, 1),
    (party_set_slot, "p_town_6_1", 80, 2),
    (party_set_slot, "p_town_6_1", 81, 1),
    (party_set_slot, "p_town_6_1", 82, 4),
    (party_set_slot, "p_town_6_1", 83, 1),
    (party_set_slot, "p_town_6_1", 84, 4),
    (party_set_slot, "p_town_6_1", 85, 1),
    (party_set_slot, "p_town_6_2", 80, 2),
    (party_set_slot, "p_town_6_2", 81, 1),
    (party_set_slot, "p_town_6_2", 82, 4),
    (party_set_slot, "p_town_6_2", 83, 1),
    (party_set_slot, "p_town_6_2", 84, 4),
    (party_set_slot, "p_town_6_2", 85, 1),
    (party_set_slot, "p_town_6_3", 80, 2),
    (party_set_slot, "p_town_6_3", 81, 1),
    (party_set_slot, "p_town_6_3", 82, 4),
    (party_set_slot, "p_town_6_3", 83, 1),
    (party_set_slot, "p_town_6_3", 84, 4),
    (party_set_slot, "p_town_6_3", 85, 1),
    (party_set_slot, "p_town_3_1", 80, 2),
    (party_set_slot, "p_town_3_1", 81, 1),
    (party_set_slot, "p_town_3_1", 82, 4),
    (party_set_slot, "p_town_3_1", 83, 1),
    (party_set_slot, "p_town_3_1", 84, 4),
    (party_set_slot, "p_town_3_1", 85, 1),
    (party_set_slot, "p_town_9_1", 80, 2),
    (party_set_slot, "p_town_9_1", 81, 1),
    (party_set_slot, "p_town_9_1", 82, 4),
    (party_set_slot, "p_town_9_1", 83, 1),
    (party_set_slot, "p_town_9_1", 84, 4),
    (party_set_slot, "p_town_9_1", 85, 1),
    (party_set_slot, "p_town_9_2", 80, 2),
    (party_set_slot, "p_town_9_2", 81, 1),
    (party_set_slot, "p_town_9_2", 82, 4),
    (party_set_slot, "p_town_9_2", 83, 1),
    (party_set_slot, "p_town_9_2", 84, 4),
    (party_set_slot, "p_town_9_2", 85, 1),
    (party_set_slot, "p_town_9_3", 80, 2),
    (party_set_slot, "p_town_9_3", 81, 1),
    (party_set_slot, "p_town_9_3", 82, 4),
    (party_set_slot, "p_town_9_3", 83, 1),
    (party_set_slot, "p_town_9_3", 84, 4),
    (party_set_slot, "p_town_9_3", 85, 1),
    (party_set_slot, "p_town_9_4", 80, 2),
    (party_set_slot, "p_town_9_4", 81, 1),
    (party_set_slot, "p_town_9_4", 82, 4),
    (party_set_slot, "p_town_9_4", 83, 1),
    (party_set_slot, "p_town_9_4", 84, 4),
    (party_set_slot, "p_town_9_4", 85, 1),
    (party_set_slot, "p_town_10_1", 80, 2),
    (party_set_slot, "p_town_10_1", 81, 1),
    (party_set_slot, "p_town_10_1", 82, 4),
    (party_set_slot, "p_town_10_1", 83, 1),
    (party_set_slot, "p_town_10_1", 84, 4),
    (party_set_slot, "p_town_10_1", 85, 1),
    (party_set_slot, "p_town_10_2", 80, 2),
    (party_set_slot, "p_town_10_2", 81, 1),
    (party_set_slot, "p_town_10_2", 82, 4),
    (party_set_slot, "p_town_10_2", 83, 1),
    (party_set_slot, "p_town_10_2", 84, 4),
    (party_set_slot, "p_town_10_2", 85, 1),
    (party_set_slot, "p_town_10_3", 80, 2),
    (party_set_slot, "p_town_10_3", 81, 1),
    (party_set_slot, "p_town_10_3", 82, 4),
    (party_set_slot, "p_town_10_3", 83, 1),
    (party_set_slot, "p_town_10_3", 84, 4),
    (party_set_slot, "p_town_10_3", 85, 1),
    (party_set_slot, "p_town_10_4", 80, 2),
    (party_set_slot, "p_town_10_4", 81, 1),
    (party_set_slot, "p_town_10_4", 82, 4),
    (party_set_slot, "p_town_10_4", 83, 1),
    (party_set_slot, "p_town_10_4", 84, 4),
    (party_set_slot, "p_town_10_4", 85, 1),
    (party_set_slot, "p_town_14_2", 80, 2),
    (party_set_slot, "p_town_14_2", 81, 1),
    (party_set_slot, "p_town_14_2", 82, 4),
    (party_set_slot, "p_town_14_2", 83, 1),
    (party_set_slot, "p_town_14_2", 84, 4),
    (party_set_slot, "p_town_14_2", 85, 1),
    (party_set_slot, "p_town_11_2", 80, 2),
    (party_set_slot, "p_town_11_2", 81, 1),
    (party_set_slot, "p_town_11_2", 82, 4),
    (party_set_slot, "p_town_11_2", 83, 1),
    (party_set_slot, "p_town_11_2", 84, 4),
    (party_set_slot, "p_town_11_2", 85, 1),
    (party_set_slot, "p_town_11_2", 80, 2),
    (party_set_slot, "p_town_11_2", 81, 1),
    (party_set_slot, "p_town_11_2", 82, 4),
    (party_set_slot, "p_town_11_2", 83, 1),
    (party_set_slot, "p_town_11_2", 84, 4),
    (party_set_slot, "p_town_11_2", 85, 1),
    (party_set_slot, "p_town_12_1", 80, 2),
    (party_set_slot, "p_town_12_1", 81, 1),
    (party_set_slot, "p_town_12_1", 82, 4),
    (party_set_slot, "p_town_12_1", 83, 1),
    (party_set_slot, "p_town_12_1", 84, 4),
    (party_set_slot, "p_town_12_1", 85, 1),
    (party_set_slot, "p_town_12_2", 80, 2),
    (party_set_slot, "p_town_12_2", 81, 1),
    (party_set_slot, "p_town_12_2", 82, 4),
    (party_set_slot, "p_town_12_2", 83, 1),
    (party_set_slot, "p_town_12_2", 84, 4),
    (party_set_slot, "p_town_12_2", 85, 1),
    (party_set_slot, "p_town_13_1", 80, 2),
    (party_set_slot, "p_town_13_1", 81, 1),
    (party_set_slot, "p_town_13_1", 82, 4),
    (party_set_slot, "p_town_13_1", 83, 1),
    (party_set_slot, "p_town_13_1", 84, 4),
    (party_set_slot, "p_town_13_1", 85, 1),
    (party_set_slot, "p_town_13_2", 80, 2),
    (party_set_slot, "p_town_13_2", 81, 1),
    (party_set_slot, "p_town_13_2", 82, 4),
    (party_set_slot, "p_town_13_2", 83, 1),
    (party_set_slot, "p_town_13_2", 84, 4),
    (party_set_slot, "p_town_13_2", 85, 1),
    (party_set_slot, "p_town_8_2", 80, 2),
    (party_set_slot, "p_town_8_2", 81, 1),
    (party_set_slot, "p_town_8_2", 82, 4),
    (party_set_slot, "p_town_8_2", 83, 1),
    (party_set_slot, "p_town_8_2", 84, 4),
    (party_set_slot, "p_town_8_2", 85, 1),
    (party_set_slot, "p_town_9_6", 80, 2),
    (party_set_slot, "p_town_9_6", 81, 1),
    (party_set_slot, "p_town_9_6", 82, 4),
    (party_set_slot, "p_town_9_6", 83, 1),
    (party_set_slot, "p_town_9_6", 84, 4),
    (party_set_slot, "p_town_9_6", 85, 1),
    (party_set_slot, "p_town_15_1", 80, 2),
    (party_set_slot, "p_town_15_1", 81, 1),
    (party_set_slot, "p_town_15_1", 82, 4),
    (party_set_slot, "p_town_15_1", 83, 1),
    (party_set_slot, "p_town_15_1", 84, 4),
    (party_set_slot, "p_town_15_1", 85, 1),
    (party_set_slot, "p_town_15_2", 80, 2),
    (party_set_slot, "p_town_15_2", 81, 1),
    (party_set_slot, "p_town_15_2", 82, 4),
    (party_set_slot, "p_town_15_2", 83, 1),
    (party_set_slot, "p_town_15_2", 84, 4),
    (party_set_slot, "p_town_15_2", 85, 1),
    (party_set_slot, "p_town_15_3", 80, 2),
    (party_set_slot, "p_town_15_3", 81, 1),
    (party_set_slot, "p_town_15_3", 82, 4),
    (party_set_slot, "p_town_15_3", 83, 1),
    (party_set_slot, "p_town_15_3", 84, 4),
    (party_set_slot, "p_town_15_3", 85, 1),
  ]),

  ("initialize_banner_info",
  [
    (try_for_range, ":var0", "trp_npc1", "trp_heroes_end"),
      (troop_set_slot, ":var0", 96, -1),
      (troop_set_slot, ":var0", 99, -1),
    (try_end),
    (troop_set_slot, "trp_player", 96, -1),
    (troop_set_slot, "trp_player", 99, -1),
    (store_random_in_range, "$g_election_date", 0, 45),
    (troop_set_slot, "trp_player", 85, 4294967295),
    (troop_set_slot, "trp_player", 86, 4294967295),
    (troop_set_slot, "trp_player", 87, 4294967295),
    (troop_set_slot, "trp_player", 88, 4294967295),
    (troop_set_slot, "trp_player", 89, 4294967295),
    (troop_set_slot, "trp_player", 90, 4294967295),
    (troop_set_slot, "trp_banner_background_color_array", 0, 4287579441),
    (troop_set_slot, "trp_banner_background_color_array", 1, 4292466641),
    (troop_set_slot, "trp_banner_background_color_array", 2, 4281808694),
    (troop_set_slot, "trp_banner_background_color_array", 3, 4288973608),
    (troop_set_slot, "trp_banner_background_color_array", 4, 4283004725),
    (troop_set_slot, "trp_banner_background_color_array", 5, 4286723629),
    (troop_set_slot, "trp_banner_background_color_array", 6, 4286133033),
    (troop_set_slot, "trp_banner_background_color_array", 7, 4280689953),
    (troop_set_slot, "trp_banner_background_color_array", 8, 4292467409),
    (troop_set_slot, "trp_banner_background_color_array", 9, 4283581795),
    (troop_set_slot, "trp_banner_background_color_array", 10, 4287705388),
    (troop_set_slot, "trp_banner_background_color_array", 11, 4289700401),
    (troop_set_slot, "trp_banner_background_color_array", 12, 4285558076),
    (troop_set_slot, "trp_banner_background_color_array", 13, 4292269006),
    (troop_set_slot, "trp_banner_background_color_array", 14, 4283571208),
    (troop_set_slot, "trp_banner_background_color_array", 15, 4281943428),
    (troop_set_slot, "trp_banner_background_color_array", 16, 4282541614),
    (troop_set_slot, "trp_banner_background_color_array", 17, 4292861654),
    (troop_set_slot, "trp_banner_background_color_array", 18, 4280887076),
    (troop_set_slot, "trp_banner_background_color_array", 19, 4283982107),
    (troop_set_slot, "trp_banner_background_color_array", 20, 4281416295),
    (troop_set_slot, "trp_banner_background_color_array", 21, 4288451146),
    (troop_set_slot, "trp_banner_background_color_array", 22, 4288252729),
    (troop_set_slot, "trp_banner_background_color_array", 23, 4281749864),
    (troop_set_slot, "trp_banner_background_color_array", 24, 4292269006),
    (troop_set_slot, "trp_banner_background_color_array", 25, 4287931970),
    (troop_set_slot, "trp_banner_background_color_array", 26, 4287906097),
    (troop_set_slot, "trp_banner_background_color_array", 27, 4287183668),
    (troop_set_slot, "trp_banner_background_color_array", 28, 4282537232),
    (troop_set_slot, "trp_banner_background_color_array", 29, 4287907118),
    (troop_set_slot, "trp_banner_background_color_array", 30, 4282866324),
    (troop_set_slot, "trp_banner_background_color_array", 31, 4291932721),
    (troop_set_slot, "trp_banner_background_color_array", 32, 4292993759),
    (troop_set_slot, "trp_banner_background_color_array", 33, 4288248862),
    (troop_set_slot, "trp_banner_background_color_array", 34, 4291213133),
    (troop_set_slot, "trp_banner_background_color_array", 35, 4289567256),
    (troop_set_slot, "trp_banner_background_color_array", 36, 4280362017),
    (troop_set_slot, "trp_banner_background_color_array", 37, 4287373345),
    (troop_set_slot, "trp_banner_background_color_array", 38, 4283265334),
    (troop_set_slot, "trp_banner_background_color_array", 39, 4281949572),
    (troop_set_slot, "trp_banner_background_color_array", 40, 4283594041),
    (troop_set_slot, "trp_banner_background_color_array", 41, 4288429113),
    (troop_set_slot, "trp_banner_background_color_array", 42, 4282536332),
    (troop_set_slot, "trp_banner_background_color_array", 43, 4288965164),
    (troop_set_slot, "trp_banner_background_color_array", 44, 4288631105),
    (troop_set_slot, "trp_banner_background_color_array", 45, 4281098633),
    (troop_set_slot, "trp_banner_background_color_array", 46, 4283786273),
    (troop_set_slot, "trp_banner_background_color_array", 47, 4288504350),
    (troop_set_slot, "trp_banner_background_color_array", 48, 4292796118),
    (troop_set_slot, "trp_banner_background_color_array", 49, 4285417617),
    (troop_set_slot, "trp_banner_background_color_array", 50, 4286994985),
    (troop_set_slot, "trp_banner_background_color_array", 51, 4292796377),
    (troop_set_slot, "trp_banner_background_color_array", 52, 4283581043),
    (troop_set_slot, "trp_banner_background_color_array", 53, 4287379489),
    (troop_set_slot, "trp_banner_background_color_array", 54, 4291940038),
    (troop_set_slot, "trp_banner_background_color_array", 55, 4281413681),
    (troop_set_slot, "trp_banner_background_color_array", 56, 4282868237),
    (troop_set_slot, "trp_banner_background_color_array", 57, 4285219129),
    (troop_set_slot, "trp_banner_background_color_array", 58, 4292270038),
    (troop_set_slot, "trp_banner_background_color_array", 59, 4281216812),
    (troop_set_slot, "trp_banner_background_color_array", 60, 4284498563),
    (troop_set_slot, "trp_banner_background_color_array", 61, 4281947524),
    (troop_set_slot, "trp_banner_background_color_array", 62, 4281413681),
    (troop_set_slot, "trp_banner_background_color_array", 63, 4286463790),
    (troop_set_slot, "trp_banner_background_color_array", 64, 4281611316),
    (troop_set_slot, "trp_banner_background_color_array", 65, 4282141035),
    (troop_set_slot, "trp_banner_background_color_array", 66, 4292466897),
    (troop_set_slot, "trp_banner_background_color_array", 67, 4288250428),
    (troop_set_slot, "trp_banner_background_color_array", 68, 4288643630),
    (troop_set_slot, "trp_banner_background_color_array", 69, 4281940025),
    (troop_set_slot, "trp_banner_background_color_array", 70, 4289022257),
    (troop_set_slot, "trp_banner_background_color_array", 71, 4292861142),
    (troop_set_slot, "trp_banner_background_color_array", 72, 4288629302),
    (troop_set_slot, "trp_banner_background_color_array", 73, 4287395105),
    (troop_set_slot, "trp_banner_background_color_array", 74, 4288628273),
    (troop_set_slot, "trp_banner_background_color_array", 75, 4286133028),
    (troop_set_slot, "trp_banner_background_color_array", 76, 4281946230),
    (troop_set_slot, "trp_banner_background_color_array", 77, 4281084716),
    (troop_set_slot, "trp_banner_background_color_array", 78, 4284838177),
    (troop_set_slot, "trp_banner_background_color_array", 79, 4286460193),
    (troop_set_slot, "trp_banner_background_color_array", 80, 4285944110),
    (troop_set_slot, "trp_banner_background_color_array", 81, 4293387230),
    (troop_set_slot, "trp_banner_background_color_array", 82, 4287920417),
    (troop_set_slot, "trp_banner_background_color_array", 83, 4283267964),
    (troop_set_slot, "trp_banner_background_color_array", 84, 4281611057),
    (troop_set_slot, "trp_banner_background_color_array", 85, 4289154358),
    (troop_set_slot, "trp_banner_background_color_array", 86, 4293387230),
    (troop_set_slot, "trp_banner_background_color_array", 87, 4292270286),
    (troop_set_slot, "trp_banner_background_color_array", 88, 4282273127),
    (troop_set_slot, "trp_banner_background_color_array", 89, 4288644142),
    (troop_set_slot, "trp_banner_background_color_array", 90, 4283263380),
    (troop_set_slot, "trp_banner_background_color_array", 91, 4283064600),
    (troop_set_slot, "trp_banner_background_color_array", 92, 4287904809),
    (troop_set_slot, "trp_banner_background_color_array", 93, 4281943161),
    (troop_set_slot, "trp_banner_background_color_array", 94, 4281611057),
    (troop_set_slot, "trp_banner_background_color_array", 95, 4282338653),
    (troop_set_slot, "trp_banner_background_color_array", 96, 4283065481),
    (troop_set_slot, "trp_banner_background_color_array", 97, 4281413681),
    (troop_set_slot, "trp_banner_background_color_array", 98, 4292270030),
    (troop_set_slot, "trp_banner_background_color_array", 99, 4291206656),
    (troop_set_slot, "trp_banner_background_color_array", 100, 4284714578),
    (troop_set_slot, "trp_banner_background_color_array", 101, 4292664275),
    (troop_set_slot, "trp_banner_background_color_array", 102, 4292598995),
    (troop_set_slot, "trp_banner_background_color_array", 103, 4286855217),
    (troop_set_slot, "trp_banner_background_color_array", 104, 4291743686),
    (troop_set_slot, "trp_banner_background_color_array", 105, 4291009841),
    (troop_set_slot, "trp_banner_background_color_array", 106, 4291540592),
    (troop_set_slot, "trp_banner_background_color_array", 107, 4281944600),
    (troop_set_slot, "trp_banner_background_color_array", 108, 4281804552),
    (troop_set_slot, "trp_banner_background_color_array", 109, 4288309264),
    (troop_set_slot, "trp_banner_background_color_array", 110, 4289886480),
    (troop_set_slot, "trp_banner_background_color_array", 111, 4287399457),
    (troop_set_slot, "trp_banner_background_color_array", 112, 4288109059),
    (troop_set_slot, "trp_banner_background_color_array", 113, 4281084196),
    (troop_set_slot, "trp_banner_background_color_array", 114, 4289369644),
    (troop_set_slot, "trp_banner_background_color_array", 115, 4288840238),
    (troop_set_slot, "trp_banner_background_color_array", 116, 4286286476),
    (troop_set_slot, "trp_banner_background_color_array", 117, 4282124552),
    (troop_set_slot, "trp_banner_background_color_array", 118, 4294902015),
    (troop_set_slot, "trp_banner_background_color_array", 119, 4284947988),
    (troop_set_slot, "trp_banner_background_color_array", 120, 4279251010),
    (troop_set_slot, "trp_banner_background_color_array", 121, 4283057408),
    (troop_set_slot, "trp_banner_background_color_array", 122, 4285543204),
    (troop_set_slot, "trp_banner_background_color_array", 123, 4280559932),
    (troop_set_slot, "trp_banner_background_color_array", 124, 4284311910),
    (troop_set_slot, "trp_banner_background_color_array", 125, 4290614833),
    (troop_set_slot, "trp_banner_background_color_array", 126, 4291211883),
    (troop_set_slot, "trp_banner_background_color_array", 127, 4281944344),
    (troop_set_slot, "trp_banner_background_color_array", 128, 4280361505),
    (troop_set_slot, "trp_banner_background_color_array", 129, 4280361505),
    (troop_set_slot, "trp_banner_background_color_array", 130, 4281219856),
    (troop_set_slot, "trp_banner_background_color_array", 131, 4282539387),
    (troop_set_slot, "trp_banner_background_color_array", 132, 4281943560),
  ]),

  ("initialize_economic_information",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 227, 20),
      (party_set_slot, ":var0", 222, 2),
      (party_set_slot, ":var0", 228, 10),
      (party_set_slot, ":var0", 229, 15),
      (party_set_slot, ":var0", 221, 5),
      (party_set_slot, ":var0", 230, 2),
      (party_set_slot, ":var0", 223, 1),
      (party_set_slot, ":var0", 224, 2),
      (party_set_slot, ":var0", 209, 1000),
      (party_set_slot, ":var0", 211, 1000),
      (party_get_position, pos1, ":var0"),
      (try_begin),
        (map_get_water_position_around_position, pos2, pos1, 3),
        (gt, 2, 0),
        (store_random, ":var1", 0, 5),
        (try_begin),
          (eq, ":var1", 0),
          (party_set_slot, ":var0", 214, 30),
        (else_try),
          (eq, ":var1", 1),
          (party_set_slot, ":var0", 214, 40),
        (else_try),
          (eq, ":var1", 2),
          (party_set_slot, ":var0", 214, 45),
        (else_try),
          (eq, ":var1", 3),
          (party_set_slot, ":var0", 214, 50),
        (else_try),
          (eq, ":var1", 4),
          (party_set_slot, ":var0", 214, 60),
        (try_end),
      (try_end),
      (store_faction_of_party, ":var2", ":var0"),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_1"),
        (this_or_next|eq, ":var2", "fac_kingdom_33"),
        (this_or_next|eq, ":var2", "fac_kingdom_34"),
        (this_or_next|eq, ":var2", "fac_kingdom_35"),
        (this_or_next|eq, ":var2", "fac_kingdom_36"),
        (eq, ":var2", "fac_kingdom_2"),
        (party_set_slot, ":var0", 225, 15),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_5"),
        (this_or_next|eq, ":var2", "fac_kingdom_23"),
        (this_or_next|eq, ":var2", "fac_kingdom_25"),
        (this_or_next|eq, ":var2", "fac_kingdom_31"),
        (eq, ":var2", "fac_kingdom_28"),
        (store_random_in_range, ":var3", 2, 6),
        (party_set_slot, ":var0", 215, ":var3"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_16"),
        (this_or_next|eq, ":var2", "fac_kingdom_17"),
        (this_or_next|eq, ":var2", "fac_kingdom_18"),
        (this_or_next|eq, ":var2", "fac_kingdom_19"),
        (this_or_next|eq, ":var2", "fac_papacy"),
        (this_or_next|eq, ":var2", "fac_kingdom_38"),
        (this_or_next|eq, ":var2", "fac_kingdom_39"),
        (this_or_next|eq, ":var2", "fac_kingdom_40"),
        (this_or_next|eq, ":var2", "fac_kingdom_41"),
        (this_or_next|eq, ":var2", "fac_kingdom_32"),
        (eq, ":var2", "fac_kingdom_24"),
        (store_random_in_range, ":var3", 2, 6),
        (party_set_slot, ":var0", 223, ":var3"),
        (party_set_slot, ":var0", 222, 0),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_22"),
        (this_or_next|eq, ":var2", "fac_kingdom_26"),
        (this_or_next|eq, ":var2", "fac_kingdom_27"),
        (this_or_next|eq, ":var2", "fac_kingdom_31"),
        (eq, ":var2", "fac_kingdom_30"),
        (store_random_in_range, ":var3", 5, 11),
        (party_set_slot, ":var0", 223, ":var3"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_4"),
        (this_or_next|eq, ":var2", "fac_kingdom_5"),
        (this_or_next|eq, ":var2", "fac_kingdom_6"),
        (this_or_next|eq, ":var2", "fac_kingdom_7"),
        (this_or_next|eq, ":var2", "fac_kingdom_9"),
        (this_or_next|eq, ":var2", "fac_kingdom_37"),
        (this_or_next|eq, ":var2", "fac_kingdom_11"),
        (this_or_next|eq, ":var2", "fac_kingdom_12"),
        (this_or_next|eq, ":var2", "fac_kingdom_13"),
        (this_or_next|eq, ":var2", "fac_kingdom_42"),
        (eq, ":var2", "fac_kingdom_14"),
        (store_random_in_range, ":var3", 5, 11),
        (party_set_slot, ":var0", 222, ":var3"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_4"),
        (this_or_next|eq, ":var2", "fac_kingdom_5"),
        (this_or_next|eq, ":var2", "fac_kingdom_6"),
        (this_or_next|eq, ":var2", "fac_kingdom_7"),
        (this_or_next|eq, ":var2", "fac_kingdom_9"),
        (this_or_next|eq, ":var2", "fac_kingdom_37"),
        (this_or_next|eq, ":var2", "fac_kingdom_11"),
        (this_or_next|eq, ":var2", "fac_kingdom_12"),
        (this_or_next|eq, ":var2", "fac_kingdom_13"),
        (this_or_next|eq, ":var2", "fac_kingdom_42"),
        (eq, ":var2", "fac_kingdom_14"),
        (store_random_in_range, ":var3", 1, 6),
        (party_set_slot, ":var0", 221, ":var3"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_8"),
        (this_or_next|eq, ":var2", "fac_kingdom_2"),
        (this_or_next|eq, ":var2", "fac_kingdom_33"),
        (this_or_next|eq, ":var2", "fac_kingdom_34"),
        (this_or_next|eq, ":var2", "fac_kingdom_35"),
        (this_or_next|eq, ":var2", "fac_kingdom_36"),
        (this_or_next|eq, ":var2", "fac_kingdom_15"),
        (this_or_next|eq, ":var2", "fac_kingdom_30"),
        (eq, ":var2", "fac_kingdom_31"),
        (store_random_in_range, ":var3", 1, 6),
        (party_set_slot, ":var0", 230, ":var3"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_9"),
        (this_or_next|eq, ":var2", "fac_kingdom_37"),
        (this_or_next|eq, ":var2", "fac_kingdom_12"),
        (this_or_next|eq, ":var2", "fac_kingdom_13"),
        (this_or_next|eq, ":var2", "fac_kingdom_26"),
        (eq, ":var2", "fac_kingdom_22"),
        (store_random_in_range, ":var3", 30, 36),
        (party_set_slot, ":var0", 227, ":var3"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_4"),
        (this_or_next|eq, ":var2", "fac_kingdom_5"),
        (this_or_next|eq, ":var2", "fac_kingdom_6"),
        (this_or_next|eq, ":var2", "fac_kingdom_7"),
        (this_or_next|eq, ":var2", "fac_kingdom_9"),
        (this_or_next|eq, ":var2", "fac_kingdom_37"),
        (this_or_next|eq, ":var2", "fac_kingdom_10"),
        (this_or_next|eq, ":var2", "fac_kingdom_11"),
        (this_or_next|eq, ":var2", "fac_kingdom_12"),
        (this_or_next|eq, ":var2", "fac_kingdom_13"),
        (this_or_next|eq, ":var2", "fac_kingdom_42"),
        (eq, ":var2", "fac_kingdom_14"),
        (store_random_in_range, ":var3", 15, 30),
        (party_set_slot, ":var0", 229, ":var3"),
      (try_end),
      (try_begin),
        (eq, ":var2", "fac_kingdom_3"),
        (store_random_in_range, ":var3", 10, 21),
        (party_set_slot, "p_town_1_1", 226, ":var3"),
      (try_end),
    (try_end),
    (try_for_range, ":var4", "p_village_1_1", "p_salt_mine"),
      (store_random_in_range, ":var5", 35, 65),
      (party_set_slot, ":var4", 205, ":var5"),
      (store_random_in_range, ":var6", 90, 120),
      (party_set_slot, ":var4", 206, ":var6"),
      (party_set_slot, ":var4", 209, 10000),
      (party_set_slot, ":var4", 211, 500),
      (party_set_slot, ":var4", 210, 200),
      (party_set_slot, ":var4", 216, 1),
      (party_set_slot, ":var4", 221, 1),
      (party_set_slot, ":var4", 228, 1),
      (store_faction_of_party, ":var2", ":var4"),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_1"),
        (this_or_next|eq, ":var2", "fac_kingdom_33"),
        (this_or_next|eq, ":var2", "fac_kingdom_34"),
        (this_or_next|eq, ":var2", "fac_kingdom_35"),
        (this_or_next|eq, ":var2", "fac_kingdom_36"),
        (eq, ":var2", "fac_kingdom_2"),
        (party_set_slot, ":var4", 212, 8000),
        (party_set_slot, ":var4", 225, 30),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_5"),
        (this_or_next|eq, ":var2", "fac_kingdom_23"),
        (this_or_next|eq, ":var2", "fac_kingdom_25"),
        (this_or_next|eq, ":var2", "fac_kingdom_31"),
        (eq, ":var2", "fac_kingdom_28"),
        (party_set_slot, ":var4", 215, 1),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_16"),
        (this_or_next|eq, ":var2", "fac_kingdom_17"),
        (this_or_next|eq, ":var2", "fac_kingdom_18"),
        (this_or_next|eq, ":var2", "fac_kingdom_19"),
        (this_or_next|eq, ":var2", "fac_kingdom_32"),
        (this_or_next|eq, ":var2", "fac_kingdom_38"),
        (this_or_next|eq, ":var2", "fac_kingdom_39"),
        (this_or_next|eq, ":var2", "fac_kingdom_40"),
        (this_or_next|eq, ":var2", "fac_kingdom_41"),
        (this_or_next|eq, ":var2", "fac_papacy"),
        (eq, ":var2", "fac_kingdom_24"),
        (party_set_slot, ":var4", 211, 2000),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_22"),
        (this_or_next|eq, ":var2", "fac_kingdom_26"),
        (this_or_next|eq, ":var2", "fac_kingdom_27"),
        (this_or_next|eq, ":var2", "fac_kingdom_31"),
        (eq, ":var2", "fac_kingdom_30"),
        (party_set_slot, ":var4", 210, 4000),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_4"),
        (this_or_next|eq, ":var2", "fac_kingdom_5"),
        (this_or_next|eq, ":var2", "fac_kingdom_6"),
        (this_or_next|eq, ":var2", "fac_kingdom_7"),
        (this_or_next|eq, ":var2", "fac_kingdom_9"),
        (this_or_next|eq, ":var2", "fac_kingdom_37"),
        (this_or_next|eq, ":var2", "fac_kingdom_11"),
        (this_or_next|eq, ":var2", "fac_kingdom_12"),
        (this_or_next|eq, ":var2", "fac_kingdom_13"),
        (this_or_next|eq, ":var2", "fac_kingdom_42"),
        (eq, ":var2", "fac_kingdom_14"),
        (party_set_slot, ":var4", 209, 12000),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_8"),
        (this_or_next|eq, ":var2", "fac_kingdom_2"),
        (this_or_next|eq, ":var2", "fac_kingdom_33"),
        (this_or_next|eq, ":var2", "fac_kingdom_34"),
        (this_or_next|eq, ":var2", "fac_kingdom_35"),
        (this_or_next|eq, ":var2", "fac_kingdom_36"),
        (this_or_next|eq, ":var2", "fac_kingdom_15"),
        (this_or_next|eq, ":var2", "fac_kingdom_30"),
        (eq, ":var2", "fac_kingdom_31"),
        (party_set_slot, ":var4", 220, 4),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_9"),
        (this_or_next|eq, ":var2", "fac_kingdom_37"),
        (this_or_next|eq, ":var2", "fac_kingdom_12"),
        (this_or_next|eq, ":var2", "fac_kingdom_13"),
        (this_or_next|eq, ":var2", "fac_kingdom_26"),
        (eq, ":var2", "fac_kingdom_22"),
        (party_set_slot, ":var4", 206, 150),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_4"),
        (this_or_next|eq, ":var2", "fac_kingdom_5"),
        (this_or_next|eq, ":var2", "fac_kingdom_6"),
        (this_or_next|eq, ":var2", "fac_kingdom_7"),
        (this_or_next|eq, ":var2", "fac_kingdom_9"),
        (this_or_next|eq, ":var2", "fac_kingdom_37"),
        (this_or_next|eq, ":var2", "fac_kingdom_10"),
        (this_or_next|eq, ":var2", "fac_kingdom_11"),
        (this_or_next|eq, ":var2", "fac_kingdom_12"),
        (this_or_next|eq, ":var2", "fac_kingdom_13"),
        (this_or_next|eq, ":var2", "fac_kingdom_42"),
        (eq, ":var2", "fac_kingdom_14"),
        (party_set_slot, ":var4", 219, 10),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", "fac_kingdom_20"),
        (this_or_next|eq, ":var2", "fac_kingdom_25"),
        (this_or_next|eq, ":var2", "fac_kingdom_28"),
        (this_or_next|eq, ":var2", "fac_kingdom_31"),
        (eq, ":var2", "fac_kingdom_17"),
        (party_set_slot, ":var4", 213, 8000),
      (try_end),
      (try_begin),
        (eq, ":var2", "fac_kingdom_3"),
        (party_set_slot, ":var4", 217, 500),
      (try_end),
    (try_end),
    (try_for_range, ":var7", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var8", ":var7", 205),
      (party_get_slot, ":var9", ":var7", 206),
      (store_mul, ":var10", ":var8", 4),
      (val_add, ":var10", ":var9"),
      (val_add, ":var10", ":var9"),
      (val_mul, ":var10", 6),
      (val_div, ":var10", 5),
      (party_set_slot, ":var7", 208, ":var10"),
    (try_end),
    (try_for_range, ":var11", 0, 15),
      (call_script, "script_update_trade_good_prices"),
      (call_script, "script_update_trade_good_prices"),
      (call_script, "script_update_trade_good_prices"),
      (call_script, "script_average_trade_good_prices"),
      (call_script, "script_average_trade_good_prices"),
    (try_end),
    (try_for_range, ":var12", "p_town_1_1", "p_salt_mine"),
      (store_random_in_range, ":var13", 1, 90),
      (party_set_slot, ":var12", 50, ":var13"),
    (try_end),
  ]),

  ("initialize_all_scene_prop_slots",
  [
    (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_6m"),
    (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_8m"),
    (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_10m"),
    (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_12m"),
    (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_14m"),
    (call_script, "script_initialize_scene_prop_slots", "spr_castle_e_sally_door_a"),
    (call_script, "script_initialize_scene_prop_slots", "spr_castle_f_sally_door_a"),
    (call_script, "script_initialize_scene_prop_slots", "spr_earth_sally_gate_left"),
    (call_script, "script_initialize_scene_prop_slots", "spr_earth_sally_gate_right"),
    (call_script, "script_initialize_scene_prop_slots", "spr_viking_keep_destroy_sally_door_left"),
    (call_script, "script_initialize_scene_prop_slots", "spr_viking_keep_destroy_sally_door_right"),
    (call_script, "script_initialize_scene_prop_slots", "spr_castle_f_door_a"),
    (call_script, "script_initialize_scene_prop_slots", "spr_belfry_a"),
    (call_script, "script_initialize_scene_prop_slots", "spr_belfry_b"),
    (call_script, "script_initialize_scene_prop_slots", "spr_winch_b"),
  ]),

  ("initialize_scene_prop_slots",
  [
    (store_script_param, ":var0", 1),
    (scene_prop_get_num_instances, ":var1", ":var0"),
    (try_for_range, ":var2", 0, ":var1"),
      (scene_prop_get_instance, ":var3", ":var0", ":var2"),
      (try_for_range, ":var4", 0, 6),
        (scene_prop_set_slot, ":var3", ":var4", 0),
      (try_end),
    (try_end),
  ]),

  ("use_item",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (game_in_multiplayer_mode),
      (prop_instance_get_scene_prop_kind, ":var2", ":var0"),
      (eq, ":var2", "spr_winch_b"),
      (multiplayer_get_my_player, ":var3"),
      (this_or_next|gt, ":var3", 0),
      (neg|multiplayer_is_dedicated_server),
      (ge, ":var3", 0),
      (player_get_agent_id, ":var4", ":var3"),
      (ge, ":var4", 0),
      (agent_is_active, ":var4"),
      (agent_get_team, ":var5", ":var4"),
      (eq, ":var5", 0),
      (scene_prop_get_slot, ":var6", ":var0", 1),
      (ge, ":var1", 0),
      (agent_is_active, ":var1"),
      (agent_get_player_id, ":var7", ":var1"),
      (str_store_player_username, s7, ":var7"),
      (try_begin),
        (eq, ":var6", 0),
        (display_message, "@{s7} opened the gate"),
      (else_try),
        (display_message, "@{s7} closed the gate"),
      (try_end),
    (try_end),
    (prop_instance_get_scene_prop_kind, ":var2", ":var0"),
    (try_begin),
      (this_or_next|eq, ":var2", "spr_winch_b"),
      (eq, ":var2", "spr_winch"),
      (assign, ":var8", "spr_portcullis"),
    (else_try),
      (this_or_next|eq, ":var2", "spr_door_destructible"),
      (this_or_next|eq, ":var2", "spr_castle_f_door_b"),
      (this_or_next|eq, ":var2", "spr_castle_e_sally_door_a"),
      (this_or_next|eq, ":var2", "spr_castle_f_sally_door_a"),
      (this_or_next|eq, ":var2", "spr_earth_sally_gate_left"),
      (this_or_next|eq, ":var2", "spr_earth_sally_gate_right"),
      (this_or_next|eq, ":var2", "spr_viking_keep_destroy_sally_door_left"),
      (this_or_next|eq, ":var2", "spr_viking_keep_destroy_sally_door_right"),
      (this_or_next|eq, ":var2", "spr_castle_f_door_a"),
      (this_or_next|eq, ":var2", "spr_siege_ladder_move_6m"),
      (this_or_next|eq, ":var2", "spr_siege_ladder_move_8m"),
      (this_or_next|eq, ":var2", "spr_siege_ladder_move_10m"),
      (this_or_next|eq, ":var2", "spr_siege_ladder_move_12m"),
      (eq, ":var2", "spr_siege_ladder_move_14m"),
      (assign, ":var8", ":var2"),
    (try_end),
    (assign, ":var9", -1),
    (prop_instance_get_position, pos0, ":var0"),
    (scene_prop_get_num_instances, ":var10", ":var8"),
    (try_for_range, ":var11", 0, ":var10"),
      (scene_prop_get_instance, ":var12", ":var8", ":var11"),
      (prop_instance_get_position, pos1, ":var12"),
      (get_sq_distance_between_positions, ":var13", pos0, pos1),
      (this_or_next|eq, ":var9", -1),
      (lt, ":var13", ":var9"),
      (assign, ":var9", ":var13"),
      (assign, ":var14", ":var12"),
    (try_end),
    (try_begin),
      (ge, ":var0", 0),
      (ge, ":var9", 0),
      (try_begin),
        (eq, ":var8", "spr_portcullis"),
        (scene_prop_get_slot, ":var6", ":var0", 1),
        (try_begin),
          (eq, ":var6", 0),
          (scene_prop_enable_after_time, ":var0", 400),
          (try_begin),
            (this_or_next|multiplayer_is_server),
            (neg|game_in_multiplayer_mode),
            (prop_instance_get_position, pos0, ":var14"),
            (position_move_z, pos0, 375),
            (prop_instance_animate_to_position, ":var14", pos0, 400),
          (try_end),
          (scene_prop_set_slot, ":var0", 1, 1),
          (try_begin),
            (eq, ":var2", "spr_winch_b"),
            (this_or_next|multiplayer_is_server),
            (neg|game_in_multiplayer_mode),
            (prop_instance_get_position, pos1, ":var0"),
            (prop_instance_rotate_to_position, ":var0", pos1, 400, 72000),
          (try_end),
        (else_try),
          (scene_prop_enable_after_time, ":var0", 400),
          (try_begin),
            (this_or_next|multiplayer_is_server),
            (neg|game_in_multiplayer_mode),
            (prop_instance_get_position, pos0, ":var14"),
            (position_move_z, pos0, -375),
            (prop_instance_animate_to_position, ":var14", pos0, 400),
          (try_end),
          (scene_prop_set_slot, ":var0", 1, 0),
          (try_begin),
            (eq, ":var2", "spr_winch_b"),
            (this_or_next|multiplayer_is_server),
            (neg|game_in_multiplayer_mode),
            (prop_instance_get_position, pos1, ":var0"),
            (prop_instance_rotate_to_position, ":var0", pos1, 400, -72000),
          (try_end),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var8", "spr_siege_ladder_move_6m"),
        (this_or_next|eq, ":var8", "spr_siege_ladder_move_8m"),
        (this_or_next|eq, ":var8", "spr_siege_ladder_move_10m"),
        (this_or_next|eq, ":var8", "spr_siege_ladder_move_12m"),
        (eq, ":var8", "spr_siege_ladder_move_14m"),
        (try_begin),
          (eq, ":var8", "spr_siege_ladder_move_6m"),
          (assign, ":var15", 120),
          (assign, ":var16", 240),
        (else_try),
          (eq, ":var8", "spr_siege_ladder_move_8m"),
          (assign, ":var15", 140),
          (assign, ":var16", 280),
        (else_try),
          (eq, ":var8", "spr_siege_ladder_move_10m"),
          (assign, ":var15", 160),
          (assign, ":var16", 320),
        (else_try),
          (eq, ":var8", "spr_siege_ladder_move_12m"),
          (assign, ":var15", 190),
          (assign, ":var16", 360),
        (else_try),
          (eq, ":var8", "spr_siege_ladder_move_14m"),
          (assign, ":var15", 230),
          (assign, ":var16", 400),
        (try_end),
        (scene_prop_get_slot, ":var6", ":var0", 1),
        (try_begin),
          (scene_prop_enable_after_time, ":var14", ":var16"),
          (eq, ":var6", 0),
          (prop_instance_get_starting_position, pos0, ":var14"),
          (prop_instance_enable_physics, ":var14", 0),
          (prop_instance_animate_to_position, ":var14", pos0, 300),
          (scene_prop_set_slot, ":var14", 1, 1),
        (else_try),
          (scene_prop_enable_after_time, ":var14", ":var15"),
          (prop_instance_get_position, pos0, ":var0"),
          (assign, ":var9", -1),
          (try_for_range, ":var17", 100, 110),
            (entry_point_get_position, pos1, ":var17"),
            (get_sq_distance_between_positions, ":var13", pos0, pos1),
            (this_or_next|eq, ":var9", -1),
            (lt, ":var13", ":var9"),
            (assign, ":var9", ":var13"),
            (assign, ":var18", ":var17"),
          (try_end),
          (try_begin),
            (ge, ":var9", 0),
            (lt, ":var9", 22500),
            (entry_point_get_position, pos1, ":var18"),
            (position_rotate_x, pos1, -90),
            (scene_prop_set_slot, ":var14", 2, 0),
            (prop_instance_enable_physics, ":var14", 0),
            (prop_instance_animate_to_position, ":var14", pos1, 130),
          (try_end),
          (scene_prop_set_slot, ":var14", 1, 0),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var8", "spr_door_destructible"),
        (this_or_next|eq, ":var8", "spr_castle_f_door_b"),
        (this_or_next|eq, ":var2", "spr_castle_e_sally_door_a"),
        (this_or_next|eq, ":var2", "spr_castle_f_sally_door_a"),
        (this_or_next|eq, ":var2", "spr_earth_sally_gate_left"),
        (this_or_next|eq, ":var2", "spr_earth_sally_gate_right"),
        (this_or_next|eq, ":var2", "spr_viking_keep_destroy_sally_door_left"),
        (this_or_next|eq, ":var2", "spr_viking_keep_destroy_sally_door_right"),
        (eq, ":var2", "spr_castle_f_door_a"),
        (assign, ":var14", ":var0"),
        (scene_prop_get_slot, ":var6", ":var14", 1),
        (try_begin),
          (eq, ":var6", 0),
          (prop_instance_get_starting_position, pos0, ":var14"),
          (scene_prop_enable_after_time, ":var14", 100),
          (try_begin),
            (neq, ":var2", "spr_viking_keep_destroy_sally_door_left"),
            (neq, ":var2", "spr_earth_sally_gate_left"),
            (position_rotate_z, pos0, -85),
          (else_try),
            (position_rotate_z, pos0, 85),
          (try_end),
          (prop_instance_animate_to_position, ":var14", pos0, 100),
          (scene_prop_set_slot, ":var14", 1, 1),
        (else_try),
          (prop_instance_get_starting_position, pos0, ":var14"),
          (scene_prop_enable_after_time, ":var14", 100),
          (prop_instance_animate_to_position, ":var14", pos0, 100),
          (scene_prop_set_slot, ":var14", 1, 0),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("determine_team_flags",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (eq, "$g_multiplayer_game_type", 4),
      (try_begin),
        (eq, ":var0", 0),
        (team_get_faction, ":var1", 0),
        (try_begin),
          (eq, ":var1", "fac_kingdom_1"),
          (assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_1"),
        (else_try),
          (eq, ":var1", "fac_kingdom_2"),
          (assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_2"),
        (else_try),
          (eq, ":var1", "fac_kingdom_3"),
          (assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_3"),
        (else_try),
          (eq, ":var1", "fac_kingdom_4"),
          (assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_4"),
        (else_try),
          (eq, ":var1", "fac_kingdom_5"),
          (assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_5"),
        (else_try),
          (eq, ":var1", "fac_kingdom_6"),
          (assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_6"),
        (try_end),
      (else_try),
        (team_get_faction, ":var1", 1),
        (try_begin),
          (eq, ":var1", "fac_kingdom_1"),
          (assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_1"),
        (else_try),
          (eq, ":var1", "fac_kingdom_2"),
          (assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_2"),
        (else_try),
          (eq, ":var1", "fac_kingdom_3"),
          (assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_3"),
        (else_try),
          (eq, ":var1", "fac_kingdom_4"),
          (assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_4"),
        (else_try),
          (eq, ":var1", "fac_kingdom_5"),
          (assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_5"),
        (else_try),
          (eq, ":var1", "fac_kingdom_6"),
          (assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_6"),
        (try_end),
        (try_begin),
          (eq, "$team_1_flag_scene_prop", "$team_2_flag_scene_prop"),
          (assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_7"),
        (try_end),
      (try_end),
    (else_try),
      (try_begin),
        (eq, ":var0", 0),
        (team_get_faction, ":var1", 0),
        (try_begin),
          (eq, ":var1", "fac_kingdom_1"),
          (assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_swadian"),
        (else_try),
          (eq, ":var1", "fac_kingdom_2"),
          (assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_vaegir"),
        (else_try),
          (eq, ":var1", "fac_kingdom_3"),
          (assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_khergit"),
        (else_try),
          (eq, ":var1", "fac_kingdom_4"),
          (assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_nord"),
        (else_try),
          (eq, ":var1", "fac_kingdom_5"),
          (assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_rhodok"),
        (else_try),
          (eq, ":var1", "fac_kingdom_6"),
          (assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_sarranid"),
        (try_end),
      (else_try),
        (team_get_faction, ":var1", 1),
        (try_begin),
          (eq, ":var1", "fac_kingdom_1"),
          (assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_swadian"),
        (else_try),
          (eq, ":var1", "fac_kingdom_2"),
          (assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_vaegir"),
        (else_try),
          (eq, ":var1", "fac_kingdom_3"),
          (assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_khergit"),
        (else_try),
          (eq, ":var1", "fac_kingdom_4"),
          (assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_nord"),
        (else_try),
          (eq, ":var1", "fac_kingdom_5"),
          (assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_rhodok"),
        (else_try),
          (eq, ":var1", "fac_kingdom_6"),
          (assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_sarranid"),
        (try_end),
        (try_begin),
          (eq, "$team_1_flag_scene_prop", "$team_2_flag_scene_prop"),
          (assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_rebel"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("calculate_flag_move_time",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, ":var0", 0),
      (store_mul, reg0, ":var1", 2500),
    (else_try),
      (eq, ":var0", 1),
      (store_mul, reg0, ":var1", 500),
    (else_try),
      (eq, ":var0", 2),
      (store_mul, reg0, ":var1", 300),
    (else_try),
      (eq, ":var0", 3),
      (store_mul, reg0, ":var1", 195),
    (else_try),
      (eq, ":var0", 4),
      (store_mul, reg0, ":var1", 137),
    (else_try),
      (eq, ":var0", 5),
      (store_mul, reg0, ":var1", 102),
    (else_try),
      (eq, ":var0", 6),
      (store_mul, reg0, ":var1", 82),
    (else_try),
      (eq, ":var0", 7),
      (store_mul, reg0, ":var1", 66),
    (else_try),
      (eq, ":var0", 8),
      (store_mul, reg0, ":var1", 59),
    (else_try),
      (store_mul, reg0, ":var1", 56),
    (try_end),
    (assign, ":var2", 0),
    (get_max_players, ":var3"),
    (try_for_range, ":var4", 0, ":var3"),
      (player_is_active, ":var4"),
      (val_add, ":var2", 1),
    (try_end),
    (try_begin),
      (lt, ":var2", 10),
      (val_mul, reg0, 50),
    (else_try),
      (lt, ":var2", 35),
      (store_sub, ":var5", 35, ":var2"),
      (val_mul, ":var5", 2),
      (store_sub, ":var5", 100, ":var5"),
      (val_mul, reg0, ":var5"),
    (else_try),
      (val_mul, reg0, 100),
    (try_end),
    (try_begin),
      (eq, "$g_multiplayer_game_type", 6),
      (val_mul, reg0, 2),
    (try_end),
    (val_div, reg0, 10000),
  ]),

  ("move_death_mode_flags_down",
  [
    (try_begin),
      (scene_prop_get_instance, ":var0", "spr_headquarters_pole_code_only", 0),
      (prop_instance_get_position, pos0, ":var0"),
      (position_move_z, pos0, -2000),
      (prop_instance_set_position, ":var0", pos0),
    (try_end),
    (try_begin),
      (scene_prop_get_instance, ":var1", "spr_headquarters_pole_code_only", 1),
      (prop_instance_get_position, pos1, ":var1"),
      (position_move_z, pos1, -2000),
      (prop_instance_set_position, ":var1", pos1),
    (try_end),
    (try_begin),
      (scene_prop_get_instance, ":var0", "spr_headquarters_pole_code_only", 0),
      (prop_instance_get_position, pos0, ":var0"),
      (scene_prop_get_instance, ":var2", "$team_1_flag_scene_prop", 0),
      (prop_instance_stop_animating, ":var2"),
      (position_move_z, pos0, 100),
      (prop_instance_set_position, ":var2", pos0),
    (try_end),
    (try_begin),
      (scene_prop_get_instance, ":var1", "spr_headquarters_pole_code_only", 1),
      (prop_instance_get_position, pos1, ":var1"),
      (scene_prop_get_instance, ":var3", "$team_2_flag_scene_prop", 0),
      (prop_instance_stop_animating, ":var3"),
      (position_move_z, pos1, 100),
      (prop_instance_set_position, ":var3", pos1),
    (try_end),
  ]),

  ("move_flag",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (multiplayer_is_server),
      (try_begin),
        (eq, ":var1", 0),
        (prop_instance_stop_animating, ":var0"),
      (else_try),
        (prop_instance_animate_to_position, ":var0", pos0, ":var1"),
      (try_end),
    (try_end),
  ]),

  ("move_headquarters_flags",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_add, ":var3", 146, ":var0"),
    (troop_get_slot, ":var4", "trp_multiplayer_data", ":var3"),
    (scene_prop_get_num_instances, ":var5", "spr_headquarters_flag_gray_code_only"),
    (try_begin),
      (assign, ":var6", 0),
      (lt, ":var0", ":var5"),
      (scene_prop_get_instance, ":var7", "spr_headquarters_flag_gray_code_only", ":var0"),
      (scene_prop_get_visibility, ":var6", ":var7"),
    (try_end),
    (try_begin),
      (eq, ":var6", 1),
      (assign, ":var8", 0),
      (assign, ":var9", ":var7"),
    (else_try),
      (scene_prop_get_num_instances, ":var5", "$team_1_flag_scene_prop"),
      (try_begin),
        (assign, ":var6", 0),
        (lt, ":var0", ":var5"),
        (scene_prop_get_instance, ":var7", "$team_1_flag_scene_prop", ":var0"),
        (scene_prop_get_visibility, ":var6", ":var7"),
      (try_end),
      (try_begin),
        (eq, ":var6", 1),
        (assign, ":var8", 1),
        (assign, ":var9", ":var7"),
      (else_try),
        (scene_prop_get_num_instances, ":var5", "$team_2_flag_scene_prop"),
        (try_begin),
          (assign, ":var6", 0),
          (lt, ":var0", ":var5"),
          (scene_prop_get_instance, ":var7", "$team_2_flag_scene_prop", ":var0"),
          (scene_prop_get_visibility, ":var6", ":var7"),
        (try_end),
        (try_begin),
          (eq, ":var6", 1),
          (assign, ":var8", 2),
          (assign, ":var9", ":var7"),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (scene_prop_get_instance, ":var10", "spr_headquarters_pole_code_only", ":var0"),
    (try_end),
    (try_begin),
      (eq, ":var8", ":var4"),
      (try_begin),
        (ge, ":var1", 1),
        (ge, ":var2", 1),
        (assign, ":var11", 0),
      (else_try),
        (eq, ":var1", 0),
        (eq, ":var2", 0),
        (assign, ":var11", 1),
      (else_try),
        (try_begin),
          (ge, ":var1", 1),
          (eq, ":var2", 0),
          (eq, ":var4", 1),
          (assign, ":var11", 1),
        (else_try),
          (eq, ":var1", 0),
          (ge, ":var2", 1),
          (eq, ":var4", 2),
          (assign, ":var11", 1),
        (else_try),
          (assign, ":var11", -1),
        (try_end),
      (try_end),
    (else_try),
      (try_begin),
        (ge, ":var1", 1),
        (ge, ":var2", 1),
        (assign, ":var11", 0),
      (else_try),
        (eq, ":var1", 0),
        (eq, ":var2", 0),
        (assign, ":var11", -1),
      (else_try),
        (try_begin),
          (ge, ":var1", 1),
          (eq, ":var2", 0),
          (try_begin),
            (eq, ":var8", 1),
            (assign, ":var11", 1),
          (else_try),
            (neq, ":var4", 1),
            (assign, ":var11", -1),
          (try_end),
        (else_try),
          (eq, ":var1", 0),
          (ge, ":var2", 1),
          (try_begin),
            (eq, ":var8", 2),
            (assign, ":var11", 1),
          (else_try),
            (neq, ":var4", 2),
            (assign, ":var11", -1),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (store_add, ":var12", ":var1", ":var2"),
    (try_begin),
      (eq, ":var11", 0),
      (assign, reg0, 0),
    (else_try),
      (eq, ":var11", 1),
      (prop_instance_get_position, pos1, ":var9"),
      (prop_instance_get_position, pos0, ":var10"),
      (position_move_z, pos0, 900),
      (get_distance_between_positions, ":var13", pos0, pos1),
      (call_script, "script_calculate_flag_move_time", ":var12", ":var13"),
    (else_try),
      (eq, ":var11", -1),
      (prop_instance_get_position, pos1, ":var9"),
      (prop_instance_get_position, pos0, ":var10"),
      (get_distance_between_positions, ":var13", pos0, pos1),
      (call_script, "script_calculate_flag_move_time", ":var12", ":var13"),
    (try_end),
    (call_script, "script_move_flag", ":var9", reg0),
  ]),

  ("set_num_agents_around_flag",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_div, ":var2", ":var1", 100),
    (store_mod, ":var3", ":var1", 100),
    (store_add, ":var4", 156, ":var0"),
    (troop_set_slot, "trp_multiplayer_data", ":var4", ":var1"),
    (call_script, "script_move_headquarters_flags", ":var0", ":var2", ":var3"),
  ]),

  ("change_flag_owner",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (lt, ":var1", 0),
      (val_add, ":var1", 1),
      (val_mul, ":var1", -1),
    (try_end),
    (store_div, ":var2", ":var1", 100),
    (store_mod, ":var3", ":var1", 100),
    (store_add, ":var4", 146, ":var0"),
    (troop_get_slot, ":var5", "trp_multiplayer_data", ":var4"),
    (store_add, ":var4", 146, ":var0"),
    (troop_set_slot, "trp_multiplayer_data", ":var4", ":var2"),
    (try_begin),
      (multiplayer_is_server),
      (scene_prop_get_instance, ":var6", "spr_headquarters_pole_code_only", ":var0"),
      (try_begin),
        (eq, ":var2", 0),
        (neq, ":var5", -1),
        (assign, ":var7", 1),
        (try_begin),
          (multiplayer_is_server),
          (eq, "$g_placing_initial_flags", 1),
          (assign, ":var7", 0),
        (try_end),
        (eq, ":var7", 1),
        (prop_instance_get_position, pos0, ":var6"),
        (position_move_z, pos0, 200),
      (else_try),
        (prop_instance_get_position, pos0, ":var6"),
        (position_move_z, pos0, 900),
      (try_end),
      (scene_prop_get_instance, ":var8", "$team_1_flag_scene_prop", ":var0"),
      (prop_instance_stop_animating, ":var8"),
      (prop_instance_set_position, ":var8", pos0),
      (scene_prop_get_instance, ":var8", "$team_2_flag_scene_prop", ":var0"),
      (prop_instance_stop_animating, ":var8"),
      (prop_instance_set_position, ":var8", pos0),
      (scene_prop_get_instance, ":var8", "spr_headquarters_flag_gray_code_only", ":var0"),
      (prop_instance_stop_animating, ":var8"),
      (prop_instance_set_position, ":var8", pos0),
    (try_end),
    (try_begin),
      (eq, ":var3", 0),
      (scene_prop_get_instance, ":var8", "$team_1_flag_scene_prop", ":var0"),
      (scene_prop_set_visibility, ":var8", 0),
      (scene_prop_get_instance, ":var8", "$team_2_flag_scene_prop", ":var0"),
      (scene_prop_set_visibility, ":var8", 0),
      (scene_prop_get_instance, ":var8", "spr_headquarters_flag_gray_code_only", ":var0"),
      (scene_prop_set_visibility, ":var8", 1),
    (else_try),
      (eq, ":var3", 1),
      (scene_prop_get_instance, ":var8", "$team_1_flag_scene_prop", ":var0"),
      (scene_prop_set_visibility, ":var8", 1),
      (scene_prop_get_instance, ":var8", "$team_2_flag_scene_prop", ":var0"),
      (scene_prop_set_visibility, ":var8", 0),
      (scene_prop_get_instance, ":var8", "spr_headquarters_flag_gray_code_only", ":var0"),
      (scene_prop_set_visibility, ":var8", 0),
    (else_try),
      (eq, ":var3", 2),
      (scene_prop_get_instance, ":var8", "$team_1_flag_scene_prop", ":var0"),
      (scene_prop_set_visibility, ":var8", 0),
      (scene_prop_get_instance, ":var8", "$team_2_flag_scene_prop", ":var0"),
      (scene_prop_set_visibility, ":var8", 1),
      (scene_prop_get_instance, ":var8", "spr_headquarters_flag_gray_code_only", ":var0"),
      (scene_prop_set_visibility, ":var8", 0),
    (try_end),
    (store_add, ":var9", 156, ":var0"),
    (troop_get_slot, ":var10", "trp_multiplayer_data", ":var9"),
    (store_div, ":var11", ":var10", 100),
    (store_mod, ":var12", ":var10", 100),
    (call_script, "script_move_headquarters_flags", ":var0", ":var11", ":var12"),
  ]),

  ("move_object_to_nearest_entry_point",
  [
    (store_script_param, ":var0", 1),
    (scene_prop_get_num_instances, ":var1", ":var0"),
    (try_for_range, ":var2", 0, ":var1"),
      (scene_prop_get_instance, ":var3", ":var0", ":var2"),
      (prop_instance_get_position, pos0, ":var3"),
      (assign, ":var4", -1),
      (try_for_range, ":var5", 100, 110),
        (entry_point_get_position, pos1, ":var5"),
        (get_sq_distance_between_positions, ":var6", pos0, pos1),
        (this_or_next|eq, ":var4", -1),
        (lt, ":var6", ":var4"),
        (assign, ":var4", ":var6"),
        (assign, ":var7", ":var5"),
      (try_end),
      (try_begin),
        (ge, ":var4", 0),
        (lt, ":var4", 22500),
        (entry_point_get_position, pos1, ":var7"),
        (position_rotate_x, pos1, -90),
        (prop_instance_animate_to_position, ":var3", pos1, 1),
      (try_end),
    (try_end),
  ]),

  ("multiplayer_server_on_agent_spawn_common",
  [
    (store_script_param, ":var0", 1),
    (agent_set_slot, ":var0", 21, -1),
    (try_begin),
      (agent_is_non_player, ":var0"),
      (assign, "$g_multiplayer_ready_for_spawning_agent", 1),
    (try_end),
  ]),

  ("multiplayer_server_player_joined_common",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (this_or_next|player_is_active, ":var0"),
      (eq, ":var0", 0),
      (call_script, "script_multiplayer_init_player_slots", ":var0"),
      (store_mission_timer_a, ":var1"),
      (player_set_slot, ":var0", 21, ":var1"),
      (player_set_slot, ":var0", 24, 1),
      (player_set_slot, ":var0", 32, 0),
      (player_set_slot, ":var0", 33, 0),
      (try_begin),
        (multiplayer_is_server),
        (assign, ":var2", 1000),
        (val_mul, ":var2", "$g_multiplayer_initial_gold_multiplier"),
        (val_div, ":var2", 100),
        (player_set_gold, ":var0", ":var2"),
        (call_script, "script_multiplayer_send_initial_information", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("multiplayer_server_before_mission_start_common",
  [
    (try_begin),
      (scene_allows_mounted_units),
      (assign, "$g_horses_are_avaliable", 1),
    (else_try),
      (assign, "$g_horses_are_avaliable", 0),
    (try_end),
    (scene_set_day_time, 15),
    (assign, "$g_multiplayer_mission_end_screen", 0),
    (get_max_players, ":var0"),
    (try_for_range, ":var1", 0, ":var0"),
      (player_is_active, ":var1"),
      (call_script, "script_multiplayer_init_player_slots", ":var1"),
      (assign, ":var2", 1000),
      (val_mul, ":var2", "$g_multiplayer_initial_gold_multiplier"),
      (val_div, ":var2", 100),
      (player_set_gold, ":var1", ":var2"),
      (player_set_slot, ":var1", 24, 1),
    (try_end),
  ]),

  ("multiplayer_server_on_agent_killed_or_wounded_common",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_multiplayer_event_agent_killed_or_wounded", ":var0", ":var1"),
    (try_begin),
      (multiplayer_is_server),
      (try_begin),
        (lt, ":var1", 0),
        (ge, ":var0", 0),
        (neg|agent_is_non_player, ":var0"),
        (agent_get_player_id, ":var2", ":var0"),
        (player_is_active, ":var2"),
        (player_get_score, ":var3", ":var2"),
        (val_add, ":var3", -1),
        (player_set_score, ":var2", ":var3"),
      (else_try),
        (ge, ":var1", 0),
        (ge, ":var0", 0),
        (agent_get_team, ":var4", ":var1"),
        (agent_get_team, ":var5", ":var0"),
        (eq, ":var4", ":var5"),
        (neg|agent_is_non_player, ":var1"),
        (agent_get_player_id, ":var6", ":var1"),
        (player_is_active, ":var6"),
        (player_get_score, ":var7", ":var6"),
        (val_add, ":var7", -1),
        (player_set_score, ":var6", ":var7"),
      (else_try),
        (ge, ":var1", 0),
        (ge, ":var0", 0),
        (agent_is_human, ":var0"),
        (agent_is_human, ":var1"),
        (try_begin),
          (eq, "$g_multiplayer_game_type", 2),
          (try_begin),
            (eq, "$g_battle_death_mode_started", 1),
            (neq, ":var0", ":var1"),
            (call_script, "script_calculate_new_death_waiting_time_at_death_mod"),
          (try_end),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_multiplayer_game_type", 2),
          (eq, "$g_multiplayer_game_type", 3),
          (agent_get_player_id, ":var8", ":var0"),
          (try_begin),
            (ge, ":var8", 0),
            (player_is_active, ":var8"),
            (neg|agent_is_non_player, ":var0"),
            (try_for_agents, ":var9"),
              (agent_is_non_player, ":var9"),
              (agent_is_human, ":var9"),
              (agent_is_alive, ":var9"),
              (agent_get_group, ":var10", ":var9"),
              (try_begin),
                (eq, ":var8", ":var10"),
                (agent_set_group, ":var9", -1),
              (try_end),
            (try_end),
          (try_end),
        (try_end),
        (neg|agent_is_non_player, ":var1"),
        (agent_get_player_id, ":var6", ":var1"),
        (player_is_active, ":var6"),
        (player_get_score, ":var7", ":var6"),
        (agent_get_team, ":var11", ":var1"),
        (agent_get_team, ":var12", ":var0"),
        (try_begin),
          (neq, ":var11", ":var12"),
          (val_add, ":var7", 1),
        (else_try),
          (val_add, ":var7", -1),
        (try_end),
        (player_set_score, ":var6", ":var7"),
      (try_end),
    (try_end),
    (call_script, "script_add_kill_death_counts", ":var1", ":var0"),
    (call_script, "script_money_management_after_agent_death", ":var1", ":var0"),
  ]),

  ("multiplayer_close_gate_if_it_is_open",
  [
    (scene_prop_get_num_instances, ":var0", "spr_winch_b"),
    (try_for_range, ":var1", 0, ":var0"),
      (scene_prop_get_instance, ":var2", "spr_winch_b", ":var1"),
      (scene_prop_slot_eq, ":var2", 1, 1),
      (scene_prop_get_instance, ":var3", "spr_portcullis", ":var1"),
      (prop_instance_get_starting_position, pos0, ":var3"),
      (prop_instance_animate_to_position, ":var3", pos0, 1),
    (try_end),
  ]),

  ("multiplayer_move_moveable_objects_initial_positions",
  [
    (call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_6m"),
    (call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_8m"),
    (call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_10m"),
    (call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_12m"),
    (call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_14m"),
  ]),

  ("move_belfries_to_their_first_entry_point",
  [
    (store_script_param, ":var0", 1),
    (set_fixed_point_multiplier, 100),
    (scene_prop_get_num_instances, ":var1", ":var0"),
    (try_for_range, ":var2", 0, ":var1"),
      (scene_prop_get_instance, ":var3", ":var0", ":var2"),
      (prop_instance_get_position, pos0, ":var3"),
      (try_begin),
        (eq, ":var0", "spr_belfry_a"),
        (scene_prop_get_instance, ":var4", "spr_belfry_platform_a", ":var2"),
        (scene_prop_get_instance, ":var5", "spr_belfry_platform_b", ":var2"),
      (else_try),
        (scene_prop_get_instance, ":var4", "spr_belfry_b_platform_a", ":var2"),
      (try_end),
      (store_mul, ":var6", ":var2", 3),
      (try_begin),
        (eq, ":var0", "spr_belfry_b"),
        (scene_prop_get_num_instances, ":var7", "spr_belfry_a"),
        (store_mul, ":var8", ":var7", 3),
        (val_add, ":var6", ":var8"),
      (try_end),
      (scene_prop_get_instance, ":var9", "spr_belfry_wheel", ":var6"),
      (val_add, ":var6", 1),
      (scene_prop_get_instance, ":var10", "spr_belfry_wheel", ":var6"),
      (val_add, ":var6", 1),
      (scene_prop_get_instance, ":var11", "spr_belfry_wheel", ":var6"),
      (store_add, ":var12", 11, ":var2"),
      (try_begin),
        (eq, ":var0", "spr_belfry_b"),
        (scene_prop_get_num_instances, ":var7", "spr_belfry_a"),
        (val_add, ":var12", ":var7"),
      (try_end),
      (val_mul, ":var12", 10),
      (entry_point_get_position, pos1, ":var12"),
      (init_position, pos9),
      (position_set_y, pos9, -500),
      (position_set_x, pos9, -300),
      (position_transform_position_to_parent, pos10, pos1, pos9),
      (position_get_distance_to_terrain, ":var13", pos10),
      (init_position, pos9),
      (position_set_y, pos9, -500),
      (position_set_x, pos9, 300),
      (position_transform_position_to_parent, pos10, pos1, pos9),
      (position_get_distance_to_terrain, ":var14", pos10),
      (store_add, ":var15", ":var13", ":var14"),
      (val_mul, ":var15", 100),
      (store_div, ":var16", ":var15", 24),
      (init_position, pos20),
      (position_rotate_x_floating, pos20, ":var16"),
      (position_transform_position_to_parent, pos23, pos1, pos20),
      (init_position, pos9),
      (position_set_x, pos9, -300),
      (position_transform_position_to_parent, pos10, pos1, pos9),
      (position_get_distance_to_terrain, ":var17", pos10),
      (init_position, pos9),
      (position_set_x, pos9, 300),
      (position_transform_position_to_parent, pos10, pos1, pos9),
      (position_get_distance_to_terrain, ":var18", pos10),
      (store_sub, ":var13", ":var17", ":var18"),
      (init_position, pos9),
      (position_set_x, pos9, -300),
      (position_set_y, pos9, -500),
      (position_transform_position_to_parent, pos10, pos1, pos9),
      (position_get_distance_to_terrain, ":var17", pos10),
      (init_position, pos9),
      (position_set_x, pos9, 300),
      (position_set_y, pos9, -500),
      (position_transform_position_to_parent, pos10, pos1, pos9),
      (position_get_distance_to_terrain, ":var18", pos10),
      (store_sub, ":var14", ":var17", ":var18"),
      (store_add, ":var15", ":var13", ":var14"),
      (val_mul, ":var15", 100),
      (store_div, ":var16", ":var15", 24),
      (val_mul, ":var16", -1),
      (init_position, pos20),
      (position_rotate_y_floating, pos20, ":var16"),
      (position_transform_position_to_parent, pos22, pos23, pos20),
      (copy_position, 1, 22),
      (prop_instance_stop_animating, ":var3"),
      (prop_instance_set_position, ":var3", pos1),
      (try_begin),
        (eq, ":var0", "spr_belfry_a"),
        (prop_instance_get_position, pos6, ":var4"),
        (position_transform_position_to_local, pos7, pos0, pos6),
        (position_transform_position_to_parent, pos8, pos1, pos7),
        (try_begin),
          (neg|scene_prop_slot_eq, ":var3", 5, 0),
          (init_position, pos20),
          (position_rotate_x, pos20, 90),
          (position_transform_position_to_parent, pos8, pos8, pos20),
        (try_end),
        (prop_instance_stop_animating, ":var4"),
        (prop_instance_set_position, ":var4", pos8),
        (prop_instance_get_position, pos6, ":var5"),
        (position_transform_position_to_local, pos7, pos0, pos6),
        (position_transform_position_to_parent, pos8, pos1, pos7),
        (prop_instance_stop_animating, ":var5"),
        (prop_instance_set_position, ":var5", pos8),
      (else_try),
        (prop_instance_get_position, pos6, ":var4"),
        (position_transform_position_to_local, pos7, pos0, pos6),
        (position_transform_position_to_parent, pos8, pos1, pos7),
        (try_begin),
          (neg|scene_prop_slot_eq, ":var3", 5, 0),
          (init_position, pos20),
          (position_rotate_x, pos20, 50),
          (position_transform_position_to_parent, pos8, pos8, pos20),
        (try_end),
        (prop_instance_stop_animating, ":var4"),
        (prop_instance_set_position, ":var4", pos8),
      (try_end),
      (store_mul, ":var6", ":var2", 3),
      (try_begin),
        (eq, ":var0", "spr_belfry_b"),
        (scene_prop_get_num_instances, ":var7", "spr_belfry_a"),
        (store_mul, ":var8", ":var7", 3),
        (val_add, ":var6", ":var8"),
      (try_end),
      (prop_instance_get_position, pos6, ":var9"),
      (position_transform_position_to_local, pos7, pos0, pos6),
      (position_transform_position_to_parent, pos8, pos1, pos7),
      (prop_instance_stop_animating, ":var9"),
      (prop_instance_set_position, ":var9", pos8),
      (prop_instance_get_position, pos6, ":var10"),
      (position_transform_position_to_local, pos7, pos0, pos6),
      (position_transform_position_to_parent, pos8, pos1, pos7),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos8),
      (prop_instance_get_position, pos6, ":var11"),
      (position_transform_position_to_local, pos7, pos0, pos6),
      (position_transform_position_to_parent, pos8, pos1, pos7),
      (prop_instance_stop_animating, ":var11"),
      (prop_instance_set_position, ":var11", pos8),
    (try_end),
  ]),

  ("team_set_score",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (team_set_score, ":var0", ":var1"),
  ]),

  ("player_set_score",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (player_set_score, ":var0", ":var1"),
  ]),

  ("player_set_kill_count",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (player_set_kill_count, ":var0", ":var1"),
  ]),

  ("player_set_death_count",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (player_set_death_count, ":var0", ":var1"),
  ]),

  ("set_attached_scene_prop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (scene_prop_get_instance, ":var2", "spr_tutorial_flag_red", 0),
      (scene_prop_get_instance, ":var3", "spr_tutorial_flag_blue", 0),
      (assign, ":var4", -1),
      (try_begin),
        (ge, ":var2", 0),
        (eq, ":var1", ":var2"),
        (assign, ":var4", 0),
      (else_try),
        (ge, ":var3", 0),
        (eq, ":var1", ":var3"),
        (assign, ":var4", 1),
      (try_end),
      (ge, ":var4", 0),
      (team_set_slot, ":var4", 0, 1),
    (try_end),
    (agent_set_attached_scene_prop, ":var0", ":var1"),
    (agent_set_attached_scene_prop_x, ":var0", 20),
    (agent_set_attached_scene_prop_z, ":var0", 50),
  ]),

  ("set_team_flag_situation",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (team_set_slot, ":var0", 0, ":var1"),
  ]),

  ("start_death_mode",
  [
    (assign, "$g_multiplayer_message_type", 18),
    (start_presentation, "prsnt_multiplayer_message_1"),
  ]),

  ("calculate_new_death_waiting_time_at_death_mod",
  [
    (assign, ":var0", 0),
    (try_begin),
      (try_for_agents, ":var1"),
        (agent_is_human, ":var1"),
        (agent_is_alive, ":var1"),
        (val_add, ":var0", 1),
      (try_end),
    (try_end),
    (val_add, ":var0", 15),
    (set_fixed_point_multiplier, 100),
    (store_mul, ":var0", ":var0", 100),
    (store_sqrt, ":var2", ":var0"),
    (store_div, "$g_battle_waiting_seconds", 18000, ":var2"),
    (store_mission_timer_a, "$g_death_mode_part_1_start_time"),
  ]),

  ("calculate_number_of_targets_destroyed",
  [
    (assign, "$g_number_of_targets_destroyed", 0),
    (scene_prop_get_num_instances, ":var0", "spr_catapult_destructible"),
    (try_for_range, ":var1", 0, ":var0"),
      (scene_prop_get_instance, ":var2", "spr_catapult_destructible", ":var1"),
      (prop_instance_get_starting_position, pos0, ":var2"),
      (prop_instance_get_position, pos1, ":var2"),
      (get_sq_distance_between_positions_in_meters, ":var3", pos0, pos1),
      (gt, ":var3", 2),
      (val_add, "$g_number_of_targets_destroyed", 1),
    (try_end),
    (scene_prop_get_num_instances, ":var0", "spr_trebuchet_destructible"),
    (try_for_range, ":var1", 0, ":var0"),
      (scene_prop_get_instance, ":var2", "spr_trebuchet_destructible", ":var1"),
      (prop_instance_get_starting_position, pos0, ":var2"),
      (prop_instance_get_position, pos1, ":var2"),
      (get_sq_distance_between_positions_in_meters, ":var3", pos0, pos1),
      (gt, ":var3", 2),
      (val_add, "$g_number_of_targets_destroyed", 1),
    (try_end),
  ]),

  ("initialize_objects",
  [
    (assign, ":var0", 0),
    (get_max_players, ":var1"),
    (try_for_range, ":var2", 0, ":var1"),
      (player_is_active, ":var2"),
      (val_add, ":var0", 1),
    (try_end),
    (set_fixed_point_multiplier, 100),
    (val_mul, ":var0", 100),
    (store_sqrt, ":var0", ":var0"),
    (val_sub, ":var0", 100),
    (val_max, ":var0", 0),
    (store_mul, ":var3", ":var0", 2),
    (store_add, ":var4", 1200, ":var3"),
    (store_mul, ":var5", ":var4", 15),
    (val_div, ":var5", 10),
    (store_mul, ":var6", ":var4", 18),
    (val_div, ":var6", 10),
    (store_mul, ":var7", ":var6", 2),
    (assign, "$g_number_of_targets_destroyed", 0),
    (scene_prop_get_num_instances, ":var8", "spr_catapult_destructible"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_catapult_destructible", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var4"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_trebuchet_destructible"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_trebuchet_destructible", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var5"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_castle_e_sally_door_a"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_castle_e_sally_door_a", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var6"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_castle_f_sally_door_a"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_castle_f_sally_door_a", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var6"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_earth_sally_gate_left"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_earth_sally_gate_left", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var7"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_earth_sally_gate_right"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_earth_sally_gate_right", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var7"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_viking_keep_destroy_sally_door_left"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_viking_keep_destroy_sally_door_left", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var6"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_viking_keep_destroy_sally_door_right"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_viking_keep_destroy_sally_door_right", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var6"),
    (try_end),
    (store_div, ":var11", ":var6", 3),
    (scene_prop_get_num_instances, ":var8", "spr_castle_f_door_a"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_castle_f_door_a", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var11"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_castle_f_door_b"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_castle_f_door_b", ":var9"),
      (prop_instance_get_starting_position, pos0, ":var10"),
      (prop_instance_stop_animating, ":var10"),
      (prop_instance_set_position, ":var10", pos0),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var11"),
    (try_end),
  ]),

  ("initialize_objects_clients",
  [
    (assign, ":var0", 0),
    (get_max_players, ":var1"),
    (try_for_range, ":var2", 0, ":var1"),
      (player_is_active, ":var2"),
      (val_add, ":var0", 1),
    (try_end),
    (set_fixed_point_multiplier, 100),
    (val_mul, ":var0", 100),
    (store_sqrt, ":var0", ":var0"),
    (val_sub, ":var0", 100),
    (val_max, ":var0", 0),
    (store_mul, ":var3", ":var0", 2),
    (store_add, ":var4", 1200, ":var3"),
    (store_mul, ":var5", ":var4", 15),
    (val_div, ":var5", 10),
    (store_mul, ":var6", ":var4", 18),
    (val_div, ":var6", 10),
    (store_mul, ":var7", ":var6", 2),
    (assign, "$g_number_of_targets_destroyed", 0),
    (scene_prop_get_num_instances, ":var8", "spr_catapult_destructible"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_catapult_destructible", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var4"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_trebuchet_destructible"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_trebuchet_destructible", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var5"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_castle_e_sally_door_a"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_castle_e_sally_door_a", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var6"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_castle_f_sally_door_a"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_castle_f_sally_door_a", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var6"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_earth_sally_gate_left"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_earth_sally_gate_left", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var7"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_earth_sally_gate_right"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_earth_sally_gate_right", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var7"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_viking_keep_destroy_sally_door_left"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_viking_keep_destroy_sally_door_left", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var6"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_viking_keep_destroy_sally_door_right"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_viking_keep_destroy_sally_door_right", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var6"),
    (try_end),
    (store_div, ":var11", ":var6", 3),
    (scene_prop_get_num_instances, ":var8", "spr_castle_f_door_a"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_castle_f_door_a", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var11"),
    (try_end),
    (scene_prop_get_num_instances, ":var8", "spr_castle_f_door_b"),
    (try_for_range, ":var9", 0, ":var8"),
      (scene_prop_get_instance, ":var10", "spr_castle_f_door_b", ":var9"),
      (prop_instance_enable_physics, ":var10", 1),
      (scene_prop_set_hit_points, ":var10", ":var11"),
    (try_end),
  ]),

  ("show_multiplayer_message",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, "$g_multiplayer_message_type", ":var0"),
    (try_begin),
      (eq, ":var0", 12),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
      (try_begin),
        (neg|multiplayer_is_server),
        (assign, "$g_battle_death_mode_started", 0),
      (try_end),
    (else_try),
      (eq, ":var0", 2),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_2"),
      (assign, "$g_team_balance_next_round", 0),
    (else_try),
      (eq, ":var0", 3),
      (assign, "$g_team_balance_next_round", 1),
      (call_script, "script_warn_player_about_auto_team_balance"),
    (else_try),
      (eq, ":var0", 11),
      (assign, "$g_team_balance_next_round", 0),
    (else_try),
      (eq, ":var0", 4),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 5),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 6),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 7),
      (assign, "$g_multiplayer_message_value_3", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_3"),
    (else_try),
      (eq, ":var0", 8),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 9),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 10),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 14),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 15),
      (try_begin),
        (eq, "$g_defender_team", 0),
        (assign, ":var2", 1),
      (else_try),
        (assign, ":var2", 0),
      (try_end),
      (team_get_score, ":var3", ":var2"),
      (val_add, ":var3", 1),
      (call_script, "script_team_set_score", ":var2", ":var3"),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 16),
      (assign, "$g_multiplayer_message_value_1", ":var1"),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 17),
      (try_begin),
        (eq, "$g_defender_team", 0),
        (assign, "$g_multiplayer_message_value_1", 1),
      (else_try),
        (assign, "$g_multiplayer_message_value_1", 0),
      (try_end),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (try_end),
  ]),

  ("get_headquarters_scores",
  [
    (assign, ":var0", 0),
    (assign, ":var1", 0),
    (try_for_range, ":var2", 0, "$g_number_of_flags"),
      (store_add, ":var3", 146, ":var2"),
      (troop_get_slot, ":var4", "trp_multiplayer_data", ":var3"),
      (neq, ":var4", 0),
      (try_begin),
        (eq, ":var4", 1),
        (val_add, ":var0", 1),
      (else_try),
        (val_add, ":var1", 1),
      (try_end),
    (try_end),
    (assign, reg0, ":var0"),
    (assign, reg1, ":var1"),
  ]),

  ("draw_this_round",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (eq, ":var0", -9),
      (assign, "$g_round_ended", 1),
      (store_mission_timer_a, "$g_round_finish_time"),
    (else_try),
      (eq, ":var0", -1),
      (assign, "$g_round_ended", 1),
      (store_mission_timer_a, "$g_round_finish_time"),
      (assign, "$g_multiplayer_message_value_1", -1),
      (assign, "$g_multiplayer_message_type", 14),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 0),
      (try_begin),
        (eq, "$g_multiplayer_game_type", 6),
        (multiplayer_get_my_player, ":var1"),
        (is_between, ":var1", 0, 1000),
        (player_get_agent_id, ":var2", ":var1"),
        (ge, ":var2", 0),
        (agent_is_alive, ":var2"),
        (agent_get_team, ":var3", ":var2"),
        (eq, ":var3", 0),
        (unlock_achievement, 56),
      (try_end),
      (assign, "$g_round_ended", 1),
      (store_mission_timer_a, "$g_round_finish_time"),
      (team_get_faction, ":var4", 0),
      (team_get_score, ":var5", 0),
      (val_add, ":var5", 1),
      (team_set_score, 0, ":var5"),
      (assign, "$g_winner_team", 0),
      (str_store_faction_name, s1, ":var4"),
      (assign, "$g_multiplayer_message_value_1", ":var0"),
      (try_begin),
        (neq, "$g_multiplayer_game_type", 2),
        (neq, "$g_multiplayer_game_type", 3),
        (assign, "$g_multiplayer_message_type", 13),
      (else_try),
        (assign, "$g_multiplayer_message_type", 12),
      (try_end),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (else_try),
      (eq, ":var0", 1),
      (assign, "$g_round_ended", 1),
      (store_mission_timer_a, "$g_round_finish_time"),
      (team_get_faction, ":var4", 1),
      (team_get_score, ":var6", 1),
      (val_add, ":var6", 1),
      (team_set_score, 1, ":var6"),
      (assign, "$g_winner_team", 1),
      (str_store_faction_name, s1, ":var4"),
      (assign, "$g_multiplayer_message_value_1", ":var0"),
      (try_begin),
        (neq, "$g_multiplayer_game_type", 2),
        (neq, "$g_multiplayer_game_type", 3),
        (assign, "$g_multiplayer_message_type", 13),
      (else_try),
        (assign, "$g_multiplayer_message_type", 12),
      (try_end),
      (start_presentation, "prsnt_multiplayer_message_1"),
    (try_end),
    (try_begin),
      (is_between, ":var0", 0, 2),
      (try_begin),
        (eq, "$g_multiplayer_game_type", 2),
        (multiplayer_get_my_player, ":var1"),
        (is_between, ":var1", 0, 1000),
        (player_get_agent_id, ":var2", ":var1"),
        (ge, ":var2", 0),
        (agent_is_alive, ":var2"),
        (agent_get_team, ":var3", ":var2"),
        (eq, ":var3", ":var0"),
        (unlock_achievement, 62),
      (try_end),
    (try_end),
  ]),

  ("check_achievement_last_man_standing",
  [
    (try_begin),
      (store_script_param, ":var0", 1),
      (is_between, ":var0", 0, 2),
      (try_begin),
        (eq, "$g_multiplayer_game_type", 2),
        (multiplayer_get_my_player, ":var1"),
        (is_between, ":var1", 0, 1000),
        (player_get_agent_id, ":var2", ":var1"),
        (ge, ":var2", 0),
        (agent_is_alive, ":var2"),
        (agent_get_team, ":var3", ":var2"),
        (eq, ":var3", ":var0"),
        (unlock_achievement, 62),
      (try_end),
    (try_end),
  ]),

  ("find_most_suitable_bot_to_control",
  [
    (set_fixed_point_multiplier, 100),
    (store_script_param, ":var0", 1),
    (player_get_team_no, ":var1", ":var0"),
    (player_get_slot, ":var2", ":var0", 29),
    (player_get_slot, ":var3", ":var0", 30),
    (player_get_slot, ":var4", ":var0", 31),
    (init_position, pos0),
    (position_set_x, pos0, ":var2"),
    (position_set_y, pos0, ":var3"),
    (position_set_z, pos0, ":var4"),
    (assign, ":var5", -1),
    (assign, ":var6", -1),
    (try_for_agents, ":var7"),
      (agent_is_alive, ":var7"),
      (agent_is_human, ":var7"),
      (agent_is_non_player, ":var7"),
      (agent_get_team, ":var8", ":var7"),
      (eq, ":var8", ":var1"),
      (agent_get_position, pos1, ":var7"),
      (get_distance_between_positions_in_meters, ":var9", pos0, pos1),
      (try_begin),
        (lt, ":var9", 500),
        (store_sub, ":var10", 500, ":var9"),
      (else_try),
        (assign, ":var10", 0),
      (try_end),
      (val_mul, ":var10", 6),
      (try_for_agents, ":var11"),
        (agent_is_alive, ":var11"),
        (agent_is_human, ":var11"),
        (neq, ":var7", ":var11"),
        (agent_get_team, ":var12", ":var11"),
        (try_begin),
          (neq, ":var12", ":var1"),
          (agent_get_position, pos1, ":var11"),
          (get_distance_between_positions, ":var13", pos0, pos1),
          (try_begin),
            (lt, ":var13", 300),
            (assign, ":var14", ":var13"),
          (else_try),
            (assign, ":var14", 300),
          (try_end),
          (val_add, ":var10", ":var14"),
        (else_try),
          (agent_get_position, pos1, ":var11"),
          (get_distance_between_positions, ":var13", pos0, pos1),
          (try_begin),
            (lt, ":var13", 300),
            (assign, ":var15", 300, ":var13"),
          (else_try),
            (assign, ":var15", 0),
          (try_end),
          (val_add, ":var10", ":var15"),
        (try_end),
      (try_end),
      (store_agent_hit_points, ":var16", ":var7"),
      (val_mul, ":var16", 2),
      (val_add, ":var10", ":var16"),
      (ge, ":var10", ":var6"),
      (assign, ":var6", ":var10"),
      (assign, ":var5", ":var7"),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("game_receive_url_response",
  [
  ]),

  ("game_get_cheat_mode",
  [
    (assign, reg0, "$cheat_mode"),
  ]),

  ("game_receive_network_message",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, ":var1", 0),
      (store_script_param, ":var2", 3),
      (store_script_param, ":var3", 4),
      (try_begin),
        (is_between, ":var2", 2, 11),
        (assign, ":var4", 0),
        (try_begin),
          (eq, ":var3", -1),
          (assign, ":var4", 1),
        (else_try),
          (ge, ":var3", 0),
          (player_get_troop_id, ":var5", ":var0"),
          (is_between, ":var5", "trp_swadian_crossbowman_multiplayer", "trp_multiplayer_end"),
          (store_sub, ":var6", ":var5", "trp_swadian_crossbowman_multiplayer"),
          (val_add, ":var6", 61),
          (item_get_slot, ":var7", ":var3", ":var6"),
          (gt, ":var7", 0),
          (assign, ":var4", 1),
          (try_begin),
            (neq, "$g_horses_are_avaliable", 1),
            (item_get_slot, ":var8", ":var3", 60),
            (is_between, ":var8", 18, 19),
            (assign, ":var4", 0),
          (try_end),
          (try_begin),
            (eq, "$g_multiplayer_disallow_ranged_weapons", 1),
            (item_get_slot, ":var8", ":var3", 60),
            (is_between, ":var8", 12, 18),
            (assign, ":var4", 0),
          (try_end),
        (try_end),
        (eq, ":var4", 1),
        (player_set_slot, ":var0", ":var2", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 1),
      (store_script_param, ":var2", 3),
      (store_script_param, ":var3", 4),
      (try_begin),
        (is_between, ":var2", 35, 39),
        (is_between, ":var3", 0, 2),
        (player_set_slot, ":var0", ":var2", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 19),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_get_team_no, ":var9", ":var0"),
        (neq, ":var9", ":var3"),
        (try_begin),
          (call_script, "script_cf_multiplayer_team_is_available", ":var0", ":var3"),
          (player_set_troop_id, ":var0", -1),
          (player_set_team_no, ":var0", ":var3"),
          (try_begin),
            (neq, ":var3", 2),
            (neq, ":var3", 3),
            (store_mission_timer_a, ":var10"),
            (player_set_slot, ":var0", 28, ":var10"),
            (multiplayer_send_message_to_player, ":var0", 66),
          (try_end),
        (else_try),
          (multiplayer_send_message_to_player, ":var0", 67),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 20),
      (store_script_param, ":var3", 3),
      (try_begin),
        (eq, ":var3", -1),
        (player_set_troop_id, ":var0", -1),
      (else_try),
        (is_between, ":var3", "trp_swadian_crossbowman_multiplayer", "trp_multiplayer_end"),
        (player_get_team_no, ":var9", ":var0"),
        (is_between, ":var9", 0, 2),
        (team_get_faction, ":var11", ":var9"),
        (store_faction_of_troop, ":var12", ":var3"),
        (eq, ":var12", ":var11"),
        (player_set_troop_id, ":var0", ":var3"),
        (call_script, "script_multiplayer_clear_player_selected_items", ":var0"),
      (try_end),
    (else_try),
      (eq, ":var1", 2),
      (store_script_param, ":var3", 3),
      (store_script_param, ":var13", 4),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", "scn_multi_scene_1", "scn_multiplayer_maps_end"),
        (is_between, ":var13", 0, 8),
        (server_get_changing_game_type_allowed, "$g_multiplayer_changing_game_type_allowed"),
        (this_or_next|eq, "$g_multiplayer_changing_game_type_allowed", 1),
        (eq, "$g_multiplayer_game_type", ":var13"),
        (call_script, "script_multiplayer_fill_map_game_types", ":var13"),
        (assign, ":var14", reg0),
        (assign, ":var15", 0),
        (store_add, ":var16", 0, ":var14"),
        (try_for_range, ":var17", 0, ":var16"),
          (troop_slot_eq, "trp_multiplayer_data", ":var17", ":var3"),
          (assign, ":var15", 1),
          (assign, ":var16", 0),
        (try_end),
        (eq, ":var15", 1),
        (assign, "$g_multiplayer_game_type", ":var13"),
        (assign, "$g_multiplayer_selected_map", ":var3"),
        (team_set_faction, 0, "$g_multiplayer_next_team_1_faction"),
        (team_set_faction, 1, "$g_multiplayer_next_team_2_faction"),
        (call_script, "script_game_multiplayer_get_game_type_mission_template", "$g_multiplayer_game_type"),
        (start_multiplayer_mission, reg0, "$g_multiplayer_selected_map", 1),
      (try_end),
    (else_try),
      (eq, ":var1", 3),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 2, 201),
        (server_set_max_num_players, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 4),
      (store_script_param, ":var3", 3),
      (store_script_param, ":var13", 4),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 1, 3),
        (is_between, ":var13", 0, "$g_multiplayer_max_num_bots"),
        (try_begin),
          (eq, ":var3", 1),
          (assign, "$g_multiplayer_num_bots_team_1", ":var13"),
        (else_try),
          (assign, "$g_multiplayer_num_bots_team_2", ":var13"),
        (try_end),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_2_int_to_player, ":var19", 51, ":var3", ":var13"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 44),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (server_set_anti_cheat, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 5),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (server_set_friendly_fire, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 39),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (server_set_melee_friendly_fire, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 40),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 101),
        (server_set_friendly_fire_damage_self_ratio, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 41),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 101),
        (server_set_friendly_fire_damage_friend_ratio, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 6),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 4),
        (server_set_ghost_mode, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 7),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (server_set_control_block_dir, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 29),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 5),
        (server_set_combat_speed, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 30),
      (store_script_param, ":var3", 3),
      (player_is_admin, ":var0"),
      (is_between, ":var3", 0, 6),
      (assign, "$g_multiplayer_number_of_respawn_count", ":var3"),
      (get_max_players, ":var18"),
      (try_for_range, ":var19", 1, ":var18"),
        (player_is_active, ":var19"),
        (multiplayer_send_int_to_player, ":var19", 88, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 8),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (server_set_add_to_game_servers_list, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 9),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 3, 31),
        (assign, "$g_multiplayer_respawn_period", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 57, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 10),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 5, 121),
        (assign, "$g_multiplayer_game_max_minutes", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 11),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 60, 901),
        (assign, "$g_multiplayer_round_max_seconds", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 59, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 28),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (assign, "$g_multiplayer_player_respawn_as_bot", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 85, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 12),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 3, 1001),
        (assign, "$g_multiplayer_game_max_points", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 13),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 25, 401),
        (assign, "$g_multiplayer_point_gained_from_flags", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 14),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 11),
        (assign, "$g_multiplayer_point_gained_from_capturing_flag", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 36),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 1001),
        (assign, "$g_multiplayer_initial_gold_multiplier", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 37),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 1001),
        (assign, "$g_multiplayer_battle_earnings_multiplier", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 38),
      (store_script_param, ":var3", 3),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 1001),
        (assign, "$g_multiplayer_round_earnings_multiplier", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 15),
      (try_begin),
        (player_is_admin, ":var0"),
        (server_get_renaming_server_allowed, "$g_multiplayer_renaming_server_allowed"),
        (eq, "$g_multiplayer_renaming_server_allowed", 1),
        (server_set_name, s0),
      (try_end),
    (else_try),
      (eq, ":var1", 16),
      (try_begin),
        (player_is_admin, ":var0"),
        (server_set_password, s0),
      (try_end),
    (else_try),
      (eq, ":var1", 35),
      (try_begin),
        (player_is_admin, ":var0"),
        (server_set_welcome_message, s0),
      (try_end),
    (else_try),
      (eq, ":var1", 17),
      (store_script_param, ":var3", 3),
      (store_script_param, ":var13", 4),
      (try_begin),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 1, 3),
        (is_between, ":var13", "fac_kingdom_1", "fac_kingdoms_end"),
        (try_begin),
          (eq, ":var3", 1),
          (assign, "$g_multiplayer_next_team_1_faction", ":var13"),
        (else_try),
          (assign, "$g_multiplayer_next_team_2_faction", ":var13"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 45),
      (try_begin),
        (server_get_max_num_players, ":var20"),
        (multiplayer_send_int_to_player, ":var0", 50, ":var20"),
        (multiplayer_send_2_int_to_player, ":var0", 84, 1, "$g_multiplayer_next_team_1_faction"),
        (multiplayer_send_2_int_to_player, ":var0", 84, 2, "$g_multiplayer_next_team_2_faction"),
        (multiplayer_send_2_int_to_player, ":var0", 51, 1, "$g_multiplayer_num_bots_team_1"),
        (multiplayer_send_2_int_to_player, ":var0", 51, 2, "$g_multiplayer_num_bots_team_2"),
        (server_get_anti_cheat, ":var21"),
        (multiplayer_send_int_to_player, ":var0", 104, ":var21"),
        (server_get_friendly_fire, ":var22"),
        (multiplayer_send_int_to_player, ":var0", 52, ":var22"),
        (server_get_melee_friendly_fire, ":var23"),
        (multiplayer_send_int_to_player, ":var0", 99, ":var23"),
        (server_get_friendly_fire_damage_self_ratio, ":var24"),
        (multiplayer_send_int_to_player, ":var0", 100, ":var24"),
        (server_get_friendly_fire_damage_friend_ratio, ":var25"),
        (multiplayer_send_int_to_player, ":var0", 101, ":var25"),
        (server_get_ghost_mode, ":var26"),
        (multiplayer_send_int_to_player, ":var0", 53, ":var26"),
        (server_get_control_block_dir, ":var27"),
        (multiplayer_send_int_to_player, ":var0", 54, ":var27"),
        (server_get_combat_speed, ":var28"),
        (multiplayer_send_int_to_player, ":var0", 55, ":var28"),
        (server_get_add_to_game_servers_list, ":var29"),
        (multiplayer_send_int_to_player, ":var0", 56, ":var29"),
        (multiplayer_send_int_to_player, ":var0", 57, "$g_multiplayer_respawn_period"),
        (multiplayer_send_int_to_player, ":var0", 58, "$g_multiplayer_game_max_minutes"),
        (multiplayer_send_int_to_player, ":var0", 59, "$g_multiplayer_round_max_seconds"),
        (multiplayer_send_int_to_player, ":var0", 85, "$g_multiplayer_player_respawn_as_bot"),
        (multiplayer_send_int_to_player, ":var0", 60, "$g_multiplayer_game_max_points"),
        (multiplayer_send_int_to_player, ":var0", 61, "$g_multiplayer_point_gained_from_flags"),
        (multiplayer_send_int_to_player, ":var0", 62, "$g_multiplayer_point_gained_from_capturing_flag"),
        (multiplayer_send_int_to_player, ":var0", 94, "$g_multiplayer_initial_gold_multiplier"),
        (multiplayer_send_int_to_player, ":var0", 95, "$g_multiplayer_battle_earnings_multiplier"),
        (multiplayer_send_int_to_player, ":var0", 96, "$g_multiplayer_round_earnings_multiplier"),
        (multiplayer_send_int_to_player, ":var0", 92, "$g_multiplayer_valid_vote_ratio"),
        (str_store_server_name, s0),
        (multiplayer_send_string_to_player, ":var0", 63, s0),
        (multiplayer_send_message_to_player, ":var0", 105),
      (try_end),
    (else_try),
      (eq, ":var1", 18),
      (try_begin),
        (player_is_admin, ":var0"),
        (server_get_renaming_server_allowed, "$g_multiplayer_renaming_server_allowed"),
        (multiplayer_send_int_to_player, ":var0", 97, "$g_multiplayer_renaming_server_allowed"),
        (server_get_changing_game_type_allowed, "$g_multiplayer_changing_game_type_allowed"),
        (multiplayer_send_int_to_player, ":var0", 98, "$g_multiplayer_changing_game_type_allowed"),
        (server_get_max_num_players, ":var20"),
        (multiplayer_send_int_to_player, ":var0", 50, ":var20"),
        (multiplayer_send_2_int_to_player, ":var0", 84, 1, "$g_multiplayer_next_team_1_faction"),
        (multiplayer_send_2_int_to_player, ":var0", 84, 2, "$g_multiplayer_next_team_2_faction"),
        (multiplayer_send_2_int_to_player, ":var0", 51, 1, "$g_multiplayer_num_bots_team_1"),
        (multiplayer_send_2_int_to_player, ":var0", 51, 2, "$g_multiplayer_num_bots_team_2"),
        (server_get_anti_cheat, ":var21"),
        (multiplayer_send_int_to_player, ":var0", 104, ":var21"),
        (server_get_friendly_fire, ":var22"),
        (multiplayer_send_int_to_player, ":var0", 52, ":var22"),
        (server_get_melee_friendly_fire, ":var23"),
        (multiplayer_send_int_to_player, ":var0", 99, ":var23"),
        (server_get_friendly_fire_damage_self_ratio, ":var24"),
        (multiplayer_send_int_to_player, ":var0", 100, ":var24"),
        (server_get_friendly_fire_damage_friend_ratio, ":var25"),
        (multiplayer_send_int_to_player, ":var0", 101, ":var25"),
        (server_get_ghost_mode, ":var26"),
        (multiplayer_send_int_to_player, ":var0", 53, ":var26"),
        (server_get_control_block_dir, ":var27"),
        (multiplayer_send_int_to_player, ":var0", 54, ":var27"),
        (server_get_combat_speed, ":var28"),
        (multiplayer_send_int_to_player, ":var0", 55, ":var28"),
        (server_get_add_to_game_servers_list, ":var29"),
        (multiplayer_send_int_to_player, ":var0", 56, ":var29"),
        (multiplayer_send_int_to_player, ":var0", 57, "$g_multiplayer_respawn_period"),
        (multiplayer_send_int_to_player, ":var0", 58, "$g_multiplayer_game_max_minutes"),
        (multiplayer_send_int_to_player, ":var0", 59, "$g_multiplayer_round_max_seconds"),
        (multiplayer_send_int_to_player, ":var0", 85, "$g_multiplayer_player_respawn_as_bot"),
        (multiplayer_send_int_to_player, ":var0", 60, "$g_multiplayer_game_max_points"),
        (multiplayer_send_int_to_player, ":var0", 61, "$g_multiplayer_point_gained_from_flags"),
        (multiplayer_send_int_to_player, ":var0", 62, "$g_multiplayer_point_gained_from_capturing_flag"),
        (multiplayer_send_int_to_player, ":var0", 94, "$g_multiplayer_initial_gold_multiplier"),
        (multiplayer_send_int_to_player, ":var0", 95, "$g_multiplayer_battle_earnings_multiplier"),
        (multiplayer_send_int_to_player, ":var0", 96, "$g_multiplayer_round_earnings_multiplier"),
        (multiplayer_send_int_to_player, ":var0", 92, "$g_multiplayer_valid_vote_ratio"),
        (multiplayer_send_int_to_player, ":var0", 106, "$g_multiplayer_max_num_bots"),
        (str_store_server_name, s0),
        (multiplayer_send_string_to_player, ":var0", 63, s0),
        (str_store_server_password, s0),
        (multiplayer_send_string_to_player, ":var0", 64, s0),
      (try_end),
    (else_try),
      (eq, ":var1", 21),
      (try_begin),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (eq, "$g_multiplayer_poll_running", 0),
        (store_mission_timer_a, ":var30"),
        (player_get_slot, ":var31", ":var0", 26),
        (ge, ":var30", ":var31"),
        (assign, ":var32", 0),
        (try_begin),
          (eq, ":var3", 1),
          (try_begin),
            (eq, "$g_multiplayer_kick_voteable", 1),
            (player_is_active, ":var13"),
            (assign, ":var32", 1),
          (try_end),
        (else_try),
          (eq, ":var3", 2),
          (try_begin),
            (eq, "$g_multiplayer_ban_voteable", 1),
            (player_is_active, ":var13"),
            (save_ban_info_of_player, ":var13"),
            (assign, ":var32", 1),
          (try_end),
        (else_try),
          (eq, ":var3", 0),
          (try_begin),
            (eq, "$g_multiplayer_maps_voteable", 1),
            (call_script, "script_multiplayer_fill_map_game_types", "$g_multiplayer_game_type"),
            (assign, ":var14", reg0),
            (try_for_range, ":var17", 0, ":var14"),
              (store_add, ":var33", ":var17", 0),
              (troop_slot_eq, "trp_multiplayer_data", ":var33", ":var13"),
              (assign, ":var32", 1),
              (assign, ":var14", 0),
            (try_end),
          (try_end),
        (else_try),
          (eq, ":var3", 3),
          (try_begin),
            (eq, "$g_multiplayer_factions_voteable", 1),
            (store_script_param, ":var34", 5),
            (store_script_param, ":var35", 6),
            (call_script, "script_multiplayer_fill_map_game_types", "$g_multiplayer_game_type"),
            (assign, ":var14", reg0),
            (try_for_range, ":var17", 0, ":var14"),
              (store_add, ":var33", ":var17", 0),
              (troop_slot_eq, "trp_multiplayer_data", ":var33", ":var13"),
              (assign, ":var32", 1),
              (assign, ":var14", 0),
            (try_end),
            (try_begin),
              (eq, ":var32", 1),
              (neg|this_or_next|is_between, ":var34", "fac_kingdom_1", "fac_kingdoms_end"),
              (neg|this_or_next|is_between, ":var35", "fac_kingdom_1", "fac_kingdoms_end"),
              (eq, ":var34", ":var35"),
              (assign, ":var32", 0),
            (try_end),
          (try_end),
        (else_try),
          (eq, ":var3", 4),
          (store_script_param, ":var34", 5),
          (store_add, ":var36", "$g_multiplayer_num_bots_voteable", 1),
          (is_between, ":var13", 0, ":var36"),
          (is_between, ":var34", 0, ":var36"),
          (assign, ":var32", 1),
        (try_end),
        (eq, ":var32", 1),
        (str_store_player_username, s0, ":var0"),
        (try_begin),
          (eq, ":var3", 1),
          (str_store_player_username, s1, ":var13"),
          (server_add_message_to_log, "str_poll_kick_player_s1_by_s0"),
        (else_try),
          (eq, ":var3", 2),
          (str_store_player_username, s1, ":var13"),
          (server_add_message_to_log, "str_poll_ban_player_s1_by_s0"),
        (else_try),
          (eq, ":var3", 0),
          (store_sub, ":var37", ":var13", "scn_multi_scene_1"),
          (val_add, ":var37", "str_multi_scene_1"),
          (str_store_string, s1, ":var37"),
          (server_add_message_to_log, "str_poll_change_map_to_s1_by_s0"),
        (else_try),
          (eq, ":var3", 3),
          (store_sub, ":var37", ":var13", "scn_multi_scene_1"),
          (val_add, ":var37", "str_multi_scene_1"),
          (str_store_string, s1, ":var37"),
          (str_store_faction_name, s2, ":var34"),
          (str_store_faction_name, s3, ":var35"),
          (server_add_message_to_log, "str_poll_change_map_to_s1_and_factions_to_s2_and_s3_by_s0"),
        (else_try),
          (eq, ":var3", 4),
          (assign, reg0, ":var13"),
          (assign, reg1, ":var34"),
          (server_add_message_to_log, "str_poll_change_number_of_bots_to_reg0_and_reg1_by_s0"),
        (try_end),
        (assign, "$g_multiplayer_poll_running", 1),
        (assign, "$g_multiplayer_poll_ended", 0),
        (assign, "$g_multiplayer_poll_num_sent", 0),
        (assign, "$g_multiplayer_poll_yes_count", 0),
        (assign, "$g_multiplayer_poll_no_count", 0),
        (assign, "$g_multiplayer_poll_to_show", ":var3"),
        (assign, "$g_multiplayer_poll_value_to_show", ":var13"),
        (try_begin),
          (eq, ":var3", 3),
          (assign, "$g_multiplayer_poll_value_2_to_show", ":var34"),
          (assign, "$g_multiplayer_poll_value_3_to_show", ":var35"),
        (else_try),
          (eq, ":var3", 4),
          (assign, "$g_multiplayer_poll_value_2_to_show", ":var34"),
          (assign, "$g_multiplayer_poll_value_3_to_show", -1),
        (else_try),
          (assign, "$g_multiplayer_poll_value_2_to_show", -1),
          (assign, "$g_multiplayer_poll_value_3_to_show", -1),
        (try_end),
        (store_add, ":var38", ":var30", 900),
        (player_set_slot, ":var0", 26, ":var38"),
        (store_add, "$g_multiplayer_poll_end_time", ":var30", 60),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 0, ":var18"),
          (player_is_active, ":var19"),
          (player_set_slot, ":var19", 23, 1),
          (val_add, "$g_multiplayer_poll_num_sent", 1),
          (multiplayer_send_4_int_to_player, ":var19", 74, "$g_multiplayer_poll_to_show", "$g_multiplayer_poll_value_to_show", "$g_multiplayer_poll_value_2_to_show", "$g_multiplayer_poll_value_3_to_show"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 22),
      (try_begin),
        (store_script_param, ":var3", 3),
        (eq, "$g_multiplayer_poll_running", 1),
        (is_between, ":var3", 0, 2),
        (player_slot_eq, ":var0", 23, 1),
        (player_set_slot, ":var0", 23, 0),
        (try_begin),
          (eq, ":var3", 0),
          (val_add, "$g_multiplayer_poll_no_count", 1),
        (else_try),
          (eq, ":var3", 1),
          (val_add, "$g_multiplayer_poll_yes_count", 1),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 23),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (player_is_active, ":var3"),
        (kick_player, ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 24),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (player_is_active, ":var3"),
        (ban_player, ":var3", 0, ":var0"),
      (try_end),
    (else_try),
      (eq, ":var1", 33),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 50, 101),
        (assign, "$g_multiplayer_valid_vote_ratio", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 34),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (this_or_next|is_between, ":var3", 2, 7),
        (eq, ":var3", 1000),
        (assign, "$g_multiplayer_auto_team_balance_limit", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 93, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 25),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 51),
        (is_between, ":var3", 0, "$g_multiplayer_max_num_bots"),
        (assign, "$g_multiplayer_num_bots_voteable", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 81, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 26),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (assign, "$g_multiplayer_factions_voteable", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 82, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 27),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (assign, "$g_multiplayer_maps_voteable", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 83, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 31),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (assign, "$g_multiplayer_kick_voteable", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 90, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 32),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (assign, "$g_multiplayer_ban_voteable", ":var3"),
        (get_max_players, ":var18"),
        (try_for_range, ":var19", 1, ":var18"),
          (player_is_active, ":var19"),
          (multiplayer_send_int_to_player, ":var19", 91, ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 42),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (assign, "$g_multiplayer_allow_player_banners", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 43),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (assign, "$g_multiplayer_force_default_armor", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var1", 46),
      (try_begin),
        (store_script_param, ":var3", 3),
        (eq, "$g_multiplayer_game_type", 7),
        (agent_is_active, ":var3"),
        (agent_is_alive, ":var3"),
        (agent_is_human, ":var3"),
        (player_get_agent_id, ":var39", ":var0"),
        (agent_is_active, ":var39"),
        (agent_is_alive, ":var39"),
        (agent_get_position, pos0, ":var39"),
        (agent_get_position, pos1, ":var3"),
        (get_sq_distance_between_positions_in_meters, ":var40", pos0, pos1),
        (le, ":var40", 49),
        (this_or_next|agent_check_offer_from_agent, ":var39", ":var3"),
        (agent_slot_eq, ":var39", 21, -1),
        (neg|agent_slot_eq, ":var39", 21, ":var3"),
        (try_begin),
          (agent_check_offer_from_agent, ":var39", ":var3"),
          (call_script, "script_multiplayer_accept_duel", ":var39", ":var3"),
        (else_try),
          (assign, ":var41", 1),
          (try_begin),
            (agent_check_offer_from_agent, ":var3", ":var39"),
            (assign, ":var41", 0),
          (try_end),
          (agent_add_offer_with_timeout, ":var3", ":var39", 10000),
          (agent_get_player_id, ":var42", ":var3"),
          (try_begin),
            (player_is_active, ":var42"),
            (try_begin),
              (eq, ":var41", 1),
              (multiplayer_send_int_to_player, ":var42", 108, ":var39"),
            (try_end),
          (else_try),
            (call_script, "script_multiplayer_accept_duel", ":var3", ":var39"),
          (try_end),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 47),
      (try_begin),
        (store_script_param, ":var3", 3),
        (player_is_admin, ":var0"),
        (is_between, ":var3", 0, 2),
        (assign, "$g_multiplayer_disallow_ranged_weapons", ":var3"),
      (try_end),
    (else_try),
      (neg|multiplayer_is_dedicated_server),
      (try_begin),
        (eq, ":var1", 97),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_renaming_server_allowed", ":var3"),
      (else_try),
        (eq, ":var1", 98),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_changing_game_type_allowed", ":var3"),
      (else_try),
        (eq, ":var1", 50),
        (store_script_param, ":var3", 3),
        (server_set_max_num_players, ":var3"),
      (else_try),
        (eq, ":var1", 84),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (try_begin),
          (eq, ":var3", 1),
          (assign, "$g_multiplayer_next_team_1_faction", ":var13"),
        (else_try),
          (assign, "$g_multiplayer_next_team_2_faction", ":var13"),
        (try_end),
      (else_try),
        (eq, ":var1", 51),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (try_begin),
          (eq, ":var3", 1),
          (assign, "$g_multiplayer_num_bots_team_1", ":var13"),
        (else_try),
          (assign, "$g_multiplayer_num_bots_team_2", ":var13"),
        (try_end),
      (else_try),
        (eq, ":var1", 104),
        (store_script_param, ":var3", 3),
        (server_set_anti_cheat, ":var3"),
      (else_try),
        (eq, ":var1", 52),
        (store_script_param, ":var3", 3),
        (server_set_friendly_fire, ":var3"),
      (else_try),
        (eq, ":var1", 99),
        (store_script_param, ":var3", 3),
        (server_set_melee_friendly_fire, ":var3"),
      (else_try),
        (eq, ":var1", 100),
        (store_script_param, ":var3", 3),
        (server_set_friendly_fire_damage_self_ratio, ":var3"),
      (else_try),
        (eq, ":var1", 101),
        (store_script_param, ":var3", 3),
        (server_set_friendly_fire_damage_friend_ratio, ":var3"),
      (else_try),
        (eq, ":var1", 53),
        (store_script_param, ":var3", 3),
        (server_set_ghost_mode, ":var3"),
      (else_try),
        (eq, ":var1", 54),
        (store_script_param, ":var3", 3),
        (server_set_control_block_dir, ":var3"),
      (else_try),
        (eq, ":var1", 56),
        (store_script_param, ":var3", 3),
        (server_set_add_to_game_servers_list, ":var3"),
      (else_try),
        (eq, ":var1", 57),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_respawn_period", ":var3"),
      (else_try),
        (eq, ":var1", 58),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_game_max_minutes", ":var3"),
      (else_try),
        (eq, ":var1", 59),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_round_max_seconds", ":var3"),
      (else_try),
        (eq, ":var1", 85),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_player_respawn_as_bot", ":var3"),
      (else_try),
        (eq, ":var1", 60),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_game_max_points", ":var3"),
      (else_try),
        (eq, ":var1", 61),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_point_gained_from_flags", ":var3"),
      (else_try),
        (eq, ":var1", 62),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_point_gained_from_capturing_flag", ":var3"),
      (else_try),
        (eq, ":var1", 94),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_initial_gold_multiplier", ":var3"),
      (else_try),
        (eq, ":var1", 95),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_battle_earnings_multiplier", ":var3"),
      (else_try),
        (eq, ":var1", 96),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_round_earnings_multiplier", ":var3"),
      (else_try),
        (eq, ":var1", 88),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_number_of_respawn_count", ":var3"),
      (else_try),
        (eq, ":var1", 63),
        (server_set_name, s0),
      (else_try),
        (eq, ":var1", 64),
        (server_set_password, s0),
        (start_presentation, "prsnt_game_multiplayer_admin_panel"),
      (else_try),
        (eq, ":var1", 105),
        (assign, "$g_multiplayer_show_server_rules", 1),
        (start_presentation, "prsnt_multiplayer_welcome_message"),
      (else_try),
        (eq, ":var1", 65),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_game_type", ":var3"),
      (else_try),
        (eq, ":var1", 92),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_valid_vote_ratio", ":var3"),
      (else_try),
        (eq, ":var1", 106),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_max_num_bots", ":var3"),
      (else_try),
        (eq, ":var1", 107),
        (store_script_param, ":var3", 3),
        (assign, "$server_mission_timer_while_player_joined", ":var3"),
      (else_try),
        (eq, ":var1", 93),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_auto_team_balance_limit", ":var3"),
      (else_try),
        (eq, ":var1", 81),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_num_bots_voteable", ":var3"),
      (else_try),
        (eq, ":var1", 82),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_factions_voteable", ":var3"),
      (else_try),
        (eq, ":var1", 83),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_maps_voteable", ":var3"),
      (else_try),
        (eq, ":var1", 90),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_kick_voteable", ":var3"),
      (else_try),
        (eq, ":var1", 91),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_ban_voteable", ":var3"),
      (else_try),
        (eq, ":var1", 102),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_allow_player_banners", ":var3"),
      (else_try),
        (eq, ":var1", 103),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_force_default_armor", ":var3"),
      (else_try),
        (eq, ":var1", 112),
        (store_script_param, ":var3", 3),
        (assign, "$g_multiplayer_disallow_ranged_weapons", ":var3"),
      (else_try),
        (eq, ":var1", 66),
        (assign, "$g_confirmation_result", 1),
      (else_try),
        (eq, ":var1", 67),
        (assign, "$g_confirmation_result", -1),
      (else_try),
        (eq, ":var1", 68),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (call_script, "script_show_multiplayer_message", ":var3", ":var13"),
      (else_try),
        (eq, ":var1", 69),
        (store_script_param, ":var3", 3),
        (call_script, "script_draw_this_round", ":var3"),
      (else_try),
        (eq, ":var1", 70),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (call_script, "script_set_attached_scene_prop", ":var3", ":var13"),
        (try_begin),
          (eq, "$g_multiplayer_game_type", 4),
          (try_begin),
            (neq, ":var13", -1),
            (agent_set_horse_speed_factor, ":var3", 75),
          (else_try),
            (agent_set_horse_speed_factor, ":var3", 100),
          (try_end),
        (try_end),
      (else_try),
        (eq, ":var1", 71),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (call_script, "script_set_team_flag_situation", ":var3", ":var13"),
      (else_try),
        (eq, ":var1", 72),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (call_script, "script_team_set_score", ":var3", ":var13"),
      (else_try),
        (eq, ":var1", 86),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (store_script_param, ":var34", 5),
        (store_script_param, ":var35", 6),
        (call_script, "script_player_set_score", ":var3", ":var13"),
        (call_script, "script_player_set_kill_count", ":var3", ":var34"),
        (call_script, "script_player_set_death_count", ":var3", ":var35"),
      (else_try),
        (eq, ":var1", 73),
        (store_script_param, ":var43", 3),
        (store_script_param, ":var44", 4),
        (call_script, "script_set_num_agents_around_flag", ":var43", ":var44"),
      (else_try),
        (eq, ":var1", 74),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (store_script_param, ":var34", 5),
        (store_script_param, ":var35", 6),
        (assign, ":var45", 0),
        (try_begin),
          (this_or_next|eq, ":var3", 1),
          (eq, ":var3", 2),
          (player_is_active, ":var13"),
          (assign, ":var45", 1),
        (else_try),
          (assign, ":var45", 1),
        (try_end),
        (try_begin),
          (eq, ":var45", 1),
          (assign, "$g_multiplayer_poll_to_show", ":var3"),
          (assign, "$g_multiplayer_poll_value_to_show", ":var13"),
          (assign, "$g_multiplayer_poll_value_2_to_show", ":var34"),
          (assign, "$g_multiplayer_poll_value_3_to_show", ":var35"),
          (store_mission_timer_a, ":var30"),
          (store_add, "$g_multiplayer_poll_client_end_time", ":var30", 60),
          (start_presentation, "prsnt_multiplayer_poll"),
        (try_end),
      (else_try),
        (eq, ":var1", 75),
        (store_script_param, ":var43", 3),
        (store_script_param, ":var46", 4),
        (call_script, "script_change_flag_owner", ":var43", ":var46"),
      (else_try),
        (eq, ":var1", 76),
        (store_script_param, ":var3", 3),
        (store_script_param, ":var13", 4),
        (call_script, "script_use_item", ":var3", ":var13"),
      (else_try),
        (eq, ":var1", 77),
        (store_script_param, ":var47", 3),
        (scene_prop_set_slot, ":var47", 1, 1),
        (prop_instance_get_scene_prop_kind, ":var48", ":var47"),
        (try_begin),
          (eq, ":var48", "spr_winch_b"),
          (assign, ":var49", "spr_portcullis"),
        (else_try),
          (this_or_next|eq, ":var48", "spr_castle_e_sally_door_a"),
          (this_or_next|eq, ":var48", "spr_castle_f_sally_door_a"),
          (this_or_next|eq, ":var48", "spr_earth_sally_gate_left"),
          (this_or_next|eq, ":var48", "spr_earth_sally_gate_right"),
          (this_or_next|eq, ":var48", "spr_viking_keep_destroy_sally_door_left"),
          (this_or_next|eq, ":var48", "spr_viking_keep_destroy_sally_door_right"),
          (this_or_next|eq, ":var48", "spr_castle_f_door_a"),
          (this_or_next|eq, ":var48", "spr_door_destructible"),
          (this_or_next|eq, ":var48", "spr_castle_f_door_b"),
          (this_or_next|eq, ":var48", "spr_siege_ladder_move_6m"),
          (this_or_next|eq, ":var48", "spr_siege_ladder_move_8m"),
          (this_or_next|eq, ":var48", "spr_siege_ladder_move_10m"),
          (this_or_next|eq, ":var48", "spr_siege_ladder_move_12m"),
          (eq, ":var48", "spr_siege_ladder_move_14m"),
          (assign, ":var49", ":var48"),
        (try_end),
        (try_begin),
          (eq, ":var49", "spr_portcullis"),
          (assign, ":var50", -1),
          (prop_instance_get_position, pos0, ":var47"),
          (scene_prop_get_num_instances, ":var51", ":var49"),
          (try_for_range, ":var52", 0, ":var51"),
            (scene_prop_get_instance, ":var53", ":var49", ":var52"),
            (prop_instance_get_position, pos1, ":var53"),
            (get_sq_distance_between_positions, ":var54", pos0, pos1),
            (this_or_next|eq, ":var50", -1),
            (lt, ":var54", ":var50"),
            (assign, ":var50", ":var54"),
            (assign, ":var55", ":var53"),
          (try_end),
          (ge, ":var50", 0),
          (prop_instance_is_animating, ":var56", ":var55"),
          (eq, ":var56", 0),
          (prop_instance_get_starting_position, pos0, ":var55"),
          (position_move_z, pos0, 375),
          (prop_instance_animate_to_position, ":var55", pos0, 1),
        (else_try),
          (this_or_next|eq, ":var48", "spr_castle_e_sally_door_a"),
          (this_or_next|eq, ":var48", "spr_castle_f_sally_door_a"),
          (this_or_next|eq, ":var48", "spr_earth_sally_gate_left"),
          (this_or_next|eq, ":var48", "spr_earth_sally_gate_right"),
          (this_or_next|eq, ":var48", "spr_viking_keep_destroy_sally_door_left"),
          (this_or_next|eq, ":var48", "spr_viking_keep_destroy_sally_door_right"),
          (this_or_next|eq, ":var48", "spr_castle_f_door_a"),
          (this_or_next|eq, ":var48", "spr_door_destructible"),
          (eq, ":var48", "spr_castle_f_door_b"),
          (assign, ":var55", ":var47"),
          (prop_instance_get_starting_position, pos0, ":var55"),
          (position_rotate_z, pos0, -80),
          (prop_instance_animate_to_position, ":var55", pos0, 1),
        (else_try),
          (assign, ":var55", ":var47"),
          (prop_instance_is_animating, ":var56", ":var55"),
          (eq, ":var56", 0),
          (prop_instance_get_starting_position, pos0, ":var55"),
          (prop_instance_animate_to_position, ":var55", pos0, 1),
        (try_end),
      (else_try),
        (eq, ":var1", 78),
        (store_script_param, ":var3", 3),
        (try_begin),
          (neq, ":var3", -9999),
          (assign, "$g_round_start_time", ":var3"),
        (else_try),
          (store_mission_timer_a, "$g_round_start_time"),
          (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_6m"),
          (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_8m"),
          (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_10m"),
          (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_12m"),
          (call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_14m"),
          (call_script, "script_initialize_scene_prop_slots", "spr_winch_b"),
        (try_end),
      (else_try),
        (eq, ":var1", 79),
        (try_begin),
          (is_presentation_active, "prsnt_multiplayer_item_select"),
          (assign, "$g_close_equipment_selection", 1),
        (try_end),
        (start_presentation, "prsnt_multiplayer_troop_select"),
      (else_try),
        (eq, ":var1", 80),
        (assign, "$g_battle_death_mode_started", 2),
        (start_presentation, "prsnt_multiplayer_flag_projection_display_bt"),
        (call_script, "script_start_death_mode"),
      (else_try),
        (eq, ":var1", 89),
        (store_script_param, ":var3", 3),
        (try_begin),
          (gt, "$g_my_spawn_count", 0),
          (store_add, "$g_my_spawn_count", "$g_my_spawn_count", ":var3"),
        (else_try),
          (assign, "$g_my_spawn_count", ":var3"),
        (try_end),
      (else_try),
        (eq, ":var1", 108),
        (store_script_param, ":var3", 3),
        (try_begin),
          (agent_is_active, ":var3"),
          (agent_get_player_id, ":var57", ":var3"),
          (try_begin),
            (player_is_active, ":var57"),
            (str_store_player_username, s0, ":var57"),
          (else_try),
            (str_store_agent_name, s0, ":var3"),
          (try_end),
          (display_message, "str_s0_offers_a_duel_with_you"),
          (try_begin),
            (get_player_agent_no, ":var58"),
            (agent_is_active, ":var58"),
            (agent_add_offer_with_timeout, ":var58", ":var3", 10000),
          (try_end),
        (try_end),
      (else_try),
        (eq, ":var1", 109),
        (store_script_param, ":var3", 3),
        (store_mission_timer_a, ":var30"),
        (try_begin),
          (agent_is_active, ":var3"),
          (get_player_agent_no, ":var58"),
          (agent_is_active, ":var58"),
          (agent_get_player_id, ":var57", ":var3"),
          (try_begin),
            (player_is_active, ":var57"),
            (str_store_player_username, s0, ":var57"),
          (else_try),
            (str_store_agent_name, s0, ":var3"),
          (try_end),
          (display_message, "str_a_duel_between_you_and_s0_will_start_in_3_seconds"),
          (assign, "$g_multiplayer_duel_start_time", ":var30"),
          (start_presentation, "prsnt_multiplayer_duel_start_counter"),
          (agent_set_slot, ":var58", 21, ":var3"),
          (agent_set_slot, ":var3", 21, ":var58"),
          (agent_set_slot, ":var58", 22, ":var30"),
          (agent_set_slot, ":var3", 22, ":var30"),
          (agent_clear_relations_with_agents, ":var58"),
          (agent_clear_relations_with_agents, ":var3"),
        (try_end),
      (else_try),
        (eq, ":var1", 110),
        (store_script_param, ":var3", 3),
        (try_begin),
          (agent_is_active, ":var3"),
          (agent_get_player_id, ":var57", ":var3"),
          (try_begin),
            (player_is_active, ":var57"),
            (str_store_player_username, s0, ":var57"),
          (else_try),
            (str_store_agent_name, s0, ":var3"),
          (try_end),
          (display_message, "str_your_duel_with_s0_is_cancelled"),
        (try_end),
        (try_begin),
          (get_player_agent_no, ":var58"),
          (agent_is_active, ":var58"),
          (agent_set_slot, ":var58", 21, -1),
          (agent_clear_relations_with_agents, ":var58"),
        (try_end),
      (else_try),
        (eq, ":var1", 111),
        (display_message, "str_server_s0", 0xFFFF6666),
      (try_end),
    (try_end),
  ]),

  ("cf_multiplayer_evaluate_poll",
  [
    (assign, ":var0", 0),
    (assign, "$g_multiplayer_poll_ended", 1),
    (store_add, ":var1", "$g_multiplayer_poll_yes_count", "$g_multiplayer_poll_no_count"),
    (store_sub, ":var2", "$g_multiplayer_poll_num_sent", ":var1"),
    (store_mul, ":var3", 3, ":var2"),
    (val_div, ":var3", 10),
    (val_add, ":var1", ":var3"),
    (val_max, ":var1", 1),
    (store_mul, ":var4", 100, "$g_multiplayer_poll_yes_count"),
    (val_div, ":var4", ":var1"),
    (try_begin),
      (ge, ":var4", "$g_multiplayer_valid_vote_ratio"),
      (assign, ":var0", 1),
      (try_begin),
        (eq, "$g_multiplayer_poll_to_show", 1),
        (try_begin),
          (player_is_active, "$g_multiplayer_poll_value_to_show"),
          (kick_player, "$g_multiplayer_poll_value_to_show"),
        (try_end),
      (else_try),
        (eq, "$g_multiplayer_poll_to_show", 2),
        (ban_player_using_saved_ban_info),
      (else_try),
        (eq, "$g_multiplayer_poll_to_show", 3),
        (team_set_faction, 0, "$g_multiplayer_poll_value_2_to_show"),
        (team_set_faction, 1, "$g_multiplayer_poll_value_3_to_show"),
      (else_try),
        (eq, "$g_multiplayer_poll_to_show", 4),
        (assign, "$g_multiplayer_num_bots_team_1", "$g_multiplayer_poll_value_to_show"),
        (assign, "$g_multiplayer_num_bots_team_2", "$g_multiplayer_poll_value_2_to_show"),
        (get_max_players, ":var5"),
        (try_for_range, ":var6", 1, ":var5"),
          (player_is_active, ":var6"),
          (multiplayer_send_2_int_to_player, ":var6", 51, 1, "$g_multiplayer_num_bots_team_1"),
          (multiplayer_send_2_int_to_player, ":var6", 51, 2, "$g_multiplayer_num_bots_team_2"),
        (try_end),
      (try_end),
    (else_try),
      (assign, "$g_multiplayer_poll_running", 0),
    (try_end),
    (get_max_players, ":var5"),
    (call_script, "script_show_multiplayer_message", 7, ":var0"),
    (try_for_range, ":var6", 1, ":var5"),
      (player_is_active, ":var6"),
      (multiplayer_send_2_int_to_player, ":var6", 68, 7, ":var0"),
    (try_end),
    (eq, ":var0", 1),
  ]),

  ("multiplayer_accept_duel",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (agent_slot_ge, ":var0", 21, 0),
      (agent_get_slot, ":var2", ":var0", 21),
      (agent_is_active, ":var2"),
      (agent_clear_relations_with_agents, ":var2"),
      (agent_set_slot, ":var2", 21, -1),
      (agent_get_player_id, ":var3", ":var2"),
      (try_begin),
        (player_is_active, ":var3"),
        (multiplayer_send_int_to_player, ":var3", 110, ":var0"),
      (else_try),
        (agent_force_rethink, ":var2"),
      (try_end),
    (try_end),
    (try_begin),
      (agent_slot_ge, ":var1", 21, 0),
      (agent_get_slot, ":var2", ":var1", 21),
      (agent_is_active, ":var2"),
      (agent_clear_relations_with_agents, ":var2"),
      (agent_set_slot, ":var2", 21, -1),
      (try_begin),
        (player_is_active, ":var3"),
        (multiplayer_send_int_to_player, ":var3", 110, ":var1"),
      (else_try),
        (agent_force_rethink, ":var2"),
      (try_end),
    (try_end),
    (agent_set_slot, ":var0", 21, ":var1"),
    (agent_set_slot, ":var1", 21, ":var0"),
    (agent_clear_relations_with_agents, ":var0"),
    (agent_clear_relations_with_agents, ":var1"),
    (agent_get_player_id, ":var3", ":var0"),
    (store_mission_timer_a, ":var4"),
    (try_begin),
      (player_is_active, ":var3"),
      (multiplayer_send_int_to_player, ":var3", 109, ":var1"),
    (else_try),
      (agent_force_rethink, ":var0"),
    (try_end),
    (agent_set_slot, ":var0", 22, ":var4"),
    (agent_get_player_id, ":var5", ":var1"),
    (try_begin),
      (player_is_active, ":var5"),
      (multiplayer_send_int_to_player, ":var5", 109, ":var0"),
    (else_try),
      (agent_force_rethink, ":var1"),
    (try_end),
    (agent_set_slot, ":var1", 22, ":var4"),
  ]),

  ("game_get_multiplayer_server_option_for_mission_template",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, ":var1", 0),
      (assign, reg0, "$g_multiplayer_team_1_faction"),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 1),
      (assign, reg0, "$g_multiplayer_team_2_faction"),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 2),
      (assign, reg0, "$g_multiplayer_num_bots_team_1"),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 3),
      (assign, reg0, "$g_multiplayer_num_bots_team_2"),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 4),
      (server_get_friendly_fire, reg0),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 5),
      (server_get_melee_friendly_fire, reg0),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 6),
      (server_get_friendly_fire_damage_self_ratio, reg0),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 7),
      (server_get_friendly_fire_damage_friend_ratio, reg0),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 8),
      (server_get_ghost_mode, reg0),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 9),
      (server_get_control_block_dir, reg0),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 10),
      (server_get_combat_speed, reg0),
      (set_trigger_result, 1),
    (else_try),
      (try_begin),
        (eq, ":var0", "mt_multiplayer_hq"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 11),
      (assign, reg0, "$g_multiplayer_game_max_minutes"),
      (set_trigger_result, 1),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_bt"),
        (neq, ":var0", "mt_multiplayer_fd"),
        (neq, ":var0", "mt_multiplayer_sg"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 12),
      (assign, reg0, "$g_multiplayer_round_max_seconds"),
      (set_trigger_result, 1),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_bt"),
        (neq, ":var0", "mt_multiplayer_fd"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 13),
      (assign, reg0, "$g_multiplayer_player_respawn_as_bot"),
      (set_trigger_result, 1),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_sg"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 14),
      (assign, reg0, "$g_multiplayer_number_of_respawn_count"),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 15),
      (assign, reg0, "$g_multiplayer_game_max_points"),
      (set_trigger_result, 1),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_hq"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 16),
      (assign, reg0, "$g_multiplayer_point_gained_from_flags"),
      (set_trigger_result, 1),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_cf"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 17),
      (assign, reg0, "$g_multiplayer_point_gained_from_capturing_flag"),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 18),
      (assign, reg0, "$g_multiplayer_respawn_period"),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 19),
      (assign, reg0, "$g_multiplayer_initial_gold_multiplier"),
      (set_trigger_result, 1),
    (else_try),
      (eq, ":var1", 20),
      (assign, reg0, "$g_multiplayer_battle_earnings_multiplier"),
      (set_trigger_result, 1),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_bt"),
        (neq, ":var0", "mt_multiplayer_fd"),
        (neq, ":var0", "mt_multiplayer_sg"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 21),
      (assign, reg0, "$g_multiplayer_round_earnings_multiplier"),
      (set_trigger_result, 1),
    (try_end),
  ]),

  ("game_multiplayer_server_option_for_mission_template_to_string",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (str_clear, s0),
    (try_begin),
      (eq, ":var1", 0),
      (assign, reg1, 1),
      (str_store_string, s0, "str_team_reg1_faction"),
      (str_store_faction_name, s1, ":var2"),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (eq, ":var1", 1),
      (assign, reg1, 2),
      (str_store_string, s0, "str_team_reg1_faction"),
      (str_store_faction_name, s1, ":var2"),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (eq, ":var1", 2),
      (assign, reg1, 1),
      (str_store_string, s0, "str_number_of_bots_in_team_reg1"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (eq, ":var1", 3),
      (assign, reg1, 2),
      (str_store_string, s0, "str_number_of_bots_in_team_reg1"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (eq, ":var1", 4),
      (str_store_string, s0, "str_allow_friendly_fire"),
      (try_begin),
        (eq, ":var2", 0),
        (str_store_string, s1, "str_no_wo_dot"),
      (else_try),
        (str_store_string, s1, "str_yes_wo_dot"),
      (try_end),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (eq, ":var1", 5),
      (str_store_string, s0, "str_allow_melee_friendly_fire"),
      (try_begin),
        (eq, ":var2", 0),
        (str_store_string, s1, "str_no_wo_dot"),
      (else_try),
        (str_store_string, s1, "str_yes_wo_dot"),
      (try_end),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (eq, ":var1", 6),
      (str_store_string, s0, "str_friendly_fire_damage_self_ratio"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (eq, ":var1", 7),
      (str_store_string, s0, "str_friendly_fire_damage_friend_ratio"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (eq, ":var1", 8),
      (str_store_string, s0, "str_spectator_camera"),
      (try_begin),
        (eq, ":var2", 0),
        (str_store_string, s1, "str_free"),
      (else_try),
        (eq, ":var2", 1),
        (str_store_string, s1, "str_stick_to_any_player"),
      (else_try),
        (eq, ":var2", 2),
        (str_store_string, s1, "str_stick_to_team_members"),
      (else_try),
        (str_store_string, s1, "str_stick_to_team_members_view"),
      (try_end),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (eq, ":var1", 9),
      (str_store_string, s0, "str_control_block_direction"),
      (try_begin),
        (eq, ":var2", 0),
        (str_store_string, s1, "str_automatic"),
      (else_try),
        (str_store_string, s1, "str_by_mouse_movement"),
      (try_end),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (eq, ":var1", 10),
      (str_store_string, s0, "str_combat_speed"),
      (try_begin),
        (eq, ":var2", 0),
        (str_store_string, s1, "str_combat_speed_0"),
      (else_try),
        (eq, ":var2", 1),
        (str_store_string, s1, "str_combat_speed_1"),
      (else_try),
        (eq, ":var2", 2),
        (str_store_string, s1, "str_combat_speed_2"),
      (else_try),
        (eq, ":var2", 3),
        (str_store_string, s1, "str_combat_speed_3"),
      (else_try),
        (str_store_string, s1, "str_combat_speed_4"),
      (try_end),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (try_begin),
        (eq, ":var0", "mt_multiplayer_hq"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 11),
      (str_store_string, s0, "str_map_time_limit"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_bt"),
        (neq, ":var0", "mt_multiplayer_fd"),
        (neq, ":var0", "mt_multiplayer_sg"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 12),
      (str_store_string, s0, "str_round_time_limit"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_bt"),
        (neq, ":var0", "mt_multiplayer_fd"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 13),
      (str_store_string, s0, "str_players_take_control_of_a_bot_after_death"),
      (try_begin),
        (eq, ":var2", 0),
        (str_store_string, s1, "str_no_wo_dot"),
      (else_try),
        (str_store_string, s1, "str_yes_wo_dot"),
      (try_end),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_sg"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 14),
      (str_store_string, s0, "str_defender_spawn_count_limit"),
      (try_begin),
        (eq, ":var2", 0),
        (str_store_string, s1, "str_unlimited"),
      (else_try),
        (assign, reg1, ":var2"),
        (str_store_string, s1, "str_reg1"),
      (try_end),
      (str_store_string, s0, "str_s0_s1"),
    (else_try),
      (eq, ":var1", 15),
      (str_store_string, s0, "str_team_points_limit"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_hq"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 16),
      (str_store_string, s0, "str_point_gained_from_flags"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_cf"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 17),
      (str_store_string, s0, "str_point_gained_from_capturing_flag"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (eq, ":var1", 18),
      (str_store_string, s0, "str_respawn_period"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (eq, ":var1", 19),
      (str_store_string, s0, "str_initial_gold_multiplier"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (eq, ":var1", 20),
      (str_store_string, s0, "str_battle_earnings_multiplier"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (else_try),
      (try_begin),
        (neq, ":var0", "mt_multiplayer_bt"),
        (neq, ":var0", "mt_multiplayer_fd"),
        (neq, ":var0", "mt_multiplayer_sg"),
        (val_add, ":var1", 1),
      (try_end),
      (eq, ":var1", 21),
      (str_store_string, s0, "str_round_earnings_multiplier"),
      (assign, reg0, ":var2"),
      (str_store_string, s0, "str_s0_reg0"),
    (try_end),
  ]),

  ("cf_multiplayer_team_is_available",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 1),
    (try_begin),
      (neq, "$g_multiplayer_game_type", 0),
      (neq, "$g_multiplayer_game_type", 7),
      (is_between, ":var1", 0, 2),
      (neg|teams_are_enemies, ":var1", ":var1"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (get_max_players, ":var5"),
      (try_for_range, ":var6", 0, ":var5"),
        (player_is_active, ":var6"),
        (neq, ":var6", ":var0"),
        (player_get_team_no, ":var7", ":var6"),
        (try_begin),
          (eq, ":var7", 0),
          (val_add, ":var3", 1),
        (else_try),
          (eq, ":var7", 1),
          (val_add, ":var4", 1),
        (try_end),
      (try_end),
      (store_sub, ":var8", ":var3", ":var4"),
      (try_begin),
        (ge, ":var8", 0),
        (val_add, ":var8", 1),
      (else_try),
        (val_add, ":var8", -1),
      (try_end),
      (try_begin),
        (eq, ":var1", 0),
        (lt, ":var8", "$g_multiplayer_auto_team_balance_limit"),
        (assign, ":var2", 1),
      (else_try),
        (eq, ":var1", 1),
        (store_mul, ":var9", "$g_multiplayer_auto_team_balance_limit", -1),
        (gt, ":var8", ":var9"),
        (assign, ":var2", 1),
      (try_end),
    (try_end),
    (eq, ":var2", 1),
  ]),

  ("find_number_of_agents_constant",
  [
    (assign, ":var0", 0),
    (try_for_agents, ":var1"),
      (agent_is_human, ":var1"),
      (val_add, ":var0", 1),
    (try_end),
    (try_begin),
      (le, ":var0", 2),
      (assign, reg0, 100),
    (else_try),
      (le, ":var0", 4),
      (assign, reg0, 140),
    (else_try),
      (le, ":var0", 7),
      (assign, reg0, 180),
    (else_try),
      (le, ":var0", 11),
      (assign, reg0, 220),
    (else_try),
      (le, ":var0", 17),
      (assign, reg0, 260),
    (else_try),
      (le, ":var0", 25),
      (assign, reg0, 300),
    (else_try),
      (le, ":var0", 36),
      (assign, reg0, 340),
    (else_try),
      (le, ":var0", 50),
      (assign, reg0, 380),
    (else_try),
      (le, ":var0", 68),
      (assign, reg0, 420),
    (else_try),
      (le, ":var0", 91),
      (assign, reg0, 460),
    (else_try),
      (assign, reg0, 500),
    (try_end),
  ]),

  ("game_multiplayer_event_duel_offered",
  [
    (store_script_param, ":var0", 1),
    (get_player_agent_no, ":var1"),
    (try_begin),
      (agent_is_active, ":var1"),
      (this_or_next|agent_slot_eq, ":var1", 21, -1),
      (agent_check_offer_from_agent, ":var1", ":var0"),
      (neg|agent_slot_eq, ":var1", 21, ":var0"),
      (multiplayer_send_int_to_server, 46, ":var0"),
      (agent_get_player_id, ":var2", ":var0"),
      (try_begin),
        (player_is_active, ":var2"),
        (str_store_player_username, s0, ":var2"),
      (else_try),
        (str_store_agent_name, s0, ":var0"),
      (try_end),
      (display_message, "str_a_duel_request_is_sent_to_s0"),
    (try_end),
  ]),

  ("game_get_multiplayer_game_type_enum",
  [
    (assign, reg0, 0),
    (assign, reg1, 8),
  ]),

  ("game_multiplayer_get_game_type_mission_template",
  [
    (assign, ":var0", -1),
    (store_script_param, ":var1", 1),
    (try_begin),
      (eq, ":var1", 0),
      (assign, ":var0", "mt_multiplayer_dm"),
    (else_try),
      (eq, ":var1", 1),
      (assign, ":var0", "mt_multiplayer_tdm"),
    (else_try),
      (eq, ":var1", 2),
      (assign, ":var0", "mt_multiplayer_bt"),
    (else_try),
      (eq, ":var1", 3),
      (assign, ":var0", "mt_multiplayer_fd"),
    (else_try),
      (eq, ":var1", 4),
      (assign, ":var0", "mt_multiplayer_cf"),
    (else_try),
      (eq, ":var1", 5),
      (assign, ":var0", "mt_multiplayer_hq"),
    (else_try),
      (eq, ":var1", 6),
      (assign, ":var0", "mt_multiplayer_sg"),
    (else_try),
      (eq, ":var1", 7),
      (assign, ":var0", "mt_multiplayer_duel"),
    (try_end),
    (assign, reg0, ":var0"),
  ]),

  ("multiplayer_get_mission_template_game_type",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (try_begin),
      (eq, ":var0", "mt_multiplayer_dm"),
      (assign, ":var1", 0),
    (else_try),
      (eq, ":var0", "mt_multiplayer_tdm"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var0", "mt_multiplayer_bt"),
      (assign, ":var1", 2),
    (else_try),
      (eq, ":var0", "mt_multiplayer_fd"),
      (assign, ":var1", 3),
    (else_try),
      (eq, ":var0", "mt_multiplayer_cf"),
      (assign, ":var1", 4),
    (else_try),
      (eq, ":var0", "mt_multiplayer_hq"),
      (assign, ":var1", 5),
    (else_try),
      (eq, ":var0", "mt_multiplayer_sg"),
      (assign, ":var1", 6),
    (else_try),
      (eq, ":var0", "mt_multiplayer_duel"),
      (assign, ":var1", 7),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("multiplayer_fill_available_factions_combo_button",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_for_range, ":var2", "fac_kingdom_1", "fac_kingdoms_end"),
      (str_store_faction_name, s0, ":var2"),
      (overlay_add_item, ":var0", s0),
    (try_end),
    (val_sub, ":var1", "fac_kingdom_1"),
    (overlay_set_val, ":var0", ":var1"),
  ]),

  ("multiplayer_get_troop_class",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_begin),
      (this_or_next|eq, ":var0", "trp_vaegir_archer_multiplayer"),
      (this_or_next|eq, ":var0", "trp_nord_archer_multiplayer"),
      (eq, ":var0", "trp_sarranid_archer_multiplayer"),
      (assign, ":var1", 4),
    (else_try),
      (this_or_next|eq, ":var0", "trp_swadian_man_at_arms_multiplayer"),
      (this_or_next|eq, ":var0", "trp_nord_scout_multiplayer"),
      (this_or_next|eq, ":var0", "trp_rhodok_horseman_multiplayer"),
      (this_or_next|eq, ":var0", "trp_sarranid_mamluke_multiplayer"),
      (eq, ":var0", "trp_vaegir_horseman_multiplayer"),
      (assign, ":var1", 3),
    (else_try),
      (eq, ":var0", "trp_khergit_veteran_horse_archer_multiplayer"),
      (assign, ":var1", 6),
    (else_try),
      (this_or_next|eq, ":var0", "trp_swadian_crossbowman_multiplayer"),
      (eq, ":var0", "trp_rhodok_veteran_crossbowman_multiplayer"),
      (assign, ":var1", 5),
    (else_try),
      (this_or_next|eq, ":var0", "trp_swadian_infantry_multiplayer"),
      (this_or_next|eq, ":var0", "trp_sarranid_footman_multiplayer"),
      (eq, ":var0", "trp_nord_veteran_multiplayer"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var0", "trp_vaegir_spearman_multiplayer"),
      (assign, ":var1", 2),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("multiplayer_clear_player_selected_items",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", 2, 11),
      (player_set_slot, ":var0", ":var1", -1),
    (try_end),
  ]),

  ("multiplayer_init_player_slots",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_multiplayer_clear_player_selected_items", ":var0"),
    (player_set_slot, ":var0", 0, 0),
    (player_set_slot, ":var0", 1, 0),
    (player_set_slot, ":var0", 26, 0),
    (player_set_slot, ":var0", 35, 0),
    (player_set_slot, ":var0", 36, 0),
    (player_set_slot, ":var0", 37, 0),
    (player_set_slot, ":var0", 38, 0),
  ]),

  ("multiplayer_initialize_belfry_wheel_rotations",
  [
    (scene_prop_get_num_instances, ":var0", "spr_belfry_wheel"),
    (try_for_range, ":var1", 0, ":var0"),
      (scene_prop_get_instance, ":var2", "spr_belfry_wheel", ":var1"),
      (prop_instance_initialize_rotation_angles, ":var2"),
    (try_end),
    (scene_prop_get_num_instances, ":var3", "spr_winch"),
    (try_for_range, ":var4", 0, ":var3"),
      (scene_prop_get_instance, ":var5", "spr_winch", ":var4"),
      (prop_instance_initialize_rotation_angles, ":var5"),
    (try_end),
    (scene_prop_get_num_instances, ":var6", "spr_winch_b"),
    (try_for_range, ":var7", 0, ":var6"),
      (scene_prop_get_instance, ":var8", "spr_winch_b", ":var7"),
      (prop_instance_initialize_rotation_angles, ":var8"),
    (try_end),
  ]),

  ("send_open_close_information_of_object",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (scene_prop_get_num_instances, ":var2", ":var1"),
    (try_for_range, ":var3", 0, ":var2"),
      (scene_prop_get_instance, ":var4", ":var1", ":var3"),
      (scene_prop_get_slot, ":var5", ":var4", 1),
      (try_begin),
        (eq, ":var5", 1),
        (multiplayer_send_int_to_player, ":var0", 77, ":var4"),
      (try_end),
    (try_end),
  ]),

  ("multiplayer_send_initial_information",
  [
    (store_script_param, ":var0", 1),
    (multiplayer_send_2_int_to_player, ":var0", 51, 1, "$g_multiplayer_num_bots_team_1"),
    (multiplayer_send_2_int_to_player, ":var0", 51, 2, "$g_multiplayer_num_bots_team_2"),
    (multiplayer_send_int_to_player, ":var0", 93, "$g_multiplayer_auto_team_balance_limit"),
    (multiplayer_send_int_to_player, ":var0", 81, "$g_multiplayer_num_bots_voteable"),
    (multiplayer_send_int_to_player, ":var0", 82, "$g_multiplayer_factions_voteable"),
    (multiplayer_send_int_to_player, ":var0", 83, "$g_multiplayer_maps_voteable"),
    (multiplayer_send_int_to_player, ":var0", 90, "$g_multiplayer_kick_voteable"),
    (multiplayer_send_int_to_player, ":var0", 91, "$g_multiplayer_ban_voteable"),
    (multiplayer_send_int_to_player, ":var0", 102, "$g_multiplayer_allow_player_banners"),
    (multiplayer_send_int_to_player, ":var0", 103, "$g_multiplayer_force_default_armor"),
    (multiplayer_send_int_to_player, ":var0", 112, "$g_multiplayer_disallow_ranged_weapons"),
    (multiplayer_send_int_to_player, ":var0", 57, "$g_multiplayer_respawn_period"),
    (multiplayer_send_int_to_player, ":var0", 59, "$g_multiplayer_round_max_seconds"),
    (multiplayer_send_int_to_player, ":var0", 65, "$g_multiplayer_game_type"),
    (multiplayer_send_int_to_player, ":var0", 85, "$g_multiplayer_player_respawn_as_bot"),
    (store_mission_timer_a, ":var1"),
    (multiplayer_send_int_to_player, ":var0", 107, ":var1"),
    (try_begin),
      (eq, "$g_multiplayer_game_type", 6),
      (multiplayer_send_int_to_player, ":var0", 88, "$g_multiplayer_number_of_respawn_count"),
    (try_end),
    (try_for_agents, ":var2"),
      (agent_is_human, ":var2"),
      (agent_get_attached_scene_prop, ":var3", ":var2"),
      (ge, ":var3", 0),
      (multiplayer_send_2_int_to_player, ":var0", 70, ":var2", ":var3"),
    (try_end),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_siege_ladder_move_6m"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_siege_ladder_move_8m"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_siege_ladder_move_10m"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_siege_ladder_move_12m"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_siege_ladder_move_14m"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_winch_b"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_castle_e_sally_door_a"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_castle_f_sally_door_a"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_earth_sally_gate_left"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_earth_sally_gate_right"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_viking_keep_destroy_sally_door_left"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_viking_keep_destroy_sally_door_right"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_castle_f_door_a"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_door_destructible"),
    (call_script, "script_send_open_close_information_of_object", ":var0", "spr_castle_f_door_b"),
    (try_begin),
      (this_or_next|eq, "$g_multiplayer_game_type", 2),
      (this_or_next|eq, "$g_multiplayer_game_type", 3),
      (eq, "$g_multiplayer_game_type", 6),
      (store_mission_timer_a, ":var4"),
      (val_sub, ":var4", "$g_round_start_time"),
      (val_mul, ":var4", -1),
      (multiplayer_send_int_to_player, ":var0", 78, ":var4"),
    (else_try),
      (eq, "$g_multiplayer_game_type", 4),
      (team_get_slot, ":var5", 0, 0),
      (multiplayer_send_2_int_to_player, ":var0", 71, 0, ":var5"),
      (team_get_slot, ":var6", 1, 0),
      (multiplayer_send_2_int_to_player, ":var0", 71, 1, ":var6"),
    (else_try),
      (this_or_next|eq, "$g_multiplayer_game_type", 5),
      (eq, "$g_multiplayer_game_type", 6),
      (try_for_range, ":var7", 0, "$g_number_of_flags"),
        (assign, ":var8", 0),
        (assign, ":var9", 0),
        (scene_prop_get_instance, ":var10", "spr_headquarters_pole_code_only", ":var7"),
        (prop_instance_get_position, pos0, ":var10"),
        (try_for_agents, ":var2"),
          (agent_is_human, ":var2"),
          (agent_is_alive, ":var2"),
          (neg|agent_is_non_player, ":var2"),
          (agent_get_team, ":var11", ":var2"),
          (agent_get_position, pos1, ":var2"),
          (get_sq_distance_between_positions, ":var12", pos0, pos1),
          (get_sq_distance_between_position_heights, ":var13", pos0, pos1),
          (val_add, ":var12", ":var13"),
          (lt, ":var12", 1600),
          (try_begin),
            (eq, ":var11", 0),
            (val_add, ":var8", 1),
          (else_try),
            (eq, ":var11", 1),
            (val_add, ":var9", 1),
          (try_end),
        (try_end),
        (store_mul, ":var14", ":var8", 100),
        (val_add, ":var14", ":var9"),
        (multiplayer_send_2_int_to_player, ":var0", 73, ":var7", ":var14"),
      (try_end),
      (assign, "$g_placing_initial_flags", 1),
      (try_for_range, ":var15", 0, "$g_number_of_flags"),
        (store_add, ":var16", 146, ":var15"),
        (troop_get_slot, ":var17", "trp_multiplayer_data", ":var16"),
        (store_mul, ":var18", ":var17", 100),
        (val_add, ":var18", ":var17"),
        (val_add, ":var18", 1),
        (val_mul, ":var18", -1),
        (multiplayer_send_2_int_to_player, ":var0", 75, ":var15", ":var18"),
      (try_end),
      (assign, "$g_placing_initial_flags", 0),
    (try_end),
  ]),

  ("multiplayer_remove_headquarters_flags",
  [
    (store_add, ":var0", "spr_headquarters_flag_gray", 1),
    (try_for_range, ":var1", "spr_headquarters_flag_red", ":var0"),
      (replace_scene_props, ":var1", "spr_empty"),
    (try_end),
  ]),

  ("multiplayer_remove_destroy_mod_targets",
  [
    (replace_scene_props, "spr_catapult_destructible", "spr_empty"),
    (replace_scene_props, "spr_trebuchet_destructible", "spr_empty"),
  ]),

  ("multiplayer_init_mission_variables",
  [
    (assign, "$g_multiplayer_team_1_first_spawn", 1),
    (assign, "$g_multiplayer_team_2_first_spawn", 1),
    (assign, "$g_multiplayer_poll_running", 0),
    (assign, "$g_waiting_for_confirmation_to_terminate", 0),
    (assign, "$g_confirmation_result", 0),
    (assign, "$g_team_balance_next_round", 0),
    (team_get_faction, "$g_multiplayer_team_1_faction", 0),
    (team_get_faction, "$g_multiplayer_team_2_faction", 1),
    (assign, "$g_multiplayer_next_team_1_faction", "$g_multiplayer_team_1_faction"),
    (assign, "$g_multiplayer_next_team_2_faction", "$g_multiplayer_team_2_faction"),
    (assign, "$g_multiplayer_bot_type_1_wanted", 0),
    (assign, "$g_multiplayer_bot_type_2_wanted", 0),
    (assign, "$g_multiplayer_bot_type_3_wanted", 0),
    (assign, "$g_multiplayer_bot_type_4_wanted", 0),
    (call_script, "script_music_set_situation_with_culture", 2048),
  ]),

  ("multiplayer_event_mission_end",
  [
    (try_begin),
      (multiplayer_get_my_player, ":var0"),
      (is_between, ":var0", 0, 1000),
      (player_get_kill_count, ":var1", ":var0"),
      (player_get_death_count, ":var2", ":var0"),
      (gt, ":var1", ":var2"),
      (unlock_achievement, 63),
    (try_end),
  ]),

  ("multiplayer_event_agent_killed_or_wounded",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (multiplayer_get_my_player, ":var2"),
    (try_begin),
      (is_between, ":var2", 0, 1000),
      (player_get_agent_id, ":var3", ":var2"),
      (ge, ":var3", 0),
      (try_begin),
        (eq, ":var3", ":var0"),
        (store_mission_timer_a, "$g_multiplayer_respawn_start_time"),
      (try_end),
      (try_begin),
        (eq, ":var3", ":var1"),
        (neq, ":var3", ":var0"),
        (agent_is_human, ":var0"),
        (agent_is_alive, ":var3"),
        (neg|agent_is_ally, ":var0"),
        (agent_get_horse, ":var4", ":var3"),
        (agent_get_wielded_item, ":var5", ":var3", 0),
        (assign, ":var6", -1),
        (try_begin),
          (ge, ":var5", 0),
          (item_get_slot, ":var6", ":var5", 60),
        (try_end),
        (try_begin),
          (lt, ":var4", 0),
          (agent_get_horse, ":var7", ":var0"),
          (ge, ":var7", 0),
          (get_achievement_stat, ":var8", 57, 0),
          (lt, ":var8", 50),
          (val_add, ":var8", 1),
          (set_achievement_stat, 57, 0, ":var8"),
          (ge, ":var8", 50),
          (unlock_achievement, 57),
        (try_end),
        (try_begin),
          (ge, ":var4", 0),
          (this_or_next|eq, ":var6", 12),
          (this_or_next|eq, ":var6", 13),
          (this_or_next|eq, ":var6", 16),
          (eq, ":var6", 17),
          (get_achievement_stat, ":var8", 58, 0),
          (lt, ":var8", 100),
          (val_add, ":var8", 1),
          (set_achievement_stat, 58, 0, ":var8"),
          (ge, ":var8", 100),
          (unlock_achievement, 58),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var6", 16),
          (eq, ":var6", 17),
          (get_achievement_stat, ":var8", 59, 0),
          (lt, ":var8", 25),
          (val_add, ":var8", 1),
          (set_achievement_stat, 59, 0, ":var8"),
          (ge, ":var8", 25),
          (unlock_achievement, 59),
        (try_end),
        (try_begin),
          (ge, ":var4", 0),
          (eq, ":var6", 9),
          (get_achievement_stat, ":var8", 60, 0),
          (lt, ":var8", 25),
          (val_add, ":var8", 1),
          (set_achievement_stat, 60, 0, ":var8"),
          (ge, ":var8", 25),
          (unlock_achievement, 60),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var6", 1),
          (this_or_next|eq, ":var6", 2),
          (this_or_next|eq, ":var6", 5),
          (this_or_next|eq, ":var6", 6),
          (this_or_next|eq, ":var6", 7),
          (this_or_next|eq, ":var5", "itm_sarranid_axe_a"),
          (eq, ":var5", "itm_sarranid_axe_b"),
          (get_achievement_stat, ":var8", 64, 0),
          (lt, ":var8", 50),
          (val_add, ":var8", 1),
          (set_achievement_stat, 64, 0, ":var8"),
          (ge, ":var8", 50),
          (unlock_achievement, 64),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var6", 3),
          (neq, ":var5", "itm_sarranid_axe_b"),
          (neq, ":var5", "itm_sarranid_axe_a"),
          (get_achievement_stat, ":var8", 65, 0),
          (lt, ":var8", 25),
          (val_add, ":var8", 1),
          (set_achievement_stat, 65, 0, ":var8"),
          (ge, ":var8", 25),
          (unlock_achievement, 65),
        (try_end),
        (try_begin),
          (eq, ":var6", 17),
          (get_achievement_stat, ":var8", 66, 0),
          (lt, ":var8", 50),
          (val_add, ":var8", 1),
          (set_achievement_stat, 66, 0, ":var8"),
          (ge, ":var8", 50),
          (unlock_achievement, 66),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (is_between, ":var2", 0, 1000),
      (player_get_agent_id, ":var9", ":var2"),
      (eq, ":var0", ":var9"),
      (assign, ":var10", 0),
      (try_begin),
        (neq, "$g_multiplayer_game_type", 2),
        (neq, "$g_multiplayer_game_type", 3),
        (assign, ":var10", 1),
      (else_try),
        (eq, "$g_multiplayer_player_respawn_as_bot", 1),
        (player_get_team_no, ":var11", ":var2"),
        (assign, ":var12", 0),
        (try_for_agents, ":var13"),
          (eq, ":var12", 0),
          (agent_is_alive, ":var13"),
          (agent_is_human, ":var13"),
          (agent_is_non_player, ":var13"),
          (agent_get_team, ":var14", ":var13"),
          (eq, ":var14", ":var11"),
          (assign, ":var12", 1),
        (try_end),
        (eq, ":var12", 1),
        (assign, ":var10", 1),
      (try_end),
      (try_begin),
        (eq, "$g_multiplayer_game_type", 6),
        (gt, "$g_multiplayer_number_of_respawn_count", 0),
        (ge, "$g_my_spawn_count", "$g_multiplayer_number_of_respawn_count"),
        (multiplayer_get_my_player, ":var2"),
        (player_get_team_no, ":var11", ":var2"),
        (this_or_next|eq, ":var11", 0),
        (ge, "$g_my_spawn_count", 999),
        (assign, "$g_show_no_more_respawns_remained", 1),
      (else_try),
        (assign, "$g_show_no_more_respawns_remained", 0),
      (try_end),
      (eq, ":var10", 1),
      (start_presentation, "prsnt_multiplayer_respawn_time_counter"),
    (try_end),
  ]),

  ("multiplayer_get_item_value_for_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (call_script, "script_cf_multiplayer_is_item_default_for_troop", ":var0", ":var1"),
      (assign, ":var2", 0),
    (else_try),
      (store_item_value, ":var2", ":var0"),
      (store_faction_of_troop, ":var3", ":var1"),
      (store_sub, ":var4", ":var3", "fac_kingdom_1"),
      (val_add, ":var4", 30),
      (item_get_slot, ":var5", ":var0", ":var4"),
      (val_mul, ":var2", ":var5"),
      (val_div, ":var2", 100),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("multiplayer_get_previous_item_for_item_and_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (item_get_slot, ":var2", ":var0", 60),
    (call_script, "script_multiplayer_get_item_value_for_troop", ":var0", ":var1"),
    (assign, ":var3", reg0),
    (store_sub, ":var4", ":var1", "trp_swadian_crossbowman_multiplayer"),
    (val_add, ":var4", 61),
    (assign, ":var5", -1),
    (assign, ":var6", -1),
    (try_for_range, ":var7", 0, "itm_items_end"),
      (item_slot_eq, ":var7", 60, ":var2"),
      (item_slot_ge, ":var7", ":var4", 1),
      (call_script, "script_multiplayer_get_item_value_for_troop", ":var7", ":var1"),
      (assign, ":var8", reg0),
      (try_begin),
        (eq, ":var8", 0),
        (eq, ":var6", 0),
        (store_item_value, ":var9", ":var7"),
        (store_item_value, ":var10", ":var5"),
        (try_begin),
          (gt, ":var9", ":var10"),
          (assign, ":var6", ":var8"),
          (assign, ":var5", ":var7"),
        (try_end),
      (else_try),
        (gt, ":var8", ":var6"),
        (lt, ":var8", ":var3"),
        (assign, ":var6", ":var8"),
        (assign, ":var5", ":var7"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var5", -1),
      (assign, ":var11", -1),
      (try_begin),
        (is_between, ":var2", 1, 10),
        (assign, ":var11", 0),
      (else_try),
        (is_between, ":var2", 10, 12),
        (assign, ":var11", 1),
      (else_try),
        (eq, ":var2", 12),
        (assign, ":var11", 2),
      (else_try),
        (eq, ":var2", 13),
        (assign, ":var11", 3),
      (else_try),
        (eq, ":var2", 14),
        (assign, ":var11", 4),
      (else_try),
        (eq, ":var2", 15),
        (assign, ":var11", 5),
      (else_try),
        (eq, ":var2", 16),
        (assign, ":var11", 6),
      (else_try),
        (is_between, ":var2", 22, 24),
        (assign, ":var11", 7),
      (else_try),
        (is_between, ":var2", 19, 22),
        (assign, ":var11", 8),
      (else_try),
        (is_between, ":var2", 24, 26),
        (assign, ":var11", 9),
      (else_try),
        (is_between, ":var2", 26, 27),
        (assign, ":var11", 10),
      (else_try),
        (is_between, ":var2", 18, 19),
        (assign, ":var11", 11),
      (try_end),
      (neq, ":var11", 0),
      (assign, ":var12", "itm_items_end"),
      (try_for_range, ":var7", 0, ":var12"),
        (item_slot_ge, ":var7", ":var4", 1),
        (item_get_slot, ":var13", ":var7", 60),
        (try_begin),
          (is_between, ":var13", 1, 10),
          (assign, ":var14", 0),
        (else_try),
          (is_between, ":var13", 10, 12),
          (assign, ":var14", 1),
        (else_try),
          (eq, ":var13", 12),
          (assign, ":var14", 2),
        (else_try),
          (eq, ":var13", 13),
          (assign, ":var14", 3),
        (else_try),
          (eq, ":var13", 14),
          (assign, ":var14", 4),
        (else_try),
          (eq, ":var13", 15),
          (assign, ":var14", 5),
        (else_try),
          (eq, ":var13", 16),
          (assign, ":var14", 6),
        (else_try),
          (is_between, ":var13", 22, 24),
          (assign, ":var14", 7),
        (else_try),
          (is_between, ":var13", 19, 22),
          (assign, ":var14", 8),
        (else_try),
          (is_between, ":var13", 24, 26),
          (assign, ":var14", 9),
        (else_try),
          (is_between, ":var13", 26, 27),
          (assign, ":var14", 10),
        (else_try),
          (is_between, ":var13", 18, 19),
          (assign, ":var14", 11),
        (try_end),
        (eq, ":var14", ":var11"),
        (call_script, "script_cf_multiplayer_is_item_default_for_troop", ":var7", ":var1"),
        (assign, ":var5", ":var7"),
        (assign, ":var12", 0),
      (try_end),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("cf_multiplayer_is_item_default_for_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_begin),
      (neg|is_between, ":var0", "itm_sumpter_horse", "itm_arrows"),
      (neq, ":var0", "itm_warhorse_sarranid"),
      (neq, ":var0", "itm_warhorse_steppe"),
      (troop_get_inventory_capacity, ":var3", ":var1"),
      (try_for_range, ":var4", 0, ":var3"),
        (troop_get_inventory_slot, ":var5", ":var1", ":var4"),
        (eq, ":var0", ":var5"),
        (assign, ":var2", 1),
        (assign, ":var3", 0),
      (try_end),
    (try_end),
    (eq, ":var2", 1),
  ]),

  ("multiplayer_calculate_cur_selected_items_cost",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (player_get_troop_id, ":var3", ":var0"),
    (try_begin),
      (eq, ":var1", 0),
      (assign, ":var4", 11),
      (assign, ":var5", 20),
    (else_try),
      (assign, ":var4", 2),
      (assign, ":var5", 11),
    (try_end),
    (try_for_range, ":var6", ":var4", ":var5"),
      (player_get_slot, ":var7", ":var0", ":var6"),
      (ge, ":var7", 0),
      (call_script, "script_multiplayer_get_item_value_for_troop", ":var7", ":var3"),
      (val_add, ":var2", reg0),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("multiplayer_set_item_available_for_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_sub, ":var2", ":var1", "trp_swadian_crossbowman_multiplayer"),
    (val_add, ":var2", 61),
    (item_set_slot, ":var0", ":var2", 1),
  ]),

  ("multiplayer_send_item_selections",
  [
    (multiplayer_get_my_player, ":var0"),
    (try_for_range, ":var1", 2, 11),
      (player_get_slot, ":var2", ":var0", ":var1"),
      (multiplayer_send_2_int_to_server, 0, ":var1", ":var2"),
    (try_end),
  ]),

  ("multiplayer_set_default_item_selections_for_troop",
  [
    (store_script_param, ":var0", 1),
    (multiplayer_get_my_player, ":var1"),
    (call_script, "script_multiplayer_clear_player_selected_items", ":var1"),
    (assign, ":var2", 0),
    (troop_get_inventory_capacity, ":var3", ":var0"),
    (try_for_range, ":var4", 0, ":var3"),
      (troop_get_inventory_slot, ":var5", ":var0", ":var4"),
      (ge, ":var5", 0),
      (item_get_slot, ":var6", ":var5", 60),
      (try_begin),
        (is_between, ":var6", 1, 18),
        (this_or_next|eq, "$g_multiplayer_disallow_ranged_weapons", 0),
        (neg|is_between, ":var6", 12, 18),
        (store_add, ":var7", 2, ":var2"),
        (player_set_slot, ":var1", ":var7", ":var5"),
        (val_add, ":var2", 1),
      (else_try),
        (is_between, ":var6", 22, 24),
        (store_add, ":var7", 2, 4),
        (player_set_slot, ":var1", ":var7", ":var5"),
      (else_try),
        (is_between, ":var6", 19, 22),
        (store_add, ":var7", 2, 5),
        (player_set_slot, ":var1", ":var7", ":var5"),
      (else_try),
        (is_between, ":var6", 24, 26),
        (store_add, ":var7", 2, 6),
        (player_set_slot, ":var1", ":var7", ":var5"),
      (else_try),
        (is_between, ":var6", 26, 27),
        (store_add, ":var7", 2, 7),
        (player_set_slot, ":var1", ":var7", ":var5"),
      (else_try),
        (is_between, ":var6", 18, 19),
        (eq, "$g_horses_are_avaliable", 1),
        (store_add, ":var7", 2, 8),
        (player_set_slot, ":var1", ":var7", ":var5"),
      (try_end),
    (try_end),
  ]),

  ("multiplayer_display_available_items_for_troop_and_item_classes",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (assign, ":var5", 100),
    (try_begin),
      (gt, ":var3", 500),
      (assign, ":var5", -100),
    (try_end),
    (store_sub, ":var6", ":var0", "trp_swadian_crossbowman_multiplayer"),
    (val_add, ":var6", 61),
    (try_for_range, ":var7", 46, 146),
      (troop_set_slot, "trp_multiplayer_data", ":var7", -1),
    (try_end),
    (assign, ":var8", 0),
    (try_for_range, ":var9", 0, "itm_items_end"),
      (item_get_slot, ":var10", ":var9", 60),
      (is_between, ":var10", ":var1", ":var2"),
      (this_or_next|eq, "$g_multiplayer_disallow_ranged_weapons", 0),
      (neg|is_between, ":var10", 12, 18),
      (item_slot_ge, ":var9", ":var6", 1),
      (store_add, ":var11", ":var8", 46),
      (troop_set_slot, "trp_multiplayer_data", ":var11", ":var9"),
      (val_add, ":var8", 1),
    (try_end),
    (store_add, ":var12", ":var8", 46),
    (store_sub, ":var13", ":var12", 1),
    (try_for_range, ":var7", 46, ":var13"),
      (store_add, ":var14", ":var7", 1),
      (try_for_range, ":var15", ":var14", ":var12"),
        (troop_get_slot, ":var16", "trp_multiplayer_data", ":var7"),
        (troop_get_slot, ":var17", "trp_multiplayer_data", ":var15"),
        (call_script, "script_multiplayer_get_item_value_for_troop", ":var16", ":var0"),
        (assign, ":var18", reg0),
        (call_script, "script_multiplayer_get_item_value_for_troop", ":var17", ":var0"),
        (assign, ":var19", reg0),
        (item_get_slot, ":var20", ":var16", 60),
        (item_get_slot, ":var21", ":var17", 60),
        (val_mul, ":var20", 1000000),
        (val_mul, ":var21", 1000000),
        (val_add, ":var18", ":var20"),
        (val_add, ":var19", ":var21"),
        (lt, ":var19", ":var18"),
        (troop_set_slot, "trp_multiplayer_data", ":var7", ":var17"),
        (troop_set_slot, "trp_multiplayer_data", ":var15", ":var16"),
      (try_end),
    (try_end),
    (troop_get_slot, ":var22", "trp_multiplayer_data", 46),
    (assign, ":var23", 0),
    (try_begin),
      (ge, ":var22", 0),
      (item_get_slot, ":var24", ":var22", 60),
      (try_for_range, ":var7", 46, ":var12"),
        (troop_get_slot, ":var9", "trp_multiplayer_data", ":var7"),
        (item_get_slot, ":var10", ":var9", 60),
        (neq, ":var10", ":var24"),
        (val_add, ":var23", 1),
        (assign, ":var24", ":var10"),
      (try_end),
      (try_begin),
        (store_mul, ":var25", ":var23", 100),
        (gt, ":var25", ":var4"),
        (store_sub, ":var26", ":var25", ":var4"),
        (val_div, ":var26", 100),
        (val_add, ":var26", 1),
        (val_mul, ":var26", 100),
        (val_add, ":var4", ":var26"),
      (try_end),
      (item_get_slot, ":var24", ":var22", 60),
    (try_end),
    (assign, ":var27", ":var3"),
    (assign, ":var28", ":var4"),
    (try_for_range, ":var7", 46, ":var12"),
      (troop_get_slot, ":var9", "trp_multiplayer_data", ":var7"),
      (item_get_slot, ":var10", ":var9", 60),
      (try_begin),
        (neq, ":var10", ":var24"),
        (val_sub, ":var28", 100),
        (assign, ":var27", ":var3"),
        (assign, ":var24", ":var10"),
      (try_end),
      (create_image_button_overlay, ":var29", "mesh_mp_inventory_choose", "mesh_mp_inventory_choose"),
      (position_set_x, pos1, 800),
      (position_set_y, pos1, 800),
      (overlay_set_size, ":var29", pos1),
      (position_set_x, pos1, ":var27"),
      (position_set_y, pos1, ":var28"),
      (overlay_set_position, ":var29", pos1),
      (create_mesh_overlay_with_item_id, reg0, ":var9"),
      (store_add, ":var30", ":var27", 50),
      (store_add, ":var31", ":var28", 50),
      (position_set_x, pos1, ":var30"),
      (position_set_y, pos1, ":var31"),
      (overlay_set_position, reg0, pos1),
      (val_add, ":var27", ":var5"),
    (try_end),
  ]),

  ("multiplayer_fill_map_game_types",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", 0, 30),
      (troop_set_slot, "trp_multiplayer_data", ":var1", -1),
    (try_end),
    (assign, ":var2", 0),
    (try_begin),
      (this_or_next|eq, ":var0", 0),
      (this_or_next|eq, ":var0", 7),
      (eq, ":var0", 1),
      (troop_set_slot, "trp_multiplayer_data", 0, "scn_multi_scene_1"),
      (troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
      (troop_set_slot, "trp_multiplayer_data", 2, "scn_multi_scene_4"),
      (troop_set_slot, "trp_multiplayer_data", 3, "scn_multi_scene_7"),
      (troop_set_slot, "trp_multiplayer_data", 4, "scn_multi_scene_9"),
      (troop_set_slot, "trp_multiplayer_data", 5, "scn_multi_scene_11"),
      (troop_set_slot, "trp_multiplayer_data", 6, "scn_multi_scene_12"),
      (troop_set_slot, "trp_multiplayer_data", 7, "scn_multi_scene_14"),
      (troop_set_slot, "trp_multiplayer_data", 8, "scn_multi_scene_17"),
      (troop_set_slot, "trp_multiplayer_data", 9, "scn_multi_scene_18"),
      (troop_set_slot, "trp_multiplayer_data", 10, "scn_random_multi_plain_medium"),
      (troop_set_slot, "trp_multiplayer_data", 11, "scn_random_multi_plain_large"),
      (troop_set_slot, "trp_multiplayer_data", 12, "scn_random_multi_steppe_medium"),
      (troop_set_slot, "trp_multiplayer_data", 13, "scn_random_multi_steppe_large"),
      (assign, ":var2", 14),
    (else_try),
      (eq, ":var0", 2),
      (troop_set_slot, "trp_multiplayer_data", 0, "scn_multi_scene_1"),
      (troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
      (troop_set_slot, "trp_multiplayer_data", 2, "scn_multi_scene_4"),
      (troop_set_slot, "trp_multiplayer_data", 3, "scn_multi_scene_7"),
      (troop_set_slot, "trp_multiplayer_data", 4, "scn_multi_scene_9"),
      (troop_set_slot, "trp_multiplayer_data", 5, "scn_multi_scene_11"),
      (troop_set_slot, "trp_multiplayer_data", 6, "scn_multi_scene_12"),
      (troop_set_slot, "trp_multiplayer_data", 7, "scn_multi_scene_14"),
      (troop_set_slot, "trp_multiplayer_data", 8, "scn_multi_scene_17"),
      (troop_set_slot, "trp_multiplayer_data", 9, "scn_multi_scene_18"),
      (troop_set_slot, "trp_multiplayer_data", 10, "scn_random_multi_plain_medium"),
      (troop_set_slot, "trp_multiplayer_data", 11, "scn_random_multi_plain_large"),
      (troop_set_slot, "trp_multiplayer_data", 12, "scn_random_multi_steppe_medium"),
      (troop_set_slot, "trp_multiplayer_data", 13, "scn_random_multi_steppe_large"),
      (assign, ":var2", 14),
    (else_try),
      (eq, ":var0", 3),
      (troop_set_slot, "trp_multiplayer_data", 0, "scn_multi_scene_1"),
      (troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
      (troop_set_slot, "trp_multiplayer_data", 2, "scn_multi_scene_4"),
      (troop_set_slot, "trp_multiplayer_data", 3, "scn_multi_scene_7"),
      (troop_set_slot, "trp_multiplayer_data", 4, "scn_multi_scene_9"),
      (troop_set_slot, "trp_multiplayer_data", 5, "scn_multi_scene_12"),
      (troop_set_slot, "trp_multiplayer_data", 6, "scn_multi_scene_14"),
      (assign, ":var2", 7),
    (else_try),
      (eq, ":var0", 4),
      (troop_set_slot, "trp_multiplayer_data", 0, "scn_multi_scene_1"),
      (troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
      (troop_set_slot, "trp_multiplayer_data", 2, "scn_multi_scene_4"),
      (troop_set_slot, "trp_multiplayer_data", 3, "scn_multi_scene_7"),
      (troop_set_slot, "trp_multiplayer_data", 4, "scn_multi_scene_9"),
      (troop_set_slot, "trp_multiplayer_data", 5, "scn_multi_scene_11"),
      (troop_set_slot, "trp_multiplayer_data", 6, "scn_multi_scene_12"),
      (troop_set_slot, "trp_multiplayer_data", 7, "scn_multi_scene_14"),
      (troop_set_slot, "trp_multiplayer_data", 8, "scn_multi_scene_17"),
      (troop_set_slot, "trp_multiplayer_data", 9, "scn_multi_scene_18"),
      (troop_set_slot, "trp_multiplayer_data", 10, "scn_random_multi_plain_medium"),
      (troop_set_slot, "trp_multiplayer_data", 11, "scn_random_multi_plain_large"),
      (troop_set_slot, "trp_multiplayer_data", 12, "scn_random_multi_steppe_medium"),
      (troop_set_slot, "trp_multiplayer_data", 13, "scn_random_multi_steppe_large"),
      (assign, ":var2", 14),
    (else_try),
      (eq, ":var0", 5),
      (troop_set_slot, "trp_multiplayer_data", 0, "scn_multi_scene_1"),
      (troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
      (troop_set_slot, "trp_multiplayer_data", 2, "scn_multi_scene_4"),
      (troop_set_slot, "trp_multiplayer_data", 3, "scn_multi_scene_7"),
      (troop_set_slot, "trp_multiplayer_data", 4, "scn_multi_scene_9"),
      (troop_set_slot, "trp_multiplayer_data", 5, "scn_multi_scene_11"),
      (troop_set_slot, "trp_multiplayer_data", 6, "scn_multi_scene_12"),
      (troop_set_slot, "trp_multiplayer_data", 7, "scn_multi_scene_14"),
      (troop_set_slot, "trp_multiplayer_data", 8, "scn_multi_scene_17"),
      (troop_set_slot, "trp_multiplayer_data", 9, "scn_multi_scene_18"),
      (assign, ":var2", 10),
    (else_try),
      (eq, ":var0", 6),
      (troop_set_slot, "trp_multiplayer_data", 0, "scn_multi_scene_3"),
      (troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_8"),
      (troop_set_slot, "trp_multiplayer_data", 2, "scn_multi_scene_10"),
      (troop_set_slot, "trp_multiplayer_data", 3, "scn_multi_scene_13"),
      (troop_set_slot, "trp_multiplayer_data", 4, "scn_multi_scene_15"),
      (troop_set_slot, "trp_multiplayer_data", 5, "scn_multi_scene_16"),
      (assign, ":var2", 6),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("multiplayer_count_players_bots",
  [
    (get_max_players, ":var0"),
    (try_for_range, ":var1", 0, ":var0"),
      (player_is_active, ":var1"),
      (player_set_slot, ":var1", 34, 0),
    (try_end),
    (try_for_agents, ":var2"),
      (agent_is_human, ":var2"),
      (agent_is_alive, ":var2"),
      (agent_get_player_id, ":var3", ":var2"),
      (lt, ":var3", 0),
      (agent_get_group, ":var4", ":var2"),
      (player_is_active, ":var4"),
      (player_get_slot, ":var5", ":var4", 34),
      (val_add, ":var5", 1),
      (player_set_slot, ":var4", 34, ":var5"),
    (try_end),
  ]),

  ("multiplayer_find_player_leader_for_bot",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (team_get_faction, ":var2", ":var0"),
    (assign, ":var3", 0),
    (try_for_range, ":var4", "trp_swadian_crossbowman_multiplayer_ai", "trp_swadian_crossbowman_multiplayer"),
      (store_faction_of_troop, ":var5", ":var4"),
      (eq, ":var5", ":var2"),
      (val_add, ":var3", 1),
    (try_end),
    (call_script, "script_multiplayer_count_players_bots"),
    (assign, ":var6", 0),
    (get_max_players, ":var7"),
    (try_for_range, ":var8", 0, ":var7"),
      (assign, ":var9", 0),
      (player_is_active, ":var8"),
      (try_begin),
        (eq, ":var1", 0),
        (assign, ":var9", 1),
      (else_try),
        (neq, ":var1", 0),
        (player_get_agent_id, ":var10", ":var8"),
        (ge, ":var10", 0),
        (agent_is_alive, ":var10"),
        (assign, ":var9", 1),
      (try_end),
      (eq, ":var9", 1),
      (player_get_team_no, ":var11", ":var8"),
      (eq, ":var0", ":var11"),
      (val_add, ":var6", 1),
    (try_end),
    (assign, ":var12", -1),
    (try_begin),
      (gt, ":var6", 0),
      (assign, ":var13", "$g_multiplayer_num_bots_team_1"),
      (try_begin),
        (eq, ":var0", 1),
        (assign, ":var13", "$g_multiplayer_num_bots_team_2"),
      (try_end),
      (store_div, ":var14", ":var13", ":var6"),
      (store_mul, ":var15", ":var14", ":var6"),
      (try_begin),
        (lt, ":var15", ":var13"),
        (val_add, ":var14", 1),
      (try_end),
      (assign, ":var16", 0),
      (try_for_range, ":var8", 0, ":var7"),
        (player_is_active, ":var8"),
        (player_get_agent_id, ":var10", ":var8"),
        (ge, ":var10", 0),
        (agent_is_alive, ":var10"),
        (player_get_team_no, ":var11", ":var8"),
        (eq, ":var0", ":var11"),
        (assign, ":var17", 0),
        (store_add, ":var18", 35, ":var3"),
        (try_for_range, ":var19", 35, ":var18"),
          (player_slot_ge, ":var8", ":var19", 1),
          (assign, ":var17", 1),
          (assign, ":var18", 0),
        (try_end),
        (eq, ":var17", 1),
        (player_get_slot, ":var20", ":var8", 34),
        (lt, ":var20", ":var14"),
        (val_add, ":var16", ":var14"),
        (val_sub, ":var16", ":var20"),
      (try_end),
      (gt, ":var16", 0),
      (store_random_in_range, ":var21", 0, ":var16"),
      (try_for_range, ":var8", 0, ":var7"),
        (player_is_active, ":var8"),
        (player_get_agent_id, ":var10", ":var8"),
        (ge, ":var10", 0),
        (agent_is_alive, ":var10"),
        (player_get_team_no, ":var11", ":var8"),
        (eq, ":var0", ":var11"),
        (assign, ":var17", 0),
        (store_add, ":var18", 35, ":var3"),
        (try_for_range, ":var19", 35, ":var18"),
          (player_slot_ge, ":var8", ":var19", 1),
          (assign, ":var17", 1),
          (assign, ":var18", 0),
        (try_end),
        (eq, ":var17", 1),
        (player_get_slot, ":var20", ":var8", 34),
        (lt, ":var20", ":var14"),
        (val_sub, ":var21", ":var14"),
        (val_add, ":var21", ":var20"),
        (lt, ":var21", 0),
        (assign, ":var12", ":var8"),
        (assign, ":var7", 0),
      (try_end),
    (try_end),
    (assign, reg0, ":var12"),
  ]),

  ("multiplayer_find_bot_troop_and_group_for_spawn",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_multiplayer_find_player_leader_for_bot", ":var0", ":var1"),
    (assign, ":var2", reg0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (team_get_faction, ":var5", ":var0"),
    (try_for_range, ":var6", "trp_swadian_crossbowman_multiplayer_ai", "trp_swadian_crossbowman_multiplayer"),
      (store_faction_of_troop, ":var7", ":var6"),
      (eq, ":var7", ":var5"),
      (store_add, ":var8", 35, ":var3"),
      (val_add, ":var3", 1),
      (try_begin),
        (this_or_next|lt, ":var2", 0),
        (player_slot_ge, ":var2", ":var8", 1),
        (val_add, ":var4", 1),
      (try_end),
    (try_end),
    (assign, ":var3", 0),
    (store_random_in_range, ":var9", 0, ":var4"),
    (assign, ":var10", "trp_swadian_crossbowman_multiplayer"),
    (try_for_range, ":var6", "trp_swadian_crossbowman_multiplayer_ai", ":var10"),
      (store_faction_of_troop, ":var7", ":var6"),
      (eq, ":var7", ":var5"),
      (store_add, ":var8", 35, ":var3"),
      (val_add, ":var3", 1),
      (this_or_next|lt, ":var2", 0),
      (player_slot_ge, ":var2", ":var8", 1),
      (val_sub, ":var9", 1),
      (lt, ":var9", 0),
      (assign, ":var10", 0),
      (assign, ":var11", ":var6"),
    (try_end),
    (assign, reg0, ":var11"),
    (assign, reg1, ":var2"),
  ]),

  ("multiplayer_change_leader_of_bot",
  [
    (store_script_param, ":var0", 1),
    (agent_get_team, ":var1", ":var0"),
    (call_script, "script_multiplayer_find_player_leader_for_bot", ":var1", 1),
    (assign, ":var2", reg0),
    (agent_set_group, ":var0", ":var2"),
  ]),

  ("multiplayer_find_spawn_point",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (set_fixed_point_multiplier, 100),
    (assign, ":var3", 0),
    (try_begin),
      (eq, ":var1", 1),
      (val_or, ":var3", 4),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (val_or, ":var3", 2),
    (try_end),
    (try_begin),
      (eq, "$g_multiplayer_game_type", 0),
      (eq, "$g_multiplayer_game_type", 7),
      (val_or, ":var3", 1),
      (val_or, ":var3", 2048),
    (else_try),
      (eq, "$g_multiplayer_game_type", 1),
      (val_or, ":var3", 2048),
    (else_try),
      (eq, "$g_multiplayer_game_type", 6),
      (val_or, ":var3", 32),
      (val_or, ":var3", 512),
      (val_or, ":var3", 128),
      (val_or, ":var3", 4096),
    (else_try),
      (eq, "$g_multiplayer_game_type", 4),
      (val_or, ":var3", 16),
      (val_or, ":var3", 8),
      (val_or, ":var3", 2048),
    (else_try),
      (eq, "$g_multiplayer_game_type", 5),
      (assign, ":var4", 0),
      (store_sub, ":var5", 900, 50),
      (store_mul, ":var6", ":var5", ":var5"),
      (val_div, ":var6", 100),
      (try_for_range, ":var7", 0, "$g_number_of_flags"),
        (store_add, ":var8", 146, ":var7"),
        (troop_get_slot, ":var9", "trp_multiplayer_data", ":var8"),
        (scene_prop_get_instance, ":var10", "spr_headquarters_pole_code_only", ":var7"),
        (prop_instance_get_position, pos0, ":var10"),
        (try_begin),
          (eq, ":var9", 1),
          (scene_prop_get_instance, ":var11", "$team_1_flag_scene_prop", ":var7"),
          (prop_instance_get_position, pos1, ":var11"),
          (get_sq_distance_between_positions, ":var12", pos0, pos1),
          (ge, ":var12", ":var6"),
          (set_spawn_effector_scene_prop_id, ":var4", ":var11"),
          (val_add, ":var4", 1),
        (else_try),
          (eq, ":var9", 2),
          (scene_prop_get_instance, ":var13", "$team_2_flag_scene_prop", ":var7"),
          (prop_instance_get_position, pos1, ":var13"),
          (get_sq_distance_between_positions, ":var12", pos0, pos1),
          (ge, ":var12", ":var6"),
          (set_spawn_effector_scene_prop_id, ":var4", ":var13"),
          (val_add, ":var4", 1),
        (try_end),
      (try_end),
      (set_spawn_effector_scene_prop_id, ":var4", -1),
    (try_end),
    (multiplayer_find_spawn_point, reg0, ":var0", ":var3"),
  ]),

  ("multiplayer_find_spawn_point_2",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", -10000000),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (assign, ":var6", 0),
    (try_begin),
      (this_or_next|eq, "$g_multiplayer_game_type", 4),
      (this_or_next|eq, "$g_multiplayer_game_type", 5),
      (eq, "$g_multiplayer_game_type", 6),
      (try_for_agents, ":var7"),
        (agent_is_alive, ":var7"),
        (agent_is_human, ":var7"),
        (val_add, ":var6", 1),
      (try_end),
    (try_end),
    (assign, ":var8", ":var6"),
    (try_begin),
      (le, ":var8", 4),
      (assign, ":var9", 2),
    (else_try),
      (le, ":var8", 8),
      (assign, ":var9", 2),
    (else_try),
      (le, ":var8", 16),
      (assign, ":var9", 3),
    (else_try),
      (le, ":var8", 24),
      (assign, ":var9", 4),
    (else_try),
      (le, ":var8", 32),
      (assign, ":var9", 5),
    (else_try),
      (le, ":var8", 40),
      (assign, ":var9", 6),
    (else_try),
      (assign, ":var9", 7),
    (try_end),
    (val_div, ":var6", 3),
    (val_add, ":var6", 1),
    (store_mul, ":var10", ":var6", -1),
    (try_begin),
      (eq, ":var1", 1),
      (assign, ":var9", 1),
    (try_end),
    (try_begin),
      (eq, "$g_multiplayer_game_type", 5),
      (assign, ":var11", 0),
      (assign, ":var12", 0),
      (try_for_range, ":var13", 0, "$g_number_of_flags"),
        (store_add, ":var14", 146, ":var13"),
        (troop_get_slot, ":var15", "trp_multiplayer_data", ":var14"),
        (neq, ":var15", 0),
        (val_sub, ":var15", 1),
        (try_begin),
          (eq, ":var15", ":var0"),
          (val_add, ":var11", 1),
        (else_try),
          (val_add, ":var12", 1),
        (try_end),
      (try_end),
    (try_end),
    (assign, ":var16", 0),
    (try_begin),
      (this_or_next|eq, "$g_multiplayer_game_type", 1),
      (this_or_next|eq, "$g_multiplayer_game_type", 4),
      (eq, "$g_multiplayer_game_type", 5),
      (try_begin),
        (eq, ":var0", 0),
        (eq, "$g_multiplayer_team_1_first_spawn", 1),
        (assign, ":var16", 1),
        (assign, "$g_multiplayer_team_1_first_spawn", 0),
      (else_try),
        (eq, ":var0", 1),
        (eq, "$g_multiplayer_team_2_first_spawn", 1),
        (assign, ":var16", 1),
        (assign, "$g_multiplayer_team_2_first_spawn", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var16", 1),
      (store_mul, ":var4", ":var0", 32),
    (else_try),
      (try_for_range, ":var17", 0, 64),
        (assign, ":var18", 3000),
        (assign, ":var19", 3000),
        (assign, ":var20", 0),
        (store_random_in_range, ":var21", 0, ":var9"),
        (eq, ":var21", 0),
        (entry_point_get_position, pos0, ":var17"),
        (try_for_agents, ":var7"),
          (agent_is_alive, ":var7"),
          (agent_is_human, ":var7"),
          (agent_get_team, ":var22", ":var7"),
          (try_begin),
            (this_or_next|eq, "$g_multiplayer_game_type", 1),
            (this_or_next|eq, "$g_multiplayer_game_type", 4),
            (this_or_next|eq, "$g_multiplayer_game_type", 5),
            (eq, "$g_multiplayer_game_type", 6),
            (try_begin),
              (teams_are_enemies, ":var0", ":var22"),
              (assign, ":var23", -2),
            (else_try),
              (assign, ":var23", 1),
            (try_end),
          (else_try),
            (this_or_next|eq, "$g_multiplayer_game_type", 0),
            (eq, "$g_multiplayer_game_type", 7),
            (assign, ":var23", -1),
          (try_end),
          (agent_get_position, pos1, ":var7"),
          (get_distance_between_positions_in_meters, ":var24", pos0, pos1),
          (val_add, ":var5", 1),
          (try_begin),
            (try_begin),
              (lt, ":var23", 0),
              (try_begin),
                (lt, ":var24", ":var18"),
                (assign, ":var19", ":var18"),
                (assign, ":var18", ":var24"),
              (else_try),
                (lt, ":var24", ":var19"),
                (assign, ":var19", ":var24"),
              (try_end),
            (try_end),
            (lt, ":var24", 100),
            (try_begin),
              (lt, ":var24", 3),
              (try_begin),
                (this_or_next|eq, ":var1", 0),
                (this_or_next|lt, ":var23", 0),
                (neq, "$g_multiplayer_game_type", 6),
                (try_begin),
                  (lt, ":var24", 1),
                  (assign, ":var25", -1000000),
                (else_try),
                  (lt, ":var24", 2),
                  (try_begin),
                    (lt, ":var23", 0),
                    (assign, ":var25", -20000),
                  (else_try),
                    (assign, ":var25", -2000),
                  (try_end),
                (else_try),
                  (try_begin),
                    (lt, ":var23", 0),
                    (assign, ":var25", -10000),
                  (else_try),
                    (assign, ":var25", -1000),
                  (try_end),
                (try_end),
              (else_try),
                (try_begin),
                  (lt, ":var24", 1),
                  (assign, ":var25", -20000),
                (else_try),
                  (lt, ":var24", 2),
                  (assign, ":var25", -2000),
                (else_try),
                  (assign, ":var25", -1000),
                (try_end),
              (try_end),
              (val_mul, ":var25", ":var6"),
            (else_try),
              (assign, ":var25", 0),
              (this_or_next|neq, "$g_multiplayer_game_type", 6),
              (this_or_next|lt, ":var23", 0),
              (eq, ":var0", 1),
              (try_begin),
                (this_or_next|eq, "$g_multiplayer_game_type", 6),
                (this_or_next|eq, "$g_multiplayer_game_type", 0),
                (this_or_next|eq, "$g_multiplayer_game_type", 7),
                (eq, "$g_multiplayer_game_type", 1),
                (store_sub, ":var25", 45, ":var24"),
                (val_max, ":var25", 0),
                (val_mul, ":var25", ":var25"),
              (else_try),
                (store_mul, ":var26", 45, 3),
                (val_div, ":var26", 2),
                (store_sub, ":var25", ":var26", ":var24"),
                (val_mul, ":var25", ":var25"),
              (try_end),
              (val_mul, ":var25", ":var23"),
            (try_end),
            (val_add, ":var20", ":var25"),
          (try_end),
        (try_end),
        (try_begin),
          (eq, "$g_multiplayer_game_type", 6),
          (store_mul, ":var27", 1000, ":var6"),
          (ge, ":var20", ":var27"),
          (assign, ":var20", ":var27"),
        (try_end),
        (try_begin),
          (neq, "$g_multiplayer_game_type", 6),
          (try_begin),
            (lt, ":var18", 3000),
            (try_begin),
              (gt, ":var18", 32),
              (val_sub, ":var18", 32),
              (store_mul, ":var28", ":var18", -50),
              (val_mul, ":var28", ":var6"),
              (val_add, ":var20", ":var28"),
            (try_end),
          (try_end),
          (try_begin),
            (lt, ":var19", 3000),
            (try_begin),
              (gt, ":var19", 32),
              (val_sub, ":var19", 32),
              (store_mul, ":var29", ":var19", -50),
              (val_mul, ":var29", ":var6"),
              (val_add, ":var20", ":var29"),
            (try_end),
          (try_end),
        (try_end),
        (try_begin),
          (neq, ":var2", -1),
          (position_get_distance_to_terrain, ":var30", pos0),
          (val_max, ":var30", 0),
          (val_min, ":var30", 300),
          (ge, ":var30", 40),
          (store_mul, ":var31", ":var30", ":var6"),
          (try_begin),
            (eq, "$g_multiplayer_game_type", 1),
            (val_mul, ":var31", 16),
          (else_try),
            (val_mul, ":var31", 4),
          (try_end),
          (try_begin),
            (eq, ":var2", 0),
            (try_begin),
              (eq, "$g_multiplayer_game_type", 6),
              (eq, ":var0", 0),
              (val_add, ":var20", ":var31"),
            (try_end),
          (else_try),
            (val_mul, ":var31", 5),
            (val_sub, ":var20", ":var31"),
          (try_end),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_multiplayer_game_type", 6),
          (this_or_next|eq, "$g_multiplayer_game_type", 0),
          (this_or_next|eq, "$g_multiplayer_game_type", 7),
          (this_or_next|eq, "$g_multiplayer_game_type", 4),
          (eq, "$g_multiplayer_game_type", 1),
          (try_begin),
            (neq, "$g_multiplayer_game_type", 6),
            (store_random_in_range, ":var21", 0, 400),
            (try_begin),
              (eq, "$g_multiplayer_game_type", 4),
              (val_mul, ":var21", 5),
            (try_end),
          (else_try),
            (eq, ":var0", 1),
            (store_random_in_range, ":var21", 0, 600),
          (else_try),
            (store_random_in_range, ":var21", 0, 200),
          (try_end),
          (val_mul, ":var21", ":var6"),
          (val_add, ":var20", ":var21"),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_multiplayer_game_type", 4),
          (eq, "$g_multiplayer_game_type", 6),
          (try_begin),
            (eq, "$g_multiplayer_game_type", 4),
            (try_begin),
              (eq, ":var0", 0),
              (entry_point_get_position, pos1, 64),
              (entry_point_get_position, pos2, 65),
            (else_try),
              (entry_point_get_position, pos1, 65),
              (entry_point_get_position, pos2, 64),
            (try_end),
          (else_try),
            (try_begin),
              (eq, ":var0", 0),
              (entry_point_get_position, pos1, 66),
              (entry_point_get_position, pos2, 32),
            (else_try),
              (entry_point_get_position, pos1, 32),
              (entry_point_get_position, pos2, 66),
            (try_end),
          (try_end),
          (try_begin),
            (eq, "$g_multiplayer_game_type", 6),
            (position_get_z, ":var32", pos0),
            (position_set_z, pos1, ":var32"),
            (position_set_z, pos2, ":var32"),
          (try_end),
          (get_sq_distance_between_positions_in_meters, ":var33", pos0, pos1),
          (get_sq_distance_between_positions_in_meters, ":var34", pos0, pos2),
          (get_distance_between_positions_in_meters, ":var35", pos0, pos2),
          (assign, ":var36", 0),
          (try_begin),
            (eq, "$g_multiplayer_game_type", 4),
            (get_distance_between_positions_in_meters, ":var37", pos0, pos1),
            (lt, ":var37", 100),
            (store_sub, ":var36", 100, ":var37"),
            (try_begin),
              (gt, ":var36", 75),
              (assign, ":var36", 75),
            (try_end),
            (val_mul, ":var36", 50),
            (val_mul, ":var36", ":var6"),
          (else_try),
            (lt, ":var33", 10000),
            (try_begin),
              (eq, ":var0", 0),
              (try_begin),
                (lt, ":var33", 2500),
                (assign, ":var33", 0),
              (else_try),
                (val_sub, ":var33", 2500),
                (val_mul, ":var33", 2),
              (try_end),
            (try_end),
            (store_sub, ":var36", 10000, ":var33"),
            (val_add, ":var36", 5000),
            (try_begin),
              (eq, ":var0", 0),
            (else_try),
              (val_div, ":var36", 45),
            (try_end),
            (val_mul, ":var36", ":var6"),
          (try_end),
          (val_add, ":var20", ":var36"),
          (assign, ":var38", 0),
          (try_begin),
            (eq, "$g_multiplayer_game_type", 4),
            (lt, ":var35", 150),
            (store_sub, ":var38", 150, ":var35"),
            (try_begin),
              (gt, ":var38", 50),
              (store_sub, ":var39", ":var38", 50),
              (val_mul, ":var39", 2),
              (val_add, ":var38", ":var39"),
            (try_end),
            (val_mul, ":var38", -50),
            (val_mul, ":var38", ":var6"),
          (else_try),
            (this_or_next|neq, "$g_multiplayer_game_type", 6),
            (eq, ":var0", 1),
            (assign, ":var38", 0),
            (try_begin),
              (neq, "$g_multiplayer_game_type", 6),
              (try_begin),
                (lt, ":var34", 10000),
                (store_sub, ":var38", 10000, ":var34"),
                (val_div, ":var38", 4),
                (val_mul, ":var38", ":var10"),
              (try_end),
            (else_try),
              (val_max, ":var35", 60),
              (try_begin),
                (eq, ":var2", 1),
                (assign, ":var40", 120),
              (else_try),
                (assign, ":var40", 80),
              (try_end),
              (try_begin),
                (le, ":var35", ":var40"),
                (store_sub, ":var38", ":var40", ":var35"),
                (val_mul, ":var38", 180),
              (else_try),
                (store_sub, ":var38", ":var35", ":var40"),
                (val_mul, ":var38", 30),
              (try_end),
              (val_sub, ":var38", 600),
              (val_max, ":var38", 0),
              (val_mul, ":var38", ":var10"),
            (try_end),
          (try_end),
          (val_add, ":var20", ":var38"),
        (else_try),
          (eq, "$g_multiplayer_game_type", 5),
          (try_for_range, ":var13", 0, "$g_number_of_flags"),
            (store_add, ":var14", 146, ":var13"),
            (troop_get_slot, ":var15", "trp_multiplayer_data", ":var14"),
            (neq, ":var15", 0),
            (val_sub, ":var15", 1),
            (scene_prop_get_instance, ":var41", "spr_headquarters_pole_code_only", ":var13"),
            (prop_instance_get_position, pos1, ":var41"),
            (get_sq_distance_between_positions_in_meters, ":var42", pos0, pos1),
            (lt, ":var42", 6400),
            (try_begin),
              (eq, ":var15", ":var0"),
              (store_sub, ":var43", 6400, ":var42"),
              (val_mul, ":var43", 2),
              (val_div, ":var43", ":var11"),
              (val_mul, ":var43", ":var6"),
            (else_try),
              (store_sub, ":var43", 6400, ":var42"),
              (val_mul, ":var43", 2),
              (val_div, ":var43", ":var12"),
              (val_mul, ":var43", ":var10"),
            (try_end),
            (val_add, ":var20", ":var43"),
          (try_end),
        (try_end),
        (gt, ":var20", ":var3"),
        (assign, ":var3", ":var20"),
        (assign, ":var4", ":var17"),
      (try_end),
    (try_end),
    (assign, reg0, ":var4"),
  ]),

  ("multiplayer_buy_agent_equipment",
  [
    (store_script_param, ":var0", 1),
    (player_get_troop_id, ":var1", ":var0"),
    (player_get_gold, ":var2", ":var0"),
    (player_get_slot, ":var3", ":var0", 1),
    (player_set_slot, ":var0", 1, 0),
    (val_add, ":var2", ":var3"),
    (assign, ":var4", 0),
    (try_for_range, ":var5", 2, 11),
      (player_get_slot, ":var6", ":var0", ":var5"),
      (store_sub, ":var7", ":var5", 2),
      (try_begin),
        (player_item_slot_is_picked_up, ":var0", ":var7"),
        (assign, ":var6", -1),
      (try_end),
      (val_add, ":var7", 11),
      (player_set_slot, ":var0", ":var7", ":var6"),
    (try_end),
    (assign, ":var8", 1000),
    (try_for_range, ":var9", 0, ":var8"),
      (call_script, "script_multiplayer_calculate_cur_selected_items_cost", ":var0", 0),
      (assign, ":var10", reg0),
      (try_begin),
        (gt, ":var10", ":var2"),
        (call_script, "script_multiplayer_get_troop_class", ":var1"),
        (assign, ":var11", reg0),
        (assign, ":var12", 0),
        (assign, ":var13", -1),
        (try_for_range, ":var5", 11, 20),
          (player_get_slot, ":var14", ":var0", ":var5"),
          (ge, ":var14", 0),
          (call_script, "script_multiplayer_get_item_value_for_troop", ":var14", ":var1"),
          (assign, ":var15", reg0),
          (store_sub, ":var16", ":var5", 11),
          (try_begin),
            (this_or_next|eq, ":var16", 0),
            (this_or_next|eq, ":var16", 1),
            (this_or_next|eq, ":var16", 2),
            (eq, ":var16", 3),
            (val_mul, ":var15", 5),
          (else_try),
            (eq, ":var16", 4),
            (val_mul, ":var15", 4),
          (else_try),
            (eq, ":var16", 5),
            (val_mul, ":var15", 2),
          (else_try),
            (eq, ":var16", 6),
            (val_mul, ":var15", 8),
          (else_try),
            (eq, ":var16", 7),
            (val_mul, ":var15", 8),
          (else_try),
          (try_end),
          (item_get_slot, ":var17", ":var14", 60),
          (try_begin),
            (eq, ":var11", 1),
            (this_or_next|eq, ":var17", 1),
            (this_or_next|eq, ":var17", 2),
            (this_or_next|eq, ":var17", 3),
            (this_or_next|eq, ":var17", 4),
            (this_or_next|eq, ":var17", 6),
            (this_or_next|eq, ":var17", 10),
            (eq, ":var17", 7),
            (val_div, ":var15", 2),
          (else_try),
            (eq, ":var11", 2),
            (this_or_next|eq, ":var17", 8),
            (eq, ":var17", 11),
            (val_div, ":var15", 2),
          (else_try),
            (eq, ":var11", 3),
            (this_or_next|eq, ":var17", 9),
            (this_or_next|eq, ":var17", 1),
            (eq, ":var17", 18),
            (val_div, ":var15", 2),
          (else_try),
            (eq, ":var11", 4),
            (this_or_next|eq, ":var17", 12),
            (eq, ":var17", 14),
            (val_div, ":var15", 2),
          (else_try),
            (eq, ":var11", 5),
            (this_or_next|eq, ":var17", 13),
            (eq, ":var17", 15),
            (val_div, ":var15", 2),
          (else_try),
            (eq, ":var11", 6),
            (this_or_next|eq, ":var17", 12),
            (this_or_next|eq, ":var17", 14),
            (eq, ":var17", 18),
            (val_div, ":var15", 2),
          (else_try),
            (eq, ":var11", 7),
            (this_or_next|eq, ":var17", 13),
            (this_or_next|eq, ":var17", 15),
            (eq, ":var17", 18),
            (val_div, ":var15", 2),
          (try_end),
          (try_begin),
            (gt, ":var15", ":var12"),
            (assign, ":var12", ":var15"),
            (assign, ":var13", ":var5"),
          (try_end),
        (try_end),
        (player_get_slot, ":var14", ":var0", ":var13"),
        (call_script, "script_multiplayer_get_previous_item_for_item_and_troop", ":var14", ":var1"),
        (assign, ":var14", reg0),
        (player_set_slot, ":var0", ":var13", ":var14"),
      (else_try),
        (assign, ":var8", 0),
        (val_sub, ":var2", ":var10"),
        (player_set_gold, ":var0", ":var2", 15000),
        (try_for_range, ":var5", 11, 20),
          (player_get_slot, ":var14", ":var0", ":var5"),
          (try_begin),
            (ge, ":var14", 0),
          (else_try),
            (store_sub, ":var18", ":var5", 11),
            (store_add, ":var19", ":var18", 2),
            (player_get_slot, ":var6", ":var0", ":var19"),
            (this_or_next|eq, ":var6", -1),
            (player_item_slot_is_picked_up, ":var0", ":var18"),
          (else_try),
            (item_get_slot, ":var17", ":var6", 60),
            (is_between, ":var17", 1, 18),
            (assign, ":var20", -1),
            (try_for_range, ":var21", 1, 10),
              (lt, ":var20", 0),
              (assign, ":var22", 0),
              (try_for_range, ":var23", 11, 20),
                (player_get_slot, ":var24", ":var0", ":var23"),
                (ge, ":var24", 0),
                (item_get_slot, ":var25", ":var24", 60),
                (eq, ":var25", ":var21"),
                (assign, ":var22", 1),
              (try_end),
              (eq, ":var22", 0),
              (assign, ":var26", "itm_items_end"),
              (try_for_range, ":var27", 0, ":var26"),
                (item_slot_eq, ":var27", 60, ":var21"),
                (call_script, "script_cf_multiplayer_is_item_default_for_troop", ":var27", ":var1"),
                (assign, ":var26", 0),
                (assign, ":var20", ":var27"),
              (try_end),
            (try_end),
            (ge, ":var20", 0),
            (player_set_slot, ":var0", ":var5", ":var20"),
            (assign, ":var14", ":var20"),
          (try_end),
          (try_begin),
            (ge, ":var14", 0),
            (store_sub, ":var28", ":var5", 11),
            (player_add_spawn_item, ":var0", ":var28", ":var14"),
            (try_begin),
              (eq, ":var28", 5),
              (assign, ":var4", 1),
            (try_end),
          (try_end),
        (try_end),
        (player_set_slot, ":var0", 27, ":var10"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var4", 0),
      (eq, "$g_multiplayer_force_default_armor", 1),
      (assign, ":var8", "itm_items_end"),
      (try_for_range, ":var29", 0, ":var8"),
        (this_or_next|item_slot_eq, ":var29", 60, 19),
        (this_or_next|item_slot_eq, ":var29", 60, 20),
        (item_slot_eq, ":var29", 60, 21),
        (call_script, "script_cf_multiplayer_is_item_default_for_troop", ":var29", ":var1"),
        (assign, ":var8", 0),
        (player_add_spawn_item, ":var0", ek_body, ":var29"),
      (try_end),
    (try_end),
  ]),

  ("party_get_ideal_size",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", "$g_party_base_size"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 13),
      (party_stack_get_troop_id, ":var2", ":var0", 0),
      (store_faction_of_party, ":var3", ":var0"),
      (assign, ":var1", "$g_party_base_size"),
      (store_skill_level, ":var4", "skl_leadership", ":var2"),
      (store_attribute_level, ":var5", ":var2", ca_charisma),
      (val_mul, ":var4", "$g_party_size_leadership_bonus"),
      (val_add, ":var1", ":var4"),
      (val_add, ":var1", ":var5"),
      (troop_get_slot, ":var6", ":var2", 7),
      (store_div, ":var7", ":var6", "$g_party_size_renown_bonus_divider"),
      (val_add, ":var1", ":var7"),
      (try_begin),
        (faction_slot_eq, ":var3", 11, ":var2"),
        (val_add, ":var1", "$g_party_size_king_bonus"),
      (try_end),
      (try_begin),
        (faction_slot_eq, ":var3", 8, ":var2"),
        (val_add, ":var1", "$g_party_size_marshall_bonus"),
      (try_end),
      (try_for_range, ":var8", "p_castle_1_1", "p_village_1_1"),
        (party_slot_eq, ":var8", 7, ":var2"),
        (val_add, ":var1", "$g_party_size_castle_bonus"),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("game_get_party_prisoner_limit",
  [
    (assign, ":var0", "trp_player"),
    (assign, ":var1", 0),
    (store_skill_level, ":var2", "skl_prisoner_management", ":var0"),
    (store_mul, ":var1", ":var2", "$g_party_prisoners_per_prisoner_management_point"),
    (try_begin),
      (store_script_param_1, ":var3"),
      (party_slot_eq, ":var3", 0, 33),
      (val_mul, ":var1", 0),
      (val_div, ":var1", 100),
      (party_get_slot, ":var0", ":var3", 25),
      (store_skill_level, ":var2", "skl_prisoner_management", ":var0"),
      (val_mul, ":var2", 5),
      (val_add, ":var1", ":var2"),
      (party_get_num_companions, ":var4", ":var3"),
      (val_div, ":var4", 5),
      (val_add, ":var1", ":var4"),
    (try_end),
    (assign, reg0, ":var1"),
    (set_trigger_result, reg0),
  ]),

  ("game_get_item_extra_text",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg0, ":var0"),
      (set_result_string, "@ID {reg0}"),
      (set_trigger_result, 16711680),
    (try_end),
    (try_begin),
      (eq, ":var2", 6),
      (eq, ":var1", 0),
      (set_result_string, "@This item is severely damaged!"),
      (set_trigger_result, 16711680),
    (try_end),
    (try_begin),
      (is_between, ":var0", "itm_smoked_fish", "itm_siege_supply"),
      (try_begin),
        (eq, ":var1", 0),
        (assign, ":var3", 1),
        (try_begin),
          (this_or_next|eq, ":var0", "itm_cattle_meat"),
          (this_or_next|eq, ":var0", "itm_pork"),
          (eq, ":var0", "itm_chicken"),
          (eq, ":var2", 41),
          (assign, ":var3", 0),
        (try_end),
        (eq, ":var3", 1),
        (item_get_slot, ":var4", ":var0", 1),
        (assign, reg1, ":var4"),
        (set_result_string, "@+{reg1} to party morale"),
        (set_trigger_result, 4474111),
      (try_end),
    (else_try),
      (is_between, ":var0", "itm_book_tactics", "itm_book_wound_treatment_reference"),
      (try_begin),
        (eq, ":var1", 0),
        (item_get_slot, reg1, ":var0", 4),
        (set_result_string, "@Requires {reg1} intelligence to read"),
        (set_trigger_result, 16772829),
      (else_try),
        (eq, ":var1", 1),
        (item_get_slot, ":var5", ":var0", 2),
        (val_div, ":var5", 10),
        (assign, reg1, ":var5"),
        (set_result_string, "@Reading Progress: {reg1}%"),
        (set_trigger_result, 16772829),
      (try_end),
    (else_try),
      (is_between, ":var0", "itm_book_wound_treatment_reference", "itm_spice"),
      (try_begin),
        (eq, ":var1", 0),
        (try_begin),
          (eq, ":var0", "itm_book_wound_treatment_reference"),
          (str_store_string, s1, "@wound treament"),
        (else_try),
          (eq, ":var0", "itm_book_training_reference"),
          (str_store_string, s1, "@trainer"),
        (else_try),
          (eq, ":var0", "itm_book_surgery_reference"),
          (str_store_string, s1, "@surgery"),
        (try_end),
        (set_result_string, "@+1 to {s1} while in inventory"),
        (set_trigger_result, 16772829),
      (try_end),
    (try_end),
  ]),

  ("game_on_disembark",
  [
    (jump_to_menu, "mnu_disembark"),
  ]),

  ("game_context_menu_get_buttons",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (neq, ":var0", "p_main_party"),
      (context_menu_add_item, "@Move here", -7),
    (try_end),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_salt_mine"),
      (context_menu_add_item, "@View notes", 1),
    (else_try),
      (party_get_num_companion_stacks, ":var1", ":var0"),
      (gt, ":var1", 0),
      (party_stack_get_troop_id, ":var2", ":var0", 0),
      (is_between, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var2", 166, 1),
      (context_menu_add_item, "@View notes", 2),
    (try_end),
    (try_begin),
      (neq, ":var0", "p_main_party"),
      (store_faction_of_party, ":var3", ":var0"),
      (store_relation, ":var4", ":var3", "$players_kingdom"),
      (this_or_next|ge, ":var4", 0),
      (party_slot_eq, ":var0", 0, 11),
      (neg|is_between, ":var0", "p_town_1_1", "p_salt_mine"),
      (context_menu_add_item, "@Accompany", -6),
    (try_end),
  ]),

  ("game_event_context_menu_button_clicked",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, ":var1", 1),
      (change_screen_notes, 3, ":var0"),
    (else_try),
      (eq, ":var1", 2),
      (party_stack_get_troop_id, ":var2", ":var0", 0),
      (change_screen_notes, 1, ":var2"),
    (try_end),
  ]),

  ("game_get_skill_modifier_for_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (store_add, ":var3", ":var1", 100),
    (troop_get_slot, ":var4", "trp_g_troop", ":var3"),
    (val_add, ":var4", 1),
    (troop_set_slot, "trp_g_troop", ":var3", ":var4"),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (neq, ":var1", 16),
      (neq, ":var1", 0),
      (neq, ":var1", 1),
      (neq, ":var1", 7),
      (neq, ":var1", 12),
      (neq, ":var1", 15),
      (neg|is_between, ":var1", 22, 37),
      (party_get_num_companion_stacks, ":var5", "p_main_party"),
      (try_for_range, ":var6", 1, ":var5"),
        (party_stack_get_troop_id, ":var7", "p_main_party", ":var6"),
        (neg|troop_is_hero, ":var7"),
        (store_skill_level, ":var8", ":var1", ":var7"),
        (try_begin),
          (ge, ":var8", 7),
          (party_stack_get_size, ":var9", "p_main_party", ":var6"),
          (store_div, ":var10", ":var9", 2),
          (val_add, ":var2", ":var10"),
        (else_try),
          (ge, ":var8", 5),
          (party_stack_get_size, ":var9", "p_main_party", ":var6"),
          (store_div, ":var10", ":var9", 4),
          (val_add, ":var2", ":var10"),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var1", "skl_wound_treatment"),
      (call_script, "script_get_troop_item_amount", ":var0", "itm_book_wound_treatment_reference"),
      (gt, reg0, 0),
      (val_add, ":var2", 1),
    (else_try),
      (eq, ":var1", "skl_trainer"),
      (call_script, "script_get_troop_item_amount", ":var0", "itm_book_training_reference"),
      (gt, reg0, 0),
      (val_add, ":var2", 1),
    (else_try),
      (eq, ":var1", "skl_surgery"),
      (call_script, "script_get_troop_item_amount", ":var0", "itm_book_surgery_reference"),
      (gt, reg0, 0),
      (val_add, ":var2", 1),
    (try_end),
    (try_begin),
      (neq, ":var1", 16),
      (this_or_next|eq, ":var0", "trp_player"),
      (is_between, ":var0", "trp_npc1", "trp_enhanced_rnd_lord_end"),
      (call_script, "script_xgm_get_skill_modifier_for_troop_by_items", ":var0", ":var1"),
      (val_add, ":var2", reg0),
      (call_script, "script_xgm_get_skill_modifier_for_troop_by_item_sets", ":var0", ":var1"),
      (val_add, ":var2", reg0),
    (try_end),
    (try_begin),
      (troop_slot_eq, "trp_g_troop", 19, 3033),
      (assign, ":var2", 0),
    (try_end),
    (set_trigger_result, ":var2"),
  ]),

  ("game_get_party_speed_multiplier",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 8),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_begin),
      (party_slot_eq, ":var0", 0, 13),
      (party_get_skill_level, ":var4", ":var0", 14),
      (val_mul, ":var4", 3),
      (val_add, ":var2", ":var4"),
    (try_end),
    (try_begin),
      (get_party_ai_behavior, ":var5", ":var0"),
      (eq, ":var5", 11),
      (val_add, ":var1", 4),
    (try_end),
    (try_begin),
      (call_script, "script_cf_is_party_on_water", ":var0"),
      (assign, ":var1", 5),
      (get_global_cloud_amount, ":var6"),
      (val_div, ":var6", 10),
      (val_add, ":var1", ":var6"),
    (try_end),
    (party_get_current_terrain, ":var7", ":var0"),
    (try_begin),
      (eq, ":var7", 0),
      (val_add, ":var3", 22),
    (else_try),
      (eq, ":var7", 2),
      (val_add, ":var3", 15),
    (else_try),
      (eq, ":var7", 1),
      (val_sub, ":var3", 8),
    (else_try),
      (eq, ":var7", 3),
      (val_add, ":var3", 10),
    (else_try),
      (eq, ":var7", 4),
      (val_sub, ":var3", 5),
    (else_try),
      (eq, ":var7", 5),
      (val_add, ":var3", 5),
    (else_try),
      (eq, ":var7", 7),
      (val_sub, ":var3", 10),
    (else_try),
      (eq, ":var7", 8),
      (val_sub, ":var3", 20),
    (else_try),
      (eq, ":var7", 9),
      (val_sub, ":var3", 13),
    (else_try),
      (eq, ":var7", 10),
      (val_add, ":var3", 10),
    (else_try),
      (eq, ":var7", 11),
      (val_sub, ":var3", 5),
    (else_try),
      (eq, ":var7", 12),
      (val_sub, ":var3", 10),
    (try_end),
    (party_get_template_id, ":var8", ":var0"),
    (try_begin),
      (eq, ":var8", "pt_merchant_caravan"),
      (val_add, ":var1", 4),
    (else_try),
      (this_or_next|eq, ":var8", "pt_steppe_bandits"),
      (this_or_next|eq, ":var8", "pt_desert_bandits"),
      (this_or_next|eq, ":var8", "pt_taiga_bandits"),
      (this_or_next|eq, ":var8", "pt_forest_bandits"),
      (this_or_next|eq, ":var8", "pt_sea_raiders"),
      (this_or_next|eq, ":var8", "pt_robber_knights"),
      (this_or_next|eq, ":var8", "pt_taiga_bandits"),
      (this_or_next|eq, ":var8", "pt_looters"),
      (this_or_next|eq, ":var8", "pt_village_farmers"),
      (eq, ":var8", "pt_deserters"),
      (val_sub, ":var1", 2),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var0", 250, 1),
      (assign, ":var1", 0),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var0", 256, 1),
      (assign, ":var1", 0),
    (try_end),
    (assign, ":var9", "$g_travel_speed"),
    (val_mul, ":var9", ":var1"),
    (val_div, ":var9", 10),
    (val_add, ":var9", ":var2"),
    (val_add, ":var9", ":var3"),
    (set_trigger_result, ":var9"),
  ]),

  ("npc_get_troop_wage",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_begin),
      (troop_is_hero, ":var0"),
    (else_try),
      (store_character_level, ":var1", ":var0"),
      (val_mul, ":var1", ":var1"),
      (val_add, ":var1", 50),
      (val_div, ":var1", 30),
      (troop_is_mounted, ":var0"),
      (val_mul, ":var1", 5),
      (val_div, ":var1", 4),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("setup_talk_info",
  [
    (talk_info_set_relation_bar, "$g_talk_troop_relation"),
    (str_store_troop_name, s61, "$g_talk_troop"),
    (str_store_string, s61, "@{!} {s61}"),
    (assign, reg1, "$g_talk_troop_relation"),
    (str_store_string, s62, "str_relation_reg1"),
    (talk_info_set_line, 0, s61),
    (talk_info_set_line, 1, s62),
    (call_script, "script_describe_relation_to_s63", "$g_talk_troop_relation"),
    (talk_info_set_line, 3, s63),
  ]),

  ("setup_talk_info_companions",
  [
    (call_script, "script_npc_morale", "$g_talk_troop"),
    (assign, ":var0", reg0),
    (talk_info_set_relation_bar, ":var0"),
    (str_store_troop_name, s61, "$g_talk_troop"),
    (str_store_string, s61, "@{!} {s61}"),
    (assign, reg1, ":var0"),
    (str_store_string, s62, "str_morale_reg1"),
    (talk_info_set_line, 0, s61),
    (talk_info_set_line, 1, s62),
    (talk_info_set_line, 3, s63),
  ]),

  ("update_party_creation_random_limits",
  [
    (store_character_level, ":var0", "trp_player"),
    (store_mul, ":var1", ":var0", 3),
    (val_add, ":var1", 25),
    (val_min, ":var1", 200),
    (set_party_creation_random_limits, 0, ":var1"),
    (assign, reg0, ":var1"),
  ]),

  ("set_trade_route_between_centers",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 190, 205),
      (try_begin),
        (eq, ":var2", 0),
        (party_slot_eq, ":var0", ":var4", 0),
        (party_set_slot, ":var0", ":var4", ":var1"),
        (assign, ":var2", 1),
      (try_end),
      (try_begin),
        (eq, ":var3", 0),
        (party_slot_eq, ":var1", ":var4", 0),
        (party_set_slot, ":var1", ":var4", ":var0"),
        (assign, ":var3", 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var2", 0),
      (str_store_party_name, s1, ":var0"),
      (display_message, "@{!}DEBUG -- ERROR: More than 15 trade routes are given for {s1}."),
    (try_end),
    (try_begin),
      (eq, ":var3", 0),
      (str_store_party_name, s1, ":var1"),
      (display_message, "@{!}DEBUG -- ERROR: More than 15 trade routes are given for {s1}."),
    (try_end),
  ]),

  ("average_trade_good_prices",
  [
    (store_sub, ":var0", 310, "itm_spice"),
    (try_for_range, ":var1", "p_town_1_1", "p_castle_1_1"),
      (this_or_next|is_between, ":var1", "p_town_1_1", "p_castle_1_1"),
      (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
      (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
        (this_or_next|is_between, ":var1", "p_town_1_1", "p_castle_1_1"),
        (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
        (neq, ":var2", ":var1"),
        (store_distance_to_party_from_party, ":var3", ":var1", ":var2"),
        (lt, ":var3", 50),
        (store_sub, ":var4", 50, ":var3"),
        (try_for_range, ":var5", "itm_spice", "itm_siege_supply"),
          (store_add, ":var6", ":var5", ":var0"),
          (party_get_slot, ":var7", ":var1", ":var6"),
          (party_get_slot, ":var8", ":var2", ":var6"),
          (store_sub, ":var9", ":var7", ":var8"),
          (assign, ":var10", ":var9"),
          (val_mul, ":var10", ":var4"),
          (val_div, ":var10", 1000),
          (val_add, ":var8", ":var10"),
          (party_set_slot, ":var2", ":var6", ":var8"),
          (val_sub, ":var7", ":var10"),
          (party_set_slot, ":var1", ":var6", ":var7"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("average_trade_good_prices_2",
  [
    (store_sub, ":var0", 310, "itm_spice"),
    (try_for_range, ":var1", "p_town_1_1", "p_castle_1_1"),
      (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
        (this_or_next|is_between, ":var2", "p_town_1_1", "p_castle_1_1"),
        (is_between, ":var2", "p_village_1_1", "p_salt_mine"),
        (this_or_next|party_slot_eq, ":var2", 121, ":var1"),
        (this_or_next|party_slot_eq, ":var1", 190, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 191, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 192, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 193, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 194, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 195, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 196, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 197, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 198, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 199, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 200, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 201, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 202, ":var2"),
        (this_or_next|party_slot_eq, ":var1", 203, ":var2"),
        (party_slot_eq, ":var1", 204, ":var2"),
        (try_for_range, ":var3", "itm_spice", "itm_siege_supply"),
          (store_add, ":var4", ":var3", ":var0"),
          (party_get_slot, ":var5", ":var1", ":var4"),
          (party_get_slot, ":var6", ":var2", ":var4"),
          (store_sub, ":var7", ":var5", ":var6"),
          (store_div, ":var8", ":var7", 5),
          (val_add, ":var6", ":var8"),
          (party_set_slot, ":var2", ":var4", ":var6"),
          (val_sub, ":var5", ":var8"),
          (party_set_slot, ":var1", ":var4", ":var5"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("average_trade_good_productions",
  [
    (store_sub, ":var0", 470, "itm_spice"),
    (try_for_range, ":var1", "p_town_1_1", "p_castle_1_1"),
      (this_or_next|is_between, ":var1", "p_town_1_1", "p_castle_1_1"),
      (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
      (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
        (this_or_next|is_between, ":var1", "p_town_1_1", "p_castle_1_1"),
        (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
        (neq, ":var2", ":var1"),
        (store_distance_to_party_from_party, ":var3", ":var1", ":var2"),
        (lt, ":var3", 110),
        (store_sub, ":var4", 110, ":var3"),
        (try_for_range, ":var5", "itm_spice", "itm_siege_supply"),
          (store_add, ":var6", ":var5", ":var0"),
          (party_get_slot, ":var7", ":var1", ":var6"),
          (party_get_slot, ":var8", ":var2", ":var6"),
          (store_sub, ":var9", ":var7", ":var8"),
          (gt, ":var9", 0),
          (store_mul, ":var10", ":var9", 1),
          (val_mul, ":var10", ":var4"),
          (val_div, ":var10", 110),
          (val_add, ":var8", ":var10"),
          (party_set_slot, ":var2", ":var6", ":var8"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("normalize_trade_good_productions",
  [
    (store_sub, ":var0", 470, "itm_spice"),
    (try_for_range, ":var1", "itm_spice", "itm_siege_supply"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (store_add, ":var4", ":var1", ":var0"),
      (try_for_range, ":var5", "p_town_1_1", "p_salt_mine"),
        (val_add, ":var3", 1),
        (try_begin),
          (is_between, ":var5", "p_town_1_1", "p_castle_1_1"),
          (val_add, ":var3", 4),
        (try_end),
        (party_get_slot, ":var6", ":var5", ":var4"),
        (val_add, ":var2", ":var6"),
      (try_end),
      (store_div, ":var7", ":var2", ":var3"),
      (neq, ":var7", 0),
      (try_for_range, ":var5", "p_town_1_1", "p_salt_mine"),
        (this_or_next|is_between, ":var5", "p_town_1_1", "p_castle_1_1"),
        (is_between, ":var5", "p_village_1_1", "p_salt_mine"),
        (party_get_slot, ":var6", ":var5", ":var4"),
        (val_sub, ":var6", ":var7"),
        (party_set_slot, ":var5", ":var4", ":var6"),
      (try_end),
    (try_end),
  ]),

  ("update_trade_good_prices",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (this_or_next|is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
      (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
      (call_script, "script_update_trade_good_price_for_party", ":var0"),
    (try_end),
    (try_for_range, ":var1", "itm_spice", "itm_siege_supply"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (try_for_range, ":var0", "p_town_1_1", "p_salt_mine"),
        (this_or_next|is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (store_sub, ":var4", ":var1", "itm_spice"),
        (val_add, ":var4", 310),
        (party_get_slot, ":var5", ":var0", ":var4"),
        (try_begin),
          (is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
          (assign, ":var6", 5),
        (else_try),
          (assign, ":var6", 1),
        (try_end),
        (val_mul, ":var5", ":var6"),
        (val_add, ":var2", ":var5"),
        (val_add, ":var3", ":var6"),
      (try_end),
      (try_for_range, ":var0", "p_town_1_1", "p_salt_mine"),
        (this_or_next|is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (store_sub, ":var4", ":var1", "itm_spice"),
        (val_add, ":var4", 310),
        (party_get_slot, ":var5", ":var0", ":var4"),
        (val_mul, ":var5", 1000),
        (val_mul, ":var5", ":var3"),
        (val_div, ":var5", ":var2"),
        (val_clamp, ":var5", 100, 10000),
        (party_set_slot, ":var0", ":var4", ":var5"),
      (try_end),
    (try_end),
  ]),

  ("update_trade_good_price_for_party",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", "itm_spice", "itm_siege_supply"),
      (store_sub, ":var2", ":var1", "itm_spice"),
      (val_add, ":var2", 310),
      (party_get_slot, ":var3", ":var0", ":var2"),
      (call_script, "script_center_get_production", ":var0", ":var1"),
      (assign, ":var4", reg0),
      (call_script, "script_center_get_consumption", ":var0", ":var1"),
      (assign, ":var5", reg0),
      (val_sub, ":var4", ":var5"),
      (try_begin),
        (gt, ":var4", 0),
        (store_mul, ":var6", ":var4", 1),
        (store_random_in_range, ":var7", 0, ":var6"),
        (val_add, ":var7", ":var6"),
        (val_add, ":var7", ":var6"),
        (store_sub, ":var8", ":var3", ":var7"),
        (val_clamp, ":var8", 100, 10000),
        (try_begin),
          (lt, ":var8", 1000),
          (store_add, ":var9", ":var8", 300),
          (val_mul, ":var7", ":var9"),
          (val_div, ":var7", 1300),
        (try_end),
        (val_sub, ":var3", ":var7"),
      (else_try),
        (lt, ":var4", 0),
        (store_sub, ":var6", 0, ":var4"),
        (val_mul, ":var6", 1),
        (store_random_in_range, ":var7", 0, ":var6"),
        (val_add, ":var7", ":var6"),
        (val_add, ":var7", ":var6"),
        (val_add, ":var3", ":var7"),
      (try_end),
      (try_begin),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (store_sub, ":var10", ":var3", 1000),
        (val_mul, ":var10", 96),
        (val_div, ":var10", 100),
        (store_add, ":var11", 1000, ":var10"),
      (else_try),
        (store_sub, ":var10", ":var3", 1000),
        (val_mul, ":var10", 96),
        (val_div, ":var10", 100),
        (store_add, ":var11", 1000, ":var10"),
      (try_end),
      (try_begin),
        (item_get_slot, ":var12", ":var1", 50),
        (neq, ":var12", 0),
        (store_sub, ":var13", ":var12", "itm_spice"),
        (val_add, ":var13", 310),
        (party_get_slot, ":var14", ":var0", ":var13"),
        (val_mul, ":var14", 3),
        (assign, ":var15", 3),
        (try_for_range, ":var16", "p_village_1_1", "p_salt_mine"),
          (party_slot_eq, ":var16", 120, ":var0"),
          (party_get_slot, ":var17", ":var16", ":var13"),
          (val_add, ":var14", ":var17"),
          (val_add, ":var15", 1),
        (try_end),
        (store_div, ":var18", ":var14", ":var15"),
        (gt, ":var18", ":var11"),
        (store_sub, ":var19", ":var18", ":var11"),
        (val_div, ":var19", 10),
        (val_add, ":var11", ":var19"),
      (try_end),
      (val_clamp, ":var11", 100, 10000),
      (party_set_slot, ":var0", ":var2", ":var11"),
    (try_end),
  ]),

  ("center_get_production",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", 0),
    (try_begin),
      (eq, ":var1", "itm_bread"),
      (party_get_slot, ":var2", ":var0", 221),
      (val_mul, ":var2", 20),
    (else_try),
      (eq, ":var1", "itm_grain"),
      (party_get_slot, ":var2", ":var0", 209),
      (val_div, ":var2", 125),
    (else_try),
      (eq, ":var1", "itm_ale"),
      (party_get_slot, ":var2", ":var0", 222),
      (val_mul, ":var2", 25),
    (else_try),
      (eq, ":var1", "itm_smoked_fish"),
      (party_get_slot, ":var2", ":var0", 214),
      (val_mul, ":var2", 4),
    (else_try),
      (eq, ":var1", "itm_salt"),
      (party_get_slot, ":var2", ":var0", 215),
      (val_mul, ":var2", 35),
    (else_try),
      (eq, ":var1", "itm_cattle_meat"),
      (party_get_slot, ":var2", ":var0", 205),
      (val_div, ":var2", 4),
    (else_try),
      (eq, ":var1", "itm_dried_meat"),
      (party_get_slot, ":var2", ":var0", 205),
      (val_div, ":var2", 2),
    (else_try),
      (eq, ":var1", "itm_cheese"),
      (party_get_slot, ":var2", ":var0", 205),
      (party_get_slot, ":var3", ":var0", 206),
      (val_div, ":var3", 2),
      (val_add, ":var2", ":var3"),
      (party_get_slot, ":var4", ":var0", 232),
      (val_mul, ":var2", ":var4"),
      (val_div, ":var2", 10),
    (else_try),
      (eq, ":var1", "itm_butter"),
      (party_get_slot, ":var2", ":var0", 205),
      (party_get_slot, ":var4", ":var0", 232),
      (val_mul, ":var2", ":var4"),
      (val_div, ":var2", 15),
    (else_try),
      (eq, ":var1", "itm_raw_leather"),
      (party_get_slot, ":var2", ":var0", 205),
      (val_div, ":var2", 6),
      (party_get_slot, ":var3", ":var0", 206),
      (val_div, ":var3", 12),
      (val_add, ":var2", ":var3"),
    (else_try),
      (eq, ":var1", "itm_leatherwork"),
      (party_get_slot, ":var2", ":var0", 230),
      (val_mul, ":var2", 20),
    (else_try),
      (eq, ":var1", "itm_honey"),
      (party_get_slot, ":var2", ":var0", 216),
      (val_mul, ":var2", 6),
    (else_try),
      (eq, ":var1", "itm_cabbages"),
      (party_get_slot, ":var2", ":var0", 232),
      (val_mul, ":var2", 10),
    (else_try),
      (eq, ":var1", "itm_apples"),
      (party_get_slot, ":var2", ":var0", 232),
      (val_mul, ":var2", 10),
    (else_try),
      (eq, ":var1", "itm_sausages"),
      (party_get_slot, ":var2", ":var0", 206),
      (val_div, ":var2", 15),
    (else_try),
      (eq, ":var1", "itm_wool"),
      (party_get_slot, ":var2", ":var0", 206),
      (val_div, ":var2", 5),
    (else_try),
      (eq, ":var1", "itm_wool_cloth"),
      (party_get_slot, ":var2", ":var0", 227),
      (val_mul, ":var2", 5),
    (else_try),
      (this_or_next|eq, ":var1", "itm_pork"),
      (eq, ":var1", "itm_chicken"),
      (try_begin),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (assign, ":var2", 30),
      (else_try),
        (assign, ":var2", 0),
      (try_end),
    (else_try),
      (eq, ":var1", "itm_iron"),
      (party_get_slot, ":var2", ":var0", 219),
      (val_mul, ":var2", 10),
    (else_try),
      (eq, ":var1", "itm_tools"),
      (party_get_slot, ":var2", ":var0", 229),
      (val_mul, ":var2", 3),
    (else_try),
      (eq, ":var1", "itm_pottery"),
      (party_get_slot, ":var2", ":var0", 228),
      (val_mul, ":var2", 5),
    (else_try),
      (eq, ":var1", "itm_raw_grapes"),
      (party_get_slot, ":var2", ":var0", 211),
      (val_div, ":var2", 100),
    (else_try),
      (eq, ":var1", "itm_wine"),
      (party_get_slot, ":var2", ":var0", 223),
      (val_mul, ":var2", 25),
    (else_try),
      (eq, ":var1", "itm_raw_olives"),
      (party_get_slot, ":var2", ":var0", 210),
      (val_div, ":var2", 150),
    (else_try),
      (eq, ":var1", "itm_oil"),
      (party_get_slot, ":var2", ":var0", 224),
      (val_mul, ":var2", 12),
    (else_try),
      (eq, ":var1", "itm_linen"),
      (party_get_slot, ":var2", ":var0", 225),
      (val_mul, ":var2", 5),
    (else_try),
      (eq, ":var1", "itm_raw_flax"),
      (party_get_slot, ":var2", ":var0", 212),
      (val_div, ":var2", 80),
    (else_try),
      (eq, ":var1", "itm_velvet"),
      (party_get_slot, ":var2", ":var0", 226),
      (val_mul, ":var2", 5),
    (else_try),
      (eq, ":var1", "itm_raw_silk"),
      (party_get_slot, ":var2", ":var0", 217),
      (val_div, ":var2", 20),
    (else_try),
      (eq, ":var1", "itm_raw_dyes"),
      (party_get_slot, ":var2", ":var0", 218),
      (val_div, ":var2", 20),
    (else_try),
      (eq, ":var1", "itm_raw_date_fruit"),
      (party_get_slot, ":var2", ":var0", 213),
      (val_div, ":var2", 120),
    (else_try),
      (eq, ":var1", "itm_furs"),
      (party_get_slot, ":var2", ":var0", 220),
      (val_mul, ":var2", 25),
    (else_try),
      (eq, ":var1", "itm_spice"),
      (try_begin),
        (eq, ":var0", "p_town_2_2"),
        (assign, ":var2", 100),
      (else_try),
        (eq, ":var0", "p_town_4_1"),
        (assign, ":var2", 50),
      (else_try),
        (eq, ":var0", "p_town_4_2"),
        (assign, ":var2", 50),
      (else_try),
        (eq, ":var0", "p_town_7_2"),
        (assign, ":var2", 50),
      (try_end),
    (try_end),
    (assign, ":var5", ":var2"),
    (try_begin),
      (eq, ":var1", "itm_bread"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_grain", ":var2", 1),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_ale"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_grain", ":var2", 2),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_dried_meat"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_salt", ":var2", 2),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_smoked_fish"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_salt", ":var2", 2),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_tools"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_iron", ":var2", 1),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_wool_cloth"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_wool", ":var2", 1),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_wine"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_raw_grapes", ":var2", 1),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_oil"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_raw_olives", ":var2", 1),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_velvet"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_raw_silk", ":var2", 1),
      (assign, ":var6", reg0),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_raw_dyes", ":var6", 2),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_leatherwork"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_raw_leather", ":var2", 1),
      (assign, ":var5", reg0),
    (else_try),
      (eq, ":var1", "itm_linen"),
      (call_script, "script_good_price_affects_good_production", ":var0", "itm_raw_flax", ":var2", 1),
      (assign, ":var5", reg0),
    (try_end),
    (assign, ":var7", ":var5"),
    (try_begin),
      (party_get_slot, ":var8", ":var0", 50),
      (val_add, ":var8", 75),
      (val_mul, ":var5", ":var8"),
      (val_div, ":var5", 125),
    (try_end),
    (try_begin),
      (this_or_next|party_slot_eq, ":var0", 35, 1),
      (party_slot_eq, ":var0", 35, 2),
      (assign, ":var5", 0),
    (try_end),
    (assign, reg0, ":var5"),
    (assign, reg1, ":var7"),
    (assign, reg2, ":var2"),
  ]),

  ("center_get_consumption",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", 0),
    (store_faction_of_party, ":var3", ":var0"),
    (call_script, "script_raf_aor_faction_to_region", ":var3"),
    (try_begin),
      (this_or_next|eq, ":var3", "fac_kingdom_23"),
      (this_or_next|eq, reg0, 10),
      (this_or_next|eq, reg0, 11),
      (eq, reg0, 12),
      (item_slot_ge, ":var1", 13, 0),
      (item_get_slot, ":var2", ":var1", 13),
    (else_try),
      (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
      (item_get_slot, ":var2", ":var1", 12),
    (else_try),
      (is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
      (item_get_slot, ":var2", ":var1", 11),
    (try_end),
    (assign, ":var4", 0),
    (try_begin),
      (eq, ":var1", "itm_grain"),
      (party_get_slot, ":var5", ":var0", 221),
      (val_mul, ":var5", 20),
      (party_get_slot, ":var6", ":var0", 222),
      (val_mul, ":var6", 5),
      (store_add, ":var4", ":var5", ":var6"),
    (else_try),
      (eq, ":var1", "itm_iron"),
      (party_get_slot, ":var4", ":var0", 229),
      (val_mul, ":var4", 3),
    (else_try),
      (eq, ":var1", "itm_wool"),
      (party_get_slot, ":var4", ":var0", 227),
      (val_mul, ":var4", 5),
    (else_try),
      (eq, ":var1", "itm_raw_flax"),
      (party_get_slot, ":var4", ":var0", 225),
      (val_mul, ":var4", 5),
    (else_try),
      (eq, ":var1", "itm_raw_leather"),
      (party_get_slot, ":var4", ":var0", 230),
      (val_mul, ":var4", 20),
    (else_try),
      (eq, ":var1", "itm_raw_grapes"),
      (party_get_slot, ":var4", ":var0", 223),
      (val_mul, ":var4", 30),
    (else_try),
      (eq, ":var1", "itm_raw_olives"),
      (party_get_slot, ":var4", ":var0", 224),
      (val_mul, ":var4", 12),
    (else_try),
      (eq, ":var1", "itm_raw_dyes"),
      (party_get_slot, ":var4", ":var0", 226),
      (val_mul, ":var4", 1),
    (else_try),
      (eq, ":var1", "itm_raw_silk"),
      (party_get_slot, ":var4", ":var0", 226),
      (val_mul, ":var4", 5),
    (else_try),
      (eq, ":var1", "itm_salt"),
      (party_get_slot, ":var7", ":var0", 205),
      (val_div, ":var7", 10),
      (party_get_slot, ":var8", ":var0", 214),
      (val_div, ":var8", 5),
      (store_add, ":var4", ":var7", ":var8"),
    (try_end),
    (try_begin),
      (gt, ":var4", 0),
      (store_sub, ":var9", 310, "itm_spice"),
      (store_add, ":var10", ":var1", ":var9"),
      (party_get_slot, ":var11", ":var0", ":var10"),
      (gt, ":var11", 1000),
      (val_mul, ":var4", 1000),
      (val_div, ":var4", ":var11"),
    (try_end),
    (store_add, ":var12", ":var2", ":var4"),
    (try_begin),
      (party_get_slot, ":var13", ":var0", 50),
      (val_add, ":var13", 75),
      (val_mul, ":var12", ":var13"),
      (val_div, ":var12", 125),
    (try_end),
    (assign, reg0, ":var12"),
    (assign, reg1, ":var4"),
    (assign, reg2, ":var2"),
  ]),

  ("get_enterprise_name",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", "str_bread_site"),
    (try_begin),
      (eq, ":var0", "itm_bread"),
      (assign, ":var1", "str_bread_site"),
    (else_try),
      (eq, ":var0", "itm_ale"),
      (assign, ":var1", "str_ale_site"),
    (else_try),
      (eq, ":var0", "itm_oil"),
      (assign, ":var1", "str_oil_site"),
    (else_try),
      (eq, ":var0", "itm_wine"),
      (assign, ":var1", "str_wine_site"),
    (else_try),
      (eq, ":var0", "itm_leatherwork"),
      (assign, ":var1", "str_leather_site"),
    (else_try),
      (eq, ":var0", "itm_wool_cloth"),
      (assign, ":var1", "str_wool_cloth_site"),
    (else_try),
      (eq, ":var0", "itm_linen"),
      (assign, ":var1", "str_linen_site"),
    (else_try),
      (eq, ":var0", "itm_velvet"),
      (assign, ":var1", "str_velvet_site"),
    (else_try),
      (eq, ":var0", "itm_tools"),
      (assign, ":var1", "str_tool_site"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("do_merchant_town_trade",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_slot, ":var2", ":var0", 126),
    (try_begin),
      (eq, "$cheat_mode", 2),
      (str_store_party_name, s4, ":var1"),
      (str_store_party_name, s5, ":var2"),
      (display_message, "@{!}DEBUG -- Caravan trades in {s4}, originally from {s5}"),
    (try_end),
    (call_script, "script_add_log_entry", 5, ":var0", ":var2", ":var1", -1),
    (call_script, "script_do_party_center_trade", ":var0", ":var1", 4),
    (assign, ":var3", reg0),
    (val_div, ":var3", 2),
    (str_store_party_name, s1, ":var0"),
    (str_store_party_name, s2, ":var1"),
    (assign, reg1, ":var3"),
    (party_get_slot, ":var4", ":var1", 48),
    (party_get_slot, ":var5", ":var1", 50),
    (assign, ":var6", ":var3"),
    (val_mul, ":var6", ":var5"),
    (val_div, ":var6", 100),
    (val_div, ":var6", 10),
    (val_add, ":var4", ":var6"),
    (assign, ":var7", ":var4"),
    (assign, ":var8", ":var7"),
    (try_begin),
      (party_slot_eq, ":var1", 505, 1),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 15),
      (val_add, ":var4", ":var8"),
    (else_try),
      (party_slot_eq, ":var1", 505, 2),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 25),
      (val_add, ":var4", ":var8"),
    (else_try),
      (party_slot_eq, ":var1", 505, 3),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 40),
      (val_add, ":var4", ":var8"),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var1", 501, 1),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 5),
      (val_add, ":var4", ":var8"),
    (else_try),
      (party_slot_eq, ":var1", 501, 2),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 10),
      (val_add, ":var4", ":var8"),
    (else_try),
      (party_slot_eq, ":var1", 501, 3),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 15),
      (val_add, ":var4", ":var8"),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var1", 494, 1),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 10),
      (val_add, ":var4", ":var8"),
    (else_try),
      (party_slot_eq, ":var1", 494, 2),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 20),
      (val_add, ":var4", ":var8"),
    (else_try),
      (party_slot_eq, ":var1", 494, 3),
      (val_div, ":var8", 100),
      (val_mul, ":var8", 30),
      (val_add, ":var4", ":var8"),
    (try_end),
    (try_begin),
      (ge, "$cheat_mode", 3),
      (assign, reg4, ":var6"),
      (str_store_party_name, s4, ":var1"),
      (assign, reg5, ":var4"),
      (display_message, "@{!}New tariffs at {s4} = {reg4}, total = {reg5}"),
    (try_end),
    (party_set_slot, ":var1", 48, ":var4"),
    (try_begin),
      (store_random_in_range, ":var9", 0, 80),
      (call_script, "script_center_get_goods_availability", ":var1"),
      (assign, ":var10", reg0),
      (gt, ":var9", ":var10"),
      (try_begin),
        (store_random_in_range, ":var9", 0, 100),
        (gt, ":var9", 90),
        (call_script, "script_change_center_prosperity", ":var1", 1),
        (val_add, "$newglob_total_prosperity_from_caravan_trade", 1),
      (try_end),
    (try_end),
  ]),

  ("party_calculate_regular_strength",
  [
    (store_script_param_1, ":var0"),
    (assign, reg0, 0),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (try_for_range, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", ":var0", ":var2"),
      (neg|troop_is_hero, ":var3"),
      (store_character_level, ":var4", ":var3"),
      (val_add, ":var4", 12),
      (val_mul, ":var4", ":var4"),
      (val_div, ":var4", 100),
      (party_stack_get_size, ":var5", ":var0", ":var2"),
      (party_stack_get_num_wounded, ":var6", ":var0", ":var2"),
      (val_sub, ":var5", ":var6"),
      (val_mul, ":var4", ":var5"),
      (val_add, reg0, ":var4"),
    (try_end),
  ]),

  ("party_calculate_strength",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, reg0, 0),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (assign, ":var3", 0),
    (try_begin),
      (neq, ":var1", 0),
      (assign, ":var3", 1),
    (try_end),
    (try_for_range, ":var4", ":var3", ":var2"),
      (party_stack_get_troop_id, ":var5", ":var0", ":var4"),
      (store_character_level, ":var6", ":var5"),
      (val_add, ":var6", 4),
      (val_mul, ":var6", ":var6"),
      (val_mul, ":var6", 2),
      (val_div, ":var6", 100),
      (val_max, ":var6", 1),
      (try_begin),
        (neg|troop_is_hero, ":var5"),
        (party_stack_get_size, ":var7", ":var0", ":var4"),
        (party_stack_get_num_wounded, ":var8", ":var0", ":var4"),
        (val_sub, ":var7", ":var8"),
        (val_mul, ":var6", ":var7"),
      (else_try),
        (troop_is_wounded, ":var5"),
        (assign, ":var6", 0),
      (try_end),
      (val_add, reg0, ":var6"),
    (try_end),
    (party_set_slot, ":var0", 56, reg0),
  ]),

  ("loot_player_items",
  [
    (store_script_param, ":var0", 1),
    (troop_get_inventory_capacity, ":var1", "trp_player"),
    (try_for_range, ":var2", 0, ":var1"),
      (troop_get_inventory_slot, ":var3", "trp_player", ":var2"),
      (ge, ":var3", 0),
      (troop_get_inventory_slot_modifier, ":var4", "trp_player", ":var2"),
      (try_begin),
        (is_between, ":var3", "itm_spice", "itm_siege_supply"),
        (assign, ":var5", 20),
      (else_try),
        (this_or_next|is_between, ":var3", "itm_sumpter_horse", "itm_arrows"),
        (this_or_next|eq, ":var3", "itm_warhorse_sarranid"),
        (eq, ":var3", "itm_warhorse_steppe"),
        (assign, ":var5", 15),
      (else_try),
        (this_or_next|is_between, ":var3", "itm_wooden_stick", "itm_wooden_shield"),
        (is_between, ":var3", "itm_practice_bow_2", "itm_arrows"),
        (assign, ":var5", 5),
      (else_try),
        (this_or_next|is_between, ":var3", "itm_leather_gloves", "itm_wooden_stick"),
        (is_between, ":var3", "itm_wooden_shield", "itm_sumpter_horse"),
        (assign, ":var5", 5),
      (try_end),
      (store_random_in_range, ":var6", 0, 100),
      (lt, ":var6", ":var5"),
      (troop_remove_item, "trp_player", ":var3"),
      (try_begin),
        (gt, ":var0", 0),
        (party_get_slot, ":var7", ":var0", 109),
        (val_add, ":var7", 110),
        (party_set_slot, ":var0", ":var7", ":var3"),
        (val_sub, ":var7", 110),
        (val_add, ":var7", 115),
        (party_set_slot, ":var0", ":var7", ":var4"),
        (val_sub, ":var7", 115),
        (val_add, ":var7", 1),
        (val_mod, ":var7", 5),
        (party_set_slot, ":var0", 109, ":var7"),
      (try_end),
    (try_end),
    (store_troop_gold, ":var8", "trp_player"),
    (store_div, ":var9", ":var8", 5),
    (store_div, ":var10", ":var8", 10),
    (store_random_in_range, ":var11", ":var10", ":var9"),
    (troop_remove_gold, "trp_player", ":var11"),
  ]),

  ("party_calculate_loot",
  [
    (store_script_param_1, ":var0"),
    (call_script, "script_calculate_main_party_shares"),
    (assign, ":var1", reg0),
    (try_for_range, ":var2", 0, 5),
      (store_add, ":var3", ":var2", 110),
      (party_get_slot, ":var4", "$g_enemy_party", ":var3"),
      (gt, ":var4", 0),
      (party_set_slot, "$g_enemy_party", ":var3", 0),
      (val_sub, ":var3", 110),
      (val_add, ":var3", 115),
      (party_get_slot, ":var5", "$g_enemy_party", ":var3"),
      (troop_add_item, "trp_temp_troop", ":var4", ":var5"),
    (try_end),
    (party_set_slot, "$g_enemy_party", 109, 0),
    (assign, ":var6", 0),
    (try_begin),
      (this_or_next|party_slot_eq, "$g_enemy_party", 0, 11),
      (this_or_next|party_slot_eq, "$g_enemy_party", 0, 18),
      (party_slot_eq, "$g_enemy_party", 0, 15),
      (store_mul, ":var7", 10, 30),
      (val_mul, ":var7", "$g_strength_contribution_of_player"),
      (val_div, ":var7", 100),
      (val_div, ":var7", ":var1"),
      (assign, ":var8", 0),
      (try_begin),
        (party_slot_eq, "$g_enemy_party", 0, 11),
        (reset_item_probabilities, 100),
        (assign, ":var9", "itm_spice"),
        (assign, ":var10", "itm_siege_supply"),
        (assign, ":var8", 1),
      (else_try),
        (party_slot_eq, "$g_enemy_party", 0, 18),
        (val_div, ":var7", 2),
        (reset_item_probabilities, 1),
        (assign, ":var9", "itm_smoked_fish"),
        (assign, ":var10", "itm_siege_supply"),
      (else_try),
        (val_div, ":var7", 5),
        (reset_item_probabilities, 1),
        (assign, ":var9", "itm_smoked_fish"),
        (assign, ":var10", "itm_siege_supply"),
      (try_end),
      (try_begin),
        (eq, ":var8", 0),
        (store_sub, ":var11", 310, "itm_spice"),
        (try_for_range, ":var12", ":var9", ":var10"),
          (try_begin),
            (neg|party_slot_eq, "$g_enemy_party", 0, 18),
            (store_add, ":var13", ":var12", ":var11"),
            (party_get_slot, ":var14", "$g_enemy_party", ":var13"),
          (else_try),
            (assign, ":var14", 10000),
            (val_add, ":var14", 1000),
            (val_div, ":var14", 3),
          (try_end),
          (assign, ":var15", 100),
          (val_mul, ":var15", 1000),
          (val_div, ":var15", ":var14"),
          (assign, reg0, ":var15"),
          (set_item_probability_in_merchandise, ":var12", ":var15"),
        (try_end),
        (troop_add_merchandise, "trp_temp_troop", itp_type_goods, ":var7"),
        (val_add, ":var6", ":var7"),
      (else_try),
        (eq, ":var8", 1),
        (try_begin),
          (party_slot_ge, "$g_enemy_party", 470, ":var7"),
          (party_set_slot, "$g_enemy_party", 470, ":var7"),
        (try_end),
        (call_script, "script_merchant_inventory_from_party_slot", "trp_temp_troop", "$g_enemy_party"),
      (try_end),
    (try_end),
    (store_mul, ":var16", 10, 3),
    (val_mul, ":var16", "$g_strength_contribution_of_player"),
    (party_get_skill_level, ":var17", "p_main_party", "skl_looting"),
    (val_add, ":var17", 10),
    (val_mul, ":var16", ":var17"),
    (val_div, ":var16", 10),
    (val_div, ":var16", ":var1"),
    (party_get_num_companion_stacks, ":var18", ":var0"),
    (assign, ":var19", ":var18"),
    (try_for_range, ":var20", 0, ":var18"),
      (assign, ":var21", -1),
      (assign, ":var22", -1),
      (try_for_range, ":var23", 0, ":var19"),
        (party_stack_get_troop_id, ":var24", ":var0", ":var23"),
        (neg|troop_is_hero, ":var24"),
        (store_character_level, ":var25", ":var24"),
        (gt, ":var25", ":var22"),
        (assign, ":var22", ":var25"),
        (assign, ":var21", ":var23"),
      (try_end),
      (try_begin),
        (gt, ":var21", -1),
        (party_stack_get_troop_id, ":var26", ":var0", ":var21"),
        (party_stack_get_size, ":var27", ":var0", ":var21"),
        (party_remove_members, ":var0", ":var26", ":var27"),
        (party_add_members, ":var0", ":var26", ":var27"),
        (val_sub, ":var19", 1),
      (try_end),
    (try_end),
    (try_for_range, ":var28", 0, ":var18"),
      (party_stack_get_troop_id, ":var26", ":var0", ":var28"),
      (party_stack_get_size, ":var27", ":var0", ":var28"),
      (try_for_range, ":var20", 0, ":var27"),
        (troop_loot_troop, "trp_temp_troop", ":var26", ":var16"),
      (try_end),
    (try_end),
    (troop_get_inventory_capacity, ":var29", "trp_temp_troop"),
    (try_for_range, ":var30", 0, ":var29"),
      (troop_get_inventory_slot, ":var31", "trp_temp_troop", ":var30"),
      (ge, ":var31", 0),
      (val_add, ":var6", 1),
    (try_end),
    (assign, reg0, ":var6"),
  ]),

  ("calculate_main_party_shares",
  [
    (assign, ":var0", 10),
    (party_get_num_companion_stacks, ":var1", "p_main_party"),
    (try_for_range, ":var2", 1, ":var1"),
      (party_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
      (try_begin),
        (neg|troop_is_hero, ":var3"),
        (party_stack_get_size, ":var4", "p_main_party", ":var2"),
        (val_add, ":var0", ":var4"),
      (else_try),
        (val_add, ":var0", 3),
      (try_end),
    (try_end),
    (assign, reg0, ":var0"),
  ]),

  ("party_give_xp_and_gold",
  [
    (store_script_param_1, ":var0"),
    (call_script, "script_calculate_main_party_shares"),
    (assign, ":var1", reg0),
    (assign, ":var2", 0),
    (party_get_num_companion_stacks, ":var3", ":var0"),
    (try_for_range, ":var4", 0, ":var3"),
      (party_stack_get_troop_id, ":var5", ":var0", ":var4"),
      (neg|troop_is_hero, ":var5"),
      (party_stack_get_size, ":var6", ":var0", ":var4"),
      (store_character_level, ":var7", ":var5"),
      (store_add, ":var8", ":var7", 10),
      (val_mul, ":var8", ":var8"),
      (val_div, ":var8", 10),
      (store_mul, ":var9", ":var8", ":var6"),
      (val_add, ":var2", ":var9"),
    (try_end),
    (val_mul, ":var2", "$g_strength_contribution_of_player"),
    (val_div, ":var2", 100),
    (val_min, ":var2", 400000),
    (assign, ":var10", ":var2"),
    (store_random_in_range, ":var11", 50, 100),
    (val_mul, ":var10", ":var11"),
    (val_div, ":var10", 100),
    (party_add_xp, "p_main_party", ":var10"),
    (store_mul, ":var12", ":var2", 10),
    (val_min, ":var12", 40000),
    (store_random_in_range, ":var11", 50, 100),
    (val_mul, ":var12", ":var11"),
    (val_div, ":var12", 100),
    (try_begin),
      (neq, "$freelancer_state", 1),
      (party_slot_eq, ":var0", 0, 11),
      (party_get_slot, ":var13", ":var0", 49),
      (val_add, ":var12", ":var13"),
    (try_end),
    (val_div, ":var12", ":var1"),
    (party_get_num_companion_stacks, ":var3", "p_main_party"),
    (try_for_range, ":var4", 0, ":var3"),
      (party_stack_get_troop_id, ":var5", "p_main_party", ":var4"),
      (try_begin),
        (troop_is_hero, ":var5"),
        (call_script, "script_troop_add_gold", ":var5", ":var12"),
      (try_end),
    (try_end),
  ]),

  ("setup_troop_meeting",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (call_script, "script_get_meeting_scene"),
    (assign, ":var2", reg0),
    (modify_visitors_at_site, ":var2"),
    (reset_visitors),
    (set_visitor, 0, "trp_player"),
    (try_begin),
      (gt, ":var1", -1),
      (set_visitor, 17, ":var0", ":var1"),
    (else_try),
      (set_visitor, 17, ":var0"),
    (try_end),
    (set_jump_mission, "mt_conversation_encounter"),
    (jump_to_scene, ":var2"),
    (change_screen_map_conversation, ":var0"),
  ]),

  ("setup_party_meeting",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (lt, "$g_encountered_party_relation", 0),
    (try_end),
    (call_script, "script_get_meeting_scene"),
    (assign, ":var1", reg0),
    (modify_visitors_at_site, ":var1"),
    (reset_visitors),
    (set_visitor, 0, "trp_player"),
    (party_stack_get_troop_id, ":var2", ":var0", 0),
    (party_stack_get_troop_dna, ":var3", ":var0", 0),
    (set_visitor, 17, ":var2", ":var3"),
    (set_jump_mission, "mt_conversation_encounter"),
    (jump_to_scene, ":var1"),
    (change_screen_map_conversation, ":var2"),
  ]),

  ("get_meeting_scene",
  [
    (party_get_current_terrain, ":var0", "p_main_party"),
    (assign, ":var1", "scn_random_scene"),
    (try_begin),
      (eq, ":var0", 2),
      (assign, ":var1", "scn_meeting_scene_steppe"),
    (else_try),
      (eq, ":var0", 3),
      (assign, ":var1", "scn_meeting_scene_plain"),
    (else_try),
      (eq, ":var0", 4),
      (assign, ":var1", "scn_meeting_scene_snow"),
    (else_try),
      (eq, ":var0", 5),
      (assign, ":var1", "scn_meeting_scene_desert"),
    (else_try),
      (eq, ":var0", 10),
      (assign, ":var1", "scn_meeting_scene_steppe"),
    (else_try),
      (eq, ":var0", 11),
      (assign, ":var1", "scn_meeting_scene_plain"),
    (else_try),
      (eq, ":var0", 12),
      (assign, ":var1", "scn_meeting_scene_snow"),
    (else_try),
      (eq, ":var0", 13),
      (assign, ":var1", "scn_meeting_scene_desert"),
    (else_try),
      (call_script, "script_cf_is_party_on_water", "p_main_party"),
      (assign, ":var1", "scn_meeting_scene_sea"),
    (else_try),
      (assign, ":var1", "scn_meeting_scene_plain"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("party_remove_all_companions",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (try_for_range_backwards, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", ":var0", ":var2"),
      (party_stack_get_size, ":var4", ":var0", ":var2"),
      (try_begin),
        (troop_is_hero, ":var3"),
        (neg|is_between, ":var3", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
        (neq, ":var3", "trp_player"),
        (eq, "$g_prison_heroes", 1),
        (eq, ":var0", "p_main_party"),
        (store_random_in_range, ":var5", 0, 4),
        (neq, ":var5", 0),
        (troop_set_health, ":var3", 100),
        (store_faction_of_party, ":var6", "$g_enemy_party"),
        (assign, ":var7", 99999),
        (assign, ":var8", -1),
        (try_for_range, ":var9", "p_town_1_1", "p_village_1_1"),
          (store_faction_of_party, ":var10", ":var9"),
          (eq, ":var10", ":var6"),
          (store_distance_to_party_from_party, ":var11", ":var9", "p_main_party"),
          (lt, ":var11", ":var7"),
          (assign, ":var7", ":var11"),
          (assign, ":var8", ":var9"),
        (try_end),
        (assign, reg1, ":var8"),
        (try_begin),
          (ge, ":var8", 0),
          (store_random_in_range, ":var5", 0, 4),
          (neq, ":var5", 0),
          (party_add_prisoners, ":var8", ":var3", ":var4"),
          (troop_set_slot, ":var3", 8, ":var8"),
          (troop_set_slot, ":var3", 82, 1),
          (troop_set_slot, ":var3", 81, 0),
          (troop_set_slot, ":var3", 2, 0),
          (party_remove_members, ":var0", ":var3", ":var4"),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_party_name, s1, ":var8"),
            (display_message, "str_your_hero_prisoned_at_s1"),
          (try_end),
        (else_try),
          (assign, ":var12", 1000),
          (try_for_range, ":var13", 0, ":var12"),
            (store_random_in_range, ":var14", "p_town_1_1", "p_castle_1_1"),
            (neg|troop_slot_eq, ":var3", 60, ":var14"),
            (neg|troop_slot_eq, ":var3", 59, ":var14"),
            (assign, ":var12", -1),
          (try_end),
          (troop_set_slot, ":var3", 12, ":var14"),
          (troop_set_slot, ":var3", 82, 1),
          (troop_set_slot, ":var3", 81, 0),
          (troop_set_slot, ":var3", 2, 0),
          (party_remove_members, ":var0", ":var3", ":var4"),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name, s4, ":var3"),
            (str_store_party_name, s5, ":var14"),
            (display_message, "@{!}{s4} is sent to {s5} after defeat"),
          (try_end),
        (try_end),
      (else_try),
        (neg|this_or_next|troop_is_hero, ":var3"),
        (eq, "$g_move_heroes", 1),
        (party_remove_members, ":var0", ":var3", ":var4"),
      (try_end),
    (try_end),
  ]),

  ("party_remove_all_prisoners",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_prisoner_stacks, ":var1", ":var0"),
    (try_for_range_backwards, ":var2", 0, ":var1"),
      (party_prisoner_stack_get_troop_id, ":var3", ":var0", ":var2"),
      (neg|this_or_next|troop_is_hero, ":var3"),
      (eq, "$g_move_heroes", 1),
      (party_prisoner_stack_get_size, ":var4", ":var0", ":var2"),
      (party_remove_prisoners, ":var0", ":var3", ":var4"),
    (try_end),
  ]),

  ("party_add_party_companions",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_companion_stacks, ":var2", ":var1"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", ":var1", ":var3"),
      (neg|this_or_next|troop_is_hero, ":var4"),
      (eq, "$g_move_heroes", 1),
      (party_stack_get_size, ":var5", ":var1", ":var3"),
      (party_add_members, ":var0", ":var4", ":var5"),
      (party_stack_get_num_wounded, ":var6", ":var1", ":var3"),
      (party_wound_members, ":var0", ":var4", ":var6"),
    (try_end),
  ]),

  ("party_add_party_prisoners",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_prisoner_stacks, ":var2", ":var1"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_prisoner_stack_get_troop_id, ":var4", ":var1", ":var3"),
      (neg|this_or_next|troop_is_hero, ":var4"),
      (eq, "$g_move_heroes", 1),
      (party_prisoner_stack_get_size, ":var5", ":var1", ":var3"),
      (party_add_members, ":var0", ":var4", ":var5"),
    (try_end),
  ]),

  ("party_prisoners_add_party_companions",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_companion_stacks, ":var2", ":var1"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", ":var1", ":var3"),
      (neg|this_or_next|troop_is_hero, ":var4"),
      (eq, "$g_move_heroes", 1),
      (party_stack_get_size, ":var5", ":var1", ":var3"),
      (party_add_prisoners, ":var0", ":var4", ":var5"),
    (try_end),
  ]),

  ("party_prisoners_add_party_prisoners",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_prisoner_stacks, ":var2", ":var1"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_prisoner_stack_get_troop_id, ":var4", ":var1", ":var3"),
      (neg|this_or_next|troop_is_hero, ":var4"),
      (eq, "$g_move_heroes", 1),
      (party_prisoner_stack_get_size, ":var5", ":var1", ":var3"),
      (party_add_prisoners, ":var0", ":var4", ":var5"),
    (try_end),
  ]),

  ("party_add_party",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (call_script, "script_party_add_party_companions", ":var0", ":var1"),
    (call_script, "script_party_prisoners_add_party_prisoners", ":var0", ":var1"),
  ]),

  ("party_copy",
  [
    (assign, "$g_move_heroes", 1),
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_clear, ":var0"),
    (call_script, "script_party_add_party", ":var0", ":var1"),
  ]),

  ("clear_party_group",
  [
    (store_script_param_1, ":var0"),
    (party_clear, ":var0"),
    (party_get_num_attached_parties, ":var1", ":var0"),
    (try_for_range, ":var2", 0, ":var1"),
      (party_get_attached_party_with_rank, ":var3", ":var0", ":var2"),
      (call_script, "script_clear_party_group", ":var3"),
    (try_end),
  ]),

  ("party_add_wounded_members_as_prisoners",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_companion_stacks, ":var2", ":var1"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_num_wounded, ":var4", ":var1", ":var3"),
      (ge, ":var4", 1),
      (party_stack_get_troop_id, ":var5", ":var1", ":var3"),
      (neg|this_or_next|troop_is_hero, ":var5"),
      (eq, "$g_move_heroes", 1),
      (party_add_prisoners, ":var0", ":var5", ":var4"),
    (try_end),
  ]),

  ("get_nonempty_party_in_group",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (try_begin),
      (gt, ":var1", 0),
      (assign, reg0, ":var0"),
    (else_try),
      (assign, reg0, -1),
      (party_get_num_attached_parties, ":var2", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (lt, reg0, 0),
        (party_get_attached_party_with_rank, ":var4", ":var0", ":var3"),
        (call_script, "script_get_nonempty_party_in_group", ":var4"),
      (try_end),
    (try_end),
  ]),

  ("collect_prisoners_from_empty_parties",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_companions, ":var2", ":var0"),
    (try_begin),
      (eq, ":var2", 0),
      (party_get_num_prisoner_stacks, ":var3", ":var0"),
      (try_for_range, ":var4", 0, ":var3"),
        (party_prisoner_stack_get_troop_id, ":var5", ":var0", ":var4"),
        (troop_is_hero, ":var5"),
        (party_add_members, ":var1", ":var5", 1),
      (try_end),
    (try_end),
    (party_get_num_attached_parties, ":var6", ":var0"),
    (try_for_range, ":var7", 0, ":var6"),
      (party_get_attached_party_with_rank, ":var8", ":var0", ":var7"),
      (call_script, "script_collect_prisoners_from_empty_parties", ":var8", ":var1"),
    (try_end),
  ]),

  ("change_party_morale",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_morale, ":var2", ":var0"),
    (store_add, ":var3", ":var2", ":var1"),
    (val_clamp, ":var3", 0, 100),
    (party_set_morale, ":var0", ":var3"),
    (str_store_party_name, s1, ":var0"),
    (try_begin),
      (lt, ":var3", ":var2"),
      (store_sub, reg1, ":var2", ":var3"),
    (else_try),
      (gt, ":var3", ":var2"),
      (store_sub, reg1, ":var3", ":var2"),
    (try_end),
  ]),

  ("count_casualties_and_adjust_morale",
  [
    (call_script, "script_calculate_main_party_shares"),
    (assign, ":var0", reg0),
    (assign, ":var1", 0),
    (party_get_num_companion_stacks, ":var2", "p_player_casualties"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", "p_player_casualties", ":var3"),
      (party_stack_get_size, ":var5", "p_player_casualties", ":var3"),
      (party_stack_get_num_wounded, ":var6", "p_player_casualties", ":var3"),
      (store_mul, ":var7", ":var5", 2),
      (store_sub, ":var8", ":var6"),
      (store_character_level, ":var9", ":var4"),
      (store_add, ":var10", ":var9", 3),
      (try_begin),
        (eq, ":var4", "trp_player"),
        (val_add, ":var9", 75),
      (else_try),
        (troop_is_hero, ":var4"),
        (val_add, ":var9", 50),
      (try_end),
      (val_mul, ":var10", ":var10"),
      (val_div, ":var10", 10),
      (assign, reg0, ":var10"),
      (val_mul, ":var10", ":var5"),
      (try_begin),
        (neg|troop_is_hero, ":var4"),
        (val_mul, ":var10", ":var8"),
        (val_div, ":var10", ":var7"),
      (try_end),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (assign, reg1, ":var5"),
        (assign, reg2, ":var10"),
        (display_message, "str_our_per_person__reg0_num_people__reg1_total_gain__reg2"),
      (try_end),
      (val_add, ":var1", ":var10"),
    (try_end),
    (assign, ":var11", 0),
    (assign, ":var12", 0),
    (party_get_num_companion_stacks, ":var2", "p_enemy_casualties"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", "p_enemy_casualties", ":var3"),
      (party_stack_get_size, ":var5", "p_enemy_casualties", ":var3"),
      (party_stack_get_num_wounded, ":var6", "p_enemy_casualties", ":var3"),
      (store_mul, ":var7", ":var5", 2),
      (store_sub, ":var8", ":var7", ":var6"),
      (store_character_level, ":var9", ":var4"),
      (store_add, ":var10", ":var9", 3),
      (try_begin),
        (troop_is_hero, ":var4"),
        (val_add, ":var9", 50),
      (try_end),
      (val_mul, ":var10", ":var10"),
      (val_div, ":var10", 10),
      (assign, reg0, ":var10"),
      (val_mul, ":var10", ":var5"),
      (try_begin),
        (neg|troop_is_hero, ":var4"),
        (val_mul, ":var10", ":var8"),
        (val_div, ":var10", ":var7"),
      (try_end),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (assign, reg1, ":var5"),
        (assign, reg2, ":var10"),
        (display_message, "str_ene_per_person__reg0_num_people__reg1_total_gain__reg2"),
      (try_end),
      (val_add, ":var12", ":var10"),
      (val_add, ":var11", ":var5"),
    (try_end),
    (assign, ":var13", 0),
    (try_begin),
      (eq, "$any_allies_at_the_last_battle", 1),
      (party_get_num_companion_stacks, ":var2", "p_ally_casualties"),
      (try_for_range, ":var3", 0, ":var2"),
        (party_stack_get_troop_id, ":var4", "p_ally_casualties", ":var3"),
        (party_stack_get_size, ":var5", "p_ally_casualties", ":var3"),
        (party_stack_get_num_wounded, ":var6", "p_ally_casualties", ":var3"),
        (store_mul, ":var7", ":var5", 2),
        (store_sub, ":var8", ":var6"),
        (store_character_level, ":var9", ":var4"),
        (store_add, ":var10", ":var9", 3),
        (try_begin),
          (troop_is_hero, ":var4"),
          (val_add, ":var9", 50),
        (try_end),
        (val_mul, ":var10", ":var10"),
        (val_div, ":var10", 10),
        (assign, reg0, ":var10"),
        (val_mul, ":var10", ":var5"),
        (try_begin),
          (neg|troop_is_hero, ":var4"),
          (val_mul, ":var10", ":var8"),
          (val_div, ":var10", ":var7"),
        (try_end),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (assign, reg1, ":var5"),
          (assign, reg2, ":var10"),
          (display_message, "str_all_per_person__reg0_num_people__reg1_total_gain__reg2"),
        (try_end),
        (val_add, ":var13", ":var10"),
      (try_end),
    (try_end),
    (store_add, ":var14", ":var1", ":var13"),
    (assign, ":var15", ":var12"),
    (val_mul, ":var14", 100),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg0, ":var15"),
      (display_message, "@{!}DEBUGS : enemy loses : {reg0}"),
    (try_end),
    (try_begin),
      (gt, ":var15", 0),
      (store_div, ":var16", ":var14", ":var15"),
    (else_try),
      (assign, ":var16", 1000),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg1, ":var16"),
      (display_message, "str_loss_ratio_is_reg1"),
    (try_end),
    (try_begin),
      (neg|is_between, "$g_enemy_party", "p_town_1_1", "p_salt_mine"),
      (store_sub, ":var17", 60, ":var16"),
    (else_try),
      (store_sub, ":var17", 100, ":var16"),
    (try_end),
    (try_begin),
      (lt, ":var17", 0),
      (val_div, ":var17", 2),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg0, ":var17"),
      (display_message, "@{!}DEBUGS1 : total gain : {reg0}"),
    (try_end),
    (val_max, ":var17", -60),
    (val_mul, ":var17", ":var15"),
    (val_div, ":var17", 100),
    (store_mul, ":var18", ":var17", -1),
    (val_mul, ":var17", "$g_strength_contribution_of_player"),
    (val_div, ":var17", 100),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg0, ":var17"),
      (display_message, "@{!}DEBUGS2 : total gain : {reg0}"),
    (try_end),
    (try_begin),
      (party_is_active, "$g_enemy_party"),
      (assign, ":var19", 0),
      (val_add, ":var19", 10),
      (party_get_num_companion_stacks, ":var2", "$g_enemy_party"),
      (try_for_range, ":var3", 0, ":var2"),
        (party_stack_get_troop_id, ":var4", "$g_enemy_party", ":var3"),
        (party_stack_get_size, ":var5", "$g_enemy_party", ":var3"),
        (val_add, ":var19", ":var5"),
      (try_end),
      (assign, ":var20", ":var19"),
      (party_get_num_attached_parties, ":var21", "$g_enemy_party"),
      (try_for_range, ":var22", 0, ":var21"),
        (val_add, ":var19", 10),
        (party_get_attached_party_with_rank, ":var23", "$g_enemy_party", ":var22"),
        (party_get_num_companion_stacks, ":var2", ":var23"),
        (try_for_range, ":var3", 0, ":var2"),
          (party_stack_get_troop_id, ":var4", ":var23", ":var3"),
          (party_stack_get_size, ":var5", ":var23", ":var3"),
          (val_add, ":var19", ":var5"),
        (try_end),
      (try_end),
      (assign, ":var24", ":var19"),
      (assign, reg5, ":var24"),
      (assign, reg6, ":var18"),
      (set_fixed_point_multiplier, 100),
      (val_mul, ":var24", 100),
      (store_sqrt, ":var25", ":var24"),
      (val_div, ":var25", 100),
      (val_div, ":var18", ":var25"),
      (val_div, ":var18", 4),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (assign, reg7, ":var18"),
        (display_message, "str_total_enemy_morale_gain__reg6_last_total_enemy_morale_gain__reg7_remaining_enemy_population__reg5"),
      (try_end),
      (store_mul, ":var26", ":var18", ":var20"),
      (val_div, ":var26", ":var19"),
      (try_begin),
        (party_is_active, "$g_enemy_party"),
        (call_script, "script_change_party_morale", "$g_enemy_party", ":var26"),
        (party_get_num_attached_parties, ":var21", "$g_enemy_party"),
        (try_for_range, ":var22", 0, ":var21"),
          (party_get_attached_party_with_rank, ":var23", "$g_enemy_party", ":var22"),
          (party_get_num_companion_stacks, ":var2", ":var23"),
          (assign, ":var27", 0),
          (try_for_range, ":var3", 0, ":var2"),
            (party_stack_get_troop_id, ":var4", ":var23", ":var3"),
            (party_stack_get_size, ":var5", ":var23", ":var3"),
            (val_add, ":var27", ":var5"),
          (try_end),
          (store_mul, ":var26", ":var18", ":var27"),
          (val_div, ":var26", ":var19"),
          (call_script, "script_change_party_morale", ":var23", ":var26"),
        (try_end),
      (try_end),
    (try_end),
    (assign, ":var28", ":var17"),
    (val_div, ":var28", ":var0"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg0, ":var0"),
      (assign, reg1, ":var17"),
      (display_message, "@{!}DEBUGS3 : num player party shares:{reg0}, total gain:{reg1}"),
    (try_end),
    (call_script, "script_change_player_party_morale", ":var28"),
    (store_mul, ":var29", ":var11", "$g_strength_contribution_of_player"),
    (store_div, ":var30", ":var29", 8),
    (try_begin),
      (gt, ":var30", 2000),
      (assign, ":var30", 2000),
    (try_end),
    (try_begin),
      (ge, "$g_ally_party", 0),
      (store_div, ":var31", ":var30", 3),
      (val_mul, ":var31", 2),
      (store_faction_of_party, ":var32", "$g_ally_party"),
      (faction_get_slot, ":var33", ":var32", 99),
      (val_add, ":var33", ":var31"),
    (try_end),
    (try_begin),
      (neg|party_is_active, "$g_enemy_party"),
      (ge, "$current_town", 0),
      (val_mul, ":var30", 2),
      (store_faction_of_party, ":var32", "$current_town"),
      (faction_get_slot, ":var33", ":var32", 99),
      (val_add, ":var33", ":var30"),
    (else_try),
      (party_is_active, "$g_enemy_party"),
      (assign, ":var34", 0),
      (try_begin),
        (eq, "$players_kingdom", "fac_player_supporters_faction"),
        (neg|faction_slot_eq, "fac_player_supporters_faction", 11, "trp_player"),
        (assign, ":var34", 1),
      (try_end),
      (eq, ":var34", 0),
      (store_div, ":var30", ":var30", 3),
      (val_mul, ":var30", 2),
      (store_faction_of_party, ":var35", "$g_enemy_party"),
      (faction_get_slot, ":var33", ":var35", 99),
      (val_sub, ":var33", ":var30"),
    (try_end),
  ]),

  ("print_casualties_to_s0",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (str_clear, s0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (party_get_num_companion_stacks, ":var6", ":var0"),
    (try_for_range, ":var7", 0, ":var6"),
      (party_stack_get_troop_id, ":var8", ":var0", ":var7"),
      (party_stack_get_size, ":var9", ":var0", ":var7"),
      (party_stack_get_num_wounded, ":var10", ":var0", ":var7"),
      (try_begin),
        (this_or_next|eq, ":var0", "p_main_party"),
        (eq, ":var0", "p_player_casualties"),
        (troop_get_slot, ":var11", ":var8", 146),
        (troop_set_slot, ":var8", 146, 0),
      (else_try),
        (party_get_attached_to, ":var12", ":var0"),
        (this_or_next|eq, ":var0", "p_ally_casualties"),
        (ge, ":var12", 0),
        (this_or_next|eq, ":var0", "p_ally_casualties"),
        (eq, ":var12", "p_main_party"),
        (troop_get_slot, ":var11", ":var8", 147),
        (troop_set_slot, ":var8", 147, 0),
      (else_try),
        (troop_get_slot, ":var11", ":var8", 148),
        (troop_set_slot, ":var8", 148, 0),
      (try_end),
      (store_sub, ":var13", ":var9", ":var10"),
      (val_sub, ":var13", ":var11"),
      (val_add, ":var4", ":var13"),
      (val_add, ":var3", ":var10"),
      (val_add, ":var5", ":var11"),
      (try_begin),
        (this_or_next|gt, ":var13", 0),
        (this_or_next|gt, ":var10", 0),
        (gt, ":var11", 0),
        (store_add, reg3, ":var13", ":var10"),
        (store_add, reg3, reg3, ":var11"),
        (str_store_troop_name_by_count, s1, ":var8", reg3),
        (try_begin),
          (troop_is_hero, ":var8"),
          (assign, reg3, 0),
        (try_end),
        (try_begin),
          (gt, ":var13", 0),
          (gt, ":var10", 0),
          (gt, ":var11", 0),
          (assign, reg4, ":var13"),
          (assign, reg5, ":var10"),
          (assign, reg6, ":var11"),
          (str_store_string, s2, "str_reg4_killed_reg5_wounded_reg6_routed"),
        (else_try),
          (gt, ":var13", 0),
          (gt, ":var11", 0),
          (assign, reg4, ":var13"),
          (assign, reg5, ":var11"),
          (str_store_string, s2, "str_reg4_killed_reg5_routed"),
        (else_try),
          (gt, ":var13", 0),
          (gt, ":var10", 0),
          (assign, reg4, ":var13"),
          (assign, reg5, ":var10"),
          (str_store_string, s2, "str_reg4_killed_reg5_wounded"),
        (else_try),
          (gt, ":var10", 0),
          (gt, ":var11", 0),
          (assign, reg4, ":var10"),
          (assign, reg5, ":var11"),
          (str_store_string, s2, "str_reg4_wounded_reg5_routed"),
        (else_try),
          (gt, ":var13", 0),
          (assign, reg1, ":var13"),
          (str_store_string, s3, "@killed"),
          (str_store_string, s2, "str_reg1_blank_s3"),
        (else_try),
          (gt, ":var10", 0),
          (assign, reg1, ":var10"),
          (str_store_string, s3, "@wounded"),
          (str_store_string, s2, "str_reg1_blank_s3"),
        (else_try),
          (assign, reg1, ":var11"),
          (str_store_string, s3, "str_routed"),
          (str_store_string, s2, "str_reg1_blank_s3"),
        (try_end),
        (try_begin),
          (eq, ":var1", 1),
          (try_begin),
            (eq, ":var2", 0),
            (str_store_string, s0, "@{!}{reg3?{reg3}:} {s1} ({s2})"),
          (else_try),
            (str_store_string, s0, "@{!}{s0}, {reg3?{reg3}:} {s1} ({s2})"),
          (try_end),
        (else_try),
          (str_store_string, s0, "@{!}{s0}^{reg3?{reg3}:} {s1} ({s2})"),
        (try_end),
        (val_add, ":var2", 1),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|gt, ":var4", 0),
      (this_or_next|gt, ":var3", 0),
      (gt, ":var5", 0),
      (store_add, ":var14", ":var4", ":var3"),
      (val_add, ":var14", ":var5"),
      (assign, reg3, ":var14"),
      (try_begin),
        (gt, ":var4", 0),
        (gt, ":var3", 0),
        (gt, ":var5", 0),
        (assign, reg4, ":var4"),
        (assign, reg5, ":var3"),
        (assign, reg6, ":var5"),
        (str_store_string, s2, "str_reg4_killed_reg5_wounded_reg6_routed"),
      (else_try),
        (gt, ":var4", 0),
        (gt, ":var5", 0),
        (assign, reg4, ":var4"),
        (assign, reg5, ":var5"),
        (str_store_string, s2, "str_reg4_killed_reg5_routed"),
      (else_try),
        (gt, ":var4", 0),
        (gt, ":var3", 0),
        (assign, reg4, ":var4"),
        (assign, reg5, ":var3"),
        (str_store_string, s2, "str_reg4_killed_reg5_wounded"),
      (else_try),
        (gt, ":var3", 0),
        (gt, ":var5", 0),
        (assign, reg4, ":var3"),
        (assign, reg5, ":var5"),
        (str_store_string, s2, "str_reg4_wounded_reg5_routed"),
      (else_try),
        (gt, ":var4", 0),
        (str_store_string, s2, "@killed"),
      (else_try),
        (gt, ":var3", 0),
        (str_store_string, s2, "@wounded"),
      (else_try),
        (str_store_string, s2, "str_routed"),
      (else_try),
      (try_end),
      (str_store_string, s0, "@{s0}^TOTAL: {reg3} ({s2})"),
    (else_try),
      (try_begin),
        (eq, ":var1", 1),
        (str_store_string, s0, "@None"),
      (else_try),
        (str_store_string, s0, "@^None"),
      (try_end),
    (try_end),
  ]),

  ("write_fit_party_members_to_stack_selection",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (assign, ":var3", 2),
    (assign, ":var4", 0),
    (try_for_range, ":var5", 0, ":var2"),
      (party_stack_get_troop_id, ":var6", ":var0", ":var5"),
      (assign, ":var7", 0),
      (try_begin),
        (troop_is_hero, ":var6"),
        (try_begin),
          (neg|troop_is_wounded, ":var6"),
          (this_or_next|eq, ":var1", 0),
          (neq, ":var5", 0),
          (assign, ":var7", 1),
        (try_end),
      (else_try),
        (party_stack_get_size, ":var7", ":var0", ":var5"),
        (party_stack_get_num_wounded, ":var8", ":var0", ":var5"),
        (val_sub, ":var7", ":var8"),
      (try_end),
      (try_begin),
        (gt, ":var7", 0),
        (troop_set_slot, "trp_stack_selection_amounts", ":var3", ":var7"),
        (troop_set_slot, "trp_stack_selection_ids", ":var3", ":var6"),
        (val_add, ":var3", 1),
      (try_end),
      (val_add, ":var4", ":var7"),
    (try_end),
    (val_sub, ":var3", 2),
    (troop_set_slot, "trp_stack_selection_amounts", 0, ":var3"),
    (troop_set_slot, "trp_stack_selection_amounts", 1, ":var4"),
  ]),

  ("remove_fit_party_member_from_stack_selection",
  [
    (store_script_param, ":var0", 1),
    (val_add, ":var0", 2),
    (troop_get_slot, ":var1", "trp_stack_selection_amounts", ":var0"),
    (troop_get_slot, ":var2", "trp_stack_selection_ids", ":var0"),
    (val_sub, ":var1", 1),
    (troop_set_slot, "trp_stack_selection_amounts", ":var0", ":var1"),
    (troop_get_slot, ":var3", "trp_stack_selection_amounts", 1),
    (val_sub, ":var3", 1),
    (troop_set_slot, "trp_stack_selection_amounts", 1, ":var3"),
    (try_begin),
      (le, ":var1", 0),
      (troop_get_slot, ":var4", "trp_stack_selection_amounts", 0),
      (store_add, ":var5", ":var4", 2),
      (store_add, ":var6", ":var0", 1),
      (try_for_range, ":var7", ":var6", ":var5"),
        (store_sub, ":var8", ":var7", 1),
        (troop_get_slot, ":var9", "trp_stack_selection_amounts", ":var7"),
        (troop_set_slot, "trp_stack_selection_amounts", ":var8", ":var9"),
        (troop_get_slot, ":var9", "trp_stack_selection_ids", ":var7"),
        (troop_set_slot, "trp_stack_selection_ids", ":var8", ":var9"),
      (try_end),
      (val_sub, ":var4", 1),
      (troop_set_slot, "trp_stack_selection_amounts", 0, ":var4"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("remove_random_fit_party_member_from_stack_selection",
  [
    (troop_get_slot, ":var0", "trp_stack_selection_amounts", 1),
    (store_random_in_range, ":var1", 0, ":var0"),
    (troop_get_slot, ":var2", "trp_stack_selection_amounts", 0),
    (store_add, ":var3", ":var2", 2),
    (try_for_range, ":var4", 2, ":var3"),
      (troop_get_slot, ":var5", "trp_stack_selection_amounts", ":var4"),
      (val_sub, ":var1", ":var5"),
      (lt, ":var1", 0),
      (assign, ":var3", 0),
      (store_sub, ":var6", ":var4", 2),
    (try_end),
    (call_script, "script_remove_fit_party_member_from_stack_selection", ":var6"),
  ]),

  ("add_routed_party",
  [
    (party_get_num_companion_stacks, ":var0", "p_routed_enemies"),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (try_for_range, ":var3", 0, ":var0"),
      (store_sub, ":var4", ":var0", ":var3"),
      (ge, ":var4", ":var2"),
      (store_sub, ":var5", ":var3", ":var2"),
      (party_stack_get_troop_id, ":var6", "p_routed_enemies", ":var5"),
      (try_begin),
        (troop_is_hero, ":var6"),
        (party_stack_get_size, ":var7", "p_routed_enemies", ":var5"),
        (party_remove_members, "p_routed_enemies", ":var6", 1),
        (try_begin),
          (le, ":var7", 1),
          (val_add, ":var2", 1),
        (try_end),
      (else_try),
        (val_add, ":var1", 1),
      (try_end),
    (try_end),
    (try_begin),
      (ge, ":var1", 1),
      (set_spawn_radius, 2),
      (spawn_around_party, "p_main_party", "pt_routed_warriors"),
      (assign, ":var8", reg0),
      (party_set_slot, ":var8", 30, -1),
      (assign, ":var9", 0),
      (assign, ":var10", "fac_neutral"),
      (try_for_range, ":var11", 42, 114),
        (faction_get_slot, ":var12", ":var11", 90),
        (gt, ":var12", ":var9"),
        (assign, ":var9", ":var12"),
        (assign, ":var10", ":var11"),
      (try_end),
      (party_set_faction, ":var8", ":var10"),
      (party_set_ai_behavior, ":var8", ai_bhvr_travel_to_party),
      (assign, ":var13", 1000000),
      (try_for_parties, ":var14"),
        (party_is_active, ":var14"),
        (party_get_slot, ":var15", ":var14", 0),
        (this_or_next|eq, ":var15", 3),
        (eq, ":var15", 2),
        (store_faction_of_party, ":var11", ":var14"),
        (this_or_next|eq, ":var10", "fac_neutral"),
        (eq, ":var11", ":var10"),
        (party_get_position, pos1, ":var14"),
        (store_distance_to_party_from_party, ":var16", ":var14", "p_main_party"),
        (try_begin),
          (lt, ":var16", ":var13"),
          (assign, ":var13", ":var16"),
          (assign, ":var17", ":var14"),
        (try_end),
      (try_end),
      (party_get_position, pos1, "p_main_party"),
      (party_get_position, pos2, ":var17"),
      (assign, ":var13", 1000000),
      (try_for_range, ":var18", 0, 10),
        (map_get_random_position_around_position, pos3, pos1, 2),
        (get_distance_between_positions, ":var16", pos2, pos3),
        (try_begin),
          (lt, ":var16", ":var13"),
          (assign, ":var13", ":var16"),
          (copy_position, 63, 3),
        (try_end),
      (try_end),
      (party_set_position, ":var8", pos63),
      (party_set_ai_object, ":var8", ":var17"),
      (party_set_flags, ":var8", pf_default_behavior, 1),
      (party_clear, ":var8"),
      (party_get_num_companion_stacks, ":var0", "p_routed_enemies"),
      (try_for_range, ":var3", 0, ":var0"),
        (party_stack_get_troop_id, ":var6", "p_routed_enemies", ":var3"),
        (try_begin),
          (neg|troop_is_hero, ":var6"),
          (party_stack_get_size, ":var7", "p_routed_enemies", ":var3"),
          (party_add_members, ":var8", ":var6", ":var7"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("cf_training_ground_sub_routine_1_for_melee_details",
  [
    (store_script_param, ":var0", 1),
    (ge, "$temp_3", ":var0"),
    (val_add, ":var0", 1),
    (troop_get_slot, ":var1", "trp_stack_selection_ids", ":var0"),
    (str_store_troop_name, s0, ":var1"),
  ]),

  ("training_ground_sub_routine_2_for_melee_details",
  [
    (store_script_param, ":var0", 1),
    (val_sub, ":var0", 1),
    (try_begin),
      (lt, ":var0", 0),
      (call_script, "script_remove_random_fit_party_member_from_stack_selection"),
    (else_try),
      (call_script, "script_remove_fit_party_member_from_stack_selection", ":var0"),
    (try_end),
    (assign, ":var1", reg0),
    (store_sub, ":var2", "$temp_2", 1),
    (troop_set_slot, "trp_temp_array_a", ":var2", ":var1"),
    (try_begin),
      (eq, "$temp", "$temp_2"),
      (call_script, "script_start_training_at_training_ground", -1, "$temp"),
    (else_try),
      (val_add, "$temp_2", 1),
      (jump_to_menu, "mnu_training_ground_selection_details_melee_2"),
    (try_end),
  ]),

  ("cf_training_ground_sub_routine_for_training_result",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_character_level, ":var4", ":var0"),
    (store_add, ":var5", ":var4", 5),
    (store_mul, ":var6", ":var5", 3),
    (val_min, ":var6", 100),
    (store_sub, ":var7", ":var6", "$g_training_ground_training_hardness"),
    (val_max, ":var7", 0),
    (store_sub, ":var7", 100, ":var7"),
    (val_mul, ":var7", ":var7"),
    (val_div, ":var7", 10),
    (store_mul, ":var8", ":var3", ":var7"),
    (val_div, ":var8", 1000),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (val_mul, ":var8", 1),
    (else_try),
      (try_begin),
        (eq, "$g_mt_mode", 1),
        (try_begin),
          (this_or_next|troop_is_guarantee_ranged, ":var0"),
          (troop_is_guarantee_horse, ":var0"),
          (val_div, ":var8", 4),
        (try_end),
      (else_try),
        (eq, "$g_mt_mode", 3),
        (try_begin),
          (neg|troop_is_guarantee_horse, ":var0"),
          (assign, ":var8", 0),
        (try_end),
      (else_try),
        (neg|troop_is_guarantee_ranged, ":var0"),
        (assign, ":var8", 0),
      (try_end),
    (try_end),
    (val_add, ":var4", 1),
    (store_mul, ":var9", 100, ":var4"),
    (val_mul, ":var9", ":var2"),
    (val_div, ":var9", 20),
    (val_mul, ":var9", ":var8"),
    (val_div, ":var9", 1000),
    (store_mul, ":var10", ":var9", 3),
    (val_div, ":var10", 2),
    (store_div, ":var11", ":var9", 2),
    (store_random_in_range, ":var12", ":var11", ":var10"),
    (gt, ":var12", 0),
    (try_begin),
      (troop_is_hero, ":var0"),
      (add_xp_to_troop, ":var12", ":var0"),
      (store_div, ":var13", ":var12", 50),
      (try_begin),
        (gt, ":var13", 0),
        (troop_raise_proficiency, ":var0", "$g_training_ground_used_weapon_proficiency", ":var13"),
      (try_end),
    (else_try),
      (party_add_xp_to_stack, "p_main_party", ":var1", ":var12"),
    (try_end),
    (assign, reg0, ":var12"),
  ]),

  ("print_troop_owned_centers_in_numbers_to_s0",
  [
    (store_script_param_1, ":var0"),
    (str_store_string, s0, "@nothing"),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_for_range_backwards, ":var4", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var4", 7, ":var0"),
      (try_begin),
        (party_slot_eq, ":var4", 0, 3),
        (val_add, ":var1", 1),
      (else_try),
        (party_slot_eq, ":var4", 0, 2),
        (val_add, ":var2", 1),
      (else_try),
        (val_add, ":var3", 1),
      (try_end),
    (try_end),
    (assign, ":var5", 0),
    (try_begin),
      (gt, ":var3", 0),
      (assign, reg0, ":var3"),
      (store_sub, reg1, reg0, 1),
      (str_store_string, s0, "@{reg0} village{reg1?s:}"),
      (val_add, ":var5", 1),
    (try_end),
    (try_begin),
      (gt, ":var2", 0),
      (assign, reg0, ":var2"),
      (store_sub, reg1, reg0, 1),
      (try_begin),
        (eq, ":var5", 0),
        (str_store_string, s0, "@{reg0} castle{reg1?s:}"),
      (else_try),
        (str_store_string, s0, "@{reg0} castle{reg1?s:} and {s0}"),
      (try_end),
      (val_add, ":var5", 1),
    (try_end),
    (try_begin),
      (gt, ":var1", 0),
      (assign, reg0, ":var1"),
      (store_sub, reg1, reg0, 1),
      (try_begin),
        (eq, ":var5", 0),
        (str_store_string, s0, "@{reg0} town{reg1?s:}"),
      (else_try),
        (eq, ":var5", 1),
        (str_store_string, s0, "@{reg0} town{reg1?s:} and {s0}"),
      (else_try),
        (str_store_string, s0, "@{reg0} town{reg1?s:}, {s0}"),
      (try_end),
    (try_end),
    (store_add, reg0, ":var3", ":var2"),
    (val_add, reg0, ":var1"),
  ]),

  ("get_random_melee_training_weapon",
  [
    (assign, ":var0", -1),
    (assign, ":var1", -1),
    (store_random_in_range, ":var2", 0, 3),
    (try_begin),
      (eq, ":var2", 0),
      (assign, ":var0", "itm_practice_staff"),
    (else_try),
      (eq, ":var2", 1),
      (assign, ":var0", "itm_practice_sword"),
      (assign, ":var1", "itm_practice_shield"),
    (else_try),
      (assign, ":var0", "itm_heavy_practice_sword"),
    (try_end),
    (assign, reg0, ":var0"),
    (assign, reg1, ":var1"),
  ]),

  ("start_training_at_training_ground",
  [
    (val_add, "$g_training_ground_training_count", 1),
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (set_jump_mission, "mt_training_ground_training"),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", -1),
    (assign, "$scene_num_total_gourds_destroyed", 0),
    (try_begin),
      (eq, ":var0", 8),
      (assign, "$g_training_ground_used_weapon_proficiency", 3),
      (assign, ":var2", "itm_practice_bow"),
      (try_begin),
        (eq, "$g_mt_mode", 3),
        (assign, ":var3", "itm_practice_arrows_100_amount"),
      (else_try),
        (assign, ":var3", "itm_practice_arrows_10_amount"),
      (try_end),
    (else_try),
      (eq, ":var0", 9),
      (assign, "$g_training_ground_used_weapon_proficiency", 4),
      (assign, ":var2", "itm_practice_crossbow"),
      (assign, ":var3", "itm_practice_bolts_9_amount"),
    (else_try),
      (eq, ":var0", 10),
      (assign, "$g_training_ground_used_weapon_proficiency", 5),
      (try_begin),
        (eq, "$g_mt_mode", 3),
        (assign, ":var3", "itm_practice_throwing_daggers_100_amount"),
      (else_try),
        (assign, ":var3", "itm_practice_throwing_daggers"),
      (try_end),
    (else_try),
      (eq, ":var0", 2),
      (assign, "$g_training_ground_used_weapon_proficiency", 0),
      (assign, ":var2", "itm_practice_sword"),
    (else_try),
      (eq, ":var0", 4),
      (assign, "$g_training_ground_used_weapon_proficiency", 2),
      (assign, ":var2", "itm_practice_lance"),
    (else_try),
      (assign, "$g_training_ground_used_weapon_proficiency", 0),
      (call_script, "script_get_random_melee_training_weapon"),
      (assign, ":var2", reg0),
      (assign, ":var3", reg1),
    (try_end),
    (try_begin),
      (eq, "$g_mt_mode", 3),
      (assign, ":var4", "itm_practice_horse"),
      (store_add, "$g_training_ground_training_scene", "scn_training_ground_horse_track_1", "$g_encountered_party"),
      (val_sub, "$g_training_ground_training_scene", "p_training_ground"),
    (else_try),
      (store_add, "$g_training_ground_training_scene", "scn_training_ground_ranged_melee_1", "$g_encountered_party"),
      (val_sub, "$g_training_ground_training_scene", "p_training_ground"),
    (try_end),
    (modify_visitors_at_site, "$g_training_ground_training_scene"),
    (reset_visitors),
    (set_visitor, 0, "trp_player"),
    (assign, ":var5", -1),
    (try_for_range, ":var6", 0, 4),
      (troop_get_inventory_slot, ":var7", "trp_player", ":var6"),
      (ge, ":var7", 0),
      (item_get_type, ":var8", ":var7"),
      (try_begin),
        (eq, ":var8", ":var0"),
        (eq, ":var5", -1),
        (assign, ":var5", ":var7"),
      (try_end),
    (try_end),
    (mission_tpl_entry_clear_override_items, "mt_training_ground_training", 0),
    (mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, "itm_practice_boots"),
    (try_begin),
      (ge, ":var2", 0),
      (try_begin),
        (ge, ":var5", 0),
        (mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, ":var5"),
      (else_try),
        (mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, ":var2"),
      (try_end),
    (try_end),
    (try_begin),
      (ge, ":var3", 0),
      (mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, ":var3"),
    (try_end),
    (try_begin),
      (ge, ":var4", 0),
      (mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, ":var4"),
    (try_end),
    (assign, ":var9", 5),
    (troop_get_slot, ":var10", "trp_stack_selection_amounts", 1),
    (store_add, ":var11", 5, ":var10"),
    (val_min, ":var11", 13),
    (try_for_range, ":var9", 5, ":var11"),
      (call_script, "script_remove_random_fit_party_member_from_stack_selection"),
      (set_visitor, ":var9", reg0),
      (val_add, ":var9", 1),
    (try_end),
    (try_begin),
      (eq, "$g_mt_mode", 1),
      (assign, ":var12", 0),
      (try_for_range, ":var13", 0, ":var1"),
        (troop_get_slot, ":var14", "trp_temp_array_a", ":var13"),
        (store_add, ":var15", ":var13", 1),
        (set_visitor, ":var15", ":var14"),
        (try_begin),
          (ge, reg1, 0),
        (try_end),
        (store_character_level, ":var16", ":var14"),
        (val_add, ":var16", 10),
        (val_mul, ":var16", ":var16"),
        (val_add, ":var12", ":var16"),
      (try_end),
      (assign, "$g_training_ground_training_num_enemies", ":var1"),
      (assign, "$g_training_ground_training_hardness", ":var12"),
      (store_add, ":var17", "$g_training_ground_training_num_enemies", 4),
      (val_mul, "$g_training_ground_training_hardness", ":var17"),
      (val_div, "$g_training_ground_training_hardness", 2400),
      (str_store_string, s0, "@Your opponents are ready for the fight."),
    (else_try),
      (eq, "$g_mt_mode", 3),
      (try_begin),
        (eq, ":var0", 8),
        (assign, "$g_training_ground_training_hardness", 350),
        (assign, "$g_training_ground_training_num_gourds_to_destroy", 30),
      (else_try),
        (eq, ":var0", 10),
        (assign, "$g_training_ground_training_hardness", 400),
        (assign, "$g_training_ground_training_num_gourds_to_destroy", 30),
      (else_try),
        (eq, ":var0", 2),
        (assign, "$g_training_ground_training_hardness", 200),
        (assign, "$g_training_ground_training_num_gourds_to_destroy", 45),
      (else_try),
        (eq, ":var0", 4),
        (assign, "$g_training_ground_training_hardness", 280),
        (assign, "$g_training_ground_training_num_gourds_to_destroy", 35),
      (try_end),
      (str_store_string, s0, "@Try to destroy as many targets as you can. You have two and a half minutes to clear the track."),
    (else_try),
      (eq, "$g_mt_mode", 2),
      (store_mul, "$g_training_ground_ranged_distance", ":var1", 100),
      (assign, ":var18", ":var1"),
      (val_mul, ":var18", ":var18"),
      (try_begin),
        (eq, ":var0", 8),
        (val_mul, ":var18", 3),
        (val_div, ":var18", 2),
      (else_try),
        (eq, ":var0", 10),
        (val_mul, ":var18", 5),
        (val_div, ":var18", 2),
        (val_mul, ":var18", ":var1"),
        (val_div, ":var18", 2),
      (try_end),
      (store_mul, "$g_training_ground_training_hardness", 100, ":var18"),
      (val_div, "$g_training_ground_training_hardness", 6000),
      (str_store_string, s0, "@Stay behind the line on the ground and shoot the targets. Try not to waste any shots."),
    (try_end),
    (jump_to_menu, "mnu_training_ground_description"),
  ]),

  ("party_count_fit_regulars",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (assign, reg0, 0),
    (try_for_range, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", ":var0", ":var2"),
      (neg|troop_is_hero, ":var3"),
      (party_stack_get_size, ":var4", ":var0", ":var2"),
      (party_stack_get_num_wounded, ":var5", ":var0", ":var2"),
      (val_sub, ":var4", ":var5"),
      (val_add, reg0, ":var4"),
    (try_end),
  ]),

  ("party_count_fit_for_battle",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (assign, reg0, 0),
    (try_for_range, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", ":var0", ":var2"),
      (assign, ":var4", 0),
      (try_begin),
        (troop_is_hero, ":var3"),
        (try_begin),
          (neg|troop_is_wounded, ":var3"),
          (assign, ":var4", 1),
        (try_end),
      (else_try),
        (party_stack_get_size, ":var4", ":var0", ":var2"),
        (party_stack_get_num_wounded, ":var5", ":var0", ":var2"),
        (val_sub, ":var4", ":var5"),
      (try_end),
      (val_add, reg0, ":var4"),
    (try_end),
  ]),

  ("party_count_members_with_full_health",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (assign, reg0, 0),
    (try_for_range, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", ":var0", ":var2"),
      (assign, ":var4", 0),
      (try_begin),
        (troop_is_hero, ":var3"),
        (neq, ":var3", "trp_player"),
        (store_troop_health, ":var5", ":var3"),
        (try_begin),
          (ge, ":var5", 80),
          (assign, ":var4", 1),
        (try_end),
      (else_try),
        (party_stack_get_size, ":var4", ":var0", ":var2"),
        (party_stack_get_num_wounded, ":var6", ":var0", ":var2"),
        (val_sub, ":var4", ":var6"),
        (val_max, ":var4", 0),
      (try_end),
      (val_add, reg0, ":var4"),
    (try_end),
  ]),

  ("get_stack_with_rank",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (assign, reg0, -1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 0, ":var2"),
      (eq, reg0, -1),
      (party_stack_get_troop_id, ":var5", ":var0", ":var4"),
      (neg|troop_is_hero, ":var5"),
      (party_stack_get_size, ":var6", ":var0", ":var4"),
      (party_stack_get_num_wounded, ":var7", ":var0", ":var4"),
      (val_sub, ":var6", ":var7"),
      (val_add, ":var3", ":var6"),
      (try_begin),
        (lt, ":var1", ":var3"),
        (assign, reg0, ":var4"),
      (try_end),
    (try_end),
  ]),

  ("inflict_casualties_to_party",
  [
    (party_clear, "p_temp_casualties"),
    (party_clear, "p_temp_casualties_attacker"),
    (party_clear, "p_temp_casualties_defender"),
    (store_script_param_1, ":var0"),
    (call_script, "script_party_count_fit_regulars", ":var0"),
    (assign, ":var1", reg0),
    (store_script_param_2, ":var2"),
    (try_for_range, ":var3", 0, ":var2"),
      (gt, ":var1", 0),
      (store_random_in_range, ":var4", 0, ":var1"),
      (assign, reg1, ":var4"),
      (call_script, "script_get_stack_with_rank", ":var0", ":var4"),
      (assign, ":var5", reg0),
      (party_stack_get_troop_id, ":var6", ":var0", ":var5"),
      (store_character_level, ":var7", ":var6"),
      (val_add, ":var7", 5),
      (assign, ":var8", 10000),
      (val_div, ":var8", ":var7"),
      (try_begin),
        (store_random_in_range, ":var9", 0, 10000),
        (lt, ":var9", ":var8"),
        (store_random_in_range, ":var10", 0, 2),
        (try_begin),
          (troop_is_hero, ":var6"),
          (store_troop_health, ":var11", ":var6"),
          (val_sub, ":var11", 45),
          (val_max, ":var11", 1),
          (troop_set_health, ":var6", ":var11"),
        (else_try),
          (lt, ":var10", 1),
          (party_add_members, "p_temp_casualties", ":var6", 1),
          (party_wound_members, "p_temp_casualties", ":var6", 1),
          (party_wound_members, ":var0", ":var6", 1),
        (else_try),
          (party_add_members, "p_temp_casualties", ":var6", 1),
          (party_remove_members, ":var0", ":var6", 1),
        (try_end),
        (val_sub, ":var1", 1),
      (try_end),
    (try_end),
  ]),

  ("move_members_with_ratio",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_prisoner_stacks, ":var2", ":var0"),
    (try_for_range_backwards, ":var3", 0, ":var2"),
      (party_prisoner_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (party_prisoner_stack_get_size, ":var5", ":var0", ":var3"),
      (store_mul, ":var6", ":var5", "$pin_number"),
      (val_div, ":var6", 1000),
      (party_remove_prisoners, ":var0", ":var4", ":var6"),
      (assign, ":var7", reg0),
      (party_add_prisoners, ":var1", ":var4", ":var7"),
    (try_end),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (try_for_range_backwards, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (party_stack_get_size, ":var5", ":var0", ":var3"),
      (store_mul, ":var6", ":var5", "$pin_number"),
      (val_div, ":var6", 1000),
      (party_remove_members, ":var0", ":var4", ":var6"),
      (assign, ":var7", reg0),
      (party_add_members, ":var1", ":var4", ":var7"),
    (try_end),
  ]),

  ("count_parties_of_faction_and_party_type",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, reg0, 0),
    (try_for_parties, ":var2"),
      (party_is_active, ":var2"),
      (party_get_slot, ":var3", ":var2", 0),
      (store_faction_of_party, ":var4", ":var2"),
      (eq, ":var3", ":var1"),
      (eq, ":var4", ":var0"),
      (val_add, reg0, 1),
    (try_end),
  ]),

  ("faction_get_number_of_armies",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_for_range, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var2", 166, 1),
      (troop_slot_eq, ":var2", 2, 2),
      (store_faction_of_troop, ":var3", ":var2"),
      (eq, ":var3", ":var0"),
      (troop_get_slot, ":var4", ":var2", 10),
      (ge, ":var4", 0),
      (party_is_active, ":var4"),
      (call_script, "script_party_count_fit_regulars", ":var4"),
      (assign, ":var5", reg0),
      (call_script, "script_party_get_ideal_size", ":var4"),
      (assign, ":var6", reg0),
      (val_mul, ":var6", 60),
      (val_div, ":var6", 100),
      (gt, ":var5", ":var6"),
      (val_add, ":var1", 1),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("faction_recalculate_strength",
  [
    (store_script_param_1, ":var0"),
    (call_script, "script_faction_get_number_of_armies", ":var0"),
    (assign, ":var1", reg0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (try_for_range, ":var6", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var7", ":var6"),
      (eq, ":var7", ":var0"),
      (try_begin),
        (party_slot_eq, ":var6", 0, 2),
        (val_add, ":var2", 1),
      (else_try),
        (party_slot_eq, ":var6", 0, 3),
        (val_add, ":var3", 1),
      (else_try),
        (party_slot_eq, ":var6", 0, 4),
        (val_add, ":var4", 1),
      (try_end),
    (try_end),
    (try_for_range, ":var8", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var8", 166, 1),
      (store_faction_of_troop, ":var9", ":var8"),
      (eq, ":var9", ":var0"),
      (val_add, ":var5", 1),
    (try_end),
    (faction_set_slot, ":var0", 80, ":var1"),
    (faction_set_slot, ":var0", 81, ":var2"),
    (faction_set_slot, ":var0", 108, ":var4"),
    (faction_set_slot, ":var0", 82, ":var3"),
    (faction_set_slot, ":var0", 107, ":var5"),
  ]),

  ("cf_select_random_town_with_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_castle_1_1"),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (val_add, ":var2", 1),
    (try_end),
    (gt, ":var2", 0),
    (store_random_in_range, ":var5", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_castle_1_1"),
      (eq, ":var1", -1),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (val_add, ":var2", 1),
      (gt, ":var2", ":var5"),
      (assign, ":var1", ":var3"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cf_select_random_village_with_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_village_1_1", "p_salt_mine"),
      (neg|this_or_next|party_slot_eq, ":var3", 35, 1),
      (neg|this_or_next|party_slot_eq, ":var3", 35, 4),
      (neg|party_slot_eq, ":var3", 35, 2),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (val_add, ":var2", 1),
    (try_end),
    (gt, ":var2", 0),
    (store_random_in_range, ":var5", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_village_1_1", "p_salt_mine"),
      (neg|this_or_next|party_slot_eq, ":var3", 35, 1),
      (neg|this_or_next|party_slot_eq, ":var3", 35, 4),
      (neg|party_slot_eq, ":var3", 35, 2),
      (eq, ":var1", -1),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (val_add, ":var2", 1),
      (gt, ":var2", ":var5"),
      (assign, ":var1", ":var3"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cf_select_random_walled_center_with_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (val_add, ":var2", 1),
    (try_end),
    (gt, ":var2", 0),
    (store_random_in_range, ":var5", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_village_1_1"),
      (eq, ":var1", -1),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (val_add, ":var2", 1),
      (gt, ":var2", ":var5"),
      (assign, ":var1", ":var3"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cf_select_random_walled_center_with_faction_and_owner_priority_no_siege",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (assign, ":var3", 0),
    (call_script, "script_lord_get_home_center", ":var1"),
    (assign, ":var4", reg0),
    (try_for_range, ":var5", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var6", ":var5"),
      (eq, ":var6", ":var0"),
      (party_slot_eq, ":var5", 54, -1),
      (val_add, ":var3", 1),
      (eq, ":var4", ":var5"),
      (val_add, ":var3", 1000),
    (try_end),
    (try_begin),
      (le, ":var3", 0),
      (assign, "$g_there_is_no_avaliable_centers", 1),
      (try_for_range, ":var5", "p_town_1_1", "p_village_1_1"),
        (party_slot_eq, ":var5", 54, -1),
        (val_add, ":var3", 1),
      (try_end),
    (else_try),
      (assign, "$g_there_is_no_avaliable_centers", 0),
    (try_end),
    (faction_get_slot, ":var7", ":var0", 11),
    (this_or_next|eq, "$g_there_is_no_avaliable_centers", 0),
    (neq, ":var1", ":var7"),
    (store_random_in_range, ":var8", 0, ":var3"),
    (try_for_range, ":var5", "p_town_1_1", "p_village_1_1"),
      (eq, ":var2", -1),
      (store_faction_of_party, ":var6", ":var5"),
      (this_or_next|eq, "$g_there_is_no_avaliable_centers", 1),
      (eq, ":var6", ":var0"),
      (party_slot_eq, ":var5", 54, -1),
      (val_sub, ":var8", 1),
      (try_begin),
        (eq, ":var4", ":var5"),
        (eq, "$g_there_is_no_avaliable_centers", 0),
        (val_sub, ":var8", 1000),
      (try_end),
      (lt, ":var8", 0),
      (assign, ":var2", ":var5"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cf_select_random_walled_center_with_faction_and_less_strength_priority",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var5", ":var4"),
      (eq, ":var5", ":var0"),
      (party_slot_eq, ":var4", 54, -1),
      (val_add, ":var3", 1),
      (try_begin),
        (eq, ":var4", ":var1"),
        (val_add, ":var3", 99),
      (try_end),
    (try_end),
    (gt, ":var3", 0),
    (store_random_in_range, ":var6", 0, ":var3"),
    (try_for_range, ":var4", "p_town_1_1", "p_village_1_1"),
      (eq, ":var2", -1),
      (store_faction_of_party, ":var5", ":var4"),
      (eq, ":var5", ":var0"),
      (party_slot_eq, ":var4", 54, -1),
      (val_sub, ":var6", 1),
      (try_begin),
        (eq, ":var4", ":var1"),
        (val_sub, ":var6", 99),
      (try_end),
      (lt, ":var6", 0),
      (assign, ":var2", ":var4"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cf_select_random_town_at_peace_with_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_castle_1_1"),
      (store_faction_of_party, ":var4", ":var3"),
      (store_relation, ":var5", ":var4", ":var0"),
      (ge, ":var5", 0),
      (val_add, ":var2", 1),
    (try_end),
    (gt, ":var2", 0),
    (store_random_in_range, ":var6", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_castle_1_1"),
      (eq, ":var1", -1),
      (store_faction_of_party, ":var4", ":var3"),
      (store_relation, ":var5", ":var4", ":var0"),
      (ge, ":var5", 0),
      (val_add, ":var2", 1),
      (gt, ":var2", ":var6"),
      (assign, ":var1", ":var3"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cf_select_random_town_at_peace_with_faction_in_trade_route",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 190, 205),
      (party_get_slot, ":var5", ":var0", ":var4"),
      (gt, ":var5", 0),
      (store_faction_of_party, ":var6", ":var5"),
      (store_relation, ":var7", ":var6", ":var1"),
      (ge, ":var7", 0),
      (val_add, ":var3", 1),
    (try_end),
    (gt, ":var3", 0),
    (store_random_in_range, ":var8", 0, ":var3"),
    (try_for_range, ":var4", 190, 205),
      (eq, ":var2", -1),
      (party_get_slot, ":var5", ":var0", ":var4"),
      (gt, ":var5", 0),
      (store_faction_of_party, ":var6", ":var5"),
      (store_relation, ":var7", ":var6", ":var1"),
      (ge, ":var7", 0),
      (val_sub, ":var8", 1),
      (lt, ":var8", 0),
      (assign, ":var2", ":var5"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cf_select_most_profitable_town_at_peace_with_faction_in_trade_route",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (assign, ":var3", 0),
    (store_sub, ":var4", 310, "itm_spice"),
    (try_for_range, ":var5", 190, 205),
      (party_get_slot, ":var6", ":var0", ":var5"),
      (gt, ":var6", 0),
      (store_faction_of_party, ":var7", ":var6"),
      (store_relation, ":var8", ":var7", ":var1"),
      (ge, ":var8", 0),
      (assign, ":var9", 0),
      (try_for_range, ":var10", "itm_spice", "itm_siege_supply"),
        (neq, ":var10", "itm_butter"),
        (neq, ":var10", "itm_cattle_meat"),
        (neq, ":var10", "itm_chicken"),
        (neq, ":var10", "itm_pork"),
        (store_add, ":var11", ":var10", ":var4"),
        (party_get_slot, ":var12", ":var0", ":var11"),
        (party_get_slot, ":var13", ":var6", ":var11"),
        (gt, ":var13", ":var12"),
        (store_sub, ":var14", ":var13", ":var12"),
        (try_begin),
          (this_or_next|eq, ":var10", "itm_spice"),
          (eq, ":var10", "itm_velvet"),
          (val_mul, ":var14", 2),
        (try_end),
        (val_add, ":var9", ":var14"),
      (try_end),
      (gt, ":var9", ":var3"),
      (assign, ":var3", ":var9"),
      (assign, ":var2", ":var6"),
    (try_end),
    (gt, ":var2", -1),
    (assign, reg0, ":var2"),
  ]),

  ("shuffle_troop_slots",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_for_range, ":var3", ":var1", ":var2"),
      (store_random_in_range, ":var4", ":var1", ":var2"),
      (troop_get_slot, ":var5", ":var0", ":var3"),
      (troop_get_slot, ":var6", ":var0", ":var4"),
      (troop_set_slot, ":var0", ":var3", ":var6"),
      (troop_set_slot, ":var0", ":var4", ":var5"),
    (try_end),
  ]),

  ("get_quest",
  [
    (store_script_param_1, ":var0"),
    (store_character_level, ":var1", "trp_player"),
    (store_faction_of_troop, ":var2", ":var0"),
    (troop_get_slot, ":var3", ":var0", 10),
    (troop_get_slot, ":var4", ":var0", 52),
    (assign, ":var5", -1),
    (try_begin),
      (gt, ":var3", 0),
      (party_get_attached_to, ":var5", ":var3"),
    (else_try),
      (is_between, "$g_encountered_party", "p_town_1_1", "p_salt_mine"),
      (assign, ":var5", "$g_encountered_party"),
    (try_end),
    (try_begin),
      (troop_slot_eq, ":var0", 2, 2),
      (try_begin),
        (ge, "$g_talk_troop_faction_relation", 0),
        (assign, ":var6", "qst_deliver_message"),
        (assign, ":var7", "qst_follow_army"),
        (assign, ":var8", "qst_destroy_bandit_lair"),
        (assign, ":var9", "qst_blank_quest_2"),
      (else_try),
        (assign, ":var6", "qst_lend_surgeon"),
        (assign, ":var7", "qst_follow_army"),
        (assign, ":var8", 0),
        (assign, ":var9", 0),
      (try_end),
    (else_try),
      (is_between, ":var0", "trp_village_1_elder", "trp_merchants_end"),
      (assign, ":var6", "qst_deliver_grain"),
      (assign, ":var7", "qst_eliminate_bandits_infesting_village"),
      (assign, ":var8", "qst_blank_quest_6"),
      (assign, ":var9", "qst_blank_quest_6"),
    (else_try),
      (is_between, ":var0", "trp_town_1_mayor", "trp_village_1_elder"),
      (assign, ":var6", "qst_move_cattle_herd"),
      (assign, ":var7", "qst_deliver_grain"),
      (assign, ":var8", "qst_blank_quest_11"),
      (assign, ":var9", "qst_blank_quest_11"),
    (else_try),
      (assign, ":var6", "qst_rescue_lord_by_replace"),
      (assign, ":var7", "qst_move_cattle_herd"),
      (assign, ":var8", "qst_blank_quest_16"),
      (assign, ":var9", "qst_blank_quest_16"),
    (try_end),
    (assign, ":var10", -1),
    (assign, ":var11", -1),
    (assign, ":var12", -1),
    (assign, ":var13", -1),
    (assign, ":var14", -1),
    (assign, ":var15", -1),
    (assign, ":var16", -1),
    (assign, ":var17", -1),
    (assign, ":var18", -1),
    (assign, ":var19", -1),
    (assign, ":var20", -1),
    (assign, ":var21", -1),
    (assign, ":var22", 1),
    (assign, ":var23", 0),
    (assign, ":var24", 0),
    (assign, ":var25", 0),
    (assign, ":var26", 0),
    (assign, ":var27", 0),
    (try_begin),
      (call_script, "script_get_dynamic_quest", "$g_talk_troop"),
      (assign, ":var10", reg0),
      (assign, ":var28", reg1),
      (assign, ":var29", reg2),
      (assign, ":var30", reg3),
      (try_begin),
        (eq, ":var10", "qst_track_down_bandits"),
        (assign, ":var17", ":var29"),
        (assign, ":var26", 60),
        (assign, ":var23", 1000),
        (assign, ":var24", 1000),
      (else_try),
        (eq, ":var10", "qst_retaliate_for_border_incident"),
        (assign, ":var11", ":var28"),
        (assign, ":var13", ":var30"),
        (assign, ":var26", 30),
        (assign, ":var23", 1000),
        (assign, ":var24", 1000),
      (else_try),
        (eq, ":var10", "qst_cause_provocation"),
        (assign, ":var13", ":var30"),
        (assign, ":var26", 30),
        (assign, ":var27", 100),
        (assign, ":var23", 1000),
        (assign, ":var24", 1000),
      (else_try),
        (eq, ":var10", "qst_destroy_bandit_lair"),
        (assign, ":var17", ":var29"),
        (assign, ":var26", 60),
        (assign, ":var23", 3000),
        (assign, ":var24", 1500),
      (else_try),
        (eq, ":var10", "qst_rescue_prisoner"),
        (assign, ":var11", ":var28"),
        (assign, ":var12", ":var29"),
        (assign, ":var26", 30),
        (assign, ":var27", 5),
        (assign, ":var23", 1500),
        (assign, ":var24", 3000),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var10", -1),
      (try_for_range, ":var31", 0, 20),
        (eq, ":var10", -1),
        (assign, ":var11", -1),
        (assign, ":var12", -1),
        (assign, ":var13", -1),
        (assign, ":var14", -1),
        (assign, ":var15", -1),
        (assign, ":var16", -1),
        (assign, ":var17", -1),
        (assign, ":var18", -1),
        (assign, ":var19", -1),
        (assign, ":var20", -1),
        (assign, ":var21", -1),
        (assign, ":var22", 1),
        (assign, ":var23", 0),
        (assign, ":var24", 0),
        (assign, ":var25", 0),
        (assign, ":var26", 0),
        (assign, ":var27", 0),
        (store_sub, ":var32", ":var7", ":var6"),
        (store_sub, ":var33", ":var9", ":var8"),
        (store_add, ":var34", ":var32", ":var33"),
        (store_random_in_range, ":var35", 0, ":var34"),
        (try_begin),
          (lt, ":var35", ":var32"),
          (store_random_in_range, ":var35", ":var6", ":var7"),
        (else_try),
          (store_random_in_range, ":var35", ":var8", ":var9"),
        (try_end),
        (neg|check_quest_active, ":var35"),
        (neg|quest_slot_ge, ":var35", 25, 1),
        (try_begin),
          (eq, ":var35", "qst_deliver_grain"),
          (try_begin),
            (is_between, ":var5", "p_village_1_1", "p_salt_mine"),
            (call_script, "script_get_troop_item_amount", ":var0", "itm_grain"),
            (eq, reg0, 0),
            (neg|party_slot_ge, ":var5", 50, 40),
            (assign, ":var12", ":var5"),
            (store_random_in_range, ":var19", 4, 8),
            (assign, ":var26", 30),
            (assign, ":var27", 20),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_deliver_cattle"),
          (try_begin),
            (is_between, ":var5", "p_village_1_1", "p_salt_mine"),
            (party_get_slot, ":var36", ":var5", 205),
            (lt, ":var36", 50),
            (assign, ":var12", ":var5"),
            (store_random_in_range, ":var19", 5, 10),
            (assign, ":var26", 30),
            (assign, ":var27", 20),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_train_peasants_against_bandits"),
          (try_begin),
            (is_between, ":var5", "p_village_1_1", "p_salt_mine"),
            (store_skill_level, ":var37", "skl_trainer", "trp_player"),
            (gt, ":var37", 0),
            (store_random_in_range, ":var19", 5, 8),
            (assign, ":var12", ":var5"),
            (assign, ":var26", 20),
            (assign, ":var27", 40),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_escort_merchant_caravan"),
          (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
          (store_random_party_in_range, ":var12", "p_town_1_1", "p_castle_1_1"),
          (store_distance_to_party_from_party, ":var38", ":var5", ":var12"),
          (assign, ":var24", ":var38"),
          (store_mul, ":var24", ":var38", 15),
          (store_random_in_range, ":var19", 6, 12),
          (assign, "$escort_merchant_caravan_mode", 0),
          (assign, ":var10", ":var35"),
        (else_try),
          (eq, ":var35", "qst_deliver_wine"),
          (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
          (store_random_party_in_range, ":var12", "p_town_1_1", "p_castle_1_1"),
          (store_random_in_range, ":var39", 0, 2),
          (try_begin),
            (eq, ":var39", 0),
            (assign, ":var21", "itm_quest_wine"),
          (else_try),
            (assign, ":var21", "itm_quest_ale"),
          (try_end),
          (store_random_in_range, ":var19", 6, 12),
          (store_distance_to_party_from_party, ":var38", ":var5", ":var12"),
          (assign, ":var24", ":var38"),
          (val_mul, ":var24", 10),
          (store_item_value, "$qst_deliver_wine_debt", ":var21"),
          (val_mul, "$qst_deliver_wine_debt", ":var19"),
          (val_mul, "$qst_deliver_wine_debt", 6),
          (val_div, "$qst_deliver_wine_debt", 5),
          (assign, ":var26", 7),
          (assign, ":var27", 20),
          (assign, ":var10", ":var35"),
        (else_try),
          (eq, ":var35", "qst_troublesome_bandits"),
          (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
          (store_character_level, ":var24", "trp_player"),
          (val_add, ":var24", 20),
          (val_mul, ":var24", 35),
          (val_div, ":var24", 100),
          (val_mul, ":var24", 10),
          (assign, ":var26", 30),
          (assign, ":var27", 30),
          (assign, ":var10", ":var35"),
        (else_try),
          (eq, ":var35", "qst_kidnapped_girl"),
          (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
          (assign, ":var40", 99),
          (try_for_range, ":var31", 0, ":var40"),
            (store_random_in_range, ":var12", "p_village_1_1", "p_salt_mine"),
            (store_distance_to_party_from_party, ":var38", ":var5", ":var12"),
            (le, ":var38", 50),
            (assign, ":var40", 0),
          (try_end),
          (assign, reg21, ":var38"),
          (str_store_party_name, s21, ":var12"),
          (display_message, "@DEBUG -- {s21} distance {reg21}"),
          (store_character_level, ":var19"),
          (val_add, ":var19", 15),
          (store_distance_to_party_from_party, ":var38", ":var5", ":var12"),
          (val_add, ":var38", 15),
          (val_mul, ":var38", 2),
          (val_mul, ":var19", ":var38"),
          (val_div, ":var19", 100),
          (val_mul, ":var19", 10),
          (assign, ":var24", ":var19"),
          (val_div, ":var24", 40),
          (val_mul, ":var24", 10),
          (assign, ":var26", 15),
          (assign, ":var27", 30),
          (assign, ":var10", ":var35"),
        (else_try),
          (eq, ":var35", "qst_move_cattle_herd"),
          (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
          (call_script, "script_cf_select_random_town_at_peace_with_faction", ":var2"),
          (neq, ":var5", reg0),
          (assign, ":var12", reg0),
          (store_distance_to_party_from_party, ":var38", ":var5", ":var12"),
          (store_mul, ":var24", ":var38", 10),
          (assign, ":var26", 30),
          (assign, ":var27", 20),
          (assign, ":var10", ":var35"),
        (else_try),
          (eq, ":var35", "qst_persuade_lords_to_make_peace"),
          (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
          (store_faction_of_party, ":var41", ":var5"),
          (call_script, "script_cf_faction_get_random_enemy_faction", ":var41"),
          (assign, ":var42", reg0),
          (call_script, "script_cf_get_random_lord_except_king_with_faction", ":var41"),
          (assign, ":var43", reg0),
          (this_or_next|troop_slot_eq, ":var43", 52, 2),
          (this_or_next|troop_slot_eq, ":var43", 52, 3),
          (this_or_next|troop_slot_eq, ":var43", 52, 1),
          (troop_slot_eq, ":var43", 52, 5),
          (call_script, "script_cf_get_random_lord_except_king_with_faction", ":var42"),
          (assign, ":var11", reg0),
          (this_or_next|troop_slot_eq, ":var11", 52, 2),
          (this_or_next|troop_slot_eq, ":var11", 52, 3),
          (this_or_next|troop_slot_eq, ":var11", 52, 1),
          (troop_slot_eq, ":var11", 52, 5),
          (assign, ":var15", ":var43"),
          (assign, ":var13", ":var42"),
          (assign, ":var14", ":var41"),
          (assign, ":var24", 12000),
          (assign, ":var25", 7000),
          (assign, ":var26", 30),
          (assign, ":var27", 100),
          (assign, ":var10", ":var35"),
        (else_try),
          (eq, ":var35", "qst_deal_with_looters"),
          (is_between, ":var1", 0, 15),
          (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
          (store_faction_of_party, ":var41", ":var5"),
          (store_num_parties_destroyed_by_player, ":var44", "pt_looters"),
          (party_template_set_slot, "pt_looters", 1, ":var44"),
          (quest_set_slot, ":var35", 11, 0),
          (quest_set_slot, ":var35", 9, "pt_looters"),
          (assign, ":var24", 500),
          (assign, ":var23", 500),
          (assign, ":var26", 20),
          (assign, ":var27", 30),
          (assign, ":var10", ":var35"),
        (else_try),
          (eq, ":var35", "qst_deal_with_night_bandits"),
          (is_between, ":var1", 0, 15),
          (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
          (party_slot_ge, ":var5", 155, 1),
          (assign, ":var12", ":var5"),
          (assign, ":var26", 4),
          (assign, ":var27", 15),
          (assign, ":var10", ":var35"),
        (else_try),
          (eq, ":var35", "qst_rescue_lord_by_replace"),
          (eq, 1, 0),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (is_between, ":var1", 5, 25),
            (assign, ":var45", -1),
            (try_begin),
              (troop_get_slot, ":var46", ":var0", 31),
              (gt, ":var46", 0),
              (troop_slot_ge, ":var46", 8, 0),
              (assign, ":var45", ":var46"),
            (try_end),
            (try_begin),
              (eq, ":var45", -1),
              (troop_get_slot, ":var46", ":var0", 30),
              (gt, ":var46", 0),
              (troop_slot_ge, ":var46", 8, 0),
              (assign, ":var45", ":var46"),
            (try_end),
            (try_begin),
              (eq, ":var45", -1),
              (troop_get_slot, ":var46", ":var0", 33),
              (gt, ":var46", 0),
              (troop_slot_ge, ":var46", 8, 0),
              (assign, ":var45", ":var46"),
            (try_end),
            (try_begin),
              (eq, "$cheat_mode", 1),
              (assign, reg0, ":var45"),
              (display_message, "str_prisoner_relative_is_reg0"),
            (try_end),
            (gt, ":var45", -1),
            (call_script, "script_search_troop_prisoner_of_party", ":var45"),
            (assign, ":var47", reg0),
            (is_between, ":var47", "p_town_1_1", "p_village_1_1"),
            (assign, ":var12", ":var47"),
            (assign, ":var11", ":var45"),
            (assign, ":var26", 30),
            (assign, ":var27", 73),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_deliver_message_to_prisoner_lord"),
          (eq, "$player_has_homage", 0),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (is_between, ":var1", 5, 25),
            (troop_get_slot, ":var46", ":var0", 31),
            (try_begin),
              (eq, ":var46", 0),
              (troop_get_slot, ":var46", ":var0", 30),
            (try_end),
            (gt, ":var46", -1),
            (troop_slot_ge, ":var46", 8, 0),
            (call_script, "script_search_troop_prisoner_of_party", ":var46"),
            (assign, ":var47", reg0),
            (is_between, ":var47", "p_town_1_1", "p_castle_1_1"),
            (assign, ":var12", ":var47"),
            (assign, ":var11", ":var46"),
            (assign, ":var26", 30),
            (assign, ":var27", 30),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_duel_for_lady"),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (ge, ":var1", 10),
            (call_script, "script_cf_troop_get_random_enemy_troop_with_occupation", ":var0", 2),
            (assign, ":var46", reg0),
            (neg|troop_slot_eq, ":var0", 30, ":var46"),
            (neg|troop_slot_eq, ":var0", 31, ":var46"),
            (neg|troop_slot_ge, ":var46", 8, 0),
            (troop_slot_ge, ":var46", 10, 0),
            (neg|troop_slot_eq, ":var46", 52, 6),
            (neg|troop_slot_eq, ":var46", 52, 7),
            (neg|troop_slot_eq, ":var46", 52, 1),
            (assign, ":var11", ":var46"),
            (assign, ":var26", 30),
            (assign, ":var27", 50),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_lend_surgeon"),
          (try_begin),
            (eq, "$g_defending_against_siege", 0),
            (neq, ":var4", 2),
            (neq, ":var4", 5),
            (assign, ":var48", 0),
            (assign, ":var49", -1),
            (party_get_num_companion_stacks, ":var50", "p_main_party"),
            (try_for_range, ":var51", 1, ":var50"),
              (party_stack_get_troop_id, ":var52", "p_main_party", ":var51"),
              (troop_is_hero, ":var52"),
              (store_skill_level, ":var53", 10, ":var52"),
              (gt, ":var53", ":var48"),
              (assign, ":var48", ":var53"),
              (assign, ":var49", ":var52"),
            (try_end),
            (store_character_level, ":var54", "trp_player"),
            (assign, ":var55", 5),
            (val_div, ":var54", 10),
            (val_add, ":var55", ":var54"),
            (ge, ":var48", ":var55"),
            (assign, ":var15", ":var49"),
            (assign, ":var22", 1),
            (assign, ":var23", 10),
            (assign, ":var24", 10),
            (assign, ":var27", 50),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_meet_spy_in_enemy_town"),
          (eq, "$player_has_homage", 0),
          (try_begin),
            (eq, "$players_kingdom", ":var2"),
            (neq, ":var4", 6),
            (neq, ":var4", 1),
            (call_script, "script_troop_get_player_relation", ":var0"),
            (assign, ":var56", reg0),
            (gt, ":var56", 3),
            (call_script, "script_cf_faction_get_random_enemy_faction", ":var2"),
            (assign, ":var57", reg0),
            (store_relation, ":var58", ":var57", "$players_kingdom"),
            (lt, ":var58", 0),
            (call_script, "script_cf_select_random_town_with_faction", ":var57"),
            (assign, ":var47", reg0),
            (call_script, "script_cf_center_get_free_walker", ":var47"),
            (assign, ":var12", ":var47"),
            (store_random_in_range, ":var19", "str_secret_sign_1", "str_countersign_1"),
            (assign, ":var10", ":var35"),
            (assign, ":var24", 500),
            (assign, ":var26", 30),
            (assign, ":var27", 50),
            (quest_set_slot, "qst_meet_spy_in_enemy_town", 22, 500),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_raid_caravan_to_start_war"),
          (eq, 1, 0),
          (try_begin),
            (eq, "$players_kingdom", ":var2"),
            (this_or_next|eq, ":var4", 4),
            (this_or_next|eq, ":var4", 2),
            (eq, ":var4", 5),
            (gt, ":var1", 10),
            (eq, 1, 0),
            (neg|faction_slot_eq, ":var2", 11, ":var0"),
            (call_script, "script_cf_faction_get_random_friendly_faction", ":var2"),
            (assign, ":var13", reg0),
            (store_faction_of_troop, ":var14", ":var0"),
            (assign, ":var18", "pt_kingdom_caravan_party"),
            (assign, ":var19", 2),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 30),
            (assign, ":var27", 100),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_deliver_message"),
          (eq, "$player_has_homage", 0),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (lt, ":var1", 20),
            (neg|troop_slot_ge, "trp_player", 7, 125),
            (call_script, "script_cf_get_random_lord_in_a_center_with_faction", ":var2"),
            (assign, ":var46", reg0),
            (neq, ":var46", ":var0"),
            (call_script, "script_get_troop_attached_party", ":var46"),
            (assign, ":var47", reg0),
            (neq, ":var5", ":var47"),
            (assign, ":var12", ":var47"),
            (assign, ":var11", ":var46"),
            (assign, ":var23", 30),
            (assign, ":var24", 40),
            (assign, ":var27", 10),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 30),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_escort_lady"),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (ge, ":var1", 10),
            (ge, ":var0", 0),
            (assign, ":var43", -1),
            (try_for_range, ":var59", "trp_knight_1_1_wife", "trp_heroes_end"),
              (troop_slot_eq, ":var59", 31, ":var0"),
              (assign, ":var43", ":var59"),
            (try_end),
            (ge, ":var43", 0),
            (troop_get_slot, ":var60", ":var43", 31),
            (eq, ":var0", ":var60"),
            (store_random_in_range, ":var39", 0, 2),
            (try_begin),
              (eq, ":var39", 0),
              (troop_get_slot, ":var61", ":var0", 30),
              (is_between, ":var61", "trp_knight_1_1_wife", "trp_heroes_end"),
              (troop_get_slot, ":var60", ":var61", 30),
              (eq, ":var0", ":var60"),
              (assign, ":var43", ":var61"),
            (try_end),
            (gt, ":var43", 0),
            (troop_get_type, ":var62", ":var43"),
            (eq, ":var62", 1),
            (gt, ":var5", 0),
            (troop_slot_eq, ":var43", 12, ":var5"),
            (call_script, "script_cf_select_random_town_with_faction", ":var2"),
            (assign, ":var47", reg0),
            (neq, ":var47", ":var5"),
            (hero_can_join),
            (assign, ":var15", ":var43"),
            (assign, ":var12", ":var47"),
            (assign, ":var26", 20),
            (assign, ":var27", 30),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_deliver_message_to_enemy_lord"),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (is_between, ":var1", 5, 25),
            (call_script, "script_cf_get_random_lord_from_another_faction_in_a_center", ":var2"),
            (assign, ":var46", reg0),
            (call_script, "script_get_troop_attached_party", ":var46"),
            (assign, ":var12", reg0),
            (assign, ":var11", ":var46"),
            (assign, ":var22", 1),
            (assign, ":var23", 200),
            (assign, ":var24", 0),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 40),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_deal_with_bandits_at_lords_village"),
          (try_begin),
            (neq, ":var4", 5),
            (neq, ":var4", 2),
            (ge, "$g_talk_troop_faction_relation", 0),
            (assign, ":var63", "p_salt_mine"),
            (assign, ":var47", -1),
            (try_for_range, ":var64", "p_village_1_1", ":var63"),
              (party_slot_eq, ":var64", 7, ":var0"),
              (party_slot_eq, ":var64", 39, 1),
              (party_slot_eq, ":var64", 35, 0),
              (assign, ":var47", ":var64"),
              (assign, ":var63", 0),
            (try_end),
            (ge, ":var47", 0),
            (neg|check_quest_active, "qst_eliminate_bandits_infesting_village"),
            (assign, ":var12", ":var47"),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 30),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_raise_troops"),
          (try_begin),
            (neq, ":var4", 1),
            (neq, ":var2", "fac_player_supporters_faction"),
            (ge, "$g_talk_troop_faction_relation", 0),
            (store_character_level, ":var54", "trp_player"),
            (gt, ":var54", 5),
            (troop_slot_ge, "trp_player", 7, 100),
            (store_random_in_range, ":var19", 5, 8),
            (party_get_free_companions_capacity, ":var65", "p_main_party"),
            (le, ":var19", ":var65"),
            (faction_get_slot, ":var15", ":var2", 41),
            (store_random_in_range, ":var66", 20, 40),
            (val_add, ":var66", ":var54"),
            (val_div, ":var66", 10),
            (store_mul, ":var24", ":var19", 10),
            (assign, ":var11", ":var15"),
            (try_for_range, ":var31", 0, ":var66"),
              (troop_get_upgrade_troop, ":var67", ":var11", 0),
              (gt, ":var67", 0),
              (assign, ":var11", ":var67"),
              (val_mul, ":var24", ":var24", 7),
              (val_div, ":var24", ":var24", 4),
            (try_end),
            (assign, ":var23", ":var24"),
            (val_mul, ":var23", 3),
            (val_div, ":var23", 10),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 120),
            (assign, ":var27", 15),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_collect_taxes"),
          (eq, "$player_has_homage", 0),
          (try_begin),
            (neq, ":var4", 6),
            (neq, ":var4", 7),
            (ge, "$g_talk_troop_faction_relation", 0),
            (call_script, "script_cf_troop_get_random_leaded_town_or_village_except_center", ":var0", ":var5"),
            (assign, ":var12", reg0),
            (assign, ":var22", 1),
            (assign, ":var24", 0),
            (assign, ":var23", 100),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 50),
            (assign, ":var27", 20),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_hunt_down_fugitive"),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (call_script, "script_cf_select_random_village_with_faction", ":var2"),
            (assign, ":var12", reg0),
            (store_random_in_range, ":var20", 0, 1000000),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 30),
            (assign, ":var27", 30),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_kill_local_merchant"),
          (eq, "$player_has_homage", 0),
          (try_begin),
            (this_or_next|eq, ":var4", 2),
            (this_or_next|eq, ":var4", 4),
            (eq, ":var4", 5),
            (neg|faction_slot_eq, ":var2", 11, ":var0"),
            (ge, "$g_talk_troop_faction_relation", 0),
            (gt, ":var1", 5),
            (is_between, ":var5", "p_town_1_1", "p_castle_1_1"),
            (assign, ":var22", 1),
            (assign, ":var23", 300),
            (assign, ":var24", 1000),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 10),
            (assign, ":var27", 30),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_bring_back_runaway_serfs"),
          (try_begin),
            (neq, ":var4", 6),
            (neq, ":var4", 7),
            (ge, "$g_talk_troop_faction_relation", 0),
            (ge, ":var1", 5),
            (gt, ":var5", 0),
            (eq, "$g_defending_against_siege", 0),
            (assign, ":var68", -1),
            (try_for_range, ":var64", "p_village_1_1", "p_salt_mine"),
              (party_slot_eq, ":var64", 7, ":var0"),
              (store_distance_to_party_from_party, ":var38", ":var64", ":var5"),
              (lt, ":var38", 25),
              (assign, ":var68", ":var64"),
            (try_end),
            (ge, ":var68", 0),
            (call_script, "script_cf_select_random_town_with_faction", ":var2"),
            (assign, ":var47", reg0),
            (neq, ":var47", ":var5"),
            (store_distance_to_party_from_party, ":var38", ":var47", ":var5"),
            (ge, ":var38", 20),
            (assign, ":var18", "pt_runaway_serfs"),
            (assign, ":var16", ":var68"),
            (assign, ":var12", ":var47"),
            (assign, ":var22", 1),
            (assign, ":var23", 200),
            (assign, ":var24", 150),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 30),
            (assign, ":var27", 20),
            (assign, "$qst_bring_back_runaway_serfs_num_parties_returned", 0),
            (assign, "$qst_bring_back_runaway_serfs_num_parties_fleed", 0),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_follow_spy"),
          (eq, "$player_has_homage", 0),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (neq, ":var4", 6),
            (party_get_skill_level, ":var69", "p_main_party", "skl_tracking"),
            (ge, ":var69", 2),
            (ge, ":var1", 10),
            (eq, "$g_defending_against_siege", 0),
            (gt, ":var3", 0),
            (gt, ":var5", 0),
            (party_slot_eq, "$g_encountered_party", 0, 3),
            (party_get_position, pos2, "p_main_party"),
            (assign, ":var70", 99999),
            (assign, ":var68", -1),
            (try_for_range, ":var71", 0, 10),
              (call_script, "script_cf_get_random_enemy_center", ":var3"),
              (assign, ":var72", reg0),
              (party_get_position, pos3, ":var72"),
              (map_get_random_position_around_position, pos4, pos3, 6),
              (get_distance_between_positions, ":var73", pos2, pos4),
              (lt, ":var73", ":var70"),
              (assign, ":var70", ":var73"),
              (assign, ":var68", ":var72"),
              (copy_position, 63, 4),
            (try_end),
            (gt, ":var68", 0),
            (assign, ":var16", ":var68"),
            (assign, ":var27", 50),
            (assign, ":var10", ":var35"),
            (assign, "$qst_follow_spy_run_away", 0),
            (assign, "$qst_follow_spy_meeting_state", 0),
            (assign, "$qst_follow_spy_meeting_counter", 0),
            (assign, "$qst_follow_spy_spy_back_in_town", 0),
            (assign, "$qst_follow_spy_partner_back_in_town", 0),
            (assign, "$qst_follow_spy_no_active_parties", 0),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_capture_enemy_hero"),
          (try_begin),
            (eq, "$players_kingdom", ":var2"),
            (neg|faction_slot_eq, "$players_kingdom", 8, "trp_player"),
            (ge, ":var1", 15),
            (call_script, "script_cf_faction_get_random_enemy_faction", ":var2"),
            (assign, ":var13", reg0),
            (assign, ":var26", 30),
            (assign, ":var27", 80),
            (assign, ":var24", 2000),
            (assign, ":var10", ":var35"),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_lend_companion"),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (assign, ":var74", 0),
            (party_get_num_companion_stacks, ":var50", "p_main_party"),
            (try_for_range, ":var51", 0, ":var50"),
              (party_stack_get_troop_id, ":var52", "p_main_party", ":var51"),
              (troop_is_hero, ":var52"),
              (is_between, ":var52", "trp_npc1", "trp_kingdom_1_lord"),
              (store_character_level, ":var75", ":var52"),
              (ge, ":var75", 15),
              (assign, ":var76", 0),
              (try_for_range, ":var77", 0, "qst_quests_end"),
                (check_quest_active, ":var77"),
                (this_or_next|quest_slot_eq, ":var77", 2, ":var52"),
                (quest_slot_eq, ":var77", 4, ":var52"),
                (assign, ":var76", 1),
              (try_end),
              (eq, ":var76", 0),
              (val_add, ":var74", 1),
            (try_end),
            (gt, ":var74", 0),
            (store_random_in_range, ":var78", 0, ":var74"),
            (assign, ":var74", 0),
            (assign, ":var46", -1),
            (try_for_range, ":var51", 0, ":var50"),
              (eq, ":var46", -1),
              (party_stack_get_troop_id, ":var52", "p_main_party", ":var51"),
              (troop_is_hero, ":var52"),
              (is_between, ":var52", "trp_npc1", "trp_kingdom_1_lord"),
              (neq, ":var52", "trp_player"),
              (store_character_level, ":var75", ":var52"),
              (ge, ":var75", 15),
              (assign, ":var76", 0),
              (try_for_range, ":var77", 0, "qst_quests_end"),
                (check_quest_active, ":var77"),
                (this_or_next|quest_slot_eq, ":var77", 2, ":var52"),
                (quest_slot_eq, ":var77", 4, ":var52"),
                (assign, ":var76", 1),
              (try_end),
              (eq, ":var76", 0),
              (val_add, ":var74", 1),
              (gt, ":var74", ":var78"),
              (assign, ":var46", ":var52"),
            (try_end),
            (is_between, ":var46", "trp_npc1", "trp_kingdom_1_lord"),
            (assign, ":var11", ":var46"),
            (store_current_day, ":var19"),
            (val_add, ":var19", 8),
            (assign, ":var22", 1),
            (assign, ":var23", 300),
            (assign, ":var24", 400),
            (assign, ":var10", ":var35"),
            (assign, ":var27", 30),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_collect_debt"),
          (eq, 1, 0),
          (try_begin),
            (ge, "$g_talk_troop_faction_relation", 0),
            (call_script, "script_cf_get_random_lord_in_a_center_with_faction", ":var2"),
            (assign, ":var11", reg0),
            (neq, ":var11", ":var0"),
            (call_script, "script_get_troop_attached_party", ":var11"),
            (assign, ":var12", reg0),
            (neq, ":var5", ":var12"),
            (assign, ":var23", 30),
            (assign, ":var24", 40),
            (assign, ":var10", ":var35"),
            (store_random_in_range, ":var19", 6, 9),
            (val_mul, ":var19", 500),
            (store_div, ":var25", ":var19", 5),
            (assign, ":var26", 90),
            (assign, ":var27", 20),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_incriminate_loyal_commander"),
          (eq, "$player_has_homage", 0),
          (try_begin),
            (neq, ":var4", 7),
            (neq, ":var4", 6),
            (eq, "$players_kingdom", ":var2"),
            (ge, ":var1", 10),
            (faction_slot_eq, ":var2", 11, ":var0"),
            (assign, ":var79", 1),
            (assign, ":var80", 0),
            (try_for_range, ":var31", 0, ":var79"),
              (call_script, "script_cf_faction_get_random_enemy_faction", ":var2"),
              (assign, ":var42", reg0),
              (faction_get_slot, ":var46", ":var42", 11),
              (assign, ":var81", 0),
              (try_for_range, ":var82", "trp_npc1", "trp_knight_1_1_wife"),
                (troop_slot_eq, ":var82", 166, 1),
                (troop_slot_eq, ":var82", 2, 2),
                (neg|troop_slot_ge, ":var82", 8, 0),
                (neq, ":var46", ":var82"),
                (store_faction_of_troop, ":var83", ":var82"),
                (eq, ":var42", ":var83"),
                (val_add, ":var81", 1),
              (try_end),
              (gt, ":var81", 0),
              (assign, ":var43", -1),
              (store_random_in_range, ":var84", 0, ":var81"),
              (try_for_range, ":var82", "trp_npc1", "trp_knight_1_1_wife"),
                (troop_slot_eq, ":var82", 166, 1),
                (eq, ":var43", -1),
                (troop_slot_eq, ":var82", 2, 2),
                (neq, ":var46", ":var82"),
                (store_faction_of_troop, ":var83", ":var82"),
                (eq, ":var42", ":var83"),
                (val_sub, ":var84", 1),
                (lt, ":var84", 0),
                (assign, ":var43", ":var82"),
              (try_end),
              (assign, ":var47", -1),
              (call_script, "script_get_troop_attached_party", ":var46"),
              (is_between, reg0, "p_town_1_1", "p_castle_1_1"),
              (party_slot_eq, reg0, 7, ":var46"),
              (assign, ":var47", reg0),
              (assign, ":var79", -1),
              (assign, ":var80", 1),
            (try_end),
            (eq, ":var80", 1),
            (assign, "$incriminate_quest_sacrificed_troop", 0),
            (party_get_num_companion_stacks, ":var50", "p_main_party"),
            (try_for_range, ":var51", 1, ":var50"),
              (eq, "$incriminate_quest_sacrificed_troop", 0),
              (party_stack_get_troop_id, ":var52", "p_main_party", ":var51"),
              (neg|troop_is_hero, ":var52"),
              (store_character_level, ":var85", ":var52"),
              (ge, ":var85", 25),
              (assign, "$incriminate_quest_sacrificed_troop", ":var52"),
            (try_end),
            (gt, "$incriminate_quest_sacrificed_troop", 0),
            (assign, ":var11", ":var46"),
            (assign, ":var15", ":var43"),
            (assign, ":var12", ":var47"),
            (assign, ":var13", ":var42"),
            (assign, ":var22", 1),
            (assign, ":var23", 700),
            (assign, ":var24", 1000),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 30),
            (assign, ":var27", 180),
          (try_end),
        (else_try),
          (eq, ":var35", "qst_capture_prisoners"),
          (eq, "$player_has_homage", 0),
          (try_begin),
            (eq, "$players_kingdom", ":var2"),
            (call_script, "script_cf_faction_get_random_enemy_faction", ":var2"),
            (assign, ":var42", reg0),
            (store_add, ":var86", 45, 1),
            (store_random_in_range, ":var87", 42, ":var86"),
            (faction_get_slot, ":var46", ":var42", ":var87"),
            (gt, ":var46", 0),
            (store_random_in_range, ":var19", 3, 7),
            (assign, ":var11", ":var46"),
            (assign, ":var13", ":var42"),
            (assign, ":var22", 1),
            (store_character_level, ":var24", ":var46"),
            (val_add, ":var24", 5),
            (val_mul, ":var24", ":var24"),
            (val_div, ":var24", 5),
            (val_mul, ":var24", ":var19"),
            (assign, ":var23", ":var24"),
            (assign, ":var10", ":var35"),
            (assign, ":var26", 90),
            (assign, ":var27", 20),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (neq, ":var10", -1),
      (try_begin),
        (party_is_active, ":var12"),
        (store_faction_of_party, ":var13", ":var12"),
      (try_end),
      (quest_set_slot, ":var10", 2, ":var11"),
      (quest_set_slot, ":var10", 1, ":var12"),
      (quest_set_slot, ":var10", 4, ":var15"),
      (quest_set_slot, ":var10", 3, ":var13"),
      (quest_set_slot, ":var10", 15, ":var14"),
      (quest_set_slot, ":var10", 7, ":var16"),
      (quest_set_slot, ":var10", 8, ":var17"),
      (quest_set_slot, ":var10", 9, ":var18"),
      (quest_set_slot, ":var10", 10, ":var19"),
      (quest_set_slot, ":var10", 20, ":var22"),
      (quest_set_slot, ":var10", 21, ":var23"),
      (quest_set_slot, ":var10", 22, ":var24"),
      (quest_set_slot, ":var10", 19, ":var25"),
      (quest_set_slot, ":var10", 23, ":var26"),
      (quest_set_slot, ":var10", 24, ":var27"),
      (quest_set_slot, ":var10", 11, 0),
      (quest_set_slot, ":var10", 6, ":var0"),
      (quest_set_slot, ":var10", 12, ":var5"),
      (quest_set_slot, ":var10", 13, ":var20"),
      (quest_set_slot, ":var10", 14, ":var21"),
    (try_end),
    (assign, reg0, ":var10"),
  ]),

  ("get_dynamic_quest",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", -1),
    (try_begin),
      (eq, ":var0", -1),
    (else_try),
      (neg|check_quest_active, "qst_rescue_prisoner"),
      (this_or_next|troop_slot_eq, ":var0", 2, 2),
      (troop_slot_eq, ":var0", 2, 6),
      (assign, ":var5", -1),
      (try_for_range, ":var6", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var6", 166, 1),
        (troop_get_slot, ":var7", ":var6", 8),
        (is_between, ":var7", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_troop, ":var8", ":var0"),
        (store_faction_of_party, ":var9", ":var7"),
        (store_relation, ":var10", ":var8", ":var9"),
        (lt, ":var10", 0),
        (call_script, "script_troop_get_family_relation_to_troop", ":var0", ":var6"),
        (ge, reg0, 10),
        (assign, ":var11", 0),
        (try_begin),
          (call_script, "script_cf_prisoner_offered_parole", ":var6"),
          (assign, ":var11", 1),
        (try_end),
        (eq, ":var11", 0),
        (neg|party_slot_eq, ":var7", 7, "trp_player"),
        (assign, ":var5", ":var6"),
        (assign, ":var12", ":var7"),
      (try_end),
      (gt, ":var5", -1),
      (assign, ":var1", "qst_rescue_prisoner"),
      (assign, ":var2", ":var5"),
      (assign, ":var3", ":var12"),
    (else_try),
      (is_between, ":var0", "trp_town_1_mayor", "trp_village_1_elder"),
      (store_faction_of_troop, ":var13", ":var0"),
      (neg|check_quest_active, "qst_retaliate_for_border_incident"),
      (quest_slot_eq, "qst_retaliate_for_border_incident", 25, 0),
      (assign, ":var14", 0),
      (try_for_range, ":var15", "fac_kingdom_1", "fac_kingdoms_end"),
        (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var13", ":var15"),
        (assign, ":var16", reg0),
        (eq, ":var16", -1),
        (assign, ":var17", reg1),
        (ge, ":var17", 10),
        (try_for_range, ":var18", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var18", 166, 1),
          (store_faction_of_troop, ":var19", ":var18"),
          (eq, ":var19", ":var15"),
          (troop_slot_eq, ":var18", 52, 5),
          (assign, ":var14", ":var18"),
          (assign, ":var20", ":var15"),
        (try_end),
      (try_end),
      (is_between, ":var14", "trp_npc1", "trp_knight_1_1_wife"),
      (assign, ":var1", "qst_retaliate_for_border_incident"),
      (assign, ":var2", ":var14"),
      (assign, ":var4", ":var20"),
    (else_try),
      (troop_slot_eq, ":var0", 2, 2),
      (neg|check_quest_active, "qst_destroy_bandit_lair"),
      (quest_slot_eq, "qst_destroy_bandit_lair", 25, 0),
      (assign, ":var21", -1),
      (try_for_range, ":var22", "pt_steppe_bandits", "pt_deserters"),
        (party_template_get_slot, ":var23", ":var22", 4),
        (gt, ":var23", "p_spawn_points_end"),
        (assign, ":var24", -1),
        (assign, ":var25", 99999),
        (try_for_range, ":var26", "p_town_1_1", "p_castle_1_1"),
          (store_distance_to_party_from_party, ":var27", ":var23", ":var26"),
          (lt, ":var27", ":var25"),
          (assign, ":var24", ":var26"),
          (assign, ":var25", ":var27"),
        (try_end),
        (party_slot_eq, ":var24", 7, ":var0"),
        (assign, ":var21", ":var23"),
      (try_end),
      (gt, ":var21", "p_spawn_points_end"),
      (assign, ":var1", "qst_destroy_bandit_lair"),
      (assign, ":var3", ":var21"),
    (else_try),
      (is_between, ":var0", "trp_town_1_mayor", "trp_village_1_elder"),
      (neg|check_quest_active, "qst_track_down_bandits"),
      (quest_slot_eq, "qst_track_down_bandits", 25, 0),
      (assign, ":var28", -1),
      (try_for_range, ":var29", "p_town_1_1", "p_castle_1_1"),
        (party_slot_eq, ":var29", 25, ":var0"),
        (assign, ":var28", ":var29"),
      (try_end),
      (gt, ":var28", -1),
      (call_script, "script_merchant_road_info_to_s42", ":var28"),
      (assign, ":var30", reg0),
      (party_is_active, ":var30"),
      (gt, ":var30", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_traveller_attack_found"),
      (try_end),
      (assign, ":var1", "qst_track_down_bandits"),
      (assign, ":var3", ":var30"),
    (else_try),
      (troop_slot_eq, ":var0", 52, 5),
      (store_faction_of_troop, ":var31", ":var0"),
      (assign, ":var32", -1),
      (try_for_range, ":var33", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var33", 166, 1),
        (troop_slot_eq, ":var33", 52, 5),
        (store_faction_of_troop, ":var34", ":var33"),
        (eq, ":var34", ":var31"),
        (assign, ":var32", ":var33"),
      (try_end),
      (eq, ":var0", ":var32"),
      (assign, ":var35", 0),
      (assign, ":var36", 0),
      (try_for_range, ":var37", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (neq, ":var35", -1),
        (neq, ":var37", ":var31"),
        (faction_slot_eq, ":var37", 21, 0),
        (neq, ":var37", "$players_kingdom"),
        (store_relation, ":var38", ":var37", ":var31"),
        (store_add, ":var39", ":var31", 220),
        (val_sub, ":var39", "fac_player_supporters_faction"),
        (faction_get_slot, ":var40", ":var37", ":var39"),
        (try_begin),
          (lt, ":var38", 0),
          (assign, ":var35", -1),
        (else_try),
          (ge, ":var40", 1),
          (assign, ":var35", -1),
        (else_try),
          (ge, ":var38", 0),
          (assign, ":var41", 2),
          (gt, ":var41", ":var36"),
          (assign, ":var35", ":var37"),
          (assign, ":var41", ":var36"),
        (try_end),
      (try_end),
      (is_between, ":var35", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (assign, ":var1", "qst_cause_provocation"),
      (assign, ":var4", ":var35"),
    (try_end),
    (assign, reg0, ":var1"),
    (assign, reg1, ":var2"),
    (assign, reg2, ":var3"),
    (assign, reg3, ":var4"),
  ]),

  ("get_political_quest",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", 7),
    (try_begin),
      (neg|check_quest_active, "qst_denounce_lord"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (quest_get_slot, reg4, "qst_denounce_lord", 25),
        (display_message, "@{!}DEBUG -- Checking for denounce lord, eligible in {reg4} days"),
      (try_end),
      (neg|quest_slot_ge, "qst_denounce_lord", 25, 1),
      (neq, ":var0", "$g_player_minister"),
      (neg|troop_slot_eq, "trp_player", 30, ":var0"),
      (neg|faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (neg|troop_slot_eq, "$g_talk_troop", 52, 2),
      (neg|troop_slot_eq, "$g_talk_troop", 52, 6),
      (assign, ":var5", -1),
      (assign, ":var6", 1),
      (try_for_range, ":var7", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var7", 166, 1),
        (store_faction_of_troop, ":var8", ":var7"),
        (eq, ":var8", "$players_kingdom"),
        (neq, ":var7", ":var0"),
        (neg|faction_slot_eq, ":var8", 11, ":var7"),
        (neg|this_or_next|check_quest_active, "qst_intrigue_against_lord"),
        (neg|quest_slot_eq, "qst_intrigue_against_lord", 2, ":var7"),
        (call_script, "script_troop_get_relation_with_troop", ":var7", ":var0"),
        (assign, ":var9", reg0),
        (lt, ":var9", ":var6"),
        (str_store_troop_name, s4, ":var7"),
        (try_begin),
          (ge, "$cheat_mode", 1),
          (display_message, "@{!}DEBUG -- Rival found in {s4}"),
        (try_end),
        (try_begin),
          (troop_slot_eq, "$g_talk_troop", 52, 5),
          (assign, ":var10", 15),
        (else_try),
          (troop_slot_eq, "$g_talk_troop", 52, 2),
          (assign, ":var10", 10),
        (else_try),
          (assign, ":var10", 5),
        (try_end),
        (call_script, "script_troop_get_relation_with_troop", ":var7", "trp_player"),
        (assign, ":var11", reg0),
        (lt, ":var11", ":var10"),
        (str_store_troop_name, s4, ":var7"),
        (try_begin),
          (ge, "$cheat_mode", 1),
          (display_message, "@{!}DEBUG -- {s4} is not close friend of player"),
        (try_end),
        (assign, ":var12", 0),
        (try_for_range, ":var13", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var13", 166, 1),
          (store_faction_of_troop, ":var14", ":var13"),
          (eq, ":var14", "$players_kingdom"),
          (call_script, "script_troop_get_relation_with_troop", ":var7", ":var13"),
          (lt, reg0, 0),
          (val_add, ":var12", 1),
        (try_end),
        (str_store_troop_name, s4, ":var7"),
        (try_begin),
          (ge, "$cheat_mode", 1),
          (assign, reg3, ":var12"),
          (display_message, "@{!}DEBUG -- {s4} has {reg3} rivals"),
        (try_end),
        (this_or_next|ge, ":var12", 3),
        (ge, "$cheat_mode", 1),
        (assign, ":var6", ":var9"),
        (assign, ":var5", ":var7"),
      (try_end),
      (is_between, ":var5", "trp_npc1", "trp_knight_1_1_wife"),
      (assign, ":var1", "qst_denounce_lord"),
      (assign, ":var2", ":var5"),
    (else_try),
      (neg|check_quest_active, "qst_intrigue_against_lord"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (quest_get_slot, reg4, "qst_intrigue_against_lord", 25),
        (display_message, "@{!}DEBUG -- Checking for intrigue, eligible in {reg4} days"),
      (try_end),
      (neg|quest_slot_ge, "qst_intrigue_against_lord", 25, 1),
      (neq, ":var0", "$g_player_minister"),
      (neg|troop_slot_eq, "trp_player", 30, ":var0"),
      (neg|faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (display_message, "@{!}DEBUG -- Trying for intrigue against lord"),
      (try_end),
      (assign, ":var5", -1),
      (assign, ":var6", 10),
      (try_for_range, ":var7", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var7", 166, 1),
        (store_faction_of_troop, ":var8", ":var7"),
        (eq, ":var8", "$players_kingdom"),
        (neq, ":var7", ":var0"),
        (neg|faction_slot_eq, ":var8", 11, ":var7"),
        (neg|this_or_next|check_quest_active, "qst_denounce_lord"),
        (neg|quest_slot_eq, "qst_denounce_lord", 2, ":var7"),
        (faction_get_slot, ":var15", "$players_kingdom", 11),
        (call_script, "script_troop_get_relation_with_troop", ":var7", ":var15"),
        (assign, ":var16", reg0),
        (lt, ":var16", ":var6"),
        (str_store_troop_name, s4, ":var7"),
        (try_begin),
          (ge, "$cheat_mode", 1),
          (display_message, "@{!}DEBUG -- {s4} has sufficiently low relation with liege"),
        (try_end),
        (call_script, "script_troop_get_relation_with_troop", ":var7", ":var0"),
        (assign, ":var9", reg0),
        (lt, ":var9", 0),
        (str_store_troop_name, s4, ":var7"),
        (try_begin),
          (ge, "$cheat_mode", 1),
          (display_message, "@{!}DEBUG -- {s4} has sufficiently low relation with giver troop"),
        (try_end),
        (call_script, "script_troop_get_relation_with_troop", ":var7", "trp_player"),
        (assign, ":var11", reg0),
        (lt, ":var11", 0),
        (str_store_troop_name, s4, ":var7"),
        (try_begin),
          (ge, "$cheat_mode", 1),
          (display_message, "@{!}DEBUG -- {s4} has sufficiently low relation with player"),
        (try_end),
        (assign, ":var6", ":var16"),
        (assign, ":var5", ":var7"),
      (try_end),
      (is_between, ":var5", "trp_npc1", "trp_knight_1_1_wife"),
      (assign, ":var1", "qst_intrigue_against_lord"),
      (assign, ":var2", ":var5"),
    (else_try),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (quest_get_slot, reg4, "qst_resolve_dispute", 25),
        (display_message, "@{!}DEBUG -- Checking for resolve dispute, eligible in {reg4} days"),
      (try_end),
      (neg|quest_slot_ge, "qst_resolve_dispute", 25, 1),
      (this_or_next|troop_slot_eq, "trp_player", 30, "$g_talk_troop"),
      (eq, "$g_talk_troop", "$g_player_minister"),
      (assign, ":var5", -1),
      (assign, ":var17", -1),
      (assign, ":var18", 20),
      (try_for_range, ":var19", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var19", 166, 1),
        (store_faction_of_troop, ":var20", ":var19"),
        (eq, ":var20", "$players_kingdom"),
        (neq, ":var19", "$g_talk_troop"),
        (try_for_range, ":var21", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var21", 166, 1),
          (store_faction_of_troop, ":var22", ":var21"),
          (eq, ":var22", "$players_kingdom"),
          (neq, ":var19", ":var21"),
          (neq, ":var21", "$g_talk_troop"),
          (call_script, "script_troop_get_relation_with_troop", ":var19", ":var21"),
          (assign, ":var23", reg0),
          (lt, ":var23", -5),
          (call_script, "script_troop_get_relation_with_troop", ":var19", "trp_player"),
          (assign, ":var24", reg0),
          (call_script, "script_troop_get_relation_with_troop", ":var21", "trp_player"),
          (assign, ":var25", reg0),
          (gt, ":var24", 0),
          (gt, ":var25", 0),
          (store_mul, ":var26", ":var24", ":var25"),
          (gt, ":var26", ":var18"),
          (assign, ":var18", ":var26"),
          (assign, ":var5", ":var19"),
          (assign, ":var17", ":var21"),
        (try_end),
      (try_end),
      (is_between, ":var5", "trp_npc1", "trp_knight_1_1_wife"),
      (assign, ":var1", "qst_resolve_dispute"),
      (assign, ":var2", ":var5"),
      (assign, ":var3", ":var17"),
    (else_try),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (quest_get_slot, reg4, "qst_offer_gift", 25),
        (display_message, "@{!}DEBUG -- Checking for offer gift, eligible in {reg4} days"),
      (try_end),
      (neg|quest_slot_ge, "qst_offer_gift", 25, 1),
      (assign, ":var27", -1),
      (assign, ":var6", 5),
      (try_for_range, ":var28", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var28", 166, 1),
        (store_faction_of_troop, ":var29", ":var28"),
        (eq, ":var29", "$players_kingdom"),
        (neq, ":var28", ":var0"),
        (neg|faction_slot_eq, ":var29", 11, ":var28"),
        (call_script, "script_troop_get_family_relation_to_troop", ":var0", ":var28"),
        (assign, ":var30", reg0),
        (ge, ":var30", ":var6"),
        (store_sub, ":var31", 0, ":var30"),
        (call_script, "script_troop_get_relation_with_troop", "trp_player", ":var28"),
        (assign, ":var11", reg0),
        (is_between, ":var11", ":var31", 0),
        (assign, ":var6", ":var30"),
        (assign, ":var27", ":var28"),
      (try_end),
      (is_between, ":var27", "trp_npc1", "trp_knight_1_1_wife"),
      (assign, ":var1", "qst_offer_gift"),
      (assign, ":var2", ":var27"),
    (try_end),
    (try_begin),
      (gt, ":var1", -1),
      (quest_set_slot, ":var1", 2, ":var2"),
      (quest_set_slot, ":var1", 2, ":var3"),
      (quest_set_slot, ":var1", 6, ":var0"),
      (quest_set_slot, ":var1", 24, ":var4"),
    (try_end),
    (assign, reg0, ":var1"),
    (assign, reg1, ":var2"),
    (assign, reg2, ":var3"),
  ]),

  ("npc_find_quest_for_player_to_s11",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (try_for_range, ":var2", "trp_npc1", "trp_village_1_elder"),
      (troop_slot_eq, ":var2", 166, 1),
      (eq, ":var1", -1),
      (neg|troop_slot_eq, "trp_player", 30, ":var2"),
      (gt, ":var2", "$g_troop_list_no"),
      (assign, "$g_troop_list_no", ":var2"),
      (this_or_next|troop_slot_eq, ":var2", 2, 2),
      (is_between, ":var2", "trp_town_1_mayor", "trp_village_1_elder"),
      (neg|troop_slot_ge, ":var2", 8, "p_town_1_1"),
      (try_begin),
        (is_between, ":var2", "trp_town_1_mayor", "trp_village_1_elder"),
        (assign, ":var3", -1),
        (try_for_range, ":var4", "p_town_1_1", "p_castle_1_1"),
          (party_slot_eq, ":var4", 25, ":var2"),
          (store_faction_of_party, ":var3", ":var4"),
        (try_end),
      (else_try),
        (store_faction_of_troop, ":var3", ":var2"),
      (try_end),
      (eq, ":var0", ":var3"),
      (call_script, "script_get_dynamic_quest", ":var2"),
      (gt, reg0, -1),
      (assign, ":var1", ":var2"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var1"),
        (display_message, "str_test_diagnostic_quest_found_for_s4"),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cf_get_random_enemy_center_within_range",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (store_faction_of_party, ":var3", ":var0"),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var5", ":var4"),
      (store_relation, ":var6", ":var3", ":var5"),
      (lt, ":var6", 0),
      (store_distance_to_party_from_party, ":var7", ":var0", ":var4"),
      (le, ":var7", ":var1"),
      (val_add, ":var2", 1),
    (try_end),
    (gt, ":var2", 0),
    (store_random_in_range, ":var8", 0, ":var2"),
    (assign, ":var9", "p_salt_mine"),
    (try_for_range, ":var4", "p_town_1_1", ":var9"),
      (store_faction_of_party, ":var5", ":var4"),
      (store_relation, ":var6", ":var3", ":var5"),
      (lt, ":var6", 0),
      (store_distance_to_party_from_party, ":var7", ":var0", ":var4"),
      (le, ":var7", ":var1"),
      (val_sub, ":var8", 1),
      (lt, ":var8", 0),
      (assign, ":var10", ":var4"),
      (assign, ":var9", 0),
    (try_end),
    (assign, reg0, ":var10"),
  ]),

  ("cf_faction_get_random_enemy_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var3", 21, 0),
      (store_relation, ":var4", ":var0", ":var3"),
      (le, ":var4", -1),
      (val_add, ":var2", 1),
    (try_end),
    (store_random_in_range, ":var5", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (eq, ":var1", -1),
      (faction_slot_eq, ":var3", 21, 0),
      (store_relation, ":var4", ":var0", ":var3"),
      (le, ":var4", -1),
      (val_add, ":var2", 1),
      (gt, ":var2", ":var5"),
      (assign, ":var1", ":var3"),
    (try_end),
    (neq, ":var1", -1),
    (assign, reg0, ":var1"),
  ]),

  ("cf_faction_get_random_friendly_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var3", 21, 0),
      (neq, ":var3", ":var0"),
      (store_relation, ":var4", ":var0", ":var3"),
      (ge, ":var4", 0),
      (val_add, ":var2", 1),
    (try_end),
    (store_random_in_range, ":var5", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (eq, ":var1", -1),
      (faction_slot_eq, ":var3", 21, 0),
      (neq, ":var3", ":var0"),
      (store_relation, ":var4", ":var0", ":var3"),
      (ge, ":var4", 0),
      (val_add, ":var2", 1),
      (gt, ":var2", ":var5"),
      (assign, ":var1", ":var3"),
    (try_end),
    (neq, ":var1", -1),
    (assign, reg0, ":var1"),
  ]),

  ("cf_troop_get_random_enemy_troop_with_occupation",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", -1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var4", 166, 1),
      (troop_slot_eq, ":var4", 2, ":var1"),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var4"),
      (lt, reg0, -10),
      (val_add, ":var3", 1),
    (try_end),
    (gt, ":var3", 0),
    (store_random_in_range, ":var5", 0, ":var3"),
    (assign, ":var3", 0),
    (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var4", 166, 1),
      (troop_slot_eq, ":var4", 2, ":var1"),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var4"),
      (lt, reg0, -10),
      (val_add, ":var3", 1),
      (eq, ":var5", ":var3"),
      (assign, ":var2", ":var4"),
    (try_end),
    (neq, ":var2", -1),
    (assign, reg0, ":var2"),
  ]),

  ("cf_get_random_lord_in_a_center_with_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_npc1", "trp_heroes_end"),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var0", ":var4"),
      (troop_slot_eq, ":var3", 2, 2),
      (neg|troop_slot_ge, ":var3", 8, 0),
      (troop_get_slot, ":var5", ":var3", 10),
      (ge, ":var5", 0),
      (party_get_attached_to, ":var6", ":var5"),
      (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
      (val_add, ":var2", 1),
    (try_end),
    (store_random_in_range, ":var7", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_npc1", "trp_heroes_end"),
      (eq, ":var1", -1),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var0", ":var4"),
      (troop_slot_eq, ":var3", 2, 2),
      (neg|troop_slot_ge, ":var3", 8, 0),
      (troop_get_slot, ":var5", ":var3", 10),
      (ge, ":var5", 0),
      (party_get_attached_to, ":var6", ":var5"),
      (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
      (val_add, ":var2", 1),
      (lt, ":var7", ":var2"),
      (assign, ":var1", ":var3"),
    (try_end),
    (neq, ":var1", -1),
    (assign, reg0, ":var1"),
  ]),

  ("cf_get_random_lord_except_king_with_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_npc1", "trp_heroes_end"),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var0", ":var4"),
      (neg|faction_slot_eq, ":var0", 11, ":var3"),
      (troop_slot_eq, ":var3", 2, 2),
      (neg|troop_slot_ge, ":var3", 8, 0),
      (troop_get_slot, ":var5", ":var3", 10),
      (ge, ":var5", 0),
      (val_add, ":var2", 1),
    (try_end),
    (store_random_in_range, ":var6", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_npc1", "trp_heroes_end"),
      (eq, ":var1", -1),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var0", ":var4"),
      (neg|faction_slot_eq, ":var0", 11, ":var3"),
      (troop_slot_eq, ":var3", 2, 2),
      (neg|troop_slot_ge, ":var3", 8, 0),
      (troop_get_slot, ":var5", ":var3", 10),
      (ge, ":var5", 0),
      (val_add, ":var2", 1),
      (lt, ":var6", ":var2"),
      (assign, ":var1", ":var3"),
    (try_end),
    (neq, ":var1", -1),
    (assign, reg0, ":var1"),
  ]),

  ("cf_get_random_lord_from_another_faction_in_a_center",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_npc1", "trp_heroes_end"),
      (store_faction_of_troop, ":var4", ":var3"),
      (neq, ":var4", ":var0"),
      (store_relation, ":var5", ":var4", "$players_kingdom"),
      (store_relation, ":var6", ":var4", ":var0"),
      (lt, ":var6", 0),
      (ge, ":var5", 0),
      (troop_slot_eq, ":var3", 2, 2),
      (neg|troop_slot_ge, ":var3", 8, 0),
      (troop_get_slot, ":var7", ":var3", 10),
      (ge, ":var7", 0),
      (party_get_attached_to, ":var8", ":var7"),
      (is_between, ":var8", "p_town_1_1", "p_salt_mine"),
      (val_add, ":var2", 1),
    (try_end),
    (store_random_in_range, ":var9", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_npc1", "trp_heroes_end"),
      (eq, ":var1", -1),
      (store_faction_of_troop, ":var4", ":var3"),
      (neq, ":var4", ":var0"),
      (store_relation, ":var5", ":var4", "$players_kingdom"),
      (store_relation, ":var6", ":var4", ":var0"),
      (lt, ":var6", 0),
      (ge, ":var5", 0),
      (troop_slot_eq, ":var3", 2, 2),
      (neg|troop_slot_ge, ":var3", 8, 0),
      (troop_get_slot, ":var7", ":var3", 10),
      (ge, ":var7", 0),
      (party_get_attached_to, ":var8", ":var7"),
      (is_between, ":var8", "p_town_1_1", "p_salt_mine"),
      (val_add, ":var2", 1),
      (lt, ":var9", ":var2"),
      (assign, ":var1", ":var3"),
    (try_end),
    (neq, ":var1", -1),
    (assign, reg0, ":var1"),
  ]),

  ("get_closest_walled_center",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 9999999),
    (assign, reg0, -1),
    (try_for_range, ":var2", "p_town_1_1", "p_village_1_1"),
      (store_distance_to_party_from_party, ":var3", ":var0", ":var2"),
      (lt, ":var3", ":var1"),
      (assign, ":var1", ":var3"),
      (assign, reg0, ":var2"),
    (try_end),
  ]),

  ("get_closest_center",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 9999999),
    (assign, reg0, -1),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (store_distance_to_party_from_party, ":var3", ":var0", ":var2"),
      (lt, ":var3", ":var1"),
      (assign, ":var1", ":var3"),
      (assign, reg0, ":var2"),
    (try_end),
  ]),

  ("get_closest_center_of_faction",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", 99999),
    (assign, ":var3", -1),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var5", ":var4"),
      (eq, ":var5", ":var1"),
      (store_distance_to_party_from_party, ":var6", ":var0", ":var4"),
      (lt, ":var6", ":var2"),
      (assign, ":var2", ":var6"),
      (assign, ":var3", ":var4"),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("get_closest_walled_center_of_faction",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", 99999),
    (assign, ":var3", -1),
    (try_for_range, ":var4", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var5", ":var4"),
      (eq, ":var5", ":var1"),
      (store_distance_to_party_from_party, ":var6", ":var0", ":var4"),
      (lt, ":var6", ":var2"),
      (assign, ":var2", ":var6"),
      (assign, ":var3", ":var4"),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("let_nearby_parties_join_current_battle",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_character_level, ":var2", "trp_player"),
    (try_for_parties, ":var3"),
      (party_is_active, ":var3"),
      (party_get_battle_opponent, ":var4", ":var3"),
      (lt, ":var4", 0),
      (party_get_attached_to, ":var5", ":var3"),
      (lt, ":var5", 0),
      (get_party_ai_behavior, ":var6", ":var3"),
      (neq, ":var6", 8),
      (party_stack_get_troop_id, ":var7", ":var3", 0),
      (try_begin),
        (neg|is_between, ":var7", "trp_looter", "trp_manhunter"),
        (assign, ":var8", 3),
        (try_begin),
          (is_currently_night),
          (assign, ":var8", 2),
        (try_end),
      (else_try),
        (assign, ":var8", 3),
        (try_begin),
          (is_currently_night),
          (assign, ":var8", 2),
        (try_end),
      (try_end),
      (neg|this_or_next|check_quest_active, "qst_track_down_bandits"),
      (neg|quest_slot_eq, "qst_track_down_bandits", 8, ":var3"),
      (neg|this_or_next|check_quest_active, "qst_troublesome_bandits"),
      (neg|quest_slot_eq, "qst_troublesome_bandits", 8, ":var3"),
      (store_distance_to_party_from_party, ":var9", ":var3", "p_main_party"),
      (lt, ":var9", ":var8"),
      (store_faction_of_party, ":var10", ":var3"),
      (store_faction_of_party, ":var11", "$g_enemy_party"),
      (try_begin),
        (eq, ":var10", "$players_kingdom"),
        (assign, ":var12", 100),
      (else_try),
        (store_relation, ":var12", ":var10", "$players_kingdom"),
      (try_end),
      (try_begin),
        (eq, ":var10", ":var11"),
        (assign, ":var13", 100),
      (else_try),
        (store_relation, ":var13", ":var10", ":var11"),
      (try_end),
      (assign, ":var14", 1),
      (try_begin),
        (neq, "$g_enemy_party", "$g_encountered_party"),
        (assign, ":var14", 2),
      (try_end),
      (try_begin),
        (party_slot_eq, ":var3", 0, 33),
        (eq, ":var0", 0),
        (eq, ":var1", 0),
        (lt, ":var9", 1),
        (party_quick_attach_to_current_battle, ":var3", 0),
        (str_store_party_name, s1, ":var3"),
        (display_message, "str_s1_joined_battle_friend"),
      (else_try),
        (eq, ":var0", 0),
        (lt, ":var12", 0),
        (gt, ":var13", 0),
        (party_get_slot, ":var15", ":var3", 0),
        (assign, ":var16", 0),
        (try_begin),
          (party_stack_get_troop_id, ":var7", ":var3", 0),
          (is_between, ":var7", "trp_looter", "trp_manhunter"),
          (gt, ":var2", 6),
          (assign, ":var16", 1),
        (try_end),
        (party_get_template_id, ":var17", ":var3"),
        (try_begin),
          (this_or_next|eq, ":var17", "pt_mercenary_warband"),
          (is_between, ":var17", "pt_manhunters", "pt_manor"),
          (gt, ":var2", 6),
          (assign, ":var16", 1),
        (try_end),
        (get_party_ai_behavior, ":var18", ":var3"),
        (try_begin),
          (neq, ":var18", 5),
          (eq, ":var16", 1),
          (try_begin),
            (neq, ":var15", 2),
            (neq, ":var15", 3),
            (neq, ":var15", 4),
            (neq, ":var15", 18),
            (neq, ":var15", 12),
            (neg|is_between, ":var3", "p_town_1_1", "p_village_1_1"),
            (party_relocate_near_party, ":var3", "p_main_party", 3),
          (try_end),
          (party_quick_attach_to_current_battle, ":var3", ":var14"),
          (str_store_party_name, s1, ":var3"),
          (try_begin),
            (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
            (display_message, "str_s1_garrison_joined_battle_enemy", 0xFF5050),
          (else_try),
            (display_message, "str_s1_joined_battle_enemy", 0xFF5050),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var0", 0),
          (lt, ":var12", 0),
          (gt, ":var13", 0),
          (eq, ":var16", 0),
          (party_get_template_id, ":var17", ":var3"),
          (get_party_ai_behavior, ":var18", ":var3"),
          (options_get_campaign_ai, ":var19"),
          (try_begin),
            (this_or_next|eq, ":var15", 13),
            (this_or_next|eq, ":var15", 69),
            (this_or_next|eq, ":var15", 30),
            (this_or_next|eq, ":var15", 6),
            (this_or_next|eq, ":var15", 10),
            (eq, ":var15", 19),
            (neg|is_between, ":var3", "p_town_1_1", "p_village_1_1"),
            (neq, ":var18", 5),
            (try_begin),
              (neq, ":var15", 2),
              (neq, ":var15", 3),
              (neq, ":var15", 4),
              (neq, ":var15", 18),
              (neq, ":var15", 12),
              (neg|is_between, ":var3", "p_town_1_1", "p_village_1_1"),
              (party_relocate_near_party, ":var3", "p_main_party", 3),
            (try_end),
            (party_quick_attach_to_current_battle, ":var3", ":var14"),
            (str_store_party_name, s1, ":var3"),
            (try_begin),
              (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
              (display_message, "str_s1_garrison_joined_battle_enemy", 0xFF5050),
            (else_try),
              (display_message, "str_s1_joined_battle_enemy", 0xFF5050),
            (try_end),
          (else_try),
            (this_or_next|eq, ":var15", 2),
            (this_or_next|eq, ":var15", 3),
            (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
            (neq, ":var19", 2),
            (assign, ":var20", ":var3"),
            (assign, ":var21", 0),
            (try_begin),
              (party_get_num_companion_stacks, ":var22", ":var20"),
              (try_for_range, ":var23", 0, ":var22"),
                (party_stack_get_troop_id, ":var7", ":var20", ":var23"),
                (party_stack_get_size, ":var24", ":var20", ":var23"),
                (val_add, ":var21", ":var24"),
              (try_end),
              (try_begin),
                (ge, ":var21", 240),
                (try_begin),
                  (neq, ":var15", 2),
                  (neq, ":var15", 3),
                  (neq, ":var15", 4),
                  (neq, ":var15", 18),
                  (neq, ":var15", 12),
                  (neg|is_between, ":var3", "p_town_1_1", "p_village_1_1"),
                  (party_relocate_near_party, ":var3", "p_main_party", 3),
                (try_end),
                (party_quick_attach_to_current_battle, ":var3", ":var14"),
                (str_store_party_name, s1, ":var3"),
                (try_begin),
                  (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
                  (display_message, "str_s1_garrison_joined_battle_enemy", 0xFF5050),
                (else_try),
                  (display_message, "str_s1_joined_battle_enemy", 0xFF5050),
                (try_end),
              (try_end),
            (try_end),
          (try_end),
        (try_end),
      (try_end),
      (try_begin),
        (try_begin),
          (party_slot_eq, ":var3", 4, 11),
          (party_slot_eq, ":var3", 5, "trp_player"),
          (assign, ":var25", 1),
        (else_try),
          (assign, ":var25", 0),
        (try_end),
        (this_or_next|eq, ":var1", 0),
        (eq, ":var25", 1),
        (gt, ":var12", 0),
        (lt, ":var13", 0),
        (assign, ":var26", 0),
        (try_begin),
          (party_slot_eq, ":var3", 4, 11),
          (party_slot_eq, ":var3", 5, "p_main_party"),
          (assign, ":var26", 1),
        (try_end),
        (assign, ":var27", 1),
        (try_begin),
          (eq, ":var0", 1),
          (eq, ":var26", 0),
          (assign, ":var27", 0),
          (eq, ":var10", "$players_kingdom"),
          (faction_slot_eq, "$players_kingdom", 8, "trp_player"),
          (assign, ":var27", 1),
        (try_end),
        (eq, ":var27", 1),
        (party_get_slot, ":var15", ":var3", 0),
        (this_or_next|eq, ":var15", 69),
        (this_or_next|eq, ":var15", 10),
        (this_or_next|eq, ":var15", 6),
        (eq, ":var15", 13),
        (try_begin),
          (eq, ":var15", 13),
          (party_stack_get_troop_id, ":var28", ":var3", 0),
          (call_script, "script_troop_get_player_relation", ":var28"),
          (assign, ":var29", reg0),
        (else_try),
          (this_or_next|eq, ":var15", 69),
          (this_or_next|eq, ":var15", 10),
          (eq, ":var15", 6),
          (assign, ":var29", 1),
        (else_try),
          (this_or_next|eq, ":var15", 2),
          (this_or_next|eq, ":var15", 3),
          (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
          (try_begin),
            (assign, ":var20", ":var3"),
            (assign, ":var21", 0),
            (assign, ":var29", 0),
            (party_get_num_companion_stacks, ":var22", ":var20"),
            (try_for_range, ":var23", 0, ":var22"),
              (party_stack_get_troop_id, ":var7", ":var20", ":var23"),
              (party_stack_get_size, ":var24", ":var20", ":var23"),
              (val_add, ":var21", ":var24"),
            (try_end),
            (try_begin),
              (ge, ":var21", 120),
              (party_slot_eq, ":var3", 134, 1),
              (try_begin),
                (party_get_slot, ":var30", ":var3", 7),
                (eq, ":var30", "trp_player"),
                (assign, ":var29", 1),
              (try_end),
            (try_end),
          (try_end),
        (try_end),
        (assign, ":var31", 0),
        (try_begin),
          (faction_slot_eq, "$players_kingdom", 8, "trp_player"),
          (eq, ":var26", 1),
          (assign, ":var31", 1),
        (try_end),
        (try_begin),
          (this_or_next|ge, ":var29", 1),
          (eq, ":var31", 1),
          (this_or_next|eq, ":var0", 0),
          (eq, ":var27", 1),
          (gt, ":var12", 0),
          (lt, ":var13", 0),
          (party_get_template_id, ":var17", ":var3"),
          (get_party_ai_behavior, ":var18", ":var3"),
          (try_begin),
            (this_or_next|eq, ":var15", 13),
            (this_or_next|eq, ":var15", 69),
            (this_or_next|eq, ":var15", 30),
            (this_or_next|eq, ":var15", 6),
            (this_or_next|eq, ":var15", 10),
            (eq, ":var15", 19),
            (neq, ":var18", 5),
            (try_begin),
              (neq, ":var15", 2),
              (neq, ":var15", 3),
              (neq, ":var15", 4),
              (neq, ":var15", 18),
              (neq, ":var15", 12),
              (neg|is_between, ":var3", "p_town_1_1", "p_village_1_1"),
              (party_relocate_near_party, ":var3", "p_main_party", 3),
            (try_end),
            (party_quick_attach_to_current_battle, ":var3", 0),
            (str_store_party_name, s1, ":var3"),
            (try_begin),
              (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
              (display_message, "str_s1_garrison_joined_battle_friend", 0x50FF50),
            (else_try),
              (display_message, "str_s1_joined_battle_friend", 0x50FF50),
            (try_end),
          (try_end),
        (try_end),
      (else_try),
        (party_get_template_id, ":var17", ":var3"),
        (get_party_ai_behavior, ":var18", ":var3"),
        (try_begin),
          (party_slot_eq, ":var3", 4, 11),
          (party_slot_eq, ":var3", 5, "trp_player"),
          (assign, ":var25", 1),
        (else_try),
          (assign, ":var25", 0),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var1", 0),
          (eq, ":var25", 1),
          (gt, ":var12", 0),
          (lt, ":var13", 0),
          (neq, ":var18", 5),
          (try_begin),
            (neq, ":var15", 2),
            (neq, ":var15", 3),
            (neq, ":var15", 4),
            (neq, ":var15", 18),
            (neq, ":var15", 12),
            (neg|is_between, ":var3", "p_town_1_1", "p_village_1_1"),
            (party_relocate_near_party, ":var3", "p_main_party", 3),
          (try_end),
          (party_quick_attach_to_current_battle, ":var3", 0),
          (str_store_party_name, s1, ":var3"),
          (try_begin),
            (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
            (display_message, "str_s1_garrison_joined_battle_friend", 0x50FF50),
          (else_try),
            (display_message, "str_s1_joined_battle_friend", 0x50FF50),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("party_wound_all_members_aux",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (try_for_range, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", ":var0", ":var2"),
      (try_begin),
        (neg|troop_is_hero, ":var3"),
        (party_stack_get_size, ":var4", ":var0", ":var2"),
        (party_wound_members, ":var0", ":var3", ":var4"),
      (else_try),
        (troop_set_health, ":var3", 0),
      (try_end),
    (try_end),
    (party_get_num_attached_parties, ":var5", ":var0"),
    (try_for_range, ":var6", 0, ":var5"),
      (party_get_attached_party_with_rank, ":var7", ":var0", ":var6"),
      (call_script, "script_party_wound_all_members_aux", ":var7"),
    (try_end),
  ]),

  ("party_wound_all_members",
  [
    (store_script_param_1, ":var0"),
    (call_script, "script_party_wound_all_members_aux", ":var0"),
  ]),

  ("calculate_battle_advantage",
  [
    (call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
    (assign, ":var0", reg0),
    (party_get_skill_level, ":var1", "p_main_party", 15),
    (party_get_skill_level, ":var2", "p_collective_friends", 15),
    (val_max, ":var1", ":var2"),
    (call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
    (assign, ":var3", reg0),
    (party_get_skill_level, ":var4", "p_collective_enemy", 15),
    (val_add, ":var0", 1),
    (val_add, ":var3", 1),
    (try_begin),
      (ge, ":var0", ":var3"),
      (val_mul, ":var0", 100),
      (store_div, ":var5", ":var0", ":var3"),
      (store_sub, ":var6", ":var5", 100),
    (else_try),
      (val_mul, ":var3", 100),
      (store_div, ":var5", ":var3", ":var0"),
      (store_sub, ":var6", 100, ":var5"),
    (try_end),
    (val_mul, ":var6", 2),
    (val_mul, ":var1", 30),
    (val_mul, ":var4", 30),
    (val_add, ":var6", ":var1"),
    (val_sub, ":var6", ":var4"),
    (val_div, ":var6", 100),
    (assign, reg0, ":var6"),
    (display_message, "@Battle Advantage = {reg0}.", 0xFFAA00),
  ]),

  ("cf_check_enemies_nearby",
  [
    (get_player_agent_no, ":var0"),
    (agent_is_alive, ":var0"),
    (agent_get_position, pos1, ":var0"),
    (assign, ":var1", 0),
    (set_fixed_point_multiplier, 100),
    (try_for_agents, ":var2"),
      (neq, ":var2", ":var0"),
      (agent_is_alive, ":var2"),
      (agent_is_human, ":var2"),
      (neg|agent_is_ally, ":var2"),
      (agent_get_position, pos2, ":var2"),
      (get_distance_between_positions, ":var3", pos1, pos2),
      (le, ":var3", 1500),
      (assign, ":var1", 1),
    (try_end),
    (eq, ":var1", 0),
  ]),

  ("get_heroes_attached_to_center_aux",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (troop_is_hero, ":var4"),
      (party_add_members, ":var1", ":var4", 1),
    (try_end),
    (party_get_num_attached_parties, ":var5", ":var0"),
    (try_for_range, ":var6", 0, ":var5"),
      (party_get_attached_party_with_rank, ":var7", ":var0", ":var6"),
      (call_script, "script_get_heroes_attached_to_center_aux", ":var7", ":var1"),
    (try_end),
  ]),

  ("get_heroes_attached_to_center",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_clear, ":var1"),
    (call_script, "script_get_heroes_attached_to_center_aux", ":var0", ":var1"),
    (try_for_range, ":var2", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (neq, ":var2", "$supported_pretender"),
      (troop_slot_eq, ":var2", 12, ":var0"),
      (party_add_members, ":var1", ":var2", 1),
    (try_end),
  ]),

  ("get_heroes_attached_to_center_as_prisoner_aux",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_num_prisoner_stacks, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_prisoner_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (troop_is_hero, ":var4"),
      (party_add_members, ":var1", ":var4", 1),
    (try_end),
    (party_get_num_attached_parties, ":var5", ":var0"),
    (try_for_range, ":var6", 0, ":var5"),
      (party_get_attached_party_with_rank, ":var7", ":var0", ":var6"),
      (call_script, "script_get_heroes_attached_to_center_as_prisoner_aux", ":var7", ":var1"),
    (try_end),
  ]),

  ("get_heroes_attached_to_center_as_prisoner",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_clear, ":var1"),
    (call_script, "script_get_heroes_attached_to_center_as_prisoner_aux", ":var0", ":var1"),
  ]),

  ("give_center_to_faction",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_faction_of_party, ":var2", ":var0"),
    (party_set_slot, ":var0", 287, 0),
    (try_begin),
      (party_slot_eq, ":var0", 39, "trp_peasant_woman"),
      (party_set_slot, ":var0", 39, 0),
    (try_end),
    (try_begin),
      (eq, "$g_constable_training_center", ":var0"),
      (assign, "$g_constable_training_center", -1),
    (try_end),
    (try_begin),
      (eq, ":var1", "$players_kingdom"),
      (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (try_begin),
        (is_between, ":var0", "p_town_1_1", "p_village_1_1"),
        (assign, ":var3", 1),
      (else_try),
        (assign, ":var3", 0),
      (try_end),
      (try_for_range, ":var4", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var5", ":var4"),
        (eq, ":var5", "$players_kingdom"),
        (val_add, ":var3", 1),
      (try_end),
      (ge, ":var3", 10),
      (unlock_achievement, 55),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_join_siege_with_army"),
      (quest_slot_eq, "qst_join_siege_with_army", 1, ":var0"),
      (call_script, "script_abort_quest", "qst_join_siege_with_army", 0),
      (faction_get_slot, ":var6", "$players_kingdom", 8),
      (str_store_troop_name_link, s9, ":var6"),
      (setup_quest_text, "qst_follow_army"),
      (str_store_string, s2, "@{s9} wants you to resume following his army until further notice."),
      (call_script, "script_start_quest", "qst_follow_army", ":var6"),
      (assign, "$g_player_follow_army_warnings", 0),
    (try_end),
    (call_script, "script_give_center_to_faction_aux", ":var0", ":var1"),
    (call_script, "script_update_village_market_towns"),
    (try_for_range, ":var7", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (call_script, "script_faction_recalculate_strength", ":var7"),
    (try_end),
    (try_begin),
      (eq, ":var1", "fac_player_supporters_faction"),
      (faction_slot_eq, "fac_player_supporters_faction", 21, 2),
      (call_script, "script_ee_activate_player_faction", "trp_player", ":var2"),
    (try_end),
  ]),

  ("give_center_to_faction_aux",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (eq, ":var1", "fac_player_supporters_faction"),
      (ge, "$cstm_troops_begin", "trp_cstm_custom_troop_1_tier_0_0_0"),
      (call_script, "script_cstm_center_set_culture", ":var0", "fac_culture_player"),
    (else_try),
      (store_faction_of_party, reg0, ":var0"),
      (eq, reg0, "fac_player_supporters_faction"),
      (party_get_slot, reg1, ":var0", 61),
      (faction_get_slot, reg2, reg1, 10),
      (call_script, "script_cstm_center_set_culture", ":var0", reg2),
    (try_end),
    (store_faction_of_party, ":var2", ":var0"),
    (party_set_faction, ":var0", ":var1"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 4),
      (party_get_slot, ":var3", ":var0", 122),
      (gt, ":var3", 0),
      (party_is_active, ":var3"),
      (party_set_faction, ":var3", ":var1"),
    (try_end),
    (try_begin),
      (neq, ":var1", ":var2"),
      (party_set_slot, ":var0", 62, ":var2"),
      (party_get_slot, ":var4", ":var0", 7),
      (party_set_slot, ":var0", 7, -1),
      (party_set_banner_icon, ":var0", icon_player),
      (call_script, "script_update_faction_notes", ":var2"),
    (try_end),
    (call_script, "script_update_faction_notes", ":var1"),
    (call_script, "script_update_center_notes", ":var0"),
    (try_begin),
      (ge, ":var4", 0),
      (neq, ":var1", "fac_player_supporters_faction"),
      (call_script, "script_update_troop_notes", ":var4"),
    (try_end),
    (try_for_range, ":var5", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var5", 120, ":var0"),
      (call_script, "script_give_center_to_faction_aux", ":var5", ":var1"),
    (try_end),
  ]),

  ("change_troop_faction",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_for_range, reg3, "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, reg3, 7, ":var0"),
      (try_begin),
        (eq, ":var1", "fac_player_supporters_faction"),
        (call_script, "script_cstm_center_set_culture", reg3, "fac_culture_player"),
      (else_try),
        (store_faction_of_party, reg0, reg3),
        (eq, reg0, "fac_player_supporters_faction"),
        (party_get_slot, reg1, reg3, 61),
        (faction_get_slot, reg2, reg1, 10),
        (call_script, "script_cstm_center_set_culture", reg3, reg2),
      (try_end),
    (try_end),
    (store_faction_of_troop, ":var2", ":var0"),
    (try_begin),
      (faction_slot_eq, ":var2", 8, ":var0"),
      (call_script, "script_check_and_finish_active_army_quests_for_faction", ":var2"),
      (try_begin),
        (faction_slot_eq, ":var2", 64, 0),
        (faction_set_slot, ":var2", 64, 1),
        (store_current_hours, ":var3"),
        (val_max, ":var3", 0),
        (faction_set_slot, ":var2", 65, ":var3"),
        (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var4", 166, 1),
          (store_faction_of_troop, ":var5", ":var4"),
          (eq, ":var5", ":var2"),
          (troop_set_slot, ":var4", 154, -1),
        (try_end),
        (try_begin),
          (eq, "$players_kingdom", ":var2"),
          (troop_set_slot, "trp_player", 154, -1),
        (try_end),
      (try_end),
      (try_begin),
        (troop_get_slot, ":var6", ":var0", 10),
        (party_is_active, ":var6"),
        (party_set_marshall, ":var6", 0),
      (try_end),
      (faction_set_slot, ":var2", 8, -1),
    (try_end),
    (troop_set_slot, ":var0", 154, -1),
    (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var4", 166, 1),
      (troop_slot_eq, ":var4", 154, ":var0"),
      (troop_set_slot, ":var4", 154, -1),
    (try_end),
    (try_begin),
      (ge, "$cheat_mode", 1),
      (str_store_troop_name, s4, ":var0"),
      (display_message, "@{!}DEBUG - {s4} faction changed in normal faction change"),
    (try_end),
    (troop_set_faction, ":var0", ":var1"),
    (troop_set_slot, ":var0", 50, 0),
    (troop_set_slot, ":var0", 53, 0),
    (troop_set_slot, ":var0", 54, 0),
    (troop_set_slot, ":var0", 47, 0),
    (try_begin),
      (troop_slot_ge, ":var0", 167, 1),
      (call_script, "script_troop_set_title_according_to_faction", ":var0", ":var1"),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "$players_kingdom"),
      (eq, ":var1", "fac_player_supporters_faction"),
      (call_script, "script_check_concilio_calradi_achievement"),
    (try_end),
    (try_for_range, ":var7", "p_town_1_1", "p_village_1_1"),
      (party_slot_eq, ":var7", 7, ":var0"),
      (party_set_faction, ":var7", ":var1"),
      (try_for_range, ":var8", "p_village_1_1", "p_salt_mine"),
        (party_slot_eq, ":var8", 120, ":var7"),
        (party_set_faction, ":var8", ":var1"),
        (party_get_slot, ":var9", ":var8", 122),
        (try_begin),
          (gt, ":var9", 0),
          (party_is_active, ":var9"),
          (party_set_faction, ":var9", ":var1"),
        (try_end),
        (try_begin),
          (party_get_slot, ":var10", ":var8", 7),
          (neq, ":var10", ":var0"),
          (party_set_slot, ":var8", 7, -1),
        (try_end),
      (try_end),
    (try_end),
    (try_for_range, ":var11", "trp_knight_1_1_wife", "trp_heroes_end"),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var11"),
      (assign, ":var12", reg0),
      (assign, ":var13", reg1),
      (eq, ":var12", ":var0"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var11"),
        (display_message, "@{!}DEBUG - {s4} faction changed by guardian moving"),
      (try_end),
      (troop_set_faction, ":var11", ":var1"),
      (troop_slot_eq, ":var11", 8, -1),
      (troop_set_slot, ":var11", 12, ":var13"),
    (try_end),
    (try_for_range, ":var8", "p_village_1_1", "p_salt_mine"),
      (party_slot_eq, ":var8", 7, ":var0"),
      (store_faction_of_party, ":var14", ":var8"),
      (try_begin),
        (neq, ":var14", ":var1"),
        (party_set_slot, ":var8", 7, -1),
      (try_end),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var15", ":var0", 10),
      (gt, ":var15", 0),
      (party_set_faction, ":var15", ":var1"),
      (party_get_num_prisoner_stacks, ":var16", ":var15"),
      (try_for_range_backwards, ":var17", 0, ":var16"),
        (party_prisoner_stack_get_troop_id, ":var18", ":var15", ":var17"),
        (store_faction_of_troop, ":var19", ":var18"),
        (troop_is_hero, ":var18"),
        (eq, ":var19", ":var1"),
        (call_script, "script_remove_troop_from_prison", ":var18"),
        (party_remove_prisoners, ":var15", ":var18", 1),
      (try_end),
    (try_end),
    (try_for_range, ":var20", 0, "qst_quests_end"),
      (check_quest_active, ":var20"),
      (quest_slot_eq, ":var20", 6, ":var0"),
      (str_store_troop_name, s4, ":var0"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_s4_changing_sides_aborts_quest"),
      (try_end),
      (try_begin),
        (eq, ":var20", "qst_freelancer_enlisted"),
        (str_store_troop_name, s5, "$player_cur_troop"),
        (str_store_troop_name_link, s13, "$enlisted_lord"),
        (str_store_faction_name_link, s14, ":var1"),
        (str_store_string, s1, "@Enlisted as a {s5} in the party of {s13} of {s14}."),
        (add_troop_note_from_sreg, "trp_player", 3, s1, 0),
        (try_begin),
          (store_relation, ":var21", ":var1", "$players_kingdom"),
          (lt, ":var21", 10),
          (call_script, "script_set_player_relation_with_faction", ":var1", 10),
        (try_end),
        (try_for_range, ":var19", "fac_kingdom_1", "fac_kingdoms_end"),
          (neq, ":var1", ":var19"),
          (faction_slot_eq, ":var19", 21, 0),
          (store_relation, ":var21", ":var19", "$players_kingdom"),
          (ge, ":var21", 0),
          (call_script, "script_set_player_relation_with_faction", ":var19", -5),
        (try_end),
      (else_try),
        (neg|is_between, ":var20", "qst_freelancer_enlisted", "qst_freelancer_end"),
        (call_script, "script_abort_quest", ":var20", 0),
      (try_end),
    (try_end),
    (try_for_range, ":var22", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var22", 166, 1),
      (troop_get_slot, ":var23", ":var22", 10),
      (party_is_active, ":var23"),
      (party_get_attached_to, ":var24", ":var23"),
      (is_between, ":var24", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var25", ":var23"),
      (store_faction_of_party, ":var26", ":var24"),
      (neq, ":var25", ":var26"),
      (party_detach, ":var23"),
    (try_end),
    (faction_get_slot, ":var27", ":var1", 11),
    (try_begin),
      (eq, ":var27", "trp_player"),
      (neq, ":var0", "$g_talk_troop"),
      (troop_set_slot, ":var0", 2, 0),
    (else_try),
      (is_between, ":var27", "trp_npc1", "trp_knight_1_1_wife"),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (call_script, "script_troop_change_relation_with_troop", ":var27", ":var0", 5),
      (val_add, "$total_indictment_changes", 5),
    (try_end),
    (try_begin),
      (troop_slot_ge, ":var0", 30, 0),
    (else_try),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (try_for_range, ":var28", 35, 38),
        (troop_get_slot, ":var29", ":var0", ":var28"),
        (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var29", ":var0"),
      (try_end),
      (call_script, "script_assign_troop_love_interests", ":var0"),
    (else_try),
      (is_between, ":var0", "trp_knight_1_1_wife", "trp_heroes_end"),
      (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var4", 166, 1),
        (try_for_range, ":var28", 35, 38),
          (troop_slot_eq, ":var4", ":var28", ":var0"),
          (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var0", ":var4"),
        (try_end),
      (try_end),
    (try_end),
    (troop_get_slot, ":var30", ":var0", 10),
    (try_for_range, ":var7", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var7", 0, 4),
      (party_get_slot, ":var31", ":var7", 34),
      (eq, ":var31", ":var30"),
      (party_set_slot, ":var7", 34, -1),
      (try_begin),
        (party_slot_eq, ":var7", 35, 1),
        (party_set_slot, ":var7", 35, 0),
        (party_set_extra_text, ":var7", "str_empty_string"),
      (try_end),
    (else_try),
      (party_get_slot, ":var32", ":var7", 54),
      (eq, ":var32", ":var30"),
      (party_set_slot, ":var7", 54, -1),
      (try_begin),
        (party_slot_eq, ":var7", 35, 5),
        (party_set_slot, ":var7", 35, 0),
        (party_set_extra_text, ":var7", "str_empty_string"),
      (try_end),
    (try_end),
    (call_script, "script_update_all_notes"),
    (call_script, "script_update_village_market_towns"),
    (call_script, "script_recalculate_ais_for_faction", ":var1"),
  ]),

  ("troop_set_title_according_to_faction",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (str_clear, s0),
      (str_clear, s1),
      (str_clear, s2),
      (str_clear, s4),
      (str_clear, s5),
      (str_clear, s6),
      (try_begin),
        (this_or_next|eq, ":var0", 0),
        (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
        (str_store_troop_name, s0, ":var0"),
      (else_try),
        (troop_get_slot, ":var2", ":var0", 167),
        (troop_get_slot, ":var3", ":var0", 168),
        (troop_get_slot, ":var4", ":var0", 169),
        (try_begin),
          (gt, ":var2", 0),
          (gt, ":var3", 0),
          (gt, ":var4", 0),
          (str_store_string, s1, ":var2"),
          (str_store_string, s2, ":var3"),
          (str_store_string, s4, ":var4"),
          (str_store_string, s0, "str_enhanced_name_title_numeral_surname"),
        (else_try),
          (gt, ":var2", 0),
          (gt, ":var3", 0),
          (str_store_string, s1, ":var2"),
          (str_store_string, s2, ":var3"),
          (str_store_string, s0, "str_enhanced_name_surname"),
        (else_try),
          (gt, ":var2", 0),
          (gt, ":var4", 0),
          (str_store_string, s1, ":var2"),
          (str_store_string, s4, ":var4"),
          (str_store_string, s0, "str_enhanced_name_title_numeral"),
        (else_try),
          (gt, ":var2", 0),
          (str_store_string, s1, ":var2"),
          (str_store_string, s0, "str_enhanced_name"),
        (else_try),
          (str_store_troop_name, s0, ":var0"),
        (try_end),
      (try_end),
      (troop_get_type, ":var5", ":var0"),
      (store_sub, ":var6", ":var1", "fac_player_supporters_faction"),
      (try_begin),
        (eq, ":var5", 0),
        (val_add, ":var6", "str_faction_title_male_player"),
      (else_try),
        (val_add, ":var6", "str_faction_title_female_player"),
      (try_end),
      (str_store_string, s6, ":var6"),
      (troop_set_name, ":var0", s6),
      (troop_get_slot, ":var7", ":var0", 10),
      (gt, ":var7", -1),
      (str_store_troop_name, s5, ":var0"),
      (party_set_name, ":var7", "str_s5_s_party"),
    (try_end),
  ]),

  ("give_center_to_lord",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (party_set_slot, ":var0", 287, 0),
    (try_begin),
      (party_slot_eq, ":var0", 39, "trp_peasant_woman"),
      (party_set_slot, ":var0", 39, 0),
    (try_end),
    (try_begin),
      (ge, ":var1", 0),
      (str_store_party_name_link, s4, ":var0"),
      (str_store_troop_name_link, s5, ":var1"),
      (store_faction_of_troop, ":var3", ":var1"),
      (try_begin),
        (eq, ":var3", "fac_player_faction"),
        (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (assign, ":var3", "$players_kingdom"),
      (try_end),
      (str_store_faction_name_link, s7, ":var3"),
      (try_begin),
        (faction_slot_eq, ":var3", 11, ":var1"),
        (display_log_message, "@{s5} of the {s7} has taken ownership of {s4}."),
      (else_try),
        (display_log_message, "@{s4} has been awarded to {s5} of the {s7}."),
      (try_end),
    (else_try),
      (eq, "$cheat_mode", 1),
      (ge, ":var1", 0),
      (str_store_party_name, s4, ":var0"),
      (str_store_troop_name, s5, ":var1"),
      (display_message, "@{!}DEBUG -- {s4} awarded to {s5}"),
    (try_end),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (unlock_achievement, 50),
      (assign, ":var4", 1),
      (try_for_range, ":var5", "p_town_1_1", "p_salt_mine"),
        (neq, ":var5", ":var0"),
        (party_slot_eq, ":var5", 7, "trp_player"),
        (val_add, ":var4", 1),
      (try_end),
      (ge, ":var4", 5),
      (unlock_achievement, 51),
    (try_end),
    (party_get_slot, ":var6", ":var0", 7),
    (try_begin),
      (eq, ":var1", -1),
      (assign, ":var7", "fac_player_supporters_faction"),
      (party_set_banner_icon, ":var0", icon_player),
    (else_try),
      (eq, ":var1", "trp_player"),
      (assign, ":var7", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var7", ":var1"),
    (try_end),
    (faction_get_slot, ":var8", ":var7", 11),
    (try_begin),
      (eq, ":var8", ":var6"),
      (call_script, "script_add_log_entry", 22, ":var8", ":var0", ":var1", ":var7"),
      (troop_set_slot, ":var1", 47, 0),
    (try_end),
    (try_begin),
      (eq, ":var1", -1),
      (party_set_faction, ":var0", "$players_kingdom"),
    (else_try),
      (eq, ":var1", "trp_player"),
      (gt, "$players_kingdom", 0),
      (party_set_faction, ":var0", "$players_kingdom"),
    (else_try),
      (eq, ":var1", "trp_player"),
      (neg|is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (party_set_faction, ":var0", "fac_player_supporters_faction"),
    (else_try),
      (party_set_faction, ":var0", ":var7"),
    (try_end),
    (party_set_slot, ":var0", 7, ":var1"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 4),
      (party_get_slot, ":var9", ":var0", 122),
      (gt, ":var9", 0),
      (party_is_active, ":var9"),
      (store_faction_of_party, ":var10", ":var0"),
      (party_set_faction, ":var9", ":var10"),
    (try_end),
    (try_begin),
      (this_or_next|party_slot_eq, ":var0", 0, 3),
      (party_slot_eq, ":var0", 0, 2),
      (gt, ":var1", -1),
      (troop_get_slot, ":var11", ":var1", 13),
      (gt, ":var11", 0),
      (val_sub, ":var11", "spr_banner_a"),
      (val_add, ":var11", "icon_banner_01"),
      (party_set_banner_icon, ":var0", ":var11"),
    (try_end),
    (try_begin),
      (gt, ":var1", -1),
      (call_script, "script_update_troop_notes", ":var1"),
    (try_end),
    (call_script, "script_update_center_notes", ":var0"),
    (try_begin),
      (gt, ":var7", 0),
      (call_script, "script_update_faction_notes", ":var7"),
    (try_end),
    (try_begin),
      (ge, ":var6", 0),
      (call_script, "script_update_troop_notes", ":var6"),
      (store_faction_of_troop, ":var12", ":var6"),
      (call_script, "script_update_faction_notes", ":var12"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (this_or_next|party_slot_eq, ":var0", 0, 3),
      (party_slot_eq, ":var0", 0, 2),
      (assign, ":var13", 3),
      (try_begin),
        (party_slot_eq, ":var0", 0, 3),
        (assign, ":var13", 9),
      (try_end),
      (try_for_range, ":var14", 0, ":var13"),
        (call_script, "script_cf_reinforce_party", ":var0"),
      (try_end),
      (try_for_range, ":var14", 0, 7),
        (store_mul, ":var15", 150, ":var13"),
        (store_mul, ":var16", 200, ":var13"),
        (store_random_in_range, ":var17", ":var15", ":var16"),
        (party_upgrade_with_xp, ":var0", ":var17", 0),
      (try_end),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var0", 7, "trp_player"),
      (call_script, "script_ee_player_learn_new_culture", ":var0"),
    (try_end),
    (faction_get_slot, ":var8", ":var7", 11),
    (store_current_hours, ":var18"),
    (try_begin),
      (gt, ":var18", 0),
      (gt, ":var1", 0),
      (call_script, "script_troop_change_relation_with_troop", ":var1", ":var8", 10),
      (val_add, "$total_promotion_changes", 10),
      (try_for_range, ":var19", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var19", 166, 1),
        (troop_slot_eq, ":var19", 2, 2),
        (neq, ":var19", ":var1"),
        (store_faction_of_troop, ":var20", ":var19"),
        (eq, ":var7", ":var20"),
        (neq, ":var19", ":var8"),
        (call_script, "script_troop_get_relation_with_troop", ":var19", ":var1"),
        (assign, ":var21", reg0),
        (store_div, ":var22", ":var21", 8),
        (val_sub, ":var22", 2),
        (val_clamp, ":var22", -5, 3),
        (try_begin),
          (this_or_next|troop_slot_eq, ":var19", 52, 4),
          (this_or_next|troop_slot_eq, ":var19", 52, 1),
          (this_or_next|troop_slot_eq, ":var19", 52, 7),
          (troop_slot_eq, ":var19", 52, 6),
          (ge, ":var21", 0),
          (val_max, ":var22", 0),
        (else_try),
          (this_or_next|troop_slot_eq, ":var19", 52, 3),
          (this_or_next|troop_slot_eq, ":var19", 52, 5),
          (troop_slot_eq, ":var19", 52, 2),
          (lt, ":var22", 0),
          (val_mul, ":var22", 3),
          (val_div, ":var22", 2),
        (try_end),
        (neq, ":var22", 0),
        (try_begin),
          (troop_slot_eq, ":var19", 154, ":var1"),
          (val_add, ":var22", 1),
          (val_max, ":var22", 1),
        (try_end),
        (call_script, "script_troop_change_relation_with_troop", ":var19", ":var8", ":var22"),
        (val_add, "$total_promotion_changes", ":var22"),
        (try_begin),
          (this_or_next|le, ":var22", -4),
          (this_or_next|troop_slot_eq, ":var19", 47, 1),
          (troop_slot_eq, ":var19", 47, ":var0"),
          (call_script, "script_add_log_entry", 26, ":var19", ":var0", ":var1", ":var7"),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_village_1_1"),
      (try_for_range, ":var23", "p_village_1_1", "p_salt_mine"),
        (party_slot_eq, ":var23", 120, ":var0"),
        (store_faction_of_party, ":var24", ":var23"),
        (neq, ":var24", ":var7"),
        (call_script, "script_give_center_to_lord", ":var23", ":var1", 0),
      (try_end),
    (try_end),
  ]),

  ("get_number_of_hero_centers",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var2", 7, ":var0"),
      (val_add, ":var1", 1),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cf_get_random_enemy_center",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (store_faction_of_party, ":var3", ":var0"),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var5", ":var4"),
      (store_relation, ":var6", ":var5", ":var3"),
      (lt, ":var6", 0),
      (val_add, ":var2", 1),
    (try_end),
    (gt, ":var2", 0),
    (store_random_in_range, ":var7", 0, ":var2"),
    (assign, ":var2", 0),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (eq, ":var1", -1),
      (store_faction_of_party, ":var5", ":var4"),
      (store_relation, ":var6", ":var5", ":var3"),
      (lt, ":var6", 0),
      (val_sub, ":var7", 1),
      (lt, ":var7", 0),
      (assign, ":var1", ":var4"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("find_travel_location",
  [
    (store_script_param_1, ":var0"),
    (store_faction_of_party, ":var1", ":var0"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (neq, ":var0", ":var3"),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var1", ":var4"),
      (store_distance_to_party_from_party, ":var5", ":var0", ":var3"),
      (val_add, ":var5", 1),
      (assign, ":var6", 100000),
      (val_div, ":var6", ":var5"),
      (val_add, ":var2", ":var6"),
    (try_end),
    (assign, reg0, -1),
    (try_begin),
      (eq, ":var2", 0),
    (else_try),
      (store_random_in_range, ":var7", 0, ":var2"),
      (assign, ":var2", 0),
      (assign, ":var8", 0),
      (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
        (eq, ":var8", 0),
        (neq, ":var0", ":var3"),
        (store_faction_of_party, ":var4", ":var3"),
        (eq, ":var1", ":var4"),
        (store_distance_to_party_from_party, ":var5", ":var0", ":var3"),
        (val_add, ":var5", 1),
        (assign, ":var6", 100000),
        (val_div, ":var6", ":var5"),
        (val_add, ":var2", ":var6"),
        (lt, ":var7", ":var2"),
        (assign, reg0, ":var3"),
        (assign, ":var8", 1),
      (try_end),
    (try_end),
  ]),

  ("get_relation_between_parties",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_faction_of_party, ":var2", ":var0"),
    (store_faction_of_party, ":var3", ":var1"),
    (try_begin),
      (eq, ":var2", ":var3"),
      (assign, reg0, 100),
    (else_try),
      (store_relation, ":var4", ":var2", ":var3"),
      (assign, reg0, ":var4"),
    (try_end),
  ]),

  ("calculate_weekly_party_wage",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (party_stack_get_size, ":var5", ":var0", ":var3"),
      (call_script, "script_game_get_troop_wage", ":var4", ":var0"),
      (assign, ":var6", reg0),
      (val_mul, ":var6", ":var5"),
      (val_add, ":var1", ":var6"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("calculate_player_faction_wage",
  [
    (assign, ":var0", 0),
    (assign, ":var1", 0),
    (try_for_parties, ":var2"),
      (assign, ":var3", 0),
      (try_begin),
        (this_or_next|party_slot_eq, ":var2", 0, 3),
        (party_slot_eq, ":var2", 0, 2),
        (party_slot_eq, ":var2", 7, "trp_player"),
        (assign, ":var3", 1),
      (try_end),
      (this_or_next|eq, ":var2", "p_main_party"),
      (this_or_next|party_slot_eq, ":var2", 0, 33),
      (eq, ":var3", 1),
      (party_get_num_companion_stacks, ":var4", ":var2"),
      (try_for_range, ":var5", 0, ":var4"),
        (party_stack_get_troop_id, ":var6", ":var2", ":var5"),
        (party_stack_get_size, ":var7", ":var2", ":var5"),
        (call_script, "script_game_get_troop_wage", ":var6", ":var2"),
        (assign, ":var8", reg0),
        (val_mul, ":var8", ":var7"),
        (try_begin),
          (eq, ":var3", 1),
          (val_add, ":var1", ":var8"),
        (else_try),
          (val_add, ":var0", ":var8"),
        (try_end),
      (try_end),
    (try_end),
    (val_div, ":var1", 2),
    (store_sub, ":var9", 14, "$g_cur_week_half_daily_wage_payments"),
    (val_mul, ":var0", ":var9"),
    (val_div, ":var0", 14),
    (store_add, reg0, ":var0", ":var1"),
  ]),

  ("calculate_hero_weekly_net_income_and_add_to_wealth",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (assign, ":var2", -1),
    (try_for_parties, ":var3", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var3", 7, ":var0"),
      (val_add, ":var1", 500),
      (assign, ":var2", 1),
      (party_get_slot, ":var4", ":var3", 47),
      (party_get_slot, ":var5", ":var3", 48),
      (val_add, ":var1", ":var4"),
      (val_add, ":var1", ":var5"),
      (party_set_slot, ":var3", 47, 0),
      (party_set_slot, ":var3", 48, 0),
    (try_end),
    (try_begin),
      (eq, ":var2", -1),
      (val_add, ":var1", 2000),
    (try_end),
    (store_faction_of_troop, ":var6", ":var0"),
    (troop_get_slot, ":var7", ":var0", 10),
    (troop_get_slot, ":var8", ":var0", 11),
    (try_begin),
      (faction_slot_eq, ":var6", 11, ":var0"),
      (val_add, ":var1", 3500),
    (try_end),
    (assign, ":var9", 0),
    (try_begin),
      (gt, ":var7", 0),
      (call_script, "script_calculate_weekly_party_wage", ":var7"),
      (assign, ":var9", reg0),
    (try_end),
    (assign, ":var10", ":var1"),
    (val_sub, ":var1", ":var9"),
    (val_add, ":var8", ":var1"),
    (try_begin),
      (lt, ":var8", 0),
      (store_sub, ":var11", 0, ":var8"),
      (val_mul, ":var11", 100),
      (val_div, ":var11", ":var9"),
      (val_div, ":var11", 5),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_party_name, s25, ":var7"),
        (assign, reg25, ":var11"),
        (assign, reg1, ":var9"),
        (assign, reg2, ":var8"),
        (assign, reg3, ":var10"),
        (display_message, "@!!!attrition {s25} - {reg25}, wage: {reg1}, wealth: {reg2}, weekly income: {reg3}"),
      (try_end),
    (try_end),
    (try_begin),
      (ge, ":var8", 5000),
      (assign, ":var12", 0),
      (call_script, "script_list_clear", "trp_upgrades"),
      (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
        (neg|party_slot_eq, ":var3", 7, "trp_player"),
        (party_slot_eq, ":var3", 7, ":var7"),
        (party_slot_eq, ":var3", 124, 0),
        (call_script, "script_list_add", "trp_upgrades", ":var3"),
        (assign, ":var12", 1),
      (try_end),
      (eq, ":var12", 1),
      (call_script, "script_list_random", "trp_upgrades"),
      (assign, ":var13", reg1),
      (try_begin),
        (party_slot_eq, ":var13", 0, 4),
        (call_script, "script_list_clear", "trp_upgrades"),
        (assign, ":var14", 0),
        (try_for_range, ":var15", 130, 135),
          (neg|party_slot_eq, ":var13", ":var15", 1),
          (call_script, "script_list_add", "trp_upgrades", ":var15"),
          (assign, ":var14", 1),
        (try_end),
      (else_try),
        (party_slot_eq, ":var13", 0, 2),
        (call_script, "script_list_clear", "trp_upgrades"),
        (assign, ":var14", 0),
        (try_for_range, ":var15", 134, 136),
          (neg|party_slot_eq, ":var13", ":var15", 1),
          (call_script, "script_list_add", "trp_upgrades", ":var15"),
          (assign, ":var14", 1),
        (try_end),
      (else_try),
        (party_slot_eq, ":var13", 0, 3),
        (call_script, "script_list_clear", "trp_upgrades"),
        (assign, ":var14", 0),
        (try_for_range, ":var15", 134, 136),
          (neg|party_slot_eq, ":var13", ":var15", 1),
          (call_script, "script_list_add", "trp_upgrades", ":var15"),
          (assign, ":var14", 1),
        (try_end),
      (try_end),
      (eq, ":var14", 1),
      (call_script, "script_list_random", "trp_upgrades"),
      (assign, ":var16", reg1),
      (call_script, "script_get_improvement_details", reg1, 1),
      (assign, ":var17", reg0),
      (store_div, ":var18", ":var17", 150),
      (party_set_slot, ":var13", 124, ":var16"),
      (store_current_hours, ":var19"),
      (store_mul, ":var20", ":var18", 24),
      (val_add, ":var20", ":var19"),
      (party_set_slot, ":var13", 125, ":var20"),
      (val_sub, ":var8", ":var17"),
    (try_end),
    (val_clamp, ":var8", 0, 9999999),
    (troop_set_slot, ":var0", 11, ":var8"),
  ]),

  ("cf_reinforce_party",
  [
    (store_script_param_1, ":var0"),
    (store_faction_of_party, ":var1", ":var0"),
    (party_get_slot, ":var1", ":var0", 19),
    (assign, ":var2", ":var1"),
    (party_get_slot, ":var3", ":var0", 0),
    (try_begin),
      (ge, "$cheat_mode", 1),
      (str_store_party_name, s1, ":var0"),
    (try_end),
    (try_begin),
      (eq, ":var3", 13),
      (neq, ":var1", "$players_kingdom"),
      (party_stack_get_troop_id, ":var4", ":var0"),
      (troop_get_slot, ":var1", ":var4", 14),
      (eq, ":var2", "$players_kingdom"),
      (is_between, "$g_player_culture", "fac_culture_finnish", "fac_player_faction"),
      (this_or_next|is_between, ":var4", "trp_npc1", "trp_kingdom_1_lord"),
      (this_or_next|troop_slot_eq, "trp_player", 30, ":var4"),
      (neg|is_between, ":var4", "trp_npc1", "trp_heroes_end"),
      (assign, ":var1", "$g_player_culture"),
    (try_end),
    (try_begin),
      (eq, ":var1", "$players_kingdom"),
      (eq, 0, 1),
      (try_begin),
        (is_between, "$g_player_culture", "fac_culture_finnish", "fac_player_faction"),
        (assign, ":var1", "$g_player_culture"),
      (else_try),
        (party_get_slot, ":var1", ":var0", 61),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var0", "p_main_party"),
      (assign, ":var1", "fac_kingdom_31"),
    (try_end),
    (faction_get_slot, ":var5", ":var1", 77),
    (faction_get_slot, ":var6", ":var1", 78),
    (faction_get_slot, ":var7", ":var1", 79),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var8", ":var0", 262),
      (party_get_slot, ":var9", ":var0", 263),
      (party_get_slot, ":var10", ":var0", 266),
      (store_random_in_range, ":var11", 0, 100),
      (try_begin),
        (gt, ":var11", 70),
        (gt, ":var9", 0),
        (party_get_slot, ":var8", ":var0", 265),
      (else_try),
        (gt, ":var11", 90),
        (gt, ":var10", 0),
        (party_get_slot, ":var8", ":var0", 268),
      (try_end),
    (try_end),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_salt_mine"),
      (store_random_in_range, ":var12", 0, 2),
      (try_begin),
        (eq, ":var12", 0),
        (call_script, "script_fill_lance", ":var0", ":var0"),
      (else_try),
        (eq, ":var12", 1),
        (party_clear, "p_temp_party_1"),
        (party_add_template, "p_temp_party_1", ":var8"),
        (store_party_size, ":var13", "p_temp_party_1"),
        (try_begin),
          (faction_slot_eq, ":var1", 21, 0),
          (faction_get_slot, ":var14", ":var1", 129),
          (val_add, ":var14", ":var13"),
          (faction_set_slot, ":var1", 129, ":var14"),
        (try_end),
        (party_get_num_companion_stacks, ":var15", "p_temp_party_1"),
        (try_for_range, ":var16", 0, ":var15"),
          (party_stack_get_troop_id, ":var17", "p_temp_party_1", ":var16"),
          (party_stack_get_size, ":var18", "p_temp_party_1", ":var16"),
          (party_add_members, ":var0", ":var17", ":var18"),
        (try_end),
      (else_try),
        (eq, ":var12", 2),
        (call_script, "script_fill_lance", ":var0", ":var0"),
      (try_end),
    (else_try),
      (party_clear, "p_temp_party_1"),
      (party_add_template, "p_temp_party_1", ":var5"),
      (party_add_template, "p_temp_party_1", ":var6"),
      (party_add_template, "p_temp_party_1", ":var7"),
      (store_party_size, ":var13", "p_temp_party_1"),
      (try_begin),
        (faction_slot_eq, ":var1", 21, 0),
        (faction_get_slot, ":var14", ":var1", 129),
        (val_add, ":var14", ":var13"),
        (faction_set_slot, ":var1", 129, ":var14"),
      (try_end),
      (party_get_num_companion_stacks, ":var15", "p_temp_party_1"),
      (try_for_range, ":var16", 0, ":var15"),
        (party_stack_get_troop_id, ":var17", "p_temp_party_1", ":var16"),
        (party_stack_get_size, ":var18", "p_temp_party_1", ":var16"),
        (party_add_members, ":var0", ":var17", ":var18"),
      (try_end),
    (try_end),
    (call_script, "script_party_calculate_strength", ":var0", 1, 0),
  ]),

  ("hire_men_to_kingdom_hero_party",
  [
    (store_script_param_1, ":var0"),
    (troop_get_slot, ":var1", ":var0", 10),
    (troop_get_slot, ":var2", ":var0", 11),
    (assign, ":var3", ":var2"),
    (val_mul, ":var3", 3),
    (val_div, ":var3", 4),
    (call_script, "script_party_get_ideal_size", ":var1"),
    (assign, ":var4", reg0),
    (store_mul, ":var5", ":var4", 3),
    (val_div, ":var5", 2),
    (party_get_num_companions, ":var6", ":var1"),
    (assign, ":var7", 0),
    (try_begin),
      (lt, ":var6", ":var4"),
      (gt, ":var1", 0),
      (try_begin),
        (call_script, "script_cf_recruit_lance_for_npc", ":var1"),
      (else_try),
        (gt, ":var3", 1000),
        (assign, ":var7", 1000),
        (call_script, "script_cf_recruit_merc_lance_for_npc", ":var1"),
        (val_sub, ":var2", ":var7"),
        (troop_set_slot, ":var0", 11, ":var2"),
      (else_try),
        (call_script, "script_cf_recruit_individual_merc", ":var1"),
      (try_end),
    (else_try),
      (gt, ":var6", ":var5"),
      (store_faction_of_troop, ":var8", ":var0"),
      (party_get_num_companion_stacks, ":var9", ":var1"),
      (assign, ":var10", 0),
      (assign, ":var11", 0),
      (try_for_range_backwards, ":var12", 0, ":var9"),
        (party_stack_get_troop_id, ":var13", ":var1", ":var12"),
        (neg|troop_is_hero, ":var13"),
        (party_stack_get_size, ":var14", ":var1", ":var12"),
        (store_character_level, ":var15", ":var13"),
        (store_faction_of_troop, ":var16", ":var13"),
        (try_begin),
          (eq, ":var8", ":var16"),
          (val_mul, ":var15", 3),
        (try_end),
        (val_mul, ":var15", ":var14"),
        (val_add, ":var10", ":var14"),
        (val_add, ":var11", ":var15"),
      (try_end),
      (gt, ":var10", 0),
      (store_div, ":var17", ":var11", ":var10"),
      (try_for_range_backwards, ":var12", 0, ":var9"),
        (party_stack_get_troop_id, ":var13", ":var1", ":var12"),
        (neg|troop_is_hero, ":var13"),
        (party_stack_get_size, ":var14", ":var1", ":var12"),
        (store_character_level, ":var15", ":var13"),
        (store_faction_of_troop, ":var16", ":var13"),
        (try_begin),
          (eq, ":var8", ":var16"),
          (val_mul, ":var15", 3),
        (try_end),
        (store_sub, ":var18", ":var17", ":var15"),
        (val_div, ":var18", 3),
        (store_add, ":var19", 10, ":var18"),
        (gt, ":var19", 0),
        (call_script, "script_get_percentage_with_randomized_round", ":var14", ":var19"),
        (gt, reg0, 0),
        (party_remove_members, ":var1", ":var13", reg0),
      (try_end),
    (try_end),
  ]),

  ("get_percentage_with_randomized_round",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_mul, ":var2", ":var0", ":var1"),
    (val_div, ":var2", 100),
    (store_mul, ":var3", ":var2", 100),
    (val_div, ":var3", ":var1"),
    (store_sub, ":var4", ":var0", ":var3"),
    (try_begin),
      (gt, ":var4", 0),
      (store_mul, ":var5", ":var4", ":var1"),
      (store_random_in_range, ":var6", 0, 100),
      (lt, ":var6", ":var5"),
      (val_add, ":var2", 1),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("create_cattle_herd",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", -1),
    (set_spawn_radius, 1),
    (spawn_around_party, ":var0", "pt_cattle_herd"),
    (assign, ":var2", reg0),
    (party_get_position, pos1, ":var0"),
    (call_script, "script_map_get_random_position_around_position_within_range", 1, 2),
    (party_set_position, ":var2", pos2),
    (party_set_slot, ":var2", 0, 17),
    (party_set_slot, ":var2", 4, -1),
    (party_set_ai_behavior, ":var2", ai_bhvr_hold),
    (party_set_slot, ":var2", 30, -1),
    (try_begin),
      (gt, ":var1", 0),
      (party_clear, ":var2"),
      (party_add_members, ":var2", "trp_cattle", ":var1"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("buy_cattle_from_village",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (try_for_range, ":var4", 0, ":var1"),
      (call_script, "script_game_event_buy_item", "itm_cattle_meat", 0),
      (call_script, "script_game_event_buy_item", "itm_cattle_meat", 0),
    (try_end),
    (party_get_slot, ":var5", ":var0", 205),
    (val_sub, ":var5", ":var1"),
    (party_set_slot, ":var0", 205, ":var5"),
    (store_mul, ":var6", ":var2", ":var1"),
    (troop_remove_gold, "trp_player", ":var6"),
    (troop_add_gold, ":var3", ":var6"),
    (try_for_range, ":var7", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_set_slot, ":var7", 32, 1),
    (try_end),
    (assign, ":var8", 1),
    (try_for_parties, ":var9"),
      (eq, ":var8", 1),
      (party_slot_eq, ":var9", 0, 17),
      (store_distance_to_party_from_party, ":var10", ":var0", ":var9"),
      (lt, ":var10", 6),
      (assign, ":var11", 1),
      (try_begin),
        (check_quest_active, "qst_move_cattle_herd"),
        (quest_slot_eq, "qst_move_cattle_herd", 8, ":var9"),
        (assign, ":var11", 0),
      (try_end),
      (eq, ":var11", 1),
      (party_add_members, ":var9", "trp_cattle", ":var1"),
      (assign, ":var8", 0),
      (assign, reg0, ":var9"),
    (try_end),
    (try_begin),
      (eq, ":var8", 1),
      (call_script, "script_create_cattle_herd", ":var0", ":var1"),
    (try_end),
  ]),

  ("kill_cattle_from_herd",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_clear_inventory, "trp_temp_troop"),
    (store_mul, ":var2", ":var1", 2),
    (troop_add_items, "trp_temp_troop", "itm_cattle_meat", ":var2"),
    (troop_get_inventory_capacity, ":var3", "trp_temp_troop"),
    (try_for_range, ":var4", 0, ":var3"),
      (troop_get_inventory_slot, ":var5", "trp_temp_troop", ":var4"),
      (eq, ":var5", "itm_cattle_meat"),
      (troop_set_inventory_slot_modifier, "trp_temp_troop", ":var4", 37),
    (try_end),
    (party_get_num_companions, ":var6", ":var0"),
    (try_begin),
      (ge, ":var1", ":var6"),
      (remove_party, ":var0"),
    (else_try),
      (party_remove_members, ":var0", "trp_cattle", ":var1"),
    (try_end),
  ]),

  ("create_kingdom_hero_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_faction_of_troop, ":var2", ":var0"),
    (assign, "$pout_party", -1),
    (set_spawn_radius, 0),
    (spawn_around_party, ":var1", "pt_kingdom_hero_party"),
    (assign, "$pout_party", reg0),
    (party_set_faction, "$pout_party", ":var2"),
    (party_set_slot, "$pout_party", 0, 13),
    (call_script, "script_party_set_ai_state", "$pout_party", -1, -1),
    (troop_set_slot, ":var0", 10, "$pout_party"),
    (party_add_leader, "$pout_party", ":var0"),
    (str_store_troop_name, s5, ":var0"),
    (party_set_name, "$pout_party", "str_s5_s_party"),
    (party_set_slot, "$pout_party", 30, -1),
    (troop_get_slot, ":var3", ":var0", 13),
    (try_begin),
      (gt, ":var3", 0),
      (val_sub, ":var3", "spr_banner_a"),
      (val_add, ":var3", "icon_banner_01"),
      (party_set_banner_icon, "$pout_party", ":var3"),
    (try_end),
    (try_begin),
      (troop_slot_eq, ":var0", 28, 0),
      (troop_set_slot, ":var0", 28, 1),
      (assign, ":var4", 40),
      (try_begin),
        (store_faction_of_troop, ":var5", ":var0"),
        (faction_slot_eq, ":var5", 11, ":var0"),
        (assign, ":var4", 80),
      (try_end),
      (try_for_range, ":var6", 0, ":var4"),
        (call_script, "script_hire_men_to_kingdom_hero_party", ":var0"),
      (try_end),
      (try_begin),
        (faction_get_slot, ":var7", ":var5", 10),
        (faction_get_slot, ":var8", ":var7", 101),
        (store_random_in_range, ":var9", 2, 7),
        (party_add_members, "$pout_party", ":var8", ":var9"),
      (try_end),
    (try_end),
  ]),

  ("create_kingdom_party_if_below_limit",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (eq, ":var1", 5),
      (faction_get_slot, ":var2", ":var0", 500),
    (else_try),
      (eq, ":var1", 10),
      (faction_get_slot, ":var2", ":var0", 501),
    (else_try),
      (eq, ":var1", 69),
      (faction_get_slot, ":var2", ":var0", 502),
    (else_try),
      (eq, ":var1", 11),
      (faction_get_slot, ":var2", ":var0", 503),
    (else_try),
      (eq, ":var1", 12),
      (faction_get_slot, ":var2", ":var0", 504),
    (else_try),
      (eq, ":var1", 6),
      (faction_get_slot, ":var2", ":var0", 505),
    (else_try),
      (eq, ":var1", 19),
      (faction_get_slot, ":var2", ":var0", 506),
    (try_end),
    (assign, ":var3", 0),
    (faction_get_slot, ":var4", ":var0", 82),
    (faction_get_slot, ":var5", ":var0", 81),
    (store_add, ":var6", ":var4"),
    (store_add, ":var6", ":var5"),
    (try_begin),
      (eq, ":var1", 5),
      (try_begin),
        (eq, ":var6", 0),
        (assign, ":var3", 0),
      (else_try),
        (eq, ":var6", 1),
        (assign, ":var3", 1),
      (else_try),
        (assign, ":var3", "$g_party_faction_max_parties_foragers"),
      (try_end),
    (else_try),
      (eq, ":var1", 10),
      (try_begin),
        (eq, ":var6", 0),
        (assign, ":var3", 0),
      (else_try),
        (eq, ":var6", 1),
        (assign, ":var3", 1),
      (else_try),
        (assign, ":var3", "$g_party_faction_max_parties_scouts"),
      (try_end),
    (else_try),
      (eq, ":var1", 69),
      (try_begin),
        (eq, ":var0", "fac_papacy"),
        (assign, ":var3", 4),
      (else_try),
        (this_or_next|eq, ":var0", "fac_kingdom_20"),
        (eq, ":var0", "fac_kingdom_25"),
        (assign, ":var3", 6),
      (else_try),
        (eq, ":var4", 0),
        (assign, ":var3", 0),
      (else_try),
        (eq, ":var4", 1),
        (assign, ":var3", 1),
      (else_try),
        (assign, ":var3", "$g_party_faction_max_parties_patrols"),
      (try_end),
    (else_try),
      (eq, ":var1", 11),
      (try_begin),
        (eq, ":var4", 0),
        (assign, ":var3", 0),
      (else_try),
        (eq, ":var4", 1),
        (assign, ":var3", 2),
      (else_try),
        (assign, ":var3", "$g_party_faction_max_parties_caravans"),
      (try_end),
    (else_try),
      (eq, ":var1", 12),
      (try_begin),
        (eq, ":var6", 0),
        (assign, ":var3", 0),
      (else_try),
        (eq, ":var6", 1),
        (assign, ":var3", 1),
      (else_try),
        (assign, ":var3", "$g_party_faction_max_parties_prisoner_trains"),
      (try_end),
    (else_try),
      (eq, ":var1", 6),
      (try_begin),
        (eq, ":var5", 0),
        (assign, ":var3", 0),
      (else_try),
        (this_or_next|eq, ":var0", "fac_kingdom_20"),
        (eq, ":var0", "fac_kingdom_25"),
        (assign, ":var3", 3),
      (else_try),
        (eq, ":var5", 1),
        (assign, ":var3", 1),
      (else_try),
        (assign, ":var3", "$g_party_faction_max_parties_war_parties"),
      (try_end),
    (else_try),
      (eq, ":var1", 19),
      (try_begin),
        (eq, ":var4", 0),
        (assign, ":var3", 0),
      (else_try),
        (eq, ":var4", 1),
        (assign, ":var3", 1),
      (else_try),
        (assign, ":var3", "$g_party_faction_max_parties_mercenary_companies"),
      (try_end),
    (try_end),
    (assign, reg0, -1),
    (try_begin),
      (lt, ":var2", ":var3"),
      (call_script, "script_cf_create_kingdom_party", ":var0", ":var1"),
    (try_end),
  ]),

  ("cf_create_kingdom_party",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", "str_no_string"),
    (faction_get_slot, ":var3", ":var0", 77),
    (faction_get_slot, ":var4", ":var0", 78),
    (faction_get_slot, ":var5", ":var0", 79),
    (try_begin),
      (eq, ":var1", 5),
      (assign, ":var6", "pt_forager_party"),
      (assign, ":var2", "str_s7_foragers"),
      (faction_get_slot, ":var7", ":var0", 500),
      (val_add, ":var7", 1),
      (faction_set_slot, ":var0", 500, ":var7"),
    (else_try),
      (eq, ":var1", 10),
      (assign, ":var6", "pt_scout_party"),
      (assign, ":var2", "str_s7_scouts"),
      (faction_get_slot, ":var7", ":var0", 501),
      (val_add, ":var7", 1),
      (faction_set_slot, ":var0", 501, ":var7"),
    (else_try),
      (eq, ":var1", 6),
      (assign, ":var6", "pt_war_party"),
      (assign, ":var2", "str_s7_war_party"),
      (faction_get_slot, ":var7", ":var0", 505),
      (val_add, ":var7", 1),
      (faction_set_slot, ":var0", 505, ":var7"),
    (else_try),
      (eq, ":var1", 19),
      (assign, ":var6", "pt_mercenary_company"),
      (assign, ":var2", "str_s7_mercenary_company"),
      (faction_get_slot, ":var7", ":var0", 506),
      (val_add, ":var7", 1),
      (faction_set_slot, ":var0", 506, ":var7"),
    (else_try),
      (eq, ":var1", 69),
      (assign, ":var6", "pt_patrol_party"),
      (assign, ":var2", "str_s7_patrol"),
      (faction_get_slot, ":var7", ":var0", 502),
      (val_add, ":var7", 1),
      (faction_set_slot, ":var0", 502, ":var7"),
    (else_try),
      (eq, ":var1", 11),
      (assign, ":var6", "pt_kingdom_caravan_party"),
      (assign, ":var2", "str_s7_caravan"),
      (faction_get_slot, ":var7", ":var0", 503),
      (val_add, ":var7", 1),
      (faction_set_slot, ":var0", 503, ":var7"),
    (else_try),
      (eq, ":var1", 12),
      (assign, ":var6", "pt_prisoner_train_party"),
      (assign, ":var2", "str_s7_prisoner_train"),
      (faction_get_slot, ":var7", ":var0", 504),
      (val_add, ":var7", 1),
      (faction_set_slot, ":var0", 504, ":var7"),
    (try_end),
    (assign, ":var8", -1),
    (try_begin),
      (try_begin),
        (eq, ":var1", 11),
        (call_script, "script_cf_select_random_town_with_faction", ":var0", -1),
        (set_spawn_radius, 0),
      (else_try),
        (call_script, "script_cf_select_random_walled_center_with_faction", ":var0", -1),
        (set_spawn_radius, 1),
      (try_end),
      (assign, ":var9", reg0),
      (is_between, ":var9", "p_town_1_1", "p_salt_mine"),
      (spawn_around_party, ":var9", ":var6"),
      (str_store_party_name, s7, ":var9"),
      (str_store_party_name_link, s8, ":var9"),
      (assign, ":var8", reg0),
      (party_set_faction, ":var8", ":var0"),
      (try_begin),
        (party_set_slot, ":var8", 123, ":var9"),
        (party_set_slot, ":var8", 126, ":var9"),
      (try_end),
      (party_set_slot, ":var8", 0, ":var1"),
      (party_set_slot, ":var8", 4, -1),
      (try_begin),
        (eq, ":var1", 5),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var4"),
      (else_try),
        (eq, ":var1", 10),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
      (else_try),
        (eq, ":var1", 6),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var5"),
        (party_add_template, ":var8", ":var5"),
        (party_add_template, ":var8", ":var5"),
      (else_try),
        (eq, ":var1", 19),
        (call_script, "script_get_random_merc_company_from_center", ":var9"),
        (assign, ":var10", reg0),
        (party_add_template, ":var8", ":var10"),
        (party_add_template, ":var8", ":var10"),
        (party_add_template, ":var8", ":var10"),
        (party_add_template, ":var8", ":var10"),
        (party_add_template, ":var8", ":var10"),
        (store_random_in_range, ":var11", 16000, 20000),
        (party_upgrade_with_xp, ":var8", ":var11", 0),
      (else_try),
        (eq, ":var1", 69),
        (try_begin),
          (party_get_slot, ":var12", ":var9", 61),
          (faction_get_slot, ":var3", ":var12", 77),
          (faction_get_slot, ":var4", ":var12", 78),
        (try_end),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var5"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var3"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_set_slot, ":var8", 5, ":var9"),
      (else_try),
        (eq, ":var1", 11),
        (try_begin),
          (party_get_slot, ":var12", ":var9", 61),
          (faction_get_slot, ":var4", ":var12", 78),
        (try_end),
        (call_script, "script_get_random_merc_company_from_center", ":var9"),
        (assign, ":var10", reg0),
        (party_add_template, ":var8", ":var10"),
        (party_add_template, ":var8", ":var10"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var3"),
        (party_set_ai_behavior, ":var8", ai_bhvr_travel_to_party),
        (party_set_ai_object, ":var8", ":var9"),
        (party_set_flags, ":var8", pf_default_behavior, 1),
        (store_sub, ":var13", 310, "itm_spice"),
        (try_for_range, ":var14", "itm_spice", "itm_siege_supply"),
          (store_add, ":var15", ":var14", ":var13"),
          (party_set_slot, ":var8", ":var15", 1000),
        (try_end),
        (store_random_in_range, ":var11", 9000, 12000),
        (party_upgrade_with_xp, ":var8", ":var11", 0),
        (party_set_bandit_attraction, ":var8", 75),
        (party_get_slot, ":var16", ":var9", 50),
        (val_max, ":var16", 40),
        (store_random_in_range, ":var17", 30, ":var16"),
        (party_set_slot, ":var8", 50, ":var17"),
        (val_mul, ":var17", 50),
        (store_random_in_range, ":var18", 600, ":var17"),
        (party_set_slot, ":var8", 49, ":var18"),
        (party_set_slot, ":var8", 26, 0),
        (assign, reg1, 0),
        (call_script, "script_refresh_travelling_merchant_inventory", ":var8"),
      (else_try),
        (eq, ":var1", 12),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var4"),
        (party_add_template, ":var8", ":var3"),
        (try_begin),
          (call_script, "script_cf_faction_get_random_enemy_faction", ":var0"),
          (store_random_in_range, ":var19", 0, 3),
          (try_begin),
            (lt, ":var19", 1),
            (faction_get_slot, ":var20", reg0, 78),
          (else_try),
            (faction_get_slot, ":var20", reg0, 77),
          (try_end),
          (party_add_template, ":var8", ":var20", 1),
        (else_try),
          (party_add_template, ":var8", "pt_default_prisoners"),
        (try_end),
        (party_set_ai_behavior, ":var8", ai_bhvr_travel_to_party),
        (party_set_ai_object, ":var8", ":var9"),
        (party_set_flags, ":var8", pf_default_behavior, 1),
      (try_end),
      (try_begin),
        (neq, ":var2", "str_no_string"),
        (party_set_name, ":var8", ":var2"),
      (try_end),
    (try_end),
    (ge, ":var8", 0),
    (try_begin),
      (party_get_num_companions, ":var21", ":var8"),
      (faction_get_slot, ":var22", ":var0", 129),
      (val_add, ":var22", ":var21"),
      (faction_set_slot, ":var0", 129, ":var22"),
    (try_end),
    (assign, reg0, ":var8"),
  ]),

  ("get_troop_attached_party",
  [
    (store_script_param_1, ":var0"),
    (troop_get_slot, ":var1", ":var0", 10),
    (assign, ":var2", -1),
    (try_begin),
      (ge, ":var1", 0),
      (party_get_attached_to, ":var2", ":var1"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("center_get_food_consumption",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_begin),
      (party_slot_eq, ":var0", 0, 3),
      (assign, ":var1", 500),
    (else_try),
      (party_slot_eq, ":var0", 0, 2),
      (assign, ":var1", 50),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("center_get_food_store_limit",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_begin),
      (party_slot_eq, ":var0", 0, 3),
      (assign, ":var1", 50000),
    (else_try),
      (party_slot_eq, ":var0", 0, 2),
      (assign, ":var1", 1500),
    (try_end),
    (val_div, ":var1", 4),
    (assign, reg0, ":var1"),
  ]),

  ("refresh_village_merchant_inventory",
  [
    (store_script_param_1, ":var0"),
    (party_get_slot, ":var1", ":var0", 25),
    (reset_item_probabilities, 0),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "itm_spice", "itm_siege_supply"),
      (call_script, "script_center_get_production", ":var0", ":var3"),
      (assign, ":var4", reg0),
      (val_max, ":var4", 5),
      (val_add, ":var2", ":var4"),
    (try_end),
    (try_begin),
      (party_get_slot, ":var5", ":var0", 50),
      (val_div, ":var5", 8),
      (store_add, ":var6", ":var5", 1),
    (try_end),
    (try_for_range, ":var3", "itm_spice", "itm_siege_supply"),
      (call_script, "script_center_get_production", ":var0", ":var3"),
      (assign, ":var4", reg0),
      (val_max, ":var4", 5),
      (val_mul, ":var4", ":var6"),
      (val_mul, ":var4", 100),
      (val_div, ":var4", ":var2"),
      (set_item_probability_in_merchandise, ":var3", ":var4"),
    (try_end),
    (troop_clear_inventory, ":var1"),
    (troop_add_merchandise, ":var1", itp_type_goods, ":var6"),
    (troop_ensure_inventory_space, ":var1", 30),
    (store_troop_gold, ":var7", ":var1"),
    (try_begin),
      (gt, ":var7", 3500),
      (store_div, ":var8", ":var7", 3000),
      (store_mul, ":var9", ":var8", 3000),
      (troop_remove_gold, ":var1", ":var9"),
      (call_script, "script_change_center_prosperity", ":var0", ":var8"),
    (try_end),
  ]),

  ("refresh_village_defenders",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 50),
    (try_begin),
      (party_get_num_companions, ":var2", ":var0"),
      (lt, ":var2", ":var1"),
      (party_add_template, ":var0", "pt_village_defenders"),
    (try_end),
  ]),

  ("village_set_state",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (eq, ":var1", 0),
      (party_set_extra_text, ":var0", "str_empty_string"),
      (party_set_slot, ":var0", 34, -1),
    (else_try),
      (eq, ":var1", 1),
      (party_set_extra_text, ":var0", "@(Being Raided)"),
    (else_try),
      (eq, ":var1", 2),
      (party_set_extra_text, ":var0", "@(Looted)"),
      (party_set_slot, ":var0", 34, -1),
      (call_script, "script_change_center_prosperity", ":var0", -60),
      (val_add, "$newglob_total_prosperity_from_villageloot", -60),
      (party_get_slot, ":var2", ":var0", 120),
      (try_begin),
        (is_between, ":var2", "p_town_1_1", "p_castle_1_1"),
        (call_script, "script_change_center_prosperity", ":var2", -30),
      (else_try),
        (gt, ":var2", 0),
        (call_script, "script_change_center_prosperity", ":var2", -20),
      (try_end),
      (try_begin),
        (eq, 5, 0),
        (party_get_slot, ":var3", ":var0", 7),
        (is_between, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
        (store_faction_of_troop, ":var4", ":var3"),
        (faction_get_slot, ":var5", ":var4", 11),
        (call_script, "script_troop_change_relation_with_troop", ":var3", ":var5", -1),
        (val_add, "$total_battle_ally_changes", -1),
      (try_end),
    (else_try),
      (eq, ":var1", 5),
      (party_set_extra_text, ":var0", "@(Under Siege)"),
      (try_for_parties, ":var6"),
        (gt, ":var6", "p_spawn_points_end"),
        (party_slot_eq, ":var6", 0, 11),
        (party_slot_eq, ":var6", 5, ":var0"),
        (party_get_slot, ":var7", ":var6", 126),
        (store_faction_of_party, ":var8", ":var6"),
        (call_script, "script_cf_select_most_profitable_town_at_peace_with_faction_in_trade_route", ":var7", ":var8"),
        (assign, ":var9", reg0),
        (is_between, ":var9", "p_town_1_1", "p_salt_mine"),
        (party_set_ai_behavior, ":var6", ai_bhvr_travel_to_party),
        (party_set_ai_object, ":var6", ":var9"),
        (party_set_flags, ":var6", pf_default_behavior, 0),
        (party_set_slot, ":var6", 4, 13),
        (party_set_slot, ":var6", 5, ":var9"),
      (try_end),
    (try_end),
    (party_set_slot, ":var0", 35, ":var1"),
  ]),

  ("process_village_raids",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (party_get_slot, ":var1", ":var0", 36),
      (try_begin),
        (party_slot_eq, ":var0", 35, 0),
        (val_sub, ":var1", 5),
        (val_max, ":var1", 0),
        (party_set_slot, ":var0", 36, ":var1"),
        (try_begin),
          (lt, ":var1", 50),
          (party_slot_ge, ":var0", 38, 1),
          (party_set_slot, ":var0", 38, 0),
          (party_clear_particle_systems, ":var0"),
        (try_end),
      (else_try),
        (party_slot_eq, ":var0", 35, 1),
        (assign, ":var2", 1),
        (party_get_slot, ":var3", ":var0", 34),
        (try_begin),
          (ge, ":var3", 0),
          (party_is_active, ":var3"),
          (this_or_next|neq, ":var3", "p_main_party"),
          (eq, "$g_player_is_captive", 0),
          (store_distance_to_party_from_party, ":var4", ":var0", ":var3"),
          (lt, ":var4", 4),
          (assign, ":var2", 0),
        (try_end),
        (try_begin),
          (eq, ":var2", 1),
          (call_script, "script_village_set_state", ":var0", 0),
          (party_set_slot, ":var0", 38, 0),
          (party_clear_particle_systems, ":var0"),
        (else_try),
          (assign, ":var5", 11),
          (party_get_slot, ":var6", ":var0", 34),
          (try_begin),
            (party_get_skill_level, ":var7", ":var6", "skl_looting"),
            (val_add, ":var5", ":var7"),
          (try_end),
          (try_begin),
            (party_slot_eq, ":var0", 132, 1),
            (val_mul, ":var5", 2),
            (val_div, ":var5", 3),
          (try_end),
          (val_add, ":var1", ":var5"),
          (party_set_slot, ":var0", 36, ":var1"),
          (try_begin),
            (ge, ":var1", 50),
            (party_slot_eq, ":var0", 38, 0),
            (party_add_particle_system, ":var0", "psys_map_village_fire"),
            (party_add_particle_system, ":var0", "psys_map_village_fire_smoke"),
            (party_set_slot, ":var0", 38, 1),
          (try_end),
          (try_begin),
            (gt, ":var1", 100),
            (str_store_party_name_link, s1, ":var0"),
            (party_stack_get_troop_id, ":var8", ":var6", 0),
            (ge, ":var8", 0),
            (str_store_troop_name_link, s2, ":var8"),
            (store_faction_of_troop, ":var9", ":var8"),
            (store_faction_of_troop, ":var10", ":var0"),
            (store_relation, ":var11", ":var9", "$players_kingdom"),
            (try_begin),
              (this_or_next|lt, ":var11", 0),
              (eq, ":var9", "$players_kingdom"),
              (call_script, "script_get_message_color_raid", 8, ":var8", ":var10"),
              (display_log_message, "@The village of {s1} has been looted by {s2}'s party.", reg20),
            (try_end),
            (try_begin),
              (party_get_slot, ":var12", ":var0", 7),
              (is_between, ":var12", "trp_npc1", "trp_knight_1_1_wife"),
              (call_script, "script_troop_change_relation_with_troop", ":var8", ":var12", -1),
              (val_add, "$total_battle_enemy_changes", -1),
            (try_end),
            (troop_get_slot, ":var13", ":var8", 11),
            (party_get_slot, ":var14", ":var0"),
            (store_mul, ":var15", ":var14", 60),
            (val_add, ":var13", ":var15"),
            (troop_set_slot, ":var8", 11, ":var13"),
            (try_begin),
              (is_between, ":var12", "trp_npc1", "trp_knight_1_1_wife"),
              (troop_get_slot, ":var16", ":var12", 11),
              (val_sub, ":var16", ":var15"),
              (val_max, ":var16", 0),
              (troop_set_slot, ":var12", 11, ":var16"),
            (try_end),
            (call_script, "script_village_set_state", ":var0", 2),
            (party_set_slot, ":var0", 47, 0),
            (party_set_slot, ":var0", 48, 0),
            (party_set_slot, ":var0", 36, 0),
            (party_set_slot, ":var0", 37, 0),
            (try_begin),
              (store_faction_of_party, ":var10", ":var0"),
              (this_or_next|party_slot_eq, ":var0", 7, "trp_player"),
              (faction_slot_eq, ":var10", 11, "trp_player"),
              (call_script, "script_add_notification_menu", "mnu_notification_village_raided", ":var0", ":var8"),
            (try_end),
            (call_script, "script_add_log_entry", 1, ":var8", ":var0", -1, -1),
            (store_faction_of_party, ":var17", ":var6"),
            (call_script, "script_faction_inflict_war_damage_on_faction", ":var17", ":var10", 15),
          (try_end),
        (try_end),
      (else_try),
        (party_slot_eq, ":var0", 35, 2),
        (party_get_slot, ":var18", ":var0", 37),
        (val_add, ":var18", 1),
        (party_set_slot, ":var0", 37, ":var18"),
        (try_begin),
          (ge, ":var18", 10),
          (party_slot_eq, ":var0", 38, 1),
          (party_clear_particle_systems, ":var0"),
          (party_add_particle_system, ":var0", "psys_map_village_looted_smoke"),
          (party_set_slot, ":var0", 38, 2),
        (try_end),
        (try_begin),
          (gt, ":var18", 50),
          (party_slot_eq, ":var0", 38, 2),
          (party_clear_particle_systems, ":var0"),
          (party_set_slot, ":var0", 38, 3),
        (try_end),
        (try_begin),
          (gt, ":var18", 100),
          (call_script, "script_village_set_state", ":var0", 0),
          (party_set_slot, ":var0", 37, 0),
          (party_clear_particle_systems, ":var0"),
          (party_set_slot, ":var0", 38, 0),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("process_sieges",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (party_get_slot, ":var1", ":var0", 65),
      (val_sub, ":var1", 20),
      (val_max, ":var1", 0),
      (party_set_slot, ":var0", 65, ":var1"),
      (party_get_slot, ":var2", ":var0", 53),
      (call_script, "script_center_get_food_store_limit", ":var0"),
      (assign, ":var3", reg0),
      (try_begin),
        (party_get_slot, ":var4", ":var0", 54),
        (ge, ":var4", 0),
        (try_begin),
          (try_begin),
            (is_between, ":var0", "p_castle_1_1", "p_village_1_1"),
            (store_random_in_range, ":var5", 0, 3),
            (try_begin),
              (eq, ":var5", 0),
              (assign, ":var6", -1),
            (else_try),
              (assign, ":var6", 0),
            (try_end),
          (else_try),
            (assign, ":var6", -4),
          (try_end),
          (call_script, "script_change_center_prosperity", ":var0", ":var6"),
          (val_add, "$newglob_total_prosperity_from_townloot", ":var6"),
        (try_end),
        (store_faction_of_party, ":var7", ":var0"),
        (assign, ":var8", 0),
        (try_begin),
          (try_begin),
            (neg|party_is_active, ":var4"),
            (assign, ":var8", 1),
          (else_try),
            (store_distance_to_party_from_party, ":var9", ":var0", ":var4"),
            (gt, ":var9", 5),
            (assign, ":var8", 1),
          (else_try),
            (neg|party_slot_eq, ":var0", 39, "trp_peasant_woman"),
            (store_faction_of_party, ":var10", ":var4"),
            (store_relation, ":var11", ":var10", ":var7"),
            (ge, ":var11", 0),
            (assign, ":var8", 1),
          (try_end),
          (eq, ":var8", 1),
          (try_for_range, ":var12", "trp_npc1", "trp_knight_1_1_wife"),
            (troop_slot_eq, ":var12", 166, 1),
            (troop_slot_eq, ":var12", 2, 2),
            (troop_get_slot, ":var13", ":var12", 10),
            (ge, ":var13", 0),
            (party_is_active, ":var13"),
            (store_faction_of_party, ":var14", ":var13"),
            (store_relation, ":var11", ":var14", ":var7"),
            (lt, ":var11", 0),
            (store_distance_to_party_from_party, ":var15", ":var0", ":var13"),
            (lt, ":var15", 4),
            (assign, ":var4", ":var13"),
            (party_set_slot, ":var0", 54, ":var13"),
            (assign, ":var8", 0),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var8", 1),
          (call_script, "script_lift_siege", ":var0", 1),
        (else_try),
          (call_script, "script_center_get_food_consumption", ":var0"),
          (assign, ":var16", reg0),
          (val_sub, ":var2", ":var16"),
          (try_begin),
            (le, ":var2", 0),
            (store_random_in_range, ":var17", 0, 10),
            (gt, ":var17", 0),
            (call_script, "script_party_inflict_attrition", ":var0", ":var17"),
          (try_end),
        (try_end),
      (else_try),
        (val_add, ":var2", 30),
      (try_end),
      (val_min, ":var2", ":var3"),
      (val_max, ":var2", 0),
      (party_set_slot, ":var0", 53, ":var2"),
    (try_end),
  ]),

  ("lift_siege",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_set_slot, ":var0", 54, -1),
    (call_script, "script_village_set_state", ":var0", 0),
    (try_begin),
      (eq, ":var0", "$g_player_besiege_town"),
      (assign, "$g_siege_method", 0),
    (try_end),
    (try_begin),
      (eq, ":var1", 1),
      (party_get_slot, ":var2", ":var0", 235),
      (store_faction_of_party, ":var3", ":var0"),
      (call_script, "script_get_message_color_siege", 8, ":var2", ":var3"),
      (str_store_party_name_link, s3, ":var0"),
      (str_store_faction_name_link, s4, ":var2"),
      (display_log_message, "@{s3} is no longer under siege by the {s4}.", reg20),
    (try_end),
  ]),

  ("process_alarms_new",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (party_set_slot, ":var0", 55, -1),
      (party_set_slot, ":var0", 66, 0),
      (party_set_slot, ":var0", 67, 0),
      (assign, ":var1", 3),
      (try_begin),
        (is_currently_night),
        (assign, ":var1", 2),
      (try_end),
      (try_begin),
        (party_slot_eq, ":var0", 132, 1),
        (val_mul, ":var1", 2),
      (else_try),
        (neg|is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (val_add, ":var1", 1),
        (val_mul, ":var1", 2),
      (try_end),
      (store_faction_of_party, ":var2", ":var0"),
      (try_for_parties, ":var3"),
        (this_or_next|party_slot_eq, ":var3", 0, 13),
        (eq, ":var3", "p_main_party"),
        (store_faction_of_party, ":var4", ":var3"),
        (try_begin),
          (eq, ":var3", "p_main_party"),
          (assign, ":var4", "$players_kingdom"),
        (try_end),
        (try_begin),
          (eq, ":var4", ":var2"),
          (store_distance_to_party_from_party, ":var5", ":var3", ":var0"),
          (le, ":var5", ":var1"),
          (party_get_slot, ":var6", ":var3", 56),
          (party_get_slot, ":var7", ":var0", 66),
          (val_add, ":var7", ":var6"),
          (party_set_slot, ":var0", 66, ":var7"),
        (else_try),
          (neq, ":var4", ":var2"),
          (store_distance_to_party_from_party, ":var5", ":var3", ":var0"),
          (try_begin),
            (lt, ":var5", 10),
            (store_current_hours, ":var8"),
            (store_sub, ":var9", ":var4", "fac_player_supporters_faction"),
            (val_add, ":var9", 380),
            (party_set_slot, ":var0", ":var9", ":var8"),
          (try_end),
          (store_relation, ":var10", ":var2", ":var4"),
          (lt, ":var10", 0),
          (try_begin),
            (le, ":var5", ":var1"),
            (party_get_slot, ":var6", ":var3", 56),
            (party_get_slot, ":var11", ":var0", 67),
            (val_add, ":var11", ":var6"),
            (party_set_slot, ":var0", 67, ":var11"),
            (party_set_slot, ":var0", 55, ":var3"),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (try_begin),
        (is_between, ":var0", "p_town_1_1", "p_village_1_1"),
        (party_slot_ge, ":var0", 55, 0),
        (party_get_slot, ":var7", ":var0", 66),
        (party_get_slot, ":var11", ":var0", 67),
        (party_get_battle_opponent, ":var12", ":var0"),
        (try_begin),
          (ge, "$cheat_mode", 1),
          (ge, ":var12", 0),
          (str_store_party_name, s7, ":var0"),
          (str_store_party_name, s6, ":var12"),
          (display_message, "@{!}DEBUG : There are already enemies ({s6}) inside {s7}."),
        (try_end),
        (lt, ":var12", 0),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_party_name, s4, ":var0"),
          (assign, reg3, ":var7"),
          (assign, reg4, ":var11"),
          (display_message, "@{!}DEBUG -- Calculating sortie for {s4} strength of {reg3} vs {reg4} enemies"),
        (try_end),
        (store_mul, ":var13", ":var11", 14),
        (val_div, ":var13", 10),
        (gt, ":var7", ":var13"),
        (assign, ":var14", 0),
        (try_for_parties, ":var15"),
          (party_get_attached_to, ":var16", ":var15"),
          (eq, ":var16", ":var0"),
          (party_slot_eq, ":var15", 0, 13),
          (party_get_slot, ":var6", ":var15", 56),
          (ge, ":var6", 100),
          (party_detach, ":var15"),
          (call_script, "script_party_set_ai_state", ":var15", 4, ":var0"),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_party_name, s4, ":var15"),
            (display_message, "str_s4_sorties"),
          (try_end),
          (eq, ":var14", 0),
          (assign, ":var14", ":var15"),
        (try_end),
        (try_begin),
          (party_is_in_town, "p_main_party", ":var0"),
          (eq, "$g_player_is_captive", 0),
          (gt, ":var14", 0),
          (call_script, "script_add_notification_menu", "mnu_notification_sortie_possible", ":var0", ":var15"),
        (try_end),
      (try_end),
      (store_faction_of_party, ":var2", ":var0"),
      (this_or_next|eq, "$cheat_mode", 1),
      (this_or_next|party_slot_eq, ":var0", 7, "trp_player"),
      (eq, ":var2", "$players_kingdom"),
      (party_get_slot, ":var17", ":var0", 55),
      (ge, ":var17", 0),
      (store_distance_to_party_from_party, ":var18", "p_main_party", ":var0"),
      (assign, ":var19", 0),
      (try_begin),
        (this_or_next|party_slot_eq, ":var0", 7, "trp_player"),
        (eq, ":var2", "$players_kingdom"),
        (party_slot_eq, ":var0", 134, 1),
        (assign, ":var19", 1),
      (try_end),
      (this_or_next|eq, "$cheat_mode", 1),
      (this_or_next|lt, ":var18", 30),
      (eq, ":var19", 1),
      (str_store_party_name_link, s1, ":var0"),
      (party_get_slot, ":var20", ":var0", 67),
      (try_begin),
        (lt, ":var20", 500),
        (display_message, "@Small bands of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var20", 1000),
        (display_message, "@Enemy patrols spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var20", 2000),
        (display_message, "@Medium-sized group of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var20", 4000),
        (display_message, "@Significant group of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var20", 8000),
        (display_message, "@Army of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var20", 16000),
        (display_message, "@Large army of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (display_message, "@Great host of enemies spotted near {s1}.", 0xFF5050),
      (try_end),
    (try_end),
  ]),

  ("process_alarms",
  [
    (assign, ":var0", 60),
    (assign, ":var1", "$g_alarm_modula"),
    (val_add, "$g_alarm_modula", 1),
    (try_begin),
      (ge, "$g_alarm_modula", ":var0"),
      (assign, "$g_alarm_modula", 0),
    (try_end),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (store_mod, ":var3", ":var2", ":var0"),
      (eq, ":var3", ":var1"),
      (party_set_slot, ":var2", 55, -1),
      (party_set_slot, ":var2", 66, 0),
      (party_set_slot, ":var2", 67, 0),
      (assign, ":var4", 3),
      (try_begin),
        (is_currently_night),
        (assign, ":var4", 2),
      (try_end),
      (try_begin),
        (party_slot_eq, ":var2", 132, 1),
        (val_mul, ":var4", 2),
      (else_try),
        (neg|is_between, ":var2", "p_village_1_1", "p_salt_mine"),
        (val_add, ":var4", 1),
        (val_mul, ":var4", 2),
      (try_end),
      (store_faction_of_party, ":var5", ":var2"),
      (try_for_parties, ":var6"),
        (this_or_next|party_slot_eq, ":var6", 0, 13),
        (eq, ":var6", "p_main_party"),
        (store_faction_of_party, ":var7", ":var6"),
        (try_begin),
          (eq, ":var6", "p_main_party"),
          (assign, ":var7", "$players_kingdom"),
        (try_end),
        (try_begin),
          (eq, ":var7", ":var5"),
          (store_distance_to_party_from_party, ":var8", ":var6", ":var2"),
          (le, ":var8", ":var4"),
          (party_get_slot, ":var9", ":var6", 56),
          (party_get_slot, ":var10", ":var2", 66),
          (val_add, ":var10", ":var9"),
          (party_set_slot, ":var2", 66, ":var10"),
        (else_try),
          (neq, ":var7", ":var5"),
          (store_distance_to_party_from_party, ":var8", ":var6", ":var2"),
          (try_begin),
            (lt, ":var8", 10),
            (store_current_hours, ":var11"),
            (store_sub, ":var12", ":var7", "fac_player_supporters_faction"),
            (val_add, ":var12", 380),
            (party_set_slot, ":var2", ":var12", ":var11"),
          (try_end),
          (store_relation, ":var13", ":var5", ":var7"),
          (lt, ":var13", 0),
          (try_begin),
            (le, ":var8", ":var4"),
            (party_get_slot, ":var9", ":var6", 56),
            (party_get_slot, ":var14", ":var2", 67),
            (val_add, ":var14", ":var9"),
            (party_set_slot, ":var2", 67, ":var14"),
            (party_set_slot, ":var2", 55, ":var6"),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (store_mod, ":var3", ":var2", ":var0"),
      (eq, ":var3", ":var1"),
      (try_begin),
        (is_between, ":var2", "p_town_1_1", "p_village_1_1"),
        (party_slot_ge, ":var2", 55, 0),
        (party_get_slot, ":var10", ":var2", 66),
        (party_get_slot, ":var14", ":var2", 67),
        (party_get_battle_opponent, ":var15", ":var2"),
        (try_begin),
          (ge, "$cheat_mode", 1),
          (ge, ":var15", 0),
          (str_store_party_name, s7, ":var2"),
          (str_store_party_name, s6, ":var15"),
          (display_message, "@{!}DEBUG : There are already enemies ({s6}) inside {s7}."),
        (try_end),
        (lt, ":var15", 0),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_party_name, s4, ":var2"),
          (assign, reg3, ":var10"),
          (assign, reg4, ":var14"),
          (display_message, "@{!}DEBUG -- Calculating sortie for {s4} strength of {reg3} vs {reg4} enemies"),
        (try_end),
        (store_mul, ":var16", ":var14", 14),
        (val_div, ":var16", 10),
        (gt, ":var10", ":var16"),
        (assign, ":var17", 0),
        (try_for_parties, ":var18"),
          (party_get_attached_to, ":var19", ":var18"),
          (eq, ":var19", ":var2"),
          (party_slot_eq, ":var18", 0, 13),
          (party_get_slot, ":var9", ":var18", 56),
          (ge, ":var9", 100),
          (party_detach, ":var18"),
          (call_script, "script_party_set_ai_state", ":var18", 4, ":var2"),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_party_name, s4, ":var18"),
            (display_message, "str_s4_sorties"),
          (try_end),
          (eq, ":var17", 0),
          (assign, ":var17", ":var18"),
        (try_end),
        (try_begin),
          (party_is_in_town, "p_main_party", ":var2"),
          (eq, "$g_player_is_captive", 0),
          (gt, ":var17", 0),
          (call_script, "script_add_notification_menu", "mnu_notification_sortie_possible", ":var2", ":var18"),
        (try_end),
      (try_end),
      (store_faction_of_party, ":var5", ":var2"),
      (this_or_next|eq, "$cheat_mode", 1),
      (this_or_next|party_slot_eq, ":var2", 7, "trp_player"),
      (eq, ":var5", "$players_kingdom"),
      (party_get_slot, ":var20", ":var2", 55),
      (ge, ":var20", 0),
      (store_distance_to_party_from_party, ":var21", "p_main_party", ":var2"),
      (assign, ":var22", 0),
      (try_begin),
        (this_or_next|party_slot_eq, ":var2", 7, "trp_player"),
        (eq, ":var5", "$players_kingdom"),
        (party_slot_eq, ":var2", 134, 1),
        (assign, ":var22", 1),
      (try_end),
      (this_or_next|eq, "$cheat_mode", 1),
      (this_or_next|lt, ":var21", 30),
      (eq, ":var22", 1),
      (str_store_party_name_link, s1, ":var2"),
      (party_get_slot, ":var23", ":var2", 67),
      (val_div, ":var23", 25),
      (try_begin),
        (lt, ":var23", 500),
        (display_message, "@Small bands of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var23", 1000),
        (display_message, "@Enemy patrols spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var23", 2000),
        (display_message, "@Medium-sized group of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var23", 4000),
        (display_message, "@Significant group of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var23", 8000),
        (display_message, "@Army of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (lt, ":var23", 16000),
        (display_message, "@Large army of enemies spotted near {s1}.", 0xFF5050),
      (else_try),
        (display_message, "@Great host of enemies spotted near {s1}.", 0xFF5050),
      (try_end),
    (try_end),
  ]),

  ("allow_vassals_to_join_indoor_battle",
  [
    (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var0", 166, 1),
      (troop_slot_eq, ":var0", 2, 2),
      (neg|troop_slot_ge, ":var0", 8, 0),
      (troop_get_slot, ":var1", ":var0", 10),
      (gt, ":var1", 0),
      (party_is_active, ":var1"),
      (party_get_attached_to, ":var2", ":var1"),
      (lt, ":var2", 0),
      (store_faction_of_troop, ":var3", ":var0"),
      (try_begin),
        (party_slot_eq, ":var1", 4, 11),
        (party_get_slot, ":var4", ":var1", 5),
        (gt, ":var4", 0),
        (party_is_active, ":var4"),
        (assign, ":var5", -1),
        (try_begin),
          (party_slot_eq, ":var4", 4, 7),
          (party_get_slot, ":var6", ":var4", 5),
          (party_get_battle_opponent, ":var7", ":var6"),
          (party_is_active, ":var7"),
          (assign, ":var5", ":var6"),
          (assign, ":var6", ":var7"),
        (else_try),
          (party_slot_eq, ":var4", 4, 10),
          (party_get_slot, ":var6", ":var4", 5),
          (ge, ":var6", 0),
          (neg|is_between, ":var6", "p_town_1_1", "p_salt_mine"),
          (party_is_active, ":var6"),
          (party_get_battle_opponent, ":var5", ":var6"),
        (else_try),
          (assign, ":var5", -1),
        (try_end),
        (is_between, ":var5", "p_town_1_1", "p_village_1_1"),
        (party_get_attached_to, ":var8", ":var4"),
        (eq, ":var8", ":var5"),
        (store_faction_of_party, ":var9", ":var5"),
        (eq, ":var9", ":var3"),
        (party_is_active, ":var6"),
        (call_script, "script_party_set_ai_state", ":var1", 10, ":var6"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_party_name, s7, ":var1"),
          (str_store_party_name, s6, ":var6"),
          (display_message, "@{!}DEBUG : {s7} is helping his commander by fighting with {s6}."),
        (try_end),
      (else_try),
        (party_slot_eq, ":var1", 4, 11),
        (party_get_slot, ":var4", ":var1", 5),
        (gt, ":var4", 0),
        (party_is_active, ":var4"),
        (party_get_battle_opponent, ":var5", ":var4"),
        (is_between, ":var5", "p_town_1_1", "p_village_1_1"),
        (party_get_attached_to, ":var8", ":var1"),
        (neq, ":var8", ":var5"),
        (party_is_active, ":var5"),
        (call_script, "script_party_set_ai_state", ":var1", 10, ":var5"),
      (try_end),
    (try_end),
  ]),

  ("party_set_ai_state",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (party_get_slot, ":var3", ":var0", 4),
    (party_get_slot, ":var4", ":var0", 5),
    (party_get_attached_to, ":var5", ":var0"),
    (assign, ":var6", 0),
    (try_begin),
      (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
      (assign, ":var6", ":var5"),
    (try_end),
    (assign, ":var7", -1),
    (try_begin),
      (party_is_active, ":var0"),
      (party_stack_get_troop_id, ":var7", ":var0", 0),
      (store_faction_of_party, ":var8", ":var0"),
    (try_end),
    (try_begin),
      (lt, ":var7", 0),
    (else_try),
      (try_begin),
        (is_between, ":var6", "p_town_1_1", "p_village_1_1"),
        (party_slot_eq, ":var6", 54, -1),
        (call_script, "script_troop_does_business_in_center", ":var7", ":var6"),
      (else_try),
        (party_slot_eq, ":var0", 4, 16),
        (party_get_slot, ":var9", ":var0", 5),
        (is_between, ":var9", "p_village_1_1", "p_salt_mine"),
        (neg|party_slot_eq, ":var9", 35, 2),
        (neg|party_slot_eq, ":var9", 35, 4),
        (neg|party_slot_eq, ":var9", 35, 1),
        (neg|party_slot_ge, ":var9", 39, 1),
        (store_distance_to_party_from_party, ":var10", ":var0", ":var9"),
        (lt, ":var10", 3),
        (call_script, "script_troop_does_business_in_center", ":var7", ":var9"),
      (try_end),
      (party_set_slot, ":var0", 63, 0),
      (try_begin),
        (eq, ":var3", ":var1"),
        (eq, ":var4", ":var2"),
      (else_try),
        (assign, ":var11", 100),
        (assign, ":var12", 8),
        (assign, ":var13", 8),
        (try_begin),
          (this_or_next|eq, ":var1", 11),
          (eq, ":var1", 12),
          (party_set_ai_behavior, ":var0", ai_bhvr_escort_party),
          (party_set_ai_object, ":var0", ":var2"),
          (party_set_flags, ":var0", pf_default_behavior, 0),
          (try_begin),
            (gt, ":var6", 0),
            (party_detach, ":var0"),
          (try_end),
          (try_begin),
            (eq, ":var1", 12),
            (assign, ":var12", 9),
            (assign, ":var13", 9),
            (assign, ":var11", 80),
          (else_try),
            (assign, ":var12", 6),
            (assign, ":var13", 9),
            (assign, ":var11", 10),
          (try_end),
        (else_try),
          (eq, ":var1", 1),
          (party_get_position, pos1, ":var2"),
          (map_get_random_position_around_position, pos2, pos1, 2),
          (party_set_ai_behavior, ":var0", ai_bhvr_travel_to_point),
          (party_set_ai_target_position, ":var0", pos2),
          (party_set_ai_object, ":var0", ":var2"),
          (party_set_flags, ":var0", pf_default_behavior, 0),
          (party_set_slot, ":var0", 63, 1),
          (party_set_slot, ":var0", 8, 0),
          (try_begin),
            (gt, ":var6", 0),
            (neq, ":var6", ":var2"),
            (party_detach, ":var0"),
          (try_end),
          (assign, ":var12", 1),
          (assign, ":var13", 9),
          (assign, ":var11", 20),
        (else_try),
          (eq, ":var1", 7),
          (party_set_ai_behavior, ":var0", ai_bhvr_travel_to_party),
          (party_set_ai_object, ":var0", ":var2"),
          (party_set_flags, ":var0", pf_default_behavior, 0),
          (try_begin),
            (gt, ":var6", 0),
            (neq, ":var6", ":var2"),
            (party_detach, ":var0"),
          (try_end),
          (assign, ":var12", 7),
          (assign, ":var13", 9),
          (assign, ":var11", 100),
        (else_try),
          (eq, ":var1", 4),
          (party_get_position, pos1, ":var2"),
          (map_get_random_position_around_position, pos2, pos1, 1),
          (party_set_ai_behavior, ":var0", ai_bhvr_travel_to_point),
          (party_set_ai_target_position, ":var0", pos2),
          (party_set_ai_object, ":var0", ":var2"),
          (try_begin),
            (faction_slot_eq, ":var8", 4, 5),
            (party_set_ai_patrol_radius, ":var0", 1),
          (else_try),
            (party_set_ai_patrol_radius, ":var0", 5),
          (try_end),
          (party_set_flags, ":var0", pf_default_behavior, 0),
          (party_set_slot, ":var0", 63, 1),
          (party_set_slot, ":var0", 8, 0),
          (try_begin),
            (gt, ":var6", 0),
            (party_detach, ":var0"),
          (try_end),
          (try_begin),
            (ge, ":var7", 0),
            (faction_slot_eq, ":var8", 8, ":var7"),
            (faction_slot_eq, ":var8", 4, 5),
            (party_get_position, pos3, ":var0"),
            (get_distance_between_positions, ":var14", pos1, pos3),
            (try_begin),
              (ge, ":var14", 800),
              (assign, ":var11", 10),
              (assign, ":var12", 1),
              (assign, ":var13", 8),
            (else_try),
              (assign, ":var11", 100),
              (assign, ":var12", 8),
              (assign, ":var13", 8),
            (try_end),
          (else_try),
            (assign, ":var12", 8),
            (assign, ":var13", 8),
            (assign, ":var11", 100),
          (try_end),
        (else_try),
          (eq, ":var1", 16),
          (party_get_position, pos1, ":var2"),
          (map_get_random_position_around_position, pos2, pos1, 2),
          (party_set_ai_behavior, ":var0", ai_bhvr_travel_to_point),
          (party_set_ai_target_position, ":var0", pos2),
          (party_set_ai_object, ":var0", ":var2"),
          (party_set_flags, ":var0", pf_default_behavior, 0),
          (party_set_slot, ":var0", 8, 0),
          (try_begin),
            (gt, ":var6", 0),
            (neq, ":var6", ":var2"),
            (party_detach, ":var0"),
          (try_end),
          (assign, ":var12", 8),
          (assign, ":var13", 8),
          (assign, ":var11", 100),
        (else_try),
          (eq, ":var1", 5),
          (party_get_position, pos1, ":var2"),
          (map_get_random_position_around_position, pos2, pos1, 1),
          (party_set_ai_behavior, ":var0", ai_bhvr_patrol_location),
          (party_set_ai_patrol_radius, ":var0", 10),
          (party_set_ai_target_position, ":var0", pos2),
          (party_set_ai_object, ":var0", ":var2"),
          (party_set_flags, ":var0", pf_default_behavior, 0),
          (party_set_slot, ":var0", 63, 1),
          (party_set_slot, ":var0", 8, 0),
          (try_begin),
            (gt, ":var6", 0),
            (neq, ":var6", ":var2"),
            (party_detach, ":var0"),
          (try_end),
          (try_begin),
            (ge, ":var7", 0),
            (faction_slot_eq, ":var8", 8, ":var7"),
            (assign, ":var12", 1),
            (assign, ":var13", 8),
            (assign, ":var11", 20),
          (else_try),
            (assign, ":var12", 7),
            (assign, ":var13", 8),
            (assign, ":var11", 100),
          (try_end),
        (else_try),
          (eq, ":var1", 10),
          (party_set_ai_behavior, ":var0", ai_bhvr_attack_party),
          (party_set_ai_object, ":var0", ":var2"),
          (party_set_flags, ":var0", pf_default_behavior, 0),
          (try_begin),
            (gt, ":var6", 0),
            (party_detach, ":var0"),
          (try_end),
          (try_begin),
            (ge, ":var7", 0),
            (faction_slot_eq, ":var8", 8, ":var7"),
            (faction_slot_eq, ":var8", 4, 5),
            (assign, ":var11", 10),
            (assign, ":var12", 1),
            (assign, ":var13", 8),
          (else_try),
            (assign, ":var12", 8),
            (assign, ":var13", 8),
            (assign, ":var11", 100),
          (try_end),
        (else_try),
          (eq, ":var1", 14),
          (party_set_ai_behavior, ":var0", ai_bhvr_travel_to_party),
          (party_set_ai_object, ":var0", ":var2"),
          (party_set_flags, ":var0", pf_default_behavior, 1),
          (party_set_slot, ":var0", 30, -1),
          (try_begin),
            (gt, ":var6", 0),
            (neq, ":var6", ":var2"),
            (party_detach, ":var0"),
          (try_end),
          (assign, ":var12", 3),
          (assign, ":var13", 4),
          (assign, ":var11", 100),
        (else_try),
          (eq, ":var1", -1),
          (party_set_ai_behavior, ":var0", ai_bhvr_hold),
          (party_set_flags, ":var0", pf_default_behavior, 0),
        (try_end),
        (try_begin),
          (troop_slot_eq, ":var7", 52, 1),
          (val_add, ":var12", 2),
          (val_add, ":var13", 2),
        (else_try),
          (troop_slot_eq, ":var7", 52, 5),
          (val_sub, ":var12", 1),
          (val_sub, ":var13", 1),
        (try_end),
        (party_set_slot, ":var0", 4, ":var1"),
        (party_set_slot, ":var0", 5, ":var2"),
        (party_set_aggressiveness, ":var0", ":var12"),
        (party_set_courage, ":var0", ":var13"),
        (party_set_ai_initiative, ":var0", ":var11"),
      (try_end),
    (try_end),
    (try_begin),
      (ge, ":var7", 0),
      (party_set_helpfulness, ":var0", 101),
      (try_begin),
        (troop_slot_eq, ":var7", 52, 1),
        (party_set_helpfulness, ":var0", 200),
      (else_try),
        (troop_slot_eq, ":var7", 52, 7),
        (party_set_helpfulness, ":var0", 150),
      (else_try),
        (party_slot_eq, ":var0", 4, 11),
        (party_set_helpfulness, ":var0", 110),
      (else_try),
        (troop_slot_eq, ":var7", 52, 2),
        (party_set_helpfulness, ":var0", 90),
      (else_try),
        (troop_slot_eq, ":var7", 52, 3),
        (party_set_helpfulness, ":var0", 80),
      (else_try),
        (troop_slot_eq, ":var7", 52, 5),
        (party_set_helpfulness, ":var0", 50),
      (try_end),
    (try_end),
  ]),

  ("cf_party_under_player_suggestion",
  [
    (store_script_param, ":var0", 1),
    (party_slot_eq, ":var0", 244, "trp_kingdom_heroes_including_player_begin"),
    (party_get_slot, ":var1", ":var0", 4),
    (party_slot_eq, ":var0", 245, ":var1"),
    (party_get_slot, ":var2", ":var0", 5),
    (party_slot_eq, ":var0", 246, ":var2"),
    (store_current_hours, ":var3"),
    (party_get_slot, ":var4", ":var0", 247),
    (val_sub, ":var3", ":var4"),
    (lt, ":var3", 12),
  ]),

  ("troop_does_business_in_center",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 10),
    (store_current_hours, ":var3"),
    (try_begin),
      (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
      (party_set_slot, ":var2", 71, ":var3"),
      (try_begin),
        (call_script, "script_lord_get_home_center", ":var0"),
        (eq, ":var1", reg0),
        (party_set_slot, ":var2", 69, ":var3"),
      (try_end),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var1", 7, ":var0"),
      (party_get_slot, ":var4", ":var1", 47),
      (party_get_slot, ":var5", ":var1", 48),
      (troop_get_slot, ":var6", ":var0", 11),
      (val_add, ":var6", ":var4"),
      (val_add, ":var6", ":var5"),
      (troop_set_slot, ":var0", 11, ":var6"),
      (party_set_slot, ":var1", 47, 0),
      (party_set_slot, ":var1", 48, 0),
      (try_begin),
        (this_or_next|eq, "$cheat_mode", 1),
        (eq, "$cheat_mode", 3),
        (assign, reg1, ":var6"),
        (str_store_party_name, s4, ":var1"),
        (add_troop_note_from_sreg, ":var0", 1, "str_current_wealth_reg1_taxes_last_collected_from_s4", 0),
      (try_end),
    (try_end),
    (try_begin),
      (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
      (party_get_slot, ":var7", ":var1", 88),
      (party_get_slot, ":var8", ":var1", 89),
      (party_set_slot, ":var1", 89, -1),
      (party_add_members, ":var2", ":var7", ":var8"),
    (try_end),
    (try_begin),
      (party_get_slot, ":var9", ":var2", 70),
      (store_sub, ":var10", ":var3", ":var9"),
      (gt, ":var10", 72),
      (store_faction_of_troop, ":var11", ":var0"),
      (troop_slot_eq, ":var0", 30, -1),
      (try_for_range, ":var12", 35, 38),
        (neq, ":var11", "fac_kingdom_1"),
        (troop_get_slot, ":var13", ":var0", ":var12"),
        (gt, ":var13", 0),
        (troop_get_slot, ":var14", ":var13", 12),
        (eq, ":var1", ":var14"),
        (call_script, "script_courtship_event_troop_court_lady", ":var0", ":var13"),
        (party_set_slot, ":var2", 70, ":var3"),
      (try_end),
    (try_end),
  ]),

  ("process_kingdom_parties_ai",
  [
    (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var0", 166, 1),
      (troop_slot_eq, ":var0", 2, 2),
      (neg|troop_slot_ge, ":var0", 8, 0),
      (troop_get_slot, ":var1", ":var0", 10),
      (gt, ":var1", 0),
      (call_script, "script_process_hero_ai", ":var0"),
    (try_end),
  ]),

  ("process_hero_ai",
  [
    (store_script_param_1, ":var0"),
    (troop_get_slot, ":var1", ":var0", 10),
    (try_begin),
      (party_is_active, ":var1"),
      (store_faction_of_party, ":var2", ":var1"),
      (party_get_slot, ":var3", ":var1", 4),
      (party_get_slot, ":var4", ":var1", 5),
      (try_begin),
        (eq, ":var3", 1),
        (try_begin),
          (party_slot_eq, ":var4", 54, -1),
          (store_distance_to_party_from_party, ":var5", ":var1", ":var4"),
          (lt, ":var5", 3),
          (try_begin),
            (party_slot_eq, ":var1", 4, 11),
            (party_get_slot, ":var6", ":var1", 5),
            (party_set_slot, ":var4", 54, ":var6"),
          (else_try),
            (party_set_slot, ":var4", 54, ":var1"),
          (try_end),
          (store_current_hours, ":var7"),
          (party_set_slot, ":var4", 64, ":var7"),
          (str_store_party_name_link, s1, ":var4"),
          (str_store_troop_name_link, s2, ":var0"),
          (str_store_faction_name_link, s3, ":var2"),
          (call_script, "script_get_message_color", 7, ":var0"),
          (display_log_message, "@{s1} has been besieged by {s2} of the {s3}.", reg20),
          (party_set_slot, ":var4", 235, ":var2"),
          (try_begin),
            (party_slot_ge, ":var4", 7, 0),
            (party_get_slot, ":var8", ":var4", 7),
            (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -8),
          (try_end),
          (try_begin),
            (store_faction_of_party, ":var9", ":var4"),
            (this_or_next|party_slot_eq, ":var4", 7, "trp_player"),
            (eq, ":var9", "$players_kingdom"),
            (call_script, "script_add_notification_menu", "mnu_notification_center_under_siege", ":var4", ":var0"),
          (try_end),
          (call_script, "script_village_set_state", ":var4", 5),
          (call_script, "script_recalculate_ais_for_faction", ":var2"),
          (call_script, "script_recalculate_ais_for_faction", ":var9"),
        (try_end),
      (else_try),
        (eq, ":var3", 5),
        (party_slot_eq, ":var1", 8, 0),
        (assign, ":var10", 0),
        (try_for_range, ":var11", "p_village_1_1", "p_salt_mine"),
          (eq, ":var10", 0),
          (store_faction_of_party, ":var12", ":var11"),
          (try_begin),
            (party_slot_eq, ":var11", 7, "trp_player"),
            (store_relation, ":var13", "$players_kingdom", ":var2"),
          (else_try),
            (store_relation, ":var13", ":var12", ":var2"),
          (try_end),
          (lt, ":var13", 0),
          (store_distance_to_party_from_party, ":var14", ":var11", ":var1"),
          (lt, ":var14", 15),
          (party_slot_eq, ":var11", 35, 0),
          (assign, ":var10", ":var11"),
        (try_end),
        (try_begin),
          (eq, ":var10", 0),
          (is_between, ":var4", "p_village_1_1", "p_salt_mine"),
          (assign, ":var10", ":var4"),
        (try_end),
        (try_begin),
          (gt, ":var10", 0),
          (party_get_slot, reg34, ":var1", 56),
          (call_script, "script_party_count_fit_for_battle", ":var1"),
          (assign, reg37, reg0),
          (call_script, "script_party_get_ideal_size", ":var1"),
          (assign, reg38, reg0),
          (store_mul, reg39, reg37, 100),
          (val_div, reg39, reg38),
          (gt, reg39, 60),
          (call_script, "script_party_set_ai_state", ":var1", 5, ":var10"),
          (try_begin),
            (faction_slot_eq, ":var2", 8, ":var0"),
            (faction_slot_eq, ":var2", 4, 3),
            (faction_set_slot, ":var2", 5, ":var10"),
          (try_end),
          (party_get_position, pos1, ":var10"),
          (map_get_random_position_around_position, pos2, pos1, 1),
          (party_set_ai_behavior, ":var1", ai_bhvr_travel_to_point),
          (party_set_ai_target_position, ":var1", pos2),
          (party_set_ai_object, ":var1", ":var10"),
          (party_set_slot, ":var1", 8, 1),
        (try_end),
      (else_try),
        (eq, ":var3", 5),
        (try_begin),
          (store_distance_to_party_from_party, ":var5", ":var1", ":var4"),
          (lt, ":var5", 2),
          (try_begin),
            (party_slot_eq, ":var4", 35, 0),
            (call_script, "script_village_set_state", ":var4", 1),
            (party_set_slot, ":var4", 34, ":var1"),
            (try_begin),
              (party_slot_ge, ":var4", 7, 0),
              (party_get_slot, ":var8", ":var4", 7),
              (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -5),
            (try_end),
            (try_begin),
              (store_faction_of_party, ":var15", ":var4"),
              (this_or_next|party_slot_eq, ":var4", 7, "trp_player"),
              (eq, ":var15", "$players_kingdom"),
              (store_distance_to_party_from_party, ":var14", "p_main_party", ":var4"),
              (this_or_next|lt, ":var14", 30),
              (party_slot_eq, ":var4", 134, 1),
              (call_script, "script_add_notification_menu", "mnu_notification_village_raid_started", ":var4", ":var0"),
            (try_end),
          (else_try),
            (party_slot_eq, ":var4", 35, 1),
          (else_try),
            (party_set_slot, ":var1", 8, 0),
          (try_end),
        (try_end),
      (else_try),
        (eq, ":var3", 14),
        (try_begin),
          (party_get_battle_opponent, ":var16", ":var1"),
          (ge, ":var16", 0),
          (call_script, "script_party_set_ai_state", ":var1", -1, -1),
          (party_set_flags, ":var1", pf_default_behavior, 0),
          (party_set_slot, ":var1", 30, -1),
        (try_end),
      (try_end),
      (try_begin),
        (ge, ":var4", 0),
        (neg|party_is_active, ":var4"),
        (call_script, "script_npc_decision_checklist_party_ai", ":var0"),
        (assign, ":var3", reg0),
        (assign, ":var4", reg1),
        (call_script, "script_party_set_ai_state", ":var1", ":var3", ":var4"),
      (try_end),
      (assign, ":var17", 0),
      (try_begin),
        (faction_slot_eq, ":var2", 8, ":var0"),
        (assign, ":var18", 1000),
        (try_for_range, ":var19", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (store_relation, ":var13", ":var2", ":var19"),
          (lt, ":var13", 0),
          (faction_get_slot, ":var20", ":var19", 8),
          (ge, ":var20", 0),
          (troop_get_slot, ":var21", ":var20", 10),
          (party_is_active, ":var21"),
          (store_distance_to_party_from_party, ":var5", ":var1", ":var21"),
          (gt, ":var18", ":var5"),
          (assign, ":var18", ":var5"),
        (try_end),
        (lt, ":var5", 25),
        (try_begin),
          (faction_slot_eq, ":var2", 4, 5),
          (assign, ":var22", 8),
          (assign, ":var23", 8),
          (assign, ":var17", 100),
        (else_try),
          (assign, ":var22", 8),
          (assign, ":var23", 5),
          (assign, ":var17", 100),
        (try_end),
      (else_try),
        (ge, ":var4", 0),
        (party_is_active, ":var4"),
        (try_begin),
          (eq, ":var3", 11),
          (party_get_battle_opponent, ":var24", ":var4"),
          (lt, ":var24", 0),
          (party_get_slot, ":var25", ":var4", 5),
          (try_begin),
            (party_is_active, ":var25"),
            (store_distance_to_party_from_party, ":var5", ":var1", ":var25"),
          (else_try),
            (assign, ":var5", 1000),
          (try_end),
        (else_try),
          (store_distance_to_party_from_party, ":var5", ":var1", ":var4"),
        (try_end),
        (try_begin),
          (faction_slot_eq, ":var2", 4, 5),
          (try_begin),
            (le, ":var5", 15),
            (try_begin),
              (this_or_next|eq, ":var3", 10),
              (eq, ":var3", 4),
              (assign, ":var22", 8),
              (assign, ":var23", 8),
              (assign, ":var17", 100),
              (try_begin),
                (eq, ":var3", 4),
                (party_slot_eq, ":var1", 8, 0),
                (party_set_slot, ":var1", 8, 1),
                (party_set_ai_behavior, ":var1", ai_bhvr_patrol_party),
                (party_set_ai_object, ":var1", ":var4"),
                (party_set_ai_patrol_radius, ":var1", 1),
              (try_end),
            (else_try),
              (eq, ":var3", 11),
              (party_get_slot, ":var26", ":var4", 4),
              (this_or_next|ge, ":var24", 0),
              (this_or_next|eq, ":var26", 10),
              (eq, ":var26", 4),
              (assign, ":var22", 8),
              (assign, ":var23", 8),
              (assign, ":var17", 100),
            (try_end),
          (try_end),
        (else_try),
          (eq, ":var3", 7),
          (party_is_in_any_town, ":var1"),
          (assign, ":var22", 5),
          (assign, ":var23", 8),
          (assign, ":var17", 50),
        (else_try),
          (eq, ":var3", 1),
          (le, ":var5", 3),
          (assign, ":var22", 1),
          (assign, ":var23", 5),
          (assign, ":var17", 20),
        (else_try),
          (eq, ":var3", 16),
          (le, ":var5", 3),
          (assign, ":var22", 5),
          (assign, ":var23", 8),
          (assign, ":var17", 50),
        (else_try),
          (eq, ":var3", 4),
          (le, ":var5", 15),
          (party_slot_eq, ":var1", 8, 0),
          (party_set_slot, ":var1", 8, 1),
          (assign, ":var22", 8),
          (assign, ":var23", 8),
          (assign, ":var17", 80),
          (party_set_ai_behavior, ":var1", ai_bhvr_patrol_party),
          (party_set_ai_object, ":var1", ":var4"),
          (party_set_ai_patrol_radius, ":var1", 1),
        (else_try),
          (eq, ":var3", 11),
          (party_get_slot, ":var26", ":var4", 4),
          (this_or_next|ge, ":var24", 0),
          (this_or_next|eq, ":var26", 10),
          (eq, ":var26", 5),
          (le, ":var5", 15),
          (assign, ":var22", 8),
          (assign, ":var23", 5),
          (assign, ":var17", 100),
        (try_end),
      (try_end),
      (try_begin),
        (gt, ":var17", 0),
        (try_begin),
          (troop_slot_eq, ":var0", 52, 1),
          (val_add, ":var22", 2),
          (val_add, ":var23", 2),
        (else_try),
          (troop_slot_eq, ":var0", 52, 5),
          (val_sub, ":var22", 1),
          (val_sub, ":var23", 1),
        (try_end),
        (party_set_aggressiveness, ":var1", ":var22"),
        (party_set_courage, ":var1", ":var23"),
        (party_set_ai_initiative, ":var1", ":var17"),
      (try_end),
    (try_end),
  ]),

  ("begin_assault_on_center",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var1", 166, 1),
      (troop_slot_eq, ":var1", 2, 2),
      (neg|troop_slot_ge, ":var1", 8, 0),
      (troop_get_slot, ":var2", ":var1", 10),
      (gt, ":var2", 0),
      (party_is_active, ":var2"),
      (assign, ":var3", 0),
      (try_begin),
        (party_slot_eq, ":var2", 4, 1),
        (party_slot_eq, ":var2", 5, ":var0"),
        (party_slot_eq, ":var2", 8, 0),
        (assign, ":var3", 1),
      (else_try),
        (party_slot_eq, ":var2", 4, 11),
        (party_get_slot, ":var4", ":var2", 5),
        (gt, ":var4", 0),
        (party_is_active, ":var4"),
        (party_slot_eq, ":var4", 4, 1),
        (party_slot_eq, ":var4", 5, ":var0"),
        (call_script, "script_party_set_ai_state", ":var2", 1, ":var0"),
        (assign, ":var3", 1),
      (try_end),
      (eq, ":var3", 1),
      (party_set_ai_behavior, ":var2", ai_bhvr_attack_party),
      (party_set_ai_object, ":var2", ":var0"),
      (party_set_flags, ":var2", pf_default_behavior, 1),
      (party_set_slot, ":var2", 8, 1),
    (try_end),
  ]),

  ("select_faction_marshall",
  [
  ]),

  ("get_center_faction_relation_including_player",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_faction_of_party, ":var2", ":var0"),
    (store_relation, ":var3", ":var2", ":var1"),
    (try_begin),
      (party_slot_eq, ":var0", 7, "trp_player"),
      (store_relation, ":var3", "$players_kingdom", ":var1"),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("update_report_to_army_quest_note",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (le, "$number_of_report_to_army_quest_notes", 13),
      (faction_get_slot, ":var3", ":var0", 8),
      (try_begin),
        (eq, ":var0", "$players_kingdom"),
        (neq, ":var1", ":var2"),
        (check_quest_active, "qst_report_to_army"),
        (ge, ":var3", 0),
        (str_store_troop_name_link, s11, ":var3"),
        (store_current_hours, ":var4"),
        (call_script, "script_game_get_date_text", 0, ":var4"),
        (try_begin),
          (this_or_next|eq, ":var1", 5),
          (this_or_next|eq, ":var1", 2),
          (eq, ":var1", 1),
          (faction_get_slot, ":var5", ":var0", 5),
          (ge, ":var5", 0),
          (str_store_party_name_link, s21, ":var5"),
        (try_end),
        (try_begin),
          (eq, ":var1", 1),
          (try_begin),
            (ge, "$g_gathering_reason", 0),
            (str_store_party_name_link, s21, "$g_gathering_reason"),
            (str_store_string, s14, "str_we_should_prepare_to_defend_s21_but_we_should_gather_our_forces_until_we_are_strong_enough_to_engage_them"),
          (else_try),
            (str_store_string, s14, "str_it_is_time_to_go_on_the_offensive_and_we_must_first_assemble_the_army"),
          (try_end),
          (str_store_string, s14, "@({s1}) {s11}: {s14}"),
          (add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", s14, 0),
          (val_add, "$number_of_report_to_army_quest_notes", 1),
        (else_try),
          (eq, ":var1", 5),
          (try_begin),
            (is_between, ":var5", "p_town_1_1", "p_village_1_1"),
            (str_store_string, s14, "str_we_should_ride_to_break_the_siege_of_s21"),
            (str_store_string, s14, "@({s1}) {s11}: {s14}"),
            (add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", s14, 0),
            (val_add, "$number_of_report_to_army_quest_notes", 1),
          (else_try),
            (is_between, ":var5", "p_village_1_1", "p_salt_mine"),
            (str_store_string, s14, "str_we_should_ride_to_defeat_the_enemy_gathered_near_s21"),
            (str_store_string, s14, "@({s1}) {s11}: {s14}"),
            (add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", s14, 0),
            (val_add, "$number_of_report_to_army_quest_notes", 1),
          (try_end),
        (else_try),
          (this_or_next|eq, ":var1", 2),
          (eq, ":var1", 3),
          (try_begin),
            (is_between, ":var5", "p_town_1_1", "p_village_1_1"),
            (str_store_string, s14, "str_we_believe_the_fortress_will_be_worth_the_effort_to_take_it"),
            (str_store_string, s14, "@{s14} ({s21})"),
            (str_store_string, s14, "@({s1}) {s11}: {s14}"),
            (add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", s14, 0),
            (val_add, "$number_of_report_to_army_quest_notes", 1),
          (else_try),
            (is_between, ":var5", "p_village_1_1", "p_salt_mine"),
            (str_store_string, s14, "str_we_shall_leave_a_fiery_trail_through_the_heart_of_the_enemys_lands_targeting_the_wealthy_settlements_if_we_can"),
            (str_store_string, s14, "@{s14} ({s21})"),
            (str_store_string, s14, "@({s1}) {s11}: {s14}"),
            (add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", s14, 0),
            (val_add, "$number_of_report_to_army_quest_notes", 1),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("decide_faction_ai",
  [
    (store_script_param_1, ":var0"),
    (faction_get_slot, ":var1", ":var0", 4),
    (faction_get_slot, ":var2", ":var0", 5),
    (faction_get_slot, ":var3", ":var0", 8),
    (try_begin),
      (faction_slot_eq, ":var0", 21, 0),
      (neg|faction_slot_eq, ":var0", 11, "trp_player"),
      (ge, ":var3", "trp_player"),
      (store_faction_of_troop, ":var4", ":var3"),
      (try_begin),
        (eq, ":var3", "trp_player"),
        (assign, ":var4", "$players_kingdom"),
      (try_end),
      (assign, ":var5", 0),
      (try_begin),
        (eq, ":var3", "trp_player"),
        (eq, "$g_player_is_captive", 1),
        (assign, ":var5", 1),
      (try_end),
      (this_or_next|neq, ":var4", ":var0"),
      (this_or_next|troop_slot_ge, ":var3", 150, 80),
      (this_or_next|eq, ":var5", 1),
      (troop_slot_ge, ":var3", 8, 0),
      (assign, ":var6", 0),
      (try_begin),
        (eq, ":var3", "trp_player"),
        (assign, ":var7", 0),
        (gt, "$g_player_days_as_marshal", 1),
        (try_for_range, ":var8", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var8", 2, 2),
          (store_faction_of_troop, ":var9", ":var8"),
          (eq, ":var9", ":var0"),
          (call_script, "script_npc_decision_checklist_troop_follow_or_not", ":var8"),
          (eq, reg0, 1),
          (val_add, ":var7", 1),
        (try_end),
        (lt, ":var7", 4),
        (assign, ":var6", 1),
      (try_end),
      (neg|this_or_next|troop_slot_eq, ":var4", 166, 1),
      (this_or_next|eq, ":var1", 0),
      (this_or_next|eq, ":var1", 6),
      (this_or_next|neq, ":var4", ":var0"),
      (this_or_next|eq, ":var6", 1),
      (this_or_next|eq, ":var5", 1),
      (troop_slot_ge, ":var3", 8, 0),
      (this_or_next|faction_slot_eq, ":var0", 64, 0),
      (this_or_next|eq, ":var5", 1),
      (troop_slot_ge, ":var3", 8, 0),
      (faction_set_slot, ":var0", 64, 1),
      (store_current_hours, ":var10"),
      (val_max, ":var10", 0),
      (faction_set_slot, ":var0", 65, ":var10"),
      (faction_get_slot, ":var11", ":var0", 8),
      (try_begin),
        (ge, ":var11", 0),
        (troop_get_slot, ":var12", ":var11", 10),
        (party_is_active, ":var12"),
        (party_set_marshall, ":var12", 0),
      (try_end),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (faction_slot_eq, "$players_kingdom", 8, "trp_player"),
        (call_script, "script_add_notification_menu", "mnu_notification_relieved_as_marshal", 0, 0),
        (call_script, "script_change_troop_renown", "trp_player", 15),
      (else_try),
        (neq, ":var11", "trp_player"),
        (call_script, "script_change_troop_renown", ":var11", 15),
      (try_end),
      (faction_set_slot, ":var0", 8, -1),
      (assign, ":var3", -1),
      (try_for_range, ":var13", "trp_npc1", "trp_heroes_end"),
        (store_faction_of_troop, ":var14", ":var13"),
        (eq, ":var14", ":var0"),
        (troop_set_slot, ":var13", 154, -1),
      (try_end),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (troop_set_slot, "trp_player", 154, -1),
      (try_end),
    (else_try),
      (eq, ":var3", -1),
      (neg|faction_slot_ge, ":var0", 64, 1),
      (faction_slot_eq, ":var0", 21, 0),
      (neq, ":var0", "fac_player_supporters_faction"),
      (faction_set_slot, ":var0", 64, 1),
      (store_current_hours, ":var10"),
      (val_max, ":var10", 0),
      (faction_set_slot, ":var0", 65, ":var10"),
      (try_for_range, ":var13", "trp_npc1", "trp_heroes_end"),
        (store_faction_of_troop, ":var14", ":var13"),
        (eq, ":var14", ":var0"),
        (troop_set_slot, ":var13", 154, -1),
      (try_end),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (troop_set_slot, "trp_player", 154, -1),
      (try_end),
    (else_try),
      (eq, ":var3", "trp_player"),
      (neq, "$players_kingdom", ":var0"),
      (faction_set_slot, ":var0", 64, 1),
      (store_current_hours, ":var10"),
      (val_max, ":var10", 0),
      (faction_set_slot, ":var0", 65, ":var10"),
      (faction_get_slot, ":var11", ":var0", 8),
      (try_begin),
        (ge, ":var11", 0),
        (troop_get_slot, ":var12", ":var11", 10),
        (party_is_active, ":var12"),
        (party_set_marshall, ":var12", 0),
      (try_end),
      (faction_set_slot, ":var0", 8, -1),
      (assign, ":var3", -1),
      (try_for_range, ":var13", "trp_npc1", "trp_heroes_end"),
        (store_faction_of_troop, ":var14", ":var13"),
        (eq, ":var14", ":var0"),
        (troop_set_slot, ":var13", 154, -1),
      (try_end),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (troop_set_slot, "trp_player", 154, -1),
      (try_end),
    (try_end),
    (try_begin),
      (faction_get_slot, ":var15", ":var0", 64),
      (is_between, ":var15", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var16", ":var15"),
      (neq, ":var16", ":var0"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_faction_name, s4, ":var0"),
        (str_store_party_name, s5, ":var16"),
        (display_message, "@{!}DEBUG -- {s4} drops {s5} as issue as it has changed hands"),
      (try_end),
      (faction_set_slot, ":var0", 64, 0),
      (try_for_range, ":var13", "trp_npc1", "trp_heroes_end"),
        (store_faction_of_troop, ":var14", ":var13"),
        (eq, ":var14", ":var0"),
        (troop_set_slot, ":var13", 154, -1),
      (try_end),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (troop_set_slot, "trp_player", 154, -1),
      (try_end),
    (try_end),
    (try_begin),
      (faction_slot_ge, ":var0", 64, 1),
      (neg|faction_slot_eq, ":var0", 11, "trp_player"),
      (this_or_next|faction_slot_ge, ":var0", 64, "p_town_1_1"),
      (this_or_next|faction_slot_eq, ":var0", 4, 6),
      (faction_slot_eq, ":var0", 4, 0),
      (faction_get_slot, ":var17", ":var0", 11),
      (assign, ":var18", 0),
      (assign, ":var19", 0),
      (assign, ":var20", -1),
      (troop_set_slot, "trp_player", 46, 0),
      (try_for_range, ":var13", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_set_slot, ":var13", 46, 0),
      (try_end),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (ge, "$player_has_homage", 1),
        (troop_get_slot, ":var21", "trp_player", 154),
        (gt, ":var21", -1),
        (troop_slot_eq, ":var21", 166, 1),
        (val_add, ":var18", 1),
        (val_add, ":var19", 1),
        (troop_set_slot, ":var21", 46, 1),
        (assign, ":var20", ":var21"),
      (try_end),
      (try_for_range, ":var22", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var22", 166, 1),
        (troop_slot_eq, ":var22", 2, 2),
        (neg|troop_slot_ge, ":var22", 2, 11),
        (store_faction_of_troop, ":var23", ":var22"),
        (eq, ":var23", ":var0"),
        (val_add, ":var18", 1),
        (troop_get_slot, ":var21", ":var22", 154),
        (gt, ":var21", -1),
        (troop_slot_eq, ":var21", 166, 1),
        (val_add, ":var19", 1),
        (troop_get_slot, ":var24", ":var21", 46),
        (val_add, ":var24", 1),
        (troop_set_slot, ":var21", 46, ":var24"),
        (try_begin),
          (gt, ":var20", -1),
          (troop_get_slot, ":var25", ":var20", 46),
          (gt, ":var24", ":var25"),
          (assign, ":var20", ":var21"),
        (else_try),
          (eq, ":var20", -1),
          (assign, ":var20", ":var21"),
        (try_end),
      (try_end),
      (store_div, ":var26", ":var18", 5),
      (val_mul, ":var26", 4),
      (store_current_hours, ":var27"),
      (faction_get_slot, ":var28", ":var0", 65),
      (val_sub, ":var27", ":var28"),
      (assign, ":var29", 2),
      (this_or_next|gt, ":var19", ":var26"),
      (ge, ":var27", ":var29"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (assign, reg4, ":var19"),
        (assign, reg5, ":var26"),
        (assign, reg7, ":var27"),
        (str_store_faction_name, s4, ":var0"),
        (display_message, "@{!}DEBUG -- Issue resolution for {s4}: {reg4} votes for a quorum of {reg5}, {reg7} hours on agenda"),
      (try_end),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}DEBUG -- Faction resolves political issue"),
      (try_end),
      (assign, ":var30", -1),
      (gt, ":var17", -1),
      (troop_get_slot, ":var31", ":var17", 154),
      (assign, ":var32", 10),
      (faction_get_slot, ":var33", ":var0", 64),
      (try_begin),
        (ge, ":var17", 1),
        (eq, "$players_kingdom", ":var0"),
        (this_or_next|troop_slot_eq, ":var17", 30, "trp_player"),
        (troop_slot_eq, "trp_player", 30, ":var17"),
        (troop_slot_eq, "trp_player", 154, ":var20"),
        (assign, ":var30", ":var20"),
      (else_try),
        (ge, ":var17", 1),
        (neq, ":var31", ":var20"),
        (gt, ":var31", -1),
        (troop_slot_eq, ":var31", 166, 1),
        (call_script, "script_troop_get_relation_with_troop", ":var17", ":var31"),
        (val_min, ":var32", reg0),
        (try_begin),
          (troop_get_slot, ":var34", ":var20", 7),
          (val_div, ":var34", 50),
          (val_sub, ":var32", ":var34"),
        (try_end),
        (call_script, "script_troop_get_relation_with_troop", ":var17", ":var20"),
        (gt, ":var32", reg0),
        (assign, reg0, 0),
        (try_begin),
          (troop_slot_ge, ":var17", 8, 0),
          (store_random_in_range, reg0, 0, 2),
        (try_end),
        (try_begin),
          (eq, reg0, 1),
          (gt, ":var20", -1),
          (this_or_next|eq, "$players_kingdom", ":var0"),
          (ge, "$cheat_mode", 1),
          (str_store_faction_name, s4, ":var0"),
          (str_store_troop_name, s5, ":var20"),
          (str_store_troop_name, s0, ":var17"),
          (try_begin),
            (eq, ":var33", 1),
            (display_message, "@{s5} has the greatest support among the lords of the {s4} to be the next marshall.  {s0} is indisposed and cannot overrule their choice."),
          (else_try),
            (is_between, ":var33", "p_town_1_1", "p_salt_mine"),
            (str_store_party_name, s1, ":var33"),
            (display_message, "@{s5} has the greatest support among the lords of the {s4} to receive {s1}.  {s0} is indisposed and cannot overrule their choice."),
          (try_end),
        (try_end),
        (eq, reg0, 0),
        (assign, ":var30", ":var31"),
        (try_begin),
          (gt, ":var20", -1),
          (this_or_next|eq, "$players_kingdom", ":var0"),
          (ge, "$cheat_mode", 1),
          (str_store_faction_name, s4, ":var0"),
          (str_store_troop_name, s5, ":var20"),
          (str_store_troop_name, s0, ":var17"),
          (try_begin),
            (eq, ":var33", 1),
            (display_message, "@{s5} has the greatest support among the lords of the {s4} to be the next marshall, but {s0} overrules their choice."),
          (else_try),
            (is_between, ":var33", "p_town_1_1", "p_salt_mine"),
            (str_store_party_name, s1, ":var33"),
            (display_message, "@{s5} has the greatest support among the lords of the {s4} to receive {s1}, but {s0} overrules their choice."),
          (try_end),
        (try_end),
      (else_try),
        (assign, ":var30", ":var20"),
      (try_end),
      (try_begin),
        (eq, ":var30", -1),
      (else_try),
        (eq, ":var30", "trp_player"),
        (eq, "$players_kingdom", ":var0"),
        (call_script, "script_add_notification_menu", "mnu_notification_player_faction_political_issue_resolved_for_player", 0, 0),
      (else_try),
        (eq, ":var30", "trp_player"),
        (neq, "$players_kingdom", ":var0"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_faction_name, s4, ":var0"),
          (str_store_party_name, s5, ":var30"),
          (display_message, "@{!}DEBUG -- {s4} drops {s5} as winner, for having changed sides"),
        (try_end),
        (try_for_range, ":var13", "trp_npc1", "trp_knight_1_1_wife"),
          (this_or_next|troop_slot_eq, ":var13", 2, 2),
          (is_between, ":var13", "trp_npc1", "trp_knight_1_1_wife"),
          (store_faction_of_troop, ":var14", ":var13"),
          (eq, ":var14", ":var0"),
          (troop_set_slot, ":var13", 154, -1),
        (try_end),
        (try_begin),
          (eq, "$players_kingdom", ":var0"),
          (troop_set_slot, "trp_player", 154, -1),
        (try_end),
      (else_try),
        (store_faction_of_troop, ":var35", ":var30"),
        (neq, ":var35", ":var0"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_faction_name, s4, ":var0"),
          (str_store_party_name, s5, ":var30"),
          (display_message, "@{!}DEBUG -- {s4} drops {s5} as winner, for having changed sides"),
        (try_end),
        (try_for_range, ":var13", "trp_npc1", "trp_knight_1_1_wife"),
          (this_or_next|troop_slot_eq, ":var13", 2, 2),
          (is_between, ":var13", "trp_npc1", "trp_knight_1_1_wife"),
          (store_faction_of_troop, ":var14", ":var13"),
          (eq, ":var14", ":var0"),
          (troop_set_slot, ":var13", 154, -1),
        (try_end),
        (try_begin),
          (eq, "$players_kingdom", ":var0"),
          (troop_set_slot, "trp_player", 154, -1),
        (try_end),
      (else_try),
        (faction_get_slot, ":var33", ":var0", 64),
        (try_begin),
          (eq, ":var33", 1),
          (is_between, ":var30", "trp_npc1", "trp_knight_1_1_wife"),
          (this_or_next|is_between, ":var30", "trp_npc1", "trp_knight_1_1_wife"),
          (eq, "$players_kingdom", ":var0"),
          (this_or_next|troop_slot_eq, ":var30", 2, 2),
          (this_or_next|is_between, ":var30", "trp_npc1", "trp_knight_1_1_wife"),
          (eq, "$players_kingdom", ":var0"),
          (assign, ":var3", ":var30"),
        (else_try),
          (is_between, ":var33", "p_town_1_1", "p_salt_mine"),
          (call_script, "script_give_center_to_lord", ":var33", ":var30", 0),
          (try_begin),
            (eq, ":var33", "$g_castle_requested_by_player"),
            (party_slot_ge, ":var33", 7, "trp_npc1"),
            (store_faction_of_party, ":var36", ":var33"),
            (eq, ":var36", "$players_kingdom"),
            (assign, "$g_center_to_give_to_player", ":var33"),
            (try_begin),
              (troop_get_slot, ":var37", "trp_player", 30),
              (is_between, ":var37", "trp_npc1", "trp_knight_1_1_wife"),
              (this_or_next|troop_slot_eq, ":var30", 2, 2),
              (is_between, ":var37", "trp_npc1", "trp_knight_1_1_wife"),
              (eq, "$g_castle_requested_for_troop", ":var37"),
              (neq, ":var30", ":var37"),
              (jump_to_menu, "mnu_requested_castle_granted_to_another_female"),
            (else_try),
              (jump_to_menu, "mnu_requested_castle_granted_to_another"),
            (try_end),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var0", "$players_kingdom"),
          (call_script, "script_add_notification_menu", "mnu_notification_player_faction_political_issue_resolved", ":var33", ":var30"),
        (try_end),
        (faction_set_slot, ":var0", 64, 0),
        (try_for_range, ":var13", "trp_npc1", "trp_knight_1_1_wife"),
          (store_faction_of_troop, ":var14", ":var13"),
          (eq, ":var14", ":var0"),
          (troop_set_slot, ":var13", 154, -1),
        (try_end),
        (try_begin),
          (eq, "$players_kingdom", ":var0"),
          (troop_set_slot, "trp_player", 154, -1),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (faction_get_slot, ":var38", ":var0", 64),
      (le, ":var38", 0),
      (assign, ":var39", 0),
      (assign, ":var40", 0),
      (assign, ":var41", 0),
      (troop_set_slot, "trp_player", 46, 0),
      (try_for_range, ":var13", "trp_npc1", "trp_heroes_end"),
        (troop_set_slot, ":var13", 46, 0),
      (try_end),
      (try_for_range, ":var42", "p_town_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var43", ":var42"),
        (eq, ":var43", ":var0"),
        (party_get_slot, ":var44", ":var42", 7),
        (try_begin),
          (lt, ":var44", 0),
          (val_add, ":var40", 1),
          (try_begin),
            (eq, ":var41", 0),
            (assign, ":var41", ":var42"),
          (try_end),
        (else_try),
          (troop_set_slot, ":var44", 46, 1),
        (try_end),
      (try_end),
      (store_add, ":var45", ":var39", ":var40"),
      (ge, ":var45", 2),
      (faction_set_slot, ":var0", 64, ":var41"),
      (store_current_hours, ":var10"),
      (faction_set_slot, ":var0", 65, ":var10"),
      (try_for_range, ":var13", "trp_npc1", "trp_heroes_end"),
        (store_faction_of_troop, ":var14", ":var13"),
        (eq, ":var14", ":var0"),
        (troop_set_slot, ":var13", 154, -1),
      (try_end),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (troop_set_slot, "trp_player", 154, -1),
      (try_end),
    (try_end),
    (try_begin),
      (neg|faction_slot_eq, ":var0", 8, ":var3"),
      (eq, "$players_kingdom", ":var0"),
      (str_store_troop_name_link, s1, ":var3"),
      (str_store_faction_name_link, s2, ":var0"),
      (display_message, "@{s1} is the new marshal of {s2}."),
      (call_script, "script_check_and_finish_active_army_quests_for_faction", ":var0"),
    (try_end),
    (try_begin),
      (neg|faction_slot_eq, ":var0", 8, ":var3"),
      (gt, ":var3", -1),
      (call_script, "script_appoint_faction_marshall", ":var0", ":var3"),
    (try_end),
    (try_begin),
      (eq, ":var0", "$players_kingdom"),
      (eq, ":var3", "trp_player"),
      (assign, ":var46", "trp_player"),
    (else_try),
      (is_between, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
      (assign, ":var46", ":var3"),
    (else_try),
      (faction_get_slot, ":var46", ":var0", 11),
    (try_end),
    (call_script, "script_npc_decision_checklist_faction_ai_alt", ":var46"),
    (assign, ":var47", reg0),
    (assign, ":var48", reg1),
    (try_begin),
      (neq, ":var47", ":var1"),
      (eq, ":var47", 1),
      (faction_get_slot, ":var3", ":var0", 8),
      (gt, ":var3", -1),
      (troop_get_slot, ":var49", ":var3", 10),
      (party_set_slot, ":var49", 5, -1),
      (assign, "$g_gathering_new_started", 1),
      (call_script, "script_npc_decision_checklist_party_ai", ":var3"),
      (call_script, "script_party_set_ai_state", ":var49", reg0, reg1),
      (assign, "$g_gathering_new_started", 0),
    (else_try),
      (eq, ":var47", ":var1"),
      (eq, ":var47", 1),
      (faction_get_slot, ":var3", ":var0", 8),
      (gt, ":var3", -1),
      (troop_get_slot, ":var49", ":var3", 10),
      (gt, ":var49", -1),
      (party_get_slot, ":var50", ":var49", 5),
      (ge, ":var50", 0),
      (ge, ":var49", 0),
      (party_is_active, ":var49"),
      (party_is_active, ":var50"),
      (store_distance_to_party_from_party, ":var51", ":var49", ":var50"),
      (le, ":var51", 5),
      (party_set_slot, ":var49", 5, -1),
    (try_end),
    (faction_set_slot, ":var0", 4, ":var47"),
    (faction_set_slot, ":var0", 5, ":var48"),
    (call_script, "script_update_report_to_army_quest_note", ":var0", ":var47", ":var1"),
    (try_begin),
      (eq, ":var47", 6),
      (store_current_hours, ":var10"),
      (faction_set_slot, ":var0", 94, ":var10"),
      (try_begin),
        (eq, "$g_player_eligible_feast_center_no", ":var48"),
        (assign, "$g_player_eligible_feast_center_no", -1),
      (try_end),
      (try_begin),
        (is_between, ":var48", "p_town_1_1", "p_castle_1_1"),
        (party_set_slot, ":var48", 156, 2),
      (try_end),
    (try_end),
    (try_begin),
      (neq, ":var47", ":var1"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_faction_name, s5, ":var0"),
        (display_message, "str_s5_decides_s14"),
      (try_end),
      (store_current_hours, ":var10"),
      (faction_set_slot, ":var0", 97, ":var10"),
      (try_begin),
        (eq, ":var1", 6),
        (call_script, "script_faction_conclude_feast", ":var0", ":var2"),
      (try_end),
      (try_begin),
        (eq, ":var47", 6),
        (faction_get_slot, ":var52", ":var0", 5),
        (party_get_slot, ":var53", ":var52", 7),
        (try_begin),
          (check_quest_active, "qst_wed_betrothed"),
          (quest_slot_eq, "qst_wed_betrothed", 6, ":var53"),
          (neg|quest_slot_ge, "qst_wed_betrothed", 23, 362),
          (call_script, "script_add_notification_menu", "mnu_notification_player_wedding_day", ":var53", ":var52"),
        (else_try),
          (check_quest_active, "qst_wed_betrothed_female"),
          (quest_get_slot, ":var54", "qst_wed_betrothed", 6),
          (store_faction_of_troop, ":var55", ":var54"),
          (eq, ":var55", ":var0"),
          (neg|quest_slot_ge, "qst_wed_betrothed", 23, 362),
          (call_script, "script_add_notification_menu", "mnu_notification_player_kingdom_holds_feast", ":var53", ":var52"),
        (else_try),
          (eq, "$players_kingdom", ":var0"),
          (party_get_slot, ":var53", ":var52", 7),
          (call_script, "script_add_notification_menu", "mnu_notification_player_kingdom_holds_feast", ":var53", ":var52"),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var1", 1),
        (is_between, ":var47", 2, 6),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_faction_name, s5, ":var0"),
          (display_message, "str_s5_begins_offensive"),
        (try_end),
        (try_begin),
          (assign, ":var56", 0),
          (assign, ":var57", -1),
          (assign, ":var58", 30),
          (gt, ":var3", -1),
          (troop_get_slot, ":var59", ":var3", 10),
          (party_is_active, ":var59"),
          (try_for_range, ":var60", "trp_npc1", "trp_knight_1_1_wife"),
            (store_faction_of_troop, ":var61", ":var60"),
            (eq, ":var61", ":var0"),
            (troop_get_slot, ":var62", ":var60", 10),
            (gt, ":var62", 0),
            (party_is_active, ":var62"),
            (party_slot_eq, ":var62", 4, 11),
            (party_slot_eq, ":var62", 5, ":var59"),
            (val_add, ":var56", 1),
            (try_begin),
              (ge, "$cheat_mode", 1),
              (str_store_party_name, s4, ":var62"),
              (display_message, "@{!}DEBUG -- {s4} participates in offensive"),
            (try_end),
            (store_party_size_wo_prisoners, ":var63", ":var62"),
            (val_sub, ":var63", 50),
            (val_abs, ":var63"),
            (lt, ":var63", ":var58"),
            (assign, ":var57", ":var62"),
            (assign, ":var58", ":var63"),
          (try_end),
          (gt, ":var56", 2),
          (party_is_active, ":var57"),
          (party_is_active, ":var59"),
          (call_script, "script_party_set_ai_state", ":var57", 12, ":var59"),
          (try_begin),
            (ge, "$cheat_mode", 1),
            (str_store_party_name, s4, ":var57"),
            (display_message, "@{!}DEBUG -- {s4} chosen as screen"),
          (try_end),
        (try_end),
      (else_try),
        (store_current_hours, ":var10"),
        (this_or_next|eq, ":var1", 1),
        (this_or_next|eq, ":var1", 2),
        (this_or_next|eq, ":var1", 3),
        (eq, ":var1", 4),
        (this_or_next|eq, ":var47", 0),
        (eq, ":var47", 6),
        (call_script, "script_check_and_finish_active_army_quests_for_faction", ":var0"),
        (faction_set_slot, ":var0", 95, ":var10"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$players_kingdom", ":var0"),
      (neg|faction_slot_eq, ":var0", 4, 2),
      (check_quest_active, "qst_join_siege_with_army"),
      (call_script, "script_abort_quest", "qst_join_siege_with_army", 0),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var47", 0),
      (eq, ":var47", 6),
      (store_current_hours, ":var64"),
      (faction_get_slot, ":var65", ":var0", 97),
      (val_sub, ":var64", ":var65"),
      (ge, ":var64", 18),
      (store_current_hours, ":var10"),
      (faction_set_slot, ":var0", 96, ":var10"),
    (try_end),
  ]),

  ("check_and_finish_active_army_quests_for_faction",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (eq, "$players_kingdom", ":var0"),
      (try_begin),
        (check_quest_active, "qst_report_to_army"),
        (call_script, "script_cancel_quest", "qst_report_to_army"),
      (try_end),
      (assign, ":var1", 0),
      (try_for_range, ":var2", "qst_deliver_cattle_to_army", "qst_rescue_lord_by_replace"),
        (check_quest_active, ":var2"),
        (call_script, "script_cancel_quest", ":var2"),
        (troop_get_slot, ":var3", ":var2", 6),
        (assign, ":var1", 1),
      (try_end),
      (try_begin),
        (check_quest_active, "qst_follow_army"),
        (assign, ":var1", 1),
        (troop_get_slot, ":var3", "qst_follow_army", 6),
        (call_script, "script_end_quest", "qst_follow_army"),
      (try_end),
      (eq, ":var1", 1),
      (faction_get_slot, ":var4", ":var0", 95),
      (store_current_hours, ":var5"),
      (store_sub, ":var6", ":var5", ":var4"),
      (store_mul, ":var7", ":var6", 5),
      (val_div, ":var7", 50),
      (val_mul, ":var7", 50),
      (val_add, ":var7", 50),
      (add_xp_as_reward, ":var7"),
      (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var3", 2),
    (try_end),
  ]),

  ("troop_get_player_relation",
  [
    (store_script_param_1, ":var0"),
    (troop_get_slot, ":var1", ":var0", 52),
    (troop_get_slot, ":var2", ":var0", 22),
    (assign, ":var3", 0),
    (try_begin),
      (eq, ":var1", 2),
      (val_add, ":var2", -3),
    (try_end),
    (try_begin),
      (ge, "$player_honor", 0),
      (try_begin),
        (this_or_next|eq, ":var1", 7),
        (eq, ":var1", 6),
        (store_div, ":var3", "$player_honor", 3),
      (try_end),
    (try_end),
    (try_begin),
      (lt, "$player_honor", 0),
      (try_begin),
        (this_or_next|eq, ":var1", 7),
        (eq, ":var1", 6),
        (store_div, ":var3", "$player_honor", 3),
      (else_try),
        (eq, ":var1", 1),
        (store_div, ":var3", "$player_honor", 5),
      (try_end),
    (try_end),
    (val_add, ":var2", ":var3"),
    (val_clamp, ":var2", -100, 101),
    (assign, reg0, ":var2"),
  ]),

  ("change_troop_renown",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_get_slot, ":var2", ":var0", 7),
    (try_begin),
      (gt, ":var1", 0),
      (assign, reg4, ":var1"),
      (store_div, ":var3", ":var2", 200),
      (val_sub, ":var1", ":var3"),
      (val_max, ":var1", 0),
      (eq, ":var0", "trp_player"),
      (assign, reg5, ":var1"),
      (eq, "$cheat_mode", 1),
      (display_message, "str_renown_change_of_reg4_reduced_to_reg5_because_of_high_existing_renown"),
    (try_end),
    (store_add, ":var4", ":var2", ":var1"),
    (val_max, ":var4", 0),
    (troop_set_slot, ":var0", 7, ":var4"),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (str_store_troop_name, s1, ":var0"),
      (assign, reg12, ":var1"),
      (val_abs, reg12),
      (try_begin),
        (gt, ":var1", 0),
        (display_message, "@You gained {reg12} renown.", 0x50FF50),
      (else_try),
        (lt, ":var1", 0),
        (display_message, "@You lose {reg12} renown.", 0xFF5050),
      (try_end),
    (try_end),
    (call_script, "script_update_troop_notes", ":var0"),
  ]),

  ("change_player_relation_with_troop",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (neq, ":var0", "trp_player"),
      (neg|is_between, ":var0", "trp_farmer", "trp_town_walker_1"),
      (neq, ":var0", -1),
      (neq, ":var1", 0),
      (call_script, "script_troop_get_player_relation", ":var0"),
      (assign, ":var2", reg0),
      (troop_get_slot, ":var3", ":var0", 22),
      (val_add, ":var3", ":var1"),
      (val_clamp, ":var3", -100, 101),
      (try_begin),
        (troop_set_slot, ":var0", 22, ":var3"),
        (try_begin),
          (le, ":var3", -50),
          (unlock_achievement, 29),
        (try_end),
        (str_store_troop_name_link, s1, ":var0"),
        (call_script, "script_troop_get_player_relation", ":var0"),
        (assign, ":var4", reg0),
        (neq, ":var2", ":var4"),
        (assign, reg1, ":var2"),
        (assign, reg2, ":var4"),
        (try_begin),
          (gt, ":var1", 0),
          (display_message, "str_troop_relation_increased", 0x50FF50),
        (else_try),
          (lt, ":var1", 0),
          (display_message, "str_troop_relation_detoriated", 0xFF5050),
        (try_end),
        (try_begin),
          (eq, ":var0", "$g_talk_troop"),
          (assign, "$g_talk_troop_relation", ":var4"),
          (call_script, "script_setup_talk_info"),
        (try_end),
        (call_script, "script_update_troop_notes", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("change_player_relation_with_center",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_slot, ":var2", ":var0", 26),
    (assign, reg1, ":var2"),
    (val_add, ":var2", ":var1"),
    (val_clamp, ":var2", -100, 100),
    (assign, reg2, ":var2"),
    (party_set_slot, ":var0", 26, ":var2"),
    (try_begin),
      (le, ":var2", -50),
      (unlock_achievement, 29),
    (try_end),
    (str_store_party_name_link, s1, ":var0"),
    (try_begin),
      (gt, ":var1", 0),
      (display_message, "@Your relation with {s1} has improved.", 0x50FF50),
    (else_try),
      (lt, ":var1", 0),
      (display_message, "@Your relation with {s1} has deteriorated.", 0xFF5050),
    (try_end),
    (try_begin),
      (eq, "$use_feudal_lance", 0),
      (party_slot_eq, ":var0", 0, 4),
      (call_script, "script_update_volunteer_troops_in_village", ":var0"),
    (try_end),
    (try_begin),
      (this_or_next|is_between, "$g_talk_troop", "trp_village_1_elder", "trp_merchants_end"),
      (is_between, "$g_talk_troop", "trp_town_1_mayor", "trp_village_1_elder"),
      (assign, "$g_talk_troop_relation", ":var2"),
      (call_script, "script_setup_talk_info"),
    (try_end),
  ]),

  ("change_player_relation_with_faction",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_relation, ":var2", ":var0", "$players_kingdom"),
    (assign, reg1, ":var2"),
    (val_add, ":var2", ":var1"),
    (assign, reg2, ":var2"),
    (set_relation, ":var0", "fac_player_faction", ":var2"),
    (set_relation, ":var0", "$players_kingdom", ":var2"),
    (try_begin),
      (le, ":var2", -50),
      (unlock_achievement, 29),
    (try_end),
    (str_store_faction_name_link, s1, ":var0"),
    (try_begin),
      (gt, ":var1", 0),
      (display_message, "str_faction_relation_increased", 0x50FF50),
    (else_try),
      (lt, ":var1", 0),
      (display_message, "str_faction_relation_detoriated", 0xFF5050),
    (try_end),
    (call_script, "script_update_all_notes"),
    (try_begin),
      (eq, "$g_diplomatic_colors", 1),
      (call_script, "script_change_to_diplomatic_colors"),
    (try_end),
  ]),

  ("set_player_relation_with_faction",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_relation, ":var2", ":var0", "$players_kingdom"),
    (store_sub, ":var3", ":var1", ":var2"),
    (call_script, "script_change_player_relation_with_faction", ":var0", ":var3"),
  ]),

  ("change_player_relation_with_faction_ex",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_relation, ":var2", ":var0", "$players_kingdom"),
    (assign, reg1, ":var2"),
    (val_add, ":var2", ":var1"),
    (assign, reg2, ":var2"),
    (set_relation, ":var0", "fac_player_faction", ":var2"),
    (set_relation, ":var0", "$players_kingdom", ":var2"),
    (str_store_faction_name_link, s1, ":var0"),
    (try_begin),
      (gt, ":var1", 0),
      (display_message, "str_faction_relation_increased", 0x50FF50),
    (else_try),
      (lt, ":var1", 0),
      (display_message, "str_faction_relation_detoriated", 0xFF5050),
    (try_end),
    (try_for_range, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var3", 21, 0),
      (neq, ":var0", ":var3"),
      (store_relation, ":var4", ":var0", ":var3"),
      (ge, ":var4", 30),
      (store_relation, ":var2", ":var3", "$players_kingdom"),
      (store_mul, ":var5", ":var1", ":var4"),
      (val_div, ":var5", 100),
      (val_add, ":var2", ":var5"),
      (set_relation, ":var3", "fac_player_faction", ":var2"),
      (set_relation, ":var3", "$players_kingdom", ":var2"),
    (try_end),
    (try_begin),
      (faction_slot_eq, "$players_kingdom", 21, 0),
      (try_for_range, ":var6", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var6", 21, 0),
        (call_script, "script_update_faction_notes", ":var6"),
      (try_end),
    (try_end),
  ]),

  ("cf_get_random_active_faction_except_player_faction_and_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (faction_get_slot, ":var2", ":var0", 102),
    (try_for_range, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neg|faction_slot_eq, ":var3", 11, "trp_player"),
      (neq, ":var3", ":var0"),
      (faction_slot_eq, ":var3", 21, 0),
      (val_add, ":var1", 1),
    (try_end),
    (gt, ":var1", 0),
    (assign, ":var4", -1),
    (store_random_in_range, ":var5", 0, ":var1"),
    (try_for_range, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (ge, ":var5", 0),
      (neg|faction_slot_eq, ":var3", 11, "trp_player"),
      (neq, ":var3", ":var0"),
      (faction_slot_eq, ":var3", 21, 0),
      (faction_slot_eq, ":var3", 102, ":var2"),
      (val_sub, ":var5", 1),
      (lt, ":var5", 0),
      (assign, ":var4", ":var3"),
    (try_end),
    (assign, reg0, ":var4"),
  ]),

  ("make_kingdom_hostile_to_player",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (lt, ":var1", 0),
      (store_relation, ":var2", ":var0", "$players_kingdom"),
      (val_min, ":var2", 0),
      (val_add, ":var2", ":var1"),
      (call_script, "script_set_player_relation_with_faction", ":var0", ":var2"),
    (try_end),
  ]),

  ("change_player_honor",
  [
    (store_script_param_1, ":var0"),
    (val_add, "$player_honor", ":var0"),
    (try_begin),
      (gt, ":var0", 0),
      (display_message, "@You gain honour.", 0x50FF50),
    (else_try),
      (lt, ":var0", 0),
      (display_message, "@You lose honour.", 0xFF5050),
    (try_end),
  ]),

  ("change_player_party_morale",
  [
    (store_script_param_1, ":var0"),
    (party_get_morale, ":var1", "p_main_party"),
    (val_clamp, ":var1", 0, "$g_party_max_morale"),
    (store_add, ":var2", ":var1", ":var0"),
    (val_clamp, ":var2", 0, "$g_party_max_morale"),
    (party_set_morale, "p_main_party", ":var2"),
    (try_begin),
      (lt, ":var2", ":var1"),
      (store_sub, reg1, ":var1", ":var2"),
      (display_message, "str_party_lost_morale", 0xFF5050),
    (else_try),
      (gt, ":var2", ":var1"),
      (store_sub, reg1, ":var2", ":var1"),
      (display_message, "str_party_gained_morale", 0x50FF50),
    (try_end),
  ]),

  ("cf_player_has_item_without_modifier",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (player_has_item, ":var0"),
    (assign, ":var2", 0),
    (troop_get_inventory_capacity, ":var3", "trp_player"),
    (try_for_range, ":var4", 0, ":var3"),
      (troop_get_inventory_slot, ":var5", "trp_player", ":var4"),
      (eq, ":var5", ":var0"),
      (troop_get_inventory_slot_modifier, ":var6", "trp_player", ":var4"),
      (neq, ":var6", ":var1"),
      (assign, ":var2", 1),
      (assign, ":var3", 0),
    (try_end),
    (eq, ":var2", 1),
  ]),

  ("get_player_party_morale_values",
  [
    (party_get_num_companion_stacks, ":var0", "p_main_party"),
    (assign, ":var1", 1),
    (assign, ":var2", 1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 1, ":var0"),
      (party_stack_get_troop_id, ":var5", "p_main_party", ":var4"),
      (store_character_level, ":var6", ":var5"),
      (try_begin),
        (troop_is_hero, ":var5"),
        (val_add, ":var1", 0),
        (val_add, ":var2", ":var6"),
        (val_add, ":var3", 1),
      (else_try),
        (eq, "$g_party_size_affects_morale", 1),
        (party_stack_get_size, ":var7", "p_main_party", ":var4"),
        (val_add, ":var1", ":var7"),
        (val_mul, ":var6", ":var7"),
        (val_add, ":var2", ":var6"),
      (try_end),
    (try_end),
    (assign, "$g_player_party_morale_modifier_party_size", ":var1"),
    (store_skill_level, ":var8", "skl_leadership", "trp_player"),
    (store_add, ":var9", ":var1", 5),
    (val_mul, ":var9", ":var9"),
    (val_mul, ":var9", 5),
    (val_div, ":var9", ":var2"),
    (try_begin),
      (store_mul, ":var10", ":var1", 2),
      (gt, ":var9", ":var10"),
      (assign, ":var9", ":var10"),
    (try_end),
    (val_mul, ":var3", 4),
    (assign, "$g_player_party_morale_modifier_party_size", ":var9"),
    (try_begin),
      (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (store_mul, "$g_player_party_morale_modifier_leadership", ":var8", "$g_party_morale_per_leadership_king"),
    (else_try),
      (store_mul, "$g_player_party_morale_modifier_leadership", ":var8", "$g_party_morale_per_leadership"),
    (try_end),
    (assign, ":var11", "$g_player_party_morale_modifier_leadership"),
    (val_sub, ":var11", "$g_player_party_morale_modifier_party_size"),
    (val_add, ":var11", 50),
    (val_add, ":var11", ":var3"),
    (assign, "$g_player_party_morale_modifier_food", 0),
    (try_for_range, ":var12", "itm_smoked_fish", "itm_siege_supply"),
      (call_script, "script_cf_player_has_item_without_modifier", ":var12", 41),
      (item_get_slot, ":var13", ":var12", 1),
      (val_mul, ":var13", 3),
      (val_div, ":var13", 2),
      (val_add, "$g_player_party_morale_modifier_food", ":var13"),
    (try_end),
    (val_add, ":var11", "$g_player_party_morale_modifier_food"),
    (try_begin),
      (eq, "$g_player_party_morale_modifier_food", 0),
      (assign, "$g_player_party_morale_modifier_no_food", 30),
      (val_sub, ":var11", "$g_player_party_morale_modifier_no_food"),
    (else_try),
      (assign, "$g_player_party_morale_modifier_no_food", 0),
    (try_end),
    (assign, "$g_player_party_morale_modifier_debt", 0),
    (try_begin),
      (gt, "$g_player_debt_to_party_members", 0),
      (call_script, "script_calculate_player_faction_wage"),
      (assign, ":var14", reg0),
      (store_mul, "$g_player_party_morale_modifier_debt", "$g_player_debt_to_party_members", 10),
      (val_max, ":var14", 1),
      (val_div, "$g_player_party_morale_modifier_debt", ":var14"),
      (val_clamp, "$g_player_party_morale_modifier_debt", 1, 31),
      (val_sub, ":var11", "$g_player_party_morale_modifier_debt"),
    (try_end),
    (val_clamp, ":var11", 0, "$g_party_max_morale"),
    (assign, reg0, ":var11"),
  ]),

  ("diplomacy_start_war_between_kingdoms",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (call_script, "script_npc_decision_checklist_peace_or_war", ":var0", ":var1", -1),
    (assign, ":var3", reg1),
    (try_begin),
      (eq, ":var0", "$players_kingdom"),
      (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (assign, ":var4", 90),
    (else_try),
      (eq, ":var3", "str_s12s15_declared_war_to_control_calradia"),
      (assign, ":var4", 90),
    (else_try),
      (eq, ":var3", "str_s12s15_considers_s16_to_be_dangerous_and_untrustworthy_and_shehe_wants_to_bring_s16_down"),
      (assign, ":var4", 91),
    (else_try),
      (eq, ":var3", "str_s12s15_considers_s16_to_be_dangerous_and_untrustworthy_and_shehe_wants_to_bring_s16_down"),
      (assign, ":var4", 91),
    (else_try),
      (eq, ":var3", "str_s12s15_is_anxious_to_reclaim_old_lands_such_as_s18_now_held_by_s16"),
      (assign, ":var4", 92),
    (else_try),
      (eq, ":var3", "str_s12s15_faces_too_much_internal_discontent_to_feel_comfortable_ignoring_recent_provocations_by_s16s_subjects"),
      (assign, ":var4", 94),
    (else_try),
      (eq, ":var3", "str_s12s15_is_alarmed_by_the_growing_power_of_s16"),
      (assign, ":var4", 93),
    (try_end),
    (call_script, "script_add_log_entry", ":var4", ":var0", 0, 0, ":var1"),
    (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var0", ":var1"),
    (assign, ":var5", reg0),
    (try_begin),
      (eq, ":var2", 1),
      (eq, ":var5", -1),
      (call_script, "script_faction_follows_controversial_policy", ":var0", 83),
    (else_try),
      (eq, ":var2", 1),
      (eq, ":var5", 0),
      (call_script, "script_faction_follows_controversial_policy", ":var0", 80),
    (else_try),
      (eq, ":var5", 1),
      (call_script, "script_faction_follows_controversial_policy", ":var0", 84),
    (try_end),
    (store_relation, ":var6", ":var0", ":var1"),
    (val_min, ":var6", -10),
    (val_add, ":var6", -30),
    (set_relation, ":var0", ":var1", ":var6"),
    (try_begin),
      (eq, "$players_kingdom", ":var0"),
      (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (store_relation, ":var6", "$players_kingdom", ":var1"),
      (val_min, ":var6", -40),
      (call_script, "script_set_player_relation_with_faction", ":var1", ":var6"),
    (else_try),
      (eq, "$players_kingdom", ":var1"),
      (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (store_relation, ":var6", "$players_kingdom", ":var0"),
      (val_min, ":var6", -40),
      (call_script, "script_set_player_relation_with_faction", ":var0", ":var6"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (str_store_faction_name_link, s1, ":var0"),
      (str_store_faction_name_link, s2, ":var1"),
      (display_log_message, "@{s1} has declared war against {s2}."),
      (store_current_hours, ":var7"),
      (faction_set_slot, ":var0", 98, ":var7"),
      (faction_set_slot, ":var1", 98, ":var7"),
      (store_add, ":var8", ":var1", 160),
      (store_add, ":var9", ":var1", 220),
      (val_sub, ":var8", "fac_player_supporters_faction"),
      (val_sub, ":var9", "fac_player_supporters_faction"),
      (faction_set_slot, ":var0", ":var8", 0),
      (faction_set_slot, ":var0", ":var9", 0),
      (store_add, ":var8", ":var0", 160),
      (store_add, ":var9", ":var0", 220),
      (val_sub, ":var8", "fac_player_supporters_faction"),
      (val_sub, ":var9", "fac_player_supporters_faction"),
      (faction_set_slot, ":var1", ":var8", 0),
      (faction_set_slot, ":var1", ":var9", 0),
      (try_begin),
        (this_or_next|eq, ":var0", "$players_kingdom"),
        (eq, ":var1", "$players_kingdom"),
        (call_script, "script_add_notification_menu", "mnu_notification_war_declared", ":var0", ":var1"),
      (try_end),
      (try_begin),
        (eq, ":var0", "$players_kingdom"),
        (call_script, "script_make_kingdom_hostile_to_player", ":var1", -3),
      (else_try),
        (eq, ":var1", "$players_kingdom"),
        (call_script, "script_make_kingdom_hostile_to_player", ":var0", -3),
      (try_end),
      (call_script, "script_update_faction_notes", ":var0"),
      (call_script, "script_update_faction_notes", ":var1"),
      (call_script, "script_recalculate_ais_for_faction", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var1"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_cause_provocation"),
      (neg|check_quest_succeeded, "qst_cause_provocation"),
      (quest_slot_eq, "qst_cause_provocation", 3, ":var1"),
      (call_script, "script_succeed_quest", "qst_cause_provocation", 0),
    (else_try),
      (check_quest_active, "qst_cause_provocation"),
      (neg|check_quest_succeeded, "qst_cause_provocation"),
      (quest_slot_eq, "qst_cause_provocation", 3, ":var0"),
      (call_script, "script_succeed_quest", "qst_cause_provocation", 0),
    (try_end),
  ]),

  ("diplomacy_party_attacks_neutral",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_faction_of_party, ":var2", ":var0"),
    (store_faction_of_party, ":var3", ":var1"),
    (party_stack_get_troop_id, ":var4", ":var0", 0),
    (try_begin),
      (eq, ":var0", "p_main_party"),
      (neq, ":var2", "fac_player_supporters_faction"),
      (assign, ":var2", "$players_kingdom"),
    (else_try),
      (eq, ":var0", "p_main_party"),
      (eq, ":var2", "fac_player_supporters_faction"),
    (try_end),
    (try_begin),
      (eq, ":var0", "p_main_party"),
      (store_relation, ":var5", ":var2", ":var3"),
      (ge, ":var5", 0),
      (call_script, "script_change_player_honor", -2),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_cause_provocation"),
      (quest_slot_eq, "qst_cause_provocation", 3, ":var3"),
      (quest_get_slot, ":var6", "qst_cause_provocation", 6),
      (store_faction_of_troop, ":var2", ":var6"),
      (call_script, "script_succeed_quest", "qst_cause_provocation"),
    (try_end),
    (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var2", ":var3"),
    (assign, ":var7", reg0),
    (try_begin),
      (eq, ":var2", "fac_player_supporters_faction"),
      (neg|faction_slot_eq, "fac_player_supporters_faction", 21, 0),
    (else_try),
      (eq, ":var7", -2),
    (else_try),
      (eq, ":var2", "fac_player_supporters_faction"),
      (faction_slot_eq, ":var2", 11, "trp_player"),
      (call_script, "script_faction_follows_controversial_policy", "$players_kingdom", 80),
    (else_try),
      (eq, ":var7", 1),
      (party_stack_get_troop_id, ":var8", ":var1", 0),
      (try_begin),
        (neg|is_between, ":var8", "trp_npc1", "trp_knight_1_1_wife"),
        (store_faction_of_party, ":var9", ":var1"),
        (faction_get_slot, ":var8", ":var9", 11),
      (try_end),
      (call_script, "script_add_log_entry", 77, ":var4", -1, ":var8", ":var2"),
    (else_try),
      (party_stack_get_troop_id, ":var8", ":var1", 0),
      (try_begin),
        (neg|is_between, ":var8", "trp_npc1", "trp_knight_1_1_wife"),
        (store_faction_of_party, ":var9", ":var1"),
        (faction_get_slot, ":var8", ":var9", 11),
      (try_end),
      (call_script, "script_add_log_entry", 76, ":var4", -1, ":var8", ":var2"),
    (try_end),
    (try_begin),
      (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
      (call_script, "script_add_log_entry", 1, ":var4", ":var1", -1, ":var3"),
    (else_try),
      (party_get_template_id, ":var10", ":var1"),
      (neq, ":var10", "pt_kingdom_hero_party"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_faction_name, s5, ":var3"),
        (display_message, "@{!}DEbug - {s5} caravan attacked"),
      (try_end),
      (call_script, "script_add_log_entry", 3, ":var4", -1, -1, ":var3"),
    (try_end),
    (store_add, ":var11", ":var2", 220),
    (val_sub, ":var11", "fac_player_supporters_faction"),
    (faction_set_slot, ":var3", ":var11", 0),
    (store_add, ":var12", ":var2", 220),
    (val_sub, ":var12", "fac_player_supporters_faction"),
    (try_begin),
      (neq, ":var7", -2),
      (faction_slot_eq, ":var3", ":var12", 0),
      (faction_set_slot, ":var3", ":var12", 30),
    (try_end),
  ]),

  ("party_calculate_and_set_nearby_friend_enemy_follower_strengths",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (store_faction_of_party, ":var4", ":var0"),
    (store_add, ":var5", "trp_knight_1_1_wife", 1),
    (try_for_range, ":var6", "trp_npc1", ":var5"),
      (troop_slot_eq, ":var6", 166, 1),
      (try_begin),
        (eq, ":var6", "trp_knight_1_1_wife"),
        (assign, ":var7", "trp_player"),
      (else_try),
        (assign, ":var7", ":var6"),
      (try_end),
      (troop_slot_eq, ":var7", 2, 2),
      (troop_get_slot, ":var8", ":var7", 10),
      (ge, ":var8", 0),
      (party_is_active, ":var8"),
      (store_faction_of_troop, ":var9", ":var7"),
      (store_relation, ":var10", ":var9", ":var4"),
      (this_or_next|neq, ":var10", 0),
      (eq, ":var9", ":var4"),
      (neq, ":var0", ":var8"),
      (party_get_slot, ":var11", ":var8", 56),
      (try_begin),
        (neg|is_between, ":var0", "p_town_1_1", "p_salt_mine"),
        (party_slot_eq, ":var8", 4, 11),
        (party_get_slot, ":var12", ":var8", 5),
        (eq, ":var12", ":var0"),
        (val_add, ":var1", ":var11"),
      (else_try),
        (store_distance_to_party_from_party, ":var13", ":var8", ":var0"),
        (lt, ":var13", 20),
        (try_begin),
          (lt, ":var13", 5),
          (assign, ":var14", ":var11"),
        (else_try),
          (lt, ":var13", 10),
          (store_div, ":var14", ":var11", 2),
        (else_try),
          (lt, ":var13", 15),
          (store_div, ":var14", ":var11", 4),
        (else_try),
          (store_div, ":var14", ":var11", 8),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var9", ":var4"),
          (gt, ":var10", 0),
          (val_add, ":var2", ":var14"),
        (else_try),
          (lt, ":var10", 0),
          (val_add, ":var3", ":var14"),
        (try_end),
      (try_end),
    (try_end),
    (party_set_slot, ":var0", 59, ":var1"),
    (party_set_slot, ":var0", 57, ":var2"),
    (party_set_slot, ":var0", 58, ":var3"),
  ]),

  ("init_ai_calculation",
  [
    (try_for_range, ":var0", "trp_npc1", "trp_heroes_end"),
      (troop_slot_eq, ":var0", 2, 2),
      (troop_get_slot, ":var1", ":var0", 10),
      (party_is_active, ":var1"),
      (store_faction_of_troop, ":var2", ":var0"),
      (eq, ":var2", "$g_recalculate_ais_cur_fac"),
      (call_script, "script_party_calculate_strength", ":var1", 0),
    (try_end),
    (call_script, "script_party_calculate_strength", "p_main_party", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var2", ":var3"),
      (eq, ":var2", "$g_recalculate_ais_cur_fac"),
      (call_script, "script_party_calculate_strength", ":var3", 0),
    (try_end),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var2", ":var3"),
      (eq, ":var2", "$g_recalculate_ais_cur_fac"),
      (call_script, "script_party_calculate_and_set_nearby_friend_enemy_follower_strengths", ":var3"),
    (try_end),
    (try_for_range, ":var0", "trp_npc1", "trp_heroes_end"),
      (troop_get_slot, ":var4", ":var0", 10),
      (gt, ":var4", 0),
      (party_is_active, ":var4"),
      (store_faction_of_troop, ":var2", ":var0"),
      (eq, ":var2", "$g_recalculate_ais_cur_fac"),
      (call_script, "script_party_calculate_and_set_nearby_friend_enemy_follower_strengths", ":var4"),
    (try_end),
    (call_script, "script_party_calculate_and_set_nearby_friend_enemy_follower_strengths", "p_main_party"),
  ]),

  ("recalculate_ais",
  [
    (call_script, "script_init_ai_calculation"),
    (assign, ":var0", "$g_recalculate_ais_cur_fac"),
    (try_begin),
      (assign, reg8, ":var0"),
      (faction_slot_eq, ":var0", 21, 0),
      (store_current_hours, ":var1"),
      (faction_set_slot, ":var0", 106, ":var1"),
      (call_script, "script_decide_faction_ai", ":var0"),
    (try_end),
    (try_for_range, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var2", 166, 1),
      (troop_slot_eq, ":var2", 2, 2),
      (store_faction_of_troop, ":var0", ":var2"),
      (eq, ":var0", "$g_recalculate_ais_cur_fac"),
      (call_script, "script_calculate_troop_ai", ":var2"),
    (try_end),
  ]),

  ("calculate_troop_ai",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (gt, ":var0", -1),
      (troop_slot_eq, ":var0", 2, 2),
      (neg|troop_slot_ge, ":var0", 8, 0),
      (troop_get_slot, ":var1", ":var0", 10),
      (gt, ":var1", 0),
      (party_is_active, ":var1"),
      (call_script, "script_npc_decision_checklist_party_ai", ":var0"),
      (call_script, "script_party_set_ai_state", ":var1", reg0, reg1),
    (try_end),
  ]),

  ("diplomacy_start_peace_between_kingdoms",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_relation, ":var3", ":var0", ":var1"),
    (val_max, ":var3", 0),
    (set_relation, ":var0", ":var1", ":var3"),
    (call_script, "script_exchange_prisoners_between_factions", ":var0", ":var1"),
    (try_begin),
      (eq, "$players_kingdom", ":var0"),
      (store_relation, ":var3", "$players_kingdom", ":var1"),
      (val_max, ":var3", 0),
      (call_script, "script_set_player_relation_with_faction", ":var1", ":var3"),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var1", "$players_kingdom"),
    (else_try),
      (eq, "$players_kingdom", ":var1"),
      (store_relation, ":var3", "$players_kingdom", ":var0"),
      (val_max, ":var3", 0),
      (call_script, "script_set_player_relation_with_faction", ":var0", ":var3"),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var0", "$players_kingdom"),
    (try_end),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var5", ":var4"),
      (this_or_next|eq, ":var5", ":var0"),
      (eq, ":var5", ":var1"),
      (party_get_slot, ":var6", ":var4", 54),
      (ge, ":var6", 0),
      (party_is_active, ":var6"),
      (store_faction_of_party, ":var7", ":var6"),
      (this_or_next|eq, ":var7", ":var0"),
      (eq, ":var7", ":var1"),
      (call_script, "script_lift_siege", ":var4", 0),
    (try_end),
    (try_begin),
      (this_or_next|eq, "$players_kingdom", ":var0"),
      (eq, "$players_kingdom", ":var1"),
      (ge, "$g_player_besiege_town", 0),
      (party_is_active, "$g_player_besiege_town"),
      (store_faction_of_party, ":var8", "$g_player_besiege_town"),
      (this_or_next|eq, ":var8", ":var0"),
      (eq, ":var8", ":var1"),
      (call_script, "script_lift_siege", "$g_player_besiege_town", 0),
      (assign, "$g_player_besiege_town", -1),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (str_store_faction_name_link, s1, ":var0"),
      (str_store_faction_name_link, s2, ":var1"),
      (display_log_message, "@{s1} and {s2} have made peace with each other.", 0x66CCFF),
      (try_begin),
        (this_or_next|eq, ":var0", "$players_kingdom"),
        (eq, ":var1", "$players_kingdom"),
        (call_script, "script_add_notification_menu", "mnu_notification_peace_declared", ":var0", ":var1"),
      (try_end),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var0", ":var1"),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var1", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var1"),
    (try_end),
    (try_begin),
      (store_add, ":var9", ":var0", 160),
      (val_sub, ":var9", "fac_player_supporters_faction"),
      (faction_set_slot, ":var1", ":var9", 20),
      (store_add, ":var9", ":var1", 160),
      (val_sub, ":var9", "fac_player_supporters_faction"),
      (faction_set_slot, ":var0", ":var9", 20),
      (store_add, ":var10", ":var1", 300),
      (val_sub, ":var10", "fac_player_supporters_faction"),
      (faction_set_slot, ":var0", ":var10", 0),
      (store_add, ":var11", ":var0", 300),
      (val_sub, ":var11", "fac_player_supporters_faction"),
      (faction_set_slot, ":var1", ":var11", 0),
    (try_end),
  ]),

  ("event_kingdom_make_peace_with_kingdom",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (check_quest_active, "qst_capture_prisoners"),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (quest_slot_eq, "qst_capture_prisoners", 3, ":var1"),
        (call_script, "script_cancel_quest", "qst_capture_prisoners"),
      (else_try),
        (eq, "$players_kingdom", ":var1"),
        (quest_slot_eq, "qst_capture_prisoners", 3, ":var0"),
        (call_script, "script_cancel_quest", "qst_capture_prisoners"),
      (try_end),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_capture_enemy_hero"),
      (try_begin),
        (eq, "$players_kingdom", ":var0"),
        (quest_slot_eq, "qst_capture_enemy_hero", 3, ":var1"),
        (call_script, "script_cancel_quest", "qst_capture_enemy_hero"),
      (else_try),
        (eq, "$players_kingdom", ":var1"),
        (quest_slot_eq, "qst_capture_enemy_hero", 3, ":var0"),
        (call_script, "script_cancel_quest", "qst_capture_enemy_hero"),
      (try_end),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_persuade_lords_to_make_peace"),
      (quest_get_slot, ":var2", "qst_persuade_lords_to_make_peace", 2),
      (quest_get_slot, ":var3", "qst_persuade_lords_to_make_peace", 4),
      (try_begin),
        (lt, ":var2", 0),
        (val_mul, ":var2", -1),
      (try_end),
      (try_begin),
        (lt, ":var3", 0),
        (val_mul, ":var3", -1),
      (try_end),
      (store_faction_of_troop, ":var4", ":var2"),
      (store_faction_of_troop, ":var5", ":var3"),
      (this_or_next|eq, ":var4", ":var0"),
      (eq, ":var5", ":var0"),
      (this_or_next|eq, ":var4", ":var1"),
      (eq, ":var5", ":var1"),
      (call_script, "script_cancel_quest", "qst_persuade_lords_to_make_peace"),
    (try_end),
    (try_begin),
      (this_or_next|faction_slot_eq, ":var1", 11, "trp_player"),
      (faction_slot_eq, ":var0", 11, "trp_player"),
      (call_script, "script_change_player_right_to_rule", 3),
    (try_end),
  ]),

  ("randomly_start_war_peace_new",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_begin),
      (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (assign, ":var1", 1),
    (try_end),
    (assign, ":var2", "$g_diplo_kingdom"),
    (try_begin),
      (faction_slot_eq, ":var2", 21, 0),
      (neg|faction_slot_eq, ":var2", 11, "trp_player"),
      (try_for_range, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (neq, ":var2", ":var3"),
        (faction_slot_eq, ":var3", 21, 0),
        (call_script, "script_npc_decision_checklist_peace_or_war", ":var2", ":var3", -1),
        (assign, ":var4", reg0),
        (store_relation, ":var5", ":var2", ":var3"),
        (call_script, "script_distance_between_factions", ":var2", ":var3"),
        (assign, ":var6", reg0),
        (try_begin),
          (lt, ":var5", 0),
          (this_or_next|faction_slot_eq, ":var3", 11, "trp_player"),
          (gt, ":var6", 0),
          (lt, ":var6", 30),
          (try_begin),
            (eq, ":var2", "$players_kingdom"),
            (assign, ":var1", 0),
          (try_end),
          (ge, ":var4", 1),
          (try_begin),
            (store_current_hours, ":var7"),
            (faction_get_slot, ":var8", ":var2", 98),
            (store_sub, ":var9", ":var7", ":var8"),
            (ge, ":var9", 96),
            (try_begin),
              (faction_slot_eq, ":var3", 11, "trp_player"),
              (store_mul, ":var10", ":var4", 2),
              (store_random_in_range, ":var11", 0, 20),
              (try_begin),
                (lt, ":var11", ":var10"),
                (call_script, "script_add_notification_menu", "mnu_question_peace_offer", ":var2", 0),
              (try_end),
            (else_try),
              (call_script, "script_npc_decision_checklist_peace_or_war", ":var3", ":var2", -1),
              (assign, ":var12", reg0),
              (ge, ":var12", 1),
              (store_mul, ":var10", ":var4", ":var12"),
              (store_random_in_range, ":var11", 0, 20),
              (lt, ":var11", ":var10"),
              (try_begin),
                (eq, "$g_include_diplo_explanation", 0),
                (assign, "$g_include_diplo_explanation", ":var2"),
                (str_store_string, s57, "str_s14"),
              (try_end),
              (call_script, "script_diplomacy_start_peace_between_kingdoms", ":var2", ":var3", ":var0"),
            (try_end),
          (try_end),
        (else_try),
          (gt, ":var5", -10),
          (gt, ":var6", 0),
          (lt, ":var6", 30),
          (call_script, "script_npc_decision_checklist_peace_or_war", ":var2", ":var3", -1),
          (le, reg0, 0),
          (assign, ":var13", reg0),
          (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var2", ":var3"),
          (le, reg0, 0),
          (val_add, ":var13", reg0),
          (val_sub, ":var13", 1),
          (val_add, ":var13", ":var0"),
          (store_mul, ":var14", ":var13", ":var13"),
          (store_random_in_range, ":var11", 0, 50),
          (try_for_range, ":var15", "fac_player_supporters_faction", "fac_kingdoms_end"),
            (neq, ":var15", ":var2"),
            (neq, ":var15", ":var3"),
            (faction_slot_eq, ":var15", 21, 0),
            (store_relation, ":var5", ":var3", ":var15"),
            (ge, ":var5", 0),
            (store_add, ":var16", ":var15", 160),
            (val_sub, ":var16", "fac_player_supporters_faction"),
            (faction_get_slot, ":var17", ":var3", ":var16"),
            (gt, ":var17", 40),
            (store_div, ":var18", ":var17", 20),
            (val_sub, ":var14", ":var18"),
          (try_end),
          (lt, ":var11", ":var14"),
          (try_begin),
            (eq, "$g_include_diplo_explanation", 0),
            (assign, "$g_include_diplo_explanation", ":var2"),
            (str_store_string, s57, "str_s14"),
          (try_end),
          (call_script, "script_diplomacy_start_war_between_kingdoms", ":var2", ":var3", ":var0"),
          (try_begin),
            (eq, ":var0", 0),
            (store_random_in_range, ":var19", 10, 120),
            (store_add, ":var20", ":var2", 300),
            (val_sub, ":var20", "fac_player_supporters_faction"),
            (faction_set_slot, ":var3", ":var20", ":var19"),
            (store_add, ":var20", ":var3", 300),
            (val_sub, ":var20", "fac_player_supporters_faction"),
            (faction_set_slot, ":var2", ":var20", ":var19"),
          (try_end),
        (else_try),
          (ge, ":var5", 0),
          (ge, ":var4", 1),
          (store_add, ":var21", ":var3", 460),
          (party_get_slot, ":var22", ":var2", ":var21"),
          (try_for_range, ":var15", "fac_player_supporters_faction", "fac_kingdoms_end"),
            (neq, ":var15", ":var2"),
            (neq, ":var15", ":var3"),
            (store_add, ":var23", ":var2", 160),
            (val_sub, ":var23", "fac_player_supporters_faction"),
            (faction_get_slot, ":var17", ":var15", ":var23"),
            (gt, ":var17", 10),
            (val_sub, ":var22", 1),
            (try_begin),
              (eq, "$cheat_mode", 1),
              (str_store_faction_name, s5, ":var2"),
              (str_store_faction_name, s6, ":var15"),
              (str_store_faction_name, s7, ":var3"),
              (display_message, "@{!}DEBUG: {s5} has truce with {s6}. Pact with {s7} is harder!"),
            (try_end),
          (try_end),
          (val_max, ":var22", 0),
          (store_random_in_range, ":var11", 0, 130),
          (le, ":var11", ":var22"),
          (store_add, ":var23", ":var2", 160),
          (val_sub, ":var23", "fac_player_supporters_faction"),
          (faction_get_slot, ":var17", ":var3", ":var23"),
          (store_random_in_range, ":var11", 0, 3),
          (assign, ":var24", 0),
          (try_begin),
            (is_between, ":var17", 0, 50),
            (ge, ":var5", 20),
            (try_begin),
              (le, ":var11", 0),
              (assign, ":var24", 1),
            (try_end),
          (else_try),
            (is_between, ":var17", 0, 10),
            (ge, ":var5", 10),
            (try_begin),
              (le, ":var11", 1),
              (assign, ":var24", 1),
            (try_end),
          (else_try),
            (assign, ":var24", 1),
          (try_end),
          (eq, ":var24", 1),
          (gt, ":var6", 0),
          (lt, ":var6", 30),
          (try_begin),
            (faction_slot_eq, ":var3", 11, "trp_player"),
            (ge, ":var4", 1),
            (try_begin),
              (is_between, ":var17", 20, 50),
              (ge, ":var5", 30),
              (faction_slot_eq, ":var2", 32, 1),
              (call_script, "script_add_notification_menu", "mnu_dplmc_question_alliance_offer", ":var2", 0),
            (else_try),
              (is_between, ":var17", 0, 30),
              (ge, ":var5", 20),
              (faction_slot_eq, ":var2", 32, 1),
              (call_script, "script_add_notification_menu", "mnu_dplmc_question_defensive_offer", ":var2", 0),
            (else_try),
              (is_between, ":var17", 0, 10),
              (ge, ":var5", 10),
              (faction_slot_eq, ":var2", 32, 1),
              (call_script, "script_add_notification_menu", "mnu_dplmc_question_trade_offer", ":var2", 0),
            (else_try),
              (eq, ":var17", 0),
              (ge, ":var5", 5),
              (call_script, "script_add_notification_menu", "mnu_dplmc_question_nonaggression_offer", ":var2", 0),
            (try_end),
          (else_try),
            (ge, ":var4", 1),
            (call_script, "script_npc_decision_checklist_peace_or_war", ":var3", ":var2", -1),
            (assign, ":var12", reg0),
            (ge, ":var12", 1),
            (try_begin),
              (is_between, ":var17", 20, 50),
              (ge, ":var5", 30),
              (call_script, "script_dplmc_start_alliance_between_kingdoms", ":var2", ":var3", ":var0"),
            (else_try),
              (is_between, ":var17", 0, 30),
              (ge, ":var5", 20),
              (call_script, "script_dplmc_start_defensive_between_kingdoms", ":var2", ":var3", ":var0"),
            (else_try),
              (is_between, ":var17", 0, 10),
              (ge, ":var5", 10),
              (call_script, "script_dplmc_start_trade_between_kingdoms", ":var2", ":var3", ":var0"),
            (else_try),
              (eq, ":var17", 0),
              (call_script, "script_dplmc_start_nonaggression_between_kingdoms", ":var2", ":var3", ":var0"),
            (try_end),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var1", 1),
      (val_add, "$players_kingdom_days_at_peace", 1),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (assign, reg3, "$players_kingdom_days_at_peace"),
        (display_message, "@{!}DEBUG -- Player's kingdom has had {reg3} days of peace"),
      (try_end),
    (else_try),
      (assign, "$players_kingdom_days_at_peace", 0),
    (try_end),
  ]),

  ("exchange_prisoners_between_factions",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", 0),
    (try_begin),
      (this_or_next|eq, "$players_kingdom", ":var0"),
      (eq, "$players_kingdom", ":var1"),
      (assign, ":var2", "fac_player_faction"),
      (assign, ":var3", "fac_player_supporters_faction"),
      (assign, ":var4", 1),
    (try_end),
    (try_for_parties, ":var5"),
      (store_faction_of_party, ":var6", ":var5"),
      (this_or_next|eq, ":var6", ":var0"),
      (this_or_next|eq, ":var6", ":var1"),
      (this_or_next|eq, ":var6", ":var2"),
      (eq, ":var6", ":var3"),
      (party_get_num_prisoner_stacks, ":var7", ":var5"),
      (try_for_range_backwards, ":var8", 0, ":var7"),
        (party_prisoner_stack_get_troop_id, ":var9", ":var5", ":var8"),
        (assign, ":var10", 0),
        (try_begin),
          (is_between, ":var9", "trp_npc1", "trp_kingdom_1_lord"),
          (eq, ":var4", 1),
          (assign, ":var10", 1),
        (else_try),
          (neg|is_between, ":var9", "trp_npc1", "trp_kingdom_1_lord"),
          (store_faction_of_troop, ":var11", ":var9"),
          (this_or_next|eq, ":var11", ":var0"),
          (this_or_next|eq, ":var11", ":var1"),
          (this_or_next|eq, ":var11", ":var2"),
          (eq, ":var11", ":var3"),
          (assign, ":var10", 1),
        (try_end),
        (eq, ":var10", 1),
        (try_begin),
          (troop_is_hero, ":var9"),
          (call_script, "script_remove_troop_from_prison", ":var9"),
        (try_end),
        (party_prisoner_stack_get_size, ":var12", ":var5", ":var8"),
        (party_remove_prisoners, ":var5", ":var9", ":var12"),
      (try_end),
    (try_end),
  ]),

  ("add_notification_menu",
  [
    (try_begin),
      (eq, "$g_infinite_camping", 0),
      (store_script_param, ":var0", 1),
      (store_script_param, ":var1", 2),
      (store_script_param, ":var2", 3),
      (assign, ":var3", 1),
      (try_for_range, ":var4", 0, ":var3"),
        (try_begin),
          (troop_slot_ge, "trp_notification_menu_types", ":var4", 1),
          (val_add, ":var3", 1),
        (else_try),
          (troop_set_slot, "trp_notification_menu_types", ":var4", ":var0"),
          (troop_set_slot, "trp_notification_menu_var1", ":var4", ":var1"),
          (troop_set_slot, "trp_notification_menu_var2", ":var4", ":var2"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("finish_quest",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (quest_get_slot, ":var2", ":var0", 6),
    (quest_get_slot, ":var3", ":var0", 20),
    (quest_get_slot, ":var4", ":var0", 21),
    (quest_get_slot, ":var5", ":var0", 22),
    (try_begin),
      (lt, ":var1", 100),
      (val_mul, ":var4", ":var1"),
      (val_div, ":var4", 100),
      (val_mul, ":var5", ":var1"),
      (val_div, ":var5", 100),
      (assign, ":var6", ":var1"),
      (val_sub, ":var6", 75),
      (val_mul, ":var3", ":var6"),
      (val_div, ":var3", 100),
    (else_try),
      (val_div, ":var3", 4),
      (val_add, ":var3", 1),
      (call_script, "script_change_player_relation_with_troop", ":var2", ":var3"),
    (try_end),
    (add_xp_as_reward, ":var4"),
    (call_script, "script_troop_add_gold", "trp_player", ":var5"),
    (call_script, "script_end_quest", ":var0"),
  ]),

  ("get_information_about_troops_position",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, reg3),
    (troop_get_type, reg4, ":var0"),
    (str_store_troop_name, s2, ":var0"),
    (assign, ":var1", 0),
    (try_begin),
      (troop_get_slot, ":var2", ":var0", 10),
      (gt, ":var2", 0),
      (call_script, "script_get_troop_attached_party", ":var0"),
      (assign, ":var3", reg0),
      (try_begin),
        (is_between, ":var3", "p_town_1_1", "p_salt_mine"),
        (str_store_party_name_link, s3, ":var3"),
        (str_store_string, s1, "@{s2} {reg3?was:is currently} at {s3}."),
        (assign, ":var1", 1),
      (else_try),
        (get_party_ai_behavior, ":var4", ":var2"),
        (eq, ":var4", 1),
        (get_party_ai_object, ":var5", ":var2"),
        (is_between, ":var5", "p_town_1_1", "p_salt_mine"),
        (call_script, "script_get_closest_center", ":var2"),
        (str_store_party_name_link, s4, reg0),
        (str_store_party_name_link, s3, ":var5"),
        (str_store_string, s1, "@{s2} {reg3?was:is} travelling to {s3} and {reg4?she:he} {reg3?was:should be} close to {s4}{reg3?: at the moment}."),
        (assign, ":var1", 1),
      (else_try),
        (call_script, "script_get_closest_center", ":var2"),
        (str_store_party_name_link, s3, reg0),
        (str_store_string, s1, "@{s2} {reg3?was:is} in the field and {reg4?she:he} {reg3?was:should be} close to {s3}{reg3?: at the moment}."),
        (assign, ":var1", 1),
      (try_end),
    (else_try),
      (troop_slot_ge, ":var0", 8, 0),
      (try_for_range, ":var3", "p_town_1_1", "p_village_1_1"),
        (party_count_prisoners_of_type, ":var6", ":var3", ":var0"),
        (gt, ":var6", 0),
        (assign, ":var1", 1),
        (str_store_party_name_link, s3, ":var3"),
        (str_store_string, s1, "@{s2} {reg3?was:is} being held captive at {s3}."),
      (try_end),
      (try_begin),
        (eq, ":var1", 0),
        (str_store_string, s1, "@{s2} {reg3?was:has been} taken captive by {reg4?her:his} enemies."),
        (assign, ":var1", 1),
      (try_end),
    (else_try),
      (troop_get_slot, ":var3", ":var0", 12),
      (gt, ":var3", 0),
      (is_between, ":var3", "p_town_1_1", "p_salt_mine"),
      (str_store_party_name_link, s3, ":var3"),
      (str_store_string, s1, "@{s2} {reg3?was:is currently} at {s3}."),
      (assign, ":var1", 1),
    (try_end),
    (try_begin),
      (eq, ":var1", 0),
      (str_store_string, s1, "@{reg3?{s2}'s location was unknown:I don't know where {s2} is}."),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("recruit_troop_as_companion",
  [
    (store_script_param_1, ":var0"),
    (troop_set_slot, ":var0", 2, 5),
    (troop_set_slot, ":var0", 159, -1),
    (troop_set_slot, ":var0", 12, -1),
    (troop_set_auto_equip, ":var0", 0),
    (party_add_members, "p_main_party", ":var0", 1),
    (str_store_troop_name, s6, ":var0"),
    (display_message, "@{s6} has joined your party.", 0xFFFF00),
    (troop_set_note_available, ":var0", 1),
    (try_begin),
      (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (store_sub, ":var1", ":var0", "trp_npc1"),
      (set_achievement_stat, 45, ":var1", 1),
      (assign, ":var2", 0),
      (try_for_range, ":var3", 0, 16),
        (get_achievement_stat, ":var4", 45, ":var3"),
        (eq, ":var4", 1),
        (val_add, ":var2", 1),
      (try_end),
      (try_begin),
        (ge, ":var2", 6),
        (unlock_achievement, 45),
      (try_end),
    (try_end),
  ]),

  ("setup_random_scene",
  [
    (party_get_current_terrain, ":var0", "p_main_party"),
    (assign, ":var1", "scn_random_scene"),
    (call_script, "script_get_closest_center", "p_main_party"),
    (party_get_slot, ":var2", reg0, 61),
    (try_begin),
      (eq, ":var0", 2),
      (assign, ":var1", "scn_random_scene_steppe"),
    (else_try),
      (eq, ":var0", 3),
      (assign, ":var1", "scn_random_scene_plain"),
    (else_try),
      (eq, ":var0", 4),
      (assign, ":var1", "scn_random_scene_snow"),
    (else_try),
      (eq, ":var0", 5),
      (assign, ":var1", "scn_random_scene_desert"),
    (else_try),
      (eq, ":var0", 10),
      (assign, ":var1", "scn_random_scene_steppe_forest"),
    (else_try),
      (eq, ":var0", 11),
      (assign, ":var1", "scn_random_scene_plain_forest"),
    (else_try),
      (eq, ":var0", 12),
      (assign, ":var1", "scn_random_scene_snow_forest"),
    (else_try),
      (eq, ":var0", 13),
      (assign, ":var1", "scn_random_scene_desert_forest"),
    (else_try),
      (eq, ":var0", 0),
      (assign, ":var1", "scn_water"),
    (else_try),
      (eq, ":var0", 7),
      (assign, ":var1", "scn_scene_sea"),
    (try_end),
    (try_begin),
      (assign, "$tom_generate_swamp", 0),
      (assign, "$tom_generate_desert", 0),
      (assign, "$tom_generate_desertv2", 0),
      (assign, "$tom_generate_desertv3", 0),
      (assign, "$tom_generate_iberian", 0),
      (assign, "$tom_generate_iberian2", 0),
      (assign, "$tom_generate_snow", 0),
      (eq, "$tom_use_battlefields", 1),
      (try_begin),
        (eq, ":var0", 11),
        (store_random_in_range, ":var3", 0, 101),
        (ge, ":var3", 60),
        (store_random_in_range, ":var1", "scn_1257_combat_swamp_0", "scn_1257_combat_rocky_desert_0"),
        (assign, "$tom_generate_swamp", 1),
      (try_end),
      (try_begin),
        (eq, ":var0", 4),
        (store_random_in_range, ":var3", 0, 101),
        (ge, ":var3", 20),
        (assign, "$tom_generate_snow", 1),
        (store_random_in_range, ":var1", "scn_1257_combat_snow_0", "scn_manor"),
      (try_end),
      (try_begin),
        (eq, ":var0", 12),
        (store_random_in_range, ":var3", 0, 101),
        (ge, ":var3", 20),
        (assign, "$tom_generate_snow", 2),
        (store_random_in_range, ":var1", "scn_1257_combat_snow_0", "scn_manor"),
      (try_end),
      (try_begin),
        (eq, ":var0", 3),
        (store_random_in_range, ":var3", 0, 101),
        (ge, ":var3", 80),
        (store_random_in_range, ":var1", "scn_1257_combat_euro_0", "scn_1257_combat_iberian_hillside_0"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var0", 5),
        (eq, ":var0", 13),
        (store_random_in_range, ":var3", 0, 101),
        (try_begin),
          (ge, ":var3", 80),
          (assign, "$tom_generate_desert", 1),
          (assign, ":var1", "scn_1257_combat_rocky_desert_0"),
        (else_try),
          (ge, ":var3", 30),
          (assign, "$tom_generate_desertv2", 1),
          (assign, ":var1", "scn_1257_combat_rocky_desert_0"),
        (try_end),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var0", 10),
        (eq, ":var0", 2),
        (try_begin),
          (this_or_next|eq, ":var2", "fac_kingdom_3"),
          (this_or_next|eq, ":var2", "fac_kingdom_5"),
          (eq, ":var2", "fac_kingdom_15"),
          (store_random_in_range, ":var1", "scn_1257_combat_steppe_0", "scn_1257_combat_euro_0"),
        (else_try),
          (eq, ":var0", 10),
          (assign, "$tom_generate_iberian2", 1),
          (assign, ":var1", "scn_1257_combat_iberian_0"),
        (else_try),
          (assign, "$tom_generate_iberian", 1),
          (assign, ":var1", "scn_1257_combat_iberian_0"),
        (try_end),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (party_get_position, pos15, "p_main_party"),
      (position_get_x, ":var4", pos15),
      (position_get_y, ":var5", pos15),
      (try_begin),
        (assign, ":var6", 0),
        (try_begin),
          (lt, ":var4", 18036),
          (lt, ":var5", -20834),
          (gt, ":var4", 15890),
          (gt, ":var5", -25502),
          (assign, ":var6", 1),
        (else_try),
          (lt, ":var4", 22720),
          (lt, ":var5", -18627),
          (gt, ":var4", 21597),
          (gt, ":var5", -20013),
          (assign, ":var6", 1),
        (try_end),
        (eq, ":var6", 1),
        (store_random_in_range, ":var1", "scn_sitd_battle_nile_1", "scn_1257_combat_snow_0"),
        (assign, "$tom_generate_desertv3", 1),
      (else_try),
        (lt, ":var4", -18195),
        (lt, ":var5", 13475),
        (gt, ":var4", -19389),
        (gt, ":var5", 10326),
        (store_random_in_range, ":var1", "scn_1257_combat_euro_hillside_0", "scn_1257_combat_euro_hillside_4"),
        (assign, "$tom_generate_euro_hillside", 1),
        (assign, "$tom_generate_iberian2", 0),
        (assign, "$tom_generate_iberian", 0),
        (assign, "$tom_generate_swamp", 0),
      (else_try),
        (lt, ":var4", 21714),
        (lt, ":var5", -13331),
        (gt, ":var4", 14265),
        (gt, ":var5", -14667),
        (store_random_in_range, ":var1", "scn_1257_combat_mountain_0", "scn_1257_combat_river_0"),
        (assign, "$tom_generate_iberian2", 0),
        (assign, "$tom_generate_iberian", 0),
        (assign, "$tom_generate_swamp", 0),
      (else_try),
        (lt, ":var4", 27256),
        (lt, ":var5", -7255),
        (gt, ":var4", 4818),
        (gt, ":var5", -14562),
        (store_random_in_range, ":var1", "scn_1257_combat_iberian_hillside_0", "scn_1257_combat_euro_hillside_0"),
        (try_begin),
          (this_or_next|eq, ":var0", 10),
          (eq, ":var0", 11),
          (assign, "$tom_generate_iberian2", 1),
          (assign, "$tom_generate_iberian", 0),
          (assign, "$tom_generate_swamp", 0),
        (else_try),
          (assign, "$tom_generate_iberian", 1),
          (assign, "$tom_generate_iberian2", 0),
          (assign, "$tom_generate_swamp", 0),
        (try_end),
      (else_try),
        (lt, ":var4", -1149),
        (lt, ":var5", -2543),
        (gt, ":var4", -5458),
        (gt, ":var5", -5934),
        (store_random_in_range, ":var1", "scn_1257_combat_iberian_hillside_0", "scn_1257_combat_euro_hillside_0"),
        (try_begin),
          (this_or_next|eq, ":var0", 10),
          (eq, ":var0", 11),
          (assign, "$tom_generate_iberian2", 1),
          (assign, "$tom_generate_iberian", 0),
          (assign, "$tom_generate_swamp", 0),
        (else_try),
          (assign, "$tom_generate_iberian", 1),
          (assign, "$tom_generate_iberian2", 0),
          (assign, "$tom_generate_swamp", 0),
        (try_end),
      (else_try),
        (lt, ":var4", 1953),
        (lt, ":var5", 405),
        (gt, ":var4", -8779),
        (gt, ":var5", -6290),
        (store_random_in_range, ":var1", "scn_1257_combat_mountain_0", "scn_1257_combat_river_0"),
        (assign, "$tom_generate_iberian2", 0),
        (assign, "$tom_generate_iberian", 0),
        (assign, "$tom_generate_swamp", 0),
      (else_try),
        (lt, ":var4", -9696),
        (lt, ":var5", -2732),
        (gt, ":var4", -11853),
        (gt, ":var5", -4263),
        (store_random_in_range, ":var1", "scn_1257_combat_mountain_0", "scn_1257_combat_river_0"),
        (assign, "$tom_generate_iberian2", 0),
        (assign, "$tom_generate_iberian", 0),
        (assign, "$tom_generate_swamp", 0),
      (else_try),
        (lt, ":var4", -11549),
        (lt, ":var5", -5660),
        (gt, ":var4", -16034),
        (gt, ":var5", -6883),
        (store_random_in_range, ":var1", "scn_1257_combat_mountain_0", "scn_1257_combat_river_0"),
        (assign, "$tom_generate_iberian2", 0),
        (assign, "$tom_generate_iberian", 0),
        (assign, "$tom_generate_swamp", 0),
      (else_try),
        (lt, ":var4", 10894),
        (lt, ":var5", 2023),
        (gt, ":var4", 4719),
        (gt, ":var5", 450),
        (store_random_in_range, ":var1", "scn_1257_combat_mountain_0", "scn_1257_combat_river_0"),
        (assign, "$tom_generate_iberian2", 0),
        (assign, "$tom_generate_iberian", 0),
        (assign, "$tom_generate_swamp", 0),
      (else_try),
        (lt, ":var4", 11784),
        (lt, ":var5", 253),
        (gt, ":var4", 8089),
        (gt, ":var5", -3882),
        (store_random_in_range, ":var1", "scn_1257_combat_mountain_3", "scn_1257_combat_mountain_4"),
        (assign, "$tom_generate_iberian2", 0),
        (assign, "$tom_generate_iberian", 0),
        (assign, "$tom_generate_swamp", 0),
      (else_try),
        (lt, ":var4", -17860),
        (lt, ":var5", -5638),
        (gt, ":var4", -21620),
        (gt, ":var5", -7779),
        (store_random_in_range, ":var1", "scn_1257_combat_iberian_hillside_0", "scn_1257_combat_euro_hillside_0"),
        (try_begin),
          (this_or_next|eq, ":var0", 10),
          (eq, ":var0", 11),
          (assign, "$tom_generate_iberian2", 1),
          (assign, "$tom_generate_iberian", 0),
          (assign, "$tom_generate_swamp", 0),
        (else_try),
          (assign, "$tom_generate_iberian", 1),
          (assign, "$tom_generate_iberian2", 0),
          (assign, "$tom_generate_swamp", 0),
        (try_end),
      (else_try),
        (lt, ":var4", -4636),
        (lt, ":var5", -6318),
        (gt, ":var4", -5807),
        (gt, ":var5", -8170),
        (store_random_in_range, ":var1", "scn_1257_combat_iberian_hillside_0", "scn_1257_combat_euro_hillside_0"),
        (try_begin),
          (this_or_next|eq, ":var0", 10),
          (eq, ":var0", 11),
          (assign, "$tom_generate_iberian2", 1),
          (assign, "$tom_generate_iberian", 0),
          (assign, "$tom_generate_swamp", 0),
        (else_try),
          (assign, "$tom_generate_iberian", 1),
          (assign, "$tom_generate_iberian2", 0),
          (assign, "$tom_generate_swamp", 0),
        (try_end),
      (else_try),
        (lt, ":var4", 439),
        (lt, ":var5", -5315),
        (gt, ":var4", -1729),
        (gt, ":var5", -8618),
        (store_random_in_range, ":var1", "scn_1257_combat_iberian_hillside_0", "scn_1257_combat_euro_hillside_0"),
        (try_begin),
          (this_or_next|eq, ":var0", 10),
          (eq, ":var0", 11),
          (assign, "$tom_generate_iberian2", 1),
        (else_try),
          (assign, "$tom_generate_iberian", 1),
        (try_end),
      (else_try),
        (lt, ":var4", 2532),
        (lt, ":var5", -8630),
        (gt, ":var4", 1002),
        (gt, ":var5", -11365),
        (store_random_in_range, ":var1", "scn_1257_combat_iberian_hillside_0", "scn_1257_combat_euro_hillside_0"),
        (try_begin),
          (this_or_next|eq, ":var0", 10),
          (eq, ":var0", 11),
          (assign, "$tom_generate_iberian2", 1),
          (assign, "$tom_generate_iberian", 0),
          (assign, "$tom_generate_swamp", 0),
        (else_try),
          (assign, "$tom_generate_iberian", 1),
          (assign, "$tom_generate_iberian2", 0),
          (assign, "$tom_generate_swamp", 0),
        (try_end),
      (else_try),
        (lt, ":var4", 954),
        (lt, ":var5", -12249),
        (gt, ":var4", -537),
        (gt, ":var5", -13150),
        (store_random_in_range, ":var1", "scn_1257_combat_iberian_hillside_0", "scn_1257_combat_euro_hillside_0"),
        (try_begin),
          (this_or_next|eq, ":var0", 10),
          (eq, ":var0", 11),
          (assign, "$tom_generate_iberian2", 1),
        (else_try),
          (assign, "$tom_generate_iberian", 1),
        (try_end),
      (try_end),
    (try_end),
    (jump_to_scene, ":var1"),
  ]),

  ("enter_dungeon",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (set_jump_mission, ":var1"),
    (mission_tpl_entry_set_override_flags, ":var1", 0, 256),
    (try_begin),
      (eq, "$sneaked_into_town", 1),
      (mission_tpl_entry_set_override_flags, ":var1", 0, 447),
      (mission_tpl_entry_clear_override_items, ":var1", 0),
      (mission_tpl_entry_add_override_item, ":var1", 0, "itm_pilgrim_hood"),
      (mission_tpl_entry_add_override_item, ":var1", 0, "itm_pilgrim_disguise"),
      (mission_tpl_entry_add_override_item, ":var1", 0, "itm_practice_staff"),
      (mission_tpl_entry_add_override_item, ":var1", 0, "itm_throwing_daggers"),
    (try_end),
    (party_get_slot, ":var2", ":var0", 12),
    (modify_visitors_at_site, ":var2"),
    (reset_visitors),
    (assign, ":var3", 16),
    (call_script, "script_get_heroes_attached_to_center_as_prisoner", ":var0", "p_temp_party"),
    (party_get_num_companion_stacks, ":var4", "p_temp_party"),
    (try_for_range, ":var5", 0, ":var4"),
      (party_stack_get_troop_id, ":var6", "p_temp_party", ":var5"),
      (assign, ":var7", 0),
      (try_begin),
        (party_slot_eq, ":var0", 7, "trp_player"),
      (else_try),
        (call_script, "script_cf_prisoner_offered_parole", ":var6"),
        (assign, ":var7", 1),
      (else_try),
        (assign, ":var7", 0),
      (try_end),
      (eq, ":var7", 0),
      (lt, ":var3", 32),
      (set_visitor, ":var3", ":var6"),
      (val_add, ":var3", 1),
    (try_end),
    (set_jump_entry, 0),
    (jump_to_scene, ":var2"),
    (scene_set_slot, ":var2", 0, 1),
    (change_screen_mission),
  ]),

  ("enter_court",
  [
    (store_script_param_1, ":var0"),
    (assign, "$talk_context", 1),
    (set_jump_mission, "mt_visit_town_castle"),
    (mission_tpl_entry_clear_override_items, "mt_visit_town_castle", 0),
    (party_get_slot, ":var1", ":var0", 11),
    (modify_visitors_at_site, ":var1"),
    (reset_visitors),
    (store_faction_of_party, ":var2", ":var0"),
    (try_begin),
      (assign, ":var3", -1),
      (party_slot_ge, ":var0", 7, 0),
      (party_get_slot, ":var4", ":var0", 7),
      (troop_get_slot, ":var5", ":var4", 165),
      (faction_get_slot, ":var3", ":var5", 52),
    (else_try),
      (assign, ":var3", "trp_euro_spearman_3"),
    (try_end),
    (try_begin),
      (le, ":var3", 0),
      (party_slot_ge, ":var0", 7, 0),
      (store_faction_of_party, ":var2", ":var0"),
      (faction_get_slot, ":var3", ":var2", 52),
    (try_end),
    (set_visitor, 6, ":var3"),
    (set_visitor, 7, ":var3"),
    (assign, ":var6", 16),
    (try_begin),
      (troop_get_slot, ":var7", "trp_player", 30),
      (gt, ":var7", 0),
      (troop_slot_eq, ":var7", 12, ":var0"),
      (set_visitor, ":var6", ":var7"),
      (val_add, ":var6", 1),
    (else_try),
      (troop_get_slot, ":var8", "trp_player", 34),
      (gt, ":var8", 0),
      (troop_slot_eq, ":var8", 12, ":var0"),
      (set_visitor, ":var6", ":var8"),
      (val_add, ":var6", 1),
    (try_end),
    (try_begin),
      (eq, "$g_player_court", ":var0"),
      (gt, "$g_player_minister", 0),
      (neg|troop_slot_eq, "trp_player", 30, "$g_player_minister"),
      (set_visitor, ":var6", "$g_player_minister"),
      (val_add, ":var6", 1),
    (try_end),
    (try_begin),
      (gt, "$g_player_chamberlain", 0),
      (assign, "$g_player_chamberlain", "trp_dplmc_chamberlain"),
      (party_get_slot, ":var4", ":var0", 7),
      (eq, ":var4", "trp_player"),
      (set_visitor, ":var6", "$g_player_chamberlain"),
      (val_add, ":var6", 1),
    (try_end),
    (try_begin),
      (gt, "$g_player_constable", 0),
      (assign, "$g_player_constable", "trp_dplmc_constable"),
      (party_get_slot, ":var4", ":var0", 7),
      (eq, ":var4", "trp_player"),
      (set_visitor, ":var6", "$g_player_constable"),
      (val_add, ":var6", 1),
    (try_end),
    (try_begin),
      (gt, "$g_player_chancellor", 0),
      (assign, "$g_player_chancellor", "trp_dplmc_chancellor"),
      (party_get_slot, ":var4", ":var0", 7),
      (eq, ":var4", "trp_player"),
      (set_visitor, ":var6", "$g_player_chancellor"),
      (val_add, ":var6", 1),
    (try_end),
    (try_begin),
      (eq, "$g_player_court", ":var0"),
      (faction_slot_eq, ":var2", 11, "trp_player"),
      (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var9", 166, 1),
        (store_faction_of_troop, ":var10", ":var9"),
        (eq, ":var10", "$players_kingdom"),
        (troop_slot_eq, ":var9", 2, 0),
        (neg|troop_slot_ge, ":var9", 8, 0),
        (neq, ":var9", "$g_player_minister"),
        (set_visitor, ":var6", ":var9"),
        (val_add, ":var6", 1),
      (try_end),
    (try_end),
    (call_script, "script_get_heroes_attached_to_center", ":var0", "p_temp_party"),
    (party_get_num_companion_stacks, ":var11", "p_temp_party"),
    (try_for_range, ":var12", 0, ":var11"),
      (party_stack_get_troop_id, ":var13", "p_temp_party", ":var12"),
      (gt, ":var13", 0),
      (lt, ":var6", 32),
      (set_visitor, ":var6", ":var13"),
      (val_add, ":var6", 1),
    (try_end),
    (try_for_range, ":var14", "trp_knight_1_1_wife", "trp_heroes_end"),
      (neq, ":var14", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var14", 12, ":var0"),
      (assign, ":var15", 0),
      (try_begin),
        (this_or_next|troop_slot_eq, "trp_player", 30, ":var14"),
        (this_or_next|troop_slot_eq, "trp_player", 34, ":var14"),
        (this_or_next|troop_slot_eq, ":var14", 30, "trp_player"),
        (troop_slot_eq, ":var14", 34, "trp_player"),
        (assign, ":var15", 0),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var14"),
          (display_message, "str_s4_is_present_at_the_center_and_in_place_of_honor"),
        (try_end),
      (else_try),
        (store_faction_of_troop, ":var16", ":var14"),
        (neq, ":var16", ":var2"),
        (assign, ":var15", 1),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var14"),
          (display_message, "str_s4_is_present_at_the_center_as_a_refugee"),
        (try_end),
      (else_try),
        (troop_slot_ge, ":var14", 30, 1),
        (try_begin),
          (faction_slot_eq, ":var2", 4, 6),
          (faction_slot_eq, ":var2", 5, ":var0"),
          (assign, ":var15", 0),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name, s4, ":var14"),
            (display_message, "str_s4_is_present_at_the_center_and_not_attending_the_feast"),
          (try_end),
        (else_try),
          (assign, ":var15", 1),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name, s4, ":var14"),
            (display_message, "str_s4_is_present_at_the_center_and_is_married"),
          (try_end),
        (try_end),
      (else_try),
        (faction_slot_eq, ":var2", 4, 6),
        (faction_slot_eq, ":var2", 5, ":var0"),
        (assign, ":var15", 1),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var14"),
          (display_message, "@{!}DEBUG -- {s4} is present at the center and is attending the feast"),
        (try_end),
      (else_try),
        (troop_slot_ge, ":var14", 5, 2),
        (assign, ":var15", 0),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var14"),
          (display_message, "@{!}DEBUG -- {s4} is present at the center and is awaiting the player in private"),
        (try_end),
      (else_try),
        (call_script, "script_get_kingdom_lady_social_determinants", ":var14"),
        (gt, reg0, -1),
        (call_script, "script_npc_decision_checklist_male_guardian_assess_suitor", reg0, "trp_player"),
        (gt, reg0, 0),
        (assign, ":var15", 1),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var14"),
          (display_message, "@{!}DEBUG -- {s4} is present at the center and is allowed to meet the player"),
        (try_end),
      (else_try),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var14"),
          (display_message, "@{!}DEBUG -- {s4}is present at the center and is not allowed to meet the player"),
        (try_end),
      (try_end),
      (eq, ":var15", 1),
      (lt, ":var6", 32),
      (set_visitor, ":var6", ":var14"),
      (val_add, ":var6", 1),
    (try_end),
    (set_jump_entry, 0),
    (jump_to_scene, ":var1"),
    (scene_set_slot, ":var1", 0, 1),
    (change_screen_mission),
  ]),

  ("setup_meet_lady",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_set_slot, ":var0", 38, "trp_player"),
    (set_jump_mission, "mt_visit_town_castle"),
    (party_get_slot, ":var2", ":var1", 11),
    (modify_visitors_at_site, ":var2"),
    (reset_visitors),
    (troop_set_age, "trp_nurse_for_lady", 100),
    (set_visitor, 7, "trp_nurse_for_lady"),
    (assign, ":var3", 16),
    (set_visitor, ":var3", ":var0"),
    (assign, "$talk_context", 16),
    (jump_to_scene, ":var2"),
    (scene_set_slot, ":var2", 0, 1),
    (change_screen_mission),
  ]),

  ("find_high_ground_around_pos1",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (val_mul, ":var1", 100),
    (get_scene_boundaries, pos10, pos11),
    (team_get_leader, ":var2", ":var0"),
    (agent_get_position, pos1, ":var2"),
    (set_fixed_point_multiplier, 100),
    (position_get_x, ":var3", pos1),
    (position_get_y, ":var4", pos1),
    (store_sub, ":var5", ":var3", ":var1"),
    (store_sub, ":var6", ":var4", ":var1"),
    (store_add, ":var7", ":var3", ":var1"),
    (store_add, ":var8", ":var4", ":var1"),
    (position_get_x, ":var9", pos10),
    (position_get_x, ":var10", pos11),
    (position_get_y, ":var11", pos10),
    (position_get_y, ":var12", pos11),
    (val_add, ":var9", 2000),
    (val_sub, ":var10", 2000),
    (val_add, ":var11", 2000),
    (val_sub, ":var12", 2000),
    (val_max, ":var5", ":var9"),
    (val_max, ":var6", ":var11"),
    (val_min, ":var7", ":var10"),
    (val_min, ":var8", ":var12"),
    (store_div, ":var13", ":var5", 100),
    (store_div, ":var14", ":var6", 100),
    (store_div, ":var15", ":var7", 100),
    (store_div, ":var16", ":var8", 100),
    (assign, ":var17", -10000),
    (copy_position, 52, 1),
    (init_position, pos15),
    (try_for_range, ":var18", ":var13", ":var15"),
      (store_mul, ":var19", ":var18", 100),
      (try_for_range, ":var20", ":var14", ":var16"),
        (store_mul, ":var21", ":var20", 100),
        (position_set_x, pos15, ":var19"),
        (position_set_y, pos15, ":var21"),
        (position_set_z, pos15, 10000),
        (position_set_z_to_ground_level, pos15),
        (position_get_z, ":var22", pos15),
        (try_begin),
          (gt, ":var22", ":var17"),
          (copy_position, 52, 15),
          (assign, ":var17", ":var22"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("select_battle_tactic",
  [
    (assign, "$ai_team_1_battle_tactic", 0),
    (get_player_agent_no, ":var0"),
    (agent_get_team, ":var1", ":var0"),
    (try_begin),
      (num_active_teams_le, 2),
      (try_begin),
        (eq, ":var1", 0),
        (assign, "$ai_team_1", 1),
      (else_try),
        (assign, "$ai_team_1", 0),
      (try_end),
      (assign, "$ai_team_2", -1),
    (else_try),
      (try_begin),
        (eq, ":var1", 0),
        (assign, "$ai_team_1", 1),
      (else_try),
        (assign, "$ai_team_1", 0),
      (try_end),
      (store_add, "$ai_team_2", ":var1", 2),
    (try_end),
    (call_script, "script_select_battle_tactic_aux", "$ai_team_1", 0),
    (assign, "$ai_team_1_battle_tactic", reg0),
    (try_begin),
      (ge, "$ai_team_2", 0),
      (assign, ":var2", 0),
      (try_begin),
        (eq, "$ai_team_1_battle_tactic", 1),
        (assign, ":var2", 1),
      (try_end),
      (call_script, "script_select_battle_tactic_aux", "$ai_team_2", ":var2"),
      (assign, "$ai_team_2_battle_tactic", reg0),
    (try_end),
  ]),

  ("select_battle_tactic_aux",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (get_player_agent_no, ":var3"),
    (agent_get_team, ":var4", ":var3"),
    (try_begin),
      (eq, "$cant_leave_encounter", 1),
      (teams_are_enemies, ":var0", ":var4"),
      (assign, ":var1", 1),
    (try_end),
    (call_script, "script_team_get_class_percentages", ":var0", 0),
    (assign, ":var5", reg1),
    (assign, ":var6", reg2),
    (call_script, "script_team_get_class_percentages", ":var0", 1),
    (store_random_in_range, ":var7", 0, 100),
    (try_begin),
      (assign, ":var8", 0),
      (try_begin),
        (teams_are_enemies, ":var0", ":var4"),
        (party_slot_eq, "$g_enemy_party", 0, 13),
        (assign, ":var8", 1),
      (else_try),
        (neg|teams_are_enemies, ":var0", ":var4"),
        (gt, "$g_ally_party", 0),
        (party_slot_eq, "$g_ally_party", 0, 13),
        (assign, ":var8", 1),
      (try_end),
      (eq, ":var8", 1),
      (store_faction_of_party, ":var9", "$g_enemy_party"),
      (neq, ":var9", "fac_kingdom_3"),
      (neq, ":var9", "fac_kingdom_27"),
      (try_begin),
        (eq, ":var1", 0),
        (gt, ":var5", 50),
        (lt, ":var6", 35),
        (assign, ":var2", 1),
      (else_try),
        (lt, ":var7", 80),
        (assign, ":var2", 2),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("battle_tactic_init",
  [
    (call_script, "script_battle_tactic_init_aux", "$ai_team_1", "$ai_team_1_battle_tactic"),
    (try_begin),
      (ge, "$ai_team_2", 0),
      (call_script, "script_battle_tactic_init_aux", "$ai_team_2", "$ai_team_2_battle_tactic"),
    (try_end),
    (try_for_agents, ":var0"),
      (agent_set_slot, ":var0", 15, 0),
    (try_end),
  ]),

  ("orig_battle_tactic_init_aux",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (team_get_leader, ":var2", ":var0"),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (try_for_agents, ":var5"),
      (agent_get_team, ":var6", ":var5"),
      (agent_get_class, ":var7", ":var5"),
      (try_begin),
        (eq, ":var6", ":var0"),
        (try_begin),
          (eq, ":var7", 1),
          (val_add, ":var3", 1),
        (else_try),
          (val_add, ":var4", 1),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (ge, ":var3", 60),
      (team_give_order, ":var0", 1, 24),
      (team_give_order, ":var0", 1, 5),
    (else_try),
      (is_between, ":var3", 40, 60),
      (team_give_order, ":var0", 1, 23),
      (team_give_order, ":var0", 1, 5),
    (else_try),
      (team_give_order, ":var0", 1, 5),
    (try_end),
    (try_begin),
      (ge, ":var4", 96),
      (team_give_order, ":var0", 9, 26),
    (else_try),
      (is_between, ":var4", 68, 96),
      (team_give_order, ":var0", 9, 25),
    (else_try),
      (is_between, ":var4", 48, 68),
      (team_give_order, ":var0", 9, 24),
    (else_try),
      (is_between, ":var4", 32, 48),
      (team_give_order, ":var0", 9, 23),
    (try_end),
    (try_begin),
      (eq, ":var1", 1),
      (agent_get_position, pos1, ":var2"),
      (call_script, "script_find_high_ground_around_pos1", ":var0", 30),
      (copy_position, 1, 52),
      (call_script, "script_find_high_ground_around_pos1", ":var0", 30),
      (copy_position, 1, 52),
      (call_script, "script_find_high_ground_around_pos1", ":var0", 30),
      (team_give_order, ":var0", 9, 0),
      (team_set_order_position, ":var0", 9, pos52),
      (team_give_order, ":var0", 1, 5),
      (team_give_order, ":var0", 1, 5),
    (else_try),
      (eq, ":var1", 2),
      (team_get_leader, ":var2", ":var0"),
      (ge, ":var2", 0),
      (agent_set_speed_limit, ":var2", 8),
      (agent_get_position, pos60, ":var2"),
      (team_give_order, ":var0", 9, 0),
      (team_set_order_position, ":var0", 9, pos60),
    (try_end),
  ]),

  ("calculate_team_powers",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (assign, ":var1", 0),
      (agent_is_ally, ":var0"),
      (assign, ":var1", 1),
    (try_end),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_for_agents, ":var4"),
      (agent_is_human, ":var4"),
      (agent_is_alive, ":var4"),
      (try_begin),
        (assign, ":var5", 0),
        (agent_is_ally, ":var4"),
        (assign, ":var5", 1),
      (try_end),
      (try_begin),
        (agent_get_horse, ":var6", ":var4"),
        (neq, ":var6", -1),
        (assign, ":var7", 2),
      (else_try),
        (assign, ":var7", 1),
      (try_end),
      (try_begin),
        (eq, ":var1", ":var5"),
        (val_add, ":var2", ":var7"),
      (else_try),
        (val_add, ":var3", ":var7"),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
    (assign, reg1, ":var3"),
  ]),

  ("apply_effect_of_other_people_on_courage_scores",
  [
    (get_player_agent_no, ":var0"),
    (try_for_agents, ":var1"),
      (agent_is_human, ":var1"),
      (agent_is_alive, ":var1"),
      (neq, ":var1", ":var0"),
      (agent_get_position, pos0, ":var1"),
      (try_begin),
        (agent_is_ally, ":var1"),
        (assign, ":var2", 1),
      (else_try),
        (assign, ":var2", 0),
      (try_end),
      (try_for_agents, ":var3"),
        (agent_is_human, ":var3"),
        (agent_is_alive, ":var3"),
        (neq, ":var1", ":var3"),
        (try_begin),
          (agent_is_ally, ":var3"),
          (assign, ":var4", 1),
        (else_try),
          (assign, ":var4", 0),
        (try_end),
        (eq, ":var2", ":var4"),
        (agent_get_slot, ":var5", ":var3", 15),
        (try_begin),
          (eq, ":var3", ":var0"),
          (assign, ":var6", 6),
        (else_try),
          (agent_get_troop_id, ":var7", ":var3"),
          (troop_is_hero, ":var7"),
          (try_begin),
            (neq, ":var5", 1),
            (store_agent_hit_points, ":var8", ":var3"),
            (try_begin),
              (eq, ":var8", 100),
              (assign, ":var6", 6),
            (else_try),
              (ge, ":var8", 75),
              (assign, ":var6", 5),
            (else_try),
              (ge, ":var8", 60),
              (assign, ":var6", 4),
            (else_try),
              (ge, ":var8", 45),
              (assign, ":var6", 3),
            (else_try),
              (ge, ":var8", 30),
              (assign, ":var6", 2),
            (else_try),
              (ge, ":var8", 15),
              (assign, ":var6", 1),
            (try_end),
          (else_try),
            (assign, ":var6", 4),
          (try_end),
        (else_try),
          (try_begin),
            (neq, ":var5", 1),
            (store_agent_hit_points, ":var8", ":var3"),
            (try_begin),
              (eq, ":var8", 100),
              (assign, ":var6", 4),
            (else_try),
              (ge, ":var8", 75),
              (assign, ":var6", 3),
            (else_try),
              (ge, ":var8", 50),
              (assign, ":var6", 2),
            (else_try),
              (ge, ":var8", 25),
              (assign, ":var6", 1),
            (try_end),
            (try_begin),
              (agent_is_ally, ":var3"),
              (val_sub, ":var6", 1),
            (try_end),
          (else_try),
            (assign, ":var6", 2),
          (try_end),
        (try_end),
        (try_begin),
          (neq, ":var5", 1),
          (val_mul, ":var6", 1),
          (try_begin),
            (agent_get_slot, ":var5", ":var1", 15),
            (eq, ":var5", 0),
            (val_mul, ":var6", 0),
          (try_end),
        (else_try),
          (try_begin),
            (agent_get_slot, ":var5", ":var3", 15),
            (eq, ":var5", 0),
            (val_mul, ":var6", -2),
          (else_try),
            (val_mul, ":var6", -1),
          (try_end),
        (try_end),
        (neq, ":var6", 0),
        (agent_get_position, pos1, ":var3"),
        (get_distance_between_positions, ":var9", pos0, pos1),
        (try_begin),
          (ge, ":var6", 0),
          (try_begin),
            (lt, ":var9", 2000),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 50),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 4000),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 40),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 7000),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 30),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 11000),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 20),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 16000),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 10),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (try_end),
        (else_try),
          (try_begin),
            (lt, ":var9", 200),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 15),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 400),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 13),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 600),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 11),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 800),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 9),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 1200),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 7),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 2400),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 5),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 4800),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 3),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (else_try),
            (lt, ":var9", 9600),
            (agent_get_slot, ":var10", ":var1", 16),
            (val_mul, ":var6", 1),
            (val_add, ":var10", ":var6"),
            (agent_set_slot, ":var1", 16, ":var10"),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("apply_death_effect_on_courage_scores",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (agent_is_human, ":var0"),
      (try_begin),
        (agent_is_ally, ":var0"),
        (assign, ":var2", 1),
      (else_try),
        (assign, ":var2", 0),
      (try_end),
      (agent_get_position, pos0, ":var0"),
      (assign, ":var3", 0),
      (try_for_agents, ":var4"),
        (agent_is_human, ":var4"),
        (agent_is_alive, ":var4"),
        (agent_get_position, pos1, ":var4"),
        (get_distance_between_positions, ":var5", pos0, pos1),
        (le, ":var5", 1300),
        (try_begin),
          (agent_is_ally, ":var4"),
          (assign, ":var6", 1),
        (else_try),
          (assign, ":var6", 0),
        (try_end),
        (try_begin),
          (eq, ":var2", ":var6"),
          (val_add, ":var3", 1),
        (try_end),
      (try_end),
      (try_for_agents, ":var4"),
        (agent_is_human, ":var4"),
        (agent_is_alive, ":var4"),
        (try_begin),
          (agent_is_ally, ":var4"),
          (assign, ":var6", 1),
        (else_try),
          (assign, ":var6", 0),
        (try_end),
        (try_begin),
          (neq, ":var2", ":var6"),
          (assign, ":var7", 10),
        (else_try),
          (assign, ":var7", -15),
          (val_add, ":var7", ":var3"),
          (try_begin),
            (gt, ":var7", -5),
            (assign, ":var7", -5),
          (try_end),
          (agent_get_slot, ":var8", ":var0", 15),
          (try_begin),
            (eq, ":var8", 1),
            (val_div, ":var7", 3),
          (try_end),
        (try_end),
        (agent_get_position, pos1, ":var4"),
        (get_distance_between_positions, ":var5", pos0, pos1),
        (try_begin),
          (eq, ":var1", ":var4"),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 20),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (try_end),
        (try_begin),
          (lt, ":var5", 100),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 150),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 200),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 120),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 300),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 100),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 400),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 90),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 600),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 80),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 800),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 70),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 1000),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 60),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 1500),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 50),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 2500),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 40),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 4000),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 30),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 6500),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 20),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (else_try),
          (lt, ":var5", 10000),
          (agent_get_slot, ":var9", ":var4", 16),
          (val_mul, ":var7", 10),
          (val_add, ":var9", ":var7"),
          (agent_set_slot, ":var4", 16, ":var9"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("orig_decide_run_away_or_not",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (agent_get_team, ":var3", ":var0"),
    (agent_get_division, ":var4", ":var0"),
    (try_begin),
      (lt, ":var4", 9),
      (team_get_movement_order, ":var5", ":var3", ":var4"),
      (eq, ":var5", 14),
      (assign, ":var2", 1),
    (try_end),
    (agent_get_slot, ":var6", ":var0", 15),
    (try_begin),
      (eq, ":var6", 0),
      (try_begin),
        (eq, ":var2", 1),
        (agent_clear_scripted_mode, ":var0"),
        (agent_start_running_away, ":var0"),
        (agent_set_slot, ":var0", 15, 1),
      (else_try),
        (ge, ":var1", 45),
        (agent_get_slot, ":var7", ":var0", 16),
        (store_agent_hit_points, ":var8", ":var0"),
        (val_mul, ":var8", 4),
        (try_begin),
          (agent_is_ally, ":var0"),
          (val_sub, ":var8", 100),
        (try_end),
        (val_mul, ":var8", 10),
        (store_sub, ":var9", 3500, ":var8"),
        (lt, ":var7", ":var9"),
        (agent_get_troop_id, ":var10", ":var0"),
        (neg|troop_is_hero, ":var10"),
        (agent_clear_scripted_mode, ":var0"),
        (agent_start_running_away, ":var0"),
        (agent_set_slot, ":var0", 15, 1),
      (try_end),
    (else_try),
      (neq, ":var2", 1),
      (agent_get_slot, ":var7", ":var0", 16),
      (store_agent_hit_points, ":var8", ":var0"),
      (val_mul, ":var8", 4),
      (try_begin),
        (agent_is_ally, ":var0"),
        (val_sub, ":var8", 100),
      (try_end),
      (val_mul, ":var8", 10),
      (store_sub, ":var11", 3700, ":var8"),
      (ge, ":var7", ":var11"),
      (agent_stop_running_away, ":var0"),
      (agent_set_slot, ":var0", 15, 0),
    (try_end),
  ]),

  ("battle_tactic_apply",
  [
    (call_script, "script_battle_tactic_apply_aux", "$ai_team_1", "$ai_team_1_battle_tactic"),
    (assign, "$ai_team_1_battle_tactic", reg0),
    (try_begin),
      (ge, "$ai_team_2", 0),
      (call_script, "script_battle_tactic_apply_aux", "$ai_team_2", "$ai_team_2_battle_tactic"),
      (assign, "$ai_team_2_battle_tactic", reg0),
    (try_end),
  ]),

  ("orig_battle_tactic_apply_aux",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_mission_timer_a, ":var2"),
    (try_begin),
      (eq, ":var1", 1),
      (copy_position, 1, 52),
      (call_script, "script_get_closest3_distance_of_enemies_at_pos1", ":var0", 1),
      (assign, ":var3", reg0),
      (assign, ":var4", reg1),
      (try_begin),
        (this_or_next|lt, ":var4", 1000),
        (lt, ":var3", 4000),
        (assign, ":var1", 0),
        (team_give_order, ":var0", 9, 2),
      (try_end),
    (else_try),
      (eq, ":var1", 2),
      (team_get_leader, ":var5", ":var0"),
      (try_begin),
        (ge, ":var5", 0),
        (agent_is_alive, ":var5"),
        (agent_set_speed_limit, ":var5", 9),
        (call_script, "script_team_get_average_position_of_enemies", ":var0"),
        (copy_position, 60, 0),
        (agent_get_position, pos61, ":var5"),
        (position_transform_position_to_local, pos62, pos61, pos60),
        (position_normalize_origin, ":var6", pos62),
        (convert_from_fixed_point, ":var6"),
        (assign, reg17, ":var6"),
        (position_get_x, ":var7", pos62),
        (position_get_y, ":var8", pos62),
        (val_mul, ":var7", 23),
        (val_mul, ":var8", 23),
        (position_set_x, pos62, ":var7"),
        (position_set_y, pos62, ":var8"),
        (position_transform_position_to_parent, pos63, pos61, pos62),
        (position_set_z_to_ground_level, pos63),
        (team_give_order, ":var0", 9, 0),
        (team_set_order_position, ":var0", 9, pos63),
        (agent_get_position, pos1, ":var5"),
        (try_begin),
          (lt, ":var6", 50),
          (ge, ":var2", 30),
          (assign, ":var1", 0),
          (team_give_order, ":var0", 9, 2),
          (agent_set_speed_limit, ":var5", 60),
        (try_end),
      (else_try),
        (assign, ":var1", 0),
        (team_give_order, ":var0", 9, 2),
      (try_end),
    (try_end),
    (try_begin),
      (neq, ":var1", 0),
      (ge, ":var2", 300),
      (assign, ":var1", 0),
      (team_give_order, ":var0", 9, 2),
      (team_get_leader, ":var5", ":var0"),
      (agent_set_speed_limit, ":var5", 60),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("team_get_class_percentages",
  [
    (assign, ":var0", 0),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (store_script_param, ":var4", 1),
    (store_script_param, ":var5", 2),
    (try_for_agents, ":var6"),
      (agent_is_alive, ":var6"),
      (agent_is_human, ":var6"),
      (agent_get_team, ":var7", ":var6"),
      (assign, ":var8", 0),
      (try_begin),
        (eq, ":var5", 1),
        (teams_are_enemies, ":var7", ":var4"),
        (assign, ":var8", 1),
      (else_try),
        (eq, ":var7", ":var4"),
        (assign, ":var8", 1),
      (try_end),
      (eq, ":var8", 1),
      (val_add, ":var3", 1),
      (agent_get_class, ":var9", ":var6"),
      (try_begin),
        (eq, ":var9", 0),
        (val_add, ":var0", 1),
      (else_try),
        (eq, ":var9", 1),
        (val_add, ":var1", 1),
      (else_try),
        (eq, ":var9", 2),
        (val_add, ":var2", 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var3", 0),
      (assign, ":var3", 1),
    (try_end),
    (store_mul, ":var10", ":var0", 100),
    (val_div, ":var10", ":var3"),
    (store_mul, ":var11", ":var1", 100),
    (val_div, ":var11", ":var3"),
    (store_mul, ":var12", ":var2", 100),
    (val_div, ":var12", ":var3"),
    (assign, reg0, ":var10"),
    (assign, reg1, ":var11"),
    (assign, reg2, ":var12"),
  ]),

  ("get_closest3_distance_of_enemies_at_pos1",
  [
    (assign, ":var0", 100000),
    (assign, ":var1", 100000),
    (assign, ":var2", 100000),
    (assign, ":var3", -1),
    (store_script_param, ":var4", 1),
    (try_for_agents, ":var5"),
      (agent_is_alive, ":var5"),
      (agent_is_human, ":var5"),
      (agent_get_team, ":var6", ":var5"),
      (teams_are_enemies, ":var6", ":var4"),
      (agent_get_position, pos2, ":var5"),
      (get_distance_between_positions, ":var7", pos2, pos1),
      (try_begin),
        (lt, ":var7", ":var0"),
        (assign, ":var2", ":var1"),
        (assign, ":var1", ":var0"),
        (assign, ":var0", ":var7"),
        (assign, ":var3", ":var5"),
      (else_try),
        (lt, ":var7", ":var1"),
        (assign, ":var2", ":var1"),
        (assign, ":var1", ":var7"),
      (else_try),
        (lt, ":var7", ":var2"),
        (assign, ":var2", ":var7"),
      (try_end),
    (try_end),
    (assign, ":var8", 0),
    (assign, ":var9", 0),
    (try_begin),
      (lt, ":var0", 100000),
      (val_add, ":var8", ":var0"),
      (val_add, ":var9", 1),
    (try_end),
    (try_begin),
      (lt, ":var1", 100000),
      (val_add, ":var8", ":var1"),
      (val_add, ":var9", 1),
    (try_end),
    (try_begin),
      (lt, ":var2", 100000),
      (val_add, ":var8", ":var2"),
      (val_add, ":var9", 1),
    (try_end),
    (assign, ":var10", 100000),
    (try_begin),
      (gt, ":var9", 0),
      (store_div, ":var10", ":var8", ":var9"),
    (try_end),
    (assign, reg0, ":var10"),
    (assign, reg1, ":var0"),
    (assign, reg2, ":var1"),
    (assign, reg3, ":var2"),
    (assign, reg4, ":var3"),
  ]),

  ("team_get_average_position_of_enemies",
  [
    (store_script_param_1, ":var0"),
    (init_position, pos0),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (try_for_agents, ":var5"),
      (agent_is_alive, ":var5"),
      (agent_is_human, ":var5"),
      (agent_get_team, ":var6", ":var5"),
      (teams_are_enemies, ":var0", ":var6"),
      (agent_get_position, pos62, ":var5"),
      (position_get_x, ":var7", pos62),
      (position_get_y, ":var8", pos62),
      (position_get_z, ":var9", pos62),
      (val_add, ":var2", ":var7"),
      (val_add, ":var3", ":var8"),
      (val_add, ":var4", ":var9"),
      (val_add, ":var1", 1),
    (try_end),
    (try_begin),
      (le, ":var1", 0),
      (assign, ":var1", 1),
    (try_end),
    (store_div, ":var10", ":var2", ":var1"),
    (store_div, ":var11", ":var3", ":var1"),
    (store_div, ":var12", ":var4", ":var1"),
    (position_set_x, pos0, ":var10"),
    (position_set_y, pos0, ":var11"),
    (position_set_z, pos0, ":var12"),
    (assign, reg0, ":var1"),
  ]),

  ("search_troop_prisoner_of_party",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (try_for_parties, ":var2"),
      (eq, ":var1", -1),
      (this_or_next|eq, ":var2", "p_main_party"),
      (ge, ":var2", "p_town_1_1"),
      (party_count_prisoners_of_type, ":var3", ":var2", ":var0"),
      (gt, ":var3", 0),
      (assign, ":var1", ":var2"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("change_debt_to_troop",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_get_slot, ":var2", ":var0", 21),
    (assign, reg1, ":var2"),
    (val_add, ":var2", ":var1"),
    (assign, reg2, ":var2"),
    (troop_set_slot, ":var0", 21, ":var2"),
    (str_store_troop_name_link, s1, ":var0"),
    (display_message, "@You now owe {reg2} denars to {s1}.", 0xFFFF00),
  ]),

  ("abort_quest",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", -1),
    (assign, ":var3", -2),
    (try_begin),
      (this_or_next|eq, ":var0", "qst_deliver_message"),
      (eq, ":var0", "qst_deliver_message_to_enemy_lord"),
      (assign, ":var2", -2),
      (assign, ":var3", -3),
    (else_try),
      (eq, ":var0", "qst_kidnapped_girl"),
      (party_remove_members, "p_main_party", "trp_kidnapped_girl", 1),
      (quest_get_slot, ":var4", "qst_kidnapped_girl", 8),
      (try_begin),
        (party_is_active, ":var4"),
        (remove_party, ":var4"),
      (try_end),
    (else_try),
      (eq, ":var0", "qst_escort_lady"),
      (quest_get_slot, ":var5", "qst_escort_lady", 4),
      (party_remove_members, "p_main_party", ":var5", 1),
      (assign, ":var2", -2),
      (assign, ":var3", -3),
    (else_try),
      (eq, ":var0", "qst_raise_troops"),
      (quest_get_slot, ":var6", ":var0", 6),
      (call_script, "script_change_debt_to_troop", ":var6", 100),
      (assign, ":var2", -4),
      (assign, ":var3", -5),
    (else_try),
      (eq, ":var0", "qst_deal_with_looters"),
      (try_for_parties, ":var7"),
        (party_get_template_id, ":var8", ":var7"),
        (eq, ":var8", "pt_looters"),
        (party_set_flags, ":var7", pf_quest_party, 0),
      (try_end),
      (assign, ":var2", -4),
      (assign, ":var3", -5),
    (else_try),
      (eq, ":var0", "qst_deal_with_bandits_at_lords_village"),
      (quest_get_slot, ":var6", ":var0", 6),
      (call_script, "script_change_debt_to_troop", ":var6", 200),
      (assign, ":var2", -5),
      (assign, ":var3", -6),
    (else_try),
      (eq, ":var0", "qst_collect_taxes"),
      (quest_get_slot, ":var9", ":var0", 22),
      (quest_set_slot, ":var0", 22, 0),
      (quest_get_slot, ":var6", ":var0", 6),
      (call_script, "script_change_debt_to_troop", ":var6", ":var9"),
      (assign, ":var2", -4),
      (assign, ":var3", -6),
    (else_try),
      (eq, ":var0", "qst_hunt_down_fugitive"),
      (assign, ":var2", -3),
      (assign, ":var3", -4),
    (else_try),
      (eq, ":var0", "qst_kill_local_merchant"),
    (else_try),
      (eq, ":var0", "qst_bring_back_runaway_serfs"),
      (assign, ":var2", -1),
      (assign, ":var3", -1),
    (else_try),
      (eq, ":var0", "qst_lend_companion"),
    (else_try),
      (eq, ":var0", "qst_collect_debt"),
      (try_begin),
        (quest_slot_eq, "qst_collect_debt", 11, 1),
        (quest_get_slot, ":var10", "qst_collect_debt", 10),
        (quest_get_slot, ":var11", "qst_collect_debt", 6),
        (call_script, "script_change_debt_to_troop", ":var11", ":var10"),
        (assign, ":var2", -3),
        (assign, ":var3", -6),
      (else_try),
        (assign, ":var2", -3),
        (assign, ":var3", -4),
      (try_end),
    (else_try),
      (eq, ":var0", "qst_deal_with_bandits_at_lords_village"),
      (assign, ":var2", -6),
      (assign, ":var3", -6),
    (else_try),
      (eq, ":var0", "qst_cause_provocation"),
      (assign, ":var2", -10),
      (assign, ":var3", -13),
    (else_try),
      (eq, ":var0", "qst_persuade_lords_to_make_peace"),
      (assign, ":var2", -10),
      (assign, ":var3", -13),
    (else_try),
      (eq, ":var0", "qst_deal_with_night_bandits"),
      (assign, ":var2", -1),
      (assign, ":var3", -1),
    (else_try),
      (eq, ":var0", "qst_follow_spy"),
      (assign, ":var2", -2),
      (assign, ":var3", -3),
      (try_begin),
        (party_is_active, "$qst_follow_spy_spy_party"),
        (remove_party, "$qst_follow_spy_spy_party"),
      (try_end),
      (try_begin),
        (party_is_active, "$qst_follow_spy_spy_partners_party"),
        (remove_party, "$qst_follow_spy_spy_partners_party"),
      (try_end),
    (else_try),
      (eq, ":var0", "qst_capture_enemy_hero"),
      (assign, ":var2", -3),
      (assign, ":var3", -4),
    (else_try),
      (eq, ":var0", "qst_lend_companion"),
      (quest_get_slot, ":var12", "qst_lend_companion", 2),
      (troop_set_slot, ":var12", 152, 8),
      (troop_set_slot, ":var12", 151, 0),
    (else_try),
      (eq, ":var0", "qst_incriminate_loyal_commander"),
      (assign, ":var2", -5),
      (assign, ":var3", -6),
    (else_try),
      (eq, ":var0", "qst_lend_surgeon"),
    (else_try),
      (eq, ":var0", "qst_rescue_lord_by_replace"),
      (assign, ":var2", -1),
      (assign, ":var3", -1),
    (else_try),
      (eq, ":var0", "qst_deliver_message_to_prisoner_lord"),
      (assign, ":var2", 0),
      (assign, ":var3", -1),
    (else_try),
      (eq, ":var0", "qst_duel_for_lady"),
      (assign, ":var2", -1),
      (assign, ":var3", -1),
    (else_try),
      (eq, ":var0", "qst_follow_army"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var0", "qst_deliver_cattle_to_army"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var0", "qst_join_siege_with_army"),
      (assign, ":var2", -1),
      (assign, ":var3", -2),
    (else_try),
      (eq, ":var0", "qst_scout_waypoints"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var0", "qst_deliver_grain"),
      (assign, ":var2", -6),
      (assign, ":var3", -7),
    (else_try),
      (eq, ":var0", "qst_deliver_cattle"),
      (assign, ":var2", -3),
      (assign, ":var3", -4),
    (else_try),
      (eq, ":var0", "qst_train_peasants_against_bandits"),
      (assign, ":var2", -4),
      (assign, ":var3", -5),
    (else_try),
      (eq, ":var0", "qst_deliver_wine"),
      (assign, ":var2", -1),
      (assign, ":var3", -3),
      (val_add, "$debt_to_merchants_guild", "$qst_deliver_wine_debt"),
    (else_try),
      (eq, ":var0", "qst_move_cattle_herd"),
      (assign, ":var2", -1),
      (assign, ":var3", -3),
    (else_try),
      (eq, ":var0", "qst_escort_merchant_caravan"),
      (assign, ":var2", -1),
      (assign, ":var3", -3),
    (else_try),
      (eq, ":var0", "qst_troublesome_bandits"),
      (assign, ":var2", -1),
      (assign, ":var3", -2),
    (else_try),
      (eq, ":var0", "qst_join_faction"),
      (assign, ":var2", -3),
      (assign, ":var3", -3),
      (try_begin),
        (call_script, "script_get_number_of_hero_centers", "trp_player"),
        (gt, reg0, 0),
        (call_script, "script_change_player_relation_with_faction", "$g_invite_faction", -10),
      (try_end),
      (try_begin),
        (quest_slot_eq, "qst_join_faction", 26, 1),
        (call_script, "script_diplomacy_start_war_between_kingdoms", "$players_kingdom", "$g_invite_faction", 0),
        (call_script, "script_change_player_honor", -5),
        (quest_set_slot, "qst_join_faction", 26, 0),
      (try_end),
      (assign, "$g_invite_faction", 0),
      (assign, "$g_invite_faction_lord", 0),
      (assign, "$g_invite_offered_center", 0),
    (else_try),
      (eq, ":var0", "qst_eliminate_bandits_infesting_village"),
      (assign, ":var2", -3),
      (assign, ":var3", -3),
    (else_try),
      (ge, ":var0", "qst_resolve_dispute"),
      (assign, ":var13", -2),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
    (else_try),
      (ge, ":var0", "qst_consult_with_minister"),
      (assign, ":var13", -2),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
    (try_end),
    (try_begin),
      (gt, ":var1", 0),
      (lt, ":var0", "qst_resolve_dispute"),
      (quest_get_slot, ":var11", ":var0", 6),
      (assign, ":var14", ":var2"),
      (try_begin),
        (eq, ":var1", 2),
        (assign, ":var14", ":var3"),
      (try_end),
      (try_begin),
        (this_or_next|is_between, ":var11", "trp_village_1_elder", "trp_merchants_end"),
        (is_between, ":var11", "trp_town_1_mayor", "trp_village_1_elder"),
        (quest_get_slot, ":var15", ":var0", 12),
        (call_script, "script_change_player_relation_with_center", ":var15", ":var14"),
      (else_try),
        (call_script, "script_change_player_relation_with_troop", ":var11", ":var14"),
      (try_end),
    (try_end),
    (fail_quest, ":var0"),
    (try_begin),
      (gt, ":var1", 0),
      (neq, ":var0", "qst_consult_with_minister"),
      (neq, ":var0", "qst_resolve_dispute"),
      (neq, ":var0", "qst_visit_lady"),
      (neq, ":var0", "qst_formal_marriage_proposal"),
      (neq, ":var0", "qst_duel_courtship_rival"),
      (neq, ":var0", "qst_follow_army"),
      (neq, ":var0", "qst_denounce_lord"),
      (neq, ":var0", "qst_intrigue_against_lord"),
      (neq, ":var0", "qst_offer_gift"),
      (neq, ":var0", "qst_organize_feast"),
      (call_script, "script_objectionable_action", 4, "str_fail_quest"),
    (try_end),
    (try_begin),
      (eq, ":var0", "qst_resolve_dispute"),
      (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (call_script, "script_change_player_right_to_rule", ":var13"),
      (try_for_range, ":var16", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var16", 166, 1),
        (store_faction_of_troop, ":var17", ":var16"),
        (eq, ":var17", "$players_kingdom"),
        (call_script, "script_troop_change_relation_with_troop", ":var16", "trp_player", ":var13"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var0", "qst_organize_feast"),
      (call_script, "script_add_notification_menu", "mnu_notification_feast_quest_expired", 0, 0),
    (try_end),
    (call_script, "script_end_quest", ":var0"),
    (try_begin),
      (is_between, ":var0", "qst_freelancer_enlisted", "qst_freelancer_end"),
      (str_store_troop_name, s13, "$enlisted_lord"),
      (dialog_box, "@You have deserted from the party of {s13}!", "@Notice!"),
      (call_script, "script_freelancer_event_player_deserts"),
    (try_end),
  ]),

  ("cf_is_quest_troop",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_for_range, ":var2", 0, "qst_quests_end"),
      (check_quest_active, ":var2"),
      (quest_get_slot, ":var3", ":var2", 2),
      (quest_get_slot, ":var4", ":var2", 4),
      (quest_get_slot, ":var5", ":var2", 6),
      (this_or_next|eq, ":var3", ":var0"),
      (this_or_next|eq, ":var4", ":var0"),
      (eq, ":var5", ":var0"),
      (assign, ":var1", 1),
    (try_end),
    (eq, ":var1", 1),
  ]),

  ("check_friendly_kills",
  [
    (get_player_agent_own_troop_kill_count, ":var0"),
    (try_begin),
      (neq, "$g_player_current_own_troop_kills", ":var0"),
      (val_sub, ":var0", "$g_player_current_own_troop_kills"),
      (val_add, "$g_player_current_own_troop_kills", ":var0"),
      (val_mul, ":var0", -1),
      (call_script, "script_change_player_party_morale", ":var0"),
    (try_end),
  ]),

  ("simulate_retreat",
  [
    (call_script, "script_music_set_situation_with_culture", 32768),
    (set_show_messages, 0),
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 1),
    (try_begin),
      (try_for_agents, ":var6"),
        (agent_is_human, ":var6"),
        (agent_is_alive, ":var6"),
        (agent_set_slot, ":var6", 3, 1),
        (agent_get_troop_id, ":var7", ":var6"),
        (store_character_level, ":var8", ":var7"),
        (val_add, ":var8", 5),
        (try_begin),
          (troop_is_hero, ":var7"),
          (val_add, ":var8", 5),
        (try_end),
        (try_begin),
          (agent_is_ally, ":var6"),
          (val_add, ":var3", ":var8"),
        (else_try),
          (val_add, ":var4", ":var8"),
        (try_end),
      (try_end),
      (eq, "$pin_player_fallen", 0),
      (lt, ":var4", ":var3"),
      (eq, ":var2", 1),
      (assign, ":var5", 0),
    (try_end),
    (try_begin),
      (eq, ":var5", 1),
      (assign, "$g_last_mission_player_damage", 0),
      (party_clear, "p_temp_party"),
      (party_clear, "p_temp_party_2"),
      (call_script, "script_simulate_battle_with_agents_aux", 0, ":var0"),
      (call_script, "script_simulate_battle_with_agents_aux", 1, ":var1"),
      (assign, ":var9", 0),
      (try_begin),
        (gt, "$g_last_mission_player_damage", 0),
        (assign, ":var9", 1),
        (assign, reg1, "$g_last_mission_player_damage"),
        (str_store_string, s12, "str_casualty_display_hp"),
      (else_try),
        (str_clear, s12),
      (try_end),
      (call_script, "script_print_casualties_to_s0", "p_temp_party", 1),
      (try_begin),
        (party_get_num_companion_stacks, ":var10", "p_temp_party"),
        (gt, ":var10", 0),
        (assign, ":var9", 1),
      (try_end),
      (str_store_string_reg, s10, s0),
      (call_script, "script_print_casualties_to_s0", "p_temp_party_2", 1),
      (try_begin),
        (party_get_num_companion_stacks, ":var10", "p_temp_party_2"),
        (gt, ":var10", 0),
        (assign, ":var9", 1),
      (try_end),
      (str_store_string_reg, s11, s0),
      (try_begin),
        (eq, ":var9", 1),
        (dialog_box, "str_casualty_display", s5),
      (try_end),
    (try_end),
    (set_show_messages, 1),
    (assign, ":var11", 0),
    (assign, ":var12", 0),
    (assign, ":var13", 0),
    (try_for_agents, ":var6"),
      (agent_is_human, ":var6"),
      (try_begin),
        (agent_is_ally, ":var6"),
        (val_add, ":var13", 1),
        (try_begin),
          (neg|agent_is_alive, ":var6"),
          (val_add, ":var11", 1),
        (try_end),
      (else_try),
        (neg|agent_is_alive, ":var6"),
        (val_add, ":var12", 1),
      (try_end),
    (try_end),
    (store_add, ":var14", ":var11", ":var12"),
    (try_begin),
      (gt, ":var14", 0),
      (store_mul, ":var15", ":var11", 100),
      (val_div, ":var15", ":var14"),
      (val_mul, ":var15", ":var11"),
      (val_div, ":var15", ":var13"),
      (val_mul, ":var15", -30),
      (val_div, ":var15", 100),
      (call_script, "script_change_player_party_morale", ":var15"),
    (try_end),
  ]),

  ("simulate_battle_with_agents_aux",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (get_player_agent_no, ":var2"),
    (try_for_agents, ":var3"),
      (neq, ":var2", ":var3"),
      (agent_is_human, ":var3"),
      (agent_slot_eq, ":var3", 3, 1),
      (try_begin),
        (agent_is_ally, ":var3"),
        (assign, ":var4", 0),
      (else_try),
        (assign, ":var4", 1),
      (try_end),
      (eq, ":var4", ":var0"),
      (agent_get_position, pos2, ":var3"),
      (assign, ":var5", -1),
      (assign, ":var6", 100000),
      (try_for_agents, ":var7"),
        (agent_is_human, ":var7"),
        (agent_is_alive, ":var7"),
        (try_begin),
          (agent_is_ally, ":var7"),
          (assign, ":var8", 0),
        (else_try),
          (assign, ":var8", 1),
        (try_end),
        (this_or_next|neq, ":var7", ":var2"),
        (eq, "$pin_player_fallen", 0),
        (neq, ":var0", ":var8"),
        (agent_get_position, pos3, ":var7"),
        (get_distance_between_positions, ":var9", pos2, pos3),
        (lt, ":var9", ":var6"),
        (assign, ":var6", ":var9"),
        (assign, ":var5", ":var7"),
      (try_end),
      (ge, ":var5", 0),
      (agent_get_class, ":var10", ":var3"),
      (assign, ":var11", 1),
      (assign, ":var12", 0),
      (try_begin),
        (eq, ":var10", 1),
        (assign, ":var12", 2),
      (else_try),
        (eq, ":var10", 2),
        (assign, ":var11", 2),
      (try_end),
      (agent_get_class, ":var10", ":var5"),
      (assign, ":var13", 1),
      (try_begin),
        (eq, ":var10", 2),
        (assign, ":var13", 2),
      (try_end),
      (assign, ":var14", 18000),
      (val_add, ":var6", 3000),
      (val_div, ":var14", ":var6"),
      (val_mul, ":var14", 2),
      (val_mul, ":var14", ":var11"),
      (val_div, ":var14", ":var13"),
      (val_add, ":var14", ":var12"),
      (assign, ":var15", ":var1"),
      (agent_get_troop_id, ":var16", ":var5"),
      (agent_get_troop_id, ":var17", ":var3"),
      (store_character_level, ":var18", ":var16"),
      (store_character_level, ":var19", ":var17"),
      (store_sub, ":var20", ":var19", ":var18"),
      (val_div, ":var20", 5),
      (val_add, ":var15", ":var20"),
      (try_begin),
        (eq, ":var5", ":var2"),
        (val_div, ":var15", 2),
        (store_agent_hit_points, ":var21", ":var2", 1),
      (try_end),
      (try_for_range, ":var22", 0, ":var14"),
        (store_random_in_range, ":var23", 0, 100),
        (lt, ":var23", ":var15"),
        (agent_deliver_damage_to_agent, ":var3", ":var5"),
      (try_end),
      (try_begin),
        (eq, ":var5", ":var2"),
        (store_agent_hit_points, ":var24", ":var2", 1),
        (store_sub, ":var25", ":var21", ":var24"),
        (val_add, "$g_last_mission_player_damage", ":var25"),
      (try_end),
      (neg|agent_is_alive, ":var5"),
      (try_begin),
        (eq, ":var0", 1),
        (party_add_members, "p_temp_party", ":var16", 1),
        (try_begin),
          (agent_is_wounded, ":var5"),
          (party_wound_members, "p_temp_party", ":var16", 1),
        (try_end),
      (else_try),
        (party_add_members, "p_temp_party_2", ":var16", 1),
        (try_begin),
          (agent_is_wounded, ":var5"),
          (party_wound_members, "p_temp_party_2", ":var16", 1),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("map_get_random_position_around_position_within_range",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (val_mul, ":var0", 100),
    (assign, ":var2", 1),
    (try_for_range, ":var3", 0, 20),
      (eq, ":var2", 1),
      (map_get_random_position_around_position, pos2, pos1, ":var1"),
      (get_distance_between_positions, ":var4", pos2, pos1),
      (ge, ":var4", ":var0"),
      (assign, ":var2", 0),
    (try_end),
  ]),

  ("get_number_of_unclaimed_centers_by_player",
  [
    (assign, ":var0", 0),
    (assign, reg1, -1),
    (try_for_range, ":var1", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var2", ":var1"),
      (eq, ":var2", "$players_kingdom"),
      (party_slot_eq, ":var1", 9, 0),
      (party_get_num_companion_stacks, ":var3", ":var1"),
      (ge, ":var3", 1),
      (assign, reg1, ":var1"),
      (val_add, ":var0", 1),
    (try_end),
    (assign, reg0, ":var0"),
  ]),

  ("cf_troop_check_troop_is_enemy",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (call_script, "script_troop_get_relation_with_troop", ":var0", ":var1"),
    (lt, reg0, -10),
  ]),

  ("troop_get_leaded_center_with_index",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", -1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (eq, ":var2", -1),
      (party_slot_eq, ":var4", 7, ":var0"),
      (val_add, ":var3", 1),
      (gt, ":var3", ":var1"),
      (assign, ":var2", ":var4"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cf_troop_get_random_leaded_walled_center_with_less_strength_priority",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_village_1_1"),
      (party_slot_eq, ":var3", 7, ":var0"),
      (party_slot_eq, ":var3", 54, -1),
      (val_add, ":var2", 1),
      (try_begin),
        (eq, ":var3", ":var1"),
        (val_add, ":var2", 99),
      (try_end),
    (try_end),
    (gt, ":var2", 0),
    (store_random_in_range, ":var4", 0, ":var2"),
    (assign, ":var5", -1),
    (try_for_range, ":var3", "p_town_1_1", "p_village_1_1"),
      (eq, ":var5", -1),
      (party_slot_eq, ":var3", 7, ":var0"),
      (party_slot_eq, ":var3", 54, -1),
      (val_sub, ":var4", 1),
      (try_begin),
        (eq, ":var3", ":var1"),
        (val_sub, ":var4", 99),
      (try_end),
      (lt, ":var4", 0),
      (assign, ":var5", ":var3"),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("cf_troop_get_random_leaded_town_or_village_except_center",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (neg|party_slot_eq, ":var3", 0, 2),
      (party_slot_eq, ":var3", 7, ":var0"),
      (neq, ":var3", ":var1"),
      (val_add, ":var2", 1),
    (try_end),
    (gt, ":var2", 0),
    (store_random_in_range, ":var4", 0, ":var2"),
    (assign, ":var5", "p_salt_mine"),
    (try_for_range, ":var3", "p_town_1_1", ":var5"),
      (neg|party_slot_eq, ":var3", 0, 2),
      (party_slot_eq, ":var3", 7, ":var0"),
      (neq, ":var3", ":var1"),
      (val_sub, ":var4", 1),
      (lt, ":var4", 0),
      (assign, ":var6", ":var3"),
      (assign, ":var5", 0),
    (try_end),
    (assign, reg0, ":var6"),
  ]),

  ("troop_write_owned_centers_to_s2",
  [
    (store_script_param_1, ":var0"),
    (call_script, "script_get_number_of_hero_centers", ":var0"),
    (assign, ":var1", reg0),
    (str_store_troop_name, s5, ":var0"),
    (try_begin),
      (gt, ":var1", 1),
      (try_for_range, ":var2", 1, ":var1"),
        (call_script, "script_troop_get_leaded_center_with_index", ":var0", ":var2"),
        (str_store_party_name_link, s50, reg0),
        (try_begin),
          (eq, ":var2", 1),
          (call_script, "script_troop_get_leaded_center_with_index", ":var0", 0),
          (str_store_party_name_link, s51, reg0),
          (str_store_string, s51, "str_s50_and_s51"),
        (else_try),
          (str_store_string, s51, "str_s50_comma_s51"),
        (try_end),
      (try_end),
      (str_store_string, s2, "str_s5_is_the_ruler_of_s51"),
    (else_try),
      (eq, ":var1", 1),
      (call_script, "script_troop_get_leaded_center_with_index", ":var0", 0),
      (str_store_party_name_link, s51, reg0),
      (str_store_string, s2, "str_s5_is_the_ruler_of_s51"),
    (else_try),
      (store_faction_of_troop, ":var3", ":var0"),
      (str_store_faction_name_link, s6, ":var3"),
      (str_store_string, s2, "str_s5_is_a_nobleman_of_s6"),
    (try_end),
  ]),

  ("troop_write_family_relations_to_s1",
  [
    (str_clear, s1),
  ]),

  ("troop_get_family_relation_to_troop",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_get_type, ":var2", ":var0"),
    (assign, ":var3", 0),
    (troop_get_slot, ":var4", ":var0", 30),
    (troop_get_slot, ":var5", ":var1", 30),
    (try_begin),
      (gt, ":var4", -1),
      (troop_get_slot, ":var6", ":var4", 31),
    (else_try),
      (assign, ":var6", -1),
    (try_end),
    (try_begin),
      (gt, ":var5", -1),
      (troop_get_slot, ":var7", ":var5", 31),
    (else_try),
      (assign, ":var7", -1),
    (try_end),
    (try_begin),
      (gt, ":var5", -1),
      (troop_get_slot, ":var8", ":var5", 32),
    (else_try),
      (assign, ":var8", -1),
    (try_end),
    (troop_get_slot, ":var9", ":var0", 31),
    (troop_get_slot, ":var10", ":var1", 31),
    (troop_get_slot, ":var11", ":var0", 32),
    (troop_get_slot, ":var12", ":var1", 32),
    (try_begin),
      (is_between, ":var9", "trp_npc1", "trp_heroes_end"),
      (troop_get_slot, ":var13", ":var9", 31),
    (else_try),
      (assign, ":var13", -1),
    (try_end),
    (try_begin),
      (is_between, ":var10", "trp_npc1", "trp_heroes_end"),
      (troop_get_slot, ":var14", ":var10", 31),
    (else_try),
      (assign, ":var14", -1),
    (try_end),
    (troop_get_slot, ":var15", ":var0", 33),
    (troop_get_slot, ":var16", ":var1", 33),
    (str_store_string, s11, "str_no_relation"),
    (try_begin),
      (eq, ":var0", ":var1"),
    (else_try),
      (eq, ":var4", ":var1"),
      (assign, ":var3", 20),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_wife"),
      (else_try),
        (str_store_string, s11, "str_husband"),
      (try_end),
    (else_try),
      (eq, ":var10", ":var0"),
      (assign, ":var3", 15),
      (str_store_string, s11, "str_father"),
    (else_try),
      (eq, ":var12", ":var0"),
      (assign, ":var3", 15),
      (str_store_string, s11, "str_mother"),
    (else_try),
      (this_or_next|eq, ":var9", ":var1"),
      (eq, ":var11", ":var1"),
      (assign, ":var3", 15),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_daughter"),
      (else_try),
        (str_store_string, s11, "str_son"),
      (try_end),
    (else_try),
      (gt, ":var9", -1),
      (eq, ":var9", ":var10"),
      (assign, ":var3", 10),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_sister"),
      (else_try),
        (str_store_string, s11, "str_brother"),
      (try_end),
    (else_try),
      (eq, ":var16", ":var0"),
      (assign, ":var3", 10),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_sister"),
      (else_try),
        (str_store_string, s11, "str_brother"),
      (try_end),
    (else_try),
      (eq, ":var15", ":var1"),
      (assign, ":var3", 10),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_sister"),
      (else_try),
        (str_store_string, s11, "str_brother"),
      (try_end),
    (else_try),
      (gt, ":var13", -1),
      (eq, ":var13", ":var10"),
      (assign, ":var3", 4),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_niece"),
      (else_try),
        (str_store_string, s11, "str_nephew"),
      (try_end),
    (else_try),
      (gt, ":var14", -1),
      (eq, ":var14", ":var9"),
      (assign, ":var3", 4),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_aunt"),
      (else_try),
        (str_store_string, s11, "str_uncle"),
      (try_end),
    (else_try),
      (gt, ":var13", 0),
      (eq, ":var14", ":var13"),
      (assign, ":var3", 2),
      (str_store_string, s11, "str_cousin"),
    (else_try),
      (eq, ":var6", ":var1"),
      (assign, ":var3", 5),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_daughterinlaw"),
      (else_try),
        (str_store_string, s11, "str_soninlaw"),
      (try_end),
    (else_try),
      (eq, ":var7", ":var0"),
      (assign, ":var3", 5),
      (str_store_string, s11, "str_fatherinlaw"),
    (else_try),
      (eq, ":var8", ":var0"),
      (neq, ":var8", "trp_player"),
      (assign, ":var3", 5),
      (str_store_string, s11, "str_motherinlaw"),
    (else_try),
      (gt, ":var6", -1),
      (eq, ":var6", ":var10"),
      (assign, ":var3", 5),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_sisterinlaw"),
      (else_try),
        (str_store_string, s11, "str_brotherinlaw"),
      (try_end),
    (else_try),
      (gt, ":var7", -1),
      (eq, ":var7", ":var9"),
      (assign, ":var3", 5),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_sisterinlaw"),
      (else_try),
        (str_store_string, s11, "str_brotherinlaw"),
      (try_end),
    (else_try),
      (gt, ":var5", -1),
      (troop_slot_eq, ":var5", 33, ":var0"),
      (assign, ":var3", 5),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_sisterinlaw"),
      (else_try),
        (str_store_string, s11, "str_brotherinlaw"),
      (try_end),
    (else_try),
      (gt, ":var4", -1),
      (troop_slot_eq, ":var4", 33, ":var1"),
      (assign, ":var3", 5),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s11, "str_sisterinlaw"),
      (else_try),
        (str_store_string, s11, "str_brotherinlaw"),
      (try_end),
    (try_end),
    (assign, reg4, ":var2"),
    (assign, reg0, ":var3"),
  ]),

  ("collect_friendly_parties",
  [
    (party_collect_attachments_to_party, "p_main_party", "p_collective_friends"),
    (try_begin),
      (gt, "$g_ally_party", 0),
      (party_collect_attachments_to_party, "$g_ally_party", "p_temp_party"),
      (assign, "$g_move_heroes", 1),
      (call_script, "script_party_add_party", "p_collective_friends", "p_temp_party"),
    (try_end),
  ]),

  ("encounter_calculate_fit",
  [
    (call_script, "script_party_count_fit_for_battle", "p_main_party"),
    (call_script, "script_collect_friendly_parties"),
    (call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
    (assign, "$g_friend_fit_for_battle", reg0),
    (party_clear, "p_collective_ally"),
    (try_begin),
      (gt, "$g_ally_party", 0),
      (party_is_active, "$g_ally_party"),
      (party_collect_attachments_to_party, "$g_ally_party", "p_collective_ally"),
    (try_end),
    (party_clear, "p_collective_enemy"),
    (try_begin),
      (party_is_active, "$g_enemy_party"),
      (party_collect_attachments_to_party, "$g_enemy_party", "p_collective_enemy"),
    (try_end),
    (call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
    (assign, "$g_enemy_fit_for_battle", reg0),
    (assign, reg11, "$g_enemy_fit_for_battle"),
    (assign, reg10, "$g_friend_fit_for_battle"),
  ]),

  ("encounter_init_variables",
  [
    (assign, "$capture_screen_shown", 0),
    (assign, "$loot_screen_shown", 0),
    (assign, "$thanked_by_ally_leader", 0),
    (assign, "$g_battle_result", 0),
    (assign, "$cant_leave_encounter", 0),
    (assign, "$cant_talk_to_enemy", 0),
    (assign, "$last_defeated_hero", 0),
    (assign, "$last_freed_hero", 0),
    (call_script, "script_encounter_calculate_fit"),
    (call_script, "script_party_copy", "p_main_party_backup", "p_main_party"),
    (call_script, "script_party_calculate_strength", "p_main_party", 0),
    (assign, "$g_starting_strength_main_party", reg0),
    (call_script, "script_party_copy", "p_encountered_party_backup", "p_collective_enemy"),
    (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
    (assign, "$g_starting_strength_enemy_party", reg0),
    (assign, "$g_strength_contribution_of_player", 100),
    (call_script, "script_party_copy", "p_collective_friends_backup", "p_collective_friends"),
    (call_script, "script_party_calculate_strength", "p_collective_friends", 0),
    (assign, "$g_starting_strength_friends", reg0),
    (store_mul, "$g_strength_contribution_of_player", "$g_starting_strength_main_party", 100),
    (try_begin),
      (eq, "$freelancer_state", 1),
      (store_character_level, "$g_strength_contribution_of_player", "$player_cur_troop"),
      (val_div, "$g_strength_contribution_of_player", 3),
      (val_max, "$g_strength_contribution_of_player", 3),
    (else_try),
      (gt, "$g_starting_strength_friends", 0),
      (val_div, "$g_strength_contribution_of_player", "$g_starting_strength_friends"),
    (else_try),
      (assign, "$g_strength_contribution_of_player", 100),
    (try_end),
    (party_clear, "p_routed_enemies"),
    (assign, "$num_routed_us", 0),
    (assign, "$num_routed_allies", 0),
    (assign, "$num_routed_enemies", 0),
    (party_get_num_companion_stacks, ":var0", "p_main_party"),
    (try_for_range, ":var1", 0, ":var0"),
      (party_stack_get_troop_id, ":var2", "p_main_party", ":var1"),
      (try_begin),
        (troop_set_slot, ":var2", 146, 0),
      (try_end),
    (try_end),
    (party_get_num_companion_stacks, ":var0", "p_collective_friends"),
    (try_for_range, ":var1", 0, ":var0"),
      (party_stack_get_troop_id, ":var2", "p_collective_friends", ":var1"),
      (try_begin),
        (troop_set_slot, ":var2", 147, 0),
      (try_end),
    (try_end),
    (party_get_num_companion_stacks, ":var0", "p_collective_enemy"),
    (try_for_range, ":var1", 0, ":var0"),
      (party_stack_get_troop_id, ":var2", "p_collective_enemy", ":var1"),
      (try_begin),
        (troop_set_slot, ":var2", 148, 0),
      (try_end),
    (try_end),
    (try_for_range, ":var3", 42, 114),
      (faction_set_slot, ":var3", 90, 0),
    (try_end),
    (assign, "$routed_party_added", 0),
    (party_clear, "p_total_enemy_casualties"),
  ]),

  ("calculate_renown_value",
  [
    (call_script, "script_party_calculate_strength", "p_main_party", 0),
    (assign, ":var0", reg0),
    (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
    (assign, ":var1", reg0),
    (call_script, "script_party_calculate_strength", "p_collective_friends", 0),
    (assign, ":var2", reg0),
    (val_add, ":var2", 1),
    (store_mul, ":var3", ":var1", 100),
    (val_div, ":var3", ":var2"),
    (assign, ":var4", ":var1"),
    (val_mul, ":var4", ":var3"),
    (val_div, ":var4", 100),
    (val_mul, ":var4", ":var0"),
    (val_div, ":var4", ":var2"),
    (store_div, "$battle_renown_value", ":var4", 5),
    (val_min, "$battle_renown_value", 2500),
    (convert_to_fixed_point, "$battle_renown_value"),
    (store_sqrt, "$battle_renown_value", "$battle_renown_value"),
    (convert_from_fixed_point, "$battle_renown_value"),
    (assign, reg8, "$battle_renown_value"),
    (display_message, "@Renown value for this battle is {reg8}.", 0xFFAA00),
  ]),

  ("cf_get_first_agent_with_troop_id",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (try_for_agents, ":var2"),
      (eq, ":var1", -1),
      (agent_get_troop_id, ":var3", ":var2"),
      (eq, ":var3", ":var0"),
      (assign, ":var1", ":var2"),
    (try_end),
    (assign, reg0, ":var1"),
    (neq, reg0, -1),
  ]),

  ("cf_team_get_average_position_of_agents_with_type_to_pos1",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (set_fixed_point_multiplier, 100),
    (try_for_agents, ":var6"),
      (agent_is_alive, ":var6"),
      (agent_is_human, ":var6"),
      (agent_get_team, ":var7", ":var6"),
      (eq, ":var7", ":var0"),
      (agent_get_division, ":var8", ":var6"),
      (this_or_next|eq, ":var1", 9),
      (eq, ":var1", ":var8"),
      (agent_get_position, pos1, ":var6"),
      (position_get_x, ":var9", pos1),
      (val_add, ":var2", ":var9"),
      (position_get_y, ":var10", pos1),
      (val_add, ":var3", ":var10"),
      (position_get_z, ":var11", pos1),
      (val_add, ":var4", ":var11"),
      (val_add, ":var5", 1),
    (try_end),
    (gt, ":var5", 1),
    (val_div, ":var2", ":var5"),
    (val_div, ":var3", ":var5"),
    (val_div, ":var4", ":var5"),
    (init_position, pos1),
    (position_move_x, 1, ":var2"),
    (position_move_y, pos1, ":var3"),
    (position_move_z, pos1, ":var4"),
  ]),

  ("cf_turn_windmill_fans",
  [
    (store_script_param_1, ":var0"),
    (scene_prop_get_instance, ":var1", "spr_windmill_fan_turning", ":var0"),
    (ge, ":var1", 0),
    (prop_instance_get_position, pos1, ":var1"),
    (position_rotate_y, pos1, 10),
    (prop_instance_animate_to_position, ":var1", pos1, 100),
    (val_add, ":var0", 1),
    (call_script, "script_cf_turn_windmill_fans", ":var0"),
  ]),

  ("print_party_members",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (assign, reg10, ":var1"),
    (try_for_range, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", ":var0", ":var2"),
      (troop_is_hero, ":var3"),
      (try_begin),
        (eq, ":var2", 0),
        (str_store_troop_name, s51, ":var3"),
      (try_end),
      (str_store_troop_name, s52, ":var3"),
      (try_begin),
        (eq, ":var2", 1),
        (str_store_string, s51, "str_s52_and_s51"),
      (else_try),
        (gt, ":var2", 1),
        (str_store_string, s51, "str_s52_comma_s51"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var1", 0),
      (str_store_string, s51, "str_noone"),
    (try_end),
  ]),

  ("round_value",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (lt, ":var0", 100),
      (neq, ":var0", 0),
      (val_add, ":var0", 5),
      (val_div, ":var0", 10),
      (val_mul, ":var0", 10),
      (try_begin),
        (eq, ":var0", 0),
        (assign, ":var0", 5),
      (try_end),
    (else_try),
      (lt, ":var0", 300),
      (val_add, ":var0", 25),
      (val_div, ":var0", 50),
      (val_mul, ":var0", 50),
    (else_try),
      (val_add, ":var0", 50),
      (val_div, ":var0", 100),
      (val_mul, ":var0", 100),
    (try_end),
    (assign, reg0, ":var0"),
  ]),

  ("change_banners_and_chest",
  [
    (party_get_slot, ":var0", "$g_encountered_party", 7),
    (try_begin),
      (ge, ":var0", 0),
      (troop_get_slot, ":var1", ":var0", 13),
      (try_begin),
        (gt, ":var1", 0),
        (replace_scene_props, "spr_banner_a", ":var1"),
      (else_try),
        (eq, ":var1", -1),
        (troop_get_slot, ":var2", ":var0", 96),
        (ge, ":var2", 0),
        (val_add, ":var2", "spr_custom_banner_01"),
        (replace_scene_props, "spr_banner_a", ":var2"),
      (try_end),
    (else_try),
      (replace_scene_props, "spr_banner_a", "spr_empty"),
    (try_end),
    (try_begin),
      (neq, ":var0", "trp_player"),
      (replace_scene_props, "spr_player_chest", "spr_locked_player_chest"),
    (try_end),
  ]),

  ("remove_siege_objects",
  [
    (replace_scene_props, "spr_eastroman_wall_destroyed", "spr_eastroman_wall"),
    (replace_scene_props, "spr_battlement_a_destroyed", "spr_battlement_a"),
    (replace_scene_props, "spr_snowy_castle_battlement_a_destroyed", "spr_snowy_castle_battlement_a"),
    (replace_scene_props, "spr_castle_e_battlement_a_destroyed", "spr_castle_e_battlement_a"),
    (replace_scene_props, "spr_castle_battlement_a_destroyed", "spr_castle_battlement_a"),
    (replace_scene_props, "spr_castle_battlement_b_destroyed", "spr_castle_battlement_b"),
    (replace_scene_props, "spr_earth_wall_a2", "spr_earth_wall_a"),
    (replace_scene_props, "spr_earth_wall_b2", "spr_earth_wall_b"),
    (replace_scene_props, "spr_belfry_platform_b", "spr_empty"),
    (replace_scene_props, "spr_belfry_platform_a", "spr_empty"),
    (replace_scene_props, "spr_belfry_a", "spr_empty"),
    (replace_scene_props, "spr_belfry_wheel", "spr_empty"),
    (replace_scene_props, "spr_siege_ladder_move_6m", "spr_empty"),
    (replace_scene_props, "spr_siege_ladder_move_8m", "spr_empty"),
    (replace_scene_props, "spr_siege_ladder_move_10m", "spr_empty"),
    (replace_scene_props, "spr_siege_ladder_move_12m", "spr_empty"),
    (replace_scene_props, "spr_siege_ladder_move_14m", "spr_empty"),
    (replace_scene_props, "spr_siege_ladder_12m", "spr_empty"),
    (replace_scene_props, "spr_siege_ladder_14m", "spr_empty"),
    (replace_scene_props, "spr_mangonel", "spr_empty"),
    (replace_scene_props, "spr_trebuchet_old", "spr_empty"),
    (replace_scene_props, "spr_trebuchet_new", "spr_empty"),
    (replace_scene_props, "spr_stone_ball", "spr_empty"),
    (replace_scene_props, "spr_Village_fire_big", "spr_empty"),
    (replace_scene_props, "spr_1257_earth_gate", "spr_empty"),
    (replace_scene_props, "spr_1257_portcullis", "spr_empty"),
    (replace_scene_props, "spr_1257_tavern_door_a", "spr_empty"),
    (replace_scene_props, "spr_1257_tavern_door_b", "spr_empty"),
    (replace_scene_props, "spr_1257_castle_f_door_a", "spr_empty"),
  ]),

  ("remove_manor_objects",
  [
    (store_current_scene, ":var0"),
    (try_begin),
      (eq, ":var0", "scn_manor_fortified_teutonic"),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 302, 0),
        (replace_scene_props, "spr_earth_house_c", "spr_empty"),
        (replace_scene_props, "spr_chair_trunk_c", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 302, 2),
        (replace_scene_props, "spr_to_fake_house_f", "spr_empty"),
        (replace_scene_props, "spr_passage_house_a", "spr_empty"),
        (replace_scene_props, "spr_chair_trunk_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 306, 1),
        (replace_scene_props, "spr_1257_chapel", "spr_empty"),
        (replace_scene_props, "spr_village_wall_a", "spr_empty"),
        (replace_scene_props, "spr_village_wall_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 303, 1),
        (replace_scene_props, "spr_wooden_stand", "spr_empty"),
        (replace_scene_props, "spr_cart", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 304, 1),
        (replace_scene_props, "spr_to_town_house_u", "spr_empty"),
        (replace_scene_props, "spr_tavern_barrel", "spr_empty"),
        (replace_scene_props, "spr_tavern_sign", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 305, 1),
        (replace_scene_props, "spr_earth_house_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 316, 1),
        (replace_scene_props, "spr_town_house_aa", "spr_empty"),
        (replace_scene_props, "spr_stand_thatched", "spr_empty"),
        (replace_scene_props, "spr_smithy_forge", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 324, 1),
        (replace_scene_props, "spr_gatehouse_new_a", "spr_empty"),
        (replace_scene_props, "spr_smithy_forge", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 323, 1),
        (replace_scene_props, "spr_town_house_d", "spr_empty"),
        (replace_scene_props, "spr_smithy_grindstone_wheel", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 325, 1),
        (replace_scene_props, "spr_arena_archery_target_a", "spr_empty"),
        (replace_scene_props, "spr_archery_target_with_hit_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 315, 1),
        (replace_scene_props, "spr_to_castle_courtyard_house_b", "spr_empty"),
        (replace_scene_props, "spr_cup", "spr_empty"),
        (replace_scene_props, "spr_jug", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 312, 1),
        (replace_scene_props, "spr_to_town_house_t", "spr_empty"),
        (replace_scene_props, "spr_bread_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 317, 1),
        (replace_scene_props, "spr_to_castle_courtyard_house_c", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 314, 1),
        (replace_scene_props, "spr_brewery_big_bucket", "spr_empty"),
        (replace_scene_props, "spr_to_courtyard_gate_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 313, 1),
        (replace_scene_props, "spr_to_gatehouse_b", "spr_empty"),
        (replace_scene_props, "spr_winery_middle_barrel", "spr_empty"),
        (replace_scene_props, "spr_winery_wine_press", "spr_empty"),
        (replace_scene_props, "spr_winery_barrel_shelf", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 322, 1),
        (replace_scene_props, "spr_to_castle_h_house_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 326, 1),
        (replace_scene_props, "spr_to_castle_h_house_c", "spr_empty"),
        (replace_scene_props, "spr_feeding_trough_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 319, 1),
        (replace_scene_props, "spr_to_town_house_y", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 320, 1),
        (replace_scene_props, "spr_to_town_house_r", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 321, 1),
        (replace_scene_props, "spr_to_town_house_w", "spr_empty"),
        (replace_scene_props, "spr_tannery_hide_a", "spr_empty"),
        (replace_scene_props, "spr_to_passage_house_c", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 318, 1),
        (replace_scene_props, "spr_to_town_house_z", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 327, 1),
        (replace_scene_props, "spr_to_castle_gate_house_a", "spr_empty"),
        (replace_scene_props, "spr_to_castle_f_battlement_a", "spr_empty"),
        (replace_scene_props, "spr_to_castle_round_tower_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 308, 1),
        (replace_scene_props, "spr_farm_house_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 310, 1),
        (replace_scene_props, "spr_farm_house_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 309, 1),
        (replace_scene_props, "spr_farm_house_c", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 311, 1),
        (replace_scene_props, "spr_village_house_d", "spr_empty"),
        (replace_scene_props, "spr_net_a", "spr_empty"),
        (replace_scene_props, "spr_net_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 307, 1),
        (replace_scene_props, "spr_water_well_a", "spr_empty"),
      (try_end),
    (else_try),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 302, 0),
        (replace_scene_props, "spr_earth_house_c", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 302, 2),
        (replace_scene_props, "spr_village_house_g", "spr_empty"),
        (replace_scene_props, "spr_village_house_h", "spr_empty"),
        (replace_scene_props, "spr_village_house_i", "spr_empty"),
        (replace_scene_props, "spr_village_house_j", "spr_empty"),
        (replace_scene_props, "spr_small_wall_f", "spr_empty"),
        (replace_scene_props, "spr_chair_trunk_c", "spr_empty"),
        (replace_scene_props, "spr_barrel", "spr_empty"),
        (replace_scene_props, "spr_box_a", "spr_empty"),
        (replace_scene_props, "spr_chair_trunk_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 306, 1),
        (replace_scene_props, "spr_church_a", "spr_empty"),
        (replace_scene_props, "spr_church_tower_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 303, 1),
        (replace_scene_props, "spr_wooden_stand", "spr_empty"),
        (replace_scene_props, "spr_cart", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 304, 1),
        (replace_scene_props, "spr_timber_frame_house_b", "spr_empty"),
        (replace_scene_props, "spr_tavern_barrel", "spr_empty"),
        (replace_scene_props, "spr_tavern_sign", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 305, 1),
        (replace_scene_props, "spr_timber_frame_house_c", "spr_empty"),
        (replace_scene_props, "spr_tavern_chair_a", "spr_empty"),
        (replace_scene_props, "spr_tavern_chair_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 316, 1),
        (replace_scene_props, "spr_town_house_aa", "spr_empty"),
        (replace_scene_props, "spr_stand_thatched", "spr_empty"),
        (replace_scene_props, "spr_smithy_anvil", "spr_empty"),
        (replace_scene_props, "spr_smithy_forge", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 324, 1),
        (replace_scene_props, "spr_town_house_c", "spr_empty"),
        (replace_scene_props, "spr_smithy_grindstone_wheel", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 323, 1),
        (replace_scene_props, "spr_town_house_d", "spr_empty"),
        (replace_scene_props, "spr_smithy_forge_bellows", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 325, 1),
        (replace_scene_props, "spr_town_house_h", "spr_empty"),
        (replace_scene_props, "spr_arena_archery_target_a", "spr_empty"),
        (replace_scene_props, "spr_archery_target_with_hit_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 315, 1),
        (replace_scene_props, "spr_town_house_e", "spr_empty"),
        (replace_scene_props, "spr_table_small", "spr_empty"),
        (replace_scene_props, "spr_village_oven", "spr_empty"),
        (replace_scene_props, "spr_cup", "spr_empty"),
        (replace_scene_props, "spr_jug", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 312, 1),
        (replace_scene_props, "spr_town_house_f", "spr_empty"),
        (replace_scene_props, "spr_fireplace_a", "spr_empty"),
        (replace_scene_props, "spr_table_small_b", "spr_empty"),
        (replace_scene_props, "spr_bread_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 317, 1),
        (replace_scene_props, "spr_town_house_g", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 314, 1),
        (replace_scene_props, "spr_brewery_big_bucket", "spr_empty"),
        (replace_scene_props, "spr_brewery_pool", "spr_empty"),
        (replace_scene_props, "spr_town_house_o", "spr_empty"),
        (replace_scene_props, "spr_brewery_bucket_platform_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 313, 1),
        (replace_scene_props, "spr_town_house_za", "spr_empty"),
        (replace_scene_props, "spr_winery_middle_barrel", "spr_empty"),
        (replace_scene_props, "spr_winery_wine_press", "spr_empty"),
        (replace_scene_props, "spr_winery_wine_cart_loaded", "spr_empty"),
        (replace_scene_props, "spr_winery_wine_cart_small_loaded", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 322, 1),
        (replace_scene_props, "spr_torture_tool_a", "spr_empty"),
        (replace_scene_props, "spr_torture_tool_b", "spr_empty"),
        (replace_scene_props, "spr_torture_tool_c", "spr_empty"),
        (replace_scene_props, "spr_castle_courtyard_house_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 326, 1),
        (replace_scene_props, "spr_village_shed_b", "spr_empty"),
        (replace_scene_props, "spr_village_stable_a", "spr_empty"),
        (replace_scene_props, "spr_open_stable_a", "spr_empty"),
        (replace_scene_props, "spr_open_stable_b", "spr_empty"),
        (replace_scene_props, "spr_feeding_trough_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 319, 1),
        (replace_scene_props, "spr_town_house_y", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 320, 1),
        (replace_scene_props, "spr_town_house_z", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 321, 1),
        (replace_scene_props, "spr_town_house_i", "spr_empty"),
        (replace_scene_props, "spr_tannery_hide_a", "spr_empty"),
        (replace_scene_props, "spr_tannery_hide_b", "spr_empty"),
        (replace_scene_props, "spr_tannery_pools_a", "spr_empty"),
        (replace_scene_props, "spr_tannery_pools_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 318, 1),
        (replace_scene_props, "spr_town_house_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 327, 1),
        (replace_scene_props, "spr_castle_f_battlement_a", "spr_empty"),
        (replace_scene_props, "spr_castle_gate_house_a", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 308, 1),
        (replace_scene_props, "spr_farm_house_a", "spr_empty"),
        (replace_scene_props, "spr_angry_wheat", "spr_empty"),
        (replace_scene_props, "spr_cabbage_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 310, 1),
        (replace_scene_props, "spr_farm_house_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 309, 1),
        (replace_scene_props, "spr_farm_house_c", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 311, 1),
        (replace_scene_props, "spr_earth_house_b", "spr_empty"),
        (replace_scene_props, "spr_net_a", "spr_empty"),
        (replace_scene_props, "spr_net_b", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 307, 1),
        (replace_scene_props, "spr_water_well_a", "spr_empty"),
      (try_end),
    (try_end),
    (try_begin),
      (party_slot_eq, "$g_encountered_party", 303, 1),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 311, 1),
        (replace_scene_items_with_scene_props, "itm_smoked_fish", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 318, 1),
        (replace_scene_items_with_scene_props, "itm_oil", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 315, 1),
        (replace_scene_items_with_scene_props, "itm_pottery", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 319, 1),
        (replace_scene_items_with_scene_props, "itm_linen", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 320, 1),
        (replace_scene_items_with_scene_props, "itm_wool_cloth", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 316, 1),
        (replace_scene_items_with_scene_props, "itm_tools", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 321, 1),
        (replace_scene_items_with_scene_props, "itm_raw_leather", "spr_empty"),
        (replace_scene_items_with_scene_props, "itm_leatherwork", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 313, 1),
        (replace_scene_items_with_scene_props, "itm_wine", "spr_empty"),
        (replace_scene_items_with_scene_props, "itm_quest_wine", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 314, 1),
        (replace_scene_items_with_scene_props, "itm_ale", "spr_empty"),
        (replace_scene_items_with_scene_props, "itm_quest_ale", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 317, 1),
        (replace_scene_items_with_scene_props, "itm_dried_meat", "spr_empty"),
        (replace_scene_items_with_scene_props, "itm_sausages", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 312, 1),
        (replace_scene_items_with_scene_props, "itm_bread", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 344, "trp_manor_trader_furs"),
        (replace_scene_items_with_scene_props, "itm_furs", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 344, "trp_manor_trader_salt"),
        (replace_scene_items_with_scene_props, "itm_salt", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 344, "trp_manor_trader_silk"),
        (replace_scene_items_with_scene_props, "itm_raw_silk", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 344, "trp_manor_trader_dyes"),
        (replace_scene_items_with_scene_props, "itm_raw_dyes", "spr_empty"),
      (try_end),
      (try_begin),
        (neg|party_slot_eq, "$g_encountered_party", 344, "trp_manor_trader_spice"),
        (replace_scene_items_with_scene_props, "itm_spice", "spr_empty"),
      (try_end),
    (else_try),
      (replace_scene_items_with_scene_props, "itm_grain", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_honey", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_cabbages", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_apples", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_wool", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_butter", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_cheese", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_cattle_meat", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_smoked_fish", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_oil", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_pottery", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_linen", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_wool_cloth", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_tools", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_raw_leather", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_leatherwork", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_wine", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_quest_wine", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_ale", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_quest_ale", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_dried_meat", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_sausages", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_bread", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_furs", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_salt", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_raw_silk", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_raw_dyes", "spr_empty"),
      (replace_scene_items_with_scene_props, "itm_spice", "spr_empty"),
    (try_end),
  ]),

  ("describe_relation_to_s63",
  [
    (store_script_param_1, ":var0"),
    (store_add, ":var1", ":var0", 100),
    (val_add, ":var1", 5),
    (store_div, ":var2", ":var1", 10),
    (val_clamp, ":var2", 0, 20),
    (store_add, ":var3", "str_relation_mnus_100", ":var2"),
    (str_store_string, s63, ":var3"),
  ]),

  ("describe_center_relation_to_s3",
  [
    (store_script_param_1, ":var0"),
    (store_add, ":var1", ":var0", 100),
    (val_add, ":var1", 5),
    (store_div, ":var2", ":var1", 10),
    (val_clamp, ":var2", 0, 20),
    (store_add, ":var3", "str_center_relation_mnus_100", ":var2"),
    (str_store_string, s3, ":var3"),
  ]),

  ("center_ambiance_sounds",
  [
    (assign, ":var0", -1),
    (assign, ":var1", -1),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", -1),
    (try_begin),
      (party_slot_eq, "$g_encountered_party", 0, 4),
      (try_begin),
        (neg|is_currently_night),
        (assign, ":var2", "snd_distant_dog_bark"),
        (assign, ":var2", "snd_distant_chicken"),
      (else_try),
        (assign, ":var0", "snd_distant_dog_bark"),
        (assign, ":var1", "snd_distant_owl"),
      (try_end),
    (else_try),
      (party_slot_eq, "$g_encountered_party", 0, 3),
      (try_begin),
        (neg|is_currently_night),
        (assign, ":var0", "snd_distant_carpenter"),
        (assign, ":var1", "snd_distant_blacksmith"),
        (assign, ":var2", "snd_distant_dog_bark"),
      (else_try),
        (assign, ":var0", "snd_distant_dog_bark"),
      (try_end),
    (try_end),
    (try_begin),
      (store_random_in_range, ":var5", 0, 7),
      (try_begin),
        (eq, ":var5", 1),
        (ge, ":var0", 0),
        (play_sound, ":var0"),
      (else_try),
        (eq, ":var5", 2),
        (ge, ":var1", 0),
        (play_sound, ":var1"),
      (else_try),
        (eq, ":var5", 3),
        (ge, ":var2", 0),
        (play_sound, ":var2"),
      (else_try),
        (eq, ":var5", 4),
        (ge, ":var3", 0),
        (play_sound, ":var3"),
      (else_try),
        (eq, ":var5", 5),
        (ge, ":var4", 0),
        (play_sound, ":var4"),
      (try_end),
    (try_end),
  ]),

  ("center_set_walker_to_type",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_add, ":var3", 180, ":var1"),
    (party_set_slot, ":var0", ":var3", ":var2"),
    (party_get_slot, ":var4", ":var0", 61),
    (faction_get_slot, ":var5", ":var4", 10),
    (store_random_in_range, ":var6", 0, 2),
    (try_begin),
      (party_slot_eq, ":var0", 0, 4),
      (val_add, ":var6", 55),
    (else_try),
      (val_add, ":var6", 53),
    (try_end),
    (try_begin),
      (eq, ":var2", 3),
      (assign, ":var7", ":var6"),
      (val_add, ":var6", 4),
    (try_end),
    (faction_get_slot, ":var8", ":var5", ":var6"),
    (try_begin),
      (eq, ":var2", 3),
      (faction_get_slot, ":var9", ":var5", ":var7"),
      (try_for_range, ":var10", "itm_horse_meat", "itm_wooden_stick"),
        (store_item_kind_count, ":var11", ":var10", ":var9"),
        (ge, ":var11", 1),
        (store_item_kind_count, ":var11", ":var10", ":var8"),
        (lt, ":var11", 1),
        (troop_add_items, ":var8", ":var10", 1),
      (try_end),
      (store_random_in_range, ":var12", 12, 15),
      (assign, ":var13", 0),
      (try_for_range, ":var10", "itm_horse_meat", "itm_wooden_stick"),
        (store_item_kind_count, ":var11", ":var10", ":var8"),
        (ge, ":var11", 1),
        (item_get_type, ":var14", ":var10"),
        (eq, ":var14", ":var12"),
        (val_add, ":var13", 1),
        (troop_remove_items, ":var8", ":var10", ":var11"),
      (try_end),
      (store_random_in_range, ":var15", 0, ":var13"),
      (assign, ":var13", -1),
      (try_for_range, ":var10", "itm_horse_meat", "itm_wooden_stick"),
        (store_item_kind_count, ":var11", ":var10", ":var9"),
        (ge, ":var11", 1),
        (item_get_type, ":var14", ":var10"),
        (eq, ":var14", ":var12"),
        (val_add, ":var13", 1),
        (eq, ":var13", ":var15"),
        (troop_add_items, ":var8", ":var10", 1),
        (assign, ":var16", ":var10"),
      (try_end),
      (assign, "$spy_item_worn", ":var16"),
      (assign, "$spy_quest_troop", ":var8"),
      (troop_equip_items, ":var8"),
    (try_end),
    (store_add, ":var17", 160, ":var1"),
    (party_set_slot, ":var0", ":var17", ":var8"),
    (store_random_in_range, ":var18", 0, 1000000),
    (store_add, ":var19", 170, ":var1"),
    (party_set_slot, ":var0", ":var19", ":var18"),
  ]),

  ("cf_center_get_free_walker",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_for_range, ":var2", 0, 4),
      (store_add, ":var3", 180, ":var2"),
      (party_slot_eq, ":var0", ":var3", 0),
      (val_add, ":var1", 1),
    (try_end),
    (gt, ":var1", 0),
    (assign, reg0, -1),
    (store_random_in_range, ":var4", 0, ":var1"),
    (try_for_range, ":var2", 0, 4),
      (store_add, ":var3", 180, ":var2"),
      (party_slot_eq, ":var0", ":var3", 0),
      (val_sub, ":var1", 1),
      (eq, ":var1", ":var4"),
      (assign, reg0, ":var2"),
    (try_end),
  ]),

  ("center_remove_walker_type_from_walkers",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_for_range, ":var2", 0, 4),
      (store_add, ":var3", 180, ":var2"),
      (party_slot_eq, ":var0", ":var3", ":var1"),
      (call_script, "script_center_set_walker_to_type", ":var0", ":var2", 0),
    (try_end),
  ]),

  ("init_town_walkers",
  [
    (try_begin),
      (eq, "$town_nighttime", 0),
      (try_for_range, ":var0", 0, 4),
        (store_add, ":var1", 160, ":var0"),
        (party_get_slot, ":var2", "$current_town", ":var1"),
        (gt, ":var2", 0),
        (store_add, ":var3", 32, ":var0"),
        (try_for_range, reg0, 0, 4),
          (set_visitors, ":var3", ":var2", 2),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("cf_enter_center_location_bandit_check",
  [
    (eq, 0, 1),
    (neq, "$town_nighttime", 0),
    (party_slot_ge, "$current_town", 155, 1),
    (eq, "$g_defending_against_siege", 0),
    (eq, "$sneaked_into_town", 0),
    (try_begin),
      (party_slot_eq, "$current_town", 0, 4),
      (party_get_slot, ":var0", "$current_town", 10),
    (else_try),
      (party_get_slot, ":var0", "$current_town", 10),
    (try_end),
    (modify_visitors_at_site, ":var0"),
    (reset_visitors),
    (party_get_slot, ":var1", "$current_town", 155),
    (store_character_level, ":var2", "trp_player"),
    (set_jump_mission, "mt_bandits_at_night"),
    (try_begin),
      (party_slot_eq, "$current_town", 0, 4),
      (assign, ":var3", 2),
      (store_div, ":var4", ":var2", 10),
      (val_add, ":var3", ":var4"),
      (try_for_range, ":var5", 0, 3),
        (gt, ":var2", 10),
        (store_random_in_range, ":var6", 0, 100),
        (lt, ":var6", ":var2"),
        (val_add, ":var3", 1),
      (try_end),
      (set_visitors, 4, ":var1", ":var3"),
      (assign, "$num_center_bandits", ":var3"),
      (set_jump_entry, 2),
    (else_try),
      (assign, ":var3", 1),
      (assign, "$num_center_bandits", 0),
      (try_begin),
        (gt, ":var2", 15),
        (store_random_in_range, ":var6", 0, 100),
        (lt, ":var6", ":var2"),
        (assign, ":var3", 2),
      (try_end),
      (val_add, "$num_center_bandits", ":var3"),
      (set_visitors, 11, ":var1", ":var3"),
      (assign, ":var3", 1),
      (try_begin),
        (gt, ":var2", 20),
        (store_random_in_range, ":var6", 0, 100),
        (lt, ":var6", ":var2"),
        (assign, ":var3", 2),
      (try_end),
      (set_visitors, 27, ":var1", ":var3"),
      (val_add, "$num_center_bandits", ":var3"),
      (try_begin),
        (gt, ":var2", 9),
        (assign, ":var3", 1),
        (try_begin),
          (gt, ":var2", 25),
          (store_random_in_range, ":var6", 0, 100),
          (lt, ":var6", ":var2"),
          (assign, ":var3", 2),
        (try_end),
        (set_visitors, 28, ":var1", ":var3"),
        (val_add, "$num_center_bandits", ":var3"),
      (try_end),
      (assign, "$town_entered", 1),
      (assign, "$all_doors_locked", 1),
    (try_end),
    (display_message, "@You have run into a trap!", 0xFF2222),
    (display_message, "@You are attacked by a group of bandits!", 0xFF2222),
    (jump_to_scene, ":var0"),
    (change_screen_mission),
  ]),

  ("init_town_agent",
  [
    (store_script_param, ":var0", 1),
    (agent_get_troop_id, ":var1", ":var0"),
    (set_fixed_point_multiplier, 100),
    (assign, ":var2", -1),
    (try_begin),
      (this_or_next|is_between, ":var1", "trp_town_1_armorer", "trp_town_1_weaponsmith"),
      (is_between, ":var1", "trp_town_1_weaponsmith", "trp_town_1_tavernkeeper"),
      (try_begin),
        (troop_get_type, ":var3", ":var1"),
        (eq, ":var3", 0),
        (agent_set_animation, ":var0", "anim_stand_townguard"),
      (else_try),
        (agent_set_animation, ":var0", "anim_stand_townguard"),
      (try_end),
    (else_try),
      (is_between, ":var1", "trp_knight_1_1_wife", "trp_heroes_end"),
      (assign, ":var2", "anim_stand_lady"),
    (else_try),
      (is_between, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
      (assign, ":var2", "anim_stand_lord"),
    (else_try),
      (is_between, ":var1", "trp_farmer", "trp_town_walker_1"),
      (assign, ":var2", "anim_stand_townguard"),
    (try_end),
    (try_begin),
      (ge, ":var2", 0),
      (agent_set_stand_animation, ":var0", ":var2"),
      (agent_set_animation, ":var0", ":var2"),
      (store_random_in_range, ":var4", 0, 100),
      (agent_set_animation_progress, ":var0", ":var4"),
    (try_end),
  ]),

  ("init_town_walker_agents",
  [
    (assign, ":var0", 0),
    (try_for_agents, ":var1"),
      (agent_get_troop_id, ":var2", ":var1"),
      (is_between, ":var2", "trp_town_walker_1", "trp_tournament_master"),
      (val_add, ":var0", 1),
      (agent_get_position, pos1, ":var1"),
      (try_for_range, ":var3", 9, 40),
        (entry_point_get_position, pos2, ":var3"),
        (get_distance_between_positions, ":var4", pos1, pos2),
        (lt, ":var4", 200),
        (agent_set_slot, ":var1", 0, ":var3"),
      (try_end),
      (call_script, "script_set_town_walker_destination", ":var1"),
    (try_end),
  ]),

  ("agent_get_town_walker_details",
  [
    (store_script_param, ":var0", 1),
    (agent_get_entry_no, ":var1", ":var0"),
    (store_sub, ":var2", ":var1", 32),
    (store_add, ":var3", 180, ":var2"),
    (party_get_slot, ":var4", "$current_town", ":var3"),
    (store_add, ":var5", 170, ":var2"),
    (party_get_slot, ":var6", "$current_town", ":var5"),
    (assign, reg0, ":var4"),
    (assign, reg1, ":var6"),
    (assign, reg2, ":var2"),
  ]),

  ("town_walker_occupation_string_to_s14",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (str_store_string, s14, "str_i_take_what_work_i_can_sirmadame_i_carry_water_or_help_the_merchants_with_their_loads_or_help_build_things_if_theres_things_to_be_built"),
    (call_script, "script_agent_get_town_walker_details", ":var0"),
    (assign, ":var2", reg0),
    (assign, ":var3", reg1),
    (assign, ":var4", -1),
    (assign, ":var5", 0),
    (try_for_range, ":var6", "itm_spice", "itm_siege_supply"),
      (call_script, "script_center_get_production", "$g_encountered_party", ":var6"),
      (val_add, ":var5", reg0),
    (try_end),
    (val_max, ":var5", 1),
    (store_mod, ":var7", ":var3", ":var5"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg4, ":var3"),
      (assign, reg5, ":var5"),
      (assign, reg7, ":var7"),
      (display_message, "str_dna_reg4_total_production_reg5_modula_reg7"),
    (try_end),
    (try_for_range, ":var6", "itm_spice", "itm_siege_supply"),
      (gt, ":var7", -1),
      (call_script, "script_center_get_production", "$g_encountered_party", ":var6"),
      (val_sub, ":var7", reg0),
      (lt, ":var7", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_item_name, s9, ":var6"),
        (display_message, "str_agent_produces_s9"),
      (try_end),
      (assign, ":var4", ":var6"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (is_between, "$g_encountered_party", "p_town_1_1", "p_castle_1_1"),
      (str_store_string, s14, "str_im_not_doing_anything_sirmadame_theres_no_work_to_be_had_around_here_these_days"),
    (else_try),
      (eq, ":var2", 1),
      (str_store_string, s14, "str_im_not_doing_anything_sirmadame_i_have_no_land_of_my_own_and_theres_no_work_to_be_had_around_here_these_days"),
    (else_try),
      (eq, ":var2", 2),
      (str_store_string, s14, "str_why_im_still_living_off_of_your_kindness_and_goodness_sirmadame_hopefully_there_will_be_work_shortly"),
    (else_try),
      (eq, ":var4", "itm_grain"),
      (is_between, "$g_encountered_party", "p_town_1_1", "p_castle_1_1"),
      (str_store_string, s14, "str_i_work_in_the_fields_just_outside_the_walls_where_they_grow_grain_we_dont_quite_grow_enough_to_meet_our_needs_though_and_have_to_import_grain_from_the_surrounding_countryside"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_grain"),
      (str_store_string, s14, "str_i_work_mostly_in_the_fields_growing_grain_in_the_town_they_grind_it_to_make_bread_or_ale_and_we_can_also_boil_it_as_a_porridge"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_ale"),
      (str_store_string, s14, "str_i_work_in_the_breweries_making_ale_the_poor_folk_drink_a_lot_of_it_as_its_cheaper_than_wine_we_make_it_with_grain_brought_in_from_the_countryside"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_bread"),
      (str_store_string, s14, "str_i_work_in_a_mill_grinding_flour_to_make_bread_bread_is_cheap_keeps_well_and_fills_the_stomach"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_dried_meat"),
      (str_store_string, s14, "str_i_tend_cattle_we_dry_and_salt_meat_to_preserve_it_and_make_cheese_from_the_milk"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_cheese"),
      (str_store_string, s14, "str_i_tend_cattle_we_dry_and_salt_meat_to_preserve_it_and_make_cheese_from_the_milk_so_it_doesnt_spoil"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_butter"),
      (str_store_string, s14, "str_i_tend_cattle_we_dry_and_salt_meat_to_preserve_it_and_make_cheese_from_the_milk_so_it_doesnt_spoil"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_wool"),
      (str_store_string, s14, "str_i_tend_sheep_we_send_the_wool_to_the_cities_to_be_woven_into_cloth_and_make_mutton_sausage_when_we_cull_the_herds"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_sausages"),
      (str_store_string, s14, "str_i_tend_sheep_we_send_the_wool_to_the_cities_to_be_woven_into_cloth_and_make_mutton_sausage_when_we_cull_the_herds"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_wool_cloth"),
      (str_store_string, s14, "str_i_work_at_a_loom_spinning_cloth_from_wool_wool_is_some_of_the_cheapest_cloth_you_can_buy_but_it_will_still_keep_you_warm"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_smoked_fish"),
      (str_store_string, s14, "str_i_crew_a_fishing_boat_we_salt_and_smoke_the_flesh_to_sell_it_far_inland"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_salt"),
      (str_store_string, s14, "str_i_sift_salt_from_a_nearby_flat_they_need_salt_everywhere_to_preserve_meat_and_fish"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_iron"),
      (str_store_string, s14, "str_i_mine_iron_from_a_vein_in_a_nearby_cliffside_they_use_it_to_make_tools_arms_and_other_goods"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_pottery"),
      (str_store_string, s14, "str_i_make_pottery_which_people_use_to_store_grain_and_carry_water"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_tools"),
      (str_store_string, s14, "str_trade_explanation_tools"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_oil"),
      (str_store_string, s14, "str_trade_explanation_oil"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_linen"),
      (str_store_string, s14, "str_trade_explanation_linen"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_velvet"),
      (str_store_string, s14, "str_trade_explanation_velvet"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_spice"),
      (str_store_string, s14, "str_trade_explanation_spice"),
      (assign, ":var1", 1),
    (else_try),
      (eq, ":var4", "itm_apples"),
      (str_store_string, s14, "str_trade_explanation_apples"),
      (assign, ":var1", 1),
    (try_end),
    (try_begin),
      (eq, ":var1", 1),
      (assign, ":var8", -1),
      (store_skill_level, ":var9", "skl_trade", "trp_player"),
      (try_begin),
        (is_between, "$g_encountered_party", "p_village_1_1", "p_salt_mine"),
        (party_get_slot, ":var10", "$g_encountered_party", 121),
      (else_try),
        (assign, ":var10", "$g_encountered_party"),
      (try_end),
      (store_sub, ":var11", 310, "itm_spice"),
      (store_add, ":var12", ":var4", ":var11"),
      (party_get_slot, ":var13", ":var10", ":var12"),
      (val_add, ":var13", 400),
      (store_mul, ":var14", ":var9", 35),
      (try_begin),
        (is_between, "$g_encountered_party", "p_village_1_1", "p_salt_mine"),
        (val_add, ":var13", 200),
      (try_end),
      (val_sub, ":var13", ":var14"),
      (try_for_range, ":var15", 190, 205),
        (party_get_slot, ":var16", ":var10", ":var15"),
        (party_get_slot, ":var17", ":var16", ":var12"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (assign, reg4, ":var17"),
          (assign, reg5, ":var13"),
          (str_store_party_name, s10, ":var16"),
          (display_message, "str_s10_has_reg4_needs_reg5"),
        (try_end),
        (gt, ":var17", ":var13"),
        (assign, ":var8", ":var16"),
        (assign, ":var13", ":var17"),
      (try_end),
      (is_between, ":var8", "p_town_1_1", "p_salt_mine"),
      (str_store_party_name, s15, ":var8"),
      (str_store_string, s14, "str_s14_i_hear_that_you_can_find_a_good_price_for_it_in_s15"),
    (try_end),
  ]),

  ("tick_town_walkers",
  [
    (try_for_agents, ":var0"),
      (agent_get_troop_id, ":var1", ":var0"),
      (is_between, ":var1", "trp_town_walker_1", "trp_tournament_master"),
      (agent_get_slot, ":var2", ":var0", 0),
      (entry_point_get_position, pos1, ":var2"),
      (try_begin),
        (lt, ":var2", 32),
        (init_position, pos2),
        (position_set_y, pos2, 250),
        (position_transform_position_to_parent, pos1, pos1, pos2),
      (try_end),
      (agent_get_position, pos2, ":var0"),
      (get_distance_between_positions, ":var3", pos1, pos2),
      (lt, ":var3", 400),
      (assign, ":var4", 0),
      (try_begin),
        (lt, ":var2", 32),
        (store_random_in_range, ":var4", 0, 100),
      (try_end),
      (lt, ":var4", 20),
      (call_script, "script_set_town_walker_destination", ":var0"),
    (try_end),
  ]),

  ("set_town_walker_destination",
  [
    (store_script_param_1, ":var0"),
    (store_random_in_range, ":var1", 32, 40),
    (try_begin),
      (assign, ":var2", ":var1"),
    (try_end),
    (try_begin),
      (agent_set_slot, ":var0", 0, ":var2"),
      (entry_point_get_position, pos1, ":var2"),
      (try_begin),
        (init_position, pos2),
        (position_set_y, pos2, 250),
        (position_transform_position_to_parent, pos1, pos1, pos2),
      (try_end),
      (agent_set_scripted_destination, ":var0", pos1, 0),
      (agent_set_speed_limit, ":var0", 5),
    (try_end),
  ]),

  ("town_init_doors",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (assign, ":var1", 0),
      (try_begin),
        (eq, ":var0", 1),
        (assign, ":var1", 1),
      (else_try),
        (eq, ":var0", 0),
        (eq, "$town_nighttime", 0),
        (assign, ":var1", 1),
      (try_end),
      (eq, ":var1", 1),
      (assign, ":var2", 1),
      (try_for_range, ":var3", 0, ":var2"),
        (scene_prop_get_instance, ":var4", "spr_towngate_door_left", ":var3"),
        (ge, ":var4", 0),
        (val_add, ":var2", 1),
        (prop_instance_get_position, pos1, ":var4"),
        (position_rotate_z, pos1, -100),
        (prop_instance_animate_to_position, ":var4", pos1, 1),
      (try_end),
      (assign, ":var2", 1),
      (try_for_range, ":var3", 0, ":var2"),
        (scene_prop_get_instance, ":var4", "spr_towngate_rectangle_door_left", ":var3"),
        (ge, ":var4", 0),
        (val_add, ":var2", 1),
        (prop_instance_get_position, pos1, ":var4"),
        (position_rotate_z, pos1, -80),
        (prop_instance_animate_to_position, ":var4", pos1, 1),
      (try_end),
      (assign, ":var2", 1),
      (try_for_range, ":var3", 0, ":var2"),
        (scene_prop_get_instance, ":var4", "spr_towngate_door_right", ":var3"),
        (ge, ":var4", 0),
        (val_add, ":var2", 1),
        (prop_instance_get_position, pos1, ":var4"),
        (position_rotate_z, pos1, 100),
        (prop_instance_animate_to_position, ":var4", pos1, 1),
      (try_end),
      (assign, ":var2", 1),
      (try_for_range, ":var3", 0, ":var2"),
        (scene_prop_get_instance, ":var4", "spr_towngate_rectangle_door_right", ":var3"),
        (ge, ":var4", 0),
        (val_add, ":var2", 1),
        (prop_instance_get_position, pos1, ":var4"),
        (position_rotate_z, pos1, 80),
        (prop_instance_animate_to_position, ":var4", pos1, 1),
      (try_end),
    (try_end),
  ]),

  ("siege_init_ai_and_belfry",
  [
    (assign, "$cur_belfry_pos", 50),
    (assign, ":var0", 10),
    (store_current_scene, ":var1"),
    (try_for_range, ":var2", 0, 3),
      (scene_prop_get_instance, ":var3", "spr_belfry_a", ":var2"),
      (ge, ":var3", 0),
      (scene_set_slot, ":var1", ":var0", ":var3"),
      (val_add, ":var0", 1),
    (try_end),
    (try_for_range, ":var2", 0, 3),
      (scene_prop_get_instance, ":var3", "spr_belfry_platform_a", ":var2"),
      (ge, ":var3", 0),
      (scene_set_slot, ":var1", ":var0", ":var3"),
      (val_add, ":var0", 1),
    (try_end),
    (try_for_range, ":var2", 0, 3),
      (scene_prop_get_instance, ":var3", "spr_belfry_platform_b", ":var2"),
      (ge, ":var3", 0),
      (scene_set_slot, ":var1", ":var0", ":var3"),
      (val_add, ":var0", 1),
    (try_end),
    (assign, "$belfry_rotating_objects_begin", ":var0"),
    (try_for_range, ":var2", 0, 5),
      (scene_prop_get_instance, ":var3", "spr_belfry_wheel", ":var2"),
      (ge, ":var3", 0),
      (scene_set_slot, ":var1", ":var0", ":var3"),
      (val_add, ":var0", 1),
    (try_end),
    (assign, "$last_belfry_object_pos", ":var0"),
    (try_begin),
      (scene_prop_get_instance, ":var4", "spr_belfry_platform_a", 0),
    (try_end),
    (entry_point_get_position, pos1, 55),
    (entry_point_get_position, pos3, 50),
    (try_for_range, ":var5", 10, "$last_belfry_object_pos"),
      (assign, ":var6", 64),
      (val_add, ":var6", ":var5"),
      (val_sub, ":var6", 10),
      (scene_get_slot, ":var7", ":var1", ":var5"),
      (prop_instance_get_position, pos2, ":var7"),
      (try_begin),
        (eq, ":var7", ":var4"),
        (position_rotate_x, pos2, 90),
      (try_end),
      (position_transform_position_to_local, ":var6", pos1, pos2),
      (position_transform_position_to_parent, pos4, pos3, ":var6"),
      (prop_instance_animate_to_position, ":var7", pos4, 1),
    (try_end),
    (assign, "$belfry_positioned", 0),
    (assign, "$belfry_num_slots_positioned", 0),
    (assign, "$belfry_num_men_pushing", 0),
    (set_show_messages, 0),
    (team_give_order, "$attacker_team", 9, 11),
    (team_give_order, "$attacker_team_2", 9, 11),
    (team_give_order, "$attacker_team", 9, 13),
    (team_give_order, "$attacker_team_2", 9, 13),
    (set_show_messages, 1),
  ]),

  ("cf_siege_move_belfry",
  [
    (neq, "$last_belfry_object_pos", 10),
    (entry_point_get_position, pos1, 50),
    (entry_point_get_position, pos4, 55),
    (get_distance_between_positions, ":var0", pos4, pos1),
    (store_current_scene, ":var1"),
    (scene_get_slot, ":var2", ":var1", 10),
    (prop_instance_get_position, pos2, ":var2"),
    (entry_point_get_position, pos1, "$cur_belfry_pos"),
    (position_transform_position_to_parent, pos3, pos1, pos64),
    (position_transform_position_to_parent, pos5, pos4, pos64),
    (get_distance_between_positions, ":var3", pos2, pos3),
    (get_distance_between_positions, ":var4", pos2, pos5),
    (try_begin),
      (le, ":var3", 10),
      (val_add, "$cur_belfry_pos", 1),
      (entry_point_get_position, pos1, "$cur_belfry_pos"),
      (position_transform_position_to_parent, pos3, pos1, pos64),
      (get_distance_between_positions, ":var3", pos2, pos3),
    (try_end),
    (neq, "$cur_belfry_pos", 50),
    (assign, ":var5", 20),
    (store_div, ":var6", ":var0", 60),
    (store_sub, ":var7", ":var0", ":var4"),
    (try_begin),
      (lt, ":var7", ":var6"),
      (store_mul, ":var5", ":var7", -60),
      (val_div, ":var5", ":var6"),
      (val_add, ":var5", 80),
    (else_try),
      (lt, ":var4", ":var6"),
      (store_mul, ":var5", ":var4", -60),
      (val_div, ":var5", ":var6"),
      (val_add, ":var5", 80),
    (try_end),
    (store_mul, ":var8", ":var3", ":var5"),
    (try_begin),
      (eq, "$belfry_num_men_pushing", 0),
      (assign, ":var8", 1000000),
    (else_try),
      (val_mul, ":var8", 15),
      (val_div, ":var8", "$belfry_num_men_pushing"),
    (try_end),
    (try_begin),
      (le, "$cur_belfry_pos", 55),
      (init_position, pos3),
      (position_rotate_x, pos3, ":var7"),
      (scene_get_slot, ":var9", ":var1", 10),
      (prop_instance_get_position, pos4, ":var9"),
      (entry_point_get_position, pos1, "$cur_belfry_pos"),
      (try_for_range, ":var10", 10, "$last_belfry_object_pos"),
        (scene_get_slot, ":var11", ":var1", ":var10"),
        (try_begin),
          (ge, ":var10", "$belfry_rotating_objects_begin"),
          (prop_instance_get_starting_position, pos5, ":var9"),
          (prop_instance_get_starting_position, pos6, ":var11"),
          (position_transform_position_to_local, pos7, pos5, pos6),
          (position_transform_position_to_parent, pos5, pos4, pos7),
          (position_transform_position_to_parent, pos6, pos5, pos3),
          (prop_instance_set_position, ":var11", pos6),
        (else_try),
          (assign, ":var12", 64),
          (val_add, ":var12", ":var10"),
          (val_sub, ":var12", 10),
          (position_transform_position_to_parent, pos2, pos1, ":var12"),
          (prop_instance_animate_to_position, ":var11", pos2, ":var8"),
        (try_end),
      (try_end),
    (try_end),
    (gt, "$cur_belfry_pos", 55),
    (assign, "$belfry_positioned", 1),
  ]),

  ("cf_siege_rotate_belfry_platform",
  [
    (eq, "$belfry_positioned", 1),
    (scene_prop_get_instance, ":var0", "spr_belfry_platform_a", 0),
    (prop_instance_get_position, pos1, ":var0"),
    (position_rotate_x, pos1, -90),
    (prop_instance_animate_to_position, ":var0", pos1, 400),
    (assign, "$belfry_positioned", 2),
  ]),

  ("cf_siege_assign_men_to_belfry",
  [
    (neq, "$last_belfry_object_pos", 10),
    (assign, ":var0", 0),
    (try_begin),
      (lt, "$belfry_positioned", 3),
      (get_player_agent_no, ":var1"),
      (store_current_scene, ":var2"),
      (scene_get_slot, ":var3", ":var2", 10),
      (prop_instance_get_position, pos2, ":var3"),
      (assign, ":var4", 0),
      (assign, ":var5", 0),
      (assign, ":var6", 0),
      (assign, ":var7", 0),
      (assign, ":var8", 0),
      (assign, ":var9", 0),
      (assign, "$belfry_num_slots_positioned", 0),
      (try_begin),
        (get_player_agent_no, ":var1"),
        (agent_is_alive, ":var1"),
        (assign, ":var10", "$last_belfry_object_pos"),
        (try_for_range, ":var11", 10, ":var10"),
          (scene_get_slot, ":var12", ":var2", ":var11"),
          (scene_prop_has_agent_on_it, ":var12", ":var1"),
          (assign, ":var10", -1),
        (try_end),
        (eq, ":var10", "$last_belfry_object_pos"),
        (agent_get_team, ":var13", ":var1"),
        (this_or_next|eq, ":var13", "$attacker_team"),
        (eq, ":var13", "$attacker_team_2"),
        (init_position, pos3),
        (position_move_y, pos3, -600),
        (position_transform_position_to_parent, pos5, pos2, pos3),
        (agent_get_position, pos3, ":var1"),
        (get_distance_between_positions, ":var14", pos5, pos3),
        (lt, ":var14", 600),
        (agent_get_troop_id, ":var15", ":var1"),
        (store_attribute_level, "$belfry_num_men_pushing", ":var15", ca_strength),
      (else_try),
        (assign, "$belfry_num_men_pushing", 0),
      (try_end),
      (try_for_agents, ":var16"),
        (agent_is_active, ":var16"),
        (agent_is_alive, ":var16"),
        (agent_is_human, ":var16"),
        (try_begin),
          (agent_get_slot, ":var17", ":var16", 1),
          (try_begin),
            (this_or_next|eq, ":var17", 600),
            (eq, ":var17", -600),
            (store_agent_hit_points, ":var18", ":var16", 0),
            (le, ":var18", 33),
            (agent_clear_scripted_mode, ":var16"),
            (agent_force_rethink, ":var16"),
            (agent_get_entry_no, ":var19", ":var16"),
            (entry_point_get_position, pos1, ":var19"),
            (agent_set_scripted_destination, ":var16", pos1),
            (agent_set_slot, ":var16", 1, 0),
            (agent_set_slot, ":var16", 2, 0),
            (assign, ":var17", 0),
          (try_end),
          (neq, ":var17", 0),
          (agent_get_slot, ":var20", ":var16", 2),
          (try_begin),
            (eq, ":var17", -600),
            (try_begin),
              (eq, ":var20", 0),
              (val_add, ":var4", 1),
            (else_try),
              (eq, ":var20", -200),
              (val_add, ":var5", 1),
            (else_try),
              (val_add, ":var6", 1),
            (try_end),
          (else_try),
            (try_begin),
              (eq, ":var20", 0),
              (val_add, ":var7", 1),
            (else_try),
              (eq, ":var20", -200),
              (val_add, ":var8", 1),
            (else_try),
              (val_add, ":var9", 1),
            (try_end),
          (try_end),
          (val_add, "$belfry_num_slots_positioned", 1),
          (init_position, pos1),
          (position_move_x, 1, ":var17"),
          (position_move_y, pos1, ":var20"),
          (init_position, pos3),
          (position_move_x, 3, ":var17"),
          (position_move_y, pos3, -1000),
          (position_transform_position_to_parent, pos4, pos2, pos1),
          (position_transform_position_to_parent, pos5, pos2, pos3),
          (agent_get_position, pos6, ":var16"),
          (get_distance_between_positions, ":var14", pos6, pos4),
          (get_distance_between_positions, ":var21", pos6, pos5),
          (try_begin),
            (this_or_next|lt, ":var14", ":var21"),
            (lt, ":var21", 600),
            (agent_set_scripted_destination, ":var16", pos4, 1),
          (else_try),
            (agent_set_scripted_destination, ":var16", pos5, 1),
          (try_end),
          (try_begin),
            (le, ":var14", 300),
            (agent_get_troop_id, ":var22", ":var16"),
            (store_attribute_level, ":var23", ":var22", ca_strength),
            (store_agent_hit_points, ":var18", ":var16", 0),
            (val_mul, ":var23", ":var18"),
            (val_div, ":var23", 100),
            (val_add, "$belfry_num_men_pushing", ":var23"),
          (try_end),
        (try_end),
      (try_end),
      (try_begin),
        (lt, "$belfry_num_slots_positioned", 12),
        (try_for_agents, ":var16"),
          (lt, "$belfry_num_slots_positioned", 12),
          (agent_is_alive, ":var16"),
          (agent_get_team, ":var24", ":var16"),
          (this_or_next|eq, "$attacker_team", ":var24"),
          (eq, "$attacker_team_2", ":var24"),
          (neq, ":var1", ":var16"),
          (agent_get_class, ":var25", ":var16"),
          (try_begin),
            (eq, ":var25", 1),
            (agent_get_ammo, ":var26", ":var16"),
            (le, ":var26", 0),
            (assign, ":var25", 9),
          (try_end),
          (neq, ":var25", 1),
          (assign, ":var27", -1),
          (try_for_range, ":var28", 0, 4),
            (agent_get_item_slot, ":var29", ":var16", ":var28"),
            (gt, ":var29", 0),
            (item_get_type, ":var30", ":var29"),
            (eq, ":var30", 7),
            (assign, ":var27", ":var29"),
          (try_end),
          (this_or_next|gt, ":var27", 0),
          (lt, "$belfry_num_slots_positioned", 6),
          (store_agent_hit_points, ":var18", ":var16", 0),
          (eq, ":var18", 100),
          (agent_get_slot, ":var17", ":var16", 1),
          (eq, ":var17", 0),
          (assign, ":var20", 0),
          (try_begin),
            (eq, ":var8", 0),
            (assign, ":var17", 600),
            (assign, ":var20", -200),
            (val_add, ":var8", 1),
          (else_try),
            (eq, ":var5", 0),
            (assign, ":var17", -600),
            (assign, ":var20", -200),
            (val_add, ":var5", 1),
          (else_try),
            (lt, ":var4", 2),
            (assign, ":var17", -600),
            (assign, ":var20", 0),
            (val_add, ":var4", 1),
          (else_try),
            (lt, ":var7", 2),
            (assign, ":var17", 600),
            (assign, ":var20", 0),
            (val_add, ":var7", 1),
          (else_try),
            (lt, ":var6", 3),
            (assign, ":var17", -600),
            (assign, ":var20", -400),
            (val_add, ":var6", 1),
          (else_try),
            (lt, ":var9", 3),
            (assign, ":var17", 600),
            (assign, ":var20", -400),
            (val_add, ":var9", 1),
          (try_end),
          (val_add, "$belfry_num_slots_positioned", 1),
          (agent_set_slot, ":var16", 1, ":var17"),
          (agent_set_slot, ":var16", 2, ":var20"),
          (agent_ai_set_always_attack_in_melee, ":var16", 1),
          (try_begin),
            (gt, ":var27", 0),
            (agent_get_wielded_item, ":var29", ":var16", 1),
            (neq, ":var27", ":var29"),
            (agent_set_wielded_item, ":var16", ":var27"),
          (try_end),
          (agent_set_speed_limit, ":var16", 3),
        (try_end),
      (try_end),
    (else_try),
      (assign, ":var0", 1),
    (try_end),
    (eq, ":var0", 1),
  ]),

  ("siege_move_archers_to_archer_positions",
  [
    (try_for_agents, ":var0"),
      (agent_is_alive, ":var0"),
      (agent_slot_eq, ":var0", 5, 0),
      (agent_is_defender, ":var0"),
      (agent_get_division, ":var1", ":var0"),
      (agent_get_troop_id, ":var2", ":var0"),
      (eq, ":var1", 1),
      (str_store_troop_name, s1, ":var2"),
      (try_begin),
        (agent_slot_eq, ":var0", 11, 0),
        (store_random_in_range, ":var3", 40, 47),
        (assign, reg20, ":var3"),
        (agent_set_slot, ":var0", 11, ":var3"),
      (try_end),
      (try_begin),
        (agent_get_position, pos0, ":var0"),
        (agent_get_slot, ":var3", ":var0", 11),
        (entry_point_get_position, pos1, ":var3"),
        (get_distance_between_positions, ":var4", pos0, pos1),
        (lt, ":var4", 50),
        (agent_clear_scripted_mode, ":var0"),
        (agent_set_slot, ":var0", 4, 0),
        (agent_set_slot, ":var0", 5, 1),
        (str_store_troop_name, s1, ":var2"),
        (assign, reg0, ":var0"),
      (else_try),
        (agent_get_simple_behavior, ":var5", ":var0"),
        (agent_get_combat_state, ":var6", ":var0"),
        (assign, reg21, ":var6"),
        (this_or_next|eq, ":var5", 5),
        (eq, ":var5", 1),
        (this_or_next|eq, ":var6", 0),
        (eq, ":var6", 7),
        (try_begin),
          (agent_slot_eq, ":var0", 4, 0),
          (agent_set_scripted_destination, ":var0", pos1, 0),
          (agent_set_slot, ":var0", 4, 1),
        (try_end),
      (else_try),
        (try_begin),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("siege_move_archers_to_archer_positions_new",
  [
    (try_for_agents, ":var0"),
      (agent_is_alive, ":var0"),
      (agent_slot_eq, ":var0", 5, 0),
      (agent_is_defender, ":var0"),
      (agent_get_class, ":var1", ":var0"),
      (agent_get_troop_id, ":var2", ":var0"),
      (eq, ":var1", 1),
      (try_begin),
        (agent_slot_eq, ":var0", 11, 0),
        (store_random_in_range, ":var3", 40, 54),
        (agent_set_slot, ":var0", 11, ":var3"),
      (try_end),
      (try_begin),
        (agent_get_position, pos0, ":var0"),
        (entry_point_get_position, pos1, ":var3"),
        (get_distance_between_positions, ":var4", pos0, pos1),
        (lt, ":var4", 300),
        (agent_clear_scripted_mode, ":var0"),
        (agent_set_slot, ":var0", 4, 0),
        (agent_set_slot, ":var0", 5, 1),
        (str_store_troop_name, s1, ":var2"),
        (assign, reg0, ":var0"),
      (else_try),
        (agent_get_simple_behavior, ":var5", ":var0"),
        (agent_get_combat_state, ":var6", ":var0"),
        (this_or_next|eq, ":var5", 5),
        (eq, ":var5", 1),
        (eq, ":var6", 7),
        (try_begin),
          (agent_slot_eq, ":var0", 4, 0),
          (agent_set_scripted_destination, ":var0", pos1, 0),
          (agent_set_slot, ":var0", 4, 1),
          (str_store_troop_name, s1, ":var2"),
          (assign, reg0, ":var0"),
        (try_end),
      (else_try),
        (try_begin),
          (agent_slot_eq, ":var0", 4, 1),
          (agent_clear_scripted_mode, ":var0"),
          (agent_set_slot, ":var0", 4, 0),
          (str_store_troop_name, s1, ":var2"),
          (assign, reg0, ":var0"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("siege_move_infantry_to_infantry_positions_new",
  [
    (try_for_agents, ":var0"),
      (agent_is_alive, ":var0"),
      (agent_slot_eq, ":var0", 5, 0),
      (agent_get_team, ":var1", ":var0"),
      (this_or_next|eq, ":var1", "$defender_team"),
      (eq, ":var1", "$defender_team_2"),
      (agent_get_troop_id, ":var2", ":var0"),
      (try_begin),
        (agent_slot_eq, ":var0", 11, 0),
        (store_random_in_range, ":var3", 1, 4),
        (val_mul, ":var3", 10),
        (agent_set_slot, ":var0", 11, ":var3"),
      (try_end),
      (try_begin),
        (agent_get_position, pos0, ":var0"),
        (entry_point_get_position, pos1, ":var3"),
        (get_distance_between_positions, ":var4", pos0, pos1),
        (lt, ":var4", 200),
        (agent_clear_scripted_mode, ":var0"),
        (agent_set_slot, ":var0", 4, 0),
        (agent_set_slot, ":var0", 5, 1),
        (str_store_troop_name, s1, ":var2"),
        (assign, reg0, ":var0"),
      (else_try),
        (try_begin),
          (agent_slot_eq, ":var0", 4, 1),
          (agent_clear_scripted_mode, ":var0"),
          (agent_set_slot, ":var0", 4, 0),
          (str_store_troop_name, s1, ":var2"),
          (assign, reg0, ":var0"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("store_movement_order_name_to_s1",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (team_get_movement_order, ":var2", ":var0", ":var1"),
    (try_begin),
      (eq, ":var2", 0),
      (str_store_string, s1, "@Holding"),
    (else_try),
      (eq, ":var2", 1),
      (str_store_string, s1, "@Following"),
    (else_try),
      (eq, ":var2", 2),
      (str_store_string, s1, "@Charging"),
    (else_try),
      (eq, ":var2", 5),
      (str_store_string, s1, "@Advancing"),
    (else_try),
      (eq, ":var2", 6),
      (str_store_string, s1, "@Falling Back"),
    (else_try),
      (eq, ":var2", 7),
      (str_store_string, s1, "@Standing Closer"),
    (else_try),
      (eq, ":var2", 8),
      (str_store_string, s1, "@Spreading Out"),
    (else_try),
      (eq, ":var2", 11),
      (str_store_string, s1, "@Standing"),
    (else_try),
      (str_store_string, s1, "@N/A"),
    (try_end),
  ]),

  ("store_riding_order_name_to_s1",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (team_get_riding_order, ":var2", ":var0", ":var1"),
    (try_begin),
      (eq, ":var2", 0),
      (str_store_string, s1, "@Free"),
    (else_try),
      (eq, ":var2", 1),
      (str_store_string, s1, "@Mount"),
    (else_try),
      (eq, ":var2", 2),
      (str_store_string, s1, "@Dismount"),
    (else_try),
      (str_store_string, s1, "@N/A"),
    (try_end),
  ]),

  ("store_weapon_usage_order_name_to_s1",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (team_get_weapon_usage_order, ":var2", ":var0", ":var1"),
    (team_get_hold_fire_order, ":var3", ":var0", ":var1"),
    (try_begin),
      (eq, ":var2", 0),
      (eq, ":var3", 0),
      (str_store_string, s1, "@Any Weapon"),
    (else_try),
      (eq, ":var2", 1),
      (eq, ":var3", 0),
      (str_store_string, s1, "@Blunt Weapons"),
    (else_try),
      (eq, ":var2", 0),
      (eq, ":var3", 1),
      (str_store_string, s1, "str_hold_fire"),
    (else_try),
      (eq, ":var2", 1),
      (eq, ":var3", 1),
      (str_store_string, s1, "str_blunt_hold_fire"),
    (else_try),
      (str_store_string, s1, "@N/A"),
    (try_end),
  ]),

  ("team_give_order_from_order_panel",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (agent_get_team, ":var2", ":var0"),
    (set_show_messages, 0),
    (try_begin),
      (eq, "$g_formation_group0_selected", 1),
      (team_give_order, ":var2", 0, ":var1"),
    (try_end),
    (try_begin),
      (eq, "$g_formation_group1_selected", 1),
      (team_give_order, ":var2", 1, ":var1"),
    (try_end),
    (try_begin),
      (eq, "$g_formation_group2_selected", 1),
      (team_give_order, ":var2", 2, ":var1"),
    (try_end),
    (try_begin),
      (eq, "$g_formation_group3_selected", 1),
      (team_give_order, ":var2", 3, ":var1"),
    (try_end),
    (try_begin),
      (eq, "$g_formation_group4_selected", 1),
      (team_give_order, ":var2", 4, ":var1"),
    (try_end),
    (try_begin),
      (eq, "$g_formation_group5_selected", 1),
      (team_give_order, ":var2", 5, ":var1"),
    (try_end),
    (try_begin),
      (eq, "$g_formation_group6_selected", 1),
      (team_give_order, ":var2", 6, ":var1"),
    (try_end),
    (try_begin),
      (eq, "$g_formation_group7_selected", 1),
      (team_give_order, ":var2", 7, ":var1"),
    (try_end),
    (try_begin),
      (eq, "$g_formation_group8_selected", 1),
      (team_give_order, ":var2", 8, ":var1"),
    (try_end),
    (try_begin),
      (eq, ":var1", 0),
      (agent_get_position, pos1, ":var0"),
      (try_begin),
        (eq, "$g_formation_group0_selected", 1),
        (team_set_order_position, ":var2", 0, pos1),
      (try_end),
      (try_begin),
        (eq, "$g_formation_group1_selected", 1),
        (team_set_order_position, ":var2", 1, pos1),
      (try_end),
      (try_begin),
        (eq, "$g_formation_group2_selected", 1),
        (team_set_order_position, ":var2", 2, pos1),
      (try_end),
      (try_begin),
        (eq, "$g_formation_group3_selected", 1),
        (team_set_order_position, ":var2", 3, pos1),
      (try_end),
      (try_begin),
        (eq, "$g_formation_group4_selected", 1),
        (team_set_order_position, ":var2", 4, pos1),
      (try_end),
      (try_begin),
        (eq, "$g_formation_group5_selected", 1),
        (team_set_order_position, ":var2", 5, pos1),
      (try_end),
      (try_begin),
        (eq, "$g_formation_group6_selected", 1),
        (team_set_order_position, ":var2", 6, pos1),
      (try_end),
      (try_begin),
        (eq, "$g_formation_group7_selected", 1),
        (team_set_order_position, ":var2", 7, pos1),
      (try_end),
      (try_begin),
        (eq, "$g_formation_group8_selected", 1),
        (team_set_order_position, ":var2", 8, pos1),
      (try_end),
    (try_end),
    (set_show_messages, 1),
  ]),

  ("update_order_panel",
  [
    (store_script_param_1, ":var0"),
    (set_fixed_point_multiplier, 1000),
    (try_begin),
      (eq, "$group0_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 0),
      (overlay_set_text, "$g_presentation_but0_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 0),
      (overlay_set_text, "$g_presentation_but0_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 0),
      (overlay_set_text, "$g_presentation_but0_weapon_usage", s1),
    (try_end),
    (try_begin),
      (eq, "$group1_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 1),
      (overlay_set_text, "$g_presentation_but1_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 1),
      (overlay_set_text, "$g_presentation_but1_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 1),
      (overlay_set_text, "$g_presentation_but1_weapon_usage", s1),
    (try_end),
    (try_begin),
      (eq, "$group2_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 2),
      (overlay_set_text, "$g_presentation_but2_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 2),
      (overlay_set_text, "$g_presentation_but2_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 2),
      (overlay_set_text, "$g_presentation_but2_weapon_usage", s1),
    (try_end),
    (try_begin),
      (eq, "$group3_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 3),
      (overlay_set_text, "$g_presentation_but3_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 3),
      (overlay_set_text, "$g_presentation_but3_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 3),
      (overlay_set_text, "$g_presentation_but3_weapon_usage", s1),
    (try_end),
    (try_begin),
      (eq, "$group4_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 4),
      (overlay_set_text, "$g_presentation_but4_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 4),
      (overlay_set_text, "$g_presentation_but4_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 4),
      (overlay_set_text, "$g_presentation_but4_weapon_usage", s1),
    (try_end),
    (try_begin),
      (eq, "$group5_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 5),
      (overlay_set_text, "$g_presentation_but5_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 5),
      (overlay_set_text, "$g_presentation_but5_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 5),
      (overlay_set_text, "$g_presentation_but5_weapon_usage", s1),
    (try_end),
    (try_begin),
      (eq, "$group6_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 6),
      (overlay_set_text, "$g_presentation_but6_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 6),
      (overlay_set_text, "$g_presentation_but6_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 6),
      (overlay_set_text, "$g_presentation_but6_weapon_usage", s1),
    (try_end),
    (try_begin),
      (eq, "$group7_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 7),
      (overlay_set_text, "$g_presentation_but7_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 7),
      (overlay_set_text, "$g_presentation_but7_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 7),
      (overlay_set_text, "$g_presentation_but7_weapon_usage", s1),
    (try_end),
    (try_begin),
      (eq, "$group8_has_troops", 1),
      (call_script, "script_store_movement_order_name_to_s1", ":var0", 8),
      (overlay_set_text, "$g_presentation_but8_movement", s1),
      (call_script, "script_store_riding_order_name_to_s1", ":var0", 8),
      (overlay_set_text, "$g_presentation_but8_riding", s1),
      (call_script, "script_store_weapon_usage_order_name_to_s1", ":var0", 8),
      (overlay_set_text, "$g_presentation_but8_weapon_usage", s1),
    (try_end),
    (assign, ":var1", 660),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group0_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but0_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but0_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but0_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group1_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but1_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but1_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but1_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group2_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but2_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but2_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but2_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group3_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but3_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but3_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but3_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group4_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but4_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but4_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but4_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group5_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but5_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but5_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but5_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group6_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but6_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but6_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but6_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group7_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but7_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but7_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but7_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
    (try_begin),
      (position_set_y, pos1, ":var1"),
      (eq, "$group8_has_troops", 1),
      (position_set_x, pos1, 270),
      (overlay_set_position, "$g_presentation_but8_movement", pos1),
      (position_set_x, pos1, 410),
      (overlay_set_position, "$g_presentation_but8_riding", pos1),
      (position_set_x, pos1, 550),
      (overlay_set_position, "$g_presentation_but8_weapon_usage", pos1),
      (val_add, ":var1", -40),
    (try_end),
  ]),

  ("update_agent_position_on_map",
  [
    (store_script_param_1, ":var0"),
    (agent_get_slot, ":var1", ":var0", 10),
    (get_player_agent_no, ":var2"),
    (try_begin),
      (le, ":var1", 0),
      (set_fixed_point_multiplier, 1000),
      (try_begin),
        (eq, ":var0", ":var2"),
        (create_mesh_overlay, reg1, "mesh_player_dot"),
        (position_set_x, pos1, 500),
        (position_set_y, pos1, 500),
        (overlay_set_size, reg1, pos1),
      (else_try),
        (create_mesh_overlay, reg1, "mesh_white_dot"),
        (position_set_x, pos1, 200),
        (position_set_y, pos1, 200),
        (overlay_set_size, reg1, pos1),
      (try_end),
      (overlay_set_alpha, reg1, 0x88),
      (agent_set_slot, ":var0", 10, reg1),
      (assign, ":var1", reg1),
    (try_end),
    (try_begin),
      (neq, ":var0", ":var2"),
      (agent_get_party_id, ":var3", ":var0"),
      (try_begin),
        (eq, ":var3", "p_main_party"),
        (agent_get_division, ":var4", ":var0"),
        (try_begin),
          (eq, ":var4", 0),
          (overlay_set_color, ":var1", 0x8D5220),
        (else_try),
          (eq, ":var4", 1),
          (overlay_set_color, ":var1", 0x34C6E4),
        (else_try),
          (eq, ":var4", 2),
          (overlay_set_color, ":var1", 0x569619),
        (else_try),
          (eq, ":var4", 3),
          (overlay_set_color, ":var1", 0xFFE500),
        (else_try),
          (eq, ":var4", 4),
          (overlay_set_color, ":var1", 0x990099),
        (else_try),
          (eq, ":var4", 5),
          (overlay_set_color, ":var1", 0x99FE80),
        (else_try),
          (eq, ":var4", 6),
          (overlay_set_color, ":var1", 0x9DEFFE),
        (else_try),
          (eq, ":var4", 7),
          (overlay_set_color, ":var1", 0xFECB9D),
        (else_try),
          (eq, ":var4", 8),
          (overlay_set_color, ":var1", 0xB19C9C),
        (try_end),
      (else_try),
        (agent_is_ally, ":var0"),
        (overlay_set_color, ":var1", 0x5555FF),
      (else_try),
        (overlay_set_color, ":var1", 0xFF0000),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var0", ":var2"),
      (agent_get_look_position, pos1, ":var0"),
      (position_get_rotation_around_z, ":var5", pos1),
      (init_position, pos10),
      (position_rotate_z, pos10, ":var5"),
      (overlay_set_mesh_rotation, ":var1", pos10),
      (call_script, "script_convert_3d_pos_to_map_pos"),
    (else_try),
      (agent_get_position, pos1, ":var0"),
      (call_script, "script_convert_3d_pos_to_map_pos"),
    (try_end),
    (overlay_set_position, ":var1", pos0),
  ]),

  ("convert_3d_pos_to_map_pos",
  [
    (set_fixed_point_multiplier, 1000),
    (position_transform_position_to_local, pos3, pos2, pos1),
    (position_get_x, ":var0", pos3),
    (position_get_y, ":var1", pos3),
    (val_div, ":var0", "$g_battle_map_scale"),
    (val_div, ":var1", "$g_battle_map_scale"),
    (set_fixed_point_multiplier, 1000),
    (store_sub, ":var2", 980, "$g_battle_map_width"),
    (store_sub, ":var3", 730, "$g_battle_map_height"),
    (val_add, ":var0", ":var2"),
    (val_add, ":var1", ":var3"),
    (position_set_x, pos0, ":var0"),
    (position_set_y, pos0, ":var1"),
  ]),

  ("update_order_flags_on_map",
  [
    (set_fixed_point_multiplier, 1000),
    (get_player_agent_no, ":var0"),
    (agent_get_team, ":var1", ":var0"),
    (get_scene_boundaries, pos2, pos3),
    (team_get_movement_order, ":var2", ":var1", 0),
    (try_begin),
      (eq, ":var2", 0),
      (team_get_order_position, pos1, ":var1", 0),
      (call_script, "script_convert_3d_pos_to_map_pos"),
      (overlay_set_alpha, "$g_battle_map_infantry_order_flag", 0xFF),
      (overlay_set_position, "$g_battle_map_infantry_order_flag", pos0),
    (else_try),
      (overlay_set_alpha, "$g_battle_map_infantry_order_flag", 0x00),
    (try_end),
    (team_get_movement_order, ":var2", ":var1", 1),
    (try_begin),
      (eq, ":var2", 0),
      (team_get_order_position, pos1, ":var1", 1),
      (call_script, "script_convert_3d_pos_to_map_pos"),
      (overlay_set_alpha, "$g_battle_map_archers_order_flag", 0xFF),
      (overlay_set_position, "$g_battle_map_archers_order_flag", pos0),
    (else_try),
      (overlay_set_alpha, "$g_battle_map_archers_order_flag", 0x00),
    (try_end),
    (team_get_movement_order, ":var2", ":var1", 2),
    (try_begin),
      (eq, ":var2", 0),
      (team_get_order_position, pos1, ":var1", 2),
      (call_script, "script_convert_3d_pos_to_map_pos"),
      (overlay_set_alpha, "$g_battle_map_cavalry_order_flag", 0xFF),
      (overlay_set_position, "$g_battle_map_cavalry_order_flag", pos0),
    (else_try),
      (overlay_set_alpha, "$g_battle_map_cavalry_order_flag", 0x00),
    (try_end),
  ]),

  ("update_order_panel_checked_classes",
  [
    (get_player_agent_no, ":var0"),
    (agent_get_team, ":var1", ":var0"),
    (try_begin),
      (eq, "$group0_has_troops", 1),
      (class_is_listening_order, ":var1", 0),
      (overlay_set_val, "$g_presentation_obj_battle_check0", 1),
      (assign, "$g_formation_group0_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but0", 250, 0x000044),
    (else_try),
      (eq, "$group0_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check0", 0),
      (assign, "$g_formation_group0_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but0", 250, 0x000000),
    (try_end),
    (try_begin),
      (eq, "$group1_has_troops", 1),
      (class_is_listening_order, ":var1", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check1", 1),
      (assign, "$g_formation_group1_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but1", 250, 0x000044),
    (else_try),
      (eq, "$group1_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check1", 0),
      (assign, "$g_formation_group1_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but1", 250, 0x000000),
    (try_end),
    (try_begin),
      (eq, "$group2_has_troops", 1),
      (class_is_listening_order, ":var1", 2),
      (overlay_set_val, "$g_presentation_obj_battle_check2", 1),
      (assign, "$g_formation_group2_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but2", 250, 0x000044),
    (else_try),
      (eq, "$group2_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check2", 0),
      (assign, "$g_formation_group2_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but2", 250, 0x000000),
    (try_end),
    (try_begin),
      (eq, "$group3_has_troops", 1),
      (class_is_listening_order, ":var1", 3),
      (overlay_set_val, "$g_presentation_obj_battle_check3", 1),
      (assign, "$g_formation_group3_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but3", 250, 0x000044),
    (else_try),
      (eq, "$group3_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check3", 0),
      (assign, "$g_formation_group3_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but3", 250, 0x000000),
    (try_end),
    (try_begin),
      (eq, "$group4_has_troops", 1),
      (class_is_listening_order, ":var1", 4),
      (overlay_set_val, "$g_presentation_obj_battle_check4", 1),
      (assign, "$g_formation_group4_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but4", 250, 0x000044),
    (else_try),
      (eq, "$group4_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check4", 0),
      (assign, "$g_formation_group4_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but4", 250, 0x000000),
    (try_end),
    (try_begin),
      (eq, "$group5_has_troops", 1),
      (class_is_listening_order, ":var1", 5),
      (overlay_set_val, "$g_presentation_obj_battle_check5", 1),
      (assign, "$g_formation_group5_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but5", 250, 0x000044),
    (else_try),
      (eq, "$group5_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check5", 0),
      (assign, "$g_formation_group5_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but5", 250, 0x000000),
    (try_end),
    (try_begin),
      (eq, "$group6_has_troops", 1),
      (class_is_listening_order, ":var1", 6),
      (overlay_set_val, "$g_presentation_obj_battle_check6", 1),
      (assign, "$g_formation_group6_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but6", 250, 0x000044),
    (else_try),
      (eq, "$group6_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check6", 0),
      (assign, "$g_formation_group6_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but6", 250, 0x000000),
    (try_end),
    (try_begin),
      (eq, "$group7_has_troops", 1),
      (class_is_listening_order, ":var1", 7),
      (overlay_set_val, "$g_presentation_obj_battle_check7", 1),
      (assign, "$g_formation_group7_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but7", 250, 0x000044),
    (else_try),
      (eq, "$group7_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check7", 0),
      (assign, "$g_formation_group7_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but7", 250, 0x000000),
    (try_end),
    (try_begin),
      (eq, "$group8_has_troops", 1),
      (class_is_listening_order, ":var1", 8),
      (overlay_set_val, "$g_presentation_obj_battle_check8", 1),
      (assign, "$g_formation_group8_selected", 1),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but8", 250, 0x000044),
    (else_try),
      (eq, "$group8_has_troops", 1),
      (overlay_set_val, "$g_presentation_obj_battle_check8", 0),
      (assign, "$g_formation_group8_selected", 0),
      (overlay_animate_to_alpha, "$g_presentation_obj_battle_but8", 250, 0x000000),
    (try_end),
  ]),

  ("update_order_panel_statistics_and_map",
  [
    (set_fixed_point_multiplier, 1000),
    (assign, ":var0", 0),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (assign, ":var8", 0),
    (assign, ":var9", 0),
    (assign, ":var10", 0),
    (assign, ":var11", 0),
    (assign, ":var12", 0),
    (assign, ":var13", 0),
    (assign, ":var14", 0),
    (assign, ":var15", 0),
    (assign, ":var16", 0),
    (assign, ":var17", 0),
    (assign, ":var18", 0),
    (assign, ":var19", 0),
    (assign, ":var20", 0),
    (get_scene_boundaries, pos2, pos3),
    (try_for_agents, ":var21"),
      (agent_is_human, ":var21"),
      (agent_get_division, ":var22", ":var21"),
      (agent_get_party_id, ":var23", ":var21"),
      (agent_get_slot, ":var24", ":var21", 10),
      (try_begin),
        (eq, ":var23", "p_main_party"),
        (try_begin),
          (agent_is_alive, ":var21"),
          (call_script, "script_update_agent_position_on_map", ":var21"),
          (try_begin),
            (eq, ":var22", 0),
            (val_add, ":var0", 1),
            (eq, "$group0_has_troops", 1),
          (else_try),
            (eq, ":var22", 1),
            (val_add, ":var1", 1),
            (eq, "$group1_has_troops", 1),
          (else_try),
            (eq, ":var22", 2),
            (val_add, ":var2", 1),
            (eq, "$group2_has_troops", 1),
          (else_try),
            (eq, ":var22", 3),
            (val_add, ":var3", 1),
            (eq, "$group3_has_troops", 1),
          (else_try),
            (eq, ":var22", 4),
            (val_add, ":var4", 1),
            (eq, "$group4_has_troops", 1),
          (else_try),
            (eq, ":var22", 5),
            (val_add, ":var5", 1),
            (eq, "$group5_has_troops", 1),
          (else_try),
            (eq, ":var22", 6),
            (val_add, ":var6", 1),
            (eq, "$group6_has_troops", 1),
          (else_try),
            (eq, ":var22", 7),
            (val_add, ":var7", 1),
            (eq, "$group7_has_troops", 1),
          (else_try),
            (eq, ":var22", 8),
            (val_add, ":var8", 1),
            (eq, "$group8_has_troops", 1),
          (try_end),
          (val_add, ":var9", 1),
        (else_try),
          (overlay_set_alpha, ":var24", 0x00),
          (agent_is_wounded, ":var21"),
          (val_add, ":var10", 1),
        (else_try),
          (agent_is_routed, ":var21"),
          (val_add, ":var11", 1),
        (else_try),
          (val_add, ":var12", 1),
        (try_end),
      (else_try),
        (agent_is_ally, ":var21"),
        (try_begin),
          (agent_is_alive, ":var21"),
          (call_script, "script_update_agent_position_on_map", ":var21"),
          (val_add, ":var13", 1),
        (else_try),
          (overlay_set_alpha, ":var24", 0x00),
          (agent_is_wounded, ":var21"),
          (val_add, ":var14", 1),
        (else_try),
          (agent_is_routed, ":var21"),
          (val_add, ":var15", 1),
        (else_try),
          (val_add, ":var16", 1),
        (try_end),
      (else_try),
        (try_begin),
          (agent_is_alive, ":var21"),
          (call_script, "script_update_agent_position_on_map", ":var21"),
          (val_add, ":var17", 1),
        (else_try),
          (overlay_set_alpha, ":var24", 0x00),
          (agent_is_wounded, ":var21"),
          (val_add, ":var18", 1),
        (else_try),
          (agent_is_routed, ":var21"),
          (val_add, ":var19", 1),
        (else_try),
          (val_add, ":var20", 1),
        (try_end),
      (try_end),
    (try_end),
    (assign, reg1, ":var0"),
    (assign, reg2, ":var1"),
    (assign, reg3, ":var2"),
    (assign, reg4, ":var3"),
    (assign, reg5, ":var4"),
    (assign, reg6, ":var5"),
    (assign, reg7, ":var6"),
    (assign, reg8, ":var7"),
    (assign, reg9, ":var8"),
    (assign, reg10, ":var9"),
    (assign, reg11, ":var10"),
    (assign, reg12, ":var11"),
    (assign, reg13, ":var12"),
    (assign, reg14, ":var13"),
    (assign, reg15, ":var14"),
    (assign, reg16, ":var15"),
    (assign, reg17, ":var16"),
    (assign, reg18, ":var17"),
    (assign, reg19, ":var18"),
    (assign, reg20, ":var19"),
    (assign, reg21, ":var20"),
    (try_begin),
      (eq, "$group0_has_troops", 1),
      (str_store_class_name, 1, 0),
      (overlay_set_text, "$g_presentation_obj_battle_name0", "str_s1_reg1"),
    (try_end),
    (try_begin),
      (eq, "$group1_has_troops", 1),
      (str_store_class_name, 1, 1),
      (overlay_set_text, "$g_presentation_obj_battle_name1", "str_s1_reg2"),
    (try_end),
    (try_begin),
      (eq, "$group2_has_troops", 1),
      (str_store_class_name, 1, 2),
      (overlay_set_text, "$g_presentation_obj_battle_name2", "str_s1_reg3"),
    (try_end),
    (try_begin),
      (eq, "$group3_has_troops", 1),
      (str_store_class_name, 1, 3),
      (overlay_set_text, "$g_presentation_obj_battle_name3", "str_s1_reg4"),
    (try_end),
    (try_begin),
      (eq, "$group4_has_troops", 1),
      (str_store_class_name, 1, 4),
      (overlay_set_text, "$g_presentation_obj_battle_name4", "str_s1_reg5"),
    (try_end),
    (try_begin),
      (eq, "$group5_has_troops", 1),
      (str_store_class_name, 1, 5),
      (overlay_set_text, "$g_presentation_obj_battle_name5", "str_s1_reg6"),
    (try_end),
    (try_begin),
      (eq, "$group6_has_troops", 1),
      (str_store_class_name, 1, 6),
      (overlay_set_text, "$g_presentation_obj_battle_name6", "str_s1_reg7"),
    (try_end),
    (try_begin),
      (eq, "$group7_has_troops", 1),
      (str_store_class_name, 1, 7),
      (overlay_set_text, "$g_presentation_obj_battle_name7", "str_s1_reg8"),
    (try_end),
    (try_begin),
      (eq, "$group8_has_troops", 1),
      (str_store_class_name, 1, 8),
      (overlay_set_text, "$g_presentation_obj_battle_name8", "str_s1_reg9"),
    (try_end),
    (overlay_set_text, "$g_battle_us_ready", "@{!}{reg10}"),
    (overlay_set_text, "$g_battle_us_wounded", "@{!}{reg11}"),
    (overlay_set_text, "$g_battle_us_routed", "@{!}{reg12}"),
    (overlay_set_text, "$g_battle_us_dead", "str_reg13"),
    (overlay_set_text, "$g_battle_allies_ready", "str_reg14"),
    (overlay_set_text, "$g_battle_allies_wounded", "str_reg15"),
    (overlay_set_text, "$g_battle_allies_routed", "str_reg16"),
    (overlay_set_text, "$g_battle_allies_dead", "str_reg17"),
    (overlay_set_text, "$g_battle_enemies_ready", "str_reg18"),
    (overlay_set_text, "$g_battle_enemies_wounded", "str_reg19"),
    (overlay_set_text, "$g_battle_enemies_routed", "str_reg20"),
    (overlay_set_text, "$g_battle_enemies_dead", "str_reg21"),
    (assign, ":var25", 675),
    (assign, ":var26", 280),
    (val_add, ":var25", 70),
    (val_add, ":var26", 60),
    (position_set_x, pos1, ":var25"),
    (position_set_y, pos1, ":var26"),
    (overlay_set_position, "$g_battle_us_ready", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_us_wounded", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_us_routed", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_us_dead", pos1),
    (val_add, ":var25", -210),
    (val_add, ":var26", -30),
    (position_set_x, pos1, ":var25"),
    (position_set_y, pos1, ":var26"),
    (overlay_set_position, "$g_battle_allies_ready", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_allies_wounded", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_allies_routed", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_allies_dead", pos1),
    (val_add, ":var25", -210),
    (val_add, ":var26", -30),
    (position_set_x, pos1, ":var25"),
    (position_set_y, pos1, ":var26"),
    (overlay_set_position, "$g_battle_enemies_ready", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_enemies_wounded", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_enemies_routed", pos1),
    (val_add, ":var25", 70),
    (position_set_x, pos1, ":var25"),
    (overlay_set_position, "$g_battle_enemies_dead", pos1),
    (call_script, "script_update_order_flags_on_map"),
  ]),

  ("set_town_picture",
  [
    (party_get_slot, ":var0", "$current_town", 19),
    (try_begin),
      (this_or_next|eq, ":var0", 6),
      (this_or_next|eq, ":var0", 7),
      (this_or_next|eq, ":var0", 9),
      (this_or_next|eq, ":var0", 18),
      (this_or_next|eq, ":var0", 19),
      (this_or_next|eq, ":var0", 13),
      (this_or_next|eq, ":var0", 21),
      (this_or_next|eq, ":var0", 22),
      (this_or_next|eq, ":var0", 24),
      (this_or_next|eq, ":var0", 39),
      (this_or_next|eq, ":var0", 27),
      (this_or_next|eq, ":var0", 28),
      (eq, ":var0", 25),
      (try_begin),
        (is_between, "$current_town", "p_village_1_1", "p_salt_mine"),
        (set_background_mesh, "mesh_pic_cataholic_village"),
      (else_try),
        (is_between, "$current_town", "p_castle_1_1", "p_village_1_1"),
        (set_background_mesh, "mesh_pic_cataholic_castle"),
      (else_try),
        (set_background_mesh, "mesh_pic_cataholic_town"),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var0", 14),
      (eq, ":var0", 10),
      (try_begin),
        (is_between, "$current_town", "p_village_1_1", "p_salt_mine"),
        (set_background_mesh, "mesh_pic_baltic_village"),
      (else_try),
        (is_between, "$current_town", "p_castle_1_1", "p_village_1_1"),
        (set_background_mesh, "mesh_pic_baltic_castle"),
      (else_try),
        (set_background_mesh, "mesh_pic_baltic_town"),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var0", 8),
      (this_or_next|eq, ":var0", 11),
      (this_or_next|eq, ":var0", 12),
      (this_or_next|eq, ":var0", 17),
      (eq, ":var0", 26),
      (try_begin),
        (is_between, "$current_town", "p_village_1_1", "p_salt_mine"),
        (set_background_mesh, "mesh_pic_orthodox_village"),
      (else_try),
        (is_between, "$current_town", "p_castle_1_1", "p_village_1_1"),
        (set_background_mesh, "mesh_pic_orthodox_castle"),
      (else_try),
        (set_background_mesh, "mesh_pic_orthodox_town"),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var0", 15),
      (this_or_next|eq, ":var0", 16),
      (this_or_next|eq, ":var0", 20),
      (eq, ":var0", 23),
      (try_begin),
        (is_between, "$current_town", "p_village_1_1", "p_salt_mine"),
        (set_background_mesh, "mesh_pic_muslim_village"),
      (else_try),
        (is_between, "$current_town", "p_castle_1_1", "p_village_1_1"),
        (set_background_mesh, "mesh_pic_muslim_castle"),
      (else_try),
        (set_background_mesh, "mesh_pic_muslim_town"),
      (try_end),
    (else_try),
      (try_begin),
        (is_between, "$current_town", "p_village_1_1", "p_salt_mine"),
        (set_background_mesh, "mesh_pic_cataholic_village"),
      (else_try),
        (is_between, "$current_town", "p_castle_1_1", "p_village_1_1"),
        (set_background_mesh, "mesh_pic_cataholic_castle"),
      (else_try),
        (set_background_mesh, "mesh_pic_cataholic_town"),
      (try_end),
    (try_end),
  ]),

  ("consume_food",
  [
    (store_script_param, ":var0", 1),
    (troop_get_inventory_capacity, ":var1", "trp_player"),
    (try_for_range, ":var2", 0, ":var1"),
      (troop_get_inventory_slot, ":var3", "trp_player", ":var2"),
      (is_between, ":var3", "itm_smoked_fish", "itm_siege_supply"),
      (troop_get_inventory_slot_modifier, ":var4", "trp_player", ":var2"),
      (neq, ":var4", 41),
      (item_slot_eq, ":var3", 0, 0),
      (item_set_slot, ":var3", 0, 1),
      (val_sub, ":var0", 1),
      (lt, ":var0", 0),
      (assign, ":var1", 0),
      (troop_inventory_slot_get_item_amount, ":var5", "trp_player", ":var2"),
      (val_sub, ":var5", 1),
      (troop_inventory_slot_set_item_amount, "trp_player", ":var2", ":var5"),
    (try_end),
  ]),

  ("calculate_troop_score_for_center",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 1),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (assign, ":var4", 0),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (party_slot_eq, ":var3", 7, -2),
        (assign, ":var4", 1),
      (try_end),
      (this_or_next|party_slot_eq, ":var3", 7, ":var0"),
      (eq, ":var4", 1),
      (try_begin),
        (party_slot_eq, ":var3", 0, 3),
        (val_add, ":var2", 4),
      (else_try),
        (party_slot_eq, ":var3", 0, 2),
        (val_add, ":var2", 2),
      (else_try),
        (val_add, ":var2", 1),
      (try_end),
    (try_end),
    (troop_get_slot, ":var5", ":var0", 7),
    (store_add, ":var6", 500, ":var5"),
    (val_div, ":var6", ":var2"),
    (store_random_in_range, ":var7", 50, 100),
    (val_mul, ":var6", ":var7"),
    (try_begin),
      (party_slot_eq, ":var1", 28, ":var0"),
      (val_mul, ":var6", 3),
      (val_div, ":var6", 2),
    (try_end),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (faction_get_slot, ":var8", "$players_kingdom"),
      (call_script, "script_troop_get_player_relation", ":var8"),
      (assign, ":var9", reg0),
      (val_mul, ":var9", 2),
      (val_add, ":var6", ":var9"),
    (try_end),
    (assign, reg0, ":var6"),
  ]),

  ("assign_lords_to_empty_centers",
  [
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_assigning_lords_to_empty_centers"),
      (str_store_string, s65, "str_assign_lords_to_empty_centers_just_happened"),
      (call_script, "script_add_notification_menu", "mnu_debug_alert_from_s65", 0, 0),
    (try_end),
    (try_for_range, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_set_slot, ":var0", 12, 0),
    (try_end),
    (try_for_range, ":var1", 0, "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var1", 166, 1),
      (troop_set_slot, ":var1", 46, 0),
    (try_end),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var3", ":var2", 7),
      (try_begin),
        (this_or_next|eq, ":var3", -1),
        (eq, ":var3", -3),
        (store_faction_of_party, ":var4", ":var2"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_party_name, s4, ":var2"),
          (str_store_faction_name, s5, ":var4"),
          (display_message, "str_s4_of_the_s5_is_unassigned"),
        (try_end),
        (faction_get_slot, ":var5", ":var4", 12),
        (val_add, ":var5", 1),
        (faction_set_slot, ":var4", 12, ":var5"),
      (else_try),
        (eq, ":var3", -2),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_party_name, s4, ":var2"),
          (str_store_faction_name, s5, ":var4"),
          (display_message, "str_s4_of_the_s5_is_reserved_for_player"),
        (try_end),
      (else_try),
        (ge, ":var3", 0),
        (troop_set_slot, ":var3", 46, 1),
      (try_end),
    (try_end),
    (try_for_range, ":var1", 0, "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var1", 166, 1),
      (troop_slot_eq, ":var1", 2, 2),
      (this_or_next|gt, ":var1", "trp_player"),
      (eq, "$player_has_homage", 1),
      (troop_slot_eq, ":var1", 46, 0),
      (store_faction_of_troop, ":var6", ":var1"),
      (is_between, ":var6", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var1"),
        (str_store_faction_name, s5, ":var6"),
        (display_message, "str_s4_of_the_s5_has_no_fiefs"),
      (try_end),
      (try_begin),
        (eq, ":var6", "$players_kingdom"),
        (str_store_troop_name_link, s4, ":var1"),
        (str_store_faction_name_link, s5, ":var6"),
        (display_message, "str_s4_of_the_s5_has_no_fiefs", 0xFF2222),
      (try_end),
      (faction_get_slot, ":var5", ":var6", 12),
      (val_add, ":var5", 1),
      (faction_set_slot, ":var6", 12, ":var5"),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (try_for_range, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_get_slot, reg4, ":var0", 12),
        (str_store_faction_name, s4, ":var0"),
        (display_message, "str_s4_unassigned_centers_plus_landless_lords_=_reg4"),
      (try_end),
    (try_end),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var3", ":var2", 7),
      (this_or_next|eq, ":var3", -1),
      (eq, ":var3", -3),
      (store_faction_of_party, ":var4", ":var2"),
      (is_between, ":var4", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neg|faction_slot_eq, ":var4", 11, "trp_player"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_party_name, s5, ":var2"),
        (try_begin),
          (neg|faction_slot_ge, ":var4", 12, 2),
          (str_store_faction_name, s4, ":var4"),
          (display_message, "str_s4_holds_s5_in_reserve"),
        (try_end),
      (try_end),
      (faction_slot_ge, ":var4", 12, 2),
      (assign, ":var7", -1),
      (assign, ":var8", -1),
      (try_begin),
        (eq, ":var3", -1),
        (try_begin),
          (eq, "$players_kingdom", ":var4"),
          (eq, "$player_has_homage", 1),
          (assign, ":var7", -2),
          (call_script, "script_calculate_troop_score_for_center", "trp_player", ":var2"),
          (assign, ":var8", reg0),
        (try_end),
      (try_end),
      (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var9", 166, 1),
        (troop_slot_eq, ":var9", 2, 2),
        (store_faction_of_troop, ":var10", ":var9"),
        (eq, ":var10", ":var4"),
        (call_script, "script_calculate_troop_score_for_center", ":var9", ":var2"),
        (assign, ":var11", reg0),
        (try_begin),
          (troop_slot_eq, ":var9", 46, 0),
          (is_between, ":var2", "p_village_1_1", "p_salt_mine"),
          (val_mul, ":var11", 10),
        (try_end),
        (gt, ":var11", ":var8"),
        (assign, ":var8", ":var11"),
        (assign, ":var7", ":var9"),
      (try_end),
      (try_begin),
        (this_or_next|ge, ":var7", 0),
        (eq, ":var7", -2),
        (faction_get_slot, ":var12", ":var4", 12),
        (val_sub, ":var12", 1),
        (try_begin),
          (eq, ":var7", -2),
          (troop_slot_eq, "trp_player", 46, 0),
          (troop_set_slot, "trp_player", 46, 1),
          (val_sub, ":var12", 1),
        (else_try),
          (troop_slot_eq, ":var7", 46, 0),
          (troop_set_slot, ":var7", 46, 1),
          (val_sub, ":var12", 1),
        (try_end),
        (faction_set_slot, ":var4", 12, ":var12"),
      (try_end),
      (try_begin),
        (ge, ":var7", 0),
        (call_script, "script_give_center_to_lord", ":var2", ":var7", 1),
      (else_try),
        (eq, ":var7", -2),
        (party_set_slot, ":var2", 7, -2),
        (try_begin),
          (party_slot_eq, ":var2", 0, 2),
          (try_for_range, ":var13", "p_village_1_1", "p_salt_mine"),
            (party_slot_eq, ":var13", 120, ":var2"),
            (party_slot_eq, ":var13", 7, -1),
            (party_set_slot, ":var13", 7, -2),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("create_village_farmer_party",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 121),
    (store_faction_of_party, ":var2", ":var1"),
    (try_begin),
      (is_between, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (is_between, ":var1", "p_town_1_1", "p_castle_1_1"),
      (set_spawn_radius, 0),
      (spawn_around_party, ":var0", "pt_village_farmers"),
      (assign, ":var3", reg0),
      (party_set_faction, ":var3", ":var2"),
      (party_set_slot, ":var3", 123, ":var0"),
      (party_set_slot, ":var3", 126, ":var0"),
      (party_set_slot, ":var3", 0, 15),
      (party_set_slot, ":var3", 4, 13),
      (party_set_slot, ":var3", 5, ":var1"),
      (party_set_ai_behavior, ":var3", ai_bhvr_travel_to_party),
      (party_set_ai_object, ":var3", ":var1"),
      (party_set_flags, ":var3", pf_default_behavior, 0),
      (store_sub, ":var4", 310, "itm_spice"),
      (try_for_range, ":var5", "itm_spice", "itm_siege_supply"),
        (store_add, ":var6", ":var5", ":var4"),
        (party_get_slot, ":var7", ":var0", ":var6"),
        (party_set_slot, ":var3", ":var6", ":var7"),
      (try_end),
      (assign, reg0, ":var3"),
    (try_end),
  ]),

  ("do_villager_center_trade",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 30),
    (assign, ":var3", 0),
    (store_sub, ":var4", 310, "itm_spice"),
    (try_for_range, ":var5", "itm_spice", "itm_siege_supply"),
      (store_add, ":var6", ":var5", ":var4"),
      (party_get_slot, ":var7", ":var0", ":var6"),
      (party_get_slot, ":var8", ":var1", ":var6"),
      (store_sub, ":var9", ":var7", ":var8"),
      (assign, ":var10", ":var9"),
      (val_abs, ":var10"),
      (val_add, ":var3", ":var10"),
      (val_mul, ":var10", ":var2"),
      (val_div, ":var10", 100),
      (try_begin),
        (lt, ":var9", 0),
        (val_mul, ":var10", -1),
      (try_end),
      (val_add, ":var8", ":var10"),
      (party_set_slot, ":var1", ":var6", ":var8"),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("do_party_center_trade",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var2", 30),
    (party_get_slot, ":var3", ":var0", 126),
    (party_set_slot, ":var0", 126, ":var1"),
    (assign, ":var4", 0),
    (store_sub, ":var5", 310, "itm_spice"),
    (try_for_range, ":var6", "itm_spice", "itm_siege_supply"),
      (store_add, ":var7", ":var6", ":var5"),
      (party_get_slot, ":var8", ":var0", ":var7"),
      (party_get_slot, ":var9", ":var1", ":var7"),
      (store_sub, ":var10", ":var8", ":var9"),
      (assign, ":var11", ":var10"),
      (val_abs, ":var11"),
      (val_add, ":var4", ":var11"),
      (val_mul, ":var11", ":var2"),
      (val_div, ":var11", 100),
      (try_begin),
        (lt, ":var10", 0),
        (val_mul, ":var11", -1),
      (try_end),
      (party_set_slot, ":var0", ":var7", ":var9"),
      (val_add, ":var9", ":var11"),
      (party_set_slot, ":var1", ":var7", ":var9"),
      (try_begin),
        (eq, "$cheat_mode", 3),
        (str_store_party_name, s3, ":var3"),
        (str_store_party_name, s4, ":var1"),
        (str_store_item_name, s5, ":var6"),
        (assign, reg4, ":var11"),
        (assign, reg5, ":var9"),
        (display_message, "@{!}DEBUG -- Trade of {s5} from {s3} to {s4} brings price from {reg4} to  {reg5}"),
      (try_end),
    (try_end),
    (assign, reg0, ":var4"),
  ]),

  ("player_join_faction",
  [
    (store_script_param, ":var0", 1),
    (assign, "$players_kingdom", ":var0"),
    (faction_set_slot, "fac_player_supporters_faction", 4, 0),
    (assign, "$players_oath_renounced_against_kingdom", 0),
    (assign, "$players_oath_renounced_given_center", 0),
    (assign, "$players_oath_renounced_begin_time", 0),
    (try_begin),
      (eq, "$g_player_cur_role", 1),
      (assign, "$g_player_cur_role", 4),
    (try_end),
    (try_for_range, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var1", 21, 0),
      (neq, ":var1", "fac_player_supporters_faction"),
      (try_begin),
        (neq, ":var1", ":var0"),
        (store_relation, ":var2", ":var1", ":var0"),
      (else_try),
        (store_relation, ":var2", "fac_player_supporters_faction", ":var1"),
        (val_max, ":var2", 100),
      (try_end),
      (call_script, "script_set_player_relation_with_faction", ":var1", ":var2"),
    (try_end),
    (try_begin),
      (faction_get_slot, ":var3", ":var0", 10),
      (assign, "$g_player_culture", ":var3"),
    (try_end),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (le, "$g_player_crusading", 0),
      (party_slot_eq, ":var4", 7, "trp_player"),
      (call_script, "script_give_center_to_faction_while_maintaining_lord", ":var4", ":var0"),
    (else_try),
      (le, "$g_player_crusading", 0),
      (store_faction_of_party, ":var5", ":var4"),
      (eq, ":var5", "fac_player_supporters_faction"),
      (call_script, "script_give_center_to_faction_while_maintaining_lord", ":var4", ":var0"),
    (try_end),
    (try_for_range, ":var6", "qst_deliver_message", "qst_follow_army"),
      (check_quest_active, ":var6"),
      (quest_get_slot, ":var7", ":var6", 6),
      (store_faction_of_troop, ":var8", ":var7"),
      (store_relation, ":var9", "fac_player_supporters_faction", ":var8"),
      (lt, ":var9", 0),
      (call_script, "script_abort_quest", ":var6", 0),
    (try_end),
    (try_for_range, ":var6", "qst_destroy_bandit_lair", "qst_blank_quest_2"),
      (check_quest_active, ":var6"),
      (quest_get_slot, ":var7", ":var6", 6),
      (store_faction_of_troop, ":var8", ":var7"),
      (store_relation, ":var9", "fac_player_supporters_faction", ":var8"),
      (lt, ":var9", 0),
      (call_script, "script_abort_quest", ":var6", 0),
    (try_end),
    (try_begin),
      (neq, ":var0", "fac_player_supporters_faction"),
      (faction_set_slot, "fac_player_supporters_faction", 21, 2),
      (faction_set_slot, "fac_player_supporters_faction", 11, "trp_player"),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var10", "trp_player", 30),
      (is_between, ":var10", "trp_knight_1_1_wife", "trp_heroes_end"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var10"),
        (display_message, "@{!}DEBUG - {s4} faction changed by marriage, case 1"),
      (try_end),
      (troop_set_faction, ":var10", "$players_kingdom"),
    (try_end),
    (try_for_range, ":var11", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var12", ":var0"),
      (neq, ":var12", "$players_kingdom"),
      (party_slot_eq, ":var11", 7, -2),
    (try_end),
    (troop_set_slot, "trp_player", 154, -1),
    (try_for_parties, ":var13"),
      (store_faction_of_party, ":var14", ":var13"),
      (eq, ":var14", ":var0"),
      (party_get_num_prisoner_stacks, ":var15", ":var13"),
      (try_for_range_backwards, ":var16", 0, ":var15"),
        (party_prisoner_stack_get_troop_id, ":var17", ":var13", ":var16"),
        (store_faction_of_troop, ":var18", ":var17"),
        (this_or_next|eq, ":var18", "fac_player_supporters_faction"),
        (this_or_next|eq, ":var18", ":var0"),
        (is_between, ":var17", "trp_npc1", "trp_kingdom_1_lord"),
        (try_begin),
          (troop_is_hero, ":var17"),
          (call_script, "script_remove_troop_from_prison", ":var17"),
        (try_end),
        (party_prisoner_stack_get_size, ":var19", ":var13", ":var16"),
        (party_remove_prisoners, ":var13", ":var17", ":var19"),
        (try_begin),
          (is_between, ":var17", "trp_npc1", "trp_kingdom_1_lord"),
          (try_begin),
            (is_between, ":var13", "p_town_1_1", "p_castle_1_1"),
            (troop_set_slot, ":var17", 12, ":var13"),
          (else_try),
            (store_random_in_range, ":var20", "p_town_1_1", "p_castle_1_1"),
            (troop_set_slot, ":var17", 12, ":var20"),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (call_script, "script_update_all_notes"),
    (call_script, "script_recalculate_ais_for_faction", ":var0"),
  ]),

  ("player_leave_faction",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_check_and_finish_active_army_quests_for_faction", "$players_kingdom"),
    (assign, ":var1", "$players_kingdom"),
    (assign, ":var2", "$player_has_homage"),
    (assign, "$players_kingdom", 0),
    (assign, "$player_has_homage", 0),
    (try_begin),
      (this_or_next|eq, "$g_player_cur_role", 4),
      (eq, "$g_player_cur_role", 5),
      (assign, "$g_player_cur_role", 1),
    (try_end),
    (try_begin),
      (neq, ":var0", 0),
      (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
        (party_slot_eq, ":var3", 7, "trp_player"),
        (call_script, "script_give_center_to_faction", ":var3", ":var1"),
        (party_set_slot, ":var3", 7, -1),
      (try_end),
    (else_try),
      (le, "$g_player_crusading", 0),
      (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
        (party_slot_eq, ":var3", 7, "trp_player"),
        (call_script, "script_give_center_to_faction", ":var3", "fac_player_supporters_faction"),
        (party_set_slot, ":var3", 7, "trp_player"),
        (troop_get_slot, ":var4", "trp_player", 13),
        (gt, ":var4", 0),
        (val_sub, ":var4", "spr_banner_a"),
        (val_add, ":var4", "icon_banner_01"),
        (party_set_banner_icon, ":var3", ":var4"),
      (try_end),
      (try_for_range, ":var3", "p_village_1_1", "p_salt_mine"),
        (party_get_slot, ":var5", ":var3", 120),
        (party_slot_eq, ":var3", 7, "trp_player"),
        (neg|party_slot_eq, ":var5", 7, "trp_player"),
        (call_script, "script_give_center_to_faction", ":var3", ":var1"),
      (try_end),
      (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neq, ":var1", "fac_player_supporters_faction"),
      (store_relation, ":var6", "fac_player_supporters_faction", ":var1"),
      (store_sub, ":var7", -40, ":var6"),
      (call_script, "script_change_player_relation_with_faction", ":var1", ":var7"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (faction_get_slot, ":var8", ":var1", 11),
      (call_script, "script_change_player_relation_with_troop", ":var8", -20),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var9", "trp_player", 30),
      (is_between, ":var9", "trp_knight_1_1_wife", "trp_heroes_end"),
      (troop_set_faction, ":var9", "fac_player_supporters_faction"),
    (try_end),
    (try_for_range, ":var10", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neq, ":var10", "fac_player_supporters_faction"),
      (store_relation, ":var11", ":var1", ":var10"),
      (store_relation, ":var12", "fac_player_faction", ":var10"),
      (try_begin),
        (eq, ":var1", ":var10"),
        (val_min, ":var12", 0),
      (else_try),
        (lt, ":var11", 0),
        (val_max, ":var12", 0),
      (try_end),
      (set_relation, "fac_player_faction", ":var10", ":var12"),
      (set_relation, "fac_player_supporters_faction", ":var10", ":var12"),
    (try_end),
    (call_script, "script_update_all_notes"),
  ]),

  ("deactivate_player_faction",
  [
    (assign, "$g_player_cur_role", 1),
    (faction_set_slot, "fac_player_supporters_faction", 21, 2),
    (faction_set_slot, "fac_player_supporters_faction", 11, -1),
    (assign, "$players_kingdom", "fac_player_faction"),
    (troop_set_faction, "trp_player", "fac_player_faction"),
    (assign, "$players_oath_renounced_against_kingdom", 0),
    (assign, "$players_oath_renounced_given_center", 0),
    (assign, "$players_oath_renounced_begin_time", 0),
    (call_script, "script_update_all_notes"),
    (try_begin),
      (is_between, "$g_player_minister", "trp_npc1", "trp_kingdom_1_lord"),
      (assign, "$npc_to_rejoin_party", "$g_player_minister"),
    (try_end),
    (assign, "$g_player_minister", -1),
    (call_script, "script_add_notification_menu", "mnu_notification_player_faction_deactive", 0, 0),
  ]),

  ("activate_player_faction",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (faction_slot_eq, "fac_player_supporters_faction", 21, 2),
      (neg|is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (call_script, "script_add_notification_menu", "mnu_notification_player_faction_active", 0, 0),
    (try_end),
    (assign, "$g_player_cur_role", 6),
    (faction_set_slot, "fac_player_supporters_faction", 21, 0),
    (faction_set_slot, "fac_player_supporters_faction", 11, ":var0"),
    (faction_set_slot, "fac_player_supporters_faction", 102, 0),
    (call_script, "script_initialize_faction_troop_types_player"),
    (assign, ":var1", "$players_kingdom"),
    (try_begin),
      (is_between, ":var1", "fac_kingdom_1", "fac_kingdoms_end"),
      (call_script, "script_player_leave_faction", 0),
    (try_end),
    (faction_get_slot, ":var2", ":var1", 10),
    (faction_get_slot, ":var3", ":var1", 102),
    (faction_get_slot, ":var4", ":var1", 135),
    (assign, "$g_player_culture", ":var2"),
    (faction_set_slot, "fac_player_supporters_faction", 10, ":var2"),
    (faction_set_slot, "fac_player_supporters_faction", 102, ":var3"),
    (faction_set_slot, "fac_player_supporters_faction", 135, ":var4"),
    (try_begin),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var0", 166, 1),
      (store_faction_of_troop, ":var5"),
      (is_between, ":var5", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_get_slot, ":var6", ":var5", 22),
      (str_store_string, s1, ":var6"),
      (faction_set_name, "fac_player_supporters_faction", "@{s1} Rebels"),
    (else_try),
      (str_store_troop_name, s2, ":var0"),
      (str_store_string, s1, "str_s2s_rebellion"),
    (try_end),
    (assign, "$players_kingdom", "fac_player_supporters_faction"),
    (troop_set_faction, "trp_player", "fac_player_supporters_faction"),
    (assign, "$g_player_banner_granted", 1),
    (try_begin),
      (is_between, ":var1", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_get_slot, ":var7", ":var1", 11),
      (call_script, "script_add_log_entry", 23, "trp_player", -1, ":var7", "$players_kingdom"),
      (assign, "$players_oath_renounced_against_kingdom", ":var1"),
      (assign, "$players_oath_renounced_given_center", 0),
      (store_current_hours, "$players_oath_renounced_begin_time"),
      (try_for_range, ":var8", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var9", ":var8"),
        (party_set_slot, ":var8", 159, ":var9"),
      (try_end),
      (party_set_slot, "$g_center_to_give_to_player", 159, "$players_oath_renounced_against_kingdom"),
      (store_relation, ":var10", ":var1", "fac_player_supporters_faction"),
      (ge, ":var10", 0),
      (call_script, "script_diplomacy_start_war_between_kingdoms", ":var1", "fac_player_supporters_faction", 1),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var11", "trp_player", 30),
      (is_between, ":var11", "trp_knight_1_1_wife", "trp_heroes_end"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var11"),
        (display_message, "@{!}DEBUG - {s4} faction changed by marriage, case 3"),
      (try_end),
      (troop_set_faction, ":var11", "fac_player_supporters_faction"),
    (try_end),
    (call_script, "script_update_all_notes"),
  ]),

  ("agent_reassign_team",
  [
    (store_script_param, ":var0", 1),
    (get_player_agent_no, ":var1"),
    (try_begin),
      (ge, ":var1", 0),
      (agent_is_human, ":var0"),
      (agent_is_ally, ":var0"),
      (agent_get_party_id, ":var2", ":var0"),
      (gt, ":var2", "p_main_party"),
      (assign, ":var3", 1),
      (store_faction_of_party, ":var4", ":var2"),
      (neq, ":var4", "fac_player_faction"),
      (try_begin),
        (eq, ":var4", "$players_kingdom"),
        (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, "$players_kingdom", 8, "trp_player"),
        (assign, ":var3", 0),
      (else_try),
        (neq, "$freelancer_state", 1),
        (party_stack_get_troop_id, ":var5", ":var2", 0),
        (neg|is_between, ":var5", "trp_npc1", "trp_knight_1_1_wife"),
        (assign, ":var3", 0),
      (try_end),
      (eq, ":var3", 1),
      (agent_get_team, ":var6", ":var1"),
      (val_add, ":var6", 2),
      (agent_set_team, ":var0", ":var6"),
    (try_end),
  ]),

  ("start_quest",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (quest_set_slot, ":var0", 6, ":var1"),
    (try_begin),
      (eq, ":var1", -1),
      (str_store_string, s63, "str_political_suggestion"),
    (else_try),
      (is_between, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
      (str_store_troop_name_link, s62, ":var1"),
      (str_store_string, s63, "@Given by: {s62}"),
    (else_try),
      (str_store_troop_name, s62, ":var1"),
      (str_store_string, s63, "@Given by: {s62}"),
    (try_end),
    (store_current_hours, ":var2"),
    (str_store_date, s60, ":var2"),
    (str_store_string, s60, "@Given on: {s60}"),
    (add_quest_note_from_sreg, ":var0", 0, s60, 0),
    (add_quest_note_from_sreg, ":var0", 1, s63, 0),
    (add_quest_note_from_sreg, ":var0", 2, s2, 0),
    (try_begin),
      (quest_slot_ge, ":var0", 23, 1),
      (quest_get_slot, reg0, ":var0", 23),
      (add_quest_note_from_sreg, ":var0", 7, "@You have {reg0} days to finish this quest.", 0),
    (try_end),
    (try_begin),
      (quest_slot_ge, ":var0", 24, 1),
      (quest_get_slot, ":var3", ":var0", 24),
      (quest_set_slot, ":var0", 25, ":var3"),
    (try_end),
    (start_quest, ":var0", ":var1"),
    (try_begin),
      (eq, ":var0", "qst_report_to_army"),
      (assign, "$number_of_report_to_army_quest_notes", 8),
      (faction_get_slot, ":var4", "$players_kingdom", 4),
      (call_script, "script_update_report_to_army_quest_note", "$players_kingdom", ":var4", -1),
    (try_end),
    (display_message, "str_quest_log_updated", 0x66CCFF),
  ]),

  ("conclude_quest",
  [
    (store_script_param, ":var0", 1),
    (conclude_quest, ":var0"),
    (quest_get_slot, ":var1", ":var0", 6),
    (str_store_troop_name, s59, ":var1"),
    (add_quest_note_from_sreg, ":var0", 7, "@This quest has been concluded. Talk to {s59} to finish it.", 0),
  ]),

  ("succeed_quest",
  [
    (store_script_param, ":var0", 1),
    (succeed_quest, ":var0"),
    (quest_get_slot, ":var1", ":var0", 6),
    (str_store_troop_name, s59, ":var1"),
    (add_quest_note_from_sreg, ":var0", 7, "@This quest has been successfully completed. Talk to {s59} to claim your reward.", 0),
  ]),

  ("fail_quest",
  [
    (store_script_param, ":var0", 1),
    (fail_quest, ":var0"),
    (quest_get_slot, ":var1", ":var0", 6),
    (str_store_troop_name, s59, ":var1"),
    (add_quest_note_from_sreg, ":var0", 7, "@This quest has failed. Talk to {s59} to explain the situation.", 0),
  ]),

  ("report_quest_troop_positions",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (call_script, "script_get_information_about_troops_position", ":var1", 1),
    (str_store_string, s5, "@At the time quest was given:^{s1}"),
    (add_quest_note_from_sreg, ":var0", ":var2", s5, 1),
    (call_script, "script_update_troop_location_notes", ":var1", 1),
  ]),

  ("end_quest",
  [
    (store_script_param, ":var0", 1),
    (str_clear, s1),
    (add_quest_note_from_sreg, ":var0", 0, s1, 0),
    (add_quest_note_from_sreg, ":var0", 1, s1, 0),
    (add_quest_note_from_sreg, ":var0", 2, s1, 0),
    (add_quest_note_from_sreg, ":var0", 3, s1, 0),
    (add_quest_note_from_sreg, ":var0", 4, s1, 0),
    (add_quest_note_from_sreg, ":var0", 5, s1, 0),
    (add_quest_note_from_sreg, ":var0", 6, s1, 0),
    (add_quest_note_from_sreg, ":var0", 7, s1, 0),
    (try_begin),
      (neg|check_quest_failed, ":var0"),
      (val_add, "$g_total_quests_completed", 1),
    (try_end),
    (try_begin),
      (eq, ":var0", "qst_consult_with_minister"),
      (assign, "$g_minister_notification_quest", 0),
    (try_end),
    (complete_quest, ":var0"),
    (try_begin),
      (is_between, ":var0", "qst_move_cattle_herd", "qst_deliver_grain"),
      (assign, "$merchant_quest_last_offerer", -1),
      (assign, "$merchant_offered_quest", -1),
    (try_end),
  ]),

  ("cancel_quest",
  [
    (store_script_param, ":var0", 1),
    (str_clear, s1),
    (add_quest_note_from_sreg, ":var0", 0, s1, 0),
    (add_quest_note_from_sreg, ":var0", 1, s1, 0),
    (add_quest_note_from_sreg, ":var0", 2, s1, 0),
    (add_quest_note_from_sreg, ":var0", 3, s1, 0),
    (add_quest_note_from_sreg, ":var0", 4, s1, 0),
    (add_quest_note_from_sreg, ":var0", 5, s1, 0),
    (add_quest_note_from_sreg, ":var0", 6, s1, 0),
    (add_quest_note_from_sreg, ":var0", 7, s1, 0),
    (cancel_quest, ":var0"),
    (try_begin),
      (is_between, ":var0", "qst_move_cattle_herd", "qst_deliver_grain"),
      (assign, "$merchant_quest_last_offerer", -1),
      (assign, "$merchant_offered_quest", -1),
    (try_end),
  ]),

  ("get_available_mercenary_troop_and_amount_of_center",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 90),
    (party_get_slot, ":var2", ":var0", 91),
    (party_get_free_companions_capacity, ":var3", "p_main_party"),
    (val_min, ":var2", ":var3"),
    (store_troop_gold, ":var4", "trp_player"),
    (call_script, "script_game_get_join_cost", ":var1"),
    (assign, ":var5", reg0),
    (try_begin),
      (gt, ":var5", 0),
      (val_div, ":var4", ":var5"),
      (val_min, ":var2", ":var4"),
    (try_end),
    (assign, reg0, ":var1"),
    (assign, reg1, ":var2"),
  ]),

  ("update_village_market_towns",
  [
    (try_for_range, ":var0", "p_village_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var1", ":var0"),
      (assign, ":var2", 999999),
      (assign, ":var3", -1),
      (try_for_range, ":var4", "p_town_1_1", "p_castle_1_1"),
        (store_faction_of_party, ":var5", ":var4"),
        (eq, ":var5", ":var1"),
        (store_distance_to_party_from_party, ":var6", ":var0", ":var4"),
        (lt, ":var6", ":var2"),
        (assign, ":var2", ":var6"),
        (assign, ":var3", ":var4"),
      (try_end),
      (try_begin),
        (gt, ":var3", -1),
        (party_set_slot, ":var0", 121, ":var3"),
      (else_try),
        (assign, ":var2", 999999),
        (assign, ":var3", -1),
        (try_for_range, ":var4", "p_town_1_1", "p_castle_1_1"),
          (store_faction_of_party, ":var5", ":var4"),
          (store_relation, ":var7", ":var5", ":var1"),
          (ge, ":var7", 0),
          (store_distance_to_party_from_party, ":var6", ":var0", ":var4"),
          (lt, ":var6", ":var2"),
          (assign, ":var2", ":var6"),
          (assign, ":var3", ":var4"),
        (try_end),
        (gt, ":var3", -1),
        (party_set_slot, ":var0", 121, ":var3"),
      (try_end),
    (try_end),
  ]),

  ("update_mercenary_units_of_towns",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_get_slot, ":var1", ":var0", 263),
      (party_get_slot, ":var2", ":var0", 266),
      (assign, ":var3", 260),
      (try_begin),
        (gt, ":var1", 0),
        (gt, ":var2", 0),
        (store_random_in_range, ":var4", 0, 100),
        (try_begin),
          (ge, ":var4", 70),
          (lt, ":var4", 90),
          (assign, ":var3", 263),
        (else_try),
          (ge, ":var4", 90),
          (assign, ":var3", 266),
        (try_end),
      (try_end),
      (assign, ":var5", "trp_merc_euro_spearman"),
      (try_begin),
        (party_slot_eq, ":var0", ":var3", 1),
        (store_random_in_range, ":var5", "trp_merc_euro_spearman", "trp_merc_balt_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 2),
        (store_random_in_range, ":var5", "trp_merc_balt_spearman", "trp_merc_mamluke_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 4),
        (store_random_in_range, ":var5", "trp_merc_maghreb_spearman", "trp_merc_rus_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 5),
        (store_random_in_range, ":var5", "trp_merc_rus_spearman", "trp_merc_latin_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 6),
        (store_random_in_range, ":var5", "trp_merc_latin_spearman", "trp_merc_balkan_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 7),
        (store_random_in_range, ":var5", "trp_merc_balkan_spearman", "trp_merc_scan_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 8),
        (store_random_in_range, ":var5", "trp_merc_scan_spearman", "trp_merc_veteran_euro_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 9),
        (store_random_in_range, ":var5", "trp_merc_gaelic_spearman", "trp_genoese_crossbowman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 10),
        (store_random_in_range, ":var5", "trp_merc_mamluke_spearman", "trp_merc_maghreb_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 20),
        (store_random_in_range, ":var5", "trp_merc_brabantine_spearman", "trp_merc_welsh_bowman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 21),
        (store_random_in_range, ":var5", "trp_georgian_lancer", "trp_mercenaries_end"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 22),
        (store_random_in_range, ":var5", "trp_merc_sicily_foot_archer_1", "trp_cuman_tribesman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 23),
        (assign, ":var5", "trp_crusader_turkopole"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 24),
        (store_random_in_range, ":var5", "trp_cuman_skirmisher", "trp_farmer"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 25),
        (store_random_in_range, ":var5", "trp_kwarezmian_range", "trp_mordovian_foot"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 26),
        (store_random_in_range, ":var5", "trp_mordovian_foot", "trp_kipchak_range"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 27),
        (store_random_in_range, ":var5", "trp_kipchak_range", "trp_finn_village_recruit"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 28),
        (store_random_in_range, ":var5", "trp_genoese_crossbowman", "trp_merc_brabantine_spearman"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 51),
        (store_random_in_range, ":var5", "trp_teu_horse_1", "trp_balkan_vil_1"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 52),
        (store_random_in_range, ":var5", "trp_hospitaller_half_brother_dismounted", "trp_euro_town_recruit_antioch"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 53),
        (store_random_in_range, ":var5", "trp_templar_half_brother_dismounted", "trp_euro_town_recruit_hospitaller"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 54),
        (store_random_in_range, ":var5", "trp_saint_lazarus_half_brother", "trp_santiago_half_brother"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 55),
        (store_random_in_range, ":var5", "trp_santiago_half_brother", "trp_calatrava_half_brother"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 56),
        (store_random_in_range, ":var5", "trp_calatrava_half_brother", "trp_saint_thomas_half_brother"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 57),
        (store_random_in_range, ":var5", "trp_saint_thomas_half_brother", "trp_varangian_guard"),
      (else_try),
        (party_slot_eq, ":var0", ":var3", 50),
        (assign, ":var5", "trp_varangian_guard"),
      (try_end),
      (party_set_slot, ":var0", 90, ":var5"),
      (store_add, ":var6", "$g_misc_tavern_mercenaries_max", 1),
      (store_random_in_range, ":var7", "$g_misc_tavern_mercenaries_min", ":var6"),
      (party_set_slot, ":var0", 91, ":var7"),
    (try_end),
  ]),

  ("update_volunteer_troops_in_village",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 26),
    (party_get_slot, ":var2", ":var0", 61),
    (store_faction_of_party, ":var3", ":var0"),
    (party_get_slot, ":var4", ":var0", 19),
    (call_script, "script_get_orig_culture", ":var2", ":var3", ":var4"),
    (assign, ":var4", reg0),
    (party_get_slot, ":var4", ":var0", 19),
    (try_begin),
      (neq, "$players_kingdom", 42),
      (eq, ":var4", 10),
      (party_get_slot, ":var4", ":var0", 19),
    (try_end),
    (try_begin),
      (is_between, ":var4", "fac_culture_finnish", "fac_player_faction"),
    (else_try),
      (neg|is_between, ":var4", "fac_culture_finnish", "fac_player_faction"),
      (store_faction_of_party, ":var5", ":var0"),
      (faction_get_slot, ":var4", ":var5", 10),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var0", 0, 3),
      (faction_get_slot, ":var6", ":var4", 100),
    (else_try),
      (party_slot_eq, ":var0", 0, 2),
      (faction_get_slot, ":var6", ":var4", 101),
    (else_try),
      (faction_get_slot, ":var6", ":var4", 41),
    (try_end),
    (assign, ":var7", 1),
    (store_div, ":var8", ":var1", 10),
    (try_for_range, ":var9", 0, ":var8"),
      (store_random_in_range, ":var10", 0, 100),
      (lt, ":var10", 10),
      (store_random_in_range, ":var10", 0, 2),
      (troop_get_upgrade_troop, ":var11", ":var6", ":var10"),
      (try_begin),
        (le, ":var11", 0),
        (troop_get_upgrade_troop, ":var11", ":var6", 0),
      (try_end),
      (gt, ":var11", 0),
      (val_add, ":var7", 1),
      (assign, ":var6", ":var11"),
    (try_end),
    (assign, ":var12", 14),
    (try_begin),
      (ge, ":var1", 5),
      (assign, ":var12", ":var1"),
      (val_div, ":var12", 2),
      (val_add, ":var12", 10),
    (else_try),
      (lt, ":var1", 0),
      (assign, ":var12", 0),
    (try_end),
    (val_mul, ":var12", 3),
    (store_add, ":var13", 2, ":var7"),
    (val_div, ":var12", ":var13"),
    (store_random_in_range, ":var14", 0, ":var12"),
    (party_set_slot, ":var0", 92, ":var6"),
    (party_set_slot, ":var0", 93, ":var14"),
  ]),

  ("update_npc_volunteer_troops_in_village",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_select_mercenary_troop", ":var0"),
    (assign, ":var1", reg0),
    (assign, ":var2", 12),
    (store_random_in_range, ":var3", 0, ":var2"),
    (party_set_slot, ":var0", 88, ":var1"),
    (party_set_slot, ":var0", 89, ":var3"),
  ]),

  ("update_companion_candidates_in_taverns",
  [
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_shuffling_companion_locations"),
    (try_end),
    (try_for_range, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (neg|troop_slot_eq, ":var0", 159, 1),
      (troop_set_slot, ":var0", 12, -1),
      (troop_slot_eq, ":var0", 151, 0),
      (troop_slot_eq, ":var0", 2, 0),
      (neg|troop_slot_ge, ":var0", 8, 0),
      (store_random_in_range, ":var1", "p_town_1_1", "p_castle_1_1"),
      (try_begin),
        (neg|troop_slot_eq, ":var0", 60, ":var1"),
        (neg|troop_slot_eq, ":var0", 59, ":var1"),
        (troop_set_slot, ":var0", 12, ":var1"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var0"),
          (str_store_party_name, s5, ":var1"),
          (display_message, "@{!}{s4} is in {s5}"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("update_ransom_brokers",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 95, 0),
    (try_end),
    (try_for_range, ":var1", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
      (store_random_in_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 95, ":var1"),
    (try_end),
  ]),

  ("update_tavern_travellers",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 96, 0),
    (try_end),
    (try_for_range, ":var1", "trp_tavern_traveler_1", "trp_tavern_bookseller_1"),
      (store_random_in_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 96, ":var1"),
      (assign, ":var2", 15),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var4", 21, 0),
        (neq, ":var4", "$players_kingdom"),
        (neq, ":var4", "fac_player_supporters_faction"),
        (party_set_slot, ":var0", 97, ":var4"),
        (assign, ":var2", 0),
      (try_end),
    (try_end),
  ]),

  ("update_villages_infested_by_bandits",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (try_begin),
        (check_quest_active, "qst_eliminate_bandits_infesting_village"),
        (quest_slot_eq, "qst_eliminate_bandits_infesting_village", 1, ":var0"),
        (quest_get_slot, ":var1", "qst_eliminate_bandits_infesting_village", 11),
        (val_add, ":var1", 1),
        (try_begin),
          (lt, ":var1", 3),
          (quest_set_slot, "qst_eliminate_bandits_infesting_village", 11, ":var1"),
        (else_try),
          (party_set_slot, ":var0", 39, 0),
          (call_script, "script_abort_quest", "qst_eliminate_bandits_infesting_village", 2),
        (try_end),
      (else_try),
        (check_quest_active, "qst_deal_with_bandits_at_lords_village"),
        (quest_slot_eq, "qst_deal_with_bandits_at_lords_village", 1, ":var0"),
        (quest_get_slot, ":var1", "qst_deal_with_bandits_at_lords_village", 11),
        (val_add, ":var1", 1),
        (try_begin),
          (lt, ":var1", 3),
          (quest_set_slot, "qst_deal_with_bandits_at_lords_village", 11, ":var1"),
        (else_try),
          (party_set_slot, ":var0", 39, 0),
          (call_script, "script_abort_quest", "qst_deal_with_bandits_at_lords_village", 2),
        (try_end),
      (else_try),
        (party_set_slot, ":var0", 39, 0),
        (store_random_in_range, ":var2", 0, 100),
        (assign, ":var3", 1),
        (try_begin),
          (check_quest_active, "qst_collect_taxes"),
          (quest_slot_eq, "qst_collect_taxes", 1, ":var0"),
          (assign, ":var3", 0),
        (else_try),
          (check_quest_active, "qst_train_peasants_against_bandits"),
          (quest_slot_eq, "qst_train_peasants_against_bandits", 1, ":var0"),
          (assign, ":var3", 0),
        (try_end),
        (eq, ":var3", 1),
        (lt, ":var2", 3),
        (store_random_in_range, ":var2", 0, 3),
        (try_begin),
          (eq, ":var2", 0),
          (assign, ":var4", "trp_bandit"),
        (else_try),
          (eq, ":var2", 1),
          (assign, ":var4", "trp_mountain_bandit"),
        (else_try),
          (assign, ":var4", "trp_forest_bandit"),
        (try_end),
        (party_set_slot, ":var0", 39, ":var4"),
        (call_script, "script_change_center_prosperity", ":var0", -1),
        (val_add, "$newglob_total_prosperity_from_bandits", -1),
        (try_begin),
          (eq, "$cheat_mode", 2),
          (str_store_party_name, s1, ":var0"),
          (display_message, "@{!}DEBUG --{s1} is infested by bandits."),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("update_booksellers",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 98, 0),
    (try_end),
    (try_for_range, ":var1", "trp_tavern_bookseller_1", "trp_tavern_minstrel_1"),
      (store_random_in_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 98, ":var1"),
    (try_end),
  ]),

  ("update_tavern_minstrels",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 99, 0),
    (try_end),
    (try_for_range, ":var1", "trp_tavern_minstrel_1", "trp_kingdom_heroes_including_player_begin"),
      (store_random_in_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var0", 99, ":var1"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var1"),
        (str_store_party_name, s5, ":var0"),
        (display_message, "str_s4_is_at_s5"),
      (try_end),
    (try_end),
  ]),

  ("update_other_taverngoers",
  [
    (store_random_in_range, ":var0", "p_town_1_1", "p_castle_1_1"),
    (troop_set_slot, "trp_fight_promoter", 12, ":var0"),
    (try_for_range, ":var1", "p_town_1_1", "p_castle_1_1"),
      (party_set_slot, ":var1", 253, 0),
    (try_end),
    (try_for_range, ":var2", 0, 30),
      (assign, ":var3", 100),
      (try_for_range, ":var2", 0, ":var3"),
        (store_random_in_range, ":var1", "p_town_1_1", "p_castle_1_1"),
        (neg|troop_slot_eq, "trp_hired_assassin", 12, ":var1"),
        (neg|party_slot_ge, ":var1", 253, 1),
        (party_get_slot, ":var4", ":var1", 19),
        (store_random_in_range, ":var5", 0, 100),
        (try_begin),
          (lt, ":var5", 30),
          (party_set_slot, ":var1", 253, "trp_belligerent_drunk"),
        (else_try),
          (ge, ":var5", 30),
          (store_random_in_range, ":var6", 0, 100),
          (try_begin),
            (lt, ":var6", 30),
            (assign, ":var7", 50),
            (try_for_range, ":var2", 0, ":var7"),
              (party_get_slot, ":var8", ":var1", 90),
              (call_script, "script_select_mercenary_troop", ":var1"),
              (assign, ":var9", reg0),
              (neq, ":var9", ":var8"),
              (is_between, ":var9", "trp_merc_euro_spearman", "trp_mercenaries_end"),
              (party_set_slot, ":var1", 253, ":var9"),
              (assign, ":var7", -1),
            (try_end),
          (else_try),
            (ge, ":var6", 30),
            (store_random_in_range, ":var6", 0, 100),
            (try_begin),
              (lt, ":var6", 30),
              (faction_get_slot, ":var9", ":var4", 41),
              (is_between, ":var9", "trp_finn_village_recruit", "trp_looter"),
              (party_set_slot, ":var1", 253, ":var9"),
            (else_try),
              (ge, ":var6", 30),
              (lt, ":var6", 55),
              (faction_get_slot, ":var9", ":var4", 42),
              (is_between, ":var9", "trp_finn_village_recruit", "trp_looter"),
              (party_set_slot, ":var1", 253, ":var9"),
            (else_try),
              (ge, ":var6", 55),
              (lt, ":var6", 75),
              (faction_get_slot, ":var9", ":var4", 43),
              (is_between, ":var9", "trp_finn_village_recruit", "trp_looter"),
              (party_set_slot, ":var1", 253, ":var9"),
            (else_try),
              (ge, ":var6", 75),
              (lt, ":var6", 90),
              (faction_get_slot, ":var9", ":var4", 44),
              (is_between, ":var9", "trp_finn_village_recruit", "trp_looter"),
              (party_set_slot, ":var1", 253, ":var9"),
            (else_try),
              (ge, ":var6", 90),
              (faction_get_slot, ":var9", ":var4", 45),
              (is_between, ":var9", "trp_finn_village_recruit", "trp_looter"),
              (party_set_slot, ":var1", 253, ":var9"),
            (try_end),
          (try_end),
        (try_end),
        (assign, ":var3", -1),
      (try_end),
    (try_end),
  ]),

  ("update_faction_notes",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (this_or_next|faction_slot_eq, ":var0", 21, 2),
      (eq, ":var0", "fac_player_faction"),
      (faction_set_note_available, ":var0", 0),
    (else_try),
      (faction_set_note_available, ":var0", 1),
    (try_end),
  ]),

  ("update_faction_political_notes",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_evaluate_realm_stability", ":var0"),
    (add_faction_note_from_sreg, ":var0", 2, "str_instability_reg0_of_lords_are_disgruntled_reg1_are_restless", 0),
  ]),

  ("update_faction_traveler_notes",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_for_parties, ":var2"),
      (store_faction_of_party, ":var3", ":var2"),
      (eq, ":var3", ":var0"),
      (party_get_num_companions, ":var4", ":var2"),
      (val_add, ":var1", ":var4"),
    (try_end),
    (str_store_faction_name, s5, ":var0"),
    (assign, reg1, ":var1"),
    (add_faction_note_from_sreg, ":var0", 1, "@{s5} has a strength of {reg1} men in total.", 1),
  ]),

  ("update_troop_notes",
  [
  ]),

  ("update_troop_location_notes",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (call_script, "script_get_information_about_troops_position", ":var0", 1),
      (neq, reg0, 0),
      (call_script, "script_search_troop_prisoner_of_party", ":var0"),
      (eq, reg0, -1),
      (troop_get_type, reg1, ":var0"),
      (try_begin),
        (eq, ":var1", 0),
        (add_troop_note_from_sreg, ":var0", 2, "@The last time you saw {reg1?her:him}, {s1}", 1),
      (else_try),
        (add_troop_note_from_sreg, ":var0", 2, "@The last time you heard about {reg1?her:him}, {s1}", 1),
      (try_end),
    (try_end),
  ]),

  ("update_troop_location_notes_prisoned",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_type, reg1, ":var0"),
    (str_store_faction_name_link, s1, ":var1"),
    (add_troop_note_from_sreg, ":var0", 2, "str_reg1shehe_is_prisoner_of_s1", 1),
  ]),

  ("update_troop_political_notes",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (str_clear, s47),
      (store_faction_of_troop, ":var1", ":var0"),
      (faction_get_slot, ":var2", ":var1", 11),
      (str_clear, s40),
      (assign, ":var3", 0),
      (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var4", 166, 1),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var4"),
        (lt, reg0, -10),
        (str_store_troop_name_link, s39, ":var4"),
        (try_begin),
          (eq, ":var3", 0),
          (str_store_string, s40, "str_s39_rival"),
          (assign, ":var3", 1),
        (else_try),
          (str_store_string, s41, "str_s40"),
          (str_store_string, s40, "str_s41_s39_rival"),
        (try_end),
      (try_end),
      (str_clear, s46),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (try_begin),
          (troop_slot_eq, ":var0", 52, 1),
          (str_store_string, s46, "str_reputation_cheat_mode_only_martial_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 5),
          (str_store_string, s46, "str_reputation_cheat_mode_only_debauched_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 3),
          (str_store_string, s46, "str_reputation_cheat_mode_only_pitiless_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 4),
          (str_store_string, s46, "str_reputation_cheat_mode_only_calculating_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 2),
          (str_store_string, s46, "str_reputation_cheat_mode_only_quarrelsome_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 6),
          (str_store_string, s46, "str_reputation_cheat_mode_only_goodnatured_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 7),
          (str_store_string, s46, "str_reputation_cheat_mode_only_upstanding_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 21),
          (str_store_string, s46, "str_reputation_cheat_mode_only_conventional_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 22),
          (str_store_string, s46, "str_reputation_cheat_mode_only_adventurous_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 23),
          (str_store_string, s46, "str_reputation_cheat_mode_only_romantic_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 25),
          (str_store_string, s46, "str_reputation_cheat_mode_only_moralist_"),
        (else_try),
          (troop_slot_eq, ":var0", 52, 24),
          (str_store_string, s46, "str_reputation_cheat_mode_only_ambitious_"),
        (else_try),
          (troop_get_slot, reg11, ":var0", 52),
          (str_store_string, s46, "str_reputation_cheat_mode_only_reg11_"),
        (try_end),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (try_for_range, ":var5", 35, 38),
            (troop_get_slot, ":var6", ":var0", ":var5"),
            (is_between, ":var6", "trp_knight_1_1_wife", "trp_heroes_end"),
            (str_store_troop_name_link, s39, ":var6"),
            (call_script, "script_troop_get_relation_with_troop", ":var0", ":var6"),
            (str_store_string, s2, "str_love_interest"),
            (try_begin),
              (troop_slot_eq, ":var0", 34, ":var6"),
              (str_store_string, s2, "str_betrothed"),
            (try_end),
            (str_store_string, s40, "str_s40_s39_s2_reg0"),
          (try_end),
        (try_end),
      (try_end),
      (str_store_string, s45, "str_other_relations_s40_"),
      (str_clear, s44),
      (try_begin),
        (neq, ":var0", ":var2"),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var2"),
        (str_store_string, s44, "str_relation_with_liege_reg0_"),
      (try_end),
      (str_clear, s48),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (store_current_hours, ":var7"),
        (gt, ":var7", 0),
        (call_script, "script_calculate_troop_political_factors_for_liege", ":var0", ":var2"),
        (str_store_string, s48, "str_sense_of_security_military_reg1_court_position_reg3_"),
      (try_end),
      (str_store_string, s47, "str_s46s45s44s48"),
      (add_troop_note_from_sreg, ":var0", 3, "str_political_details_s47_", 1),
    (try_end),
  ]),

  ("update_center_notes",
  [
  ]),

  ("update_center_recon_notes",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (this_or_next|is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
      (is_between, ":var0", "p_castle_1_1", "p_village_1_1"),
      (party_get_slot, ":var1", ":var0", 53),
      (call_script, "script_center_get_food_consumption", ":var0"),
      (assign, ":var2", reg0),
      (store_div, reg6, ":var1", ":var2"),
      (party_collect_attachments_to_party, ":var0", "p_collective_ally"),
      (party_get_num_companions, reg5, "p_collective_ally"),
      (add_party_note_from_sreg, ":var0", 1, "@Current garrison consists of {reg5} men.^Has food stock for {reg6} days.", 1),
    (try_end),
  ]),

  ("update_all_notes",
  [
    (call_script, "script_update_troop_notes", "trp_player"),
    (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var0", 166, 1),
      (this_or_next|troop_slot_eq, ":var0", 2, 2),
      (this_or_next|troop_slot_eq, ":var0", 2, 6),
      (troop_slot_eq, ":var0", 2, 9),
      (call_script, "script_update_troop_notes", ":var0"),
    (try_end),
    (try_for_range, ":var1", "p_town_1_1", "p_salt_mine"),
      (call_script, "script_update_center_notes", ":var1"),
    (try_end),
    (try_for_range, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (call_script, "script_update_faction_notes", ":var2"),
    (try_end),
  ]),

  ("agent_troop_get_banner_mesh",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (assign, ":var3", "mesh_banners_default_b"),
    (try_begin),
      (lt, ":var0", 0),
      (try_begin),
        (ge, ":var1", 0),
        (this_or_next|troop_slot_ge, ":var1", 13, 1),
        (eq, ":var1", "trp_player"),
        (assign, ":var2", ":var1"),
      (else_try),
        (is_between, ":var1", "trp_npc1", "trp_kingdom_1_lord"),
        (assign, ":var2", "trp_player"),
      (else_try),
        (assign, ":var3", "mesh_banners_default_a"),
      (try_end),
    (else_try),
      (eq, "$g_is_quick_battle", 1),
      (agent_get_team, ":var4", ":var0"),
      (try_begin),
        (eq, ":var4", 0),
        (assign, ":var3", "$g_quick_battle_team_0_banner"),
      (else_try),
        (assign, ":var3", "$g_quick_battle_team_1_banner"),
      (try_end),
    (else_try),
      (game_in_multiplayer_mode),
      (agent_get_group, ":var5", ":var0"),
      (try_begin),
        (neg|player_is_active, ":var5"),
        (agent_get_player_id, ":var5", ":var0"),
      (try_end),
      (try_begin),
        (eq, "$g_multiplayer_allow_player_banners", 1),
        (player_is_active, ":var5"),
        (player_get_banner_id, ":var6", ":var5"),
        (ge, ":var6", 0),
        (store_add, ":var3", ":var6", "mesh_arms_a01"),
        (assign, ":var7", 0),
        (try_for_range, ":var8", "fac_kingdom_1", "fac_kingdoms_end"),
          (faction_slot_eq, ":var8", 15, ":var3"),
          (assign, ":var7", 1),
        (try_end),
        (eq, ":var7", 0),
      (else_try),
        (agent_get_team, ":var4", ":var0"),
        (team_get_faction, ":var9", ":var4"),
        (try_begin),
          (agent_is_human, ":var0"),
          (faction_get_slot, ":var3", ":var9", 15),
        (else_try),
          (agent_get_rider, ":var10", ":var0"),
          (try_begin),
            (ge, ":var10", 0),
            (agent_is_active, ":var10"),
            (agent_get_team, ":var11", ":var10"),
            (team_get_faction, ":var12", ":var11"),
            (faction_get_slot, ":var3", ":var12", 15),
          (else_try),
            (assign, ":var3", "mesh_banners_default_c"),
          (try_end),
        (try_end),
      (try_end),
    (else_try),
      (agent_get_troop_id, ":var13", ":var0"),
      (this_or_next|troop_slot_ge, ":var13", 13, 1),
      (eq, ":var1", "trp_player"),
      (assign, ":var2", ":var13"),
    (else_try),
      (agent_get_party_id, ":var14", ":var0"),
      (try_begin),
        (lt, ":var14", 0),
        (is_between, ":var13", "trp_npc1", "trp_kingdom_1_lord"),
        (main_party_has_troop, ":var13"),
        (assign, ":var14", "p_main_party"),
      (try_end),
      (ge, ":var14", 0),
      (party_get_template_id, ":var15", ":var14"),
      (try_begin),
        (eq, ":var15", "pt_deserters"),
        (assign, ":var3", "mesh_banners_default_c"),
      (else_try),
        (is_between, ":var14", "p_town_1_1", "p_salt_mine"),
        (is_between, ":var13", "trp_npc1", "trp_kingdom_1_lord"),
        (neq, "$talk_context", 14),
        (assign, ":var2", "trp_player"),
      (else_try),
        (is_between, ":var14", "p_town_1_1", "p_salt_mine"),
        (party_get_slot, ":var16", "$g_encountered_party", 7),
        (ge, ":var16", 0),
        (assign, ":var2", ":var16"),
      (else_try),
        (this_or_next|party_slot_eq, ":var14", 0, 13),
        (eq, ":var14", "p_main_party"),
        (party_get_num_companion_stacks, ":var17", ":var14"),
        (gt, ":var17", 0),
        (party_stack_get_troop_id, ":var18", ":var14", 0),
        (this_or_next|troop_slot_ge, ":var18", 13, 1),
        (eq, ":var18", "trp_player"),
        (assign, ":var2", ":var18"),
      (try_end),
    (else_try),
      (eq, "$talk_context", 14),
      (neq, ":var1", "trp_player"),
      (assign, ":var3", "mesh_banners_default_d"),
    (else_try),
      (neq, ":var1", "trp_player"),
      (is_between, "$g_encountered_party", "p_town_1_1", "p_village_1_1"),
      (party_get_slot, ":var16", "$g_encountered_party", 7),
      (ge, ":var16", 0),
      (assign, ":var2", ":var16"),
    (try_end),
    (try_begin),
      (neq, ":var1", "trp_player"),
      (neg|is_between, ":var1", "trp_templar_half_brother", "trp_mercenaries_end"),
      (ge, ":var0", 0),
      (agent_get_party_id, ":var14", ":var0"),
      (ge, ":var14", 0),
      (party_get_template_id, ":var15", ":var14"),
      (try_begin),
        (this_or_next|eq, ":var15", "pt_patrol_party"),
        (eq, ":var15", "pt_kingdom_caravan_party"),
        (party_get_slot, ":var19", ":var14", 123),
        (party_get_slot, ":var16", ":var19", 7),
        (ge, ":var16", 0),
        (assign, ":var2", ":var16"),
      (else_try),
        (eq, ":var15", "pt_guelphs"),
        (assign, ":var3", "mesh_banner_a20"),
        (assign, ":var2", -1),
      (else_try),
        (eq, ":var15", "pt_ghibellines"),
        (assign, ":var3", "mesh_banner_a19"),
        (assign, ":var2", -1),
      (else_try),
        (eq, ":var15", "pt_crusaders"),
        (store_random_in_range, ":var20", 0, 2),
        (assign, ":var2", -1),
        (try_begin),
          (eq, ":var20", 0),
          (assign, ":var3", "mesh_banner_f21"),
        (else_try),
          (store_random_in_range, ":var3", "mesh_banner_x17", "mesh_banner_x19"),
        (try_end),
      (try_end),
    (else_try),
      (try_begin),
        (eq, ":var1", "trp_player"),
        (gt, "$freelancer_state", 0),
        (assign, ":var1", "$player_cur_troop"),
      (try_end),
      (is_between, ":var1", "trp_templar_half_brother", "trp_mercenaries_end"),
      (try_begin),
        (is_between, ":var1", "trp_templar_half_brother", "trp_hospitaller_half_brother"),
        (assign, ":var3", "mesh_banner_x18"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_hospitaller_half_brother", "trp_saint_lazarus_half_brother"),
        (assign, ":var3", "mesh_banner_x17"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_saint_lazarus_half_brother", "trp_santiago_half_brother"),
        (assign, ":var3", "mesh_banner_o07"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_santiago_half_brother", "trp_calatrava_half_brother"),
        (assign, ":var3", "mesh_banner_e21"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_calatrava_half_brother", "trp_saint_thomas_half_brother"),
        (assign, ":var3", "mesh_banner_e18"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_saint_thomas_half_brother", "trp_varangian_guard"),
        (assign, ":var3", "mesh_banner_o08"),
        (assign, ":var2", -1),
      (try_end),
    (try_end),
    (try_begin),
      (ge, ":var2", 0),
      (try_begin),
        (neg|troop_slot_ge, ":var2", 13, 1),
        (assign, ":var3", "mesh_banners_default_b"),
      (else_try),
        (troop_get_slot, ":var21", ":var2", 13),
        (store_add, ":var22", "spr_banner_x21", 1),
        (is_between, ":var21", "spr_banner_a", ":var22"),
        (val_sub, ":var21", "spr_banner_a"),
        (store_add, ":var3", ":var21", "mesh_arms_a01"),
      (try_end),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("shield_item_set_banner_old",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (call_script, "script_agent_troop_get_banner_mesh", ":var1", ":var2"),
    (cur_item_set_tableau_material, ":var0", reg0),
  ]),

  ("shield_item_set_banner",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (eq, "$historical_banners", 1),
      (call_script, "script_agent_troop_get_historical_mesh", ":var1", ":var2"),
    (else_try),
      (call_script, "script_agent_troop_get_banner_mesh", ":var1", ":var2"),
    (try_end),
    (cur_item_set_tableau_material, ":var0", reg0),
  ]),

  ("troop_agent_set_banner",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (call_script, "script_agent_troop_get_banner_mesh", ":var1", ":var2"),
    (cur_agent_set_banner_tableau_material, ":var0", reg0),
  ]),

  ("agent_troop_get_historical_mesh",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (try_begin),
      (ge, ":var0", 0),
      (agent_get_item_slot, ":var3", ":var0", 5),
      (gt, ":var3", 0),
      (item_get_slot, ":var4", ":var3", 67),
    (try_end),
    (store_random_in_range, ":var5", 0, 3),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (neq, "$randomize_player_shield", 1),
      (assign, ":var6", "mesh_banners_default_b"),
    (else_try),
      (gt, ":var4", 0),
      (assign, ":var6", ":var4"),
    (else_try),
      (neq, ":var5", 0),
      (store_random_in_range, ":var6", "mesh_banner_t15", "mesh_banner_u01"),
    (else_try),
      (store_random_in_range, ":var6", "mesh_banners_default_a", "mesh_troop_label_banner"),
    (try_end),
    (try_begin),
      (ge, ":var1", 0),
      (troop_slot_ge, ":var1", 13, 1),
      (assign, ":var2", ":var1"),
    (else_try),
      (assign, ":var7", 0),
      (try_begin),
        (gt, "$freelancer_state", 0),
        (is_between, "$player_cur_troop", "trp_teu_village_recruit", "trp_tatar_tribesman"),
        (neg|is_between, "$player_cur_troop", "trp_teu_balt_1", "trp_teu_ger_1"),
        (assign, ":var7", 1),
      (try_end),
      (this_or_next|eq, ":var7", 1),
      (is_between, ":var1", "trp_teu_village_recruit", "trp_tatar_tribesman"),
      (try_begin),
        (is_between, ":var1", "trp_teu_horse_1", "trp_tatar_tribesman"),
        (store_random_in_range, ":var6", "mesh_banner_q01", "mesh_banner_r01"),
      (else_try),
        (store_random_in_range, ":var5", 0, 2),
        (eq, ":var5", 0),
        (store_random_in_range, ":var6", "mesh_banner_q01", "mesh_banner_r01"),
      (try_end),
    (else_try),
      (assign, ":var7", 0),
      (try_begin),
        (gt, "$freelancer_state", 0),
        (is_between, "$player_cur_troop", "trp_templar_half_brother", "trp_mercenaries_end"),
        (assign, ":var7", 1),
      (try_end),
      (this_or_next|eq, ":var7", 1),
      (is_between, ":var1", "trp_templar_half_brother", "trp_mercenaries_end"),
      (try_begin),
        (is_between, ":var1", "trp_templar_half_brother", "trp_hospitaller_half_brother"),
        (assign, ":var6", "mesh_banner_x18"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_hospitaller_half_brother", "trp_saint_lazarus_half_brother"),
        (assign, ":var6", "mesh_banner_x17"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_saint_lazarus_half_brother", "trp_santiago_half_brother"),
        (assign, ":var6", "mesh_banner_o07"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_santiago_half_brother", "trp_calatrava_half_brother"),
        (assign, ":var6", "mesh_banner_e21"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_calatrava_half_brother", "trp_saint_thomas_half_brother"),
        (assign, ":var6", "mesh_banner_e18"),
        (assign, ":var2", -1),
      (else_try),
        (is_between, ":var1", "trp_saint_thomas_half_brother", "trp_varangian_guard"),
        (assign, ":var6", "mesh_banner_o08"),
        (assign, ":var2", -1),
      (try_end),
    (else_try),
      (gt, ":var0", 0),
      (agent_get_party_id, ":var8", ":var0"),
      (ge, ":var8", 0),
      (party_get_template_id, ":var9", ":var8"),
      (this_or_next|eq, ":var9", "pt_crusaders"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_iberian"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_scandinavian"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_euro"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_italian"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_welsh"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_gaelic"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_teutonic"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_templar"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_hospitaller"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_saint_lazarus"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_santiago"),
      (this_or_next|eq, ":var9", "pt_crusader_raiders_calatrava"),
      (eq, ":var9", "pt_crusader_raiders_saint_thomas"),
      (store_random_in_range, ":var5", 0, 2),
      (assign, ":var2", -1),
      (try_begin),
        (eq, ":var5", 0),
        (assign, ":var6", "mesh_banner_f21"),
      (else_try),
        (store_random_in_range, ":var6", "mesh_banner_x17", "mesh_banner_x19"),
      (try_end),
    (try_end),
    (try_begin),
      (ge, ":var2", 0),
      (troop_slot_ge, ":var2", 13, 1),
      (try_begin),
        (troop_get_slot, ":var10", ":var2", 13),
        (store_add, ":var11", "spr_banner_x21", 1),
        (is_between, ":var10", "spr_banner_a", ":var11"),
        (val_sub, ":var10", "spr_banner_a"),
        (store_add, ":var6", ":var10", "mesh_arms_a01"),
      (try_end),
    (try_end),
    (try_begin),
      (neg|is_between, ":var6", "mesh_banner_a01", "mesh_troop_label_banner"),
      (store_random_in_range, ":var6", "mesh_banner_t15", "mesh_banner_u01"),
    (try_end),
    (assign, reg0, ":var6"),
  ]),

  ("initialize_item_banners",
  [
    (item_set_slot, "itm_rnd_surcoat_01", 67, "mesh_banner_h06"),
    (item_set_slot, "itm_rnd_surcoat_02", 67, "mesh_banner_b01"),
    (item_set_slot, "itm_rnd_surcoat_03", 67, "mesh_banner_g06"),
    (item_set_slot, "itm_rnd_surcoat_04", 67, "mesh_banner_f17"),
    (item_set_slot, "itm_rnd_surcoat_05", 67, "mesh_banner_h11"),
    (item_set_slot, "itm_rnd_surcoat_06", 67, "mesh_banner_s21"),
    (item_set_slot, "itm_rnd_surcoat_07", 67, "mesh_banner_s02"),
    (item_set_slot, "itm_rnd_surcoat_08", 67, "mesh_banner_h05"),
    (item_set_slot, "itm_rnd_surcoat_09", 67, "mesh_banner_t03"),
    (item_set_slot, "itm_rnd_surcoat_10", 67, "mesh_banner_f05"),
    (item_set_slot, "itm_rnd_surcoat_11", 67, "mesh_banner_v13"),
    (item_set_slot, "itm_rnd_surcoat_12", 67, "mesh_banner_b01"),
    (item_set_slot, "itm_rnd_surcoat_13", 67, "mesh_banner_s04"),
    (item_set_slot, "itm_rnd_surcoat_14", 67, "mesh_banner_c17"),
    (item_set_slot, "itm_rnd_surcoat_15", 67, "mesh_banner_u13"),
    (item_set_slot, "itm_rnd_surcoat_16", 67, "mesh_banner_e05"),
    (item_set_slot, "itm_rnd_surcoat_17", 67, "mesh_banner_i16"),
    (item_set_slot, "itm_rnd_surcoat_18", 67, "mesh_banner_g05"),
    (item_set_slot, "itm_rnd_surcoat_19", 67, "mesh_banner_b19"),
    (item_set_slot, "itm_rnd_surcoat_20", 67, "mesh_banner_r02"),
    (item_set_slot, "itm_rnd_surcoat_21", 67, "mesh_banner_v02"),
    (item_set_slot, "itm_rnd_surcoat_22", 67, "mesh_banner_v06"),
    (item_set_slot, "itm_rnd_surcoat_23", 67, "mesh_banner_e11"),
  ]),

  ("add_troop_to_cur_tableau",
  [
    (store_script_param, ":var0", 1),
    (set_fixed_point_multiplier, 100),
    (assign, ":var1", -1),
    (troop_get_slot, ":var2", ":var0", 13),
    (store_add, ":var3", "spr_banner_x21", 1),
    (try_begin),
      (is_between, ":var2", "spr_banner_a", ":var3"),
      (val_sub, ":var2", "spr_banner_a"),
      (store_add, ":var1", ":var2", "mesh_banner_a01"),
    (try_end),
    (cur_tableau_clear_override_items),
    (cur_tableau_set_override_flags, 31),
    (init_position, pos2),
    (cur_tableau_set_camera_parameters, 1, 6, 6, 10, 10000),
    (init_position, pos5),
    (assign, ":var4", 162),
    (store_mul, ":var5", ":var0", 87323),
    (assign, ":var5", 139),
    (store_mul, ":var6", ":var0", 124337),
    (val_mod, ":var6", 50),
    (val_add, ":var6", -25),
    (store_mul, ":var7", ":var0", 98123),
    (val_mod, ":var7", 20),
    (val_add, ":var7", -14),
    (assign, ":var8", "anim_stand_man"),
    (position_set_z, pos5, ":var4"),
    (position_rotate_x, pos5, -90),
    (position_rotate_z, pos5, 180),
    (position_rotate_y, pos5, ":var6"),
    (position_rotate_x, pos5, ":var7"),
    (position_move_z, pos5, ":var5", 0),
    (position_move_x, 5, 5, 0),
    (try_begin),
      (ge, ":var1", 0),
      (init_position, pos1),
      (position_set_z, pos1, -1500),
      (position_set_x, pos1, 265),
      (position_set_y, pos1, 400),
      (position_transform_position_to_parent, pos3, pos5, pos1),
      (cur_tableau_add_mesh, ":var1", pos3, 400, 0),
    (try_end),
    (cur_tableau_add_troop, ":var0", pos2, ":var8", 0),
    (cur_tableau_set_camera_position, pos5),
    (copy_position, 8, 5),
    (position_rotate_x, pos8, -90),
    (position_rotate_z, pos8, 30),
    (position_rotate_x, pos8, -60),
    (cur_tableau_add_sun_light, pos8, 175, 150, 125),
  ]),

  ("add_troop_to_cur_tableau_for_character",
  [
    (store_script_param, ":var0", 1),
    (set_fixed_point_multiplier, 100),
    (cur_tableau_clear_override_items),
    (cur_tableau_set_override_flags, 512),
    (init_position, pos2),
    (cur_tableau_set_camera_parameters, 1, 4, 8, 10, 10000),
    (init_position, pos5),
    (assign, ":var1", 150),
    (assign, ":var2", 360),
    (assign, ":var3", -15),
    (assign, ":var4", -18),
    (assign, ":var5", 1),
    (position_set_z, pos5, ":var1"),
    (position_rotate_x, pos5, -90),
    (position_rotate_z, pos5, 180),
    (position_rotate_y, pos5, ":var3"),
    (position_rotate_x, pos5, ":var4"),
    (position_move_z, pos5, ":var2", 0),
    (position_move_x, 5, 5, 0),
    (try_begin),
      (troop_is_hero, ":var0"),
      (cur_tableau_add_troop, ":var0", pos2, ":var5", -1),
    (else_try),
      (store_mul, ":var6", ":var0", 126233),
      (val_mod, ":var6", 1000),
      (val_add, ":var6", 1),
      (cur_tableau_add_troop, ":var0", pos2, ":var5", ":var6"),
    (try_end),
    (cur_tableau_set_camera_position, pos5),
    (copy_position, 8, 5),
    (position_rotate_x, pos8, -90),
    (position_rotate_z, pos8, 30),
    (position_rotate_x, pos8, -60),
    (cur_tableau_add_sun_light, pos8, 175, 150, 125),
  ]),

  ("add_troop_to_cur_tableau_for_inventory",
  [
    (store_script_param, ":var0", 1),
    (store_mod, ":var1", ":var0", 4),
    (val_div, ":var0", 4),
    (val_mul, ":var1", 90),
    (set_fixed_point_multiplier, 100),
    (cur_tableau_clear_override_items),
    (init_position, pos2),
    (position_rotate_z, pos2, ":var1"),
    (cur_tableau_set_camera_parameters, 1, 4, 6, 10, 10000),
    (init_position, pos5),
    (assign, ":var2", 105),
    (assign, ":var3", 380),
    (assign, ":var4", -15),
    (assign, ":var5", -18),
    (assign, ":var6", 1),
    (position_set_z, pos5, ":var2"),
    (position_rotate_x, pos5, -90),
    (position_rotate_z, pos5, 180),
    (position_rotate_y, pos5, ":var4"),
    (position_rotate_x, pos5, ":var5"),
    (position_move_z, pos5, ":var3", 0),
    (position_move_x, 5, 5, 0),
    (try_begin),
      (troop_is_hero, ":var0"),
      (cur_tableau_add_troop, ":var0", pos2, ":var6", -1),
    (else_try),
      (store_mul, ":var7", ":var0", 126233),
      (val_mod, ":var7", 1000),
      (val_add, ":var7", 1),
      (cur_tableau_add_troop, ":var0", pos2, ":var6", ":var7"),
    (try_end),
    (cur_tableau_set_camera_position, pos5),
    (copy_position, 8, 5),
    (position_rotate_x, pos8, -90),
    (position_rotate_z, pos8, 30),
    (position_rotate_x, pos8, -60),
    (cur_tableau_add_sun_light, pos8, 175, 150, 125),
  ]),

  ("add_troop_to_cur_tableau_for_profile",
  [
    (store_script_param, ":var0", 1),
    (set_fixed_point_multiplier, 100),
    (cur_tableau_clear_override_items),
    (cur_tableau_set_camera_parameters, 1, 4, 6, 10, 10000),
    (init_position, pos5),
    (assign, ":var1", 105),
    (assign, ":var2", 380),
    (assign, ":var3", -15),
    (assign, ":var4", -18),
    (assign, ":var5", 1),
    (position_set_z, pos5, ":var1"),
    (position_rotate_x, pos5, -90),
    (position_rotate_z, pos5, 180),
    (position_rotate_y, pos5, ":var3"),
    (position_rotate_x, pos5, ":var4"),
    (position_move_z, pos5, ":var2", 0),
    (position_move_x, 5, 5, 0),
    (profile_get_banner_id, ":var6"),
    (try_begin),
      (ge, ":var6", 0),
      (init_position, pos2),
      (val_add, ":var6", "mesh_banner_a01"),
      (position_set_x, pos2, -175),
      (position_set_y, pos2, -300),
      (position_set_z, pos2, 180),
      (position_rotate_x, pos2, 90),
      (position_rotate_y, pos2, -15),
      (cur_tableau_add_mesh, ":var6", pos2, 0, 0),
    (try_end),
    (init_position, pos2),
    (try_begin),
      (troop_is_hero, ":var0"),
      (cur_tableau_add_troop, ":var0", pos2, ":var5", -1),
    (else_try),
      (store_mul, ":var7", ":var0", 126233),
      (val_mod, ":var7", 1000),
      (val_add, ":var7", 1),
      (cur_tableau_add_troop, ":var0", pos2, ":var5", ":var7"),
    (try_end),
    (cur_tableau_set_camera_position, pos5),
    (copy_position, 8, 5),
    (position_rotate_x, pos8, -90),
    (position_rotate_z, pos8, 30),
    (position_rotate_x, pos8, -60),
    (cur_tableau_add_sun_light, pos8, 175, 150, 125),
  ]),

  ("add_troop_to_cur_tableau_for_retirement",
  [
    (store_script_param, ":var0", 1),
    (cur_tableau_set_override_flags, 511),
    (try_begin),
      (eq, ":var0", 0),
      (cur_tableau_add_override_item, "itm_pilgrim_hood"),
      (cur_tableau_add_override_item, "itm_pilgrim_disguise"),
      (cur_tableau_add_override_item, "itm_wrapping_boots"),
      (assign, ":var1", "anim_pose_1"),
    (else_try),
      (eq, ":var0", 1),
      (cur_tableau_add_override_item, "itm_pilgrim_hood"),
      (cur_tableau_add_override_item, "itm_wrapping_boots"),
      (cur_tableau_add_override_item, "itm_dagger"),
      (assign, ":var1", "anim_pose_1"),
    (else_try),
      (eq, ":var0", 2),
      (cur_tableau_add_override_item, "itm_linen_tunic"),
      (cur_tableau_add_override_item, "itm_wrapping_boots"),
      (assign, ":var1", "anim_pose_2"),
    (else_try),
      (eq, ":var0", 3),
      (cur_tableau_add_override_item, "itm_nomad_vest"),
      (cur_tableau_add_override_item, "itm_leather_boots"),
      (assign, ":var1", "anim_pose_2"),
    (else_try),
      (eq, ":var0", 4),
      (cur_tableau_add_override_item, "itm_tunic_with_green_cape"),
      (cur_tableau_add_override_item, "itm_leather_boots"),
      (assign, ":var1", "anim_pose_3"),
    (else_try),
      (eq, ":var0", 5),
      (cur_tableau_add_override_item, "itm_red_shirt"),
      (cur_tableau_add_override_item, "itm_woolen_hose"),
      (cur_tableau_add_override_item, "itm_fur_hat"),
      (assign, ":var1", "anim_pose_3"),
    (else_try),
      (eq, ":var0", 6),
      (cur_tableau_add_override_item, "itm_gambeson_a"),
      (cur_tableau_add_override_item, "itm_leather_boots"),
      (cur_tableau_add_override_item, "itm_sword_type_xiiib"),
      (assign, ":var1", "anim_pose_4"),
    (else_try),
      (eq, ":var0", 7),
      (cur_tableau_add_override_item, "itm_merchant_outfit"),
      (cur_tableau_add_override_item, "itm_blue_hose"),
      (cur_tableau_add_override_item, "itm_sword_type_xiiib"),
      (assign, ":var1", "anim_pose_4"),
    (else_try),
      (eq, ":var0", 8),
      (cur_tableau_add_override_item, "itm_merchant_outfit"),
      (cur_tableau_add_override_item, "itm_woolen_hose"),
      (cur_tableau_add_override_item, "itm_sword_type_xiiib"),
      (assign, ":var1", "anim_pose_4"),
    (else_try),
      (cur_tableau_add_override_item, "itm_heraldic_mail_with_surcoat_for_tableau"),
      (cur_tableau_add_override_item, "itm_mail_boots_long"),
      (cur_tableau_add_override_item, "itm_sword_type_xiiib"),
      (assign, ":var1", "anim_pose_5"),
    (try_end),
    (set_fixed_point_multiplier, 100),
    (cur_tableau_set_camera_parameters, 1, 6, 6, 10, 10000),
    (assign, ":var2", 155),
    (assign, ":var3", 575),
    (assign, ":var4", -5),
    (assign, ":var5", 10),
    (init_position, pos5),
    (position_set_z, pos5, ":var2"),
    (position_rotate_x, pos5, -90),
    (position_rotate_z, pos5, 180),
    (position_rotate_y, pos5, ":var4"),
    (position_rotate_x, pos5, ":var5"),
    (position_move_z, pos5, ":var3", 0),
    (position_move_x, 5, 60, 0),
    (init_position, pos2),
    (cur_tableau_add_troop, "trp_player", pos2, ":var1", 0),
    (cur_tableau_set_camera_position, pos5),
    (copy_position, 8, 5),
    (position_rotate_x, pos8, -90),
    (position_rotate_z, pos8, 30),
    (position_rotate_x, pos8, -60),
    (cur_tableau_add_sun_light, pos8, 175, 150, 125),
  ]),

  ("add_troop_to_cur_tableau_for_party",
  [
    (store_script_param, ":var0", 1),
    (store_mod, ":var1", ":var0", 2),
    (val_div, ":var0", 2),
    (set_fixed_point_multiplier, 100),
    (cur_tableau_clear_override_items),
    (try_begin),
      (eq, ":var1", 1),
      (cur_tableau_set_override_flags, 543),
    (try_end),
    (init_position, pos2),
    (cur_tableau_set_camera_parameters, 1, 6, 6, 10, 10000),
    (init_position, pos5),
    (assign, ":var2", 105),
    (assign, ":var3", 450),
    (assign, ":var4", 15),
    (assign, ":var5", -18),
    (assign, ":var6", 1),
    (troop_get_inventory_slot, ":var7", ":var0", ek_horse),
    (try_begin),
      (gt, ":var7", 0),
      (eq, ":var1", 0),
      (cur_tableau_add_horse, ":var7", pos2, "anim_horse_stand", 0),
      (assign, ":var6", "anim_ride_0"),
      (assign, ":var4", 23),
      (assign, ":var2", 150),
      (assign, ":var3", 550),
    (try_end),
    (position_set_z, pos5, ":var2"),
    (position_rotate_x, pos5, -90),
    (position_rotate_z, pos5, 180),
    (position_rotate_y, pos5, ":var4"),
    (position_rotate_x, pos5, ":var5"),
    (position_move_z, pos5, ":var3", 0),
    (position_move_x, 5, 5, 0),
    (try_begin),
      (troop_is_hero, ":var0"),
      (cur_tableau_add_troop, ":var0", pos2, ":var6", -1),
    (else_try),
      (store_mul, ":var8", ":var0", 126233),
      (val_mod, ":var8", 1000),
      (val_add, ":var8", 1),
      (cur_tableau_add_troop, ":var0", pos2, ":var6", ":var8"),
    (try_end),
    (cur_tableau_set_camera_position, pos5),
    (copy_position, 8, 5),
    (position_rotate_x, pos8, -90),
    (position_rotate_z, pos8, 30),
    (position_rotate_x, pos8, -60),
    (cur_tableau_add_sun_light, pos8, 175, 150, 125),
  ]),

  ("get_prosperity_text_to_s50",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 50),
    (val_div, ":var1", 20),
    (try_begin),
      (eq, ":var1", 0),
      (str_store_string, s50, "@Very Poor"),
    (else_try),
      (eq, ":var1", 1),
      (str_store_string, s50, "@Poor"),
    (else_try),
      (eq, ":var1", 2),
      (str_store_string, s50, "@Average"),
    (else_try),
      (eq, ":var1", 3),
      (str_store_string, s50, "@Rich"),
    (else_try),
      (str_store_string, s50, "@Very Rich"),
    (try_end),
  ]),

  ("spawn_bandit_lairs",
  [
    (party_template_set_slot, "pt_steppe_bandits", 3, "pt_steppe_bandit_lair"),
    (party_template_set_slot, "pt_taiga_bandits", 3, "pt_taiga_bandit_lair"),
    (party_template_set_slot, "pt_mountain_bandits", 3, "pt_mountain_bandit_lair"),
    (party_template_set_slot, "pt_forest_bandits", 3, "pt_forest_bandit_lair"),
    (party_template_set_slot, "pt_sea_raiders", 3, "pt_sea_raider_lair"),
    (party_template_set_slot, "pt_desert_bandits", 3, "pt_desert_bandit_lair"),
    (party_template_set_slot, "pt_robber_knights", 3, "pt_robber_knight_lair"),
    (set_spawn_radius, 4),
    (assign, ":var0", 0),
    (try_for_range, ":var1", "pt_steppe_bandit_lair", "pt_looter_lair"),
      (store_num_parties_of_template, ":var2", ":var1"),
      (val_add, ":var0", ":var2"),
    (try_end),
    (assign, ":var3", 32),
    (try_begin),
      (lt, ":var0", ":var3"),
      (val_sub, ":var3", ":var0"),
      (gt, ":var3", 0),
      (try_for_range, reg1, 0, ":var3"),
        (store_random_in_range, ":var4", 0, 101),
        (try_begin),
          (le, ":var4", 5),
          (store_random_in_range, ":var5", "p_town_1_1", "p_village_1_1"),
          (spawn_around_party, ":var5", "pt_robber_knight_lair"),
        (else_try),
          (le, ":var4", 75),
          (store_random_in_range, ":var5", "p_town_1_1", "p_village_1_1"),
          (assign, ":var6", 0),
          (party_get_current_terrain, ":var6", ":var5"),
          (try_begin),
            (this_or_next|eq, ":var6", 2),
            (eq, ":var6", 10),
            (assign, ":var7", "pt_steppe_bandit_lair"),
          (else_try),
            (this_or_next|eq, ":var6", 4),
            (eq, ":var6", 12),
            (assign, ":var7", "pt_taiga_bandit_lair"),
          (else_try),
            (this_or_next|eq, ":var6", 5),
            (eq, ":var6", 13),
            (assign, ":var7", "pt_desert_bandit_lair"),
          (else_try),
            (store_random_in_range, ":var4", 0, 101),
            (try_begin),
              (lt, ":var4", 50),
              (assign, ":var7", "pt_forest_bandit_lair"),
            (else_try),
              (assign, ":var7", "pt_mountain_bandit_lair"),
            (try_end),
          (try_end),
          (spawn_around_party, ":var5", ":var7"),
        (else_try),
          (store_random_in_range, ":var5", "p_ship_1", "p_looter_spawn_point"),
          (spawn_around_party, ":var5", "pt_sea_raider_lair"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("spawn_bandits2",
  [
    (set_spawn_radius, 3),
    (assign, ":var0", 0),
    (try_for_range, ":var1", 0, 7),
      (store_add, ":var2", ":var1", "pt_steppe_bandit_lair"),
      (store_add, ":var3", ":var1", "pt_steppe_bandits"),
      (store_num_parties_of_template, ":var4", ":var2"),
      (store_num_parties_of_template, ":var0", ":var3"),
      (store_mul, ":var5", ":var4", 2),
      (lt, ":var0", ":var5"),
      (val_sub, ":var5", ":var0"),
      (try_for_range, reg2, 0, ":var5"),
        (store_random_party_of_template, ":var6", ":var2"),
        (spawn_around_party, ":var6", ":var3"),
        (party_set_slot, reg0, 5, ":var6"),
      (try_end),
    (try_end),
    (assign, ":var7", 40),
    (store_num_parties_of_template, ":var0", "pt_looters"),
    (try_begin),
      (lt, ":var0", ":var7"),
      (val_sub, ":var7", ":var0"),
      (try_for_range, reg2, 0, ":var7"),
        (store_random_in_range, ":var8", "p_village_1_1", "p_salt_mine"),
        (spawn_around_party, ":var8", "pt_looters"),
        (try_begin),
          (check_quest_active, "qst_deal_with_looters"),
          (party_set_flags, reg0, pf_quest_party, 1),
        (else_try),
          (party_set_flags, reg0, pf_quest_party, 0),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("spawn_bandits",
  [
    (set_spawn_radius, 1),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (store_num_parties_of_template, ":var0", "pt_mountain_bandits"),
      (assign, reg20, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_forest_bandits"),
      (assign, reg21, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_sea_raiders"),
      (assign, reg22, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_robber_knights"),
      (assign, reg23, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_desert_bandits"),
      (assign, reg24, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_steppe_bandits"),
      (assign, reg25, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_taiga_bandits"),
      (assign, reg26, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_steppe_bandit_lair"),
      (assign, reg27, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_mountain_bandit_lair"),
      (assign, reg28, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_sea_raider_lair"),
      (assign, reg29, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_forest_bandit_lair"),
      (assign, reg30, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_desert_bandit_lair"),
      (assign, reg31, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_robber_knight_lair"),
      (assign, reg32, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_taiga_bandit_lair"),
      (assign, reg33, ":var0"),
      (display_message, "@{!}DEBUG : Doing spawn bandit script"),
      (display_message, "@common bandits: {reg20}"),
      (display_message, "@forest bandits: {reg21}"),
      (display_message, "@sea raiders: {reg22}"),
      (display_message, "@robber knights: {reg23}"),
      (display_message, "@desert bandits: {reg24}"),
      (display_message, "@steppe bandits: {reg25}"),
      (display_message, "@taiga bandits: {reg25}"),
      (display_message, "@Lairs"),
      (display_message, "@steppe: {reg27}"),
      (display_message, "@common:{reg28}"),
      (display_message, "@sea raider:{reg29}"),
      (display_message, "@forest:{reg30}"),
      (display_message, "@desert:{reg31}"),
      (display_message, "@knights:{reg32}"),
      (display_message, "@taiga:{reg33}"),
    (try_end),
    (party_template_set_slot, "pt_steppe_bandits", 3, "pt_steppe_bandit_lair"),
    (party_template_set_slot, "pt_taiga_bandits", 3, "pt_taiga_bandit_lair"),
    (party_template_set_slot, "pt_mountain_bandits", 3, "pt_mountain_bandit_lair"),
    (party_template_set_slot, "pt_forest_bandits", 3, "pt_forest_bandit_lair"),
    (party_template_set_slot, "pt_sea_raiders", 3, "pt_sea_raider_lair"),
    (party_template_set_slot, "pt_desert_bandits", 3, "pt_desert_bandit_lair"),
    (party_template_set_slot, "pt_robber_knights", 3, "pt_robber_knight_lair"),
    (store_random_in_range, ":var1", "p_taiga_bandit_spawn_point_1", "p_steppe_bandit_spawn_point_1"),
    (party_template_set_slot, "pt_taiga_bandits", 5, ":var1"),
    (store_random_in_range, ":var1", "p_steppe_bandit_spawn_point_1", "p_forest_bandit_spawn_point_1"),
    (party_template_set_slot, "pt_steppe_bandits", 5, ":var1"),
    (store_random_in_range, ":var1", "p_mountain_bandit_spawn_point_1", "p_sea_raider_spawn_point_1"),
    (party_template_set_slot, "pt_mountain_bandits", 5, ":var1"),
    (store_random_in_range, ":var1", "p_forest_bandit_spawn_point_1", "p_mountain_bandit_spawn_point_1"),
    (party_template_set_slot, "pt_forest_bandits", 5, ":var1"),
    (store_random_in_range, ":var1", "p_sea_raider_spawn_point_1", "p_desert_bandit_spawn_point_1"),
    (party_template_set_slot, "pt_sea_raiders", 5, ":var1"),
    (store_random_in_range, ":var1", "p_village_1_1", "p_salt_mine"),
    (party_template_set_slot, "pt_robber_knights", 5, ":var1"),
    (store_random_in_range, ":var1", "p_desert_bandit_spawn_point_1", "p_spawn_points_end"),
    (party_template_set_slot, "pt_desert_bandits", 5, ":var1"),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_looters"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_looter", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_looter"),
        (call_script, "script_rand", "p_village_1_1", "p_salt_mine"),
        (assign, ":var1", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var1", "pt_looters"),
        (assign, ":var5", reg0),
        (try_begin),
          (check_quest_active, "qst_deal_with_looters"),
          (party_set_flags, ":var5", pf_quest_party, 1),
        (else_try),
          (party_set_flags, ":var5", pf_quest_party, 0),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_mountain_bandits"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_mountain_bandits", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_mountain_bandits"),
        (call_script, "script_rand", "p_mountain_bandit_spawn_point_1", "p_sea_raider_spawn_point_1"),
        (assign, ":var1", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var1", "pt_mountain_bandits"),
        (party_set_slot, reg0, 5, ":var1"),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_steppe_bandits"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_steppe_bandits", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_steppe_bandits"),
        (call_script, "script_rand", "p_steppe_bandit_spawn_point_1", "p_forest_bandit_spawn_point_1"),
        (assign, ":var1", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var1", "pt_steppe_bandits"),
        (party_set_slot, reg0, 5, ":var1"),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_taiga_bandits"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_taiga_bandits", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_taiga_bandits"),
        (call_script, "script_rand", "p_taiga_bandit_spawn_point_1", "p_steppe_bandit_spawn_point_1"),
        (assign, ":var1", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var1", "pt_taiga_bandits"),
        (party_set_slot, reg0, 5, ":var1"),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_forest_bandits"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_forest_bandits", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_forest_bandits"),
        (call_script, "script_rand", "p_forest_bandit_spawn_point_1", "p_mountain_bandit_spawn_point_1"),
        (assign, ":var1", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var1", "pt_forest_bandits"),
        (party_set_slot, reg0, 5, ":var1"),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_desert_bandits"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_desert_bandits", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_desert_bandits"),
        (call_script, "script_rand", "p_desert_bandit_spawn_point_1", "p_spawn_points_end"),
        (assign, ":var1", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var1", "pt_desert_bandits"),
        (party_set_slot, reg0, 5, ":var1"),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_sea_raiders"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_sea_raider", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_sea_raider"),
        (call_script, "script_rand", "p_sea_raider_spawn_point_1", "p_desert_bandit_spawn_point_1"),
        (assign, ":var1", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var1", "pt_sea_raiders"),
        (party_set_slot, reg0, 5, ":var1"),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_robber_knights"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_roving_knights", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_roving_knights"),
        (call_script, "script_rand", "p_village_1_1", "p_salt_mine"),
        (assign, ":var1", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var1", "pt_robber_knights"),
        (party_set_slot, reg0, 5, ":var1"),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_deserters"),
      (store_sub, ":var2", "$g_party_bandit_max_parties_deserters", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_bandit_spawn_chance_deserters"),
        (call_script, "script_rand", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
        (assign, ":var6", reg0),
        (troop_slot_eq, ":var6", 166, 1),
        (troop_slot_eq, ":var6", 2, 2),
        (troop_get_slot, ":var7", ":var6", 10),
        (gt, ":var7", 0),
        (store_faction_of_troop, ":var8", ":var6"),
        (neq, ":var8", "fac_player_supporters_faction"),
        (neg|party_is_in_any_town, ":var7"),
        (spawn_around_party, ":var7", "pt_deserters"),
        (assign, ":var9", reg0),
        (store_faction_of_troop, ":var10", ":var6"),
        (faction_get_slot, ":var11", ":var10", 41),
        (store_character_level, ":var12", "trp_player"),
        (store_mul, ":var13", ":var12", 2),
        (val_add, ":var13", 11),
        (store_random_in_range, ":var14", 10, ":var13"),
        (party_add_members, ":var9", ":var11", ":var14"),
        (store_random_in_range, ":var15", 1, 4),
        (try_for_range, ":var3", 0, ":var15"),
          (party_upgrade_with_xp, ":var9", 1000, 0),
          (party_upgrade_with_xp, ":var9", 1500, 0),
          (party_upgrade_with_xp, ":var9", 2500, 0),
          (party_upgrade_with_xp, ":var9", 3500, 0),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (store_num_parties_of_template, ":var0", "pt_mercenary_warband"),
      (store_sub, ":var2", "$g_party_mercenary_warband_max", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (store_random_in_range, ":var4", 0, 100),
        (le, ":var4", "$g_party_mercenary_warband_chance"),
        (call_script, "script_rand", "p_town_1_1", "p_castle_1_1"),
        (assign, ":var16", reg0),
        (set_spawn_radius, 25),
        (spawn_around_party, ":var16", "pt_mercenary_warband"),
        (assign, ":var5", reg0),
        (call_script, "script_get_random_merc_company_from_center", ":var16"),
        (assign, ":var17", reg0),
        (party_add_template, ":var5", ":var17"),
        (party_set_slot, ":var5", 5, ":var16"),
      (try_end),
    (try_end),
    (try_for_range, ":var18", "pt_steppe_bandits", "pt_deserters"),
      (party_template_get_slot, ":var19", ":var18", 4),
      (le, ":var19", 1),
      (party_template_get_slot, ":var20", ":var18", 3),
      (party_template_get_slot, ":var21", ":var18", 5),
      (set_spawn_radius, 20),
      (spawn_around_party, ":var21", ":var20"),
      (assign, ":var22", reg0),
      (party_set_slot, ":var22", 0, 18),
      (str_store_party_name, s4, ":var22"),
      (party_get_position, pos4, ":var22"),
      (party_get_current_terrain, ":var23", ":var22"),
      (position_get_z, ":var24", pos4),
      (position_get_y, ":var25", pos4),
      (assign, ":var26", 0),
      (try_for_range, ":var27", "p_town_1_1", "p_salt_mine"),
        (eq, ":var26", 0),
        (store_distance_to_party_from_party, ":var28", ":var22", ":var27"),
        (lt, ":var28", 3),
        (assign, ":var26", 1),
      (try_end),
      (try_begin),
        (eq, ":var26", 1),
        (party_is_active, ":var22"),
        (remove_party, ":var22"),
        (party_template_set_slot, ":var18", 4, 0),
      (else_try),
        (eq, ":var18", "pt_sea_raiders"),
        (eq, ":var23", 3),
        (map_get_water_position_around_position, pos5, pos4, 4),
        (party_template_set_slot, ":var18", 4, ":var22"),
        (party_set_flags, ":var22", pf_disabled, 1),
      (else_try),
        (eq, ":var18", "pt_mountain_bandits"),
        (party_template_set_slot, ":var18", 4, ":var22"),
        (party_set_flags, ":var22", pf_disabled, 1),
      (else_try),
        (eq, ":var18", "pt_desert_bandits"),
        (eq, ":var23", 5),
        (gt, ":var25", -9000),
        (gt, ":var24", 125),
        (party_template_set_slot, ":var18", 4, ":var22"),
        (party_set_flags, ":var22", pf_disabled, 1),
      (else_try),
        (eq, ":var18", "pt_steppe_bandits"),
        (this_or_next|eq, ":var23", 2),
        (eq, ":var23", 10),
        (this_or_next|eq, ":var23", 10),
        (gt, ":var24", 200),
        (party_template_set_slot, ":var18", 4, ":var22"),
        (party_set_flags, ":var22", pf_disabled, 1),
      (else_try),
        (eq, ":var18", "pt_taiga_bandits"),
        (eq, ":var23", 12),
        (party_template_set_slot, ":var18", 4, ":var22"),
        (party_set_flags, ":var22", pf_disabled, 1),
      (else_try),
        (eq, ":var18", "pt_forest_bandits"),
        (eq, ":var23", 11),
        (party_template_set_slot, ":var18", 4, ":var22"),
        (party_set_flags, ":var22", pf_disabled, 1),
      (else_try),
        (eq, ":var18", "pt_robber_knights"),
        (party_template_set_slot, ":var18", 4, ":var22"),
        (party_set_flags, ":var22", pf_disabled, 1),
      (else_try),
        (party_is_active, ":var22"),
        (str_store_party_name, s4, ":var22"),
        (remove_party, ":var22"),
        (party_template_set_slot, ":var18", 4, 0),
      (else_try),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (store_num_parties_of_template, ":var0", "pt_mountain_bandits"),
      (assign, reg20, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_forest_bandits"),
      (assign, reg21, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_sea_raiders"),
      (assign, reg22, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_robber_knights"),
      (assign, reg23, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_desert_bandits"),
      (assign, reg24, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_steppe_bandits"),
      (assign, reg25, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_taiga_bandits"),
      (assign, reg26, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_steppe_bandit_lair"),
      (assign, reg27, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_mountain_bandit_lair"),
      (assign, reg28, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_sea_raider_lair"),
      (assign, reg29, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_forest_bandit_lair"),
      (assign, reg30, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_desert_bandit_lair"),
      (assign, reg31, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_robber_knight_lair"),
      (assign, reg32, ":var0"),
      (store_num_parties_of_template, ":var0", "pt_taiga_bandit_lair"),
      (assign, reg33, ":var0"),
      (display_message, "@{!}DEBUG : Doing spawn bandit script"),
      (display_message, "@common bandits: {reg20}"),
      (display_message, "@forest bandits: {reg21}"),
      (display_message, "@sea raiders: {reg22}"),
      (display_message, "@robber knights: {reg23}"),
      (display_message, "@desert bandits: {reg24}"),
      (display_message, "@steppe bandits: {reg25}"),
      (display_message, "@taiga bandits: {reg25}"),
      (display_message, "@Lairs"),
      (display_message, "@steppe: {reg27}"),
      (display_message, "@common:{reg28}"),
      (display_message, "@sea raider:{reg29}"),
      (display_message, "@forest:{reg30}"),
      (display_message, "@desert:{reg31}"),
      (display_message, "@knights:{reg32}"),
      (display_message, "@taiga:{reg33}"),
    (try_end),
  ]),

  ("count_mission_casualties_from_agents",
  [
    (party_clear, "p_player_casualties"),
    (party_clear, "p_enemy_casualties"),
    (party_clear, "p_ally_casualties"),
    (assign, "$any_allies_at_the_last_battle", 0),
    (try_for_agents, ":var0"),
      (agent_is_human, ":var0"),
      (agent_get_party_id, ":var1", ":var0"),
      (agent_get_troop_id, ":var2", ":var0"),
      (troop_set_slot, ":var2", 146, 0),
      (troop_set_slot, ":var2", 147, 0),
      (troop_set_slot, ":var2", 148, 0),
    (try_end),
    (try_for_agents, ":var0"),
      (agent_is_human, ":var0"),
      (neg|agent_slot_eq, ":var0", 35, 1),
      (agent_get_party_id, ":var1", ":var0"),
      (try_begin),
        (neq, ":var1", "p_main_party"),
        (agent_slot_eq, ":var0", 35, 0),
        (agent_is_ally, ":var0"),
        (assign, "$any_allies_at_the_last_battle", 1),
      (try_end),
      (try_begin),
        (agent_is_routed, ":var0"),
        (agent_get_slot, ":var3", ":var0", 15),
        (eq, ":var3", 1),
        (try_begin),
          (agent_get_troop_id, ":var4", ":var0"),
          (agent_get_party_id, ":var5", ":var0"),
          (store_faction_of_party, ":var6", ":var5"),
          (try_begin),
            (eq, ":var1", "p_main_party"),
            (val_add, "$num_routed_us", 1),
          (else_try),
            (agent_is_ally, ":var0"),
            (val_add, "$num_routed_allies", 1),
          (else_try),
            (val_add, "$num_routed_enemies", 1),
            (faction_get_slot, ":var7", ":var6", 90),
            (val_add, ":var7", 1),
            (faction_set_slot, ":var6", 90, ":var7"),
            (party_add_members, "p_routed_enemies", ":var4", 1),
          (try_end),
        (try_end),
        (agent_get_troop_id, ":var2", ":var0"),
        (try_begin),
          (eq, ":var1", "p_main_party"),
          (troop_get_slot, ":var8", ":var2", 146),
          (val_add, ":var8", 1),
          (troop_set_slot, ":var2", 146, ":var8"),
        (else_try),
          (agent_is_ally, ":var0"),
          (troop_get_slot, ":var9", ":var2", 147),
          (val_add, ":var9", 1),
          (troop_set_slot, ":var2", 147, ":var9"),
        (else_try),
          (troop_get_slot, ":var10", ":var2", 148),
          (val_add, ":var10", 1),
          (troop_set_slot, ":var2", 148, ":var10"),
        (try_end),
      (try_end),
      (neg|agent_is_alive, ":var0"),
      (agent_get_troop_id, ":var2", ":var0"),
      (try_begin),
        (eq, ":var1", "p_main_party"),
        (party_add_members, "p_player_casualties", ":var2", 1),
        (try_begin),
          (agent_is_wounded, ":var0"),
          (party_wound_members, "p_player_casualties", ":var2", 1),
        (try_end),
      (else_try),
        (agent_slot_eq, ":var0", 35, 2),
        (agent_get_slot, ":var11", ":var0", 36),
        (party_add_members, "p_player_casualties", ":var11", 1),
        (try_begin),
          (agent_is_wounded, ":var0"),
          (party_wound_members, "p_player_casualties", ":var11", 1),
        (try_end),
      (else_try),
        (agent_is_ally, ":var0"),
        (party_add_members, "p_ally_casualties", ":var2", 1),
        (try_begin),
          (agent_is_wounded, ":var0"),
          (party_wound_members, "p_ally_casualties", ":var2", 1),
        (try_end),
      (else_try),
        (party_add_members, "p_enemy_casualties", ":var2", 1),
        (try_begin),
          (agent_is_wounded, ":var0"),
          (party_wound_members, "p_enemy_casualties", ":var2", 1),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (call_script, "script_check_agents_for_lances"),
    (try_end),
  ]),

  ("get_max_skill_of_player_party",
  [
    (store_script_param, ":var0", 1),
    (party_get_num_companion_stacks, ":var1", "p_main_party"),
    (store_skill_level, ":var2", ":var0", "trp_player"),
    (assign, ":var3", "trp_player"),
    (try_for_range, ":var4", 0, ":var1"),
      (party_stack_get_troop_id, ":var5", "p_main_party", ":var4"),
      (troop_is_hero, ":var5"),
      (neg|troop_is_wounded, ":var5"),
      (store_skill_level, ":var6", ":var0", ":var5"),
      (gt, ":var6", ":var2"),
      (assign, ":var2", ":var6"),
      (assign, ":var3", ":var5"),
    (try_end),
    (party_get_skill_level, reg0, "p_main_party", ":var0"),
    (assign, reg1, ":var3"),
  ]),

  ("upgrade_hero_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_upgrade_with_xp, ":var0", ":var1", 0),
  ]),

  ("get_improvement_details",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, ":var0", 130),
      (str_store_string, s0, "@Manor"),
      (str_store_string, s1, "@A manor lets you rest at the village and pay your troops half wages while you rest."),
      (assign, reg0, 8000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 248),
      (str_store_string, s0, "@Fortified manor house"),
      (str_store_string, s1, "@A fortified manor house provides basic fortifications."),
      (assign, reg0, 60000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 131),
      (str_store_string, s0, "@Mill"),
      (str_store_string, s1, "@A mill increases village prosperity by 5%."),
      (assign, reg0, 6000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 132),
      (str_store_string, s0, "@Watch Tower"),
      (str_store_string, s1, "@A watch tower lets the villagers raise alarm earlier. The time it takes for enemies to loot the village increases by 50%."),
      (assign, reg0, 5000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 133),
      (str_store_string, s0, "@School"),
      (str_store_string, s1, "@A school increases the loyalty of the villagers to you by +1 every month."),
      (assign, reg0, 9000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 134),
      (str_store_string, s0, "@Messenger Post"),
      (str_store_string, s1, "@A messenger post lets the inhabitants send you a message whenever enemies are nearby, even if you are far away from here."),
      (assign, reg0, 4000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 135),
      (str_store_string, s0, "@Prison Tower"),
      (str_store_string, s1, "@A prison tower reduces the chance of captives held here running away successfully."),
      (assign, reg0, 7000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 251),
      (str_store_string, s0, "@Improved fortifications level I"),
      (str_store_string, s1, "@Surrounds your castle with walls."),
      (assign, reg0, 80000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 252),
      (str_store_string, s0, "@Improved fortifications level II"),
      (str_store_string, s1, "@Surrounds your castle with even stronger walls."),
      (assign, reg0, 100000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 293),
      (eq, ":var1", 1),
      (str_store_string, s0, "@Stable upgrade I"),
      (str_store_string, s1, "@Upgrade your stables to improve the ability to store your horses (+12 slots) and heal your stored horses (30% chance for each once a week)."),
      (assign, reg0, 5000),
      (assign, reg1, 10),
    (else_try),
      (eq, ":var0", 293),
      (eq, ":var1", 2),
      (str_store_string, s0, "@Stable upgrade II"),
      (str_store_string, s1, "@Upgrade your stables to improve the ability to store your horses (+12 slots) and heal your stored horses (45% chance for each once a week). Can also train your horses (max modifier: heavy, max at once: 1) by talking to the constable."),
      (assign, reg0, 8000),
      (assign, reg1, 12),
    (else_try),
      (eq, ":var0", 293),
      (eq, ":var1", 3),
      (str_store_string, s0, "@Stable upgrade III"),
      (str_store_string, s1, "@Upgrade your stables to improve the ability to store your horses (+18 slots) and heal your stored horses (60% chance for each once a week). Can also train your horses (max modifier: spirited, max at once: 2, cost: -15%, train time: -25%) by talking to the constable."),
      (assign, reg0, 12000),
      (assign, reg1, 15),
    (else_try),
      (eq, ":var0", 293),
      (eq, ":var1", 4),
      (str_store_string, s0, "@Stable upgrade IV"),
      (str_store_string, s1, "@Upgrade your stables to improve the ability to store your horses (+18 slots) and heal your stored horses (75% chance for each once a week). Can also train your horses (max modifier: champion, max at once: 3, cost: -25%, train time: -40%) by talking to the constable. Will train horses (with less than heavy modifier) automatically."),
      (assign, reg0, 18000),
      (assign, reg1, 18),
    (else_try),
      (eq, ":var0", 302),
      (str_store_string, s0, "@Improve housing"),
      (str_store_string, s1, "@Construct more homes to accommodate more people."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 303),
      (str_store_string, s0, "@Marketplace"),
      (str_store_string, s1, "@Requires all 3 farms to be build. grants 15 one time prosperity bonus and allows tier 3 buildings to be build."),
      (assign, reg0, 8000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 304),
      (str_store_string, s0, "@Tavern"),
      (str_store_string, s1, "@Grants 15 one time prosperity bonus and spawns minstrels at the regional manor."),
      (assign, reg0, 5000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 305),
      (str_store_string, s0, "@Whorehouse"),
      (str_store_string, s1, "@grants 15 one time prosperity bonus and spawns harlots at the regional manor."),
      (assign, reg0, 6000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 306),
      (str_store_string, s0, "@Monastery"),
      (str_store_string, s1, "@Grants 15 one time prosperity bonus and spawns priests at the regional manor. Does not provide tax."),
      (assign, reg0, 8000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 307),
      (str_store_string, s0, "@Well"),
      (str_store_string, s1, "@Grants 10 one time prosperity bonus and allows top tier housing upgrade."),
      (assign, reg0, 3000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 308),
      (str_store_string, s0, "@Grainfarm"),
      (str_store_string, s1, "@Produces grain, can pay taxes in goods or in gold."),
      (assign, reg0, 2000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 309),
      (str_store_string, s0, "@Livestock"),
      (str_store_string, s1, "@Produces meat, can pay taxes in goods or in gold."),
      (assign, reg0, 4000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 310),
      (str_store_string, s0, "@Fruitfarm"),
      (str_store_string, s1, "@Produces fruit, can pay taxes in goods or in gold."),
      (assign, reg0, 3000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 311),
      (str_store_string, s0, "@Fisher"),
      (str_store_string, s1, "@Produces smoked fish, can pay taxes in goods or in gold."),
      (assign, reg0, 4000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 312),
      (str_store_string, s0, "@Bakery"),
      (str_store_string, s1, "@Produces bread, can pay taxes in goods or in gold."),
      (assign, reg0, 3000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 313),
      (str_store_string, s0, "@Winery"),
      (str_store_string, s1, "@Produces wine, can pay taxes in goods or in gold."),
      (assign, reg0, 5000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 314),
      (str_store_string, s0, "@Brewery"),
      (str_store_string, s1, "@Produces ALE!, can pay taxes in goods or in gold."),
      (assign, reg0, 4000),
      (assign, reg1, 18),
    (else_try),
      (eq, ":var0", 315),
      (str_store_string, s0, "@Improved fortifications 2"),
      (str_store_string, s1, "@Produces pottery, can pay taxes in goods or in gold."),
      (assign, reg0, 2000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 316),
      (str_store_string, s0, "@Potter"),
      (str_store_string, s1, "@Produces tools, allows tier 4 production buildings, can pay taxes in goods or in gold."),
      (assign, reg0, 4500),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 317),
      (str_store_string, s0, "@Butcher"),
      (str_store_string, s1, "@Produces meat products, can pay taxes in goods or in gold."),
      (assign, reg0, 3000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 318),
      (str_store_string, s0, "@Oilmaker"),
      (str_store_string, s1, "@Produces oil, can pay taxes in goods or in gold."),
      (assign, reg0, 3000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 319),
      (str_store_string, s0, "@Linen workshop"),
      (str_store_string, s1, "@Produces linen cloth, can pay taxes in goods or in gold."),
      (assign, reg0, 3000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 320),
      (str_store_string, s0, "@Wool workshop"),
      (str_store_string, s1, "@Produces wool cloth, can pay taxes in goods or in gold."),
      (assign, reg0, 3000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 321),
      (str_store_string, s0, "@Tannery"),
      (str_store_string, s1, "@Produces leatherwork, can pay taxes in goods or in gold."),
      (assign, reg0, 3000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 322),
      (str_store_string, s0, "@Prison"),
      (str_store_string, s1, "@Grants ransom broker. Does not provide tax."),
      (assign, reg0, 6000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 323),
      (str_store_string, s0, "@Armorsmith"),
      (str_store_string, s1, "@Produces armor."),
      (assign, reg0, 10000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 324),
      (str_store_string, s0, "@Weaponsmith"),
      (str_store_string, s1, "@Produces weapons."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 325),
      (str_store_string, s0, "@Fletcher"),
      (str_store_string, s1, "@Produces range weapons."),
      (assign, reg0, 6000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 326),
      (str_store_string, s0, "@Stables"),
      (str_store_string, s1, "@Produces horses."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 327),
      (str_store_string, s0, "@Walls"),
      (str_store_string, s1, "@Manor no longer gets infested, has no effect if the bound village is looter - costs 500 gold to maintain."),
      (assign, reg0, 5000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 340),
      (str_store_string, s0, "@Monastery upgrade"),
      (str_store_string, s1, "@Ability to incorporate various crusader orders at this regional manor monastery."),
      (assign, reg0, 20000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 461),
      (str_store_string, s0, "@Minor Teutonic Chapter"),
      (str_store_string, s1, "@Builds a minor chapter from the Teutonic Order in this fief allowing their recruitment."),
      (assign, reg0, 20000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 462),
      (str_store_string, s0, "@Minor Templar Chapter"),
      (str_store_string, s1, "@Builds a minor chapter from the Templar Order in this fief allowing their recruitment."),
      (assign, reg0, 20000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 463),
      (str_store_string, s0, "@Minor Hospitaller Chapter"),
      (str_store_string, s1, "@Builds a minor chapter from the Hospitaller Order in this fief allowing their recruitment."),
      (assign, reg0, 20000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 464),
      (str_store_string, s0, "@Minor Saint Lazarus Chapter"),
      (str_store_string, s1, "@Builds a minor chapter from the Order of Saint Lazarus in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 465),
      (str_store_string, s0, "@Minor Santiago Chapter"),
      (str_store_string, s1, "@Builds a minor chapter from the Order of Santiago in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 466),
      (str_store_string, s0, "@Minor Calatrava Chapter"),
      (str_store_string, s1, "@Builds a minor chapter from the Order of Calatrava in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 467),
      (str_store_string, s0, "@Minor Saint Thomas Chapter"),
      (str_store_string, s1, "@Builds a minor chapter from the Order of Saint Thomas in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 461),
      (str_store_string, s0, "@Major Teutonic Chapter"),
      (str_store_string, s1, "@Builds a major chapter from the Teutonic Order in this fief."),
      (assign, reg0, 40000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 462),
      (str_store_string, s0, "@Major Templar Chapter"),
      (str_store_string, s1, "@Builds a major chapter from the Templar Order in this fief."),
      (assign, reg0, 40000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 463),
      (str_store_string, s0, "@Major Hospitaller Chapter"),
      (str_store_string, s1, "@Builds a major chapter from the Hospitaller Order in this fief."),
      (assign, reg0, 40000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 464),
      (str_store_string, s0, "@Major Saint Lazarus Chapter"),
      (str_store_string, s1, "@Builds a major chapter from the Order of Saint Lazarus in this fief."),
      (assign, reg0, 30000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 465),
      (str_store_string, s0, "@Major Santiago Chapter"),
      (str_store_string, s1, "@Builds a major chapter from the Order of Santiago in this fief."),
      (assign, reg0, 30000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 466),
      (str_store_string, s0, "@Major Calatrava Chapter"),
      (str_store_string, s1, "@Builds a major chapter from the Order of Calatrava in this fief."),
      (assign, reg0, 30000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 467),
      (str_store_string, s0, "@Major Saint Thomas Chapter"),
      (str_store_string, s1, "@Builds a major chapter from the Order of Saint Thomas in this fief."),
      (assign, reg0, 30000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 461),
      (str_store_string, s0, "@Teutonic Order HQ"),
      (str_store_string, s1, "@Builds a HQ from the Teutonic Order in this fief. Allows for the recruitment of their auxiliary troops."),
      (assign, reg0, 60000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 462),
      (str_store_string, s0, "@Templar Order HQ"),
      (str_store_string, s1, "@Builds a HQ from the Templar Order in this fief. Allows for the recruitment of their auxiliary troops."),
      (assign, reg0, 60000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 463),
      (str_store_string, s0, "@Hospitaller HQ"),
      (str_store_string, s1, "@Builds a HQ from the Hospitaller Order in this fief. Allows for the recruitment of their auxiliary troops."),
      (assign, reg0, 60000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 464),
      (str_store_string, s0, "@Order of Saint Lazarus HQ"),
      (str_store_string, s1, "@Builds a HQ from the Order of Saint Lazarus in this fief."),
      (assign, reg0, 50000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 465),
      (str_store_string, s0, "@Order of Santiago HQ"),
      (str_store_string, s1, "@Builds a HQ from the Order of Santiago in this fief."),
      (assign, reg0, 50000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 466),
      (str_store_string, s0, "@Order of Calatrava HQ"),
      (str_store_string, s1, "@Builds a HQ from the Order of Calatrava in this fief."),
      (assign, reg0, 50000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 467),
      (str_store_string, s0, "@Order of Saint Thomas HQ"),
      (str_store_string, s1, "@Builds a HQ from the Order of Saint Thomas in this fief."),
      (assign, reg0, 50000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 461),
      (str_store_string, s0, "@Teutonic Order major HQ"),
      (str_store_string, s1, "@Builds a major HQ from the Teutonic Order in this fief. Allows for the recruitment of a even greater number of their auxiliary troops."),
      (assign, reg0, 90000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 462),
      (str_store_string, s0, "@Templar Order major HQ"),
      (str_store_string, s1, "@Builds a major HQ from the Templar Order in this fief. Allows for the recruitment of a even greater number of their auxiliary troops."),
      (assign, reg0, 90000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 463),
      (str_store_string, s0, "@Hospitaller major HQ"),
      (str_store_string, s1, "@Builds a major HQ from the Hospitaller Order in this fief. Allows for the recruitment of a even greater number of their auxiliary troops."),
      (assign, reg0, 90000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 468),
      (str_store_string, s0, "@Minor Mamluk Quarters"),
      (str_store_string, s1, "@Builds a minor Mamluk Quarters in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 25),
    (else_try),
      (eq, ":var0", 468),
      (str_store_string, s0, "@Major Mamluk Quarters"),
      (str_store_string, s1, "@Builds a major Mamluk Quarters in this fief and increase their numbers."),
      (assign, reg0, 30000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 468),
      (str_store_string, s0, "@Mamluk HQ"),
      (str_store_string, s1, "@Builds a Mamluk HQ in this fief and further increase their numbers."),
      (assign, reg0, 50000),
      (assign, reg1, 75),
    (else_try),
      (eq, ":var0", 469),
      (str_store_string, s0, "@Major Varangian Quarters"),
      (str_store_string, s1, "@Builds a major Varangian Quarters in this fief allowing their recruitment."),
      (assign, reg0, 25000),
      (assign, reg1, 25),
    (else_try),
      (eq, ":var0", 469),
      (str_store_string, s0, "@Varangian HQ"),
      (str_store_string, s1, "@Builds a Varangian HQ in this fief, allowing you to recruit a greater number of them."),
      (assign, reg0, 40000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 470),
      (str_store_string, s0, "@Minor Cataphract Quarters"),
      (str_store_string, s1, "@Builds a minor Cataphract Quarters in this fief allowing their recruitment."),
      (assign, reg0, 20000),
      (assign, reg1, 25),
    (else_try),
      (eq, ":var0", 470),
      (str_store_string, s0, "@Major Cataphract Quarters"),
      (str_store_string, s1, "@Builds a major Cataphract Quarters in this fief, increasing their numbers."),
      (assign, reg0, 35000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 470),
      (str_store_string, s0, "@Cataphract HQ"),
      (str_store_string, s1, "@Builds a Cataphract HQ in this fief, further increasing their numbers."),
      (assign, reg0, 50000),
      (assign, reg1, 75),
    (else_try),
      (eq, ":var0", 471),
      (str_store_string, s0, "@Minor Cuman Camp"),
      (str_store_string, s1, "@Builds a minor Cuman Camp in this fief allowing their recruitment."),
      (assign, reg0, 18000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 471),
      (str_store_string, s0, "@Large Cuman Camp"),
      (str_store_string, s1, "@Builds a large Cuman Camp in this fief, increasing their numbers."),
      (assign, reg0, 32000),
      (assign, reg1, 28),
    (else_try),
      (eq, ":var0", 471),
      (str_store_string, s0, "@Major Cuman Camp"),
      (str_store_string, s1, "@Builds a major Cuman Camp in this fief, further increasing their numbers."),
      (assign, reg0, 50000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 472),
      (str_store_string, s0, "@Minor Kipchak Camp"),
      (str_store_string, s1, "@Builds a minor Kipchak Camp in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 472),
      (str_store_string, s0, "@Large Kipchak Camp"),
      (str_store_string, s1, "@Builds a large Kipchak Camp in this fief, increasing their numbers."),
      (assign, reg0, 30000),
      (assign, reg1, 28),
    (else_try),
      (eq, ":var0", 472),
      (str_store_string, s0, "@Major Kipchak Camp"),
      (str_store_string, s1, "@Builds a major Kipchak Camp in this fief, further increasing their numbers."),
      (assign, reg0, 45000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 473),
      (str_store_string, s0, "@Minor Mongol Camp"),
      (str_store_string, s1, "@Builds a minor Mongol Camp in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 473),
      (str_store_string, s0, "@Large Mongol Camp"),
      (str_store_string, s1, "@Builds a large Mongol Camp in this fief, increasing their numbers."),
      (assign, reg0, 30000),
      (assign, reg1, 28),
    (else_try),
      (eq, ":var0", 473),
      (str_store_string, s0, "@Major Mongol Camp"),
      (str_store_string, s1, "@Builds a major Mongol Camp in this fief, further increasing their numbers."),
      (assign, reg0, 45000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 474),
      (str_store_string, s0, "@Minor Georgian Camp"),
      (str_store_string, s1, "@Builds a minor Georgian Camp in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 474),
      (str_store_string, s0, "@Large Georgian Camp"),
      (str_store_string, s1, "@Builds a large Georgian Camp in this fief, increasing their numbers."),
      (assign, reg0, 30000),
      (assign, reg1, 28),
    (else_try),
      (eq, ":var0", 474),
      (str_store_string, s0, "@Major Georgian Camp"),
      (str_store_string, s1, "@Builds a major Georgian Camp in this fief, further increasing their numbers."),
      (assign, reg0, 45000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 475),
      (str_store_string, s0, "@Minor Kwarezmian Camp"),
      (str_store_string, s1, "@Builds a minor Kwarezmian Camp in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 475),
      (str_store_string, s0, "@Large Kwarezmian Camp"),
      (str_store_string, s1, "@Builds a large Kwarezmian Camp in this fief, increasing their numbers."),
      (assign, reg0, 30000),
      (assign, reg1, 28),
    (else_try),
      (eq, ":var0", 475),
      (str_store_string, s0, "@Major Kwarezmian Camp"),
      (str_store_string, s1, "@Builds a major Kwarezmian Camp in this fief, further increasing their numbers."),
      (assign, reg0, 45000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 476),
      (str_store_string, s0, "@Minor Turcopole Outpost"),
      (str_store_string, s1, "@Builds a minor Turcopole Outpost in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 10),
    (else_try),
      (eq, ":var0", 476),
      (str_store_string, s0, "@Large Turcopole Outpost"),
      (str_store_string, s1, "@Builds a large Turcopole Outpost in this fief, increasing their numbers."),
      (assign, reg0, 30000),
      (assign, reg1, 20),
    (else_try),
      (eq, ":var0", 476),
      (str_store_string, s0, "@Major Turcopole Outpost"),
      (str_store_string, s1, "@Builds a major Turcopole Outpost in this fief, further increasing their numbers."),
      (assign, reg0, 50000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 478),
      (str_store_string, s0, "@Minor Finnish Outpost"),
      (str_store_string, s1, "@Builds a minor Finnish Outpost in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 478),
      (str_store_string, s0, "@Large Finnish Outpost"),
      (str_store_string, s1, "@Builds a large Finnish Outpost in this fief, increasing their numbers."),
      (assign, reg0, 25000),
      (assign, reg1, 26),
    (else_try),
      (eq, ":var0", 478),
      (str_store_string, s0, "@Major Finnish Outpost"),
      (str_store_string, s1, "@Builds a major Finnish Outpost in this fief, further increasing their numbers."),
      (assign, reg0, 35000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 480),
      (str_store_string, s0, "@Minor Welsh Outpost"),
      (str_store_string, s1, "@Builds a minor Welsh Outpost in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 480),
      (str_store_string, s0, "@Large Welsh Outpost"),
      (str_store_string, s1, "@Builds a large Welsh Outpost in this fief, increasing their numbers."),
      (assign, reg0, 25000),
      (assign, reg1, 26),
    (else_try),
      (eq, ":var0", 480),
      (str_store_string, s0, "@Major Welsh Outpost"),
      (str_store_string, s1, "@Builds a major Welsh Outpost in this fief, further increasing their numbers."),
      (assign, reg0, 35000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 481),
      (str_store_string, s0, "@Minor Gaelic Outpost"),
      (str_store_string, s1, "@Builds a minor Gaelic Outpost in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 481),
      (str_store_string, s0, "@Large Gaelic Outpost"),
      (str_store_string, s1, "@Builds a large Gaelic Outpost in this fief, increasing their numbers."),
      (assign, reg0, 25000),
      (assign, reg1, 26),
    (else_try),
      (eq, ":var0", 481),
      (str_store_string, s0, "@Major Gaelic Outpost"),
      (str_store_string, s1, "@Builds a major Gaelic Outpost in this fief, further increasing their numbers."),
      (assign, reg0, 35000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 477),
      (str_store_string, s0, "@Minor Genoese Crossbowmen Quarters"),
      (str_store_string, s1, "@Builds a minor Genoese Crossbowmen Quarters in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 468),
      (str_store_string, s0, "@Major Genoese Crossbowmen Quarters"),
      (str_store_string, s1, "@Builds a major Genoese Crossbowmen Quarters in this fief, increasing their numbers."),
      (assign, reg0, 25000),
      (assign, reg1, 26),
    (else_try),
      (eq, ":var0", 477),
      (str_store_string, s0, "@Genoese Crossbowmen HQ"),
      (str_store_string, s1, "@Builds a Genoese Crossbowmen HQ in this fief, further increasing their numbers."),
      (assign, reg0, 35000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 479),
      (str_store_string, s0, "@Minor Brabantine mercenary Quarters"),
      (str_store_string, s1, "@Builds a minor Brabantine mercenary Quarters in this fief allowing their recruitment."),
      (assign, reg0, 15000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 468),
      (str_store_string, s0, "@Major Brabantine mercenary Quarters"),
      (str_store_string, s1, "@Builds a major Brabantine mercenary Quarters in this fief, increasing their numbers."),
      (assign, reg0, 25000),
      (assign, reg1, 26),
    (else_try),
      (eq, ":var0", 479),
      (str_store_string, s0, "@Brabantine mercenary HQ"),
      (str_store_string, s1, "@Builds a Brabantine mercenary HQ in this fief, further increasing their numbers."),
      (assign, reg0, 35000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 482),
      (str_store_string, s0, "@Improved School"),
      (str_store_string, s1, "@Improve School facilities in this fief. Provides a small random amount of renown and +1 relations with this town weekly."),
      (assign, reg0, 15000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 482),
      (str_store_string, s0, "@University"),
      (str_store_string, s1, "@Builds a University in this fief. Provides a random amount of renown and +2 relations with this town weekly."),
      (assign, reg0, 30000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 483),
      (str_store_string, s0, "@Training Grounds"),
      (str_store_string, s1, "@Builds a Training Ground. Provides 5 experience per troop daily and allows them to be upgraded up to level 12"),
      (assign, reg0, 8000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 483),
      (str_store_string, s0, "@Training Facilities"),
      (str_store_string, s1, "@Builds Training Facilities. Provides 10 experience per troop daily and allows them to be upgraded up to level 20"),
      (assign, reg0, 15000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 484),
      (str_store_string, s0, "@Town Hall"),
      (str_store_string, s1, "@Builds a Town Hall. Increases tax revenue by 15% while reducing improvement build time and costs by 5%. Decreases unrest."),
      (assign, reg0, 15000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 484),
      (str_store_string, s0, "@City Hall"),
      (str_store_string, s1, "@Builds a City Hall. Increases tax revenue by 25% while reducing improvement build time and costs by 8%. Decreases unrest."),
      (assign, reg0, 30000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 484),
      (str_store_string, s0, "@Governor's Palace"),
      (str_store_string, s1, "@Builds a Governor's Palace. Increase tax revenue by 35% while reducing improvement build time and costs by 12%. Decreases unrest."),
      (assign, reg0, 60000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 484),
      (str_store_string, s0, "@Royal Palace"),
      (str_store_string, s1, "@Builds a Royal Palace. Increase tax revenue by 45% while reducing improvement build time and costs by 15%. Decreases unrest."),
      (assign, reg0, 100000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 485),
      (str_store_string, s0, "@Brother"),
      (str_store_string, s1, "@Builds a Brothel. Provides a random small amount of renown, while generating 1 coin of revenue for every 50 inhabitants of this settlement every week."),
      (assign, reg0, 8000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 485),
      (str_store_string, s0, "@Coaching House"),
      (str_store_string, s1, "@Builds a Coaching House. Provides a random amount of renown, while generating 1 coin of revenue for every 25 inhabitants of this settlement every week."),
      (assign, reg0, 20000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 485),
      (str_store_string, s0, "@Wayfarer's Rest"),
      (str_store_string, s1, "@Builds a Wayfarer's Rest. Provides a random amount of renown, while generating 1 coin of revenue for every 25 inhabitants of this settlement every week."),
      (assign, reg0, 20000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 485),
      (str_store_string, s0, "@Pleasure Palace"),
      (str_store_string, s1, "@Builds a Pleasure Palace. Provides a random large amount of renown, while generating 1 coin of revenue for every 10 inhabitants of this settlement every week."),
      (assign, reg0, 50000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 486),
      (str_store_string, s0, "@Dirt Roads"),
      (str_store_string, s1, "@Build Dirt Roads. Increases income by 5%, while reducing the time it takes for looted bound villages to recover by 30%."),
      (assign, reg0, 10000),
      (assign, reg1, 24),
    (else_try),
      (eq, ":var0", 487),
      (str_store_string, s0, "@Paved Roads"),
      (str_store_string, s1, "@Build Paved Roads. Increases income by 10%, while reducing the time it takes for looted bound villages to recover by 50%."),
      (assign, reg0, 24000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 488),
      (str_store_string, s0, "@Land Clearance"),
      (str_store_string, s1, "@Implement Land Clearance. Increases income by 5% and prosperity by 4% a week. Increases food production by 20%."),
      (assign, reg0, 5000),
      (assign, reg1, 7),
    (else_try),
      (eq, ":var0", 488),
      (str_store_string, s0, "@Communal Farming"),
      (str_store_string, s1, "@Implement Communal Farming. Increases income by 10% and prosperity by 6% a week. Increases food production by 40%."),
      (assign, reg0, 9000),
      (assign, reg1, 18),
    (else_try),
      (eq, ":var0", 488),
      (str_store_string, s0, "@Crop Rotation"),
      (str_store_string, s1, "@Implement Crop Rotation. Increases income by 20% and prosperity by 8% a week. Increases food production by 60%."),
      (assign, reg0, 15000),
      (assign, reg1, 35),
    (else_try),
      (eq, ":var0", 488),
      (str_store_string, s0, "@Irrigation"),
      (str_store_string, s1, "@Implement Irrigation. Increases income by 30% and prosperity by 10 allow recruitment of squires and knights at the settlement% a week. Increases food production by 80%."),
      (assign, reg0, 24000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 489),
      (str_store_string, s0, "@Jousting Lists"),
      (str_store_string, s1, "@Build Jousting Lists. Allows recruitment of squires and knights at the settlement"),
      (assign, reg0, 15000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 490),
      (str_store_string, s0, "@Tournament Grounds"),
      (str_store_string, s1, "@Build Tournament Grounds. Allows recruitment of even more squires and knights at the settlement"),
      (assign, reg0, 25000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Small Church"),
      (str_store_string, s1, "@Builds a small Church. Increases relation with center by +1 weekly, while converting the population at a rate of 2% a week."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Small Masjid"),
      (str_store_string, s1, "@Builds a small Masjid. Increases relation with center by +1 weekly, while converting the population at a rate of 2% a week."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Small Baltic Temple"),
      (str_store_string, s1, "@Builds a small Baltic Pagan Temple. Increases relation with center by +1 weekly, while converting the population at a rate of 2% a week."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Small Mongol Temple"),
      (str_store_string, s1, "@Builds a small Mongol Pagan Temple. Increases relation with center by +1 weekly, while converting the population at a rate of 2% a week."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Small Heretic Temple"),
      (str_store_string, s1, "@Builds a small Heretic Temple. Increases relation with center by +1 weekly, while converting the population at a rate of 2% a week. Decreases relation with papal states by 5 upon completion. Neighbouring non heretic countries relation decreased by 5. Heretic countries relations increased by 5."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Small Nordic Temple"),
      (str_store_string, s1, "@Builds a small Nordic Pagan Temple. Increases relation with center by +1 weekly, while converting the population at a rate of 2% a week."),
      (assign, reg0, 8000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Church"),
      (str_store_string, s1, "@Builds a Church. Increases relation with center by +2 weekly, while converting the population at a rate of 4% a week."),
      (assign, reg0, 15000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Masjid"),
      (str_store_string, s1, "@Builds a Masjid. Increases relation with center by +2 weekly, while converting the population at a rate of 4% a week."),
      (assign, reg0, 15000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Baltic Temple"),
      (str_store_string, s1, "@Builds a Baltic Pagan Temple. Increases relation with center by +2 weekly, while converting the population at a rate of 4% a week."),
      (assign, reg0, 15000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Mongol Temple"),
      (str_store_string, s1, "@Builds a Mongol Pagan Temple. Increases relation with center by +2 weekly, while converting the population at a rate of 4% a week."),
      (assign, reg0, 15000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Heretic Temple"),
      (str_store_string, s1, "@Builds a Heretic Temple. Increases relation with center by +2 weekly, while converting the population at a rate of 4% a week.  Decreases relation with papal states by 10 upon completion. Neighbouring non heretic countries relation decreased by 10. Heretic countries relations increased by 10."),
      (assign, reg0, 15000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Nordic Temple"),
      (str_store_string, s1, "@Builds a Nordic Pagan Temple. Increases relation with center by +2 weekly, while converting the population at a rate of 4% a week."),
      (assign, reg0, 15000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Abbey"),
      (str_store_string, s1, "@Builds a Abbey. Increases relation with center by +3 weekly, while converting the population at a rate of 6% a week. Increases relation with papal states by 5 upon completion."),
      (assign, reg0, 24000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Minaret"),
      (str_store_string, s1, "@Builds a Minaret. Increases relation with center by +3 weekly, while converting the population at a rate of 6% a week."),
      (assign, reg0, 24000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Large Baltic Temple"),
      (str_store_string, s1, "@Builds a Large Baltic Pagan Temple. Increases relation with center by +3 weekly, while converting the population at a rate of 6% a week. Baltic Pagan countries relations increased by 5. Decreases relation with papal states by 10 upon completion. Neighbouring non baltic pagan countries relation decreased by 5."),
      (assign, reg0, 24000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Large Mongol Temple"),
      (str_store_string, s1, "@Builds a Large Mongol Pagan Temple. Increases relation with center by +3 weekly, while converting the population at a rate of 6% a week. Increases relation other Mongol Pagan states by 5 upon completion."),
      (assign, reg0, 24000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Large Heretic Temple"),
      (str_store_string, s1, "@Builds a Large Heretic Temple. Increases relation with center by +3 weekly, while converting the population at a rate of 6% a week. Decreases relation with papal states and pope by 20 and 10 respectively upon completion. Neighbouring non heretic countries relation decreased by 15. Heretic countries relations increased by 15."),
      (assign, reg0, 24000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Large Nordic Temple"),
      (str_store_string, s1, "@Builds a Large Nordic Pagan Temple. Increases relation with center by +3 weekly, while converting the population at a rate of 6% a week. Nordic Pagan countries relations increased by 5. Decreases relation with papal states by 10 upon completion. Neighbouring non nordic pagan countries relation decreased by 5."),
      (assign, reg0, 24000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Cathedral"),
      (str_store_string, s1, "@Builds a Cathedral. Increases relation with center by +4 weekly, while converting the population at a rate of 8% a week. Increases relation with papal states and pope by 10 and 5 respectively upon completion. Catholic countries relations increased by 5."),
      (assign, reg0, 38000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Jama"),
      (str_store_string, s1, "@Builds a Jama. Increases relation with center by +4 weekly, while converting the population at a rate of 8% a week. Muslim countries relations increased by 5 upon completion."),
      (assign, reg0, 38000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Huge Baltic Temple"),
      (str_store_string, s1, "@Builds a Huge Baltic Pagan Temple. Increases relation with center by +4 weekly, while converting the population at a rate of 8% a week. Baltic Pagan countries relations increased by 10. Decreases relation with papal states and pope by 15 and 5 respectively upon completion. Neighbouring non baltic pagan countries relation decreased by 10."),
      (assign, reg0, 38000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Huge Mongol Temple"),
      (str_store_string, s1, "@Builds a Huge Mongol Pagan Temple. Increases relation with center by +4 weekly, while converting the population at a rate of 8% a week."),
      (assign, reg0, 38000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Huge Heretic Temple"),
      (str_store_string, s1, "@Builds a Huge Heretic Temple. Increases relation with center by +4 weekly, while converting the population at a rate of 8% a week. Decreases relation with papal states and pope by 30 and 20 respectively upon completion. Neighbouring non heretic countries relation decreased by 20. Heretic countries relations increased by 20."),
      (assign, reg0, 38000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Huge Nordic Temple"),
      (str_store_string, s1, "@Builds a Huge Nordic Pagan Temple. Increases relation with center by +4 weekly, while converting the population at a rate of 8% a week. Nordic Pagan countries relations increased by 10. Decreases relation with papal states and pope by 15 and 5 respectively upon completion. Neighbouring non nordic pagan countries relation decreased by 10."),
      (assign, reg0, 38000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Huge Cathedral"),
      (str_store_string, s1, "@Builds a Huge Cathedral. Increases relation with center by +5 weekly, while converting the population at a rate of 10% a week. Increase relation with papal states and pope by 20 and 10 respectively upon completion. Catholic countries relations increased by 10."),
      (assign, reg0, 60000),
      (assign, reg1, 120),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Great Jama"),
      (str_store_string, s1, "@Builds a Great Jama. Increases relation with center by +5 weekly, while converting the population at a rate of 10% a week. Muslim countries relations increased by 10 upon completion."),
      (assign, reg0, 60000),
      (assign, reg1, 120),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Great Temple of Dievas"),
      (str_store_string, s1, "@Builds a Great Temple of Dievas. Increases relation with center by +5 weekly, while converting the population at a rate of 10% a week. Baltic Pagan countries relations increased by 15. Decreases relation with papal states and pope by 25 and 10 respectively upon completion. Neighbouring non baltic pagan countries relation decreased by 15."),
      (assign, reg0, 60000),
      (assign, reg1, 120),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Great Temple of Tengri"),
      (str_store_string, s1, "@Builds a Great Temple of Tengri. Increases relation with center by +5 weekly, while converting the population at a rate of 10% a week."),
      (assign, reg0, 60000),
      (assign, reg1, 120),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Great Synagogue of Satan"),
      (str_store_string, s1, "@Builds a Great Synagogue of Satan. Increases relation with center by +5 weekly, while converting the population at a rate of 10% a week."),
      (assign, reg0, 60000),
      (assign, reg1, 120),
    (else_try),
      (eq, ":var0", 492),
      (str_store_string, s0, "@Great Temple of Odin"),
      (str_store_string, s1, "@Builds a Great Temple of Odin. Increases relation with center by +5 weekly, while converting the population at a rate of 10% a week. Nordic Pagan countries relations increased by 15. Decreases relation with papal states and pope by 25 and 10 respectively upon completion. Neighbouring non nordic pagan countries relation decreased by 15."),
      (assign, reg0, 60000),
      (assign, reg1, 120),
    (else_try),
      (eq, ":var0", 493),
      (str_store_string, s0, "@Mason's Guild"),
      (str_store_string, s1, "@Builds a Mason's Guild. Decreases improvement build time and cost by 10%."),
      (assign, reg0, 8000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 493),
      (str_store_string, s0, "@Master's Masons Guild"),
      (str_store_string, s1, "@Builds a Master's Masons Guild. Decreases improvement build time and cost by 15%."),
      (assign, reg0, 16000),
      (assign, reg1, 25),
    (else_try),
      (eq, ":var0", 493),
      (str_store_string, s0, "@Masons Guild HQ"),
      (str_store_string, s1, "@Builds a Masons Guild HQ. Decreases improvement build time and cost by 20%."),
      (assign, reg0, 25000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 494),
      (str_store_string, s0, "@Fairground"),
      (str_store_string, s1, "@Builds a Fairground. Increases income by 10% and merchant's gold by 1000."),
      (assign, reg0, 10000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 494),
      (str_store_string, s0, "@Great Market"),
      (str_store_string, s1, "@Builds a Great Market. Increases income by 20% and merchant's gold by 2500."),
      (assign, reg0, 20000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 494),
      (str_store_string, s0, "@Merchant's Quarter"),
      (str_store_string, s1, "@Builds a Merchant's Quarter. Increases income by 30% and merchant's gold by 5000."),
      (assign, reg0, 35000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 495),
      (str_store_string, s0, "@Mines"),
      (str_store_string, s1, "@Builds a Mine. Grants a weekly random income dependant on the fief's population and prosperity."),
      (assign, reg0, 8000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 496),
      (str_store_string, s0, "@Mining Network"),
      (str_store_string, s1, "@Builds a Mining Network. Grants twice as much money. Prisoners can be put to work to generate 5 gold each weekly."),
      (assign, reg0, 20000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 497),
      (str_store_string, s0, "@Mercenary Quarters"),
      (str_store_string, s1, "@Builds a Mercenary Quarters. Decreases mercenary hiring cost by 15% while reducing the time it takes for them to replenish by 25%."),
      (assign, reg0, 12000),
      (assign, reg1, 15),
    (else_try),
      (eq, ":var0", 498),
      (str_store_string, s0, "@Mercenary HQ"),
      (str_store_string, s1, "@Builds a Mercenary HQ. Decreases mercenary hiring cost by 30% while reducing the time it takes for them to replenish by 50%."),
      (assign, reg0, 25000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 500),
      (str_store_string, s0, "@Garrison Quarters"),
      (str_store_string, s1, "@Builds a Garrison Quarters. Decreases fief reinforcement time by 15% and the garrison weekly cost by 10%. Decreases unrest by 10%. Increases law by 30%"),
      (assign, reg0, 10000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 500),
      (str_store_string, s0, "@Drill Square"),
      (str_store_string, s1, "@Builds a Drill Square. Decreases fief reinforcement time by 25% and the garrison weekly cost by 15%. Decreases unrest by 15%. Increases law by 40%"),
      (assign, reg0, 18000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 500),
      (str_store_string, s0, "@Barracks"),
      (str_store_string, s1, "@Builds a Barracks. Decreases fief reinforcement time by 35% and the garrison weekly cost by 22%. Decreases unrest by 22%. Increases law by 50%"),
      (assign, reg0, 32000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 500),
      (str_store_string, s0, "@Armoury"),
      (str_store_string, s1, "@Builds a Armoury Decreases fief reinforcement time by 50% and the garrison weekly cost by 30%. Decreases unrest by 30%. Increases law by 60%"),
      (assign, reg0, 50000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 501),
      (str_store_string, s0, "@Merchant's Guild"),
      (str_store_string, s1, "@Builds a Merchant's Guild. Increases income by 5%. Decreases prices by 6% per trade skill level instead of 5%. Increases town enterprise income by 20%."),
      (assign, reg0, 12000),
      (assign, reg1, 21),
    (else_try),
      (eq, ":var0", 501),
      (str_store_string, s0, "@Master's Merchants Guild"),
      (str_store_string, s1, "@Builds a Master's Merchants Guild. Increases income by 10%. Decreases prices by 7% per trade skill level instead of 5%. Increases town enterprise income by 35%."),
      (assign, reg0, 20000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 501),
      (str_store_string, s0, "@Merchant's Guild HQ"),
      (str_store_string, s1, "@Builds a Merchant's Guild HQ. Increases income by 15%. Decreases prices by 8% per trade skill level instead of 5%. Increases town enterprise income by 50%."),
      (assign, reg0, 32000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 502),
      (str_store_string, s0, "@Small Hospital"),
      (str_store_string, s1, "@Builds a Small Hospital. Increases fief health by 3% a day."),
      (assign, reg0, 8000),
      (assign, reg1, 18),
    (else_try),
      (eq, ":var0", 502),
      (str_store_string, s0, "@Hospital"),
      (str_store_string, s1, "@Builds a Hospital. Increases fief health by 5% a day."),
      (assign, reg0, 14000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 502),
      (str_store_string, s0, "@College of Surgeons"),
      (str_store_string, s1, "@Builds a College of Surgeons. Increases fief health by 7% a day."),
      (assign, reg0, 30000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 502),
      (str_store_string, s0, "@Small Bimaristan"),
      (str_store_string, s1, "@Builds a Small Bimaristan. Increases fief health by 4% a day."),
      (assign, reg0, 6000),
      (assign, reg1, 15),
    (else_try),
      (eq, ":var0", 502),
      (str_store_string, s0, "@Bimaristan"),
      (str_store_string, s1, "@Builds a Bimaristan. Increases fief health by 7% a day."),
      (assign, reg0, 10000),
      (assign, reg1, 25),
    (else_try),
      (eq, ":var0", 502),
      (str_store_string, s0, "@Great Bimaristan"),
      (str_store_string, s1, "@Builds a Great Bimaristan. Increases fief health by 10% a day."),
      (assign, reg0, 20000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 503),
      (str_store_string, s0, "@Siege Works"),
      (str_store_string, s1, "@Builds a Siege Works. Add options in marketplace to buy prebuilt siege ladders and belfry parts, as well as arrows to resupply your troops during battle."),
      (assign, reg0, 12000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 504),
      (str_store_string, s0, "@Great Siege Works"),
      (str_store_string, s1, "@Builds a Great Siege Works. Decreases the costs of the items created a the siege works."),
      (assign, reg0, 20000),
      (assign, reg1, 45),
    (else_try),
      (eq, ":var0", 505),
      (str_store_string, s0, "@Merchant's Wharf"),
      (str_store_string, s1, "@Builds a Merchant's Wharf. Can only be built in coastal towns. Increases income by 15%. Increases food production by 30%"),
      (assign, reg0, 20000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 505),
      (str_store_string, s0, "@Warehouse"),
      (str_store_string, s1, "@Builds a Warehouse. Can only be built in coastal towns. Increases income by 25%. Increases food production by 40%"),
      (assign, reg0, 35000),
      (assign, reg1, 70),
    (else_try),
      (eq, ":var0", 505),
      (str_store_string, s0, "@Docklands"),
      (str_store_string, s1, "@Build Docklands. Can only be built in coastal towns. Increases income by 40%. Increases food production by 50%"),
      (assign, reg0, 60000),
      (assign, reg1, 120),
    (else_try),
      (eq, ":var0", 508),
      (str_store_string, s0, "@Sewers"),
      (str_store_string, s1, "@Build Sewers. Reduces max town squalor by 20%."),
      (assign, reg0, 20000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 509),
      (str_store_string, s0, "@Improved Sewers"),
      (str_store_string, s1, "@Build Improved Sewers. Reduces max town squalor by 35%."),
      (assign, reg0, 40000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 511),
      (str_store_string, s0, "@Plumbing Quarters"),
      (str_store_string, s1, "@Build Plumbing Quarters. Must have the plumbing service to build. Increases town squalor reduction to 20% a week"),
      (assign, reg0, 8000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 512),
      (str_store_string, s0, "@Village Council Quarters"),
      (str_store_string, s1, "@Build Village Council Quarters. Increases income by 20% and reduces improvement build time and costs by 20%. Reduces unrest by 30%."),
      (assign, reg0, 8000),
      (assign, reg1, 14),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Town Housing I"),
      (str_store_string, s1, "@Improve Town Housing. Increases maximum town population to 50,000 from 30,000."),
      (assign, reg0, 50000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Town Housing II"),
      (str_store_string, s1, "@Improve Town Housing. Increases maximum town population to 70,000 from 50,000."),
      (assign, reg0, 80000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Town Housing III"),
      (str_store_string, s1, "@Improve Town Housing. Increases maximum town population to 100,000 from 70,000."),
      (assign, reg0, 120000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Town Housing IV"),
      (str_store_string, s1, "@Improve Town Housing. Increases maximum town population to 150,000 from 100,000."),
      (assign, reg0, 150000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Town Housing V"),
      (str_store_string, s1, "@Improve Town Housing. Increases maximum town population to 200,000 from 150,000."),
      (assign, reg0, 180000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Town Housing VI"),
      (str_store_string, s1, "@Improve Town Housing. Increases maximum town population to 250,000 from 200,000."),
      (assign, reg0, 210000),
      (assign, reg1, 90),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Town Housing VII"),
      (str_store_string, s1, "@Improve Town Housing. Increases maximum town population to 350,000 from 250,000."),
      (assign, reg0, 270000),
      (assign, reg1, 120),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Town Housing VIII"),
      (str_store_string, s1, "@Improve Town Housing. Increases maximum town population to 500,000 from 350,000."),
      (assign, reg0, 360000),
      (assign, reg1, 150),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Castle Housing I"),
      (str_store_string, s1, "@Improve Castle Housing. Increases maximum castle population to 50,000 from 30,000."),
      (assign, reg0, 20000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Castle Housing II"),
      (str_store_string, s1, "@Improve Castle Housing. Increases maximum castle population to 70,000 from 50,000."),
      (assign, reg0, 30000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Castle Housing III"),
      (str_store_string, s1, "@Improve Castle Housing. Increases maximum castle population to 100,000 from 70,000."),
      (assign, reg0, 50000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Castle Housing IV"),
      (str_store_string, s1, "@Improve Castle Housing. Increases maximum castle population to 150,000 from 100,000."),
      (assign, reg0, 60000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Castle Housing V"),
      (str_store_string, s1, "@Improve Castle Housing. Increases maximum castle population to 200,000 from 150,000."),
      (assign, reg0, 80000),
      (assign, reg1, 60),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Village Housing I"),
      (str_store_string, s1, "@Improve Village Housing. Increases maximum village population to 50,000 from 30,000."),
      (assign, reg0, 5000),
      (assign, reg1, 20),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Village Housing II"),
      (str_store_string, s1, "@Improve Village Housing. Increases maximum village population to 70,000 from 50,000."),
      (assign, reg0, 10000),
      (assign, reg1, 30),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Village Housing III"),
      (str_store_string, s1, "@Improve Village Housing. Increases maximum village population to 100,000 from 70,000."),
      (assign, reg0, 15000),
      (assign, reg1, 40),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Village Housing IV"),
      (str_store_string, s1, "@Improve Village Housing. Increases maximum village population to 150,000 from 100,000."),
      (assign, reg0, 20000),
      (assign, reg1, 50),
    (else_try),
      (eq, ":var0", 513),
      (str_store_string, s0, "@Village Housing V"),
      (str_store_string, s1, "@Improve Village Housing. Increases maximum village population to 200,000 from 150,000."),
      (assign, reg0, 30000),
      (assign, reg1, 60),
    (try_end),
  ]),

  ("cf_troop_agent_is_alive",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_for_agents, ":var2"),
      (agent_get_troop_id, ":var3", ":var2"),
      (eq, ":var0", ":var3"),
      (agent_is_alive, ":var2"),
      (val_add, ":var1", 1),
    (try_end),
    (gt, ":var1", 0),
  ]),

  ("cf_village_recruit_volunteers_cond",
  [
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_checking_volunteer_availability_script"),
    (try_end),
    (neg|party_slot_eq, "$current_town", 35, 2),
    (neg|party_slot_eq, "$current_town", 35, 1),
    (neg|party_slot_ge, "$current_town", 39, 1),
    (store_faction_of_party, ":var0", "$current_town"),
    (party_get_slot, ":var1", "$current_town", 26),
    (store_relation, ":var2", ":var0", "fac_player_faction"),
    (ge, ":var1", -5),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_center_relation_at_least_zero"),
    (try_end),
    (this_or_next|ge, ":var1", 5),
    (this_or_next|eq, ":var0", "$players_kingdom"),
    (this_or_next|ge, ":var2", 0),
    (this_or_next|eq, ":var0", "$supported_pretender_old_faction"),
    (eq, "$players_kingdom", 0),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_relationfaction_conditions_met"),
    (try_end),
    (party_slot_ge, "$current_town", 93, 0),
    (party_slot_ge, "$current_town", 92, 1),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_troops_available"),
    (try_end),
    (party_get_free_companions_capacity, ":var3", "p_main_party"),
    (ge, ":var3", 1),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_party_has_capacity"),
    (try_end),
  ]),

  ("village_recruit_volunteers_recruit",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", "$current_town", 92),
    (party_get_slot, ":var2", "$current_town", 93),
    (try_begin),
      (gt, ":var0", 0),
      (lt, ":var0", ":var2"),
      (assign, ":var2", ":var0"),
    (try_end),
    (party_get_free_companions_capacity, ":var3", "p_main_party"),
    (val_min, ":var2", ":var3"),
    (store_troop_gold, ":var4", "trp_player"),
    (assign, ":var5", 10),
    (try_begin),
      (party_slot_eq, "$current_town", 0, 2),
      (assign, ":var5", 75),
    (else_try),
      (party_slot_eq, "$current_town", 0, 3),
      (assign, ":var5", 12),
    (try_end),
    (store_div, ":var6", ":var4", ":var5"),
    (val_min, ":var2", ":var6"),
    (party_add_members, "p_main_party", ":var1", ":var2"),
    (try_begin),
      (gt, ":var0", 0),
      (party_get_slot, ":var7", "$current_town", 93),
      (val_sub, ":var7", ":var0"),
      (try_begin),
        (le, ":var7", 0),
        (party_set_slot, "$current_town", 93, -1),
      (else_try),
        (party_set_slot, "$current_town", 93, ":var7"),
      (try_end),
    (else_try),
      (party_set_slot, "$current_town", 93, -1),
    (try_end),
    (store_mul, ":var8", ":var2", ":var5"),
    (troop_remove_gold, "trp_player", ":var8"),
  ]),

  ("get_troop_item_amount",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 0, ":var2"),
      (troop_get_inventory_slot, ":var5", ":var0", ":var4"),
      (eq, ":var5", ":var1"),
      (val_add, ":var3", 1),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("get_name_from_dna_to_s50",
  [
    (store_script_param, ":var0", 1),
    (store_sub, ":var1", "str_surname_1", "str_name_1"),
    (store_sub, ":var2", "str_surnames_end", "str_surname_1"),
    (assign, ":var3", ":var0"),
    (val_mod, ":var3", ":var1"),
    (assign, ":var4", ":var0"),
    (val_div, ":var4", ":var1"),
    (val_mod, ":var4", ":var2"),
    (val_add, ":var3", "str_name_1"),
    (val_add, ":var4", "str_surname_1"),
    (str_store_string, s50, ":var3"),
    (str_store_string, s50, ":var4"),
  ]),

  ("change_center_prosperity",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_get_slot, ":var2", ":var0", 50),
    (store_add, ":var3", ":var2", ":var1"),
    (val_clamp, ":var3", 0, 100),
    (store_div, ":var4", ":var2", 20),
    (store_div, ":var5", ":var3", 20),
    (try_begin),
      (neq, ":var4", ":var5"),
      (neg|is_between, ":var0", "p_castle_1_1", "p_village_1_1"),
      (str_store_party_name_link, s2, ":var0"),
      (call_script, "script_get_prosperity_text_to_s50", ":var0"),
      (str_store_string, s3, s50),
      (party_set_slot, ":var0", 50, ":var3"),
      (call_script, "script_get_prosperity_text_to_s50", ":var0"),
      (str_store_string, s4, s50),
      (try_begin),
        (party_slot_eq, ":var0", 7, "trp_player"),
        (assign, reg0, 1),
        (try_begin),
          (lt, ":var1", 0),
          (assign, reg0, 0),
        (try_end),
        (call_script, "script_get_message_color", 9, ":var0"),
        (display_message, "@Prosperity of {s2} has {reg0?increased:decreased} from {s3} to {s4}.", reg20),
      (try_end),
      (call_script, "script_update_center_notes", ":var0"),
    (else_try),
      (party_set_slot, ":var0", 50, ":var3"),
    (try_end),
    (try_begin),
      (store_current_hours, ":var6"),
      (gt, ":var6", 1),
      (store_sub, ":var7", ":var3", ":var2"),
      (try_begin),
        (lt, ":var7", 0),
        (val_add, "$newglob_total_prosperity_losses", ":var7"),
      (else_try),
        (gt, ":var7", 0),
        (val_add, "$newglob_total_prosperity_gains", ":var7"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 3),
      (assign, reg4, "$newglob_total_prosperity_from_bandits"),
      (assign, reg5, "$newglob_total_prosperity_from_caravan_trade"),
      (assign, reg7, "$newglob_total_prosperity_from_villageloot"),
      (assign, reg8, "$newglob_total_prosperity_from_townloot"),
      (assign, reg9, "$newglob_total_prosperity_from_village_trade"),
      (assign, reg10, "$newglob_total_prosperity_from_convergence"),
      (assign, reg11, "$newglob_total_prosperity_losses"),
      (assign, reg12, "$newglob_total_prosperity_gains"),
      (display_message, "@{!}DEBUG: Total prosperity actual losses: {reg11}"),
      (display_message, "@{!}DEBUG: Total prosperity actual gains: {reg12}"),
      (display_message, "@{!}DEBUG: Prosperity changes from random bandits: {reg4}"),
      (display_message, "@{!}DEBUG: Prosperity changes from caravan trades: {reg5}"),
      (display_message, "@{!}DEBUG: Prosperity changes from farmer trades: {reg9}"),
      (display_message, "@{!}DEBUG: Prosperity changes from looted villages: {reg7}"),
      (display_message, "@{!}DEBUG: Prosperity changes from sieges: {reg8}"),
      (display_message, "@{!}DEBUG: Theoretical prosperity changes from convergence: {reg10}"),
    (try_end),
  ]),

  ("get_center_ideal_prosperity",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 100),
    (call_script, "script_center_get_goods_availability", ":var0"),
    (store_mul, ":var2", reg0, 2),
    (val_sub, ":var1", ":var2"),
    (val_max, ":var1", 0),
    (try_begin),
      (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
      (party_slot_eq, ":var0", 131, 1),
      (val_add, ":var1", 5),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("good_price_affects_good_production",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (assign, reg4, ":var2"),
    (try_begin),
      (gt, ":var2", 0),
      (store_sub, ":var4", ":var1", "itm_spice"),
      (val_add, ":var4", 310),
      (party_get_slot, ":var5", ":var0", ":var4"),
      (try_begin),
        (lt, ":var5", 1000),
        (val_mul, ":var3", 2),
      (try_end),
      (try_begin),
        (gt, ":var3", 1),
        (val_sub, ":var5", 1000),
        (val_div, ":var5", ":var3"),
        (val_add, ":var5", 1000),
      (try_end),
      (val_mul, ":var2", 1000),
      (val_div, ":var2", ":var5"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("get_poorest_village_of_faction",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (assign, ":var2", 101),
    (try_for_range, ":var3", "p_village_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (party_get_slot, ":var5", ":var3", 50),
      (lt, ":var5", ":var2"),
      (assign, ":var2", ":var5"),
      (assign, ":var1", ":var3"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("troop_add_gold",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_add_gold, ":var0", ":var1"),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (play_sound, "snd_money_received"),
    (try_end),
  ]),

  ("initialize_npcs",
  [
    (troop_set_slot, "trp_npc1", 60, "p_town_1_1"),
    (troop_set_slot, "trp_npc1", 67, "p_town_1_2"),
    (troop_set_slot, "trp_npc1", 14, "fac_kingdom_1"),
    (troop_set_slot, "trp_npc2", 60, "p_town_2_2"),
    (troop_set_slot, "trp_npc2", 67, "p_town_2_1"),
    (troop_set_slot, "trp_npc2", 14, "fac_kingdom_2"),
    (troop_set_slot, "trp_npc3", 60, "p_town_3_2"),
    (troop_set_slot, "trp_npc3", 67, "p_town_3_1"),
    (troop_set_slot, "trp_npc3", 14, "fac_kingdom_3"),
    (troop_set_slot, "trp_npc4", 60, "p_town_4_2"),
    (troop_set_slot, "trp_npc4", 67, "p_town_4_1"),
    (troop_set_slot, "trp_npc4", 14, "fac_kingdom_4"),
    (troop_set_slot, "trp_npc5", 60, "p_town_5_2"),
    (troop_set_slot, "trp_npc5", 67, "p_town_5_1"),
    (troop_set_slot, "trp_npc5", 14, "fac_kingdom_5"),
    (troop_set_slot, "trp_npc6", 60, "p_town_6_2"),
    (troop_set_slot, "trp_npc6", 67, "p_town_6_1"),
    (troop_set_slot, "trp_npc6", 14, "fac_kingdom_6"),
    (troop_set_slot, "trp_npc7", 60, "p_town_7_2"),
    (troop_set_slot, "trp_npc7", 67, "p_town_7_1"),
    (troop_set_slot, "trp_npc7", 14, "fac_kingdom_7"),
    (troop_set_slot, "trp_npc8", 60, "p_town_8_2"),
    (troop_set_slot, "trp_npc8", 67, "p_town_8_1"),
    (troop_set_slot, "trp_npc8", 14, "fac_kingdom_8"),
    (troop_set_slot, "trp_npc9", 60, "p_town_9_2"),
    (troop_set_slot, "trp_npc9", 67, "p_town_9_1"),
    (troop_set_slot, "trp_npc9", 14, "fac_kingdom_9"),
    (troop_set_slot, "trp_npc10", 60, "p_town_10_2"),
    (troop_set_slot, "trp_npc10", 67, "p_town_10_1"),
    (troop_set_slot, "trp_npc10", 14, "fac_kingdom_10"),
    (troop_set_slot, "trp_npc11", 60, "p_town_11_2"),
    (troop_set_slot, "trp_npc11", 67, "p_town_11_1"),
    (troop_set_slot, "trp_npc11", 14, "fac_kingdom_11"),
    (troop_set_slot, "trp_npc12", 60, "p_town_12_2"),
    (troop_set_slot, "trp_npc12", 67, "p_town_12_1"),
    (troop_set_slot, "trp_npc12", 14, "fac_kingdom_12"),
    (troop_set_slot, "trp_npc13", 60, "p_town_13_2"),
    (troop_set_slot, "trp_npc13", 67, "p_town_13_1"),
    (troop_set_slot, "trp_npc13", 14, "fac_kingdom_13"),
    (troop_set_slot, "trp_npc14", 60, "p_town_14_2"),
    (troop_set_slot, "trp_npc14", 67, "p_town_14_1"),
    (troop_set_slot, "trp_npc14", 14, "fac_kingdom_14"),
    (troop_set_slot, "trp_npc15", 60, "p_town_15_2"),
    (troop_set_slot, "trp_npc15", 67, "p_town_15_1"),
    (troop_set_slot, "trp_npc15", 14, "fac_kingdom_15"),
    (troop_set_slot, "trp_npc16", 60, "p_town_16_2"),
    (troop_set_slot, "trp_npc16", 67, "p_town_16_1"),
    (troop_set_slot, "trp_npc16", 14, "fac_kingdom_16"),
    (troop_set_slot, "trp_npc17", 60, "p_town_17_2"),
    (troop_set_slot, "trp_npc17", 67, "p_town_17_1"),
    (troop_set_slot, "trp_npc17", 14, "fac_kingdom_17"),
    (troop_set_slot, "trp_npc18", 60, "p_town_18_2"),
    (troop_set_slot, "trp_npc18", 67, "p_town_18_1"),
    (troop_set_slot, "trp_npc18", 14, "fac_kingdom_18"),
    (troop_set_slot, "trp_npc20", 60, "p_town_20_2"),
    (troop_set_slot, "trp_npc20", 67, "p_town_20_1"),
    (troop_set_slot, "trp_npc20", 14, "fac_kingdom_20"),
    (troop_set_slot, "trp_npc22", 60, "p_town_22_2"),
    (troop_set_slot, "trp_npc22", 67, "p_town_22_1"),
    (troop_set_slot, "trp_npc22", 14, "fac_kingdom_22"),
    (troop_set_slot, "trp_npc23", 60, "p_town_23_2"),
    (troop_set_slot, "trp_npc23", 67, "p_town_23_1"),
    (troop_set_slot, "trp_npc23", 14, "fac_kingdom_23"),
    (troop_set_slot, "trp_npc24", 60, "p_town_24_2"),
    (troop_set_slot, "trp_npc24", 67, "p_town_24_1"),
    (troop_set_slot, "trp_npc24", 14, "fac_kingdom_24"),
    (troop_set_slot, "trp_npc25", 60, "p_town_25_2"),
    (troop_set_slot, "trp_npc25", 67, "p_town_25_1"),
    (troop_set_slot, "trp_npc25", 14, "fac_kingdom_25"),
    (troop_set_slot, "trp_npc26", 60, "p_town_26_2"),
    (troop_set_slot, "trp_npc26", 67, "p_town_26_1"),
    (troop_set_slot, "trp_npc26", 14, "fac_kingdom_26"),
    (try_for_range, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (store_random_in_range, ":var1", 1, 8),
      (troop_set_slot, ":var0", 52, ":var1"),
      (troop_set_slot, ":var0", 141, 300),
      (try_begin),
        (is_between, ":var0", "trp_npc1", "trp_npc16"),
        (assign, ":var2", 1),
      (else_try),
        (store_random_in_range, ":var2", 1, 4),
      (try_end),
      (troop_set_slot, ":var0", 62, ":var2"),
      (store_random_in_range, ":var2", 2, 5),
      (troop_set_slot, ":var0", 63, ":var2"),
      (store_random_in_range, ":var2", 1, 4),
      (troop_set_slot, ":var0", 64, ":var2"),
      (troop_set_slot, ":var0", 66, -1),
      (store_random_in_range, ":var2", 1, 6),
      (troop_set_slot, ":var0", 143, ":var2"),
      (assign, ":var3", 99999),
      (try_for_range, ":var4", 0, ":var3"),
        (store_random_in_range, ":var5", "trp_npc1", "trp_kingdom_1_lord"),
        (neq, ":var5", ":var0"),
        (neg|troop_slot_eq, ":var5", 75, ":var0"),
        (neg|troop_slot_eq, ":var0", 75, ":var5"),
        (neg|troop_slot_eq, ":var5", 73, ":var0"),
        (neg|troop_slot_eq, ":var0", 73, ":var5"),
        (troop_set_slot, ":var0", 71, ":var5"),
        (assign, ":var3", 0),
      (try_end),
      (assign, ":var3", 99999),
      (try_for_range, ":var4", 0, ":var3"),
        (store_random_in_range, ":var5", "trp_npc1", "trp_kingdom_1_lord"),
        (neq, ":var5", ":var0"),
        (neg|troop_slot_eq, ":var5", 75, ":var0"),
        (neg|troop_slot_eq, ":var0", 75, ":var5"),
        (neg|troop_slot_eq, ":var5", 71, ":var0"),
        (neg|troop_slot_eq, ":var0", 71, ":var5"),
        (troop_set_slot, ":var0", 73, ":var5"),
        (assign, ":var3", 0),
      (try_end),
      (assign, ":var3", 99999),
      (try_for_range, ":var4", 0, ":var3"),
        (store_random_in_range, ":var5", "trp_npc1", "trp_kingdom_1_lord"),
        (neq, ":var5", ":var0"),
        (neg|troop_slot_eq, ":var5", 71, ":var0"),
        (neg|troop_slot_eq, ":var0", 71, ":var5"),
        (neg|troop_slot_eq, ":var5", 73, ":var0"),
        (neg|troop_slot_eq, ":var0", 73, ":var5"),
        (troop_set_slot, ":var0", 75, ":var5"),
        (assign, ":var3", 0),
      (try_end),
      (assign, ":var3", 99999),
      (try_for_range, ":var4", 0, ":var3"),
        (store_random_in_range, ":var5", "trp_npc1", "trp_kingdom_1_lord"),
        (neq, ":var5", ":var0"),
        (neg|troop_slot_eq, ":var5", 75, ":var0"),
        (neg|troop_slot_eq, ":var0", 75, ":var5"),
        (troop_set_slot, ":var0", 144, ":var5"),
        (assign, ":var3", 0),
      (try_end),
    (try_end),
    (store_sub, "$number_of_npc_slots", 141, 101),
    (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
      (try_for_range, ":var7", 0, "$number_of_npc_slots"),
        (store_add, ":var8", ":var7", 101),
        (store_mul, ":var9", ":var7", 29),
        (store_add, ":var10", "str_npc1_intro", ":var9"),
        (val_add, ":var10", ":var6"),
        (val_sub, ":var10", "trp_npc1"),
        (troop_set_slot, ":var6", ":var8", ":var10"),
      (try_end),
    (try_end),
    (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
      (str_store_troop_name, s10, ":var6"),
      (troop_get_slot, ":var11", ":var6", 71),
      (str_store_troop_name, s11, ":var11"),
      (troop_get_slot, ":var11", ":var6", 73),
      (str_store_troop_name, s12, ":var11"),
      (troop_get_slot, ":var11", ":var6", 144),
      (str_store_troop_name, s13, ":var11"),
      (troop_get_slot, reg10, ":var6", 62),
      (troop_get_slot, reg11, ":var6", 63),
      (troop_get_slot, reg12, ":var6", 64),
      (troop_get_slot, reg13, ":var6", 66),
      (troop_get_slot, reg14, ":var6", 52),
      (troop_get_slot, ":var12", ":var6", 60),
      (str_store_party_name, s14, ":var12"),
      (troop_get_slot, ":var12", ":var6", 67),
      (str_store_party_name, s15, ":var12"),
      (troop_get_slot, ":var13", ":var6", 14),
      (str_store_faction_name, s16, ":var13"),
      (troop_set_slot, ":var6", 101, "str_npc_intro"),
      (troop_set_slot, ":var6", 102, "str_npc_intro_recruit"),
      (troop_set_slot, ":var6", 103, "str_npc_intro_disband"),
      (troop_set_slot, ":var6", 112, "str_npc_intro_recruit"),
      (troop_set_slot, ":var6", 113, "str_npc_intro_disband"),
    (try_end),
    (call_script, "script_add_log_entry", 45, "trp_player", -1, -1, -1),
    (troop_set_slot, "trp_kingdom_2_pretender", 14, "fac_kingdom_2"),
    (troop_set_slot, "trp_kingdom_4_pretender", 14, "fac_kingdom_4"),
    (troop_set_slot, "trp_kingdom_9_pretender", 14, "fac_kingdom_9"),
    (troop_set_slot, "trp_kingdom_12_pretender", 14, "fac_kingdom_12"),
    (troop_set_slot, "trp_kingdom_13_pretender", 14, "fac_kingdom_13"),
    (try_for_range, ":var14", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (troop_set_slot, ":var14", 52, 0),
    (try_end),
  ]),

  ("objectionable_action",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", -2),
    (try_for_range, ":var3", "trp_npc1", "trp_kingdom_1_lord"),
      (main_party_has_troop, ":var3"),
      (eq, 0, 1),
      (try_begin),
        (troop_slot_eq, ":var3", 62, ":var0"),
        (troop_get_slot, ":var4", ":var3", 63),
        (try_begin),
          (troop_slot_eq, ":var3", 61, 1),
          (troop_get_slot, ":var5", ":var3", 69),
          (val_mul, ":var4", 2),
          (val_add, ":var5", ":var4"),
          (troop_set_slot, ":var3", 69, ":var5"),
        (else_try),
          (this_or_next|troop_slot_eq, ":var3", 61, 2),
          (eq, "$disable_npc_complaints", 1),
          (troop_get_slot, ":var5", ":var3", 69),
          (val_add, ":var5", ":var4"),
          (troop_set_slot, ":var3", 69, ":var5"),
        (else_try),
          (troop_slot_eq, ":var3", 61, 0),
          (gt, ":var4", ":var2"),
          (assign, "$npc_with_grievance", ":var3"),
          (assign, "$npc_grievance_string", ":var1"),
          (assign, "$npc_grievance_slot", 61),
          (assign, ":var2", ":var4"),
          (assign, "$npc_praise_not_complaint", 0),
          (try_begin),
            (lt, ":var4", 0),
            (assign, "$npc_praise_not_complaint", 1),
          (try_end),
        (try_end),
      (else_try),
        (troop_slot_eq, ":var3", 64, ":var0"),
        (troop_get_slot, ":var4", ":var3", 66),
        (try_begin),
          (troop_slot_eq, ":var3", 65, 1),
          (troop_get_slot, ":var5", ":var3", 69),
          (val_mul, ":var4", 2),
          (val_add, ":var5", ":var4"),
          (troop_set_slot, ":var3", 69, ":var5"),
        (else_try),
          (this_or_next|troop_slot_eq, ":var3", 65, 2),
          (eq, "$disable_npc_complaints", 1),
          (troop_get_slot, ":var5", ":var3", 69),
          (val_add, ":var5", ":var4"),
          (troop_set_slot, ":var3", 69, ":var5"),
        (else_try),
          (troop_slot_eq, ":var3", 65, 0),
          (gt, ":var4", ":var2"),
          (assign, "$npc_with_grievance", ":var3"),
          (assign, "$npc_grievance_string", ":var1"),
          (assign, "$npc_grievance_slot", 65),
          (assign, ":var2", ":var4"),
          (assign, "$npc_praise_not_complaint", 0),
          (try_begin),
            (lt, ":var4", 0),
            (assign, "$npc_praise_not_complaint", 1),
          (try_end),
        (try_end),
      (try_end),
      (try_begin),
        (gt, "$npc_with_grievance", 0),
        (eq, "$npc_praise_not_complaint", 0),
        (str_store_troop_name, s4, "$npc_with_grievance"),
        (display_message, "@{s4} looks upset.", 0xFFFF00),
      (try_end),
    (try_end),
  ]),

  ("post_battle_personality_clash_check",
  [
    (try_for_range, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (eq, "$disable_npc_complaints", 0),
      (main_party_has_troop, ":var0"),
      (neg|troop_is_wounded, ":var0"),
      (troop_get_slot, ":var1", ":var0", 73),
      (main_party_has_troop, ":var1"),
      (neg|troop_is_wounded, ":var1"),
      (try_begin),
        (troop_slot_eq, ":var0", 74, 0),
        (try_begin),
          (assign, "$npc_with_personality_clash_2", ":var0"),
        (try_end),
      (try_end),
    (try_end),
    (try_for_range, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (troop_slot_eq, ":var0", 76, 0),
      (eq, "$disable_npc_complaints", 0),
      (main_party_has_troop, ":var0"),
      (neg|troop_is_wounded, ":var0"),
      (troop_get_slot, ":var1", ":var0", 75),
      (main_party_has_troop, ":var1"),
      (neg|troop_is_wounded, ":var1"),
      (assign, "$npc_with_personality_match", ":var0"),
    (try_end),
    (try_begin),
      (gt, "$npc_with_personality_clash_2", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_personality_clash_conversation_begins"),
      (try_end),
      (try_begin),
        (main_party_has_troop, "$npc_with_personality_clash_2"),
        (assign, "$npc_map_talk_context", 74),
        (start_map_conversation, "$npc_with_personality_clash_2"),
      (else_try),
        (assign, "$npc_with_personality_clash_2", 0),
      (try_end),
    (else_try),
      (gt, "$npc_with_personality_match", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_personality_match_conversation_begins"),
      (try_end),
      (try_begin),
        (main_party_has_troop, "$npc_with_personality_match"),
        (assign, "$npc_map_talk_context", 76),
        (start_map_conversation, "$npc_with_personality_match"),
      (else_try),
        (assign, "$npc_with_personality_match", 0),
      (try_end),
    (try_end),
  ]),

  ("event_player_defeated_enemy_party",
  [
    (try_begin),
      (check_quest_active, "qst_raid_caravan_to_start_war"),
      (neg|check_quest_concluded, "qst_raid_caravan_to_start_war"),
      (party_slot_eq, "$g_enemy_party", 0, 11),
      (store_faction_of_party, ":var0", "$g_enemy_party"),
      (quest_slot_eq, "qst_raid_caravan_to_start_war", 3, ":var0"),
      (quest_get_slot, ":var1", "qst_raid_caravan_to_start_war", 11),
      (quest_get_slot, ":var2", "qst_raid_caravan_to_start_war", 10),
      (val_add, ":var1", 1),
      (quest_set_slot, "qst_raid_caravan_to_start_war", 11, ":var1"),
      (try_begin),
        (ge, ":var1", ":var2"),
        (quest_get_slot, ":var3", "qst_raid_caravan_to_start_war", 3),
        (quest_get_slot, ":var4", "qst_raid_caravan_to_start_war", 6),
        (store_faction_of_troop, ":var5", ":var4"),
        (call_script, "script_diplomacy_start_war_between_kingdoms", ":var3", ":var5", 1),
        (call_script, "script_succeed_quest", "qst_raid_caravan_to_start_war"),
      (try_end),
    (try_end),
    (try_begin),
      (party_slot_eq, "$g_enemy_party", 0, 11),
      (party_get_slot, ":var6", "$g_enemy_party", 470),
      (party_set_slot, "$g_enemy_party", 49, 0),
      (party_set_slot, "$g_enemy_party", 50, 0),
      (gt, ":var6", 0),
      (val_add, ":var6", 1),
      (try_for_range, ":var7", 1, ":var6"),
        (store_add, ":var8", 470, ":var7"),
        (party_set_slot, "$g_enemy_party", ":var8", 0),
      (try_end),
    (try_end),
  ]),

  ("event_player_captured_as_prisoner",
  [
    (try_begin),
      (check_quest_active, "qst_raid_caravan_to_start_war"),
      (neg|check_quest_concluded, "qst_raid_caravan_to_start_war"),
      (quest_get_slot, ":var0", "qst_raid_caravan_to_start_war", 3),
      (store_faction_of_party, ":var1", "$capturer_party"),
      (eq, ":var0", ":var1"),
      (call_script, "script_fail_quest", "qst_raid_caravan_to_start_war"),
    (try_end),
    (try_for_range, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var2", 166, 1),
      (troop_slot_eq, ":var2", 2, 2),
      (troop_get_slot, ":var3", ":var2", 10),
      (gt, ":var3", 0),
      (party_is_active, ":var3"),
      (party_slot_eq, ":var3", 4, 11),
      (party_slot_eq, ":var3", 5, "p_main_party"),
      (call_script, "script_party_set_ai_state", ":var3", -1, -1),
      (call_script, "script_recalculate_ais_for_faction", "$players_kingdom"),
    (try_end),
  ]),

  ("npc_morale",
  [
    (store_script_param_1, ":var0"),
    (troop_get_slot, ":var1", ":var0", 69),
    (troop_get_slot, ":var2", ":var0", 77),
    (party_get_morale, ":var3", "p_main_party"),
    (store_sub, ":var4", ":var3", ":var1"),
    (val_sub, ":var4", ":var2"),
    (val_add, ":var4", 50),
    (assign, reg8, ":var4"),
    (val_mul, ":var4", 3),
    (val_div, ":var4", 4),
    (val_clamp, ":var4", 0, "$g_party_max_morale"),
    (assign, reg5, ":var3"),
    (assign, reg6, ":var1"),
    (assign, reg7, ":var2"),
    (assign, reg9, ":var4"),
    (try_begin),
      (lt, ":var1", 3),
      (str_store_string, s7, "str_happy"),
    (else_try),
      (lt, ":var1", 15),
      (str_store_string, s7, "str_content"),
    (else_try),
      (lt, ":var1", 30),
      (str_store_string, s7, "str_concerned"),
    (else_try),
      (lt, ":var1", 45),
      (str_store_string, s7, "str_not_happy"),
    (else_try),
      (str_store_string, s7, "str_miserable"),
    (try_end),
    (try_begin),
      (lt, ":var2", 3),
      (str_store_string, s6, "str_happy"),
    (else_try),
      (lt, ":var2", 15),
      (str_store_string, s6, "str_content"),
    (else_try),
      (lt, ":var2", 30),
      (str_store_string, s6, "str_concerned"),
    (else_try),
      (lt, ":var2", 45),
      (str_store_string, s6, "str_not_happy"),
    (else_try),
      (str_store_string, s6, "str_miserable"),
    (try_end),
    (try_begin),
      (gt, ":var4", 80),
      (str_store_string, s8, "str_happy"),
      (str_store_string, s63, "str_bar_enthusiastic"),
    (else_try),
      (gt, ":var4", 60),
      (str_store_string, s8, "str_content"),
      (str_store_string, s63, "str_bar_content"),
    (else_try),
      (gt, ":var4", 40),
      (str_store_string, s8, "str_concerned"),
      (str_store_string, s63, "str_bar_weary"),
    (else_try),
      (gt, ":var4", 20),
      (str_store_string, s8, "str_not_happy"),
      (str_store_string, s63, "str_bar_disgruntled"),
    (else_try),
      (str_store_string, s8, "str_miserable"),
      (str_store_string, s63, "str_bar_miserable"),
    (try_end),
    (str_store_string, s21, "str_npc_morale_report"),
    (assign, reg0, ":var4"),
  ]),

  ("retire_companion",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (remove_member_from_party, ":var0", "p_main_party"),
    (troop_set_slot, ":var0", 77, 0),
    (troop_set_slot, ":var0", 69, 0),
    (troop_get_slot, ":var2", "trp_player", 7),
    (store_add, ":var3", ":var2", ":var1"),
    (troop_set_slot, ":var0", 2, 11),
    (troop_set_slot, ":var0", 84, ":var3"),
  ]),

  ("reduce_companion_morale_for_clash",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (troop_get_slot, ":var3", ":var0", ":var2"),
    (troop_get_slot, ":var4", ":var0", 77),
    (troop_get_slot, ":var5", ":var1", 77),
    (try_begin),
      (eq, ":var3", 1),
      (val_add, ":var4", 5),
    (else_try),
      (eq, ":var3", 2),
      (val_add, ":var5", 5),
    (else_try),
      (eq, ":var3", 3),
      (val_add, ":var4", 3),
      (val_add, ":var5", 3),
    (try_end),
    (troop_set_slot, ":var0", 77, ":var4"),
    (troop_set_slot, ":var1", 77, ":var5"),
  ]),

  ("calculate_ransom_amount_for_troop",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (assign, ":var2", 400),
    (assign, ":var3", -9),
    (try_begin),
      (faction_slot_eq, ":var1", 11, ":var0"),
      (val_add, ":var2", 4000),
    (else_try),
      (troop_slot_eq, ":var0", 2, 6),
      (val_add, ":var2", 2500),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var0"),
      (assign, ":var3", reg0),
    (try_end),
    (assign, ":var4", 0),
    (try_for_range, ":var5", "p_town_1_1", "p_salt_mine"),
      (this_or_next|party_slot_eq, ":var5", 7, ":var0"),
      (party_slot_eq, ":var5", 7, ":var3"),
      (try_begin),
        (party_slot_eq, ":var5", 0, 3),
        (val_add, ":var4", 4),
      (else_try),
        (party_slot_eq, ":var5", 0, 2),
        (val_add, ":var4", 2),
      (else_try),
        (val_add, ":var4", 1),
      (try_end),
    (try_end),
    (val_mul, ":var4", 500),
    (val_add, ":var2", ":var4"),
    (troop_get_slot, ":var6", ":var0", 7),
    (val_mul, ":var6", 2),
    (val_add, ":var2", ":var6"),
    (store_mul, ":var7", ":var2", 3),
    (val_div, ":var7", 2),
    (store_random_in_range, ":var8", ":var2", ":var7"),
    (val_div, ":var8", 100),
    (val_mul, ":var8", 100),
    (val_mul, ":var8", 2),
    (assign, reg0, ":var8"),
  ]),

  ("offer_ransom_amount_to_player_for_prisoners_in_party",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (party_get_num_prisoner_stacks, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (eq, ":var1", 0),
      (party_prisoner_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (troop_is_hero, ":var4"),
      (this_or_next|troop_slot_eq, ":var4", 2, 2),
      (troop_slot_eq, ":var4", 2, 6),
      (store_faction_of_troop, ":var5", ":var4"),
      (store_random_in_range, ":var6", 0, 100),
      (try_begin),
        (faction_slot_eq, ":var5", 21, 0),
        (le, ":var6", 5),
        (neq, "$g_ransom_offer_rejected", 1),
        (assign, ":var2", 0),
        (assign, ":var1", 1),
        (assign, "$g_ransom_offer_troop", ":var4"),
        (assign, "$g_ransom_offer_party", ":var0"),
        (jump_to_menu, "mnu_enemy_offer_ransom_for_prisoner"),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("event_hero_taken_prisoner_by_player",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (check_quest_active, "qst_persuade_lords_to_make_peace"),
      (try_begin),
        (quest_slot_eq, "qst_persuade_lords_to_make_peace", 2, ":var0"),
        (val_mul, ":var0", -1),
        (quest_set_slot, "qst_persuade_lords_to_make_peace", 2, ":var0"),
        (val_mul, ":var0", -1),
      (else_try),
        (quest_slot_eq, "qst_persuade_lords_to_make_peace", 4, ":var0"),
        (val_mul, ":var0", -1),
        (quest_set_slot, "qst_persuade_lords_to_make_peace", 4, ":var0"),
        (val_mul, ":var0", -1),
      (try_end),
      (neg|check_quest_concluded, "qst_persuade_lords_to_make_peace"),
      (neg|quest_slot_ge, "qst_persuade_lords_to_make_peace", 2, 0),
      (neg|quest_slot_ge, "qst_persuade_lords_to_make_peace", 4, 0),
      (call_script, "script_succeed_quest", "qst_persuade_lords_to_make_peace"),
    (try_end),
    (call_script, "script_update_troop_location_notes", ":var0", 0),
  ]),

  ("cf_check_hero_can_escape_from_player",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (try_begin),
      (check_quest_active, "qst_persuade_lords_to_make_peace"),
      (this_or_next|quest_slot_eq, "qst_persuade_lords_to_make_peace", 2, ":var0"),
      (quest_slot_eq, "qst_persuade_lords_to_make_peace", 4, ":var0"),
      (assign, ":var1", 1),
    (else_try),
      (ge, ":var0", "trp_sea_raider_leader"),
      (lt, ":var0", "trp_bandit_leaders_end"),
      (try_begin),
        (check_quest_active, "qst_learn_where_merchant_brother_is"),
        (assign, ":var1", 1),
      (else_try),
        (assign, ":var1", -1),
      (try_end),
    (try_end),
    (assign, ":var2", 0),
    (try_begin),
      (eq, ":var1", 0),
      (call_script, "script_rand", 0, 100),
      (assign, ":var3", reg0),
      (assign, ":var4", 70),
      (store_skill_level, ":var5", "skl_prisoner_management", "trp_player"),
      (store_mul, ":var6", ":var5", 4),
      (val_sub, ":var4", ":var6"),
      (ge, ":var3", ":var4"),
      (assign, ":var2", 1),
    (else_try),
      (eq, ":var1", -1),
      (assign, ":var2", 1),
    (try_end),
    (eq, ":var2", 1),
  ]),

  ("cf_party_remove_random_regular_troop",
  [
    (store_script_param_1, ":var0"),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", 0, ":var1"),
      (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (neg|troop_is_hero, ":var4"),
      (party_stack_get_size, ":var5", ":var0", ":var3"),
      (val_add, ":var2", ":var5"),
    (try_end),
    (assign, reg0, -1),
    (gt, ":var2", 0),
    (store_random_in_range, ":var6", 0, ":var2"),
    (try_for_range, ":var3", 0, ":var1"),
      (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (neg|troop_is_hero, ":var4"),
      (party_stack_get_size, ":var5", ":var0", ":var3"),
      (val_sub, ":var6", ":var5"),
      (lt, ":var6", 0),
      (assign, ":var1", 0),
      (party_remove_members, ":var0", ":var4", 1),
      (assign, reg0, ":var4"),
    (try_end),
  ]),

  ("place_player_banner_near_inventory",
  [
    (troop_get_slot, ":var0", "trp_player", 13),
    (try_begin),
      (gt, ":var0", 0),
      (scene_prop_get_instance, ":var1", ":var0", 0),
      (try_begin),
        (ge, ":var1", 0),
        (get_player_agent_no, ":var2"),
        (agent_get_look_position, pos1, ":var2"),
        (position_move_y, pos1, -500),
        (position_rotate_z, pos1, 180),
        (position_set_z_to_ground_level, pos1),
        (position_move_z, pos1, 300),
        (prop_instance_set_position, ":var1", pos1),
      (try_end),
      (scene_prop_get_instance, ":var3", "spr_banner_pole", 0),
      (try_begin),
        (ge, ":var3", 0),
        (position_move_z, pos1, -320),
        (prop_instance_set_position, ":var3", pos1),
      (try_end),
    (else_try),
      (init_position, pos1),
      (position_move_z, pos1, -1000000),
      (scene_prop_get_instance, ":var1", "spr_banner_a", 0),
      (try_begin),
        (ge, ":var1", 0),
        (prop_instance_set_position, ":var1", pos1),
      (try_end),
      (scene_prop_get_instance, ":var3", "spr_banner_pole", 0),
      (try_begin),
        (ge, ":var3", 0),
        (prop_instance_set_position, ":var3", pos1),
      (try_end),
    (try_end),
  ]),

  ("place_player_banner_near_inventory_bms",
  [
    (troop_get_slot, ":var0", "trp_player", 13),
    (try_begin),
      (gt, ":var0", 0),
      (replace_scene_props, "spr_banner_a", ":var0"),
    (try_end),
  ]),

  ("stay_captive_for_hours",
  [
    (store_script_param, ":var0", 1),
    (store_current_hours, ":var1"),
    (val_add, ":var1", ":var0"),
    (val_max, "$g_check_autos_at_hour", ":var1"),
    (val_add, ":var0", 1),
    (rest_for_hours, ":var0", 3, 0),
  ]),

  ("set_parties_around_player_ignore_player",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_for_parties, ":var2"),
      (party_is_active, ":var2"),
      (store_distance_to_party_from_party, ":var3", "p_main_party", ":var2"),
      (lt, ":var3", ":var0"),
      (party_ignore_player, ":var2", ":var1"),
    (try_end),
  ]),

  ("randomly_make_prisoner_heroes_escape_from_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (try_begin),
      (check_quest_active, "qst_rescue_lord_by_replace"),
      (quest_get_slot, ":var2", "qst_rescue_lord_by_replace", 2),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_deliver_message_to_prisoner_lord"),
      (quest_get_slot, ":var3", "qst_deliver_message_to_prisoner_lord", 2),
    (try_end),
    (party_get_num_prisoner_stacks, ":var4", ":var0"),
    (try_for_range_backwards, ":var5", 0, ":var4"),
      (party_prisoner_stack_get_troop_id, ":var6", ":var0", ":var5"),
      (troop_is_hero, ":var6"),
      (neq, ":var6", ":var2"),
      (neq, ":var6", ":var3"),
      (troop_slot_eq, ":var6", 2, 2),
      (store_random_in_range, ":var7", 0, 1000),
      (lt, ":var7", ":var1"),
      (party_remove_prisoners, ":var0", ":var6", 1),
      (call_script, "script_remove_troop_from_prison", ":var6"),
      (str_store_troop_name_link, s1, ":var6"),
      (try_begin),
        (eq, ":var0", "p_main_party"),
        (str_store_string, s2, "@your party"),
      (else_try),
        (str_store_party_name, s2, ":var0"),
      (try_end),
      (assign, reg0, 0),
      (try_begin),
        (this_or_next|eq, ":var0", "p_main_party"),
        (party_slot_eq, ":var0", 7, "trp_player"),
        (assign, reg0, 1),
      (try_end),
      (store_faction_of_troop, ":var8", ":var6"),
      (str_store_faction_name_link, s3, ":var8"),
      (call_script, "script_get_message_color", 4, ":var6"),
      (display_log_message, "@{reg0?One of your prisoners, :}{s1} of {s3} has escaped from captivity!", reg20),
    (try_end),
  ]),

  ("fill_tournament_participants_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_begin),
      (eq, ":var1", 1),
      (party_get_num_companion_stacks, ":var3", "p_main_party"),
      (try_for_range, ":var4", 0, ":var3"),
        (party_stack_get_troop_id, ":var5", "p_main_party", ":var4"),
        (troop_is_hero, ":var5"),
        (neq, ":var5", "trp_kidnapped_girl"),
        (troop_set_slot, "trp_tournament_participants", ":var2", ":var5"),
        (val_add, ":var2", 1),
      (try_end),
    (try_end),
    (party_collect_attachments_to_party, ":var0", "p_temp_party"),
    (party_get_num_companion_stacks, ":var3", "p_temp_party"),
    (try_for_range, ":var4", 0, ":var3"),
      (party_stack_get_troop_id, ":var5", "p_temp_party", ":var4"),
      (troop_is_hero, ":var5"),
      (troop_set_slot, "trp_tournament_participants", ":var2", ":var5"),
      (val_add, ":var2", 1),
    (try_end),
    (try_for_range, ":var5", "trp_Xerina", "trp_tutorial_trainer"),
      (store_random_in_range, ":var6", 0, 100),
      (lt, ":var6", 25),
      (troop_set_slot, "trp_tournament_participants", ":var2", ":var5"),
      (val_add, ":var2", 1),
    (try_end),
    (store_faction_of_party, ":var7", ":var0"),
    (call_script, "script_raf_aor_faction_to_region", ":var7"),
    (assign, ":var8", ":var2"),
    (try_for_range, ":var2", ":var8", 64),
      (store_random_in_range, ":var6", 0, 3),
      (try_begin),
        (eq, ":var6", 0),
        (try_begin),
          (eq, reg0, 10),
          (assign, ":var9", "trp_andalus_horse_4"),
        (else_try),
          (eq, reg0, 11),
          (assign, ":var9", "trp_marinid_mounted_skirmisher_3"),
        (else_try),
          (eq, reg0, 12),
          (assign, ":var9", "trp_mamluk_cavalry_2"),
        (else_try),
          (eq, reg0, 1),
          (assign, ":var9", "trp_balt_noble_1"),
        (else_try),
          (eq, reg0, 9),
          (assign, ":var9", "trp_byz_castle_2"),
        (else_try),
          (eq, reg0, 8),
          (assign, ":var9", "trp_euro_horse_2"),
        (else_try),
          (eq, reg0, 3),
          (assign, ":var9", "trp_rus_horse_2"),
        (else_try),
          (eq, reg0, 5),
          (assign, ":var9", "trp_euro_horse_4"),
        (else_try),
          (eq, reg0, 13),
          (assign, ":var9", "trp_iberian_medium_cavalry"),
        (else_try),
          (eq, reg0, 14),
          (assign, ":var9", "trp_iberian_medium_cavalry"),
        (else_try),
          (eq, reg0, 7),
          (assign, ":var9", "trp_gaelic_knight"),
        (else_try),
          (eq, reg0, 4),
          (assign, ":var9", "trp_tatar_veteran_horse_archer"),
        (else_try),
          (eq, reg0, 2),
          (assign, ":var9", "trp_nordic_medium_cavalry"),
        (else_try),
          (eq, reg0, 6),
          (assign, ":var9", "trp_euro_horse_4"),
        (else_try),
          (assign, ":var9", "trp_euro_horse_4"),
        (try_end),
        (troop_set_slot, "trp_tournament_participants", ":var2", ":var9"),
      (else_try),
        (eq, ":var6", 1),
        (try_begin),
          (eq, reg0, 10),
          (assign, ":var9", "trp_andalus_horse_4"),
        (else_try),
          (eq, reg0, 11),
          (assign, ":var9", "trp_marinid_mounted_skirmisher_3"),
        (else_try),
          (eq, reg0, 12),
          (assign, ":var9", "trp_ghulam_cavalry_2"),
        (else_try),
          (eq, reg0, 1),
          (assign, ":var9", "trp_balt_noble_2"),
        (else_try),
          (eq, reg0, 9),
          (assign, ":var9", "trp_byz_castle_3"),
        (else_try),
          (eq, reg0, 8),
          (assign, ":var9", "trp_euro_horse_4"),
        (else_try),
          (eq, reg0, 3),
          (assign, ":var9", "trp_rus_horse_3"),
        (else_try),
          (eq, reg0, 5),
          (assign, ":var9", "trp_euro_horse_4"),
        (else_try),
          (eq, reg0, 13),
          (assign, ":var9", "trp_iberian_squire"),
        (else_try),
          (eq, reg0, 14),
          (assign, ":var9", "trp_iberian_squire"),
        (else_try),
          (eq, reg0, 7),
          (assign, ":var9", "trp_gaelic_knight"),
        (else_try),
          (eq, reg0, 4),
          (assign, ":var9", "trp_tatar_lancer"),
        (else_try),
          (eq, reg0, 2),
          (assign, ":var9", "trp_nordic_squire"),
        (else_try),
          (eq, reg0, 6),
          (assign, ":var9", "trp_euro_horse_4"),
        (else_try),
          (assign, ":var9", "trp_euro_horse_4"),
        (try_end),
        (troop_set_slot, "trp_tournament_participants", ":var2", ":var9"),
      (else_try),
        (eq, ":var6", 2),
        (try_begin),
          (eq, reg0, 10),
          (assign, ":var9", "trp_andalus_horse_4"),
        (else_try),
          (eq, reg0, 11),
          (assign, ":var9", "trp_marinid_lancer"),
        (else_try),
          (eq, reg0, 12),
          (assign, ":var9", "trp_ghulam_cavalry_3"),
        (else_try),
          (eq, reg0, 1),
          (assign, ":var9", "trp_balt_noble_3"),
        (else_try),
          (eq, reg0, 9),
          (assign, ":var9", "trp_byz_castle_4"),
        (else_try),
          (eq, reg0, 8),
          (assign, ":var9", "trp_euro_horse_4"),
        (else_try),
          (eq, reg0, 3),
          (assign, ":var9", "trp_rus_horse_4"),
        (else_try),
          (eq, reg0, 14),
          (assign, ":var9", "trp_rus_horse_4"),
        (else_try),
          (eq, reg0, 5),
          (assign, ":var9", "trp_euro_horse_4"),
        (else_try),
          (eq, reg0, 13),
          (assign, ":var9", "trp_iberian_knight"),
        (else_try),
          (eq, reg0, 7),
          (assign, ":var9", "trp_gaelic_knight"),
        (else_try),
          (eq, reg0, 4),
          (assign, ":var9", "trp_tatar_heavy_lancer"),
        (else_try),
          (eq, reg0, 2),
          (assign, ":var9", "trp_nordic_knight"),
        (else_try),
          (eq, reg0, 6),
          (assign, ":var9", "trp_euro_horse_4"),
        (else_try),
          (assign, ":var9", "trp_euro_horse_4"),
        (try_end),
        (troop_set_slot, "trp_tournament_participants", ":var2", ":var9"),
      (else_try),
        (troop_set_slot, "trp_tournament_participants", ":var2", "trp_euro_horse_4"),
      (try_end),
    (try_end),
  ]),

  ("get_num_tournament_participants",
  [
    (assign, ":var0", 0),
    (try_for_range, ":var1", 0, 64),
      (troop_slot_ge, "trp_tournament_participants", ":var1", 0),
      (val_add, ":var0", 1),
    (try_end),
    (assign, reg0, ":var0"),
  ]),

  ("get_random_tournament_participant",
  [
    (call_script, "script_get_num_tournament_participants"),
    (assign, ":var0", reg0),
    (store_random_in_range, ":var1", 0, ":var0"),
    (assign, ":var2", 1),
    (try_for_range, ":var3", 0, 64),
      (eq, ":var2", 1),
      (troop_slot_ge, "trp_tournament_participants", ":var3", 0),
      (val_sub, ":var1", 1),
      (lt, ":var1", 0),
      (assign, ":var2", 0),
      (troop_get_slot, ":var4", "trp_tournament_participants", ":var3"),
      (troop_set_slot, "trp_tournament_participants", ":var3", -1),
    (try_end),
    (assign, reg0, ":var4"),
  ]),

  ("add_tournament_participant",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 1),
    (try_for_range, ":var2", 0, 64),
      (eq, ":var1", 1),
      (troop_slot_eq, "trp_tournament_participants", ":var2", -1),
      (troop_set_slot, "trp_tournament_participants", ":var2", ":var0"),
      (assign, ":var1", 0),
    (try_end),
  ]),

  ("get_random_tournament_team_amount_and_size",
  [
    (call_script, "script_get_num_tournament_participants"),
    (assign, ":var0", reg0),
    (party_get_slot, ":var1", "$current_town", 157),
    (val_add, ":var1", 1),
    (party_get_slot, ":var2", "$current_town", 158),
    (val_add, ":var2", 1),
    (assign, ":var3", ":var0"),
    (val_min, ":var3", ":var1"),
    (assign, ":var4", ":var0"),
    (val_min, ":var4", ":var2"),
    (assign, ":var5", 1),
    (try_begin),
      (ge, ":var0", 32),
      (assign, ":var5", 2),
      (val_min, ":var5", ":var2"),
    (try_end),
    (assign, ":var6", 500),
    (try_for_range, ":var7", 0, ":var6"),
      (store_random_in_range, ":var8", 2, ":var3"),
      (store_random_in_range, ":var9", ":var5", ":var4"),
      (store_mul, ":var10", ":var8", ":var9"),
      (le, ":var10", ":var0"),
      (store_sub, ":var11", ":var0", ":var10"),
      (neq, ":var11", 1),
      (assign, ":var6", 0),
    (try_end),
    (try_begin),
      (gt, ":var6", 0),
      (assign, ":var8", 2),
      (assign, ":var9", 1),
    (try_end),
    (assign, reg0, ":var8"),
    (assign, reg1, ":var9"),
  ]),

  ("get_troop_priority_point_for_tournament",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_begin),
      (ge, ":var0", 0),
      (val_add, ":var1", 40000),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (val_add, ":var1", 80000),
      (try_end),
      (try_begin),
        (troop_is_hero, ":var0"),
        (val_add, ":var1", 20000),
      (try_end),
      (try_begin),
        (troop_slot_eq, ":var0", 2, 5),
        (val_add, ":var1", 10000),
      (else_try),
        (troop_slot_eq, ":var0", 2, 2),
        (troop_get_slot, ":var2", ":var0", 7),
        (val_add, ":var1", ":var2"),
        (val_add, ":var1", 1000),
      (else_try),
        (store_character_level, ":var3", ":var0"),
        (val_add, ":var1", ":var3"),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("sort_tournament_participant_troops",
  [
    (try_for_range, ":var0", 0, 63),
      (store_add, ":var1", ":var0", 1),
      (try_for_range, ":var2", ":var1", 64),
        (troop_get_slot, ":var3", "trp_tournament_participants", ":var0"),
        (troop_get_slot, ":var4", "trp_tournament_participants", ":var2"),
        (call_script, "script_get_troop_priority_point_for_tournament", ":var3"),
        (assign, ":var5", reg0),
        (call_script, "script_get_troop_priority_point_for_tournament", ":var4"),
        (assign, ":var6", reg0),
        (gt, ":var6", ":var5"),
        (troop_set_slot, "trp_tournament_participants", ":var0", ":var4"),
        (troop_set_slot, "trp_tournament_participants", ":var2", ":var3"),
      (try_end),
    (try_end),
  ]),

  ("remove_tournament_participants_randomly",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", 0, ":var0"),
      (assign, ":var2", 0),
      (try_for_range, ":var3", 0, 64),
        (troop_get_slot, ":var4", "trp_tournament_participants", ":var3"),
        (ge, ":var4", 0),
        (store_character_level, ":var5", ":var4"),
        (val_min, ":var5", 38),
        (store_sub, ":var6", 40, ":var5"),
        (val_add, ":var2", ":var6"),
      (try_end),
      (store_random_in_range, ":var7", 0, ":var2"),
      (assign, ":var8", 1),
      (try_for_range, ":var3", 0, 64),
        (eq, ":var8", 1),
        (troop_get_slot, ":var4", "trp_tournament_participants", ":var3"),
        (ge, ":var4", 0),
        (store_character_level, ":var5", ":var4"),
        (val_min, ":var5", 38),
        (store_sub, ":var6", 40, ":var5"),
        (val_sub, ":var7", ":var6"),
        (lt, ":var7", 0),
        (troop_set_slot, "trp_tournament_participants", ":var3", -1),
        (assign, ":var8", 0),
      (try_end),
    (try_end),
  ]),

  ("end_tournament_fight",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_get_num_tournament_participants"),
    (assign, ":var1", reg0),
    (store_div, ":var2", ":var1", 2),
    (call_script, "script_remove_tournament_participants_randomly", ":var2"),
    (assign, ":var3", "$g_tournament_num_participants_for_fight"),
    (val_div, ":var3", 2),
    (get_player_agent_no, ":var4"),
    (agent_get_team, ":var5", ":var4"),
    (try_for_agents, ":var6"),
      (agent_is_human, ":var6"),
      (agent_get_troop_id, ":var7", ":var6"),
      (neg|is_between, ":var7", "trp_town_1_arena_master", "trp_town_1_armorer"),
      (agent_get_team, ":var8", ":var6"),
      (assign, ":var9", 0),
      (try_begin),
        (eq, ":var0", 1),
        (eq, ":var8", ":var5"),
        (val_add, ":var9", 5000000),
      (try_end),
      (agent_get_kill_count, ":var10", ":var6", 1),
      (store_mul, ":var11", ":var10", 160000),
      (val_add, ":var9", ":var11"),
      (call_script, "script_get_troop_priority_point_for_tournament", ":var7"),
      (val_add, ":var9", reg0),
      (try_begin),
        (eq, ":var6", ":var4"),
        (eq, ":var0", 0),
        (assign, ":var12", 1),
        (try_begin),
          (ge, ":var10", 2),
          (assign, ":var12", 0),
        (else_try),
          (eq, ":var10", 1),
          (le, "$g_tournament_cur_tier", 1),
          (assign, ":var12", 0),
        (try_end),
        (eq, ":var12", 1),
        (assign, ":var9", 0),
      (try_end),
      (agent_set_slot, ":var6", 6, ":var9"),
    (try_end),
    (try_for_range, ":var13", 0, ":var3"),
      (assign, ":var14", 0),
      (assign, ":var15", -1),
      (try_for_agents, ":var6"),
        (agent_is_human, ":var6"),
        (agent_get_slot, ":var16", ":var6", 6),
        (gt, ":var16", ":var14"),
        (assign, ":var15", ":var6"),
        (assign, ":var14", ":var16"),
      (try_end),
      (agent_set_slot, ":var15", 6, 0),
      (agent_get_troop_id, ":var7", ":var15"),
      (call_script, "script_add_tournament_participant", ":var7"),
    (try_end),
    (assign, "$g_tournament_player_team_won", ":var0"),
    (jump_to_menu, "mnu_town_tournament"),
  ]),

  ("get_win_amount_for_tournament_bet",
  [
    (party_get_slot, ":var0", "$current_town", 51),
    (try_begin),
      (eq, "$g_tournament_cur_tier", 0),
      (assign, ":var1", 120),
    (else_try),
      (eq, "$g_tournament_cur_tier", 1),
      (assign, ":var1", 90),
    (else_try),
      (eq, "$g_tournament_cur_tier", 2),
      (assign, ":var1", 60),
    (else_try),
      (eq, "$g_tournament_cur_tier", 3),
      (assign, ":var1", 40),
    (else_try),
      (eq, "$g_tournament_cur_tier", 4),
      (assign, ":var1", 20),
    (else_try),
      (assign, ":var1", 8),
    (try_end),
    (val_mul, ":var1", ":var0"),
    (val_div, ":var1", 100),
    (val_add, ":var1", 100),
    (assign, reg0, ":var1"),
  ]),

  ("tournament_place_bet",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_get_win_amount_for_tournament_bet"),
    (assign, ":var1", reg0),
    (val_mul, ":var1", ":var0"),
    (val_div, ":var1", 100),
    (val_sub, ":var1", ":var0"),
    (val_add, "$g_tournament_bet_placed", ":var0"),
    (val_add, "$g_tournament_bet_win_amount", ":var1"),
    (troop_remove_gold, "trp_player", ":var0"),
    (assign, "$g_tournament_last_bet_tier", "$g_tournament_cur_tier"),
  ]),

  ("calculate_amount_of_cattle_can_be_stolen",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_get_max_skill_of_player_party", "skl_looting"),
    (assign, ":var1", reg0),
    (store_mul, ":var2", ":var1", 2),
    (call_script, "script_party_count_fit_for_battle", "p_main_party"),
    (store_add, ":var3", reg0, 10),
    (val_div, ":var3", 10),
    (val_add, ":var2", ":var3"),
    (party_get_slot, ":var4", ":var0", 205),
    (val_min, ":var2", ":var4"),
    (assign, reg0, ":var2"),
  ]),

  ("draw_banner_to_region",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_script_param, ":var5", 6),
    (store_script_param, ":var6", 7),
    (store_script_param, ":var7", 8),
    (store_script_param, ":var8", 9),
    (store_script_param, ":var9", 10),
    (troop_get_slot, ":var10", ":var0", 91),
    (val_add, ":var10", "mesh_custom_banner_bg"),
    (troop_get_slot, ":var11", ":var0", 85),
    (troop_get_slot, ":var12", ":var0", 86),
    (troop_get_slot, ":var13", ":var0", 97),
    (troop_get_slot, ":var14", ":var0", 98),
    (call_script, "script_get_troop_custom_banner_num_positionings", ":var0"),
    (assign, ":var15", reg0),
    (val_mod, ":var14", ":var15"),
    (init_position, pos2),
    (position_set_x, pos2, ":var3"),
    (position_set_y, pos2, ":var4"),
    (assign, ":var16", 1),
    (convert_to_fixed_point, ":var16"),
    (position_set_z, pos2, ":var16"),
    (init_position, pos1),
    (position_set_x, pos1, ":var1"),
    (position_set_y, pos1, ":var2"),
    (position_move_z, pos1, -20),
    (init_position, pos3),
    (position_set_x, pos3, ":var7"),
    (position_set_y, pos3, ":var7"),
    (position_set_z, pos3, ":var16"),
    (try_begin),
      (this_or_next|eq, ":var10", "mesh_custom_banner_bg"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg01"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg02"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg03"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg08"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg09"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg10"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg11"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg12"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg13"),
      (this_or_next|eq, ":var10", "mesh_custom_banner_fg16"),
      (eq, ":var10", "mesh_custom_banner_fg17"),
      (cur_tableau_add_mesh_with_scale_and_vertex_color, ":var10", pos1, pos2, 0, ":var11"),
    (else_try),
      (cur_tableau_add_mesh_with_scale_and_vertex_color, ":var10", pos1, pos3, 0, ":var11"),
    (try_end),
    (position_move_z, pos1, -20),
    (position_move_x, 2, ":var3"),
    (position_move_y, pos2, ":var4"),
    (cur_tableau_add_mesh_with_scale_and_vertex_color, "mesh_custom_banner_bg", pos1, pos2, 0, ":var12"),
    (assign, ":var17", ":var5"),
    (val_min, ":var17", ":var6"),
    (val_min, ":var17", ":var8"),
    (call_script, "script_get_custom_banner_charge_type_position_scale_color", "trp_player", ":var14"),
    (try_begin),
      (this_or_next|eq, ":var9", 2),
      (eq, ":var9", 3),
      (assign, ":var18", 0),
      (try_begin),
        (eq, ":var13", 1),
        (assign, ":var18", 1),
      (else_try),
        (eq, ":var13", 2),
        (eq, ":var14", 1),
        (assign, ":var18", 1),
      (else_try),
        (eq, ":var13", 3),
        (eq, ":var14", 1),
        (assign, ":var18", 1),
      (try_end),
      (try_begin),
        (eq, ":var18", 1),
        (val_add, ":var2", 30),
      (try_end),
    (try_end),
    (try_begin),
      (ge, ":var13", 1),
      (val_mul, reg1, ":var17"),
      (val_div, reg1, 10000),
      (position_get_x, ":var19", pos0),
      (position_get_y, ":var20", pos0),
      (val_mul, ":var19", ":var5"),
      (val_mul, ":var20", ":var6"),
      (val_div, ":var19", 10000),
      (val_div, ":var20", 10000),
      (val_add, ":var19", ":var1"),
      (val_add, ":var20", ":var2"),
      (position_set_x, pos0, ":var19"),
      (position_set_y, pos0, ":var20"),
      (assign, ":var21", reg1),
      (convert_to_fixed_point, ":var21"),
      (store_mul, ":var22", ":var21", -1),
      (init_position, pos4),
      (position_set_x, pos4, ":var21"),
      (position_set_y, pos4, ":var21"),
      (position_set_z, pos4, ":var21"),
      (store_div, ":var23", reg0, 256),
      (try_begin),
        (this_or_next|eq, ":var23", 1),
        (eq, ":var23", 3),
        (position_set_x, pos4, ":var22"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var23", 2),
        (eq, ":var23", 3),
        (position_set_y, pos4, ":var22"),
      (try_end),
      (val_mod, reg0, 256),
      (cur_tableau_add_mesh_with_scale_and_vertex_color, reg0, pos0, pos4, 0, reg2),
    (try_end),
    (try_begin),
      (ge, ":var13", 2),
      (val_mul, reg4, ":var17"),
      (val_div, reg4, 10000),
      (position_get_x, ":var19", pos1),
      (position_get_y, ":var20", pos1),
      (val_mul, ":var19", ":var5"),
      (val_mul, ":var20", ":var6"),
      (val_div, ":var19", 10000),
      (val_div, ":var20", 10000),
      (val_add, ":var19", ":var1"),
      (val_add, ":var20", ":var2"),
      (position_set_x, pos1, ":var19"),
      (position_set_y, pos1, ":var20"),
      (assign, ":var21", reg4),
      (convert_to_fixed_point, ":var21"),
      (store_mul, ":var22", ":var21", -1),
      (init_position, pos4),
      (position_set_x, pos4, ":var21"),
      (position_set_y, pos4, ":var21"),
      (position_set_z, pos4, ":var21"),
      (store_div, ":var23", reg3, 256),
      (try_begin),
        (this_or_next|eq, ":var23", 1),
        (eq, ":var23", 3),
        (position_set_x, pos4, ":var22"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var23", 2),
        (eq, ":var23", 3),
        (position_set_y, pos4, ":var22"),
      (try_end),
      (val_mod, reg3, 256),
      (cur_tableau_add_mesh_with_scale_and_vertex_color, reg3, pos1, pos4, 0, reg5),
    (try_end),
    (try_begin),
      (ge, ":var13", 3),
      (val_mul, reg7, ":var17"),
      (val_div, reg7, 10000),
      (position_get_x, ":var19", pos2),
      (position_get_y, ":var20", pos2),
      (val_mul, ":var19", ":var5"),
      (val_mul, ":var20", ":var6"),
      (val_div, ":var19", 10000),
      (val_div, ":var20", 10000),
      (val_add, ":var19", ":var1"),
      (val_add, ":var20", ":var2"),
      (position_set_x, pos2, ":var19"),
      (position_set_y, pos2, ":var20"),
      (assign, ":var21", reg7),
      (convert_to_fixed_point, ":var21"),
      (store_mul, ":var22", ":var21", -1),
      (init_position, pos4),
      (position_set_x, pos4, ":var21"),
      (position_set_y, pos4, ":var21"),
      (position_set_z, pos4, ":var21"),
      (store_div, ":var23", reg6, 256),
      (try_begin),
        (this_or_next|eq, ":var23", 1),
        (eq, ":var23", 3),
        (position_set_x, pos4, ":var22"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var23", 2),
        (eq, ":var23", 3),
        (position_set_y, pos4, ":var22"),
      (try_end),
      (val_mod, reg6, 256),
      (cur_tableau_add_mesh_with_scale_and_vertex_color, reg6, pos2, pos4, 0, reg8),
    (try_end),
    (try_begin),
      (ge, ":var13", 4),
      (val_mul, reg10, ":var17"),
      (val_div, reg10, 10000),
      (position_get_x, ":var19", pos3),
      (position_get_y, ":var20", pos3),
      (val_mul, ":var19", ":var5"),
      (val_mul, ":var20", ":var6"),
      (val_div, ":var19", 10000),
      (val_div, ":var20", 10000),
      (val_add, ":var19", ":var1"),
      (val_add, ":var20", ":var2"),
      (position_set_x, pos3, ":var19"),
      (position_set_y, pos3, ":var20"),
      (assign, ":var21", reg10),
      (convert_to_fixed_point, ":var21"),
      (store_mul, ":var22", ":var21", -1),
      (init_position, pos4),
      (position_set_x, pos4, ":var21"),
      (position_set_y, pos4, ":var21"),
      (position_set_z, pos4, ":var21"),
      (store_div, ":var23", reg9, 256),
      (try_begin),
        (this_or_next|eq, ":var23", 1),
        (eq, ":var23", 3),
        (position_set_x, pos4, ":var22"),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var23", 2),
        (eq, ":var23", 3),
        (position_set_y, pos4, ":var22"),
      (try_end),
      (val_mod, reg9, 256),
      (cur_tableau_add_mesh_with_scale_and_vertex_color, reg9, pos3, pos4, 0, reg11),
    (try_end),
  ]),

  ("get_troop_custom_banner_num_positionings",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", ":var0", 97),
    (try_begin),
      (eq, ":var1", 1),
      (assign, ":var2", 2),
    (else_try),
      (eq, ":var1", 2),
      (assign, ":var2", 4),
    (else_try),
      (eq, ":var1", 3),
      (assign, ":var2", 6),
    (else_try),
      (assign, ":var2", 2),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("get_custom_banner_charge_type_position_scale_color",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 97),
    (init_position, pos0),
    (init_position, pos1),
    (init_position, pos2),
    (init_position, pos3),
    (troop_get_slot, reg0, ":var0", 92),
    (val_add, reg0, "mesh_custom_banner_charge_01"),
    (troop_get_slot, reg2, ":var0", 87),
    (troop_get_slot, reg3, ":var0", 93),
    (val_add, reg3, "mesh_custom_banner_charge_01"),
    (troop_get_slot, reg5, ":var0", 88),
    (troop_get_slot, reg6, ":var0", 94),
    (val_add, reg6, "mesh_custom_banner_charge_01"),
    (troop_get_slot, reg8, ":var0", 89),
    (troop_get_slot, reg9, ":var0", 95),
    (val_add, reg9, "mesh_custom_banner_charge_01"),
    (troop_get_slot, reg11, ":var0", 90),
    (try_begin),
      (eq, ":var2", 1),
      (try_begin),
        (eq, ":var1", 0),
        (assign, reg1, 100),
      (else_try),
        (assign, reg1, 50),
      (try_end),
    (else_try),
      (eq, ":var2", 2),
      (try_begin),
        (eq, ":var1", 0),
        (position_set_y, pos0, 25),
        (position_set_y, pos1, -25),
        (assign, reg1, 40),
        (assign, reg4, 40),
      (else_try),
        (eq, ":var1", 1),
        (position_set_x, pos0, -25),
        (position_set_x, pos1, 25),
        (assign, reg1, 40),
        (assign, reg4, 40),
      (else_try),
        (eq, ":var1", 2),
        (position_set_x, pos0, -25),
        (position_set_y, pos0, 25),
        (position_set_x, pos1, 25),
        (position_set_y, pos1, -25),
        (assign, reg1, 50),
        (assign, reg4, 50),
      (else_try),
        (position_set_x, pos0, -25),
        (position_set_y, pos0, -25),
        (position_set_x, pos1, 25),
        (position_set_y, pos1, 25),
        (assign, reg1, 50),
        (assign, reg4, 50),
      (try_end),
    (else_try),
      (eq, ":var2", 3),
      (try_begin),
        (eq, ":var1", 0),
        (position_set_y, pos0, 33),
        (position_set_y, pos2, -33),
        (assign, reg1, 30),
        (assign, reg4, 30),
        (assign, reg7, 30),
      (else_try),
        (eq, ":var1", 1),
        (position_set_x, pos0, -33),
        (position_set_x, pos2, 33),
        (assign, reg1, 30),
        (assign, reg4, 30),
        (assign, reg7, 30),
      (else_try),
        (eq, ":var1", 2),
        (position_set_x, pos0, -30),
        (position_set_y, pos0, 30),
        (position_set_x, pos2, 30),
        (position_set_y, pos2, -30),
        (assign, reg1, 35),
        (assign, reg4, 35),
        (assign, reg7, 35),
      (else_try),
        (eq, ":var1", 3),
        (position_set_x, pos0, -30),
        (position_set_y, pos0, -30),
        (position_set_x, pos2, 30),
        (position_set_y, pos2, 30),
        (assign, reg1, 35),
        (assign, reg4, 35),
        (assign, reg7, 35),
      (else_try),
        (eq, ":var1", 4),
        (position_set_x, pos0, -25),
        (position_set_y, pos0, -25),
        (position_set_y, pos1, 25),
        (position_set_x, pos2, 25),
        (position_set_y, pos2, -25),
        (assign, reg1, 50),
        (assign, reg4, 50),
        (assign, reg7, 50),
      (else_try),
        (position_set_x, pos0, -25),
        (position_set_y, pos0, 25),
        (position_set_y, pos1, -25),
        (position_set_x, pos2, 25),
        (position_set_y, pos2, 25),
        (assign, reg1, 50),
        (assign, reg4, 50),
        (assign, reg7, 50),
      (try_end),
    (else_try),
      (try_begin),
        (eq, ":var1", 0),
        (position_set_x, pos0, -25),
        (position_set_y, pos0, 25),
        (position_set_x, pos1, 25),
        (position_set_y, pos1, 25),
        (position_set_x, pos2, -25),
        (position_set_y, pos2, -25),
        (position_set_x, pos3, 25),
        (position_set_y, pos3, -25),
        (assign, reg1, 50),
        (assign, reg4, 50),
        (assign, reg7, 50),
        (assign, reg10, 50),
      (else_try),
        (position_set_y, pos0, 30),
        (position_set_x, pos1, -30),
        (position_set_x, pos2, 30),
        (position_set_y, pos3, -30),
        (assign, reg1, 35),
        (assign, reg4, 35),
        (assign, reg7, 35),
        (assign, reg10, 35),
      (try_end),
    (try_end),
  ]),

  ("get_random_custom_banner",
  [
    (store_script_param, ":var0", 1),
    (store_random_in_range, ":var1", 1, 5),
    (troop_set_slot, ":var0", 97, ":var1"),
    (store_random_in_range, ":var2", 0, 42),
    (call_script, "script_get_custom_banner_color_from_index", ":var2"),
    (assign, ":var3", reg0),
    (troop_set_slot, ":var0", 85, ":var3"),
    (assign, ":var4", 1),
    (try_for_range, ":var5", 0, ":var4"),
      (store_random_in_range, ":var2", 0, 42),
      (call_script, "script_get_custom_banner_color_from_index", ":var2"),
      (assign, ":var6", reg0),
      (try_begin),
        (call_script, "script_cf_check_color_visibility", ":var3", ":var6"),
        (troop_set_slot, ":var0", 86, ":var6"),
      (else_try),
        (val_add, ":var4", 1),
      (try_end),
    (try_end),
    (assign, ":var4", 4),
    (assign, ":var7", 0),
    (try_for_range, ":var5", 0, ":var4"),
      (store_random_in_range, ":var2", 0, 42),
      (call_script, "script_get_custom_banner_color_from_index", ":var2"),
      (assign, ":var8", reg0),
      (try_begin),
        (call_script, "script_cf_check_color_visibility", ":var8", ":var3"),
        (call_script, "script_cf_check_color_visibility", ":var8", ":var6"),
        (store_add, ":var9", ":var7", 87),
        (troop_set_slot, ":var0", ":var9", ":var8"),
        (store_random_in_range, ":var10", "mesh_custom_banner_charge_01", "mesh_tableau_mesh_custom_banner"),
        (val_sub, ":var10", "mesh_custom_banner_charge_01"),
        (store_add, ":var9", ":var7", 92),
        (troop_set_slot, ":var0", ":var9", ":var10"),
        (val_add, ":var7", 1),
      (else_try),
        (val_add, ":var4", 1),
      (try_end),
    (try_end),
    (store_random_in_range, ":var11", "mesh_custom_banner_bg", "mesh_custom_banner_charge_01"),
    (val_sub, ":var11", "mesh_custom_banner_bg"),
    (troop_set_slot, ":var0", 91, ":var11"),
    (store_random_in_range, ":var12", "mesh_custom_banner_01", "mesh_custom_banner_bg"),
    (val_sub, ":var12", "mesh_custom_banner_01"),
    (troop_set_slot, ":var0", 96, ":var12"),
    (store_random_in_range, ":var13", 0, 4),
    (troop_set_slot, ":var0", 98, ":var13"),
  ]),

  ("get_custom_banner_color_from_index",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 4278190080),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (store_mod, ":var5", ":var0", 7),
    (try_begin),
      (eq, ":var5", 0),
      (assign, ":var4", 255),
    (else_try),
      (eq, ":var5", 1),
      (assign, ":var2", 238),
    (else_try),
      (eq, ":var5", 2),
      (assign, ":var2", 251),
      (assign, ":var3", 172),
    (else_try),
      (eq, ":var5", 3),
      (assign, ":var2", 95),
      (assign, ":var4", 255),
    (else_try),
      (eq, ":var5", 4),
      (assign, ":var2", 5),
      (assign, ":var3", 68),
    (else_try),
      (eq, ":var5", 5),
      (assign, ":var2", 238),
      (assign, ":var3", 238),
      (assign, ":var4", 238),
    (else_try),
      (assign, ":var2", 34),
      (assign, ":var3", 34),
      (assign, ":var4", 34),
    (try_end),
    (store_div, ":var6", ":var0", 7),
    (store_sub, ":var6", 8, ":var6"),
    (val_mul, ":var2", ":var6"),
    (val_div, ":var2", 8),
    (val_mul, ":var3", ":var6"),
    (val_div, ":var3", 8),
    (val_mul, ":var4", ":var6"),
    (val_div, ":var4", 8),
    (val_mul, ":var3", 256),
    (val_mul, ":var2", 65536),
    (val_add, ":var1", ":var4"),
    (val_add, ":var1", ":var3"),
    (val_add, ":var1", ":var2"),
    (assign, reg0, ":var1"),
  ]),

  ("cf_check_color_visibility",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_mod, ":var2", ":var0", 256),
    (store_div, ":var3", ":var0", 256),
    (val_mod, ":var3", 256),
    (store_div, ":var4", ":var0", 65536),
    (val_mod, ":var4", 256),
    (store_mod, ":var5", ":var1", 256),
    (store_div, ":var6", ":var1", 256),
    (val_mod, ":var6", 256),
    (store_div, ":var7", ":var1", 65536),
    (val_mod, ":var7", 256),
    (store_sub, ":var8", ":var4", ":var7"),
    (val_abs, ":var8"),
    (store_sub, ":var9", ":var3", ":var6"),
    (val_abs, ":var9"),
    (store_sub, ":var10", ":var2", ":var5"),
    (val_abs, ":var10"),
    (assign, ":var11", 0),
    (val_max, ":var11", ":var8"),
    (val_max, ":var11", ":var9"),
    (val_max, ":var11", ":var10"),
    (ge, ":var11", 64),
  ]),

  ("get_next_active_kingdom",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", "fac_kingdoms_end"),
    (try_for_range, ":var2", "fac_player_supporters_faction", ":var1"),
      (val_add, ":var0", 1),
      (try_begin),
        (ge, ":var0", "fac_kingdoms_end"),
        (assign, ":var0", "fac_player_supporters_faction"),
      (try_end),
      (faction_slot_eq, ":var0", 21, 0),
      (neg|faction_slot_eq, ":var0", 11, "trp_player"),
      (assign, ":var1", 0),
    (try_end),
    (assign, reg0, ":var0"),
  ]),

  ("remove_cattles_if_herd_is_close_to_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", ":var1"),
    (try_for_parties, ":var3"),
      (gt, ":var2", 0),
      (party_slot_eq, ":var3", 0, 17),
      (store_distance_to_party_from_party, ":var4", ":var3", ":var0"),
      (lt, ":var4", 3),
      (assign, ":var5", 1),
      (try_begin),
        (check_quest_active, "qst_move_cattle_herd"),
        (quest_slot_eq, "qst_move_cattle_herd", 8, ":var3"),
        (assign, ":var5", 0),
      (try_end),
      (eq, ":var5", 1),
      (party_count_companions_of_type, ":var6", ":var3", "trp_cattle"),
      (try_begin),
        (le, ":var6", ":var2"),
        (assign, ":var7", ":var6"),
        (remove_party, ":var3"),
      (else_try),
        (assign, ":var7", ":var2"),
        (party_remove_members, ":var3", "trp_cattle", ":var2"),
      (try_end),
      (val_sub, ":var2", ":var7"),
      (try_begin),
        (party_slot_eq, ":var0", 0, 4),
        (party_get_slot, ":var8", ":var0", 205),
        (val_add, ":var8", ":var7"),
        (party_set_slot, ":var0", 205, ":var8"),
      (try_end),
      (assign, reg3, ":var7"),
      (str_store_party_name_link, s1, ":var0"),
      (display_message, "@You brought {reg3} heads of cattle to {s1}.", 0x66CCFF),
      (try_begin),
        (gt, "$cheat_mode", 0),
        (assign, reg4, ":var8"),
        (display_message, "@{!}Village now has {reg4}"),
      (try_end),
    (try_end),
    (store_sub, reg0, ":var1", ":var2"),
  ]),

  ("get_rumor_to_s61",
  [
    (store_script_param, ":var0", 1),
    (store_current_hours, ":var1"),
    (store_div, ":var2", ":var1", 24),
    (assign, ":var3", 0),
    (assign, ":var4", 3),
    (try_for_range, ":var5", 0, ":var4"),
      (store_mul, ":var6", ":var5", 6781),
      (val_add, ":var6", ":var0"),
      (store_mod, ":var7", ":var6", 7),
      (val_add, ":var6", ":var1"),
      (try_begin),
        (eq, ":var7", 0),
        (try_begin),
          (store_sub, ":var8", "p_castle_1_1", "p_town_1_1"),
          (store_mod, ":var9", ":var6", ":var8"),
          (val_add, ":var9", "p_town_1_1"),
          (party_slot_ge, ":var9", 156, 1),
          (neq, ":var9", "$current_town"),
          (str_store_party_name, s62, ":var9"),
          (str_store_string, s61, "@I heard that there will be a tournament in {s62} soon."),
          (assign, ":var3", 1),
        (try_end),
      (else_try),
        (eq, ":var7", 1),
        (try_begin),
          (store_sub, ":var8", "trp_knight_1_1_wife", "trp_kingdom_1_lord"),
          (store_mod, ":var10", ":var6", ":var8"),
          (val_add, ":var10", "trp_kingdom_1_lord"),
          (is_between, ":var10", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_get_slot, ":var11", ":var10", 52),
          (gt, ":var11", 0),
          (store_add, ":var12", ":var11", "str_gossip_about_character_default"),
          (str_store_troop_name, s6, ":var10"),
          (str_store_string, s61, ":var12"),
          (assign, ":var3", 1),
        (try_end),
      (else_try),
        (eq, ":var7", 2),
        (try_begin),
          (store_sub, ":var8", "itm_siege_supply", "itm_spice"),
          (store_add, ":var13", ":var6", ":var2"),
          (store_mod, ":var13", ":var13", ":var8"),
          (store_add, ":var14", ":var13", 310),
          (val_add, ":var13", "itm_spice"),
          (store_mul, ":var15", 1000, 3),
          (val_div, ":var15", 4),
          (assign, ":var16", -1),
          (try_for_range, ":var17", 0, 10),
            (store_sub, ":var8", "p_castle_1_1", "p_town_1_1"),
            (store_add, ":var18", ":var6", ":var17"),
            (store_mod, ":var9", ":var18", ":var8"),
            (val_add, ":var9", "p_town_1_1"),
            (neq, ":var9", "$g_encountered_party"),
            (party_get_slot, ":var19", ":var9", ":var14"),
            (lt, ":var19", ":var15"),
            (assign, ":var15", ":var19"),
            (assign, ":var16", ":var9"),
          (try_end),
          (ge, ":var16", 0),
          (str_store_item_name, s62, ":var13"),
          (str_store_party_name, s63, ":var16"),
          (str_store_string, s61, "@I heard that one can buy {s62} very cheap at {s63}."),
          (assign, ":var3", 1),
        (try_end),
      (else_try),
        (eq, ":var7", 3),
        (try_begin),
          (store_sub, ":var8", "itm_siege_supply", "itm_spice"),
          (store_add, ":var13", ":var6", ":var2"),
          (store_mod, ":var13", ":var13", ":var8"),
          (store_add, ":var14", ":var13", 310),
          (val_add, ":var13", "itm_spice"),
          (store_mul, ":var20", 1000, 5),
          (val_div, ":var20", 4),
          (assign, ":var21", -1),
          (try_for_range, ":var17", 0, 10),
            (store_sub, ":var8", "p_castle_1_1", "p_town_1_1"),
            (store_add, ":var18", ":var6", ":var17"),
            (store_mod, ":var9", ":var18", ":var8"),
            (val_add, ":var9", "p_town_1_1"),
            (neq, ":var9", "$g_encountered_party"),
            (party_get_slot, ":var19", ":var9", ":var14"),
            (gt, ":var19", ":var20"),
            (assign, ":var20", ":var19"),
            (assign, ":var21", ":var9"),
          (try_end),
          (ge, ":var21", 0),
          (str_store_item_name, s62, ":var13"),
          (str_store_party_name, s63, ":var21"),
          (str_store_string, s61, "@I heard that they pay a very high price for {s62} at {s63}."),
          (assign, ":var3", 1),
        (try_end),
      (try_end),
      (try_begin),
        (gt, ":var3", 0),
        (assign, ":var4", 0),
      (try_end),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("lord_comment_to_s43",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 52),
    (try_begin),
      (try_begin),
        (eq, ":var2", 8),
        (assign, ":var2", 6),
      (else_try),
        (eq, ":var2", 10),
        (assign, ":var2", 4),
      (else_try),
        (eq, ":var2", 9),
        (assign, ":var2", 6),
      (try_end),
    (try_end),
    (store_add, ":var3", ":var2", ":var1"),
    (str_store_string, s43, ":var3"),
    (assign, reg0, ":var3"),
  ]),

  ("add_log_entry",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (assign, ":var5", -1),
    (assign, ":var6", -1),
    (assign, ":var7", -1),
    (try_begin),
      (eq, ":var0", 76),
      (str_store_troop_name, s20, ":var1"),
      (str_store_troop_name, s21, ":var3"),
      (display_message, "@attacks neutral {s20} {s21}"),
    (try_end),
    (try_begin),
      (party_is_active, ":var2", 0),
      (party_get_slot, ":var5", ":var2", 7),
      (store_faction_of_party, ":var6", ":var2"),
    (else_try),
      (assign, ":var5", 0),
      (assign, ":var6", 0),
    (try_end),
    (try_begin),
      (is_between, ":var3", 0, "trp_local_merchant"),
      (store_faction_of_troop, ":var7", ":var3"),
    (else_try),
      (assign, ":var7", 0),
    (try_end),
    (val_add, "$num_log_entries", 1),
    (store_current_hours, ":var8"),
    (troop_set_slot, "trp_log_array_entry_type", "$num_log_entries", ":var0"),
    (troop_set_slot, "trp_log_array_entry_time", "$num_log_entries", ":var8"),
    (troop_set_slot, "trp_log_array_actor", "$num_log_entries", ":var1"),
    (troop_set_slot, "trp_log_array_center_object", "$num_log_entries", ":var2"),
    (troop_set_slot, "trp_log_array_center_object_lord", "$num_log_entries", ":var5"),
    (troop_set_slot, "trp_log_array_center_object_faction", "$num_log_entries", ":var6"),
    (troop_set_slot, "trp_log_array_troop_object", "$num_log_entries", ":var3"),
    (troop_set_slot, "trp_log_array_troop_object_faction", "$num_log_entries", ":var7"),
    (troop_set_slot, "trp_log_array_faction_object", "$num_log_entries", ":var4"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg3, "$num_log_entries"),
      (assign, reg4, ":var0"),
      (display_message, "@{!}Log entry {reg3}: type {reg4}"),
      (try_begin),
        (gt, ":var2", 0),
        (neq, ":var0", 3),
        (neq, ":var0", 5),
        (party_is_active, ":var2"),
        (str_store_party_name, s4, ":var2"),
        (display_message, "@{!}Center: {s4}"),
      (try_end),
      (try_begin),
        (gt, ":var3", 0),
        (neq, ":var0", 3),
        (neq, ":var0", 5),
        (str_store_troop_name, s4, ":var3"),
        (display_message, "@{!}Troop: {s4}"),
      (try_end),
      (try_begin),
        (gt, ":var5", 0),
        (neq, ":var0", 3),
        (neq, ":var0", 5),
        (str_store_troop_name, s4, ":var5"),
        (display_message, "@{!}Lord: {s4}"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var0", 11),
      (this_or_next|eq, ":var0", 19),
      (eq, ":var0", 18),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}Ally party is present"),
      (try_end),
      (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var9", 166, 1),
        (party_count_companions_of_type, ":var10", "p_collective_friends", ":var9"),
        (gt, ":var10", 0),
        (try_begin),
          (this_or_next|eq, ":var0", 19),
          (eq, ":var0", 18),
          (try_begin),
            (neg|is_between, ":var9", "trp_npc1", "trp_kingdom_1_lord"),
            (call_script, "script_change_player_relation_with_troop", ":var9", 1),
          (else_try),
            (faction_slot_eq, "fac_player_supporters_faction", 21, 0),
            (call_script, "script_change_player_relation_with_troop", ":var9", 1),
          (try_end),
        (else_try),
          (troop_set_slot, ":var9", 9, "$num_log_entries"),
        (try_end),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var9"),
          (display_message, "@{!}{s4} is present at event"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("get_relevant_comment_for_log_entry",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", "trp_log_array_entry_type", ":var0"),
    (troop_get_slot, ":var2", "trp_log_array_entry_time", ":var0"),
    (troop_get_slot, ":var3", "trp_log_array_actor", ":var0"),
    (troop_get_slot, ":var4", "trp_log_array_center_object", ":var0"),
    (troop_get_slot, ":var5", "trp_log_array_center_object_lord", ":var0"),
    (troop_get_slot, ":var6", "trp_log_array_center_object_faction", ":var0"),
    (troop_get_slot, ":var7", "trp_log_array_troop_object", ":var0"),
    (troop_get_slot, ":var8", "trp_log_array_troop_object_faction", ":var0"),
    (troop_get_slot, ":var9", "trp_log_array_faction_object", ":var0"),
    (assign, ":var10", 0),
    (assign, ":var11", -1),
    (assign, ":var12", -1),
    (assign, ":var13", 0),
    (troop_get_slot, ":var14", "$g_talk_troop", 52),
    (store_current_hours, ":var15"),
    (store_sub, ":var16", ":var15", ":var2"),
    (assign, ":var17", 0),
    (try_begin),
      (gt, "$players_kingdom", 0),
      (store_relation, ":var17", "$players_kingdom", ":var8"),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", -1),
      (try_begin),
        (assign, reg5, ":var0"),
        (assign, reg6, ":var1"),
        (assign, reg8, ":var2"),
        (gt, "$players_kingdom", 0),
        (try_begin),
          (gt, ":var8", 0),
          (assign, reg7, ":var17"),
          (display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}: player's kingdom relation to troop object = {reg7}"),
        (else_try),
          (gt, ":var6", 0),
          (assign, reg7, ":var17"),
          (display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}: player's kingdom relation to center object faction = {reg7}"),
        (else_try),
          (gt, ":var9", 0),
          (assign, reg7, ":var17"),
          (display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}: player's kingdom relation to faction object = {reg7}"),
        (else_try),
          (display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}. No relevant kingdom relation"),
        (try_end),
      (else_try),
        (display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}. Player unaffiliated"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var1", 45),
      (eq, "$g_talk_troop_met", 0),
      (is_between, "$g_talk_troop_faction_relation", -5, 5),
      (is_between, "$g_talk_troop_relation", -5, 5),
      (assign, ":var10", 25),
      (troop_get_slot, ":var18", "trp_player", 7),
      (troop_get_slot, ":var19", "trp_player", 13),
      (store_random_in_range, ":var20", 100, 200),
      (try_begin),
        (eq, ":var14", 0),
        (gt, "$players_kingdom", 0),
        (assign, ":var11", "str_comment_intro_liege_affiliated"),
        (try_begin),
          (eq, "$g_player_cur_role", 6),
          (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
          (assign, ":var11", "str_comment_intro_liege_affiliated_to_player"),
        (try_end),
      (else_try),
        (eq, "$character_gender", 1),
        (call_script, "script_troop_get_romantic_chemistry_with_troop", "$g_talk_troop", "trp_player"),
        (assign, ":var21", reg0),
        (store_random_in_range, ":var22", 0, 2),
        (this_or_next|eq, ":var22", 0),
        (gt, ":var21", 10),
        (try_begin),
          (this_or_next|gt, ":var18", ":var20"),
          (eq, "$g_disable_condescending_comments", 1),
          (assign, ":var11", "str_comment_intro_female_famous_liege"),
          (val_add, ":var11", ":var14"),
        (else_try),
          (ge, ":var21", 9),
          (assign, ":var11", "str_comment_intro_female_admiring_liege"),
          (val_add, ":var11", ":var14"),
        (else_try),
          (gt, ":var19", 0),
          (assign, ":var11", "str_comment_intro_female_noble_liege"),
          (val_add, ":var11", ":var14"),
        (else_try),
          (assign, ":var11", "str_comment_intro_female_common_liege"),
          (val_add, ":var11", ":var14"),
        (try_end),
        (try_begin),
          (eq, ":var11", "str_comment_intro_female_common_badtempered"),
          (assign, ":var12", "str_rejoinder_intro_female_common_badtempered"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_noble_pitiless"),
          (assign, ":var12", "str_rejoinder_intro_female_noble_pitiless"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_common_pitiless"),
          (assign, ":var12", "str_rejoinder_intro_female_common_pitiless"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_noble_sadistic"),
          (assign, ":var12", "str_rejoinder_intro_female_noble_sadistic"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_common_sadistic"),
          (assign, ":var12", "str_rejoinder_intro_female_common_sadistic"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_common_upstanding"),
          (assign, ":var12", "str_rejoinder_intro_female_common_upstanding"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_noble_upstanding"),
          (assign, ":var12", "str_rejoinder_intro_female_noble_upstanding"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_common_martial"),
          (assign, ":var12", "str_rejoinder_intro_female_common_martial"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_sadistic_admiring"),
          (assign, ":var12", "str_rejoinder_intro_female_sadistic_admiring"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_badtempered_admiring"),
          (assign, ":var12", "str_rejoinder_intro_female_badtempered_admiring"),
        (else_try),
          (eq, ":var11", "str_comment_intro_female_pitiless_admiring"),
          (assign, ":var12", "str_rejoinder_intro_female_pitiless_admiring"),
        (try_end),
      (else_try),
        (try_begin),
          (gt, ":var18", ":var20"),
          (assign, ":var11", "str_comment_intro_famous_liege"),
          (val_add, ":var11", ":var14"),
        (else_try),
          (gt, ":var19", 0),
          (assign, ":var11", "str_comment_intro_noble_liege"),
          (val_add, ":var11", ":var14"),
          (try_begin),
            (eq, ":var11", "str_comment_intro_noble_sadistic"),
            (assign, ":var12", "str_rejoinder_intro_noble_sadistic"),
          (try_end),
        (else_try),
          (assign, ":var11", "str_comment_intro_common_liege"),
          (val_add, ":var11", ":var14"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 1),
      (eq, ":var3", "trp_player"),
      (try_begin),
        (eq, ":var5", "$g_talk_troop"),
        (assign, ":var10", 200),
        (assign, ":var13", -1),
        (assign, ":var11", "str_comment_you_raided_my_village_default"),
        (try_begin),
          (lt, "$g_talk_troop_faction_relation", -5),
          (this_or_next|eq, ":var14", 6),
          (eq, ":var14", 7),
          (assign, ":var11", "str_comment_you_raided_my_village_enemy_benevolent"),
        (else_try),
          (lt, "$g_talk_troop_faction_relation", -5),
          (this_or_next|eq, ":var14", 4),
          (eq, ":var14", 3),
          (assign, ":var11", "str_comment_you_raided_my_village_enemy_coldblooded"),
        (else_try),
          (lt, "$g_talk_troop_faction_relation", -5),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_you_raided_my_village_enemy_spiteful"),
        (else_try),
          (lt, "$g_talk_troop_faction_relation", -5),
          (assign, ":var11", "str_comment_you_raided_my_village_enemy"),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_you_raided_my_village_unfriendly_spiteful"),
        (else_try),
          (gt, "$g_talk_troop_relation", 5),
          (assign, ":var11", "str_comment_you_raided_my_village_friendly"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 2),
      (eq, ":var3", "trp_player"),
      (try_begin),
        (eq, ":var5", "$g_talk_troop"),
        (assign, ":var10", 30),
        (assign, ":var13", -1),
        (assign, ":var11", "str_comment_you_robbed_my_village_default"),
        (try_begin),
          (lt, "$g_talk_troop_faction_relation", -5),
          (this_or_next|eq, ":var14", 4),
          (eq, ":var14", 3),
          (assign, ":var11", "str_comment_you_robbed_my_village_enemy_coldblooded"),
        (else_try),
          (lt, "$g_talk_troop_faction_relation", -5),
          (assign, ":var11", "str_comment_you_robbed_my_village_enemy"),
        (else_try),
          (gt, "$g_talk_troop_relation", 5),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_you_robbed_my_village_friendly_spiteful"),
        (else_try),
          (gt, "$g_talk_troop_relation", 5),
          (assign, ":var11", "str_comment_you_robbed_my_village_friendly"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 3),
      (eq, ":var3", "trp_player"),
      (eq, ":var9", "$g_talk_troop_faction"),
      (eq, ":var4", -1),
      (eq, ":var7", -1),
      (faction_slot_eq, "$g_talk_troop_faction", 11, "$g_talk_troop"),
      (assign, ":var10", 30),
      (assign, ":var13", -1),
      (assign, ":var11", "str_comment_you_accosted_my_caravan_default"),
      (try_begin),
        (lt, "$g_talk_troop_faction_relation", -5),
        (assign, ":var11", "str_comment_you_accosted_my_caravan_enemy"),
      (try_end),
    (else_try),
      (eq, ":var1", 4),
      (eq, ":var3", "trp_player"),
      (try_begin),
        (eq, ":var5", "$g_talk_troop"),
        (assign, ":var10", 40),
        (assign, ":var13", 0),
        (try_begin),
          (this_or_next|eq, ":var14", 6),
          (eq, ":var14", 7),
          (assign, ":var11", "str_comment_you_helped_villagers_benevolent"),
          (assign, ":var13", 1),
        (else_try),
          (gt, "$g_talk_troop_relation", 5),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_you_helped_villagers_friendly_cruel"),
          (assign, ":var13", -1),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_you_helped_villagers_unfriendly_spiteful"),
          (assign, ":var13", -1),
        (else_try),
          (gt, "$g_talk_troop_relation", 5),
          (assign, ":var11", "str_comment_you_helped_villagers_friendly"),
        (else_try),
          (this_or_next|eq, ":var14", 3),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_you_helped_villagers_cruel"),
          (assign, ":var13", -1),
        (else_try),
          (assign, ":var11", "str_comment_you_helped_villagers_default"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 10),
      (try_begin),
        (eq, ":var5", "$g_talk_troop"),
        (store_faction_of_party, ":var23", ":var4"),
        (eq, ":var23", "$players_kingdom"),
        (neq, "$g_talk_troop_faction", "$players_kingdom"),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_captured_my_castle_enemy_spiteful"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var5", "$g_talk_troop"),
        (store_faction_of_party, ":var23", ":var4"),
        (eq, ":var23", "$players_kingdom"),
        (neq, "$g_talk_troop_faction", "$players_kingdom"),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 6),
        (assign, ":var11", "str_comment_you_captured_my_castle_enemy_chivalrous"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var5", "$g_talk_troop"),
        (store_faction_of_party, ":var23", ":var4"),
        (eq, ":var23", "$players_kingdom"),
        (neq, "$g_talk_troop_faction", "$players_kingdom"),
        (assign, ":var11", "str_comment_you_captured_my_castle_enemy"),
        (assign, ":var10", 200),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_captured_a_castle_allied_spiteful"),
        (assign, ":var10", 75),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (gt, "$g_talk_troop_relation", 5),
        (assign, ":var11", "str_comment_you_captured_a_castle_allied_friendly"),
        (assign, ":var10", 75),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_captured_a_castle_allied_unfriendly_spiteful"),
        (assign, ":var10", 75),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (lt, "$g_talk_troop_relation", -5),
        (assign, ":var11", "str_comment_you_captured_a_castle_allied_unfriendly"),
        (assign, ":var10", 75),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (assign, ":var11", "str_comment_you_captured_a_castle_allied"),
        (assign, ":var10", 75),
      (try_end),
    (else_try),
      (eq, ":var1", 24),
      (eq, "$players_kingdom", "$g_talk_troop_faction"),
      (faction_slot_eq, "$g_talk_troop_faction", 11, "$g_talk_troop"),
      (assign, ":var11", "str_comment_you_claimed_the_throne_1_player_liege"),
      (assign, ":var10", 500),
      (lt, "$g_talk_troop_relation", -10),
    (else_try),
      (eq, ":var1", 25),
      (eq, "$players_kingdom", "$g_talk_troop_faction"),
      (faction_slot_eq, "$g_talk_troop_faction", 11, "$g_talk_troop"),
      (assign, ":var11", "str_comment_you_claimed_the_throne_2_player_liege"),
      (assign, ":var10", 500),
      (lt, "$g_talk_troop_relation", -10),
    (else_try),
      (eq, ":var1", 22),
      (eq, ":var3", "trp_player"),
      (troop_slot_ge, ":var7", 52, 8),
      (try_begin),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_enfiefed_a_commoner_nasty"),
        (assign, ":var10", 100),
        (assign, ":var13", -3),
      (else_try),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_you_enfiefed_a_commoner_hesitant"),
        (assign, ":var10", 100),
        (assign, ":var13", -2),
      (else_try),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_you_enfiefed_a_commoner_derisive"),
        (assign, ":var10", 100),
        (assign, ":var13", -4),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var1", 11),
      (eq, ":var1", 17),
      (troop_slot_eq, "$g_talk_troop", 9, ":var0"),
      (try_begin),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_we_defeated_a_lord_unfriendly_spiteful"),
        (assign, ":var10", 150),
      (else_try),
        (lt, "$g_talk_troop_relation", -5),
        (assign, ":var11", "str_comment_we_defeated_a_lord_unfriendly"),
        (assign, ":var10", 150),
      (else_try),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_we_defeated_a_lord_cruel"),
        (assign, ":var10", 150),
      (else_try),
        (eq, ":var14", 2),
        (assign, ":var11", "str_comment_we_defeated_a_lord_cruel"),
        (assign, ":var10", 150),
      (else_try),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_we_defeated_a_lord_upstanding"),
        (assign, ":var10", 150),
      (else_try),
        (assign, ":var11", "str_comment_we_defeated_a_lord_default"),
        (assign, ":var10", 150),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var1", 10),
      (eq, ":var1", 18),
      (troop_slot_eq, "$g_talk_troop", 9, ":var0"),
      (try_begin),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_we_fought_in_siege_unfriendly_spiteful"),
        (assign, ":var10", 150),
      (else_try),
        (lt, "$g_talk_troop_relation", -5),
        (assign, ":var11", "str_comment_we_fought_in_siege_unfriendly"),
        (assign, ":var10", 150),
      (else_try),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_we_fought_in_siege_cruel"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (eq, ":var14", 2),
        (assign, ":var11", "str_comment_we_fought_in_siege_quarrelsome"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_we_fought_in_siege_upstanding"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_we_fought_in_siege_default"),
        (assign, ":var10", 150),
        (assign, ":var13", 2),
      (else_try),
        (faction_slot_eq, "$players_kingdom", 11, "$g_talk_troop"),
        (assign, ":var11", "str_comment_we_fought_in_siege_default"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (assign, ":var11", "str_comment_we_fought_in_siege_default"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (try_end),
    (else_try),
      (eq, ":var1", 20),
      (try_begin),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_give_castle_in_my_control"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 6),
        (assign, ":var11", "str_comment_you_give_castle_in_my_control"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_you_give_castle_in_my_control"),
        (assign, ":var10", 200),
      (try_end),
    (else_try),
      (eq, ":var1", 19),
      (troop_slot_eq, "$g_talk_troop", 9, ":var0"),
      (try_begin),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_we_fought_in_major_battle_unfriendly_spiteful"),
        (assign, ":var10", 150),
      (else_try),
        (lt, "$g_talk_troop_relation", -5),
        (assign, ":var11", "str_comment_we_fought_in_major_battle_unfriendly"),
        (assign, ":var10", 150),
      (else_try),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_we_fought_in_major_battle_cruel"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (eq, ":var14", 2),
        (assign, ":var11", "str_comment_we_fought_in_major_battle_cruel"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_we_fought_in_major_battle_upstanding"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (faction_slot_eq, "$players_kingdom", 11, "$g_talk_troop"),
        (assign, ":var11", "str_comment_we_fought_in_major_battle_default"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_we_fought_in_major_battle_default"),
        (assign, ":var10", 150),
        (assign, ":var13", 2),
      (else_try),
        (assign, ":var11", "str_comment_we_fought_in_major_battle_default"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (try_end),
    (else_try),
      (eq, ":var1", 35),
      (try_begin),
        (eq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_player_suggestion_succeeded"),
        (assign, ":var10", 200),
        (assign, ":var13", 3),
      (try_end),
    (else_try),
      (eq, ":var1", 36),
      (try_begin),
        (eq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_player_suggestion_failed"),
        (assign, ":var10", 200),
        (assign, ":var13", -5),
      (try_end),
    (else_try),
      (eq, ":var1", 11),
      (try_begin),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 6),
        (assign, ":var11", "str_comment_you_defeated_me_enemy_chivalrous"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 5),
        (eq, ":var14", 2),
        (assign, ":var11", "str_comment_you_defeated_me_enemy_spiteful"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_you_defeated_me_enemy"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var8", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 7),
        (eq, ":var14", 4),
        (assign, ":var11", "str_comment_you_defeated_my_friend_enemy_pragmatic"),
        (assign, ":var10", 85),
      (else_try),
        (eq, ":var8", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 6),
        (assign, ":var11", "str_comment_you_defeated_my_friend_enemy_chivalrous"),
        (assign, ":var10", 85),
      (else_try),
        (eq, ":var8", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_defeated_my_friend_enemy_spiteful"),
        (assign, ":var10", 85),
      (else_try),
        (eq, ":var8", "$g_talk_troop_faction"),
        (assign, ":var11", "str_comment_you_defeated_my_friend_enemy"),
        (assign, ":var10", 85),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (faction_slot_eq, "$players_kingdom", 11, "$g_talk_troop"),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied_liege"),
        (assign, ":var10", 150),
        (assign, ":var13", 1),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied_unfriendly_spiteful"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied_spiteful"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 7),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied_unfriendly_chivalrous"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied"),
        (assign, ":var10", 65),
      (try_end),
    (else_try),
      (eq, ":var1", 11),
      (try_begin),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 6),
        (assign, ":var11", "str_comment_you_defeated_me_enemy_chivalrous"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 5),
        (eq, ":var14", 2),
        (assign, ":var11", "str_comment_you_defeated_me_enemy_spiteful"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_you_defeated_me_enemy"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var8", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 7),
        (eq, ":var14", 4),
        (assign, ":var11", "str_comment_you_defeated_my_friend_enemy_pragmatic"),
        (assign, ":var10", 85),
      (else_try),
        (eq, ":var8", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 6),
        (assign, ":var11", "str_comment_you_defeated_my_friend_enemy_chivalrous"),
        (assign, ":var10", 85),
      (else_try),
        (eq, ":var8", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_defeated_my_friend_enemy_spiteful"),
        (assign, ":var10", 85),
      (else_try),
        (eq, ":var8", "$g_talk_troop_faction"),
        (assign, ":var11", "str_comment_you_defeated_my_friend_enemy"),
        (assign, ":var10", 85),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (faction_slot_eq, "$players_kingdom", 11, "$g_talk_troop"),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied_liege"),
        (assign, ":var10", 70),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied_unfriendly_spiteful"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied_spiteful"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 7),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied_unfriendly_chivalrous"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (assign, ":var11", "str_comment_you_defeated_a_lord_allied"),
        (assign, ":var10", 65),
      (try_end),
    (else_try),
      (eq, ":var1", 17),
      (neq, ":var7", "$g_talk_troop"),
      (eq, ":var8", "$g_talk_troop_faction"),
      (try_begin),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 7),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_you_helped_my_ally_unfriendly_chivalrous"),
        (assign, ":var10", 65),
        (assign, ":var13", 2),
      (else_try),
        (lt, "$g_talk_troop_relation", -5),
        (assign, ":var11", "str_comment_you_helped_my_ally_unfriendly"),
        (assign, ":var10", 0),
      (else_try),
        (eq, ":var14", 0),
        (assign, ":var11", "str_comment_you_helped_my_ally_liege"),
        (assign, ":var10", 65),
        (assign, ":var13", 3),
      (else_try),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_helped_my_ally_unfriendly_spiteful"),
        (assign, ":var10", 65),
      (else_try),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_helped_my_ally_spiteful"),
        (assign, ":var10", 65),
      (else_try),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_you_helped_my_ally_chivalrous"),
        (assign, ":var10", 65),
        (assign, ":var13", 2),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_you_helped_my_ally_default"),
      (try_end),
    (else_try),
      (eq, ":var1", 14),
      (troop_slot_eq, "$g_talk_troop", 9, ":var0"),
      (try_begin),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_we_were_defeated_unfriendly_spiteful"),
        (assign, ":var10", 150),
      (else_try),
        (lt, "$g_talk_troop_relation", -5),
        (assign, ":var11", "str_comment_we_were_defeated_unfriendly"),
        (assign, ":var10", 150),
      (else_try),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_we_were_defeated_cruel"),
        (assign, ":var10", 150),
      (else_try),
        (assign, ":var11", "str_comment_we_were_defeated_default"),
        (assign, ":var10", 150),
      (try_end),
    (else_try),
      (eq, ":var1", 14),
      (try_begin),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_i_defeated_you_enemy_spiteful"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_i_defeated_you_enemy_chivalrous"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 6),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_i_defeated_you_enemy_benevolent"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 4),
        (assign, ":var11", "str_comment_i_defeated_you_enemy_coldblooded"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_i_defeated_you_enemy"),
        (assign, ":var10", 200),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_i_defeated_you_enemy"),
        (assign, ":var10", 200),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (gt, "$g_talk_troop_relation", 5),
        (assign, ":var11", "str_comment_you_were_defeated_allied_friendly_spiteful"),
        (assign, ":var10", 80),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 5),
        (lt, "$g_talk_troop_relation", -5),
        (assign, ":var11", "str_comment_you_were_defeated_allied_unfriendly_cruel"),
        (assign, ":var10", 80),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (le, "$g_talk_troop_relation", 5),
        (assign, ":var11", "str_comment_you_were_defeated_allied_spiteful"),
        (assign, ":var10", 80),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (eq, ":var14", 3),
        (assign, ":var11", "str_comment_you_were_defeated_allied_pitiless"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (eq, ":var14", 7),
        (lt, "$g_talk_troop_relation", -15),
        (assign, ":var11", "str_comment_you_were_defeated_allied_unfriendly_upstanding"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, "$g_talk_troop_relation", -10),
        (assign, ":var11", "str_comment_you_were_defeated_allied_unfriendly"),
        (assign, ":var10", 65),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (assign, ":var11", "str_comment_you_were_defeated_allied"),
        (assign, ":var10", 65),
      (try_end),
    (else_try),
      (eq, ":var1", 15),
      (troop_slot_eq, "$g_talk_troop", 9, ":var0"),
      (try_begin),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_abandoned_us_unfriendly_spiteful"),
        (assign, ":var10", 150),
        (assign, ":var13", -5),
      (else_try),
        (lt, "$g_talk_troop_relation", -5),
        (eq, ":var14", 3),
        (assign, ":var11", "str_comment_you_abandoned_us_unfriendly_pitiless"),
        (assign, ":var10", 150),
        (assign, ":var13", -5),
      (else_try),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_abandoned_us_spiteful"),
        (assign, ":var13", -5),
      (else_try),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_you_abandoned_us_chivalrous"),
        (assign, ":var10", 150),
        (assign, ":var13", -2),
      (else_try),
        (this_or_next|eq, ":var14", 7),
        (eq, ":var14", 6),
        (assign, ":var11", "str_comment_you_abandoned_us_benefitofdoubt"),
        (assign, ":var10", 150),
        (assign, ":var13", -1),
      (else_try),
        (assign, ":var11", "str_comment_you_abandoned_us_default"),
        (assign, ":var10", 150),
        (assign, ":var13", -2),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var1", 15),
      (eq, ":var1", 16),
      (eq, ":var7", "$g_talk_troop"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (assign, reg7, ":var16"),
        (display_message, "@{!}Elapsed hours: {reg7}"),
      (try_end),
      (gt, ":var16", 2),
      (try_begin),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_ran_from_me_enemy_spiteful"),
        (assign, ":var10", 25),
      (else_try),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_you_ran_from_me_enemy_chivalrous"),
        (assign, ":var10", 25),
      (else_try),
        (this_or_next|eq, ":var14", 6),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_you_ran_from_me_enemy_benevolent"),
        (assign, ":var10", 25),
      (else_try),
        (eq, ":var14", 4),
        (assign, ":var11", "str_comment_you_ran_from_me_enemy_coldblooded"),
        (assign, ":var10", 25),
      (else_try),
        (assign, ":var11", "str_comment_you_ran_from_me_enemy"),
        (assign, ":var10", 25),
      (try_end),
    (else_try),
      (eq, ":var1", 16),
      (try_begin),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (neq, ":var7", "$g_talk_troop"),
        (lt, "$g_talk_troop_relation", 5),
        (eq, ":var14", 1),
        (assign, ":var11", "str_comment_you_ran_from_foe_allied_chivalrous"),
        (assign, ":var10", 80),
        (assign, ":var13", -3),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (neq, ":var7", "$g_talk_troop"),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_you_ran_from_foe_allied_upstanding"),
        (assign, ":var10", 80),
        (assign, ":var13", -1),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (neq, ":var7", "$g_talk_troop"),
        (lt, "$g_talk_troop_relation", 5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_ran_from_foe_allied_spiteful"),
        (assign, ":var10", 80),
      (try_end),
    (else_try),
      (eq, ":var1", 13),
      (try_begin),
        (eq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_let_me_go_spiteful"),
        (assign, ":var10", 300),
        (assign, ":var13", -15),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (ge, "$g_talk_troop_faction_relation", 0),
        (assign, ":var11", "str_comment_you_let_me_go_default"),
        (assign, ":var10", 300),
        (assign, ":var13", 2),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (lt, "$g_talk_troop_faction_relation", 0),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 7),
        (assign, ":var13", 5),
        (assign, ":var10", 300),
        (assign, ":var11", "str_comment_you_let_me_go_enemy_chivalrous"),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (lt, "$g_talk_troop_faction_relation", 0),
        (this_or_next|eq, ":var14", 3),
        (eq, ":var14", 4),
        (assign, ":var10", 300),
        (assign, ":var11", "str_comment_you_let_me_go_enemy_coldblooded"),
      (else_try),
        (eq, ":var7", "$g_talk_troop"),
        (lt, "$g_talk_troop_faction_relation", 0),
        (assign, ":var10", 300),
        (assign, ":var11", "str_comment_you_let_me_go_enemy"),
        (assign, ":var13", 1),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (neq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 1),
        (eq, ":var14", 6),
        (assign, ":var11", "str_comment_you_let_go_a_lord_allied_chivalrous"),
        (assign, ":var10", 80),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (neq, ":var7", "$g_talk_troop"),
        (eq, ":var14", 7),
        (assign, ":var11", "str_comment_you_let_go_a_lord_allied_upstanding"),
        (assign, ":var10", 80),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (neq, ":var7", "$g_talk_troop"),
        (this_or_next|eq, ":var14", 4),
        (eq, ":var14", 3),
        (assign, ":var11", "str_comment_you_let_go_a_lord_allied_coldblooded"),
        (assign, ":var10", 80),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (neq, ":var7", "$g_talk_troop"),
        (lt, "$g_talk_troop_relation", -5),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_you_let_go_a_lord_allied_unfriendly_spiteful"),
        (assign, ":var10", 80),
      (else_try),
        (eq, "$players_kingdom", "$g_talk_troop_faction"),
        (lt, ":var17", 0),
        (neq, ":var7", "$g_talk_troop"),
        (assign, ":var11", "str_comment_you_let_go_a_lord_allied"),
        (assign, ":var10", 80),
      (try_end),
    (else_try),
      (eq, ":var1", 21),
      (eq, ":var3", "trp_player"),
      (try_begin),
        (eq, ":var9", "$g_talk_troop_faction"),
        (neq, ":var7", "$g_talk_troop"),
        (eq, ":var9", "$players_kingdom"),
        (assign, ":var10", 200),
        (try_begin),
          (lt, "$g_talk_troop_relation", -5),
          (eq, ":var14", 1),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_martial_unfriendly"),
        (else_try),
          (eq, ":var14", 1),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_martial"),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (eq, ":var14", 2),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_quarrelsome_unfriendly"),
        (else_try),
          (eq, ":var14", 2),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_quarrelsome"),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (eq, ":var14", 3),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_selfrighteous_unfriendly"),
        (else_try),
          (eq, ":var14", 3),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_selfrighteous"),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (eq, ":var14", 4),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_cunning_unfriendly"),
        (else_try),
          (eq, ":var14", 4),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_cunning"),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_debauched_unfriendly"),
        (else_try),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_debauched"),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (eq, ":var14", 6),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_goodnatured_unfriendly"),
        (else_try),
          (eq, ":var14", 6),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_goodnatured"),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (eq, ":var14", 7),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_upstanding_unfriendly"),
        (else_try),
          (eq, ":var14", 7),
          (assign, ":var11", "str_comment_pledged_allegiance_allied_upstanding"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 22),
      (eq, ":var7", "trp_player"),
      (try_begin),
        (eq, ":var9", "$g_talk_troop_faction"),
        (neq, ":var3", "$g_talk_troop"),
        (eq, ":var9", "$players_kingdom"),
        (assign, ":var10", 110),
        (try_begin),
          (gt, "$g_talk_troop_relation", 5),
          (this_or_next|eq, ":var14", 3),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_our_king_granted_you_a_fief_allied_friendly_cruel"),
        (else_try),
          (gt, "$g_talk_troop_relation", 5),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 4),
          (assign, ":var11", "str_comment_our_king_granted_you_a_fief_allied_friendly_cynical"),
        (else_try),
          (gt, "$g_talk_troop_relation", 5),
          (assign, ":var11", "str_comment_our_king_granted_you_a_fief_allied_friendly"),
        (else_try),
          (is_between, "$g_talk_troop_relation", -5, 5),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_our_king_granted_you_a_fief_allied_spiteful"),
          (assign, ":var13", -2),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (eq, ":var14", 7),
          (assign, ":var11", "str_comment_our_king_granted_you_a_fief_allied_unfriendly_upstanding"),
        (else_try),
          (lt, "$g_talk_troop_relation", -5),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_our_king_granted_you_a_fief_allied_unfriendly_spiteful"),
        (else_try),
          (assign, ":var11", "str_comment_our_king_granted_you_a_fief_allied"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 23),
      (eq, ":var3", "trp_player"),
      (try_begin),
        (eq, ":var9", "$g_talk_troop_faction"),
        (neq, ":var7", "$g_talk_troop"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (neq, "$g_talk_troop_faction", "$players_kingdom"),
          (assign, ":var10", 180),
          (try_begin),
            (gt, "$g_talk_troop_relation", 5),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_friendly"),
          (else_try),
            (ge, "$g_talk_troop_relation", 0),
            (eq, ":var14", 6),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_friendly"),
          (else_try),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_default"),
          (try_end),
        (else_try),
          (lt, "$g_talk_troop_faction_relation", 0),
          (assign, ":var10", 300),
          (try_begin),
            (ge, "$g_talk_troop_relation", 0),
            (this_or_next|eq, ":var14", 3),
            (eq, ":var14", 5),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_unfriendly_moralizing"),
          (else_try),
            (gt, "$g_talk_troop_relation", 5),
            (this_or_next|eq, ":var14", 6),
            (eq, ":var14", 7),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_enemy_friendly"),
          (else_try),
            (gt, "$g_talk_troop_relation", 5),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_enemy"),
          (else_try),
            (is_between, "$g_talk_troop_relation", -5, 5),
            (this_or_next|eq, ":var14", 2),
            (eq, ":var14", 5),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_unfriendly_spiteful"),
            (assign, ":var13", -2),
          (else_try),
            (lt, "$g_talk_troop_relation", -5),
            (this_or_next|eq, ":var14", 2),
            (this_or_next|eq, ":var14", 3),
            (eq, ":var14", 5),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_unfriendly_spiteful"),
          (else_try),
            (assign, ":var11", "str_comment_you_renounced_your_alliegance_default"),
          (try_end),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 56),
      (eq, ":var7", "trp_player"),
      (try_begin),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (lt, "$g_talk_troop_relation", -5),
        (assign, ":var10", 200),
        (assign, ":var11", "str_comment_marriage_normal_nasty"),
      (else_try),
        (call_script, "script_troop_get_family_relation_to_troop", ":var3", "$g_talk_troop"),
        (ge, reg0, 5),
        (assign, ":var11", "str_comment_marriage_normal_family"),
        (assign, ":var10", 300),
        (assign, ":var13", reg0),
        (val_div, ":var13", 3),
      (else_try),
        (store_faction_of_troop, ":var24", ":var3"),
        (eq, ":var24", "$g_talk_troop_faction"),
        (assign, ":var11", "str_comment_marriage_normal"),
        (assign, ":var10", 100),
      (try_end),
    (else_try),
      (eq, ":var1", 57),
      (eq, ":var7", "trp_player"),
      (try_begin),
        (call_script, "script_troop_get_family_relation_to_troop", ":var3", "$g_talk_troop"),
        (ge, reg0, 5),
        (assign, ":var11", "str_comment_marriage_elopement_family"),
        (assign, ":var10", 300),
        (store_sub, ":var13", 0, reg0),
        (val_div, ":var13", 3),
      (else_try),
        (store_faction_of_troop, ":var24", ":var3"),
        (eq, ":var24", "$g_talk_troop_faction"),
        (faction_slot_eq, ":var24", 11, "$g_talk_troop"),
        (assign, ":var11", "str_comment_marriage_elopement_liege"),
        (assign, ":var10", 300),
        (assign, ":var13", -10),
      (try_end),
    (else_try),
      (eq, ":var1", 31),
      (eq, ":var3", "$g_talk_troop"),
      (eq, ":var4", "trp_player"),
      (neg|troop_slot_ge, ":var7", 30, "trp_player"),
      (str_store_troop_name, s54, ":var7"),
      (try_begin),
        (this_or_next|eq, ":var14", 3),
        (this_or_next|eq, ":var14", 2),
        (eq, ":var14", 5),
        (assign, ":var11", "str_comment_i_quarreled_with_you_over_woman_derisive"),
        (assign, ":var10", 200),
        (assign, ":var13", -20),
      (else_try),
        (assign, ":var11", "str_comment_i_quarreled_with_you_over_woman_default"),
        (assign, ":var10", 200),
        (assign, ":var13", -20),
      (try_end),
    (else_try),
      (eq, ":var1", 77),
      (eq, ":var3", "trp_player"),
      (faction_slot_eq, ":var9", 11, "$g_talk_troop"),
      (eq, "$players_kingdom", ":var9"),
      (assign, ":var13", -10),
      (assign, ":var11", "str_comment_you_broke_truce_as_my_vassal"),
      (assign, ":var10", 300),
    (else_try),
      (eq, ":var1", 76),
      (eq, ":var3", "trp_player"),
      (faction_slot_eq, ":var9", 11, "$g_talk_troop"),
      (eq, "$players_kingdom", ":var9"),
      (assign, ":var13", -3),
      (assign, ":var11", "str_comment_you_attacked_neutral_as_my_vassal"),
      (assign, ":var10", 200),
    (else_try),
      (eq, ":var1", 27),
      (eq, ":var4", "$g_talk_troop"),
      (str_store_troop_name, s50, ":var3"),
      (str_store_troop_name, s51, ":var4"),
      (str_store_troop_name, s54, ":var7"),
      (assign, ":var11", "str_comment_lord_intervened_against_me"),
      (assign, ":var10", -1),
    (else_try),
      (eq, ":var1", 32),
      (eq, ":var3", "$g_talk_troop"),
      (str_store_troop_name, s51, ":var4"),
      (str_store_troop_name, s54, ":var7"),
      (assign, ":var11", "str_comment_i_protested_marshall_appointment"),
      (assign, ":var10", -1),
    (else_try),
      (eq, ":var1", 33),
      (eq, ":var3", "$g_talk_troop"),
      (str_store_troop_name, s51, ":var4"),
      (str_store_troop_name, s54, ":var7"),
      (str_store_troop_name, s56, ":var9"),
      (assign, ":var11", "str_comment_i_blamed_defeat"),
      (assign, ":var10", -1),
    (else_try),
      (eq, ":var1", 26),
      (eq, ":var3", "$g_talk_troop"),
      (str_store_party_name, s51, ":var4"),
      (str_store_troop_name, s54, ":var7"),
      (str_store_troop_name, s56, ":var9"),
      (assign, ":var11", "str_comment_i_was_entitled_to_fief"),
      (assign, ":var10", -1),
    (else_try),
      (eq, ":var1", 31),
      (eq, ":var3", "$g_talk_troop"),
      (str_store_troop_name, s51, ":var4"),
      (str_store_troop_name, s54, ":var7"),
      (assign, ":var11", "str_comment_i_quarreled_with_troop_over_woman"),
      (assign, ":var10", -1),
    (else_try),
      (eq, ":var1", 31),
      (eq, ":var4", "$g_talk_troop"),
      (str_store_troop_name, s51, ":var3"),
      (str_store_troop_name, s54, ":var7"),
      (assign, ":var11", "str_comment_i_quarreled_with_troop_over_woman"),
      (assign, ":var10", -1),
    (else_try),
      (eq, ":var1", 66),
      (eq, ":var3", "trp_player"),
      (try_begin),
        (eq, ":var5", "$g_talk_troop"),
        (assign, ":var10", 200),
        (assign, ":var13", -1),
        (assign, ":var11", "str_comment_you_stole_cattles_from_my_village_default"),
        (try_begin),
          (lt, "$g_talk_troop_faction_relation", -3),
          (this_or_next|eq, ":var14", 6),
          (eq, ":var14", 7),
          (assign, ":var11", "str_comment_you_stole_cattles_from_my_village_enemy_benevolent"),
        (else_try),
          (lt, "$g_talk_troop_faction_relation", -3),
          (this_or_next|eq, ":var14", 4),
          (eq, ":var14", 3),
          (assign, ":var11", "str_comment_you_stole_cattles_from_my_village_enemy_coldblooded"),
        (else_try),
          (lt, "$g_talk_troop_faction_relation", -3),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_you_stole_cattles_from_my_village_enemy_spiteful"),
        (else_try),
          (lt, "$g_talk_troop_faction_relation", -3),
          (assign, ":var11", "str_comment_you_stole_cattles_from_my_village_enemy"),
        (else_try),
          (lt, "$g_talk_troop_relation", -3),
          (this_or_next|eq, ":var14", 2),
          (eq, ":var14", 5),
          (assign, ":var11", "str_comment_you_stole_cattles_from_my_village_unfriendly_spiteful"),
        (else_try),
          (gt, "$g_talk_troop_relation", 6),
          (assign, ":var11", "str_comment_you_stole_cattles_from_my_village_friendly"),
        (try_end),
      (try_end),
    (try_end),
    (assign, reg0, ":var11"),
    (assign, reg1, ":var10"),
    (assign, reg2, ":var13"),
    (assign, reg3, ":var12"),
  ]),

  ("get_relevant_comment_to_s42",
  [
    (troop_get_slot, ":var0", "$g_talk_troop", 52),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (store_add, ":var1", ":var0", "str_personality_archetypes"),
      (str_store_string, s15, ":var1"),
      (display_message, "@{!}Reputation type: {s15}"),
    (try_end),
    (assign, ":var2", 50),
    (assign, ":var3", -1),
    (assign, ":var4", -1),
    (assign, ":var5", 0),
    (assign, ":var6", -1),
    (assign, ":var7", 0),
    (store_current_hours, ":var8"),
    (troop_get_slot, ":var9", "$g_talk_troop", 29),
    (troop_set_slot, "$g_talk_troop", 29, "$num_log_entries"),
    (store_add, ":var10", "$num_log_entries", 1),
    (try_for_range, ":var11", 1, ":var10"),
      (troop_get_slot, ":var12", "trp_log_array_entry_time", ":var11"),
      (store_sub, ":var13", ":var8", ":var12"),
      (try_begin),
        (le, ":var11", ":var9"),
        (try_begin),
          (eq, ":var11", ":var9"),
          (eq, "$cheat_mode", 1),
          (assign, reg5, ":var11"),
          (display_message, "@{!}Entries up to #{reg5} skipped"),
        (try_end),
      (else_try),
        (call_script, "script_get_relevant_comment_for_log_entry", ":var11"),
        (gt, reg1, 10),
        (assign, ":var14", reg1),
        (assign, ":var15", reg0),
        (assign, ":var16", reg3),
        (store_random_in_range, ":var17", 70, 140),
        (val_mul, ":var14", ":var17"),
        (store_add, ":var18", ":var13", 500),
        (val_mul, ":var14", 1000),
        (val_div, ":var14", ":var18"),
        (try_begin),
          (gt, ":var14", ":var2"),
          (assign, ":var2", ":var14"),
          (assign, ":var3", ":var15"),
          (assign, ":var4", ":var16"),
          (assign, ":var6", ":var11"),
          (assign, ":var7", reg2),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (gt, ":var3", 0),
      (assign, ":var5", 1),
      (troop_get_slot, ":var19", "trp_log_array_actor", ":var6"),
      (troop_get_slot, ":var20", "trp_log_array_center_object", ":var6"),
      (troop_get_slot, ":var21", "trp_log_array_center_object_lord", ":var6"),
      (troop_get_slot, ":var22", "trp_log_array_center_object_faction", ":var6"),
      (troop_get_slot, ":var23", "trp_log_array_troop_object", ":var6"),
      (troop_get_slot, ":var24", "trp_log_array_troop_object_faction", ":var6"),
      (troop_get_slot, ":var25", "trp_log_array_faction_object", ":var6"),
      (try_begin),
        (ge, ":var19", 0),
        (str_store_troop_name, s50, ":var19"),
      (try_end),
      (try_begin),
        (ge, ":var20", 0),
        (str_store_party_name, s51, ":var20"),
      (try_end),
      (try_begin),
        (ge, ":var21", 0),
        (str_store_troop_name, s52, ":var21"),
      (try_end),
      (try_begin),
        (ge, ":var22", 0),
        (str_store_faction_name, s53, ":var22"),
      (try_end),
      (try_begin),
        (ge, ":var23", 0),
        (str_store_troop_name, s54, ":var23"),
      (try_end),
      (try_begin),
        (is_between, ":var24", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (str_store_faction_name, s55, ":var24"),
        (str_store_string, s55, "str_the_s55"),
      (else_try),
        (is_between, ":var23", "trp_bandit", "trp_black_khergit_horseman"),
        (str_store_string, s55, "str_bandits"),
      (else_try),
        (eq, ":var24", "fac_deserters"),
        (str_store_string, s55, "str_deserters"),
      (else_try),
        (str_store_string, s55, "str_travellers_on_the_road"),
      (else_try),
      (try_end),
      (try_begin),
        (ge, ":var25", 0),
        (str_store_faction_name, s56, ":var25"),
      (try_end),
      (assign, "$g_last_comment_copied_to_s42", ":var3"),
      (assign, "$g_rejoinder_to_last_comment", ":var4"),
      (str_store_string, s42, ":var3"),
    (try_end),
    (assign, reg0, ":var5"),
    (assign, "$log_comment_relation_change", ":var7"),
  ]),

  ("merchant_road_info_to_s42",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", -1),
    (str_clear, s32),
    (str_clear, s42),
    (str_clear, s47),
    (try_for_range, ":var5", "p_town_1_1", "p_salt_mine"),
      (party_set_slot, ":var5", 248, 0),
    (try_end),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (try_for_range, ":var8", 0, "$num_log_entries"),
      (store_sub, ":var9", "$num_log_entries", ":var8"),
      (this_or_next|troop_slot_eq, "trp_log_array_entry_type", ":var9", 3),
      (troop_slot_eq, "trp_log_array_entry_type", ":var9", 5),
      (troop_get_slot, ":var10", "trp_log_array_center_object", ":var9"),
      (troop_get_slot, ":var11", "trp_log_array_troop_object", ":var9"),
      (this_or_next|eq, ":var10", ":var0"),
      (eq, ":var11", ":var0"),
      (troop_get_slot, ":var12", "trp_log_array_entry_time", ":var9"),
      (store_current_hours, ":var13"),
      (store_sub, ":var14", ":var13", ":var12"),
      (assign, reg3, ":var14"),
      (lt, ":var14", 672),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (troop_slot_eq, "trp_log_array_entry_type", ":var9", 3),
        (display_message, "str_attack_on_travellers_found_reg3_hours_ago"),
      (else_try),
        (eq, "$cheat_mode", 1),
        (troop_slot_eq, "trp_log_array_entry_type", ":var9", 5),
        (display_message, "str_trade_event_found_reg3_hours_ago"),
      (try_end),
      (try_begin),
        (lt, ":var14", 24),
        (str_store_string, s46, "str_a_short_while_ago"),
      (else_try),
        (lt, ":var14", 48),
        (str_store_string, s46, "str_one_day_ago"),
      (else_try),
        (lt, ":var14", 72),
        (str_store_string, s46, "@two days ago"),
      (else_try),
        (lt, ":var14", 154),
        (str_store_string, s46, "str_earlier_this_week"),
      (else_try),
        (lt, ":var14", 240),
        (str_store_string, s46, "str_about_a_week_ago"),
      (else_try),
        (lt, ":var14", 480),
        (str_store_string, s46, "str_about_two_weeks_ago"),
      (else_try),
        (str_store_string, s46, "str_several_weeks_ago"),
      (try_end),
      (troop_get_slot, ":var15", "trp_log_array_actor", ":var9"),
      (troop_get_slot, ":var16", "trp_log_array_faction_object", ":var9"),
      (str_store_string, s39, "str_unknown_assailants"),
      (assign, ":var17", -1),
      (try_begin),
        (party_is_active, ":var15"),
        (store_faction_of_party, ":var18", ":var15"),
        (eq, ":var16", ":var18"),
        (assign, ":var17", ":var15"),
        (str_store_party_name, s39, ":var17"),
        (assign, "$g_bandit_party_for_bounty", -1),
        (try_begin),
          (eq, ":var16", "fac_kingdom_1"),
          (str_store_string, s39, "str_teutons"),
        (else_try),
          (eq, ":var16", "fac_kingdom_2"),
          (str_store_string, s39, "str_lithuanians"),
        (else_try),
          (eq, ":var16", "fac_kingdom_3"),
          (str_store_string, s39, "str_mongols"),
        (else_try),
          (eq, ":var16", "fac_kingdom_4"),
          (str_store_string, s39, "str_danes"),
        (else_try),
          (eq, ":var16", "fac_kingdom_5"),
          (str_store_string, s39, "str_polish"),
        (else_try),
          (eq, ":var16", "fac_kingdom_6"),
          (str_store_string, s39, "str_hre"),
        (else_try),
          (eq, ":var16", "fac_kingdom_7"),
          (str_store_string, s39, "str_hungarians"),
        (else_try),
          (eq, ":var16", "fac_kingdom_8"),
          (str_store_string, s39, "str_novgorodians"),
        (else_try),
          (eq, ":var16", "fac_kingdom_9"),
          (str_store_string, s39, "str_english"),
        (else_try),
          (eq, ":var16", "fac_kingdom_10"),
          (str_store_string, s39, "str_french"),
        (else_try),
          (eq, ":var16", "fac_kingdom_11"),
          (str_store_string, s39, "str_norwegians"),
        (else_try),
          (eq, ":var16", "fac_kingdom_12"),
          (str_store_string, s39, "str_scots"),
        (else_try),
          (eq, ":var16", "fac_kingdom_13"),
          (str_store_string, s39, "str_irish"),
        (else_try),
          (eq, ":var16", "fac_kingdom_14"),
          (str_store_string, s39, "str_swedes"),
        (else_try),
          (eq, ":var16", "fac_kingdom_15"),
          (str_store_string, s39, "str_galicians"),
        (else_try),
          (eq, ":var16", "fac_kingdom_16"),
          (str_store_string, s39, "str_portugese"),
        (else_try),
          (eq, ":var16", "fac_kingdom_17"),
          (str_store_string, s39, "str_aragonese"),
        (else_try),
          (eq, ":var16", "fac_kingdom_18"),
          (str_store_string, s39, "str_castilans"),
          (eq, ":var16", "fac_kingdom_19"),
          (str_store_string, s39, "str_navarrians"),
        (else_try),
          (eq, ":var16", "fac_kingdom_20"),
          (str_store_string, s39, "str_granadians"),
        (else_try),
          (eq, ":var16", "fac_papacy"),
          (str_store_string, s39, "str_papal"),
        (else_try),
          (eq, ":var16", "fac_kingdom_22"),
          (str_store_string, s39, "str_byzantinians"),
        (else_try),
          (eq, ":var16", "fac_kingdom_23"),
          (str_store_string, s39, "str_jerusalem"),
        (else_try),
          (eq, ":var16", "fac_kingdom_24"),
          (str_store_string, s39, "str_sicilians"),
        (else_try),
          (eq, ":var16", "fac_kingdom_25"),
          (str_store_string, s39, "str_mamluks"),
        (else_try),
          (eq, ":var16", "fac_kingdom_26"),
          (str_store_string, s39, "str_latin"),
        (else_try),
          (eq, ":var16", "fac_kingdom_27"),
          (str_store_string, s39, "str_ilkhanate"),
        (else_try),
          (eq, ":var16", "fac_kingdom_28"),
          (str_store_string, s39, "str_hafsid"),
        (else_try),
          (eq, ":var16", "fac_kingdom_29"),
          (str_store_string, s39, "str_serbian"),
        (else_try),
          (eq, ":var16", "fac_kingdom_30"),
          (str_store_string, s39, "str_bulgarian"),
        (else_try),
          (eq, ":var16", "fac_kingdom_31"),
          (str_store_string, s39, "str_marinid"),
        (else_try),
          (eq, ":var16", "fac_kingdom_32"),
          (str_store_string, s39, "str_venice"),
        (else_try),
          (eq, ":var16", "fac_kingdom_33"),
          (str_store_string, s39, "str_balt"),
        (else_try),
          (eq, ":var16", "fac_kingdom_37"),
          (str_store_string, s39, "str_wales"),
        (else_try),
          (eq, ":var16", "fac_kingdom_38"),
          (str_store_string, s39, "str_genoa"),
        (else_try),
          (eq, ":var16", "fac_kingdom_39"),
          (str_store_string, s39, "str_pisa"),
        (else_try),
          (eq, ":var16", "fac_kingdom_40"),
          (str_store_string, s39, "str_guelph"),
        (else_try),
          (eq, ":var16", "fac_kingdom_41"),
          (str_store_string, s39, "str_ghibeline"),
        (else_try),
          (eq, ":var16", "fac_kingdom_42"),
          (str_store_string, s39, "str_bohemian"),
        (else_try),
          (eq, ":var16", "fac_player_supporters_faction"),
          (str_store_string, s39, "str_your_followers"),
        (else_try),
          (assign, ":var1", ":var17"),
          (assign, ":var2", ":var10"),
          (assign, ":var3", ":var11"),
          (assign, ":var4", ":var14"),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var10", ":var0"),
        (troop_slot_eq, "trp_log_array_entry_type", ":var9", 3),
        (party_slot_eq, ":var11", 248, 0),
        (party_set_slot, ":var11", 248, 1),
        (str_store_party_name, s40, ":var11"),
        (str_store_string, s44, "str_we_have_heard_that_travellers_heading_to_s40_were_attacked_on_the_road_s46_by_s39"),
        (str_store_string, s43, "str_s42"),
        (str_store_string, s42, "str_s43_s44"),
        (val_add, ":var6", 1),
      (else_try),
        (eq, ":var11", ":var0"),
        (troop_slot_eq, "trp_log_array_entry_type", ":var9", 3),
        (party_slot_eq, ":var10", 248, 0),
        (party_set_slot, ":var10", 248, 1),
        (str_store_party_name, s40, ":var10"),
        (str_store_string, s44, "str_we_have_heard_that_travellers_coming_from_s40_were_attacked_on_the_road_s46_by_s39"),
        (str_store_string, s43, "str_s42"),
        (str_store_string, s42, "str_s43_s44"),
        (val_add, ":var6", 1),
      (else_try),
        (eq, ":var11", ":var0"),
        (troop_slot_eq, "trp_log_array_entry_type", ":var9", 5),
        (party_slot_eq, ":var10", 248, 0),
        (party_set_slot, ":var10", 248, 1),
        (str_store_party_name, s40, ":var10"),
        (str_store_string, s44, "str_travellers_coming_from_s40_traded_here_s46"),
        (str_store_string, s43, "str_s42"),
        (str_store_string, s42, "str_s43_s44"),
        (val_add, ":var7", 1),
      (try_end),
    (try_end),
    (try_begin),
      (le, ":var7", 2),
      (eq, ":var6", 0),
      (store_current_hours, ":var19"),
      (lt, ":var19", 168),
      (str_store_string, s42, "str_it_is_still_early_in_the_caravan_season_so_we_have_seen_little_tradings42"),
    (else_try),
      (eq, ":var7", 0),
      (eq, ":var6", 0),
      (str_store_string, s42, "str_there_has_been_very_little_trading_activity_here_recentlys42"),
    (else_try),
      (le, ":var7", 2),
      (eq, ":var6", 0),
      (str_store_string, s42, "str_there_has_some_trading_activity_here_recently_but_not_enoughs42"),
    (else_try),
      (le, ":var7", 2),
      (le, ":var6", 2),
      (str_store_string, s42, "str_there_has_some_trading_activity_here_recently_but_the_roads_are_dangerouss42"),
    (else_try),
      (ge, ":var6", 3),
      (str_store_string, s42, "str_the_roads_around_here_are_very_dangerouss42"),
    (else_try),
      (ge, ":var6", 1),
      (str_store_string, s42, "str_we_have_received_many_traders_in_town_here_although_there_is_some_danger_on_the_roadss42"),
    (else_try),
      (str_store_string, s42, "str_we_have_received_many_traders_in_town_heres42"),
    (try_end),
    (assign, ":var20", 0),
    (try_for_range, ":var21", 190, 205),
      (party_get_slot, ":var22", ":var0", ":var21"),
      (is_between, ":var22", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var22", 248, 0),
      (str_store_party_name, s41, ":var22"),
      (try_begin),
        (eq, ":var20", 1),
        (str_store_string, s44, "str_s44_s41"),
      (else_try),
        (str_store_string, s44, "str_s41"),
      (try_end),
      (assign, ":var20", 1),
    (try_end),
    (try_begin),
      (eq, ":var20", 1),
      (str_store_string, s47, "str_there_is_little_news_about_the_caravan_routes_to_the_towns_of_s44_and_nearby_parts_but_no_news_is_good_news_and_those_are_therefore_considered_safe"),
    (try_end),
    (assign, ":var23", 0),
    (try_for_range, ":var24", "p_village_1_1", "p_salt_mine"),
      (party_slot_eq, ":var24", 121, ":var0"),
      (party_slot_eq, ":var24", 248, 0),
      (str_store_party_name, s41, ":var24"),
      (try_begin),
        (eq, ":var23", 1),
        (str_store_string, s44, "str_s44_s41"),
      (else_try),
        (str_store_string, s44, "str_s41"),
      (try_end),
      (assign, ":var23", 1),
    (try_end),
    (try_begin),
      (eq, ":var23", 1),
      (eq, ":var20", 1),
      (str_store_string, s47, "str_s47_also_the_roads_to_the_villages_of_s44_and_other_outlying_hamlets_are_considered_safe"),
    (else_try),
      (eq, ":var23", 1),
      (str_store_string, s47, "str_however_the_roads_to_the_villages_of_s44_and_other_outlying_hamlets_are_considered_safe"),
    (try_end),
    (str_store_string, s33, "str_we_have_shortages_of"),
    (assign, ":var25", 0),
    (try_for_range, ":var26", "itm_spice", "itm_siege_supply"),
      (store_sub, ":var27", ":var26", "itm_spice"),
      (val_add, ":var27", 310),
      (party_get_slot, ":var28", ":var0", ":var27"),
      (gt, ":var28", 1100),
      (str_store_item_name, s34, ":var26"),
      (assign, reg1, ":var28"),
      (str_store_string, s33, "str_s33_s34_reg1"),
      (assign, ":var25", 1),
    (try_end),
    (try_begin),
      (eq, ":var25", 0),
      (str_store_string, s32, "str_we_have_adequate_stores_of_all_commodities"),
    (else_try),
      (str_store_string, s32, "str_s33_and_some_other_commodities"),
    (try_end),
    (assign, reg0, ":var1"),
    (assign, reg1, ":var2"),
    (assign, reg2, ":var3"),
    (assign, reg3, ":var4"),
  ]),

  ("get_manhunt_information_to_s15",
  [
    (store_script_param, ":var0", 1),
    (str_store_string, s15, "str_the_roads_are_full_of_brigands_friend_but_that_name_in_particular_does_not_sound_familiar_good_hunting_to_you_nonetheless"),
    (quest_get_slot, ":var1", ":var0", 8),
    (try_begin),
      (is_between, "$g_talk_troop", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_get_slot, ":var2", "$g_talk_troop", 10),
    (else_try),
      (gt, "$g_encountered_party", "p_spawn_points_end"),
      (assign, ":var2", "$g_encountered_party"),
    (else_try),
      (assign, ":var2", -1),
    (try_end),
    (try_for_range, ":var3", 0, "$num_log_entries"),
      (gt, ":var2", -1),
      (troop_get_slot, ":var4", "trp_log_array_actor", ":var3"),
      (eq, ":var4", ":var2"),
      (troop_get_slot, ":var5", "trp_log_array_troop_object", ":var3"),
      (eq, ":var5", ":var1"),
      (store_current_hours, ":var6"),
      (troop_get_slot, ":var7", "trp_log_array_entry_time", ":var3"),
      (val_sub, ":var6", ":var7"),
      (try_begin),
        (le, ":var6", 1),
        (str_store_string, s16, "str_less_than_an_hour_ago"),
      (else_try),
        (le, ":var6", 48),
        (assign, reg3, ":var6"),
        (str_store_string, s16, "str_maybe_reg3_hours_ago"),
      (else_try),
        (val_div, ":var6", 24),
        (assign, reg3, ":var6"),
        (str_store_string, s16, "str_reg3_days_ago"),
      (try_end),
      (troop_get_slot, ":var8", "trp_log_array_center_object", ":var3"),
      (str_store_party_name, s17, ":var8"),
      (troop_get_slot, ":var9", "trp_log_array_entry_type", ":var3"),
      (eq, ":var9", 70),
      (str_store_string, s15, "str_youre_in_luck_we_sighted_those_bastards_s16_near_s17_hurry_and_you_might_be_able_to_pick_up_their_trail_while_its_still_hot"),
    (try_end),
  ]),

  ("rebellion_arguments",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (troop_get_slot, ":var5", ":var0", 52),
    (store_faction_of_troop, ":var6", ":var2"),
    (store_faction_of_troop, ":var7", ":var2"),
    (try_begin),
      (eq, ":var2", "trp_player"),
      (assign, ":var8", "$player_right_to_rule"),
    (else_try),
      (is_between, ":var2", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var2", 14, ":var6"),
      (assign, ":var8", 75),
    (else_try),
      (assign, ":var8", 60),
    (try_end),
    (try_begin),
      (eq, ":var1", 1),
      (store_sub, ":var4", ":var8", 30),
    (else_try),
      (eq, ":var1", 2),
      (store_sub, ":var4", "$player_honor", 20),
    (else_try),
      (eq, ":var1", 5),
      (store_sub, ":var4", "$player_honor", 20),
    (else_try),
      (eq, ":var1", 4),
      (assign, ":var4", 0),
      (try_for_range, ":var9", "p_town_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var10", ":var9"),
        (assign, ":var4", -40),
        (try_begin),
          (eq, "$players_kingdom", ":var7"),
          (this_or_next|eq, ":var10", "fac_player_faction"),
          (eq, ":var10", "fac_player_supporters_faction"),
          (val_add, ":var4", 5),
        (else_try),
          (eq, ":var10", ":var7"),
          (val_add, ":var4", 5),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var1", 3),
      (assign, ":var4", 20),
      (try_for_range, ":var11", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var11", 166, 1),
        (store_faction_of_troop, ":var12", ":var11"),
        (neq, ":var0", "$g_talk_troop"),
        (this_or_next|eq, ":var12", "fac_player_supporters_faction"),
        (eq, ":var12", "$players_kingdom"),
        (troop_slot_eq, ":var11", 47, 1),
        (val_sub, ":var4", 20),
      (try_end),
    (try_end),
    (val_clamp, ":var4", -40, 41),
    (try_begin),
      (eq, ":var5", 1),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var3", 30),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_claims_to_the_throne_good_there_is_nothing_id_rather_do_than_fight_for_a_good_cause"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_claims_to_the_throne_well_there_is_nothing_id_rather_do_than_fight_for_a_good_cause_but_the_claim_you_make_seems_somewhat_weak"),
        (try_end),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var3", 10),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_i_am_pleased_that_you_speak_of_upholding_my_ancient_rights_which_are_sometimes_trod_upon_in_these_sorry_days"),
        (else_try),
          (str_store_string, s15, "str_i_am_pleased_that_you_speak_of_upholding_my_ancient_rights_but_sometimes_men_make_pledges_before_they_are_king_which_they_cannot_keep_once_they_take_the_throne"),
        (try_end),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var3", 0),
        (try_begin),
          (str_store_string, s15, "str_you_speak_of_protecting_the_commons_well_i_supposed_thats_good_but_sometimes_the_commons_overstep_their_boundaries_im_more_concerned_that_your_claim_be_legal_so_i_can_swing_my_sword_with_a_good_conscience"),
        (try_end),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var3", -10),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_giving_me_land_good_i_ask_for_no_more_than_my_due"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_giving_me_land_unfortunately_you_are_not_wellknown_for_rewarding_those_to_whom_you_have_made_such_offers"),
        (try_end),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var3", -30),
        (str_store_string, s15, "str_you_speak_of_unifying_calradia_well_i_believe_that_well_always_be_fighting__its_important_that_we_fight_for_a_rightful_cause"),
      (try_end),
    (else_try),
      (eq, ":var5", 2),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var3", -20),
        (str_store_string, s15, "str_you_talk_of_claims_to_the_throne_but_i_leave_bickering_about_legalities_to_the_lawyers_and_clerks"),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var3", -30),
        (str_store_string, s15, "str_you_speak_of_ruling_justly_hah_ill_believe_theres_such_a_thing_as_a_just_king_when_i_see_one"),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var3", 0),
        (str_store_string, s15, "str_you_spoke_of_protecting_the_rights_of_the_nobles_if_you_did_youd_be_the_first_king_to_do_so_in_a_very_long_time"),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var3", 30),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_giving_me_land_ay_well_lets_see_if_you_deliver"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_giving_me_land_bah_youre_not_known_for_delivering_on_your_pledges"),
        (try_end),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var3", 10),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_well_youve_done_a_good_job_at_making_calradia_bend_its_knee_to_you_so_maybe_thats_not_just_talk"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_id_be_impressed_if_i_thought_you_could_do_it_but_unfortunately_you_dont"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var5", 3),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var3", -20),
        (str_store_string, s15, "str_you_speak_of_claims_to_the_throne_well_any_peasant_can_claim_to_be_a_kings_bastard"),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var3", -30),
        (str_store_string, s15, "str_well_its_a_fine_thing_to_court_the_commons_with_promises_but_what_do_you_have_to_offer_me"),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var3", 0),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_protecting_the_rights_of_lords_that_would_make_a_fine_change_if_my_rights_as_lord_would_be_respected"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_protecting_the_rights_of_lords_that_would_make_a_fine_change_if_my_rights_as_lord_would_be_respected_however_it_is_easy_for_you_to_make_promises_while_you_are_weak_that_you_have_no_intention_of_keeping_when_you_are_strong"),
        (try_end),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var3", 20),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_giving_me_land_well_my_family_is_of_ancient_and_noble_lineage_so_you_promise_me_no_more_than_my_due_still_your_gesture_is_appreciated"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_giving_me_land_well_you_make_that_pledge_but_i_am_not_impressed"),
        (try_end),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var3", 20),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_well_much_of_this_land_now_bends_its_knee_to_you_so_perhaps_that_is_not_just_talk"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_but_right_now_yours_is_just_one_squabbling_faction_among_many"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var5", 4),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var3", -30),
        (str_store_string, s15, "str_you_speak_of_claims_well_no_offense_but_a_claim_unsupported_by_might_rarely_prospers"),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var3", 10),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_protecting_the_commons_well_i_suppose_that_will_make_for_a_more_prosperous_realm_ive_always_tried_to_treat_my_peasants_decently_saves_going_to_bed_worrying_about_whether_youll_wake_up_with_the_roof_on_fire"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_protecting_the_commons_very_well_but_remember_that_peasants_are_more_likely_to_cause_trouble_if_you_make_promises_then_dont_deliver_than_if_you_never_made_the_promise_in_the_first_place"),
        (try_end),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var3", 15),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_protecting_the_rights_of_lords_good_youd_be_well_advised_to_do_that__men_fight_better_for_a_king_wholl_respect_their_rights"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_protecting_the_rights_of_lords_very_well_but_remember__failing_to_keep_promises_which_you_made_while_scrambling_up_the_throne_is_the_quickest_way_to_topple_off_of_it_once_you_get_there"),
        (try_end),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var3", -20),
        (str_store_string, s15, "str_you_speak_of_giving_me_land_very_good_but_often_i_find_that_when_a_man_makes_too_many_promises_trying_to_get_to_the_top_he_has_trouble_keeping_them_once_he_reaches_it"),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var3", 20),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_well_many_have_said_that_you_might_very_well_be_the_one_to_do_it"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_well_all_the_kings_say_that_im_not_sure_that_you_will_succeed_while_they_fail"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var5", 5),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var3", -20),
        (str_store_string, s15, "str_you_speak_of_claims_do_you_think_i_care_for_the_nattering_of_lawyers"),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var3", -20),
        (str_store_string, s15, "str_you_speak_of_protecting_the_commons_how_kind_of_you_i_shall_tell_my_swineherd_all_about_your_sweet_promises_no_doubt_he_will_become_your_most_faithful_vassal"),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var3", -10),
        (str_store_string, s15, "str_you_speak_of_protecing_the_rights_of_lords_such_sweet_words_but_ill_tell_you_this__the_only_rights_that_are_respected_in_this_world_are_the_rights_to_dominate_whoever_is_weaker_and_to_submit_to_whoever_is_stronger"),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var3", 20),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_giving_me_land_yes_very_good__but_you_had_best_deliver"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_giving_me_land_hah_perhaps_all_those_others_to_whom_you_promised_lands_will_simply_step_aside"),
        (try_end),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var3", 10),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_you_may_indeed_humble_the_other_kings_of_this_land_and_in_that_case_i_would_hope_that_you_would_remember_me_as_your_faithful_servant"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_but_you_are_weak_and_i_think_that_you_will_remain_weak"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var5", 6),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var3", 10),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_claims_its_good_for_a_king_to_have_a_strong_claim_although_admittedly_im_more_concerned_that_he_rules_just_ly_than_with_legalities_anyway_your_claim_seems_wellfounded_to_me"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_claims_but_your_claim_seems_a_bit_weak_to_me"),
        (try_end),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var3", 20),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_protecting_the_commons_i_like_that_my_tenants_are_a_happy_lot_i_think_but_i_hear_of_others_in_other_estates_that_arent_so_fortunate"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_protecting_the_commons_im_glad_to_hear_you_say_that_but_do_me_a_favor__dont_promise_the_commons_anything_you_cant_deliver_thats_a_sure_way_to_get_them_to_rebel_and_it_breaks_my_heart_to_have_to_put_them_down"),
        (try_end),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var3", 0),
        (str_store_string, s15, "str_you_speak_of_protecting_the_rights_of_lords_well_very_good_i_suppose_but_you_know__we_lords_can_take_of_ourselves_its_the_common_folk_who_need_a_strong_king_to_look_out_for_them_to_my_mind"),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var3", -15),
        (str_store_string, s15, "str_you_speak_of_giving_me_land_its_kind_of_you_really_though_that_is_not_necessary"),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var3", -25),
        (str_store_string, s15, "str_you_speak_of_unifying_calradia_well_maybe_you_can_unite_this_land_by_the_sword_but_im_not_sure_that_this_will_make_you_a_good_ruler"),
      (try_end),
    (else_try),
      (eq, ":var5", 7),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var3", 10),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_claims_a_king_must_have_a_strong_legal_claim_for_there_not_to_be_chaos_in_the_realm_and_yours_is_wellestablished"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_claims_a_king_must_have_a_strong_legal_claim_for_there_not_to_be_chaos_in_the_realm_but_your_claim_is_not_so_strong"),
        (try_end),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var3", -5),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_protecting_the_rights_of_lords_it_is_of_course_important_that_a_king_respect_the_rights_of_his_vassals_although_i_worry_that_a_king_who_took_a_throne_without_proper_cause_would_not_rule_with_justice"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_protecting_the_rights_of_lords_it_is_of_course_important_that_a_king_respect_the_rights_of_his_vassals_however_i_would_like_to_know_that_you_would_indeed_deliver_on_your_promises"),
        (try_end),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var3", 5),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_protecting_the_commons_i_would_be_pleased_to_serve_a_king_who_respected_the_rights_of_his_subjects_although_i_worry_that_a_king_who_took_a_throne_without_proper_cause_would_not_rule_with_justice"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_protecting_the_commons_i_would_be_pleased_to_serve_a_king_who_respected_the_rights_of_his_subjects_however_i_would_like_to_know_that_you_would_indeed_deliver_on_your_promises"),
        (try_end),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var3", -40),
        (str_store_string, s15, "str_i_am_not_swayed_by_promises_of_reward"),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var3", 10),
        (try_begin),
          (gt, ":var4", 0),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_it_would_be_good_to_bring_peace_to_the_realm_and_i_believe_that_you_are_strong_enough_to_do_so"),
        (else_try),
          (str_store_string, s15, "str_you_speak_of_unifying_calradia_it_would_be_good_to_bring_peace_the_realm_but_with_your_kingdom_in_its_current_state_i_worry_that_you_are_just_bringing_more_discord"),
        (try_end),
      (try_end),
    (try_end),
    (str_store_string, s14, "str_s15"),
    (assign, reg0, ":var3"),
    (assign, reg1, ":var4"),
  ]),

  ("get_culture_with_party_faction_for_music",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_party, ":var1", ":var0"),
    (try_begin),
      (this_or_next|eq, ":var1", "fac_player_faction"),
      (eq, ":var1", "fac_player_supporters_faction"),
      (assign, ":var1", "$players_kingdom"),
    (try_end),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_salt_mine"),
      (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
      (neg|is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (party_get_slot, ":var1", ":var0", 61),
    (try_end),
    (call_script, "script_get_closest_center", "p_main_party"),
    (party_get_slot, ":var1", reg0, 61),
    (call_script, "script_get_culture_with_faction_for_music", ":var1"),
  ]),

  ("get_culture_with_faction_for_music",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (this_or_next|eq, ":var0", "fac_kingdom_5"),
      (this_or_next|eq, ":var0", "fac_kingdom_6"),
      (this_or_next|eq, ":var0", "fac_kingdom_7"),
      (this_or_next|eq, ":var0", "fac_kingdom_9"),
      (this_or_next|eq, ":var0", "fac_kingdom_37"),
      (this_or_next|eq, ":var0", "fac_kingdom_10"),
      (this_or_next|eq, ":var0", "fac_kingdom_12"),
      (this_or_next|eq, ":var0", "fac_kingdom_16"),
      (this_or_next|eq, ":var0", "fac_kingdom_17"),
      (this_or_next|eq, ":var0", "fac_kingdom_18"),
      (this_or_next|eq, ":var0", "fac_kingdom_19"),
      (this_or_next|eq, ":var0", "fac_kingdom_24"),
      (this_or_next|eq, ":var0", "fac_kingdom_38"),
      (this_or_next|eq, ":var0", "fac_kingdom_39"),
      (this_or_next|eq, ":var0", "fac_kingdom_40"),
      (this_or_next|eq, ":var0", "fac_kingdom_41"),
      (this_or_next|eq, ":var0", "fac_kingdom_42"),
      (this_or_next|eq, ":var0", "fac_kingdom_32"),
      (eq, ":var0", "fac_kingdom_13"),
      (assign, ":var1", 1),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_2"),
      (this_or_next|eq, ":var0", "fac_kingdom_3"),
      (this_or_next|eq, ":var0", "fac_kingdom_8"),
      (this_or_next|eq, ":var0", "fac_kingdom_15"),
      (this_or_next|eq, ":var0", "fac_kingdom_22"),
      (this_or_next|eq, ":var0", "fac_kingdom_26"),
      (this_or_next|eq, ":var0", "fac_kingdom_27"),
      (this_or_next|eq, ":var0", "fac_kingdom_29"),
      (this_or_next|eq, ":var0", "fac_kingdom_30"),
      (this_or_next|eq, ":var0", "fac_kingdom_33"),
      (this_or_next|eq, ":var0", "fac_kingdom_34"),
      (this_or_next|eq, ":var0", "fac_kingdom_35"),
      (this_or_next|eq, ":var0", "fac_kingdom_36"),
      (eq, ":var0", "fac_kingdom_8"),
      (assign, ":var1", 6),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_4"),
      (this_or_next|eq, ":var0", "fac_kingdom_11"),
      (eq, ":var0", "fac_kingdom_14"),
      (assign, ":var1", 8388608),
    (else_try),
      (this_or_next|eq, ":var0", "fac_papacy"),
      (this_or_next|eq, ":var0", "fac_kingdom_23"),
      (eq, ":var0", "fac_kingdom_1"),
      (assign, ":var1", 1),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_20"),
      (this_or_next|eq, ":var0", "fac_kingdom_25"),
      (this_or_next|eq, ":var0", "fac_kingdom_31"),
      (eq, ":var0", "fac_kingdom_28"),
      (assign, ":var1", 32),
    (else_try),
      (assign, ":var1", 0),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("music_set_situation_with_culture",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_begin),
      (eq, ":var0", 65536),
      (call_script, "script_get_closest_center", "p_main_party"),
      (assign, ":var2", reg0),
      (store_faction_of_party, ":var3", ":var2"),
      (faction_get_slot, ":var4", ":var3", 10),
      (try_begin),
        (this_or_next|eq, ":var4", "fac_culture_finnish"),
        (eq, ":var4", "fac_culture_baltic"),
        (assign, ":var1", 2),
      (else_try),
        (this_or_next|eq, ":var4", "fac_culture_mazovian"),
        (this_or_next|eq, ":var4", "fac_culture_serbian"),
        (this_or_next|eq, ":var4", "fac_culture_welsh"),
        (this_or_next|eq, ":var4", "fac_culture_teutonic"),
        (this_or_next|eq, ":var4", "fac_culture_balkan"),
        (this_or_next|eq, ":var4", "fac_culture_nordic"),
        (this_or_next|eq, ":var4", "fac_culture_italian"),
        (this_or_next|eq, ":var4", "fac_culture_gaelic"),
        (this_or_next|eq, ":var4", "fac_culture_anatolian_christian"),
        (this_or_next|eq, ":var4", "fac_culture_western"),
        (this_or_next|eq, ":var4", "fac_culture_templar"),
        (this_or_next|eq, ":var4", "fac_culture_hospitaller"),
        (this_or_next|eq, ":var4", "fac_culture_antioch"),
        (this_or_next|eq, ":var4", "fac_culture_tripoli"),
        (this_or_next|eq, ":var4", "fac_culture_ibelin"),
        (this_or_next|eq, ":var4", "fac_culture_jerusalem"),
        (this_or_next|eq, ":var4", "fac_culture_crusader"),
        (this_or_next|eq, ":var4", "fac_culture_english"),
        (this_or_next|eq, ":var4", "fac_culture_french"),
        (this_or_next|eq, ":var4", "fac_culture_hungarian"),
        (this_or_next|eq, ":var4", "fac_culture_polish"),
        (eq, ":var4", "fac_culture_player"),
        (assign, ":var1", 1),
      (else_try),
        (eq, ":var4", "fac_culture_rus"),
        (assign, ":var1", 16),
      (else_try),
        (this_or_next|eq, ":var4", "fac_culture_marinid"),
        (this_or_next|eq, ":var4", "fac_culture_mamluke"),
        (this_or_next|eq, ":var4", "fac_culture_andalus"),
        (eq, ":var4", "fac_culture_anatolian"),
        (assign, ":var1", 8),
      (else_try),
        (this_or_next|eq, ":var4", "fac_culture_mongol"),
        (eq, ":var4", "fac_culture_cuman"),
        (assign, ":var1", 4),
      (try_end),
      (try_begin),
        (store_random_in_range, ":var5", 0, 101),
        (gt, ":var5", 90),
        (assign, ":var1", 63),
      (try_end),
    (try_end),
    (music_set_situation, ":var0"),
    (music_set_culture, ":var1"),
  ]),

  ("combat_music_set_situation_with_culture",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (try_for_agents, ":var3"),
      (agent_is_alive, ":var3"),
      (agent_is_human, ":var3"),
      (agent_get_troop_id, ":var4", ":var3"),
      (store_character_level, ":var5", ":var4"),
      (val_add, ":var5", 10),
      (val_mul, ":var5", ":var5"),
      (try_begin),
        (agent_is_ally, ":var3"),
        (val_add, ":var1", ":var5"),
      (else_try),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (val_mul, ":var1", 4),
    (val_div, ":var1", 3),
    (try_begin),
      (lt, ":var1", ":var2"),
      (assign, ":var0", 4096),
    (try_end),
    (call_script, "script_music_set_situation_with_culture", ":var0"),
  ]),

  ("play_victorious_sound",
  [
    (call_script, "script_music_set_situation_with_culture", 8388608),
  ]),

  ("custom_battle_end",
  [
    (assign, "$g_custom_battle_team1_death_count", 0),
    (assign, "$g_custom_battle_team2_death_count", 0),
    (get_player_agent_no, ":var0"),
    (agent_get_team, ":var1", ":var0"),
    (try_for_agents, ":var2"),
      (agent_is_human, ":var2"),
      (neg|agent_is_alive, ":var2"),
      (agent_get_team, ":var3", ":var2"),
      (try_begin),
        (eq, ":var3", ":var1"),
        (val_add, "$g_custom_battle_team1_death_count", 1),
      (else_try),
        (val_add, "$g_custom_battle_team2_death_count", 1),
      (try_end),
    (try_end),
  ]),

  ("remove_troop_from_prison",
  [
    (store_script_param, ":var0", 1),
    (troop_set_slot, ":var0", 8, -1),
    (try_begin),
      (eq, "$do_not_cancel_quest", 0),
      (check_quest_active, "qst_rescue_lord_by_replace"),
      (quest_slot_eq, "qst_rescue_lord_by_replace", 2, ":var0"),
      (call_script, "script_cancel_quest", "qst_rescue_lord_by_replace"),
    (try_end),
    (try_begin),
      (eq, "$do_not_cancel_quest", 0),
      (check_quest_active, "qst_rescue_prisoner"),
      (quest_slot_eq, "qst_rescue_prisoner", 2, ":var0"),
      (call_script, "script_cancel_quest", "qst_rescue_prisoner"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_deliver_message_to_prisoner_lord"),
      (quest_slot_eq, "qst_deliver_message_to_prisoner_lord", 2, ":var0"),
      (call_script, "script_cancel_quest", "qst_deliver_message_to_prisoner_lord"),
    (try_end),
  ]),

  ("debug_variables",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
  ]),

  ("troop_describes_troop_to_s15",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (str_store_troop_name, s15, ":var1"),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (str_store_string, s15, "str_you"),
    (else_try),
      (eq, ":var1", ":var0"),
      (str_store_string, s15, "str_myself"),
    (else_try),
      (call_script, "script_troop_get_family_relation_to_troop", ":var1", ":var0"),
      (gt, reg0, 0),
      (str_store_string, s15, "str_my_s11_s15"),
    (else_try),
      (call_script, "script_troop_get_relation_with_troop", ":var1", ":var0"),
      (ge, reg0, 20),
      (str_store_string, s15, "str_my_friend_s15"),
    (try_end),
  ]),

  ("troop_describes_quarrel_with_troop_to_s14",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (str_store_troop_name, s15, ":var0"),
    (str_store_troop_name, s16, ":var1"),
    (str_store_string, s14, "str_stop_gap__s15_is_the_rival_of_s16"),
    (try_begin),
      (eq, ":var0", "$g_talk_troop"),
      (call_script, "script_cf_test_lord_incompatibility_to_s17", ":var0", ":var1"),
      (str_store_string, s14, s17),
    (else_try),
      (eq, ":var1", "$g_talk_troop"),
      (call_script, "script_cf_test_lord_incompatibility_to_s17", ":var1", ":var0"),
      (str_store_string, s14, s17),
    (else_try),
      (str_store_string, s14, "str_general_quarrel"),
    (try_end),
  ]),

  ("cf_test_lord_incompatibility_to_s17",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (troop_get_slot, ":var3", ":var0", 52),
    (troop_get_slot, ":var4", ":var1", 52),
    (troop_get_type, reg15, ":var1"),
    (str_store_troop_name, s18, ":var1"),
    (assign, ":var5", 1),
    (call_script, "script_troop_get_family_relation_to_troop", ":var1", ":var0"),
    (assign, ":var6", reg0),
    (try_begin),
      (gt, ":var6", 0),
      (store_div, ":var7", reg0, 5),
      (val_add, ":var5", ":var7"),
      (str_store_string, s18, "str_my_s11_s18"),
    (else_try),
      (gt, ":var4", 7),
      (this_or_next|eq, ":var3", 5),
      (eq, ":var3", 3),
      (str_store_string, s18, "str_the_socalled_s11_s18"),
    (try_end),
    (try_begin),
      (eq, ":var3", 1),
      (is_between, ":var6", 1, 5),
      (assign, ":var2", 100),
      (str_store_string, s17, "str_s18_would_cheat_me_of_my_inheritance_by_heaven_i_know_my_rights_and_im_not_going_to_back_down"),
    (else_try),
      (eq, ":var3", 1),
      (eq, ":var4", 2),
      (str_store_string, s17, "str_s18_once_questioned_my_honour_and_my_bravery_i_long_for_the_day_when_i_can_meet_him_in_battle_and_make_him_retract_his_statement"),
      (assign, ":var2", 50),
    (else_try),
      (eq, ":var3", 1),
      (eq, ":var4", 7),
      (str_store_string, s17, "str_s18_once_questioned_my_judgment_in_battle_by_heaven_would_he_have_us_shirk_our_duty_to_smite_our_sovereigns_foes"),
      (assign, ":var2", 50),
    (else_try),
      (eq, ":var4", 1),
      (is_between, ":var6", 1, 5),
      (assign, ":var2", 100),
      (str_store_string, s17, "str_s18_seems_to_think_he_has_the_right_to_some_of_my_property_well_he_does_not"),
    (else_try),
      (eq, ":var3", 2),
      (eq, ":var4", 1),
      (str_store_string, s17, "str_s18_once_took_something_i_said_amiss_stubborn_bastard_wont_give_it_up_and_keeps_trying_to_get_me_to_recant_my_words"),
      (assign, ":var2", 50),
    (else_try),
      (eq, ":var3", 2),
      (eq, ":var4", 4),
      (str_store_string, s17, "str_s18_is_a_crafty_weasel_and_i_dont_trust_him_one_bit"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 5),
      (eq, ":var4", 7),
      (str_store_string, s17, "str_s18_i_despite_him_he_puts_on_such_a_nauseating_display_of_virtue_and_thinks_nothing_of_insulting_his_betters"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 5),
      (eq, ":var4", 3),
      (str_store_string, s17, "str_s18_entered_into_a_little_deal_with_me_and_is_now_trying_to_wriggle_out_of_it"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 3),
      (eq, ":var4", 5),
      (str_store_string, s17, "str_s18_once_ran_an_errand_for_me_and_now_thinks_i_owe_him_something_i_owe_his_ilk_nothing"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 3),
      (eq, ":var4", 6),
      (str_store_string, s17, "str_s18_is_soft_and_weak_and_not_fit_to_govern_a_fief_and_i_have_always_detested_him"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 4),
      (eq, ":var4", 2),
      (str_store_string, s17, "str_s18_is_a_quarrelsome_oaf_and_a_liability_in_my_opinion_and_ive_let_him_know_as_much"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 4),
      (eq, ":var4", 6),
      (str_store_string, s17, "str_s18_i_am_sorry_to_say_is_far_too_softhearted_a_man_to_be_given_any_kind_of_responsibility_his_chivalry_will_allow_the_enemy_to_flee_to_fight_another_day_and_will_cost_the_lives_of_my_own_faithful_men"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 6),
      (eq, ":var4", 4),
      (str_store_string, s17, "str_s18_seems_to_have_something_against_me_for_some_reason_i_dont_like_to_talk_ill_of_people_but_i_think_hes_can_be_a_bit_of_a_cad_sometimes"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 6),
      (eq, ":var4", 3),
      (str_store_string, s17, "str_s18_has_always_treated_me_contemptuously_although_i_have_done_him_no_wrong"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 7),
      (eq, ":var4", 5),
      (str_store_string, s17, "str_s18_is_thoroughly_dishonorable_and_a_compulsive_spinner_of_intrigues_which_i_fear_will_drag_us_into_wars_or_incite_rebellions"),
      (assign, ":var2", 50),
    (else_try),
      (eq, ":var3", 7),
      (eq, ":var4", 1),
      (str_store_string, s17, "str_s18_disappoints_me_i_once_scolded_for_his_rashness_in_battle_and_he_took_offense_i_do_not_care_to_apologize_for_my_efforts_to_save_his_life_and_the_lives_of_his_men"),
      (assign, ":var2", 50),
    (else_try),
      (this_or_next|eq, ":var3", 7),
      (this_or_next|eq, ":var3", 1),
      (eq, ":var3", 3),
      (eq, ":var4", 8),
      (str_store_string, s17, "str_s18_squanders_money_and_carouses_in_a_way_most_unbefitting_a_noble_by_doing_so_he_disgraces_us_all"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 8),
      (this_or_next|eq, ":var4", 7),
      (this_or_next|eq, ":var4", 1),
      (eq, ":var4", 3),
      (str_store_string, s17, "str_s18_has_been_speaking_ill_of_me_behind_my_back_or_so_they_say"),
      (assign, ":var2", 100),
    (else_try),
      (this_or_next|eq, ":var3", 2),
      (this_or_next|eq, ":var3", 1),
      (eq, ":var3", 3),
      (eq, ":var4", 10),
      (str_store_string, s17, "str_s18_is_a_disgrace_reg3shehe_consorts_with_merchants_lends_money_at_interest_uses_coarse_language_and_shows_no_attempt_to_uphold_the_dignity_of_the_honor_bestowed_upon_reg3herhim"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 10),
      (this_or_next|eq, ":var4", 2),
      (this_or_next|eq, ":var4", 1),
      (eq, ":var4", 3),
      (str_store_string, s17, "str_s18_has_condemned_me_for_engaging_in_commerce_what_could_possibly_be_wrong_with_that"),
      (assign, ":var2", 100),
    (else_try),
      (this_or_next|eq, ":var3", 5),
      (this_or_next|eq, ":var3", 1),
      (eq, ":var3", 3),
      (eq, ":var4", 9),
      (str_store_string, s17, "str_s18_i_have_heard_has_been_encouraging_seditious_ideas_among_the_peasantry__a_foolish_move_which_endangers_us_all"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 9),
      (this_or_next|eq, ":var4", 5),
      (this_or_next|eq, ":var4", 1),
      (eq, ":var4", 3),
      (str_store_string, s17, "str_s18_has_called_me_out_for_the_way_i_deal_with_my_tenants_well_so_be_it_if_i_teach_them_that_they_are_the_equal_of_anyone_with_socalled_gentle_blood_what_is_it_to_reg3herhim"),
      (assign, ":var2", 100),
    (else_try),
      (eq, ":var3", 21),
      (this_or_next|eq, ":var4", 1),
      (eq, ":var4", 3),
      (str_store_string, s17, "str_a_most_gallant_gentleman_who_knows_how_to_treat_a_lady"),
      (assign, ":var2", -50),
    (else_try),
      (eq, ":var3", 21),
      (eq, ":var4", 2),
      (str_store_string, s17, "str_a_base_cad"),
      (assign, ":var2", 50),
    (else_try),
      (eq, ":var3", 22),
      (eq, ":var4", 4),
      (str_store_string, s17, "str_a_man_who_treats_me_as_his_equal_which_is_rare"),
      (assign, ":var2", -50),
    (else_try),
      (eq, ":var3", 22),
      (this_or_next|eq, ":var4", 1),
      (eq, ":var4", 5),
      (str_store_string, s17, "str_appears_to_value_me_with_his_estate_and_his_horse_as_prizes_worth_having"),
      (assign, ":var2", 50),
    (else_try),
      (eq, ":var3", 22),
      (neq, ":var4", 6),
      (str_store_string, s17, "str_a_bit_dull_but_what_can_you_expect"),
      (assign, ":var2", 10),
    (else_try),
      (eq, ":var3", 23),
      (call_script, "script_troop_get_romantic_chemistry_with_troop", ":var0", ":var1"),
      (ge, reg0, 10),
      (str_store_string, s17, "str_the_man_whom_destiny_intends_for_me"),
      (assign, ":var2", -50),
    (else_try),
      (eq, ":var3", 23),
      (lt, reg0, 0),
      (str_store_string, s17, "str_is_not_right_for_me__i_cannot_say_why_but_he_makes_my_skin_crawl"),
      (assign, ":var2", 50),
    (else_try),
      (eq, ":var3", 24),
      (this_or_next|eq, ":var4", 3),
      (eq, ":var4", 4),
      (str_store_string, s17, "str_is_a_man_who_clearly_intends_to_make_his_mark_in_the_world"),
      (assign, ":var2", -20),
    (else_try),
      (eq, ":var3", 24),
      (eq, ":var4", 6),
      (str_store_string, s17, "str_is_a_layabout_a_naif_prey_for_others_who_are_cleverer_than_he"),
      (assign, ":var2", 30),
    (else_try),
      (eq, ":var3", 25),
      (eq, ":var4", 7),
      (str_store_string, s17, "str_is_a_man_of_stalwart_character"),
      (assign, ":var2", -50),
    (else_try),
      (eq, ":var3", 25),
      (this_or_next|eq, ":var4", 5),
      (eq, ":var4", 4),
      (str_store_string, s17, "str_appears_to_be_a_man_of_low_morals"),
      (assign, ":var2", 50),
    (else_try),
      (eq, ":var3", 25),
      (eq, ":var4", 2),
      (str_store_string, s17, "str_appears_to_be_a_man_who_lacks_selfdiscipline"),
      (assign, ":var2", 50),
    (else_try),
    (try_end),
    (val_div, ":var2", ":var5"),
    (assign, reg0, ":var2"),
    (neq, ":var2", 0),
  ]),

  ("troop_get_romantic_chemistry_with_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_add, ":var2", ":var0", ":var1"),
    (val_add, ":var2", "$romantic_attraction_seed"),
    (store_mod, ":var3", ":var2", 5),
    (val_mul, ":var3", ":var3"),
    (val_mul, ":var3", 3),
    (store_attribute_level, ":var4", ":var1", ca_charisma),
    (val_sub, ":var4", ":var3"),
    (val_mul, ":var4", 2),
    (assign, reg0, ":var4"),
  ]),

  ("cf_troop_get_romantic_attraction_to_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (troop_get_type, ":var3", ":var0"),
    (eq, ":var3", 1),
    (troop_get_type, ":var4", ":var1"),
    (eq, ":var4", 0),
    (call_script, "script_troop_get_romantic_chemistry_with_troop", ":var0", ":var1"),
    (assign, ":var5", reg0),
    (troop_get_slot, ":var6", ":var1", 7),
    (assign, ":var7", 60),
    (val_div, ":var6", 5),
    (val_sub, ":var6", ":var7"),
    (val_min, ":var6", 60),
    (try_begin),
      (assign, ":var8", 0),
      (call_script, "script_cf_test_lord_incompatibility_to_s17", ":var0", ":var1"),
      (store_sub, ":var8", 0, reg0),
    (try_end),
    (troop_get_slot, ":var9", ":var0", 52),
    (try_begin),
      (eq, ":var9", 24),
      (val_mul, ":var6", 2),
      (val_div, ":var5", 2),
    (else_try),
      (eq, ":var9", 23),
      (val_div, ":var6", 2),
      (val_mul, ":var5", 2),
    (else_try),
      (eq, ":var9", 22),
      (val_div, ":var6", 2),
    (else_try),
      (eq, ":var9", 25),
      (val_div, ":var6", 2),
      (val_div, ":var5", 2),
    (try_end),
    (val_add, ":var2", ":var5"),
    (val_add, ":var2", ":var8"),
    (val_add, ":var2", ":var6"),
    (assign, reg0, ":var2"),
  ]),

  ("cf_random_political_event",
  [
    (store_random_in_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
    (store_random_in_range, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
    (try_begin),
      (troop_slot_eq, ":var0", 166, 1),
      (troop_slot_eq, ":var1", 166, 1),
    (else_try),
      (assign, ":var2", 0),
      (try_for_range, ":var3", 0, 50),
        (eq, ":var2", 0),
        (store_random_in_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
        (store_random_in_range, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var0", 166, 1),
        (troop_slot_eq, ":var1", 166, 1),
        (assign, ":var2", 1),
      (try_end),
    (try_end),
    (troop_slot_eq, ":var0", 2, 2),
    (troop_slot_eq, ":var1", 2, 2),
    (neq, ":var0", ":var1"),
    (val_add, "$total_political_events", 1),
    (store_faction_of_troop, ":var4", ":var0"),
    (store_faction_of_troop, ":var5", ":var1"),
    (assign, reg8, "$total_political_events"),
    (faction_get_slot, ":var6", ":var4", 11),
    (faction_get_slot, ":var7", ":var5", 11),
    (this_or_next|eq, ":var4", ":var5"),
    (this_or_next|eq, ":var0", ":var6"),
    (eq, ":var1", ":var7"),
    (call_script, "script_troop_get_relation_with_troop", ":var0", ":var1"),
    (assign, ":var8", reg0),
    (store_random_in_range, ":var9", 0, 100),
    (try_begin),
      (eq, ":var4", ":var5"),
      (neq, ":var6", "trp_player"),
      (le, ":var8", -10),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var6"),
      (gt, reg0, 0),
      (assign, ":var10", reg0),
      (call_script, "script_troop_get_relation_with_troop", ":var1", ":var6"),
      (gt, reg0, 0),
      (store_mul, ":var11", ":var10", reg0),
      (val_div, ":var11", 4),
      (le, ":var9", ":var11"),
      (str_store_troop_name, s4, ":var6"),
      (str_store_troop_name, s5, ":var0"),
      (str_store_troop_name, s6, ":var1"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_check_reg8_s4_reconciles_s5_and_s6_"),
      (try_end),
      (call_script, "script_troop_change_relation_with_troop", ":var0", ":var1", 20),
      (val_add, "$total_random_quarrel_changes", 20),
    (else_try),
      (eq, ":var4", ":var5"),
      (le, ":var8", -10),
      (try_begin),
        (eq, ":var6", "trp_player"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_diagnostic__player_should_receive_consultation_quest_here_if_not_already_active"),
        (try_end),
        (neg|check_quest_active, "qst_consult_with_minister"),
        (neg|check_quest_active, "qst_resolve_dispute"),
        (eq, "$g_minister_notification_quest", 0),
        (assign, "$g_minister_notification_quest", "qst_resolve_dispute"),
        (quest_set_slot, "qst_resolve_dispute", 2, ":var0"),
        (quest_set_slot, "qst_resolve_dispute", 4, ":var1"),
        (call_script, "script_add_notification_menu", "mnu_notification_player_should_consult", 0, 0),
      (else_try),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var6"),
        (assign, ":var12", reg0),
        (call_script, "script_troop_get_relation_with_troop", ":var1", ":var6"),
        (assign, ":var13", reg0),
        (store_random_in_range, ":var14", -5, 5),
        (val_add, ":var12", ":var14"),
        (try_begin),
          (ge, ":var12", ":var13"),
          (assign, ":var15", ":var0"),
          (assign, ":var16", ":var1"),
        (else_try),
          (assign, ":var16", ":var0"),
          (assign, ":var15", ":var1"),
        (try_end),
        (str_store_troop_name, s4, ":var6"),
        (str_store_troop_name, s5, ":var15"),
        (str_store_troop_name, s6, ":var16"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_check_reg8_s4_rules_in_s5s_favor_in_quarrel_with_s6_"),
        (try_end),
        (call_script, "script_add_log_entry", 27, ":var6", ":var16", ":var15", ":var4"),
        (call_script, "script_troop_change_relation_with_troop", ":var15", ":var6", 10),
        (call_script, "script_troop_change_relation_with_troop", ":var16", ":var6", -20),
        (val_add, "$total_random_quarrel_changes", -10),
      (try_end),
    (else_try),
      (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (is_between, ":var1", "trp_npc1", "trp_kingdom_1_lord"),
      (ge, ":var8", -10),
      (this_or_next|troop_slot_eq, ":var0", 71, ":var1"),
      (troop_slot_eq, ":var0", 73, ":var1"),
      (str_store_troop_name, s5, ":var0"),
      (str_store_troop_name, s6, ":var1"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_check_reg8_new_rivalry_generated_between_s5_and_s6"),
      (try_end),
      (call_script, "script_troop_change_relation_with_troop", ":var0", ":var1", -30),
      (val_add, "$total_random_quarrel_changes", -30),
    (else_try),
      (eq, ":var4", ":var5"),
      (ge, ":var8", -10),
      (call_script, "script_cf_test_lord_incompatibility_to_s17", ":var0", ":var1"),
      (assign, ":var17", reg0),
      (gt, ":var17", 0),
      (lt, ":var9", ":var17"),
      (str_store_troop_name, s5, ":var0"),
      (str_store_troop_name, s6, ":var1"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_check_reg8_new_rivalry_generated_between_s5_and_s6"),
      (try_end),
      (call_script, "script_troop_change_relation_with_troop", ":var0", ":var1", -30),
      (val_add, "$total_random_quarrel_changes", -30),
    (else_try),
      (store_current_hours, ":var18"),
      (ge, ":var18", 24),
      (neq, ":var4", ":var5"),
      (is_between, ":var4", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (call_script, "script_cf_troop_can_intrigue", ":var1", 0),
      (neq, ":var1", ":var7"),
      (neq, ":var1", ":var6"),
      (str_store_troop_name, s5, ":var6"),
      (str_store_troop_name, s6, ":var1"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (display_message, "str_check_reg8_s5_attempts_to_win_over_s6"),
      (try_end),
      (call_script, "script_calculate_troop_political_factors_for_liege", ":var1", ":var6"),
      (assign, ":var19", reg0),
      (call_script, "script_calculate_troop_political_factors_for_liege", ":var1", ":var7"),
      (assign, ":var20", reg0),
      (try_begin),
        (gt, ":var19", ":var20"),
        (call_script, "script_change_troop_faction", ":var1", ":var4"),
      (try_end),
    (try_end),
  ]),

  ("evaluate_realm_stability",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (faction_get_slot, ":var4", ":var0", 11),
    (try_for_range, ":var5", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var5", 166, 1),
      (troop_slot_eq, ":var5", 2, 2),
      (store_faction_of_troop, ":var6", ":var5"),
      (eq, ":var6", ":var0"),
      (val_add, ":var1", 1),
      (call_script, "script_calculate_troop_political_factors_for_liege", ":var5", ":var4"),
      (try_begin),
        (le, reg3, -10),
        (val_add, ":var3", 1),
      (else_try),
        (le, reg3, 10),
        (val_add, ":var2", 1),
      (try_end),
    (try_end),
    (try_begin),
      (gt, ":var1", 0),
      (store_mul, ":var7", ":var3", 100),
      (val_div, ":var7", ":var1"),
      (store_mul, ":var8", ":var2", 100),
      (val_div, ":var8", ":var1"),
      (store_mul, ":var9", ":var7", 2),
      (val_add, ":var9", ":var8"),
      (faction_set_slot, ":var0", 61, ":var9"),
      (assign, reg0, ":var7"),
      (assign, reg1, ":var8"),
      (assign, reg1, ":var8"),
    (else_try),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_faction_name, s1, ":var0"),
        (display_message, "str_s1_has_no_lords"),
      (try_end),
      (assign, reg0, 0),
      (assign, reg1, 0),
    (try_end),
  ]),

  ("battle_political_consequences",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (str_store_party_name, s4, ":var1"),
      (str_store_party_name, s5, ":var0"),
      (display_message, "str_do_political_consequences_for_s4_victory_over_s5"),
    (try_end),
    (store_faction_of_party, ":var2", ":var1"),
    (try_begin),
      (eq, ":var1", "p_main_party"),
      (assign, ":var2", "$players_kingdom"),
    (try_end),
    (party_get_template_id, ":var3", ":var0"),
    (try_begin),
      (this_or_next|eq, ":var3", "pt_village_farmers"),
      (eq, ":var3", "pt_kingdom_caravan_party"),
      (party_get_slot, ":var4", ":var0", 5),
      (party_get_slot, ":var5", ":var0", 126),
      (call_script, "script_add_log_entry", 3, ":var1", ":var5", ":var4", ":var2"),
      (try_begin),
        (eq, "$cheat_mode", 2),
        (neg|is_between, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (str_store_string, s65, "str_bandits_attacked_a_party_on_the_roads_so_a_bounty_is_probably_available"),
        (call_script, "script_add_notification_menu", "mnu_debug_alert_from_s65", 0, 0),
        (str_store_party_name, s15, ":var5"),
        (str_store_party_name, s16, ":var4"),
        (display_message, "str_travellers_attacked_on_road_from_s15_to_s16"),
      (try_end),
    (try_end),
    (try_begin),
      (party_get_template_id, ":var6", ":var1"),
      (eq, ":var6", "pt_kingdom_hero_party"),
      (neq, ":var1", "p_main_party"),
      (party_stack_get_troop_id, ":var7", ":var1", 0),
      (is_between, ":var7", "trp_npc1", "trp_knight_1_1_wife"),
      (store_faction_of_party, ":var2", ":var1"),
      (party_collect_attachments_to_party, ":var1", "p_temp_party_2"),
      (party_get_num_companion_stacks, ":var8", "p_temp_party_2"),
      (try_for_range, ":var9", 0, ":var8"),
        (party_stack_get_troop_id, ":var10", "p_temp_party_2", ":var9"),
        (is_between, ":var10", "trp_npc1", "trp_knight_1_1_wife"),
        (try_begin),
          (troop_get_slot, ":var11", ":var10", 10),
          (party_is_active, ":var11"),
          (call_script, "script_cf_party_under_player_suggestion", ":var11"),
          (call_script, "script_add_log_entry", 35, "trp_player", -1, ":var10", -1),
        (try_end),
        (store_faction_of_troop, ":var12", ":var10"),
        (eq, ":var12", ":var2"),
        (neq, ":var10", ":var7"),
        (try_begin),
          (eq, "$cheat_mode", 4),
          (str_store_troop_name, s15, ":var10"),
          (str_store_troop_name, s16, ":var7"),
          (display_message, "str_s15_shares_joy_of_victory_with_s16"),
        (try_end),
        (call_script, "script_troop_change_relation_with_troop", ":var10", ":var7", 3),
        (val_add, "$total_battle_ally_changes", 3),
      (try_end),
      (party_clear, "p_temp_party_2"),
    (try_end),
    (try_begin),
      (party_collect_attachments_to_party, ":var0", "p_temp_party_2"),
      (party_get_num_companion_stacks, ":var8", "p_temp_party_2"),
      (try_begin),
        (gt, "$marshall_defeated_in_battle", 0),
        (str_store_troop_name, s15, "$marshall_defeated_in_battle"),
        (store_faction_of_troop, ":var13", "$marshall_defeated_in_battle"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_faction_marshall_s15_involved_in_defeat"),
        (try_end),
      (else_try),
        (eq, "$marshall_defeated_in_battle", "trp_player"),
        (eq, ":var0", "p_main_party"),
        (faction_slot_eq, "fac_player_supporters_faction", 21, 0),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_player_faction_marshall_involved_in_defeat"),
        (try_end),
      (else_try),
        (assign, "$marshall_defeated_in_battle", -1),
      (try_end),
      (try_for_range, ":var9", 0, ":var8"),
        (party_stack_get_troop_id, ":var10", "p_temp_party_2", ":var9"),
        (troop_slot_eq, ":var10", 2, 2),
        (try_begin),
          (troop_get_slot, ":var14", ":var10", 10),
          (party_is_active, ":var14"),
          (call_script, "script_cf_party_under_player_suggestion", ":var14"),
          (call_script, "script_add_log_entry", 36, "trp_player", -1, ":var10", -1),
        (try_end),
        (store_faction_of_troop, ":var12", ":var10"),
        (faction_get_slot, ":var15", ":var12", 11),
        (neq, ":var10", ":var15"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s14, ":var10"),
          (str_store_faction_name, s15, ":var12"),
          (display_message, "str_s14_of_s15_defeated_in_battle_loses_one_point_relation_with_liege"),
        (try_end),
        (try_begin),
          (this_or_next|neq, ":var15", "trp_player"),
          (eq, "$players_kingdom", ":var12"),
          (call_script, "script_troop_change_relation_with_troop", ":var10", ":var15", -1),
          (val_add, "$total_battle_ally_changes", -1),
        (try_end),
        (call_script, "script_faction_inflict_war_damage_on_faction", ":var2", ":var12", 10),
        (try_begin),
          (this_or_next|is_between, ":var7", "trp_npc1", "trp_knight_1_1_wife"),
          (eq, ":var7", "trp_player"),
          (this_or_next|neq, ":var7", "trp_player"),
          (eq, ":var1", "p_main_party"),
          (this_or_next|troop_slot_eq, ":var10", 52, 2),
          (this_or_next|troop_slot_eq, ":var10", 52, 3),
          (troop_slot_eq, ":var10", 52, 5),
          (call_script, "script_troop_change_relation_with_troop", ":var10", ":var7", -1),
          (val_add, "$total_battle_enemy_changes", -1),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name, s14, ":var10"),
            (str_store_troop_name, s15, ":var7"),
            (display_message, "str_s14_defeated_in_battle_by_s15_loses_one_point_relation"),
          (try_end),
        (try_end),
        (gt, "$marshall_defeated_in_battle", -1),
        (eq, ":var12", ":var13"),
        (str_store_troop_name, s14, ":var10"),
        (call_script, "script_cf_test_lord_incompatibility_to_s17", ":var10", "$marshall_defeated_in_battle"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_s14_blames_s15_for_defeat"),
        (try_end),
        (call_script, "script_add_log_entry", 33, ":var10", "$marshall_defeated_in_battle", ":var15", ":var2"),
        (call_script, "script_troop_change_relation_with_troop", ":var10", ":var15", -15),
        (val_add, "$total_battle_ally_changes", -15),
        (neq, "$marshall_defeated_in_battle", ":var15"),
        (call_script, "script_troop_change_relation_with_troop", ":var10", "$marshall_defeated_in_battle", -15),
        (val_add, "$total_battle_ally_changes", -15),
      (try_end),
      (party_clear, "p_temp_party_2"),
    (try_end),
  ]),

  ("faction_inflict_war_damage_on_faction",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_add, ":var3", ":var1", 300),
    (val_sub, ":var3", "fac_player_supporters_faction"),
    (faction_get_slot, ":var4", ":var0", ":var3"),
    (val_add, ":var4", ":var2"),
    (faction_set_slot, ":var0", ":var3", ":var4"),
    (try_begin),
      (ge, "$cheat_mode", 1),
      (str_store_faction_name, s4, ":var0"),
      (str_store_faction_name, s5, ":var1"),
      (assign, reg3, ":var4"),
      (assign, reg4, ":var2"),
      (display_message, "@{!}{s4} inflicts {reg4} damage on {s5}, raising total inflicted to {reg3}"),
    (try_end),
    (faction_get_slot, ":var5", ":var1", 8),
    (try_begin),
      (ge, ":var5", 0),
      (gt, ":var2", 0),
      (troop_get_slot, ":var6", ":var5", 150),
      (val_add, ":var6", ":var2"),
      (val_min, ":var6", 100),
      (troop_set_slot, ":var5", 150, ":var6"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var5"),
        (assign, reg4, ":var2"),
        (assign, reg5, ":var6"),
        (display_message, "@{!}War damage raises {s4}'s controversy by {reg4} to {reg5}"),
      (try_end),
    (try_end),
    (faction_get_slot, ":var5", ":var0", 8),
    (try_begin),
      (ge, ":var5", 0),
      (val_div, ":var2", 3),
      (gt, ":var2", 0),
      (troop_get_slot, ":var6", ":var5", 150),
      (val_sub, ":var6", ":var2"),
      (val_max, ":var6", 0),
      (troop_set_slot, ":var5", 150, ":var6"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var5"),
        (assign, reg4, ":var2"),
        (assign, reg5, ":var6"),
        (display_message, "@{!}War damage lowers {s4}'s controversy by {reg4} to {reg5}"),
      (try_end),
    (try_end),
  ]),

  ("calculate_troop_political_factors_for_liege",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 52),
    (store_faction_of_troop, ":var3", ":var1"),
    (try_begin),
      (eq, ":var3", "fac_player_faction"),
      (assign, ":var3", "fac_player_supporters_faction"),
    (try_end),
    (assign, ":var4", 0),
    (try_begin),
      (neg|faction_slot_eq, ":var3", 11, ":var1"),
      (assign, ":var4", 1),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s32, ":var1"),
        (display_message, "str_s32_is_undeclared_rebel"),
      (try_end),
    (try_end),
    (assign, ":var5", 0),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (assign, ":var8", -1),
    (try_begin),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (try_for_range, ":var9", "p_town_1_1", "p_salt_mine"),
        (eq, ":var8", -1),
        (party_slot_eq, ":var9", 7, ":var0"),
        (assign, ":var8", ":var9"),
      (try_end),
    (try_end),
    (assign, ":var10", 0),
    (try_for_range, ":var9", "p_town_1_1", "p_salt_mine"),
      (neq, ":var9", ":var8"),
      (gt, ":var8", 0),
      (try_begin),
        (is_between, ":var9", "p_town_1_1", "p_castle_1_1"),
        (assign, ":var11", 9000),
      (else_try),
        (is_between, ":var9", "p_castle_1_1", "p_village_1_1"),
        (assign, ":var11", 6000),
      (else_try),
        (assign, ":var11", 1000),
      (try_end),
      (store_distance_to_party_from_party, ":var12", ":var8", ":var9"),
      (val_add, ":var12", 10),
      (val_div, ":var11", ":var12"),
      (val_div, ":var11", ":var12"),
      (store_faction_of_party, ":var13", ":var9"),
      (try_begin),
        (eq, ":var13", ":var3"),
        (assign, ":var10", 1),
        (val_add, ":var7", ":var11"),
      (else_try),
        (neq, ":var13", ":var3"),
        (store_relation, ":var14", ":var13", ":var3"),
        (try_begin),
          (this_or_next|eq, ":var4", 1),
          (lt, ":var14", 0),
          (val_div, ":var11", 2),
        (else_try),
          (val_div, ":var11", 4),
        (try_end),
        (val_sub, ":var7", ":var11"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var10", 0),
      (val_add, ":var7", 20),
      (try_begin),
        (eq, "$cheat_mode", 2),
        (display_message, "str_small_bonus_for_no_base"),
      (try_end),
    (try_end),
    (val_clamp, ":var7", -100, 100),
    (assign, ":var15", ":var7"),
    (try_begin),
      (eq, ":var2", 4),
      (val_mul, ":var15", 2),
    (else_try),
      (eq, ":var2", 1),
      (val_div, ":var15", 2),
    (try_end),
    (assign, ":var16", 0),
    (try_for_range, ":var17", "trp_kingdom_heroes_including_player_begin", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var17", 166, 1),
      (assign, ":var18", ":var17"),
      (this_or_next|troop_slot_eq, ":var18", 2, 2),
      (this_or_next|eq, ":var18", "trp_kingdom_heroes_including_player_begin"),
      (is_between, ":var18", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (store_faction_of_troop, ":var19", ":var18"),
      (try_begin),
        (eq, ":var17", "trp_kingdom_heroes_including_player_begin"),
        (assign, ":var18", "trp_player"),
        (assign, ":var19", "$players_kingdom"),
        (try_begin),
          (eq, "$g_talk_troop", ":var0"),
          (store_faction_of_troop, ":var20", ":var0"),
          (eq, ":var20", ":var3"),
          (assign, ":var19", 0),
        (try_end),
      (try_end),
      (eq, ":var19", ":var3"),
      (neg|faction_slot_eq, ":var19", 11, ":var18"),
      (neq, ":var4", 1),
      (neg|is_between, ":var18", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var18"),
      (assign, ":var21", reg0),
      (call_script, "script_troop_get_relation_with_troop", ":var18", ":var1"),
      (assign, ":var22", reg0),
      (store_mul, ":var23", ":var21", ":var22"),
      (val_div, ":var23", 100),
      (try_begin),
        (eq, "$cheat_mode", 2),
        (eq, "$g_talk_troop", ":var0"),
        (str_store_faction_name, s20, ":var19"),
        (str_store_troop_name, s15, ":var18"),
        (assign, reg15, ":var23"),
        (display_message, "str_s15_considered_member_of_faction_s20_weight_of_reg15"),
      (try_end),
      (val_add, ":var16", ":var23"),
    (try_end),
    (val_clamp, ":var16", -100, 101),
    (try_begin),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var1"),
      (assign, ":var24", reg0),
      (val_add, ":var16", ":var24"),
    (try_end),
    (val_div, ":var16", 2),
    (val_clamp, ":var16", -100, 101),
    (assign, ":var25", ":var16"),
    (try_begin),
      (this_or_next|eq, ":var2", 6),
      (eq, ":var2", 2),
      (val_mul, ":var25", 2),
    (try_end),
    (assign, ":var5", 0),
    (assign, ":var26", ":var5"),
    (try_begin),
      (eq, 1, 0),
      (neq, ":var1", "trp_player"),
      (neq, ":var1", "$supported_pretender"),
      (assign, ":var27", 0),
      (assign, ":var28", 0),
      (assign, ":var29", 0),
    (else_try),
      (troop_get_slot, ":var30", ":var0", 53),
      (call_script, "script_rebellion_arguments", ":var0", ":var30", ":var1"),
      (assign, ":var28", reg0),
      (assign, ":var27", reg1),
      (store_add, ":var29", ":var28", ":var27"),
      (store_skill_level, ":var31", "skl_persuasion", "trp_player"),
      (try_begin),
        (gt, ":var29", 0),
        (store_add, ":var32", ":var31", 5),
        (val_mul, ":var32", 2),
        (val_div, ":var32", 3),
        (val_mul, ":var29", ":var32"),
        (val_div, ":var29", 10),
      (else_try),
        (lt, ":var29", 0),
        (store_sub, ":var33", 10, ":var31"),
        (val_mul, ":var29", ":var33"),
        (val_div, ":var29", 10),
      (try_end),
      (try_begin),
        (neq, ":var1", "trp_player"),
        (neq, ":var1", "$supported_pretender"),
        (val_div, ":var27", 2),
        (val_div, ":var28", 2),
        (val_div, ":var29", 2),
      (try_end),
    (try_end),
    (try_begin),
      (store_faction_of_troop, ":var20", ":var0"),
      (eq, ":var20", ":var3"),
      (assign, ":var6", 0),
    (else_try),
      (eq, ":var1", "trp_player"),
      (store_sub, ":var6", 60, "$player_right_to_rule"),
    (else_try),
      (troop_get_slot, ":var34", ":var0", 14),
      (troop_get_slot, ":var35", ":var1", 14),
      (eq, ":var34", ":var35"),
      (assign, ":var6", 10),
    (else_try),
      (assign, ":var6", 50),
    (try_end),
    (val_clamp, ":var6", 0, 101),
    (assign, ":var36", ":var6"),
    (try_begin),
      (eq, ":var2", 5),
      (val_div, ":var36", 2),
    (else_try),
      (eq, ":var2", 7),
      (val_mul, ":var36", 2),
    (try_end),
    (assign, reg1, ":var7"),
    (assign, reg2, ":var15"),
    (assign, reg3, ":var16"),
    (assign, reg4, ":var25"),
    (assign, reg5, ":var5"),
    (assign, reg6, ":var26"),
    (assign, reg7, ":var27"),
    (assign, reg17, ":var28"),
    (assign, reg8, ":var29"),
    (assign, reg9, ":var6"),
    (assign, reg10, ":var36"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (eq, "$g_talk_troop", ":var0"),
      (str_store_troop_name, s20, ":var0"),
      (str_store_faction_name, s21, ":var3"),
      (str_store_troop_name, s22, ":var1"),
      (display_message, "@{!}G talk troop {s20} evaluates being vassal to {s22} of {s21}"),
      (display_message, "str_base_result_for_security_reg1"),
      (display_message, "str_result_for_security_weighted_by_personality_reg2"),
      (display_message, "str_base_result_for_political_connections_reg3"),
      (display_message, "str_result_for_political_connections_weighted_by_personality_reg4"),
      (try_begin),
        (this_or_next|eq, ":var1", "trp_player"),
        (eq, ":var1", "$supported_pretender"),
        (display_message, "str_result_for_argument_strength_reg7"),
        (display_message, "str_result_for_argument_appeal_reg17"),
        (display_message, "str_combined_result_for_argument_modified_by_persuasion_reg8"),
      (try_end),
      (display_message, "str_base_changing_sides_penalty_reg9"),
      (display_message, "str_changing_sides_penalty_weighted_by_personality_reg10"),
    (try_end),
    (store_add, ":var37", ":var15", ":var25"),
    (val_add, ":var37", ":var26"),
    (val_add, ":var37", ":var29"),
    (val_sub, ":var37", ":var36"),
    (assign, reg0, ":var37"),
    (try_begin),
      (eq, "$cheat_mode", 2),
      (display_message, "@{!}DEBUG -- Analyzing lord allegiances, combined bonuses and penalties = {reg0}"),
    (try_end),
  ]),

  ("cf_troop_can_intrigue",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 10),
    (party_is_active, ":var2"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (eq, ":var0", "$g_talk_troop"),
      (display_message, "str_intrigue_test_troop_party_is_active"),
    (try_end),
    (party_get_battle_opponent, ":var3", ":var2"),
    (le, ":var3", 0),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (eq, ":var0", "$g_talk_troop"),
      (display_message, "str_intrigue_test_troop_party_is_not_in_battle"),
    (try_end),
    (troop_slot_eq, ":var0", 8, -1),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (eq, ":var0", "$g_talk_troop"),
      (display_message, "str_intrigue_test_troop_is_not_prisoner"),
    (try_end),
    (party_get_attached_to, ":var4", ":var2"),
    (store_faction_of_party, ":var5", ":var2"),
    (assign, ":var6", 0),
    (try_for_range, ":var7", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var7", 166, 1),
      (neq, ":var0", ":var7"),
      (eq, ":var6", 0),
      (troop_slot_eq, ":var7", 2, 2),
      (troop_get_slot, ":var8", ":var7", 10),
      (party_is_active, ":var8"),
      (neq, ":var2", ":var8"),
      (store_faction_of_party, ":var9", ":var8"),
      (eq, ":var5", ":var9"),
      (try_begin),
        (eq, ":var4", -1),
        (store_distance_to_party_from_party, ":var10", ":var2", ":var8"),
        (lt, ":var10", 3),
        (assign, ":var6", 1),
      (else_try),
        (is_between, ":var4", "p_town_1_1", "p_village_1_1"),
        (party_get_attached_to, ":var11", ":var8"),
        (eq, ":var4", ":var11"),
        (assign, ":var6", 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (eq, ":var0", "$g_talk_troop"),
      (display_message, "str_intrigue_test_troop_is_nearby"),
    (try_end),
    (try_begin),
      (eq, ":var1", 0),
    (try_end),
    (eq, ":var6", 0),
  ]),

  ("troop_change_relation_with_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (neq, ":var0", -1),
    (neq, ":var1", -1),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (call_script, "script_change_player_relation_with_troop", ":var1", ":var2"),
    (else_try),
      (eq, ":var1", "trp_player"),
      (call_script, "script_change_player_relation_with_troop", ":var0", ":var2"),
    (else_try),
      (eq, ":var0", ":var1"),
    (else_try),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var1"),
      (store_add, ":var3", reg0, ":var2"),
      (val_clamp, ":var3", -100, 101),
      (try_begin),
        (eq, ":var3", 0),
        (assign, ":var3", 1),
      (try_end),
      (store_sub, ":var4", ":var1", "trp_kingdom_heroes_including_player_begin"),
      (val_add, ":var4", 200),
      (troop_set_slot, ":var0", ":var4", ":var3"),
      (store_sub, ":var5", ":var0", "trp_kingdom_heroes_including_player_begin"),
      (val_add, ":var5", 200),
      (troop_set_slot, ":var1", ":var5", ":var3"),
    (try_end),
    (try_begin),
      (lt, ":var2", -5),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (assign, ":var6", "$players_kingdom"),
      (else_try),
        (store_faction_of_troop, ":var6", ":var0"),
      (try_end),
      (try_begin),
        (eq, ":var1", "trp_player"),
        (assign, ":var7", "$players_kingdom"),
      (else_try),
        (store_faction_of_troop, ":var7", ":var1"),
      (try_end),
      (eq, ":var6", ":var7"),
      (is_between, ":var6", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (store_mul, ":var8", ":var2", -1),
      (troop_get_slot, ":var9", ":var0", 150),
      (val_add, ":var9", ":var8"),
      (val_min, ":var9", 100),
      (troop_set_slot, ":var0", 150, ":var9"),
      (troop_get_slot, ":var10", ":var1", 150),
      (val_add, ":var10", ":var8"),
      (val_min, ":var10", 100),
      (troop_set_slot, ":var1", 150, ":var10"),
    (try_end),
    (try_begin),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (is_between, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
      (neq, ":var0", ":var1"),
      (try_begin),
        (gt, ":var2", 0),
        (val_add, "$total_relation_adds", ":var2"),
      (else_try),
        (val_sub, "$total_relation_subs", ":var2"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 4),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (is_between, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
      (neq, ":var0", ":var1"),
      (str_store_troop_name, s20, ":var0"),
      (str_store_troop_name, s15, ":var1"),
      (assign, reg4, ":var2"),
      (assign, reg14, ":var3"),
      (display_message, "str_s20_relation_with_s15_changed_by_reg4_to_reg14"),
      (assign, reg4, "$total_relation_adds"),
      (display_message, "str_total_additions_reg4"),
      (assign, reg4, "$total_relation_subs"),
      (display_message, "str_total_subtractions_reg4"),
      (assign, reg4, "$total_courtship_quarrel_changes"),
      (display_message, "@{!}DEBUG -- Total courtship quarrel changes: {reg4}"),
      (assign, reg4, "$total_random_quarrel_changes"),
      (display_message, "@{!}DEBUG -- Total random quarrel changes: {reg4}"),
      (assign, reg4, "$total_battle_ally_changes"),
      (display_message, "@{!}DEBUG -- Total battle changes for allies: {reg4}"),
      (assign, reg4, "$total_battle_enemy_changes"),
      (display_message, "@{!}DEBUG -- Total battle changes for enemies: {reg4}"),
      (assign, reg4, "$total_promotion_changes"),
      (display_message, "@{!}DEBUG -- Total promotion changes: {reg4}"),
      (assign, reg4, "$total_feast_changes"),
      (display_message, "@{!}DEBUG -- Total feast changes: {reg4}"),
      (assign, reg4, "$total_policy_dispute_changes"),
      (display_message, "@{!}DEBUG -- Total policy dispute changes: {reg4}"),
      (assign, reg4, "$total_indictment_changes"),
      (display_message, "@{!}DEBUG -- Total faction switch changes: {reg4}"),
      (assign, reg4, "$total_no_fief_changes"),
      (display_message, "@{!}DEBUG -- Total no fief changes: {reg4}"),
      (assign, reg4, "$total_relation_changes_through_convergence"),
      (display_message, "@{!}DEBUG -- Total changes through convergence: {reg4}"),
      (assign, reg4, "$total_vassal_days_responding_to_campaign"),
      (display_message, "@{!}DEBUG -- Total vassal responses to campaign: {reg4}"),
      (assign, reg4, "$total_vassal_days_on_campaign"),
      (display_message, "@{!}DEBUG -- Total vassal campaign days: {reg4}"),
      (val_max, "$total_vassal_days_on_campaign", 1),
      (store_mul, ":var11", "$total_vassal_days_responding_to_campaign", 100),
      (val_div, ":var11", "$total_vassal_days_on_campaign"),
      (assign, reg4, ":var11"),
      (display_message, "@{!}DEBUG -- Vassal response rate: {reg4}"),
    (try_end),
  ]),

  ("troop_get_relation_with_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_begin),
      (this_or_next|eq, ":var0", -1),
      (eq, ":var1", -1),
      (assign, ":var2", 0),
    (else_try),
      (eq, ":var0", "trp_player"),
      (call_script, "script_troop_get_player_relation", ":var1"),
      (assign, ":var2", reg0),
    (else_try),
      (eq, ":var1", "trp_player"),
      (call_script, "script_troop_get_player_relation", ":var0"),
      (assign, ":var2", reg0),
    (else_try),
      (store_sub, ":var3", ":var1", "trp_kingdom_heroes_including_player_begin"),
      (val_add, ":var3", 200),
      (troop_get_slot, ":var2", ":var0", ":var3"),
    (try_end),
    (val_clamp, ":var2", -100, 101),
    (assign, reg0, ":var2"),
  ]),

  ("appoint_faction_marshall",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (faction_get_slot, ":var2", ":var0", 11),
    (faction_get_slot, ":var3", ":var0", 8),
    (faction_set_slot, ":var0", 8, ":var1"),
    (try_begin),
      (ge, ":var3", 0),
      (troop_get_slot, ":var4", ":var3", 10),
      (party_is_active, ":var4"),
      (party_set_marshall, ":var4", 0),
    (try_end),
    (try_begin),
      (ge, ":var1", 0),
      (troop_get_slot, ":var5", ":var1", 10),
      (party_is_active, ":var5"),
      (party_set_marshall, ":var5", 1),
    (try_end),
    (try_begin),
      (neq, ":var1", ":var2"),
      (neq, ":var1", ":var3"),
      (this_or_next|eq, ":var1", "trp_player"),
      (is_between, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
      (this_or_next|neq, ":var0", "fac_player_supporters_faction"),
      (neg|check_quest_active, "qst_rebel_against_kingdom"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_faction_name, s15, ":var0"),
        (display_message, "str_checking_lord_reactions_in_s15"),
      (try_end),
      (call_script, "script_troop_change_relation_with_troop", ":var1", ":var2", 5),
      (val_add, "$total_promotion_changes", 5),
      (try_for_range, ":var6", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var6", 166, 1),
        (troop_slot_eq, ":var6", 2, 2),
        (store_faction_of_troop, ":var7", ":var6"),
        (eq, ":var7", ":var0"),
        (neq, ":var6", ":var1"),
        (neq, ":var6", ":var2"),
        (call_script, "script_troop_get_relation_with_troop", ":var1", ":var6"),
        (store_sub, ":var8", reg0, 10),
        (val_div, ":var8", 15),
        (neq, ":var8", 0),
        (try_begin),
          (troop_slot_eq, ":var6", 154, ":var1"),
          (val_add, ":var8", 1),
          (val_max, ":var8", 0),
        (try_end),
        (call_script, "script_troop_change_relation_with_troop", ":var2", ":var6", ":var8"),
        (val_add, "$total_promotion_changes", ":var8"),
        (lt, ":var8", -2),
        (store_random_in_range, ":var9", 1, 10),
        (val_add, ":var8", ":var9"),
        (lt, ":var8", 0),
        (str_store_troop_name, s14, ":var6"),
        (str_store_troop_name, s15, ":var1"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_s14_protests_the_appointment_of_s15_as_marshall"),
        (try_end),
        (call_script, "script_troop_change_relation_with_troop", ":var2", ":var6", -10),
        (call_script, "script_troop_change_relation_with_troop", ":var1", ":var6", -5),
        (val_add, "$total_promotion_changes", -15),
        (call_script, "script_add_log_entry", 32, ":var6", ":var1", ":var2", "$g_encountered_party_faction"),
      (try_end),
    (try_end),
  ]),

  ("center_get_item_consumption",
  [
  ]),

  ("locate_player_minister",
  [
    (assign, ":var0", 0),
    (try_for_range, ":var1", "p_town_1_1", "p_village_1_1"),
      (lt, ":var0", "p_town_1_1"),
      (store_faction_of_party, ":var2", ":var1"),
      (eq, ":var2", "$players_kingdom"),
      (neg|party_slot_ge, ":var1", 7, "trp_npc1"),
      (assign, ":var0", ":var1"),
    (try_end),
    (troop_get_slot, ":var3", "$g_player_minister", 12),
    (troop_set_slot, "$g_player_minister", 12, ":var0"),
    (try_begin),
      (neq, ":var3", ":var1"),
      (str_store_party_name_link, s10, ":var1"),
      (str_store_troop_name, s11, "$g_player_minister"),
      (display_message, "str_s11_relocates_to_s10", 0x66CCFF),
    (try_end),
  ]),

  ("lord_get_home_center",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (try_for_range, ":var2", "p_town_1_1", "p_village_1_1"),
      (eq, ":var1", -1),
      (party_slot_eq, ":var2", 7, ":var0"),
      (assign, ":var1", ":var2"),
    (try_end),
    (try_begin),
      (eq, ":var1", -1),
      (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
        (eq, ":var1", -1),
        (party_slot_eq, ":var2", 7, ":var0"),
        (try_begin),
          (neg|is_between, ":var2", "p_town_1_1", "p_village_1_1"),
          (party_get_slot, ":var3", ":var2", 120),
          (assign, ":var1", ":var3"),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var1", -1),
      (store_faction_of_troop, ":var4", ":var0"),
      (eq, ":var4", "$players_kingdom"),
      (is_between, "$g_player_court", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var5", "$g_player_court"),
      (eq, ":var5", "$players_kingdom"),
      (assign, ":var1", "$g_player_court"),
    (try_end),
    (try_begin),
      (eq, ":var1", -1),
      (store_faction_of_troop, ":var4", ":var0"),
      (faction_get_slot, ":var6", ":var4", 11),
      (neq, ":var0", ":var6"),
      (ge, ":var6", 0),
      (call_script, "script_lord_get_home_center", ":var6"),
      (gt, reg0, -1),
      (assign, ":var1", reg0),
    (try_end),
    (try_begin),
      (eq, ":var1", -1),
      (store_faction_of_troop, ":var4", ":var0"),
      (try_for_range, ":var7", "p_town_1_1", "p_village_1_1"),
        (eq, ":var1", -1),
        (store_faction_of_party, ":var8", ":var7"),
        (eq, ":var4", ":var8"),
        (assign, ":var1", ":var7"),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("get_kingdom_lady_social_determinants",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", 0),
    (try_begin),
      (troop_slot_ge, ":var0", 30, 0),
      (troop_get_slot, ":var5", ":var0", 30),
      (troop_slot_eq, ":var5", 166, 1),
      (assign, ":var3", ":var5"),
    (else_try),
      (troop_slot_ge, ":var0", 31, 0),
      (troop_get_slot, ":var5", ":var0", 31),
      (troop_slot_eq, ":var5", 166, 1),
      (assign, ":var3", ":var5"),
    (else_try),
      (troop_slot_ge, ":var0", 33, 0),
      (troop_get_slot, ":var5", ":var0", 33),
      (troop_slot_eq, ":var5", 166, 1),
      (assign, ":var3", ":var5"),
    (try_end),
    (try_begin),
      (faction_slot_eq, ":var1", 4, 6),
      (faction_get_slot, ":var6", ":var1", 5),
      (gt, ":var3", -1),
      (troop_get_slot, ":var7", ":var3", 10),
      (party_is_active, ":var7"),
      (party_get_attached_to, ":var8", ":var7"),
      (eq, ":var8", ":var6"),
      (is_between, ":var6", "p_town_1_1", "p_village_1_1"),
      (assign, ":var2", ":var6"),
    (else_try),
      (troop_slot_eq, "trp_player", 30, ":var0"),
      (try_begin),
        (is_between, "$g_player_court", "p_town_1_1", "p_village_1_1"),
      (else_try),
        (troop_get_slot, ":var9", ":var0", 12),
        (is_between, ":var9", "p_town_1_1", "p_village_1_1"),
        (party_slot_eq, ":var9", 7, "trp_player"),
        (assign, ":var2", ":var9"),
      (try_end),
      (is_between, ":var2", "p_town_1_1", "p_village_1_1"),
    (else_try),
      (try_for_range, ":var10", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var11", ":var10"),
        (this_or_next|eq, ":var1", ":var11"),
        (neg|is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (party_get_slot, ":var12", ":var10", 7),
        (gt, ":var12", -1),
        (call_script, "script_troop_get_family_relation_to_troop", ":var0", ":var12"),
        (try_begin),
          (this_or_next|is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (troop_slot_eq, "trp_player", 30, ":var0"),
          (faction_slot_eq, ":var1", 11, ":var12"),
          (val_max, reg0, 1),
        (try_end),
        (try_begin),
          (eq, "$cheat_mode", 2),
          (str_store_troop_name, s3, ":var0"),
          (str_store_troop_name, s4, ":var12"),
          (str_store_party_name, s5, ":var10"),
          (display_message, "str_checking_s3_at_s5_with_s11_relationship_with_s4_score_reg0"),
          (str_clear, s11),
        (try_end),
        (gt, reg0, ":var4"),
        (assign, ":var4", reg0),
        (assign, ":var2", ":var10"),
      (try_end),
    (try_end),
    (assign, reg0, ":var3"),
    (assign, reg1, ":var2"),
  ]),

  ("age_troop_one_year",
  [
    (store_script_param, ":var0", 1),
    (troop_get_type, ":var1", ":var0"),
    (troop_get_slot, ":var2", ":var0", 18),
    (troop_get_slot, ":var3", ":var0", 19),
    (val_add, ":var2", 1),
    (store_random_in_range, ":var4", 1, 5),
    (try_begin),
      (eq, ":var1", 1),
    (try_end),
    (val_add, ":var3", ":var4"),
    (try_begin),
      (gt, ":var2", 45),
      (store_attribute_level, ":var5", ":var0", ca_strength),
      (store_attribute_level, ":var6", ":var0", ca_agility),
      (store_random_in_range, ":var7", 0, 50),
      (try_begin),
        (lt, ":var7", ":var5"),
        (troop_raise_attribute, ":var0", ca_strength, -1),
      (try_end),
      (try_begin),
        (lt, ":var7", ":var6"),
        (troop_raise_attribute, ":var0", ca_agility, -1),
      (try_end),
    (try_end),
    (val_clamp, ":var3", 1, 100),
    (troop_set_slot, ":var0", 18, ":var2"),
    (troop_set_slot, ":var0", 19, ":var3"),
    (troop_set_age, ":var0", ":var3"),
  ]),

  ("add_lady_items",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", "itm_tutorial_spear", "itm_items_end"),
      (troop_remove_item, ":var0", ":var1"),
    (try_end),
    (store_faction_of_troop, ":var2", ":var0"),
    (call_script, "script_raf_aor_faction_to_region", ":var2"),
    (try_begin),
      (eq, reg0, 4),
      (store_random_in_range, ":var3", "itm_khergit_lady_dress", "itm_nomad_armor"),
      (troop_add_item, ":var0", ":var3", 0),
    (else_try),
      (this_or_next|eq, reg0, 10),
      (this_or_next|eq, reg0, 11),
      (eq, reg0, 12),
      (store_random_in_range, ":var3", "itm_sarranid_lady_dress", "itm_sarranid_common_dress"),
      (troop_add_item, ":var0", ":var3", 0),
    (else_try),
      (store_random_in_range, ":var3", "itm_red_dress", "itm_merchant_outfit"),
      (troop_add_item, ":var0", ":var3", 0),
    (try_end),
    (store_random_in_range, ":var1", "itm_red_hose", "itm_berber_shoes"),
    (troop_add_item, ":var0", ":var1", 0),
    (troop_equip_items, ":var0"),
    (try_begin),
      (try_begin),
        (this_or_next|troop_has_item_equipped, ":var0", "itm_red_dress"),
        (this_or_next|troop_has_item_equipped, ":var0", "itm_brown_dress"),
        (troop_has_item_equipped, ":var0", "itm_green_dress"),
        (store_random_in_range, ":var1", "itm_turret_hat_green", "itm_straw_hat"),
        (troop_add_item, ":var0", ":var1", 0),
      (else_try),
        (troop_has_item_equipped, ":var0", "itm_sarranid_lady_dress"),
        (troop_add_item, ":var0", "itm_sarranid_head_cloth", 0),
      (else_try),
        (troop_has_item_equipped, ":var0", "itm_sarranid_lady_dress_b"),
        (troop_add_item, ":var0", "itm_sarranid_head_cloth_b", 0),
      (try_end),
      (troop_equip_items, ":var0"),
    (try_end),
  ]),

  ("init_troop_age",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (gt, ":var1", 20),
      (troop_set_slot, ":var0", 18, 20),
    (else_try),
      (troop_set_slot, ":var0", 18, ":var1"),
    (try_end),
    (store_sub, ":var2", ":var1", 20),
    (troop_set_age, ":var0", 0),
    (try_begin),
      (gt, ":var2", 0),
      (try_for_range, ":var3", 0, ":var2"),
        (call_script, "script_age_troop_one_year", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("assign_troop_love_interests",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (try_for_range, ":var2", 0, 50),
      (store_random_in_range, ":var3", "trp_knight_1_1_wife", "trp_heroes_end"),
      (troop_slot_eq, ":var3", 30, -1),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var1", ":var4"),
      (call_script, "script_troop_get_family_relation_to_troop", ":var0", ":var3"),
      (eq, reg0, 0),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var3"),
      (eq, reg0, 0),
      (neg|troop_slot_eq, ":var0", 35, ":var3"),
      (neg|troop_slot_eq, ":var0", 36, ":var3"),
      (neg|troop_slot_eq, ":var0", 37, ":var3"),
      (try_begin),
        (troop_slot_eq, ":var0", 35, 0),
        (troop_set_slot, ":var0", 35, ":var3"),
      (else_try),
        (troop_slot_eq, ":var0", 36, 0),
        (troop_set_slot, ":var0", 36, ":var3"),
      (else_try),
        (troop_slot_eq, ":var0", 37, 0),
        (troop_set_slot, ":var0", 37, ":var3"),
      (try_end),
    (try_end),
  ]),

  ("faction_conclude_feast",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (str_store_faction_name, s3, ":var0"),
    (str_store_party_name, s4, ":var1"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_s3_feast_concludes_at_s4"),
    (try_end),
    (try_begin),
      (eq, ":var0", "fac_player_faction"),
      (assign, ":var0", "$players_kingdom"),
    (try_end),
    (party_set_slot, ":var1", 156, 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_for_range, ":var4", "trp_npc1", "trp_heroes_end"),
      (troop_slot_eq, ":var4", 166, 1),
      (store_faction_of_troop, ":var5", ":var4"),
      (eq, ":var0", ":var5"),
      (val_add, ":var2", 1),
      (troop_slot_eq, ":var4", 12, ":var1"),
      (val_add, ":var3", 1),
      (troop_slot_eq, ":var4", 2, 6),
      (troop_get_slot, ":var6", ":var4", 34),
      (gt, ":var6", 0),
      (troop_get_slot, ":var7", ":var6", 10),
      (party_is_active, ":var7"),
      (party_get_attached_to, ":var8", ":var7"),
      (eq, ":var8", ":var1"),
      (store_faction_of_troop, ":var9", ":var4"),
      (store_faction_of_troop, ":var10", ":var6"),
      (eq, ":var10", ":var9"),
      (eq, ":var9", ":var0"),
      (store_current_hours, ":var11"),
      (troop_get_slot, ":var12", ":var4", 39),
      (val_sub, ":var11", ":var12"),
      (ge, ":var11", 144),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var4"),
      (assign, ":var13", reg1),
      (eq, ":var1", ":var13"),
      (neq, ":var4", "trp_player"),
      (neq, ":var6", "trp_player"),
      (call_script, "script_courtship_event_bride_marry_groom", ":var4", ":var6", 0),
    (try_end),
    (party_get_slot, ":var14", ":var1", 7),
    (assign, ":var15", 0),
    (try_begin),
      (check_quest_active, "qst_organize_feast"),
      (quest_slot_eq, "qst_organize_feast", 1, ":var1"),
      (assign, ":var14", "trp_player"),
      (assign, ":var16", 400),
      (call_script, "script_succeed_quest", "qst_organize_feast"),
      (call_script, "script_end_quest", "qst_organize_feast"),
      (call_script, "script_internal_politics_rate_feast_to_s9", "trp_household_possessions", ":var16", "$players_kingdom", 1),
      (assign, ":var15", reg0),
    (else_try),
      (assign, ":var15", 60),
    (try_end),
    (try_begin),
      (ge, "$cheat_mode", 1),
      (str_store_troop_name, s4, ":var14"),
      (assign, reg4, ":var15"),
      (display_message, "@{!}DEBUG - {s4}'s feast has rating of {reg4}"),
    (try_end),
    (try_begin),
      (ge, ":var14", 0),
      (store_div, ":var17", ":var15", 3),
      (call_script, "script_change_troop_renown", ":var14", ":var17"),
      (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var4", 166, 1),
        (troop_slot_eq, ":var4", 2, 2),
        (troop_get_slot, ":var18", ":var4", 10),
        (party_is_active, ":var18"),
        (party_get_attached_to, ":var19", ":var18"),
        (eq, ":var19", ":var1"),
        (assign, ":var20", ":var15"),
        (val_div, ":var20", 20),
        (try_begin),
          (eq, ":var14", "trp_player"),
          (val_sub, ":var20", 1),
          (val_max, ":var20", 0),
        (try_end),
        (call_script, "script_troop_change_relation_with_troop", ":var14", ":var4", ":var20"),
        (val_add, "$total_feast_changes", ":var20"),
      (try_end),
    (try_end),
    (assign, reg3, ":var3"),
    (assign, reg4, ":var2"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "str_attendance_reg3_nobles_out_of_reg4"),
    (try_end),
  ]),

  ("lady_evaluate_troop_as_suitor",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_troop_get_romantic_chemistry_with_troop", ":var0", ":var1"),
    (assign, ":var2", reg0),
    (try_begin),
      (call_script, "script_cf_test_lord_incompatibility_to_s17", ":var0", ":var1"),
    (try_end),
    (store_sub, ":var3", 0, reg0),
    (assign, reg2, ":var3"),
    (try_begin),
      (troop_get_slot, ":var4", ":var1", 7),
      (val_div, ":var4", 20),
      (try_begin),
        (this_or_next|troop_slot_eq, ":var0", 52, 21),
        (troop_slot_eq, ":var0", 52, 24),
        (val_mul, ":var4", 2),
        (val_sub, ":var4", 15),
      (try_end),
    (try_end),
    (store_add, ":var5", ":var4", ":var3"),
    (val_add, ":var5", ":var2"),
    (assign, reg0, ":var5"),
  ]),

  ("courtship_event_troop_court_lady",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var1", 38),
    (troop_set_slot, ":var1", 38, ":var0"),
    (try_begin),
      (eq, ":var2", "trp_player"),
      (troop_slot_ge, ":var1", 5, 2),
      (call_script, "script_troop_get_relation_with_troop", ":var0", "trp_player"),
      (assign, ":var3", reg0),
      (try_begin),
        (this_or_next|troop_slot_eq, ":var0", 52, 3),
        (this_or_next|troop_slot_eq, ":var0", 52, 2),
        (troop_slot_eq, ":var0", 52, 5),
        (gt, ":var3", -20),
        (call_script, "script_add_log_entry", 31, ":var0", "trp_player", ":var1", 0),
      (else_try),
        (is_between, ":var3", -5, -25),
        (call_script, "script_add_log_entry", 31, ":var0", "trp_player", ":var1", 0),
      (try_end),
    (else_try),
      (neq, ":var2", "trp_player"),
      (neq, ":var0", ":var2"),
      (ge, ":var2", "trp_npc1"),
      (call_script, "script_cf_test_lord_incompatibility_to_s17", ":var0", ":var2"),
      (call_script, "script_add_log_entry", 31, ":var0", ":var2", ":var1", 0),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var2"),
      (ge, reg0, 0),
      (call_script, "script_troop_change_relation_with_troop", ":var0", ":var2", -20),
      (val_add, "$total_courtship_quarrel_changes", -20),
    (else_try),
      (troop_slot_eq, ":var0", 52, 2),
      (neq, ":var0", ":var2"),
      (ge, ":var2", "trp_npc1"),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var2"),
      (lt, reg0, 10),
      (call_script, "script_add_log_entry", 31, ":var0", ":var2", ":var1", 0),
      (ge, reg0, 0),
      (call_script, "script_troop_change_relation_with_troop", ":var0", ":var2", -20),
      (val_add, "$total_courtship_quarrel_changes", -20),
    (try_end),
    (call_script, "script_lady_evaluate_troop_as_suitor", ":var1", ":var0"),
    (store_random_in_range, ":var4", 5, 16),
    (store_div, ":var5", reg0, ":var4"),
    (call_script, "script_troop_get_relation_with_troop", ":var1", ":var0"),
    (assign, ":var6", reg0),
    (call_script, "script_troop_change_relation_with_troop", ":var1", ":var0", ":var5"),
    (call_script, "script_troop_get_relation_with_troop", ":var1", ":var0"),
    (assign, ":var7", reg0),
    (try_begin),
      (ge, ":var7", 10),
      (lt, ":var6", 10),
      (call_script, "script_add_log_entry", 51, ":var1", 0, ":var0", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_note__favor_event_logged"),
      (try_end),
    (else_try),
      (this_or_next|lt, ":var7", -20),
      (ge, ":var7", 20),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var1"),
      (assign, ":var8", reg0),
      (ge, ":var8", 0),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var8"),
      (assign, ":var9", reg0),
      (assign, ":var10", -1),
      (assign, ":var11", -1),
      (assign, ":var12", ":var9"),
      (assign, ":var13", -1),
      (try_for_range, ":var14", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
        (troop_slot_eq, ":var14", 166, 1),
        (neq, ":var14", ":var0"),
        (this_or_next|troop_slot_eq, ":var14", 35, ":var1"),
        (this_or_next|troop_slot_eq, ":var14", 36, ":var1"),
        (troop_slot_eq, ":var14", 37, ":var1"),
        (try_begin),
          (call_script, "script_troop_get_relation_with_troop", ":var14", ":var1"),
          (gt, reg0, ":var10"),
          (assign, ":var11", ":var14"),
          (assign, ":var10", reg0),
        (try_end),
        (try_begin),
          (call_script, "script_troop_get_relation_with_troop", ":var14", ":var8"),
          (gt, reg0, ":var12"),
          (assign, ":var13", ":var14"),
          (assign, ":var12", reg0),
        (try_end),
      (try_end),
      (try_begin),
        (lt, ":var7", -20),
        (this_or_next|troop_slot_eq, ":var8", 52, 3),
        (this_or_next|troop_slot_eq, ":var8", 52, 5),
        (troop_slot_eq, ":var8", 52, 2),
        (eq, ":var13", -1),
        (this_or_next|troop_slot_eq, ":var0", 52, 3),
        (this_or_next|troop_slot_eq, ":var0", 52, 5),
        (troop_slot_eq, ":var0", 52, 2),
        (troop_slot_eq, ":var0", 34, -1),
        (troop_slot_eq, ":var1", 34, -1),
        (call_script, "script_add_log_entry", 53, ":var1", 0, ":var0", 0),
        (troop_set_slot, ":var0", 34, ":var1"),
        (troop_set_slot, ":var1", 34, ":var0"),
        (store_current_hours, ":var15"),
        (troop_set_slot, ":var1", 39, ":var15"),
        (troop_set_slot, ":var0", 39, ":var15"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_result_lady_forced_to_agree_to_engagement"),
        (try_end),
      (else_try),
        (lt, ":var7", -20),
        (call_script, "script_add_log_entry", 54, ":var1", 0, ":var0", 0),
        (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var1", ":var0"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_result_lady_rejects_suitor"),
        (try_end),
      (else_try),
        (gt, ":var7", 20),
        (gt, ":var9", 0),
        (eq, ":var11", -1),
        (troop_slot_eq, ":var0", 34, -1),
        (troop_slot_eq, ":var1", 34, -1),
        (call_script, "script_add_log_entry", 52, ":var1", 0, ":var0", 0),
        (troop_set_slot, ":var0", 34, ":var1"),
        (troop_set_slot, ":var1", 34, ":var0"),
        (store_current_hours, ":var15"),
        (troop_set_slot, ":var1", 39, ":var15"),
        (troop_set_slot, ":var0", 39, ":var15"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var1"),
          (str_store_troop_name, s5, ":var0"),
          (display_message, "str_result_happy_engagement_between_s4_and_s5"),
        (try_end),
      (else_try),
        (gt, ":var7", 20),
        (eq, ":var11", -1),
        (this_or_next|troop_slot_eq, ":var8", 52, 22),
        (troop_slot_eq, ":var8", 52, 24),
        (troop_slot_eq, ":var0", 34, -1),
        (troop_slot_eq, ":var1", 34, -1),
        (call_script, "script_courtship_event_bride_marry_groom", ":var1", ":var0", 1),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var1"),
          (str_store_troop_name, s5, ":var0"),
          (display_message, "str_result_s4_elopes_with_s5"),
        (try_end),
      (else_try),
        (troop_slot_eq, ":var1", 52, 21),
        (eq, ":var13", -1),
        (gt, ":var9", 4),
        (store_random_in_range, ":var4", 0, 5),
        (eq, ":var4", 0),
        (troop_slot_eq, ":var0", 34, -1),
        (troop_slot_eq, ":var1", 34, -1),
        (call_script, "script_add_log_entry", 59, ":var1", 0, ":var0", 0),
        (troop_set_slot, ":var0", 34, ":var1"),
        (troop_set_slot, ":var1", 34, ":var0"),
        (store_current_hours, ":var15"),
        (troop_set_slot, ":var1", 39, ":var15"),
        (troop_set_slot, ":var0", 39, ":var15"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_troop_name, s4, ":var1"),
          (str_store_troop_name, s5, ":var0"),
          (display_message, "str_result_s4_reluctantly_agrees_to_engagement_with_s5"),
        (try_end),
      (else_try),
        (gt, ":var7", 20),
        (store_random_in_range, reg3, 0, 3),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (display_message, "str_result_stalemate_patience_roll_=_reg3"),
        (try_end),
        (eq, reg3, 0),
        (call_script, "script_add_log_entry", 58, ":var1", 0, ":var0", 0),
        (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var1", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("courtship_event_lady_break_relation_with_suitor",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_for_range, ":var2", 35, 38),
      (troop_slot_eq, ":var1", ":var2", ":var0"),
      (troop_set_slot, ":var1", ":var2", 0),
    (try_end),
    (call_script, "script_assign_troop_love_interests", ":var1"),
    (try_begin),
      (troop_slot_eq, ":var0", 34, ":var1"),
      (troop_set_slot, ":var0", 34, -1),
      (troop_set_slot, ":var1", 34, -1),
    (try_end),
  ]),

  ("courtship_event_bride_marry_groom",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (assign, ":var3", "$g_encountered_party"),
    (else_try),
      (troop_get_slot, ":var3", ":var0", 12),
    (try_end),
    (store_faction_of_troop, ":var4", ":var1"),
    (try_begin),
      (eq, ":var2", 0),
      (call_script, "script_add_log_entry", 61, ":var0", ":var3", ":var1", 0),
    (else_try),
      (call_script, "script_add_log_entry", 57, ":var0", ":var3", ":var1", 0),
    (try_end),
    (str_store_troop_name_link, s3, ":var0"),
    (str_store_troop_name_link, s4, ":var1"),
    (str_store_party_name_link, s5, ":var3"),
    (try_begin),
      (this_or_next|eq, "$cheat_mode", 1),
      (eq, ":var4", "$players_kingdom"),
      (display_message, "str_s3_marries_s4_at_s5"),
    (try_end),
    (troop_set_slot, ":var0", 30, ":var1"),
    (troop_set_slot, ":var1", 30, ":var0"),
    (try_for_range, ":var5", 35, 38),
      (troop_set_slot, ":var1", ":var5", 0),
    (try_end),
    (try_for_range, ":var6", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var6", 166, 1),
      (try_for_range, ":var5", 35, 38),
        (troop_slot_eq, ":var6", ":var5", ":var0"),
        (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var0", ":var6"),
      (try_end),
    (try_end),
    (troop_set_slot, ":var0", 34, -1),
    (troop_set_slot, ":var1", 34, -1),
    (try_for_range, ":var7", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
      (troop_slot_eq, ":var7", 166, 1),
      (call_script, "script_troop_get_family_relation_to_troop", ":var0", ":var7"),
      (gt, reg0, 0),
      (store_div, ":var8", reg0, 3),
      (try_begin),
        (eq, ":var2", 1),
        (val_mul, ":var8", -2),
      (try_end),
      (call_script, "script_troop_change_relation_with_troop", ":var1", ":var0", ":var8"),
      (val_add, "$total_courtship_quarrel_changes", ":var8"),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "trp_player"),
      (eq, ":var0", "trp_player"),
      (call_script, "script_change_player_right_to_rule", "trp_player", 15),
    (try_end),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (check_quest_active, "qst_wed_betrothed"),
      (call_script, "script_succeed_quest", "qst_wed_betrothed"),
      (call_script, "script_end_quest", "qst_wed_betrothed"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_visit_lady"),
      (quest_slot_eq, "qst_visit_lady", 6, ":var0"),
      (call_script, "script_abort_quest", "qst_visit_lady", 0),
    (try_end),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (check_quest_active, "qst_visit_lady"),
      (call_script, "script_abort_quest", "qst_visit_lady", 0),
    (try_end),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (check_quest_active, "qst_duel_courtship_rival"),
      (call_script, "script_abort_quest", "qst_duel_courtship_rival", 0),
    (try_end),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (call_script, "script_player_join_faction", ":var4"),
      (assign, "$player_has_homage", 1),
    (else_try),
      (eq, ":var1", "trp_player"),
      (troop_set_faction, ":var0", "$players_kingdom"),
    (else_try),
      (troop_set_faction, ":var0", ":var4"),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "trp_player"),
      (eq, ":var0", "trp_player"),
      (unlock_achievement, 39),
      (try_begin),
        (eq, ":var2", 1),
        (unlock_achievement, 40),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "trp_player"),
      (eq, ":var0", "trp_player"),
      (call_script, "script_start_wedding_cutscene", ":var1", ":var0"),
    (try_end),
  ]),

  ("npc_decision_checklist_party_ai",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", ":var0", 10),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, "$g_talk_troop", ":var0"),
    (try_end),
    (store_faction_of_troop, ":var2", ":var0"),
    (try_begin),
      (eq, ":var0", "$g_talk_troop"),
      (str_store_string, s15, "str__i_must_attend_to_this_matter_before_i_worry_about_the_affairs_of_the_realm"),
    (try_end),
    (party_get_attached_to, ":var3", ":var1"),
    (try_begin),
      (lt, ":var3", 0),
      (party_get_cur_town, ":var3", ":var1"),
    (try_end),
    (assign, ":var4", -1),
    (try_begin),
      (neg|is_between, ":var3", "p_town_1_1", "p_salt_mine"),
      (assign, ":var3", -1),
    (else_try),
      (party_get_slot, ":var4", ":var3", 54),
      (try_begin),
        (neg|party_is_active, ":var4"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
    (call_script, "script_party_count_fit_for_battle", ":var1"),
    (assign, ":var5", reg0),
    (call_script, "script_party_get_ideal_size", ":var1"),
    (assign, ":var6", reg0),
    (store_mul, ":var7", ":var5", 100),
    (val_div, ":var7", ":var6"),
    (try_begin),
      (faction_slot_eq, ":var2", 82, 0),
      (faction_slot_eq, ":var2", 81, 0),
      (assign, ":var8", 0),
    (else_try),
      (party_get_num_prisoners, ":var9", ":var1"),
      (val_max, ":var5", 1),
      (store_div, ":var8", ":var9", ":var5"),
    (try_end),
    (assign, ":var10", 0),
    (try_for_range, ":var11", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var11", 21, 0),
      (store_relation, ":var12", ":var2", ":var11"),
      (lt, ":var12", 0),
      (assign, ":var10", 1),
    (try_end),
    (assign, ":var13", 0),
    (try_begin),
      (this_or_next|party_slot_eq, ":var1", 4, 5),
      (party_slot_eq, ":var1", 4, 1),
      (party_get_slot, ":var14", ":var1", 5),
      (is_between, ":var14", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var15", ":var14"),
      (store_relation, ":var12", ":var2", ":var15"),
      (lt, ":var12", 0),
      (store_distance_to_party_from_party, ":var16", ":var1", ":var14"),
      (lt, ":var16", 10),
      (this_or_next|party_slot_eq, ":var14", 35, 5),
      (this_or_next|party_slot_eq, ":var14", 35, 0),
      (party_slot_eq, ":var14", 35, 1),
      (assign, ":var13", 1),
    (try_end),
    (troop_get_slot, ":var17", ":var0", 52),
    (party_get_slot, ":var18", ":var1", 4),
    (party_get_slot, ":var19", ":var1", 5),
    (party_get_slot, ":var20", ":var1", 56),
    (store_current_hours, ":var21"),
    (party_get_slot, ":var22", ":var1", 71),
    (val_sub, ":var21", ":var22"),
    (store_current_hours, ":var23"),
    (party_get_slot, ":var24", ":var1", 69),
    (val_sub, ":var23", ":var24"),
    (store_current_hours, ":var25"),
    (party_get_slot, ":var26", ":var1", 68),
    (val_sub, ":var25", ":var26"),
    (store_current_hours, ":var27"),
    (party_get_slot, ":var28", ":var1", 70),
    (val_sub, ":var27", ":var28"),
    (troop_get_slot, ":var29", ":var0", 49),
    (store_mod, ":var30", ":var29", 73),
    (try_begin),
      (eq, ":var17", 1),
      (val_add, ":var30", 27),
    (else_try),
      (neq, ":var17", 5),
      (neq, ":var17", 2),
      (val_add, ":var30", 14),
    (try_end),
    (try_begin),
      (gt, ":var30", ":var25"),
      (val_add, ":var30", ":var25"),
      (val_div, ":var30", 2),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (eq, ":var0", "$g_talk_troop"),
      (str_store_troop_name, s4, ":var0"),
      (assign, reg3, ":var21"),
      (assign, reg4, ":var27"),
      (assign, reg5, ":var25"),
      (assign, reg6, ":var23"),
      (assign, reg7, ":var30"),
    (try_end),
    (str_store_string, s17, "str_the_other_matter_took_precedence"),
    (assign, ":var31", 0),
    (try_begin),
      (ge, ":var3", 0),
      (this_or_next|le, ":var5", 10),
      (le, ":var7", 30),
      (assign, ":var32", 7),
      (assign, ":var33", ":var3"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_need_to_raise_some_men_before_attempting_anything_else"),
        (str_store_string, s16, "str_i_need_to_raise_some_men_before_attempting_anything_else"),
      (try_end),
    (else_try),
      (gt, ":var4", -1),
      (assign, ":var32", 7),
      (assign, ":var33", ":var3"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_cannot_leave_this_fortress_now_as_it_is_under_siege"),
        (str_store_string, s16, "str_after_all_we_are_under_siege"),
      (try_end),
    (else_try),
      (eq, ":var18", 14),
      (neg|party_is_in_any_town, ":var1"),
      (ge, ":var19", 0),
      (party_is_active, ":var19"),
      (store_faction_of_party, ":var34", ":var19"),
      (eq, ":var2", ":var34"),
      (assign, ":var32", 14),
      (assign, ":var33", ":var19"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_we_are_not_strong_enough_to_face_the_enemy_out_in_the_open"),
        (str_store_string, s16, "str_i_should_probably_seek_shelter_behind_some_stout_walls"),
      (try_end),
    (else_try),
      (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
      (party_get_slot, ":var35", ":var3", 67),
      (ge, ":var35", 50),
      (assign, ":var32", 7),
      (assign, ":var33", ":var3"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_need_to_raise_some_men_before_attempting_anything_else"),
        (str_store_string, s16, "str_i_need_to_raise_some_men_before_attempting_anything_else"),
      (try_end),
    (else_try),
      (faction_slot_eq, ":var2", 8, ":var0"),
      (str_clear, s15),
      (faction_slot_eq, ":var2", 4, 1),
      (party_set_ai_initiative, ":var1", 10),
      (party_get_slot, ":var19", ":var1", 5),
      (assign, ":var36", ":var19"),
      (call_script, "script_find_center_to_defend", ":var0"),
      (assign, ":var37", reg0),
      (assign, ":var38", 0),
      (try_begin),
        (lt, ":var19", 0),
        (store_random_in_range, ":var39", 0, 8),
        (this_or_next|eq, "$g_gathering_new_started", 1),
        (eq, ":var39", 0),
        (assign, ":var40", 0),
        (assign, ":var41", 0),
        (try_for_range, ":var42", "trp_npc1", "trp_knight_1_1_wife"),
          (store_faction_of_troop, ":var43", ":var42"),
          (eq, ":var43", ":var2"),
          (troop_get_slot, ":var44", ":var42", 10),
          (party_is_active, ":var44"),
          (val_add, ":var41", 1),
          (party_slot_eq, ":var44", 4, 11),
          (party_slot_eq, ":var44", 5, ":var1"),
          (party_is_active, ":var1"),
          (store_distance_to_party_from_party, ":var45", ":var44", ":var1"),
          (lt, ":var45", 15),
          (val_add, ":var40", 1),
        (try_end),
        (assign, ":var46", -1),
        (try_begin),
          (gt, ":var41", 0),
          (store_mul, ":var46", ":var40", 100),
          (val_div, ":var46", ":var41"),
        (try_end),
        (try_begin),
          (le, ":var46", 35),
          (assign, ":var47", ":var37"),
          (try_begin),
            (eq, "$g_gathering_new_started", 1),
            (assign, ":var48", 100000),
            (try_for_range, ":var49", "p_town_1_1", "p_salt_mine"),
              (store_faction_of_party, ":var50", ":var49"),
              (eq, ":var50", ":var2"),
              (try_begin),
                (neq, ":var49", ":var37"),
                (store_distance_to_party_from_party, ":var51", ":var1", ":var49"),
                (lt, ":var51", ":var48"),
                (assign, ":var48", ":var51"),
                (assign, ":var47", ":var49"),
              (try_end),
            (try_end),
          (else_try),
            (assign, ":var52", 150),
            (try_begin),
              (ge, ":var46", 15),
              (store_sub, ":var52", 35, ":var46"),
              (val_add, ":var52", 5),
              (val_mul, ":var52", 6),
            (try_end),
            (try_begin),
              (ge, ":var37", 0),
              (store_distance_to_party_from_party, reg12, ":var1", ":var37"),
            (else_try),
              (assign, reg12, 0),
            (try_end),
            (assign, ":var53", 0),
            (try_for_range, ":var49", "p_town_1_1", "p_village_1_1"),
              (store_faction_of_party, ":var50", ":var49"),
              (eq, ":var50", ":var2"),
              (try_begin),
                (store_distance_to_party_from_party, ":var51", ":var1", ":var49"),
                (try_begin),
                  (ge, ":var37", 0),
                  (store_distance_to_party_from_party, reg13, ":var49", ":var37"),
                (else_try),
                  (assign, reg13, 0),
                (try_end),
                (store_sub, reg11, reg13, reg12),
                (this_or_next|ge, reg11, 40),
                (this_or_next|ge, ":var51", ":var52"),
                (eq, ":var49", ":var37"),
              (else_try),
                (val_add, ":var53", 1),
              (try_end),
            (try_end),
            (try_begin),
              (ge, ":var53", 0),
              (store_random_in_range, ":var54", 0, ":var53"),
              (val_add, ":var54", 1),
              (assign, ":var53", 0),
              (try_for_range, ":var49", "p_town_1_1", "p_village_1_1"),
                (store_faction_of_party, ":var50", ":var49"),
                (eq, ":var50", ":var2"),
                (try_begin),
                  (neq, ":var49", ":var37"),
                  (store_distance_to_party_from_party, ":var51", ":var1", ":var49"),
                  (lt, ":var51", ":var52"),
                  (try_begin),
                    (ge, ":var37", 0),
                    (store_distance_to_party_from_party, reg13, ":var49", ":var37"),
                  (else_try),
                    (assign, reg13, 0),
                  (try_end),
                  (store_sub, reg11, reg13, reg12),
                  (lt, reg11, 40),
                  (val_sub, ":var54", 1),
                  (eq, ":var54", 0),
                  (assign, ":var47", ":var49"),
                (try_end),
              (try_end),
            (try_end),
          (try_end),
          (assign, ":var36", ":var47"),
          (assign, ":var38", 1),
        (try_end),
      (else_try),
        (is_between, ":var19", "p_town_1_1", "p_salt_mine"),
        (party_get_position, pos1, ":var1"),
        (party_get_position, pos2, ":var19"),
        (get_distance_between_positions, ":var51", pos1, pos2),
        (le, ":var51", 3),
        (assign, ":var36", -1),
      (try_end),
      (try_begin),
        (eq, ":var36", -1),
        (assign, ":var32", -1),
      (else_try),
        (assign, ":var32", 16),
      (try_end),
      (assign, ":var33", ":var36"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (try_begin),
          (eq, ":var36", -1),
          (str_store_string, s14, "str_as_the_marshall_i_am_assembling_the_army_of_the_realm"),
        (else_try),
          (try_begin),
            (eq, ":var2", "$players_kingdom"),
            (eq, ":var38", 1),
            (le, "$number_of_report_to_army_quest_notes", 13),
            (check_quest_active, "qst_report_to_army"),
            (str_store_party_name_link, s10, ":var36"),
            (faction_get_slot, ":var55", ":var2", 8),
            (str_store_troop_name_link, s11, ":var55"),
            (store_current_hours, ":var56"),
            (call_script, "script_game_get_date_text", 0, ":var56"),
            (str_store_string, s14, "str_as_the_marshall_i_am_assembling_the_army_of_the_realm_and_travel_to_lands_near_s10_to_inform_more_vassals"),
            (str_store_string, s14, "@({s1}) {s11}: {s14}"),
            (add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", s14, 0),
            (val_add, "$number_of_report_to_army_quest_notes", 1),
          (try_end),
          (assign, reg0, ":var36"),
          (str_store_party_name, s10, ":var36"),
          (str_store_string, s14, "str_as_the_marshall_i_am_assembling_the_army_of_the_realm_and_travel_to_lands_near_s10_to_inform_more_vassals"),
        (try_end),
        (str_store_string, s16, "str_i_intend_to_assemble_the_army_of_the_realm"),
      (try_end),
    (else_try),
      (faction_slot_eq, ":var2", 8, ":var0"),
      (faction_slot_eq, ":var2", 4, 2),
      (faction_get_slot, ":var57", ":var2", 5),
      (assign, ":var32", 1),
      (assign, ":var33", ":var57"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_as_the_marshall_i_am_leading_the_siege"),
        (str_store_string, s16, "str_i_intend_to_begin_the_siege"),
      (try_end),
    (else_try),
      (faction_slot_eq, ":var2", 8, ":var0"),
      (faction_slot_eq, ":var2", 4, 3),
      (faction_get_slot, ":var57", ":var2", 5),
      (assign, ":var32", 5),
      (assign, ":var33", ":var57"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_as_the_marshall_i_am_leading_our_raid"),
        (str_store_string, s16, "str_i_intend_to_start_our_raid"),
      (try_end),
    (else_try),
      (faction_slot_eq, ":var2", 8, ":var0"),
      (faction_slot_eq, ":var2", 4, 5),
      (faction_get_slot, ":var57", ":var2", 5),
      (party_is_active, ":var57"),
      (party_get_battle_opponent, ":var4", ":var57"),
      (try_begin),
        (gt, ":var4", 0),
        (party_is_active, ":var4"),
        (assign, ":var32", 10),
        (assign, ":var33", ":var4"),
        (try_begin),
          (eq, ":var0", "$g_talk_troop"),
          (str_store_string, s14, "str_as_the_marshall_i_am_leading_our_forces_to_engage_the_enemy_in_battle"),
          (str_store_string, s16, "str_i_intend_to_lead_our_forces_out_to_engage_the_enemy"),
        (try_end),
      (else_try),
        (assign, ":var32", 4),
        (assign, ":var33", ":var57"),
        (try_begin),
          (eq, ":var0", "$g_talk_troop"),
          (str_store_string, s14, "str_as_the_marshall_i_am_leading_our_forces_in_search_of_the_enemy"),
          (str_store_string, s16, "str_i_intend_to_lead_our_forces_out_to_find_the_enemy"),
        (try_end),
      (try_end),
    (else_try),
      (faction_slot_eq, ":var2", 8, ":var0"),
      (faction_slot_eq, ":var2", 4, 4),
      (faction_get_slot, ":var57", ":var2", 5),
      (party_is_active, ":var57"),
      (assign, ":var32", 10),
      (assign, ":var33", ":var57"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_as_the_marshall_i_am_leading_our_forces_to_engage_the_enemy_in_battle"),
        (str_store_string, s16, "str_i_intend_to_lead_our_forces_out_to_engage_the_enemy"),
      (try_end),
    (else_try),
      (assign, ":var58", 30),
      (call_script, "script_lord_get_home_center", ":var0"),
      (assign, ":var59", reg0),
      (gt, ":var59", -1),
      (party_slot_eq, ":var59", 7, ":var0"),
      (assign, ":var60", 0),
      (party_get_position, pos0, ":var59"),
      (party_get_position, pos1, ":var1"),
      (get_distance_between_positions, ":var51", pos0, pos1),
      (try_begin),
        (le, ":var51", 9000),
        (store_div, ":var60", ":var51", 600),
        (store_sub, ":var60", 15, ":var60"),
      (else_try),
        (assign, ":var60", 0),
      (try_end),
      (val_add, ":var58", ":var60"),
      (assign, ":var61", 35),
      (try_begin),
        (this_or_next|faction_slot_eq, ":var2", 4, 4),
        (this_or_next|faction_slot_eq, ":var2", 4, 5),
        (this_or_next|faction_slot_eq, ":var2", 4, 3),
        (this_or_next|faction_slot_eq, ":var2", 4, 2),
        (faction_slot_eq, ":var2", 4, 1),
        (assign, ":var61", 0),
        (try_begin),
          (faction_slot_eq, ":var2", 8, "trp_player"),
          (game_get_reduce_campaign_ai, ":var62"),
          (try_begin),
            (eq, ":var62", 0),
            (assign, ":var61", 0),
          (else_try),
            (eq, ":var62", 1),
            (assign, ":var61", -10),
          (else_try),
            (eq, ":var62", 2),
            (assign, ":var61", -15),
          (try_end),
        (try_end),
      (try_end),
      (val_add, ":var58", ":var61"),
      (val_max, ":var58", 25),
      (lt, ":var7", ":var58"),
      (try_begin),
        (store_div, ":var63", ":var58", 3),
        (ge, ":var7", ":var63"),
        (troop_get_slot, ":var64", ":var0", 11),
        (le, ":var64", 1800),
        (assign, ":var31", 1),
      (try_end),
      (assign, ":var32", 7),
      (assign, ":var33", ":var59"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_dont_have_enough_troops_and_i_need_to_get_some_more"),
        (str_store_string, s16, "str_i_am_running_low_on_troops"),
      (try_end),
      (eq, ":var31", 0),
    (else_try),
      (eq, ":var31", 0),
      (party_slot_ge, ":var1", 244, "trp_kingdom_heroes_including_player_begin"),
      (party_get_slot, ":var65", ":var1", 245),
      (party_get_slot, ":var66", ":var1", 246),
      (party_get_slot, ":var67", ":var1", 247),
      (ge, ":var66", 0),
      (store_current_hours, ":var68"),
      (val_sub, ":var68", ":var67"),
      (party_is_active, ":var66"),
      (party_get_slot, ":var69", ":var66", 35),
      (store_faction_of_party, ":var70", ":var66"),
      (store_relation, ":var71", ":var2", ":var70"),
      (assign, ":var72", 1),
      (try_begin),
        (gt, ":var68", 48),
        (assign, ":var72", 0),
      (else_try),
        (eq, ":var65", 5),
        (this_or_next|ge, ":var71", 0),
        (ge, ":var69", 2),
        (assign, ":var72", 0),
      (else_try),
        (eq, ":var65", 1),
        (ge, ":var71", 0),
        (assign, ":var72", 0),
      (else_try),
        (this_or_next|eq, ":var65", 7),
        (this_or_next|eq, ":var65", 14),
        (this_or_next|eq, ":var65", 11),
        (eq, ":var65", 16),
        (le, ":var71", 0),
        (assign, ":var72", 0),
      (try_end),
      (eq, ":var72", 1),
      (assign, ":var32", ":var65"),
      (assign, ":var33", ":var66"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_we_are_following_your_direction"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var13", 0),
      (check_quest_active, "qst_wed_betrothed"),
      (quest_slot_eq, "qst_wed_betrothed", 6, ":var0"),
      (quest_get_slot, ":var73", "qst_wed_betrothed", 2),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var73"),
      (assign, ":var74", reg1),
      (assign, ":var32", 7),
      (assign, ":var33", ":var74"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_need_to_make_preparations_for_your_wedding"),
        (str_store_string, s16, "str_after_all_i_need_to_make_preparations_for_your_wedding"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var13", 0),
      (check_quest_active, "qst_wed_betrothed_female"),
      (quest_slot_eq, "qst_wed_betrothed_female", 6, ":var0"),
      (faction_slot_eq, ":var2", 4, 6),
      (faction_get_slot, ":var75", ":var2", 5),
      (assign, ":var32", 7),
      (assign, ":var33", ":var75"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_am_heading_to_the_site_of_our_wedding"),
        (str_store_string, s16, "str_after_all_we_are_soon_to_be_wed"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var13", 0),
      (faction_slot_eq, ":var2", 4, 6),
      (faction_get_slot, ":var75", ":var2", 5),
      (party_slot_eq, ":var75", 7, ":var0"),
      (assign, ":var32", 7),
      (assign, ":var33", ":var75"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_am_hosting_a_feast_there"),
        (str_store_string, s16, "str_i_have_a_feast_to_host"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var13", 0),
      (faction_slot_eq, ":var2", 4, 6),
      (troop_get_slot, ":var76", ":var0", 34),
      (is_between, ":var76", "trp_knight_1_1_wife", "trp_heroes_end"),
      (faction_get_slot, ":var75", ":var2", 5),
      (assign, ":var32", 7),
      (assign, ":var33", ":var75"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_am_to_be_the_bridegroom_there"),
        (str_store_string, s16, "str_my_wedding_day_draws_near"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (gt, ":var8", 35),
      (eq, ":var13", 0),
      (call_script, "script_lord_get_home_center", ":var0"),
      (assign, ":var59", reg0),
      (gt, ":var59", -1),
      (assign, ":var32", 7),
      (assign, ":var33", ":var59"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_have_too_much_loot_and_too_many_prisoners_and_need_to_secure_them"),
        (str_store_string, s16, "str_i_should_think_of_dropping_off_some_of_my_prisoners"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (assign, ":var77", -1),
      (assign, ":var78", 100),
      (eq, ":var13", 0),
      (try_for_range, ":var79", "p_town_1_1", "p_village_1_1"),
        (party_slot_eq, ":var79", 7, ":var0"),
        (party_get_slot, ":var80", ":var79", 56),
        (lt, ":var80", ":var78"),
        (assign, ":var77", ":var79"),
        (assign, ":var78", ":var80"),
      (try_end),
      (gt, ":var77", -1),
      (assign, ":var32", 7),
      (assign, ":var33", ":var77"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_need_to_reinforce_it_as_it_is_poorly_garrisoned"),
        (str_store_string, s16, "str_there_is_a_hole_in_our_defenses"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var18", 12),
      (faction_get_slot, ":var55", ":var2", 8),
      (ge, ":var55", 0),
      (troop_get_slot, ":var81", ":var55", 10),
      (party_is_active, ":var81"),
      (call_script, "script_npc_decision_checklist_troop_follow_or_not", ":var0"),
      (eq, reg0, 1),
      (assign, ":var32", 12),
      (assign, ":var33", ":var81"),
      (try_begin),
        (eq, "$g_talk_troop", ":var0"),
        (str_store_string, s14, "str_i_am_following_the_marshals_orders"),
        (str_store_string, s16, "str_the_marshal_has_given_me_this_command"),
      (try_end),
    (else_try),
      (faction_slot_eq, ":var2", 4, 5),
      (is_between, ":var57", "p_village_1_1", "p_salt_mine"),
      (call_script, "script_npc_decision_checklist_troop_follow_or_not", ":var0"),
      (eq, reg0, 1),
      (faction_get_slot, ":var57", ":var2", 5),
      (party_get_slot, ":var82", ":var57", 34),
      (party_is_active, ":var82"),
      (party_get_slot, ":var83", ":var57", 67),
      (lt, ":var83", 4000),
      (assign, ":var32", 10),
      (assign, ":var33", ":var82"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_our_realm_needs_my_support_there_is_enemy_raiding_one_of_our_villages_which_is_not_to_far_from_here_i_am_going_there"),
        (str_store_string, s16, "str_the_marshal_has_issued_a_summons"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (call_script, "script_npc_decision_checklist_troop_follow_or_not", ":var0"),
      (eq, reg0, 1),
      (faction_get_slot, ":var55", ":var2", 8),
      (ge, ":var55", 0),
      (troop_get_slot, ":var81", ":var55", 10),
      (assign, ":var32", 11),
      (assign, ":var33", ":var81"),
      (try_begin),
        (eq, "$g_talk_troop", ":var0"),
        (str_store_string, s14, "str_i_am_answering_the_marshals_summons"),
        (str_store_string, s16, "str_the_marshal_has_issued_a_summons"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var10", 1),
      (assign, ":var84", -1),
      (try_for_range, ":var85", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var85", 2, 2),
        (store_faction_of_troop, ":var86", ":var85"),
        (eq, ":var86", ":var2"),
        (neq, ":var85", ":var0"),
        (troop_get_slot, ":var87", ":var85", 10),
        (gt, ":var87", 1),
        (party_is_active, ":var87"),
        (this_or_next|party_slot_eq, ":var87", 4, 5),
        (party_slot_eq, ":var87", 4, 1),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var85"),
        (gt, reg0, 4),
        (troop_get_slot, ":var88", ":var0", 7),
        (troop_get_slot, ":var89", ":var85", 7),
        (le, ":var88", ":var89"),
        (store_distance_to_party_from_party, ":var16", ":var1", ":var87"),
        (lt, ":var16", 5),
        (assign, ":var84", ":var87"),
      (try_end),
      (gt, ":var84", 0),
      (assign, ":var32", 11),
      (assign, ":var33", ":var84"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (party_stack_get_troop_id, ":var90", ":var33", 0),
        (str_store_troop_name, s10, ":var90"),
        (call_script, "script_troop_get_family_relation_to_troop", ":var90", "$g_talk_troop"),
        (try_begin),
          (eq, reg0, 0),
          (str_store_string, s11, "str_comradeinarms"),
        (try_end),
        (str_store_string, s14, "str_i_am_supporting_my_s11_s10"),
        (str_store_string, s16, "str_i_believe_that_one_of_my_comrades_is_in_need"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var10", 1),
      (eq, ":var13", 0),
      (assign, ":var91", -1),
      (assign, ":var92", 50),
      (try_for_range, ":var79", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var93", ":var79"),
        (store_relation, ":var12", ":var2", ":var93"),
        (lt, ":var12", 0),
        (party_get_slot, ":var94", ":var79", 56),
        (val_mul, ":var94", 3),
        (val_mul, ":var94", 2),
        (lt, ":var94", ":var20"),
        (lt, ":var94", 750),
        (party_slot_eq, ":var79", 35, 0),
        (store_distance_to_party_from_party, ":var16", ":var79", ":var1"),
        (lt, ":var16", ":var92"),
        (assign, ":var91", ":var79"),
        (assign, ":var92", ":var16"),
      (try_end),
      (is_between, ":var91", "p_town_1_1", "p_salt_mine"),
      (assign, ":var32", 1),
      (assign, ":var33", ":var91"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_faction_name, s20, ":var2"),
        (str_store_party_name, s21, ":var33"),
        (display_message, "str_s20_decided_to_attack_s21"),
      (try_end),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_a_fortress_is_vulnerable"),
        (str_store_string, s16, "str_i_believe_that_the_enemy_may_be_vulnerable"),
      (try_end),
    (else_try),
      (assign, ":var95", -1),
      (assign, ":var96", 300),
      (troop_get_slot, ":var64", ":var0", 11),
      (val_div, ":var64", 10),
      (val_add, ":var96", ":var64"),
      (eq, ":var13", 0),
      (try_begin),
        (faction_get_slot, ":var55", ":var2", 8),
        (assign, reg17, 0),
        (try_begin),
          (party_slot_eq, ":var1", 4, 11),
          (party_slot_eq, ":var1", 5, ":var55"),
          (assign, reg17, 1),
        (else_try),
          (party_slot_eq, ":var1", 31, 1),
          (assign, reg17, 1),
        (try_end),
        (eq, reg17, 1),
        (try_begin),
          (neq, ":var55", "trp_player"),
          (neg|party_slot_eq, ":var1", 31, 1),
          (val_add, ":var96", 125),
        (else_try),
          (val_add, ":var96", 250),
        (try_end),
      (try_end),
      (try_for_range, ":var49", "p_town_1_1", "p_salt_mine"),
        (party_slot_eq, ":var49", 7, ":var0"),
        (assign, reg17, 0),
        (try_begin),
          (is_between, ":var49", "p_village_1_1", "p_salt_mine"),
          (party_slot_eq, ":var49", 35, 0),
          (assign, reg17, 1),
        (else_try),
          (party_slot_eq, ":var49", 54, -1),
          (assign, reg17, 1),
        (try_end),
        (eq, reg17, 1),
        (party_get_slot, ":var97", ":var49", 48),
        (party_get_slot, ":var98", ":var49", 47),
        (store_add, ":var99", ":var98", ":var97"),
        (gt, ":var99", ":var96"),
        (assign, ":var95", ":var49"),
        (assign, ":var96", ":var99"),
      (try_end),
      (is_between, ":var95", "p_town_1_1", "p_salt_mine"),
      (try_begin),
        (is_between, ":var95", "p_town_1_1", "p_village_1_1"),
        (assign, ":var32", 7),
        (assign, ":var33", ":var95"),
      (else_try),
        (assign, ":var32", 16),
        (assign, ":var33", ":var95"),
      (try_end),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_need_to_inspect_my_properties_and_collect_my_dues"),
        (str_store_string, s16, "str_it_has_been_too_long_since_i_have_inspected_my_estates"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (this_or_next|gt, ":var21", 504),
      (lt, ":var30", 25),
      (gt, ":var21", 168),
      (eq, ":var13", 0),
      (call_script, "script_lord_get_home_center", ":var0"),
      (assign, ":var59", reg0),
      (gt, ":var59", -1),
      (assign, ":var32", 7),
      (assign, ":var33", ":var59"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_my_men_are_weary_so_we_are_returning_home"),
        (str_store_string, s16, "str_my_men_are_becoming_weary"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (this_or_next|gt, ":var25", 12),
      (lt, ":var21", 96),
      (eq, ":var13", 0),
      (eq, ":var10", 1),
      (this_or_next|eq, ":var17", 5),
      (eq, ":var17", 2),
      (assign, ":var100", -1),
      (assign, ":var96", 0),
      (try_for_range, ":var101", "p_village_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var102", ":var101"),
        (store_relation, ":var12", ":var102", ":var2"),
        (lt, ":var12", 0),
        (neg|party_slot_ge, ":var101", 35, 2),
        (party_get_slot, ":var103", ":var101", 7),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var103"),
        (assign, ":var104", reg0),
        (lt, ":var104", ":var96"),
        (assign, ":var96", ":var104"),
        (assign, ":var100", ":var101"),
      (try_end),
      (is_between, ":var100", "p_town_1_1", "p_salt_mine"),
      (assign, ":var32", 5),
      (assign, ":var33", ":var100"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_have_a_score_to_settle_with_the_lord_there"),
        (str_store_string, s16, "str_i_am_thinking_of_settling_an_old_score"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var10", 1),
      (eq, ":var13", 0),
      (this_or_next|gt, ":var25", 12),
      (lt, ":var21", 96),
      (gt, ":var30", 40),
      (this_or_next|eq, ":var17", 5),
      (this_or_next|eq, ":var17", 3),
      (this_or_next|eq, ":var17", 4),
      (eq, ":var17", 2),
      (troop_get_slot, ":var105", ":var0", 11),
      (lt, ":var105", 500),
      (assign, ":var96", 0),
      (assign, ":var100", -1),
      (try_for_range, ":var101", "p_village_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var102", ":var101"),
        (store_relation, ":var12", ":var102", ":var2"),
        (lt, ":var12", 0),
        (this_or_next|party_slot_eq, ":var101", 35, 0),
        (party_slot_eq, ":var101", 35, 1),
        (party_get_slot, reg17, ":var101", 50),
        (store_distance_to_party_from_party, ":var16", ":var1", ":var101"),
        (val_sub, reg17, ":var16"),
        (gt, reg17, ":var96"),
        (assign, ":var96", reg17),
        (assign, ":var100", ":var101"),
      (try_end),
      (gt, ":var100", -1),
      (assign, ":var32", 5),
      (assign, ":var33", ":var100"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_am_short_of_money_and_i_hear_that_there_is_much_wealth_there"),
        (str_store_string, s16, "str_i_need_to_refill_my_purse_preferably_with_the_enemys_money"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var10", 1),
      (eq, ":var13", 0),
      (gt, ":var30", 65),
      (assign, ":var96", 0),
      (assign, ":var100", -1),
      (try_for_range, ":var101", "p_village_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var102", ":var101"),
        (store_relation, ":var12", ":var102", ":var2"),
        (lt, ":var12", 0),
        (neg|party_slot_eq, ":var101", 35, 2),
        (party_get_slot, ":var106", ":var101", 50),
        (val_mul, ":var106", 2),
        (store_distance_to_party_from_party, ":var16", ":var1", ":var101"),
        (val_sub, ":var106", ":var16"),
        (gt, ":var106", ":var96"),
        (assign, ":var96", ":var106"),
        (assign, ":var100", ":var101"),
      (try_end),
      (gt, ":var100", -1),
      (assign, ":var32", 5),
      (assign, ":var33", ":var100"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_by_striking_at_the_enemys_richest_lands_perhaps_i_can_draw_them_out_to_battle"),
        (str_store_string, s16, "str_i_am_thinking_of_going_on_the_attack"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var17", 7),
      (eq, ":var10", 1),
      (eq, ":var13", 0),
      (assign, ":var107", -1),
      (try_for_range, ":var108", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (store_relation, ":var12", ":var2", ":var108"),
        (lt, ":var12", 0),
        (faction_slot_eq, ":var108", 21, 0),
        (store_add, ":var109", ":var108", 300),
        (val_sub, ":var109", "fac_player_supporters_faction"),
        (faction_get_slot, ":var110", ":var2", ":var109"),
        (store_add, ":var111", ":var2", 300),
        (val_sub, ":var111", "fac_player_supporters_faction"),
        (faction_get_slot, ":var112", ":var108", ":var111"),
        (gt, ":var110", 80),
        (lt, ":var110", ":var112"),
        (assign, ":var107", ":var108"),
      (try_end),
      (gt, ":var107", -1),
      (assign, ":var100", -1),
      (assign, ":var96", 50),
      (try_for_range, ":var113", "p_village_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var102", ":var113"),
        (eq, ":var102", ":var107"),
        (neg|party_slot_eq, ":var113", 35, 2),
        (store_distance_to_party_from_party, ":var16", ":var1", ":var113"),
        (lt, ":var16", ":var96"),
        (assign, ":var96", ":var16"),
        (assign, ":var100", ":var113"),
      (try_end),
      (gt, ":var100", -1),
      (assign, ":var32", 5),
      (assign, ":var33", ":var100"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_perhaps_if_i_strike_one_more_blow_we_may_end_this_war_on_our_terms_"),
        (str_store_string, s16, "str_we_may_be_able_to_bring_this_war_to_a_close_with_a_few_more_blows"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (faction_slot_eq, ":var2", 4, 6),
      (faction_get_slot, ":var75", ":var2", 5),
      (party_get_slot, ":var114", ":var75", 7),
      (eq, ":var13", 0),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var114"),
      (assign, ":var115", reg0),
      (ge, ":var115", 0),
      (assign, ":var32", 7),
      (assign, ":var33", ":var75"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_wish_to_attend_the_feast_there"),
        (str_store_string, s16, "str_there_is_a_feast_which_i_wish_to_attend"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (neg|troop_slot_eq, "trp_player", 34, ":var0"),
      (troop_slot_eq, ":var0", 30, -1),
      (neg|is_between, ":var0", "trp_kingdom_1_lord", "trp_knight_1_1"),
      (neg|is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (gt, ":var27", 72),
      (eq, ":var13", 0),
      (assign, ":var95", -1),
      (assign, ":var96", 150),
      (try_for_range, ":var116", 35, 38),
        (troop_get_slot, ":var117", ":var0", ":var116"),
        (is_between, ":var117", "trp_knight_1_1_wife", "trp_heroes_end"),
        (troop_get_slot, ":var118", ":var117", 12),
        (is_between, ":var118", "p_town_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var119", ":var118"),
        (eq, ":var2", ":var119"),
        (store_distance_to_party_from_party, ":var16", ":var1", ":var118"),
        (lt, ":var16", ":var96"),
        (assign, ":var95", ":var118"),
        (assign, ":var96", ":var16"),
      (try_end),
      (gt, ":var95", -1),
      (assign, ":var32", 7),
      (assign, ":var33", ":var95"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_there_is_a_fair_lady_there_whom_i_wish_to_court"),
        (str_store_string, s16, "str_i_have_the_inclination_to_pay_court_to_a_fair_lady"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (assign, ":var14", -1),
      (assign, ":var96", 60),
      (eq, ":var13", 0),
      (gt, ":var30", 40),
      (try_for_range, ":var120", "p_town_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var50", ":var120"),
        (eq, ":var50", ":var2"),
        (party_slot_ge, ":var120", 55, 0),
        (party_get_slot, ":var121", ":var120", 66),
        (party_get_slot, ":var122", ":var120", 67),
        (store_mul, ":var123", ":var122", 14),
        (val_div, ":var123", 10),
        (party_get_slot, ":var124", ":var1", 56),
        (neg|this_or_next|party_is_in_town, ":var1", ":var120"),
        (gt, ":var121", ":var123"),
        (ge, ":var124", 100),
        (party_get_slot, reg17, ":var120", 7),
        (call_script, "script_troop_get_relation_with_troop", reg17, ":var0"),
        (this_or_next|eq, ":var17", 7),
        (gt, reg0, -5),
        (store_distance_to_party_from_party, ":var16", ":var1", ":var120"),
        (lt, ":var16", ":var96"),
        (assign, ":var14", ":var120"),
        (assign, ":var96", ":var16"),
      (try_end),
      (is_between, ":var14", "p_town_1_1", "p_salt_mine"),
      (assign, ":var32", 4),
      (assign, ":var33", ":var14"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_we_have_heard_reports_that_the_enemy_is_in_the_area"),
        (str_store_string, s16, "str_i_have_heard_reports_of_enemy_incursions_into_our_territory"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (gt, ":var23", 168),
      (eq, ":var13", 0),
      (call_script, "script_lord_get_home_center", ":var0"),
      (assign, ":var59", reg0),
      (gt, ":var59", -1),
      (assign, ":var32", 7),
      (assign, ":var33", ":var59"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_need_to_spend_some_time_with_my_household"),
        (str_store_string, s16, "str_it_has_been_a_long_time_since_i_have_been_able_to_spend_time_with_my_household"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var10", 1),
      (gt, ":var30", 65),
      (eq, ":var13", 0),
      (assign, ":var120", -1),
      (assign, ":var96", 75),
      (try_for_range, ":var125", "p_village_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var102", ":var125"),
        (store_relation, ":var12", ":var102", ":var2"),
        (lt, ":var12", 0),
        (store_distance_to_party_from_party, ":var16", ":var125", ":var1"),
        (lt, ":var16", ":var96"),
        (assign, ":var96", ":var16"),
        (assign, ":var120", ":var125"),
      (try_end),
      (is_between, ":var120", "p_village_1_1", "p_salt_mine"),
      (assign, ":var32", 4),
      (assign, ":var33", ":var120"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_am_watching_the_borders"),
        (str_store_string, s16, "str_i_may_be_needed_to_watch_the_borders"),
      (try_end),
    (else_try),
      (eq, 1, 0),
    (else_try),
      (eq, ":var31", 0),
      (call_script, "script_lord_get_home_center", ":var0"),
      (assign, ":var59", reg0),
      (is_between, ":var59", "p_town_1_1", "p_salt_mine"),
      (eq, ":var13", 0),
      (assign, ":var32", 4),
      (assign, ":var33", ":var59"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_will_guard_the_areas_near_my_home"),
        (str_store_string, s16, "str_i_am_perhaps_needed_most_at_home"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var13", 0),
      (call_script, "script_lord_get_home_center", ":var0"),
      (assign, ":var59", reg0),
      (is_between, ":var59", "p_town_1_1", "p_village_1_1"),
      (assign, ":var32", 7),
      (assign, ":var33", ":var59"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_cant_think_of_anything_better_to_do"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (eq, ":var13", 1),
      (party_get_slot, ":var32", ":var1", 4),
      (party_get_slot, ":var33", ":var1", 5),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_am_completing_what_i_have_already_begun"),
      (try_end),
    (else_try),
      (eq, ":var31", 0),
      (assign, ":var32", -1),
      (assign, ":var33", -1),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s14, "str_i_dont_even_have_a_home_to_which_to_return"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 2),
      (str_store_troop_name, s10, ":var0"),
      (display_message, "str_debug__s10_decides_s14_faction_ai_s15"),
    (try_end),
    (assign, reg0, ":var32"),
    (assign, reg1, ":var33"),
  ]),

  ("npc_decision_checklist_troop_follow_or_not",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (faction_get_slot, ":var2", ":var1", 4),
    (troop_get_slot, ":var3", ":var0", 52),
    (faction_get_slot, ":var4", ":var1", 8),
    (assign, ":var5", 0),
    (try_begin),
      (eq, ":var4", -1),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str__i_am_acting_independently_because_no_marshal_is_appointed"),
      (try_end),
    (else_try),
      (troop_get_slot, ":var6", ":var4", 10),
      (neg|party_is_active, ":var6"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str__i_am_acting_independently_because_our_marshal_is_currently_indisposed"),
      (try_end),
    (else_try),
      (neq, ":var2", 2),
      (neq, ":var2", 3),
      (neq, ":var2", 5),
      (neq, ":var2", 4),
      (neq, ":var2", 1),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str__i_am_acting_independently_because_our_realm_is_currently_not_on_campaign"),
      (try_end),
    (else_try),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var4"),
      (assign, ":var7", reg0),
      (try_begin),
        (le, ":var7", -10),
        (assign, ":var8", 10000),
      (else_try),
        (store_mul, ":var8", ":var7", -1000),
      (try_end),
      (val_add, ":var8", 1500),
      (game_get_reduce_campaign_ai, ":var9"),
      (try_begin),
        (neq, ":var1", "$players_kingdom"),
        (try_begin),
          (eq, ":var9", 0),
          (val_add, ":var8", -1250),
        (else_try),
          (eq, ":var9", 1),
        (else_try),
          (eq, ":var9", 2),
          (val_add, ":var8", 1250),
        (try_end),
      (else_try),
        (faction_slot_eq, ":var1", 8, "trp_player"),
        (try_begin),
          (eq, ":var9", 0),
          (val_add, ":var8", -1000),
        (else_try),
          (eq, ":var9", 1),
          (val_add, ":var8", -1500),
        (else_try),
          (eq, ":var9", 2),
          (val_add, ":var8", -2000),
        (try_end),
      (try_end),
      (troop_get_slot, ":var10", ":var0", 49),
      (le, ":var10", ":var8"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str__i_am_not_accompanying_the_marshal_because_i_fear_that_he_may_lead_us_into_disaster"),
      (try_end),
    (else_try),
      (troop_get_slot, ":var11", ":var4", 150),
      (lt, ":var7", 0),
      (ge, ":var11", 50),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str_i_am_not_accompanying_the_marshal_because_i_question_his_judgment"),
      (try_end),
    (else_try),
      (neg|faction_slot_eq, ":var1", 11, ":var4"),
      (lt, ":var7", 5),
      (ge, ":var11", 80),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str_i_am_not_accompanying_the_marshal_because_will_be_reappointment"),
      (try_end),
    (else_try),
      (store_sub, ":var12", 50, ":var7"),
      (store_mul, ":var8", ":var12", 70),
      (game_get_reduce_campaign_ai, ":var9"),
      (try_begin),
        (neq, ":var1", "$players_kingdom"),
        (try_begin),
          (eq, ":var9", 0),
          (val_add, ":var8", -1200),
        (else_try),
          (eq, ":var9", 1),
        (else_try),
          (eq, ":var9", 2),
          (val_add, ":var8", 1200),
        (try_end),
      (else_try),
        (eq, ":var4", "trp_player"),
        (try_begin),
          (eq, ":var9", 0),
          (val_add, ":var8", -1000),
        (else_try),
          (eq, ":var9", 1),
          (val_add, ":var8", -1500),
        (else_try),
          (eq, ":var9", 2),
          (val_add, ":var8", -2000),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var3", 3),
        (val_add, ":var8", 1500),
      (else_try),
        (this_or_next|eq, ":var3", 1),
        (this_or_next|eq, ":var3", 8),
        (eq, ":var3", 2),
        (val_add, ":var8", 1000),
      (else_try),
        (eq, ":var3", 4),
        (val_add, ":var8", 500),
      (else_try),
        (eq, ":var3", 7),
      (else_try),
        (this_or_next|eq, ":var3", 9),
        (eq, ":var3", 6),
        (val_add, ":var8", -500),
      (else_try),
        (eq, ":var3", 10),
        (val_add, ":var8", -1000),
      (try_end),
      (try_begin),
        (troop_slot_eq, ":var4", 52, 2),
        (val_add, ":var8", -750),
      (else_try),
        (this_or_next|troop_slot_eq, ":var4", 52, 1),
        (troop_slot_eq, ":var4", 52, 7),
        (val_add, ":var8", -250),
      (try_end),
      (val_add, ":var8", 2000),
      (try_begin),
        (ge, "$feudal_inefficency", 1),
        (neq, ":var4", "trp_player"),
        (store_mul, ":var13", 1500, "$feudal_inefficency"),
        (val_add, ":var8", ":var13"),
      (try_end),
      (troop_get_slot, ":var10", ":var0", 49),
      (le, ":var10", ":var8"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str_i_am_not_accompanying_the_marshal_because_i_can_do_greater_deeds"),
      (try_end),
    (else_try),
      (store_current_hours, ":var14"),
      (faction_get_slot, ":var15", ":var1", 96),
      (val_sub, ":var14", ":var15"),
      (assign, ":var16", 360),
      (store_mul, ":var17", ":var7", 6),
      (val_add, ":var16", ":var17"),
      (try_begin),
        (eq, ":var3", 7),
        (val_mul, ":var16", 4),
        (val_div, ":var16", 3),
      (try_end),
      (str_store_troop_name, s16, ":var4"),
      (gt, ":var14", ":var16"),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str__s16_has_kept_us_on_campaign_on_far_too_long_and_there_are_other_pressing_matters_to_which_i_must_attend"),
      (try_end),
    (else_try),
      (troop_get_slot, ":var18", ":var0", 10),
      (neg|party_is_active, ":var18"),
    (else_try),
      (troop_get_slot, ":var19", ":var4", 10),
      (assign, ":var20", 40),
      (try_begin),
        (faction_slot_eq, ":var1", 4, 1),
        (assign, ":var20", 50),
      (try_end),
      (game_get_reduce_campaign_ai, ":var9"),
      (try_begin),
        (neq, ":var1", "fac_player_supporters_faction"),
        (neq, ":var1", "$players_kingdom"),
        (try_begin),
          (eq, ":var9", 2),
          (try_begin),
            (faction_slot_eq, ":var1", 4, 1),
            (val_add, ":var20", -10),
          (else_try),
            (val_add, ":var20", -8),
          (try_end),
        (else_try),
          (eq, ":var9", 1),
          (try_begin),
            (faction_slot_eq, ":var1", 4, 1),
            (val_add, ":var20", -5),
          (else_try),
            (val_add, ":var20", -4),
          (try_end),
        (try_end),
      (else_try),
        (try_begin),
          (eq, ":var9", 2),
          (try_begin),
            (faction_slot_eq, ":var1", 4, 1),
            (val_add, ":var20", 25),
          (else_try),
            (val_add, ":var20", 20),
          (try_end),
        (else_try),
          (eq, ":var9", 1),
          (try_begin),
            (faction_slot_eq, ":var1", 4, 1),
            (val_add, ":var20", 15),
          (else_try),
            (val_add, ":var20", 12),
          (try_end),
        (else_try),
          (eq, ":var9", 0),
          (try_begin),
            (faction_slot_eq, ":var1", 4, 1),
            (val_add, ":var20", 5),
          (else_try),
            (val_add, ":var20", 4),
          (try_end),
        (try_end),
      (try_end),
      (faction_get_slot, ":var21", ":var1", 5),
      (assign, reg17, 0),
      (try_begin),
        (try_begin),
          (neg|is_between, ":var21", "p_village_1_1", "p_salt_mine"),
          (assign, reg17, 1),
        (try_end),
        (try_begin),
          (neg|faction_slot_eq, ":var1", 4, 5),
          (assign, reg17, 1),
        (try_end),
        (eq, reg17, 1),
        (store_distance_to_party_from_party, ":var22", ":var19", ":var18"),
        (gt, ":var22", ":var20"),
        (try_begin),
          (eq, ":var0", "$g_talk_troop"),
          (str_store_string, s15, "str__i_am_not_participating_in_the_marshals_campaign_because_i_do_not_know_where_to_find_our_main_army"),
        (try_end),
      (else_try),
        (eq, reg17, 0),
        (assign, reg17, 1),
        (try_begin),
          (party_slot_eq, ":var18", 4, 11),
          (party_slot_eq, ":var18", 5, ":var19"),
          (assign, reg17, 0),
        (try_end),
        (eq, reg17, 1),
        (party_get_slot, ":var23", ":var21", 67),
        (try_begin),
          (ge, ":var23", 4000),
          (val_sub, ":var23", 4000),
          (store_div, ":var20", ":var23", 200),
          (val_add, ":var20", 70),
        (else_try),
          (store_div, ":var20", ":var23", 100),
          (val_add, ":var20", 30),
        (try_end),
        (store_distance_to_party_from_party, ":var22", ":var21", ":var18"),
        (gt, ":var22", ":var20"),
        (try_begin),
          (eq, ":var0", "$g_talk_troop"),
          (str_store_string, s15, "str__i_am_acting_independently_although_some_enemies_have_been_spotted_within_our_borders_they_havent_come_in_force_and_the_local_troops_should_be_able_to_dispatch_them"),
        (try_end),
      (try_end),
      (gt, ":var22", ":var20"),
    (else_try),
      (try_begin),
        (eq, ":var0", "$g_talk_troop"),
        (str_store_string, s15, "str__the_needs_of_the_realm_must_come_first"),
      (try_end),
      (assign, ":var5", 1),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("find_total_prosperity_score",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_village_1_1"),
      (party_get_slot, ":var1", ":var0", 50),
      (store_add, ":var2", ":var1", 200),
      (val_div, ":var2", 10),
      (try_begin),
        (is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
        (store_mul, ":var3", ":var2", 15),
      (else_try),
        (store_mul, ":var3", ":var2", 5),
      (try_end),
      (assign, ":var4", ":var3"),
      (try_for_range_backwards, ":var5", "p_village_1_1", "p_salt_mine"),
        (party_slot_eq, ":var5", 120, ":var0"),
        (party_get_slot, ":var6", ":var5", 50),
        (store_add, ":var7", ":var6", 200),
        (val_div, ":var7", 10),
        (store_mul, ":var8", ":var7", 5),
        (val_add, ":var4", ":var8"),
      (try_end),
    (else_try),
      (party_get_slot, ":var1", ":var0", 50),
      (store_add, ":var2", ":var1", 200),
      (val_div, ":var2", 10),
      (store_mul, ":var3", ":var2", 5),
      (assign, ":var4", ":var3"),
    (try_end),
    (val_div, ":var4", 10),
    (assign, reg0, ":var4"),
  ]),

  ("calculate_center_assailability_score",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", -1),
    (store_faction_of_troop, ":var4", ":var0"),
    (store_current_hours, ":var5"),
    (faction_get_slot, ":var6", ":var4", 95),
    (val_sub, ":var5", ":var6"),
    (store_div, ":var7", ":var5", 12),
    (val_add, ":var7", 30),
    (val_min, ":var7", 100),
    (faction_get_slot, ":var8", ":var4", 8),
    (assign, ":var9", -1),
    (assign, ":var10", 0),
    (try_begin),
      (gt, ":var8", 0),
      (troop_get_slot, ":var9", ":var8", 10),
      (party_is_active, ":var9"),
      (party_get_slot, ":var10", ":var9", 56),
      (party_get_slot, ":var11", ":var9", 59),
    (try_end),
    (faction_get_slot, ":var12", ":var4", 85),
    (faction_get_slot, ":var13", ":var4", 86),
    (try_begin),
      (store_current_hours, ":var14"),
      (store_add, ":var15", ":var13", 24),
      (gt, ":var14", ":var15"),
      (faction_set_slot, ":var4", 85, 0),
      (assign, ":var12", 0),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var12", 0),
      (this_or_next|eq, ":var12", ":var1"),
      (this_or_next|eq, "$g_do_not_skip_other_than_current_ai_object", 1),
      (neg|faction_slot_eq, ":var4", 8, ":var0"),
      (party_is_active, ":var1"),
      (store_faction_of_party, ":var16", ":var1"),
      (store_relation, ":var17", ":var16", ":var4"),
      (lt, ":var17", 0),
      (assign, ":var18", -1),
      (try_begin),
        (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
        (neg|party_slot_eq, ":var1", 54, -1),
        (party_get_slot, ":var19", ":var1", 54),
        (party_is_active, ":var19"),
        (store_faction_of_party, ":var18", ":var19"),
      (try_end),
      (this_or_next|eq, ":var18", -1),
      (eq, ":var18", ":var4"),
      (assign, ":var20", 0),
      (try_begin),
        (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
        (try_begin),
          (party_slot_eq, ":var1", 35, 1),
          (party_get_slot, ":var21", ":var1", 34),
          (party_is_active, ":var21"),
          (store_faction_of_party, ":var22", ":var21"),
          (neq, ":var22", ":var4"),
          (assign, ":var23", 1),
        (else_try),
          (assign, ":var23", 0),
        (try_end),
        (this_or_next|party_slot_eq, ":var1", 35, 2),
        (eq, ":var23", 1),
        (assign, ":var20", 1),
      (try_end),
      (eq, ":var20", 0),
      (assign, ":var24", 0),
      (try_for_range, ":var25", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (is_between, ":var25", "fac_kingdom_1", "fac_kingdoms_end"),
        (neq, ":var25", ":var4"),
        (faction_get_slot, ":var26", ":var25", 5),
        (eq, ":var26", ":var1"),
        (store_relation, ":var27", ":var16", ":var25"),
        (lt, ":var27", 0),
        (assign, ":var24", 1),
      (try_end),
      (eq, ":var24", 0),
      (try_begin),
        (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
        (party_get_slot, ":var28", ":var1", 56),
        (party_get_slot, ":var29", ":var1", 57),
        (val_div, ":var29", 2),
        (store_add, ":var30", ":var28", ":var29"),
        (val_mul, ":var30", 4),
        (val_div, ":var30", 3),
        (assign, ":var31", ":var10"),
        (val_add, ":var31", ":var11"),
        (store_mul, ":var32", ":var31", 100),
        (try_begin),
          (gt, ":var30", 0),
          (val_div, ":var32", ":var30"),
        (else_try),
          (assign, ":var32", 1000),
        (try_end),
      (else_try),
        (party_get_slot, ":var29", ":var1", 57),
        (assign, ":var30", 1000),
        (assign, ":var31", ":var10"),
        (val_add, ":var31", ":var11"),
        (store_mul, ":var32", ":var31", 100),
        (try_begin),
          (gt, ":var30", 0),
          (val_div, ":var32", ":var30"),
        (else_try),
          (assign, ":var32", 1000),
        (try_end),
      (try_end),
      (ge, ":var32", 120),
      (store_sub, ":var33", ":var32", 120),
      (try_begin),
        (lt, ":var33", 100),
        (store_add, ":var34", ":var33", 20),
      (else_try),
        (lt, ":var33", 200),
        (store_sub, ":var34", ":var33", 100),
        (val_div, ":var34", 2),
        (val_add, ":var34", 120),
      (else_try),
        (lt, ":var33", 400),
        (store_sub, ":var34", ":var33", 200),
        (val_div, ":var34", 5),
        (val_add, ":var34", 170),
      (else_try),
        (lt, ":var33", 800),
        (store_sub, ":var34", ":var33", 400),
        (val_div, ":var34", 10),
        (val_add, ":var34", 210),
      (else_try),
        (assign, ":var34", 250),
      (try_end),
      (assign, ":var35", 0),
      (assign, ":var36", 0),
      (try_for_range, ":var37", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var38", ":var37"),
        (eq, ":var38", ":var4"),
        (store_distance_to_party_from_party, ":var39", ":var37", ":var1"),
        (val_add, ":var36", ":var39"),
        (val_add, ":var35", 1),
      (try_end),
      (try_begin),
        (gt, ":var35", 0),
        (store_div, ":var40", ":var36", ":var35"),
        (try_begin),
          (ge, ":var9", 0),
          (party_is_active, ":var9"),
          (store_distance_to_party_from_party, ":var41", ":var9", ":var1"),
        (else_try),
          (assign, ":var41", 100),
        (try_end),
        (try_begin),
          (faction_get_slot, ":var42", ":var4", 4),
          (eq, ":var42", 2),
          (faction_get_slot, ":var43", ":var4", 5),
          (ge, ":var43", 0),
          (neq, ":var43", ":var1"),
          (try_begin),
            (ge, ":var34", 300),
            (assign, ":var34", 200),
          (else_try),
            (ge, ":var34", 100),
            (val_sub, ":var34", 100),
            (val_div, ":var34", 2),
            (val_add, ":var34", 100),
          (try_end),
          (try_begin),
            (faction_slot_eq, ":var4", 8, ":var0"),
            (eq, "$g_do_not_skip_other_than_current_ai_object", 0),
            (assign, ":var34", 0),
          (try_end),
          (faction_set_slot, ":var4", 85, ":var43"),
          (store_current_hours, ":var14"),
          (faction_set_slot, ":var4", 86, ":var14"),
          (eq, ":var2", 0),
          (store_div, ":var44", ":var41", 2),
          (assign, ":var44", ":var41"),
        (else_try),
          (store_div, ":var44", ":var41", 3),
        (try_end),
        (store_add, ":var36", ":var40", ":var44"),
      (else_try),
        (assign, ":var36", 100),
      (try_end),
      (try_begin),
        (this_or_next|troop_slot_eq, ":var0", 52, 7),
        (this_or_next|troop_slot_eq, ":var0", 52, 5),
        (this_or_next|troop_slot_eq, ":var0", 52, 6),
        (troop_slot_eq, ":var0", 52, 4),
        (try_begin),
          (lt, ":var36", 45),
          (assign, ":var45", 100),
        (else_try),
          (lt, ":var36", 120),
          (store_sub, ":var45", ":var36", 45),
          (val_div, ":var45", 1),
          (store_sub, ":var45", 100, ":var45"),
        (else_try),
          (lt, ":var36", 240),
          (store_sub, ":var45", ":var36", 120),
          (val_div, ":var45", 2),
          (store_sub, ":var45", 50, ":var45"),
        (else_try),
          (assign, ":var45", 10),
        (try_end),
      (else_try),
        (try_begin),
          (lt, ":var36", 60),
          (assign, ":var45", 100),
        (else_try),
          (lt, ":var36", 210),
          (store_sub, ":var45", ":var36", 60),
          (val_div, ":var45", 2),
          (store_sub, ":var45", 100, ":var45"),
        (else_try),
          (lt, ":var36", 450),
          (store_sub, ":var45", ":var36", 210),
          (val_div, ":var45", 4),
          (store_sub, ":var45", 50, ":var45"),
        (else_try),
          (assign, ":var45", 10),
        (try_end),
      (try_end),
      (store_mul, ":var3", ":var45", ":var34"),
      (val_mul, ":var3", ":var7"),
      (val_div, ":var3", 100),
      (call_script, "script_find_total_prosperity_score", ":var1"),
      (assign, ":var46", reg0),
      (val_mul, ":var46", 3),
      (val_div, ":var46", 2),
      (val_mul, ":var3", ":var46"),
      (try_begin),
        (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
        (try_begin),
          (party_slot_eq, ":var1", 61, ":var4"),
          (val_mul, ":var3", 14),
          (val_div, ":var3", 10),
        (try_end),
        (try_begin),
          (party_slot_eq, ":var1", 62, ":var4"),
          (val_mul, ":var3", 11),
          (val_div, ":var3", 10),
        (try_end),
      (try_end),
      (val_div, ":var3", 1000),
      (try_begin),
        (faction_slot_eq, ":var16", 11, "trp_player"),
        (game_get_reduce_campaign_ai, ":var47"),
        (assign, ":var48", 0),
        (try_for_range, ":var49", "p_town_1_1", "p_village_1_1"),
          (store_faction_of_party, ":var50", ":var49"),
          (eq, ":var50", "$players_kingdom"),
          (val_add, ":var48", 1),
        (try_end),
        (try_begin),
          (eq, ":var47", 2),
          (try_begin),
            (le, ":var48", 2),
            (assign, ":var51", 0),
          (else_try),
            (eq, ":var48", 3),
            (assign, ":var51", 20),
          (else_try),
            (eq, ":var48", 4),
            (assign, ":var51", 40),
          (else_try),
            (eq, ":var48", 5),
            (eq, ":var48", 6),
            (assign, ":var51", 55),
          (else_try),
            (eq, ":var48", 7),
            (eq, ":var48", 8),
            (eq, ":var48", 9),
            (assign, ":var51", 70),
          (else_try),
            (assign, ":var51", 85),
          (try_end),
        (else_try),
          (eq, ":var47", 1),
          (try_begin),
            (le, ":var48", 1),
            (assign, ":var51", 25),
          (else_try),
            (eq, ":var48", 2),
            (assign, ":var51", 45),
          (else_try),
            (eq, ":var48", 3),
            (assign, ":var51", 60),
          (else_try),
            (eq, ":var48", 4),
            (eq, ":var48", 5),
            (assign, ":var51", 75),
          (else_try),
            (eq, ":var48", 6),
            (eq, ":var48", 7),
            (eq, ":var48", 8),
            (assign, ":var51", 85),
          (else_try),
            (assign, ":var51", 92),
          (try_end),
        (else_try),
          (assign, ":var51", 100),
        (try_end),
        (val_mul, ":var3", ":var51"),
        (val_div, ":var3", 100),
      (try_end),
    (try_end),
    (assign, reg0, ":var3"),
    (assign, reg1, ":var32"),
    (assign, reg2, ":var45"),
    (assign, reg3, ":var46"),
  ]),

  ("find_center_to_defend",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (faction_get_slot, ":var2", ":var1", 8),
    (faction_get_slot, ":var3", ":var1", 4),
    (assign, ":var4", -1),
    (try_begin),
      (gt, ":var2", 0),
      (troop_get_slot, ":var4", ":var2", 10),
    (try_end),
    (assign, ":var5", -1),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (assign, ":var8", 0),
    (assign, ":var9", 0),
    (try_for_range, ":var10", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var11", ":var10"),
      (eq, ":var11", ":var1"),
      (party_get_slot, ":var12", ":var10", 67),
      (assign, ":var13", ":var12"),
      (assign, ":var14", 0),
      (try_begin),
        (is_between, ":var10", "p_town_1_1", "p_village_1_1"),
        (val_add, ":var7", 1),
        (party_slot_ge, ":var10", 54, 0),
        (call_script, "script_find_total_prosperity_score", ":var10"),
        (assign, ":var15", reg0),
        (party_get_slot, ":var16", ":var10", 56),
        (val_mul, ":var16", 4),
        (val_div, ":var16", 3),
        (assign, ":var17", 0),
        (val_add, ":var16", ":var17"),
        (store_mul, ":var18", ":var13", 100),
        (val_add, ":var16", 1),
        (val_max, ":var16", 1),
        (val_div, ":var18", ":var16"),
        (assign, ":var19", 0),
        (party_get_slot, ":var20", ":var10", 54),
        (try_begin),
          (party_is_active, ":var20"),
          (try_begin),
            (eq, ":var20", "p_main_party"),
            (assign, ":var19", 1),
          (else_try),
            (store_faction_of_party, ":var21", ":var20"),
            (eq, ":var21", "fac_player_faction"),
            (assign, ":var19", 1),
          (else_try),
            (party_get_attached_to, ":var22", "p_main_party"),
            (ge, ":var22", 0),
            (eq, ":var22", ":var20"),
            (assign, ":var19", 1),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var19", 0),
          (try_begin),
            (lt, ":var18", 40),
            (assign, ":var14", 1),
          (else_try),
            (lt, ":var18", 80),
            (store_sub, ":var14", ":var18", 40),
            (val_div, ":var14", 5),
            (val_add, ":var14", 1),
          (else_try),
            (lt, ":var18", 120),
            (store_sub, ":var14", ":var18", 80),
            (val_div, ":var14", 4),
            (val_add, ":var14", 7),
          (else_try),
            (lt, ":var18", 200),
            (store_sub, ":var14", ":var18", 120),
            (val_div, ":var14", 10),
            (val_add, ":var14", 17),
          (else_try),
            (assign, ":var14", 25),
          (try_end),
        (else_try),
          (try_begin),
            (lt, ":var18", 200),
            (store_div, ":var14", ":var18", 10),
            (val_add, ":var14", 6),
          (else_try),
            (assign, ":var14", 26),
          (try_end),
        (try_end),
      (else_try),
        (is_between, ":var10", "p_village_1_1", "p_salt_mine"),
        (party_slot_eq, ":var10", 35, 1),
        (gt, ":var13", 0),
        (call_script, "script_find_total_prosperity_score", ":var10"),
        (assign, ":var18", 100),
        (assign, ":var15", reg0),
        (assign, ":var14", 10),
      (try_end),
      (gt, ":var14", 0),
      (try_begin),
        (is_between, ":var10", "p_town_1_1", "p_village_1_1"),
        (neg|party_slot_eq, ":var10", 35, 2),
        (val_add, ":var8", 1),
        (try_begin),
          (neg|party_slot_eq, ":var10", 35, 0),
          (val_add, ":var9", 1),
        (try_end),
        (gt, ":var13", 0),
        (call_script, "script_find_total_prosperity_score", ":var10"),
        (assign, ":var15", reg0),
        (assign, ":var14", 10),
      (try_end),
      (gt, ":var14", 0),
      (store_add, ":var23", ":var13", 20000),
      (val_div, ":var23", 200),
      (try_begin),
        (ge, ":var4", 0),
        (party_is_active, ":var4"),
        (store_distance_to_party_from_party, ":var24", ":var4", ":var10"),
      (else_try),
        (assign, ":var24", 100),
      (try_end),
      (try_begin),
        (eq, ":var3", 5),
        (faction_get_slot, ":var25", ":var1", 5),
        (is_between, ":var25", "p_town_1_1", "p_village_1_1"),
        (neq, ":var25", ":var10"),
        (val_mul, ":var24", 2),
        (val_add, ":var24", 20),
      (try_end),
      (val_mul, ":var24", 2),
      (try_begin),
        (lt, ":var24", 10),
        (assign, ":var26", 100),
      (else_try),
        (lt, ":var24", 160),
        (store_sub, ":var26", ":var24", 10),
        (val_div, ":var26", 3),
        (store_sub, ":var26", 100, ":var26"),
      (else_try),
        (lt, ":var24", 360),
        (store_sub, ":var26", ":var24", 250),
        (val_div, ":var26", 5),
        (store_sub, ":var26", 50, ":var26"),
      (else_try),
        (assign, ":var26", 10),
      (try_end),
      (store_mul, ":var27", ":var23", ":var15"),
      (val_mul, ":var27", ":var14"),
      (val_mul, ":var27", ":var26"),
      (val_div, ":var27", 10000),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (gt, ":var27", 0),
        (eq, ":var1", "fac_kingdom_6"),
        (assign, reg0, ":var27"),
        (str_store_party_name, s32, ":var10"),
        (assign, reg1, ":var15"),
        (assign, reg2, ":var23"),
        (assign, reg3, ":var14"),
        (assign, reg4, ":var26"),
      (try_end),
      (gt, ":var27", ":var6"),
      (assign, ":var5", ":var10"),
      (assign, ":var6", ":var27"),
      (assign, ":var28", ":var13"),
    (try_end),
    (val_mul, ":var6", 3),
    (val_div, ":var6", 2),
    (val_mul, ":var6", 2),
    (try_begin),
      (is_between, ":var5", "p_town_1_1", "p_village_1_1"),
      (val_div, ":var6", ":var7"),
    (else_try),
      (gt, ":var8", 0),
      (val_mul, ":var6", ":var9"),
      (val_div, ":var6", ":var8"),
    (try_end),
    (assign, reg0, ":var5"),
    (assign, reg1, ":var6"),
    (assign, reg2, ":var28"),
  ]),

  ("npc_decision_checklist_peace_or_war",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (assign, ":var8", 0),
    (assign, ":var9", 0),
    (assign, "$g_concession_demanded", 0),
    (faction_get_slot, ":var10", ":var0", 102),
    (faction_get_slot, ":var11", ":var1", 102),
    (store_relation, ":var12", ":var0", ":var1"),
    (call_script, "script_distance_between_factions", ":var0", ":var1"),
    (assign, ":var13", reg0),
    (try_begin),
      (eq, ":var1", "$players_kingdom"),
      (assign, ":var14", "$player_honor"),
      (val_add, ":var4", 2),
    (else_try),
      (assign, ":var14", 0),
    (try_end),
    (faction_get_slot, ":var15", ":var0", 11),
    (faction_get_slot, ":var16", ":var1", 11),
    (call_script, "script_troop_get_relation_with_troop", ":var15", ":var16"),
    (assign, ":var17", reg0),
    (val_min, ":var17", 10),
    (val_add, ":var14", ":var17"),
    (try_begin),
      (le, ":var13", 67),
      (assign, ":var6", 1),
    (try_end),
    (assign, ":var18", 0),
    (try_begin),
      (neq, ":var10", ":var11"),
      (eq, ":var6", 1),
      (try_begin),
        (eq, ":var10", 0),
        (eq, ":var11", 0),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var11", 0),
        (eq, ":var10", 0),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var10", 1),
        (eq, ":var11", 1),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var11", 1),
        (eq, ":var10", 1),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var10", 2),
        (eq, ":var11", 2),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var11", 2),
        (eq, ":var10", 2),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var10", 3),
        (eq, ":var11", 3),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var11", 3),
        (eq, ":var10", 3),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var10", 4),
        (eq, ":var11", 4),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var11", 4),
        (eq, ":var10", 4),
        (assign, ":var18", 3),
      (else_try),
        (eq, ":var10", 0),
        (eq, ":var11", 1),
        (assign, ":var18", 2),
      (else_try),
        (eq, ":var11", 0),
        (eq, ":var10", 1),
        (assign, ":var18", 2),
      (else_try),
        (assign, ":var18", 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var18", 1),
      (val_sub, ":var14", 12),
    (else_try),
      (eq, ":var18", 2),
      (val_sub, ":var14", 7),
    (else_try),
      (eq, ":var18", 3),
      (val_sub, ":var14", 3),
    (try_end),
    (str_store_troop_name, s15, ":var15"),
    (str_store_troop_name, s16, ":var16"),
    (assign, ":var19", 0),
    (assign, ":var20", 0),
    (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var0", ":var1"),
    (assign, ":var21", reg0),
    (str_clear, s12),
    (try_begin),
      (eq, ":var21", -2),
      (str_store_string, s12, "str_s15_is_at_war_with_s16_"),
      (store_add, ":var22", ":var1", 300),
      (val_sub, ":var22", "fac_player_supporters_faction"),
      (faction_get_slot, ":var20", ":var0", ":var22"),
      (store_add, ":var23", ":var0", 300),
      (val_sub, ":var23", "fac_player_supporters_faction"),
      (faction_get_slot, ":var19", ":var1", ":var23"),
    (else_try),
      (eq, ":var21", 1),
      (str_store_string, s12, "str_in_the_short_term_s15_has_a_truce_with_s16_as_a_matter_of_general_policy_"),
    (else_try),
      (eq, ":var21", -1),
      (str_store_string, s12, "str_in_the_short_term_s15_was_recently_provoked_by_s16_and_is_under_pressure_to_declare_war_as_a_matter_of_general_policy_"),
    (try_end),
    (try_begin),
      (is_between, "$g_talk_troop", "trp_npc1", "trp_knight_1_1_wife"),
      (str_clear, s12),
    (try_end),
    (try_begin),
      (gt, ":var2", -1),
      (store_skill_level, ":var24", "skl_persuasion", ":var2"),
      (val_mul, ":var24", 2),
      (val_add, ":var14", ":var24"),
      (store_attribute_level, ":var25", trp_temp_troop, ":var2"),
      (val_div, ":var25", 2),
      (val_add, ":var14", ":var25"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (assign, reg4, ":var14"),
        (display_message, "str_envoymodified_diplomacy_score_honor_plus_relation_plus_envoy_persuasion_=_reg4"),
      (try_end),
    (try_end),
    (try_for_range, ":var26", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_set_slot, ":var26", 12, 0),
    (try_end),
    (try_for_parties, ":var27"),
      (assign, ":var28", 0),
      (store_faction_of_party, ":var29", ":var27"),
      (party_get_slot, ":var30", ":var27", 61),
      (party_get_slot, ":var31", ":var27", 62),
      (try_begin),
        (is_between, ":var29", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (this_or_next|party_slot_eq, ":var27", 0, 2),
        (this_or_next|party_slot_eq, ":var27", 0, 3),
        (this_or_next|party_slot_eq, ":var27", 0, 13),
        (this_or_next|party_slot_eq, ":var27", 0, 31),
        (this_or_next|party_slot_eq, ":var27", 0, 6),
        (this_or_next|party_slot_eq, ":var27", 0, 19),
        (party_slot_eq, ":var27", 0, 69),
        (party_get_slot, ":var28", ":var27", 56),
        (le, ":var28", 0),
        (store_party_size_wo_prisoners, ":var32", ":var27"),
        (gt, ":var32", 1),
        (call_script, "script_party_calculate_strength", ":var27", 1),
        (assign, ":var28", reg0),
      (try_end),
      (try_begin),
        (is_between, ":var29", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_get_slot, ":var33", ":var29", 12),
        (val_add, ":var33", ":var28"),
        (faction_set_slot, ":var29", 12, ":var33"),
      (try_end),
      (try_begin),
        (eq, ":var29", ":var1"),
        (val_add, ":var4", ":var28"),
        (try_begin),
          (this_or_next|eq, ":var30", ":var0"),
          (eq, ":var31", ":var0"),
          (val_add, ":var5", 1),
          (try_begin),
            (is_between, ":var27", "p_town_1_1", "p_village_1_1"),
            (assign, "$g_concession_demanded", ":var27"),
            (str_store_party_name, s18, "$g_concession_demanded"),
          (try_end),
        (try_end),
      (else_try),
        (eq, ":var29", ":var0"),
        (val_add, ":var3", ":var28"),
      (try_end),
    (try_end),
    (assign, ":var34", -1),
    (assign, ":var35", 60),
    (try_for_range, ":var36", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_get_slot, ":var37", ":var36", 12),
      (gt, ":var37", ":var35"),
      (assign, ":var34", ":var36"),
      (assign, ":var35", ":var37"),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 2),
      (gt, ":var34", 1),
      (str_store_faction_name, s4, ":var34"),
      (assign, reg3, ":var35"),
      (display_message, "@{!}DEBUG - {s4} strongest kingdom with {reg3} strength"),
    (try_end),
    (assign, ":var38", 1),
    (try_begin),
      (gt, ":var3", 0),
      (store_mul, ":var38", ":var4", 100),
      (val_div, ":var38", ":var3"),
    (try_end),
    (try_for_range, ":var39", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neq, ":var39", ":var1"),
      (neq, ":var39", ":var0"),
      (faction_slot_eq, ":var39", 21, 0),
      (store_relation, ":var40", ":var39", ":var0"),
      (lt, ":var40", 0),
      (assign, ":var7", ":var39"),
      (val_add, ":var8", 1),
      (store_relation, ":var40", ":var39", ":var1"),
      (lt, ":var40", 0),
      (assign, ":var9", ":var39"),
    (try_end),
    (store_current_hours, ":var41"),
    (faction_get_slot, ":var42", ":var0", 98),
    (store_sub, ":var43", ":var41", ":var42"),
    (try_begin),
      (gt, "$supported_pretender", 0),
      (this_or_next|eq, "$supported_pretender", ":var15"),
      (eq, "$supported_pretender", ":var16"),
      (this_or_next|eq, ":var0", "$supported_pretender_old_faction"),
      (eq, ":var1", "$supported_pretender_old_faction"),
      (assign, ":var44", -3),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var45", "str_s12s15_cannot_negotiate_with_s16_as_to_do_so_would_undermine_reg4herhis_own_claim_to_the_throne_this_civil_war_must_almost_certainly_end_with_the_defeat_of_one_side_or_another"),
    (else_try),
      (gt, ":var5", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}Actor centers held by target noted"),
      (try_end),
      (lt, ":var19", 200),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}War damage under minimum"),
      (try_end),
      (lt, ":var38", 125),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}Strength ratio correct"),
      (try_end),
      (eq, ":var8", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}Third party wars"),
      (try_end),
      (assign, ":var44", -2),
      (assign, ":var45", "str_s12s15_is_anxious_to_reclaim_old_lands_such_as_s18_now_held_by_s16"),
    (else_try),
      (eq, ":var1", "fac_papacy"),
      (eq, ":var10", 0),
      (assign, ":var44", 2),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var45", "str_s12s15_prefer_to_remain_friendly_to_s16_due_them_being_the_head_of_cataholic_church"),
    (else_try),
      (lt, ":var14", 0),
      (gt, ":var18", 0),
      (lt, ":var38", 125),
      (lt, ":var19", 100),
      (neq, ":var21", 1),
      (eq, ":var8", 0),
      (assign, ":var44", -1),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var45", "str_s12s15_distrusts_s16_due_to_religious_differences"),
    (else_try),
      (lt, ":var14", -20),
      (lt, ":var38", 125),
      (lt, ":var19", 200),
      (this_or_next|neq, ":var21", -2),
      (lt, ":var43", 720),
      (eq, ":var8", 0),
      (assign, ":var44", -3),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var45", "str_s12s15_considers_s16_to_be_dangerous_and_untrustworthy_and_shehe_wants_to_bring_s16_down"),
    (else_try),
      (gt, ":var5", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}Actor centers held by target noted"),
      (try_end),
      (lt, ":var19", 100),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}War damage under minimum"),
      (try_end),
      (lt, ":var38", 125),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}Strength ratio correct"),
      (try_end),
      (eq, ":var8", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "@{!}Third party wars"),
      (try_end),
      (assign, ":var44", -2),
      (assign, ":var45", "str_s12s15_is_anxious_to_reclaim_old_lands_such_as_s18_now_held_by_s16"),
    (else_try),
      (eq, ":var21", -2),
      (lt, ":var38", 125),
      (le, ":var8", 1),
      (ge, ":var20", 5),
      (this_or_next|neq, ":var21", -2),
      (lt, ":var43", 720),
      (store_mul, ":var46", ":var19", 2),
      (gt, ":var20", ":var46"),
      (assign, ":var44", -2),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var45", "str_s12s15_feels_that_reg4shehe_is_winning_the_war_against_s16_and_sees_no_reason_not_to_continue"),
    (else_try),
      (le, ":var21", -1),
      (this_or_next|eq, ":var21", -1),
      (le, ":var20", 1),
      (lt, ":var38", 150),
      (eq, ":var8", 0),
      (faction_slot_ge, ":var0", 61, 10),
      (assign, ":var44", -1),
      (assign, ":var45", "str_s12s15_faces_too_much_internal_discontent_to_feel_comfortable_ignoring_recent_provocations_by_s16s_subjects"),
    (else_try),
      (eq, ":var21", -2),
      (lt, ":var20", 100),
      (eq, ":var8", 1),
      (assign, ":var44", -1),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var45", "str_s12even_though_reg4shehe_is_fighting_on_two_fronts_s15_is_inclined_to_continue_the_war_against_s16_for_a_little_while_longer_for_the_sake_of_honor"),
    (else_try),
      (eq, ":var21", -2),
      (lt, ":var20", 100),
      (eq, ":var8", 0),
      (assign, ":var44", -1),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var45", "str_s12s15_feels_that_reg4shehe_must_pursue_the_war_against_s16_for_a_little_while_longer_for_the_sake_of_honor"),
    (else_try),
      (this_or_next|faction_slot_eq, ":var0", 4, 2),
      (this_or_next|faction_slot_eq, ":var0", 4, 3),
      (faction_slot_eq, ":var0", 4, 4),
      (faction_get_slot, ":var47", ":var0", 5),
      (party_is_active, ":var47"),
      (store_faction_of_party, ":var48", ":var47"),
      (eq, ":var48", ":var1"),
      (str_store_party_name, s17, ":var47"),
      (assign, ":var44", -1),
      (assign, ":var45", "str_s12s15_is_currently_on_the_offensive_against_s17_now_held_by_s16_and_reluctant_to_negotiate"),
    (else_try),
      (eq, ":var6", 0),
      (assign, ":var44", 10),
      (assign, ":var45", "str_s12s15_is_too_far_to_engage_s16"),
    (else_try),
      (eq, ":var34", ":var1"),
      (eq, ":var8", 0),
      (this_or_next|ge, ":var21", -1),
      (lt, ":var43", 1440),
      (eq, ":var6", 1),
      (assign, ":var49", 0),
      (try_for_range, ":var50", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (neq, ":var50", ":var0"),
        (neq, ":var50", ":var1"),
        (faction_slot_eq, ":var50", 21, 0),
        (store_relation, ":var51", ":var50", ":var1"),
        (lt, ":var51", 0),
        (assign, ":var49", 1),
      (try_end),
      (eq, ":var49", 1),
      (assign, ":var44", -1),
      (assign, ":var45", "str_s12s15_is_alarmed_by_the_growing_power_of_s16"),
    (else_try),
      (eq, ":var8", 0),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (display_message, "@{!}DEBUG -- No third party wars for {s15}"),
      (try_end),
      (eq, ":var0", ":var34"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (display_message, "@{!}DEBUG -- {s15} is strongest kingdom"),
      (try_end),
      (faction_get_slot, ":var3", ":var0", 12),
      (faction_get_slot, ":var4", ":var1", 12),
      (store_sub, ":var52", ":var3", ":var4"),
      (ge, ":var52", 30),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (display_message, "@{!}DEBUG -- {s15} has 30 point advantage over {s16}"),
      (try_end),
      (assign, ":var53", 0),
      (try_for_range, ":var54", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var55", ":var54"),
        (eq, ":var55", ":var0"),
        (try_for_range, ":var56", "p_town_1_1", "p_village_1_1"),
          (store_faction_of_party, ":var57", ":var56"),
          (eq, ":var57", ":var1"),
          (store_distance_to_party_from_party, ":var58", ":var56", ":var54"),
          (lt, ":var58", 25),
          (assign, ":var53", 1),
        (try_end),
      (try_end),
      (eq, ":var53", 1),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (display_message, "@{!}DEBUG -- {s15} has proximity to {s16}"),
      (try_end),
      (assign, ":var44", -1),
      (assign, ":var45", "str_s12s15_declared_war_to_control_calradia"),
    (else_try),
      (lt, ":var14", 0),
      (eq, ":var18", 1),
      (lt, ":var38", 125),
      (eq, ":var8", 0),
      (le, ":var19", 100),
      (assign, ":var44", 0),
      (assign, ":var45", "str_s12s15_distrusts_s16_due_to_religious_differences"),
    (else_try),
      (lt, ":var14", -20),
      (assign, ":var44", 0),
      (assign, ":var45", "str_s12s15_distrusts_s16_and_fears_that_any_deals_struck_between_the_two_realms_will_not_be_kept"),
    (else_try),
      (lt, ":var12", 0),
      (ge, ":var8", 2),
      (assign, ":var44", 3),
      (assign, ":var45", "str_s12s15_is_at_war_on_too_many_fronts_and_eager_to_make_peace_with_s16"),
    (else_try),
      (gt, ":var9", 0),
      (eq, ":var5", 0),
      (this_or_next|ge, ":var12", 0),
      (assign, ":var44", 3),
      (str_store_faction_name, s17, ":var9"),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var45", "str_s12s15_seems_to_think_that_s16_and_reg4shehe_have_a_common_enemy_in_the_s17"),
    (else_try),
      (eq, ":var21", -2),
      (ge, ":var43", 720),
      (troop_get_type, reg4, ":var15"),
      (assign, ":var44", 2),
      (assign, ":var45", "str_s12s15_feels_frustrated_by_reg4herhis_inability_to_strike_a_decisive_blow_against_s16"),
    (else_try),
      (lt, ":var12", 0),
      (gt, ":var19", 100),
      (val_mul, ":var46", 2),
      (lt, ":var20", ":var46"),
      (assign, ":var44", 2),
      (assign, ":var45", "str_s12s15_has_suffered_enough_in_the_war_with_s16_for_too_little_gain_and_is_ready_to_pursue_a_peace"),
    (else_try),
      (gt, ":var7", 0),
      (ge, ":var14", 0),
      (lt, ":var12", 0),
      (assign, ":var44", 1),
      (str_store_faction_name, s17, ":var7"),
      (assign, ":var45", "str_s12s15_would_like_to_firm_up_a_truce_with_s16_to_respond_to_the_threat_from_the_s17"),
    (else_try),
      (gt, ":var7", 0),
      (ge, ":var14", 0),
      (assign, ":var44", 1),
      (str_store_faction_name, s17, ":var7"),
      (assign, ":var45", "str_s12s15_wishes_to_be_at_peace_with_s16_so_as_to_pursue_the_war_against_the_s17"),
    (else_try),
      (gt, ":var38", 175),
      (eq, ":var6", 1),
      (assign, ":var44", 1),
      (assign, ":var45", "str_s12s15_seems_to_be_intimidated_by_s16_and_would_like_to_avoid_hostilities"),
    (else_try),
      (lt, ":var12", 0),
      (assign, ":var44", 1),
      (assign, ":var45", "str_s12s15_has_no_particular_reason_to_continue_the_war_with_s16_and_would_probably_make_peace_if_given_the_opportunity"),
    (else_try),
      (assign, ":var44", 1),
      (assign, ":var45", "str_s12s15_seems_to_be_willing_to_improve_relations_with_s16"),
    (try_end),
    (str_store_string, s14, ":var45"),
    (assign, reg0, ":var44"),
    (assign, reg1, ":var45"),
  ]),

  ("npc_decision_checklist_male_guardian_assess_suitor",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 52),
    (store_faction_of_troop, ":var3", ":var0"),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (assign, ":var4", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var4", ":var1"),
    (try_end),
    (store_relation, ":var5", ":var3", ":var4"),
    (call_script, "script_troop_get_relation_with_troop", ":var0", ":var1"),
    (assign, ":var6", reg0),
    (troop_get_slot, ":var7", ":var1", 7),
    (assign, ":var8", -1),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (gt, "$marriage_candidate", 0),
      (neq, ":var3", "fac_kingdom_1"),
      (neq, ":var4", "fac_kingdom_1"),
      (try_for_range, ":var9", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
        (troop_slot_eq, ":var9", 166, 1),
        (store_faction_of_troop, ":var10", ":var9"),
        (eq, ":var10", ":var3"),
        (this_or_next|troop_slot_eq, ":var9", 35, "$marriage_candidate"),
        (this_or_next|troop_slot_eq, ":var9", 36, "$marriage_candidate"),
        (troop_slot_eq, ":var9", 37, "$marriage_candidate"),
        (call_script, "script_troop_get_relation_with_troop", ":var9", ":var0"),
        (gt, reg0, 5),
        (troop_slot_ge, ":var9", 7, ":var7"),
        (assign, ":var8", ":var9"),
        (str_store_troop_name, s14, ":var9"),
        (str_store_troop_name, s16, "$marriage_candidate"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var3", "fac_kingdom_1"),
      (eq, ":var4", "fac_kingdom_1"),
      (assign, ":var11", "@I'm sorry, we take vows of chastity here and are not allowed to marry."),
      (assign, ":var12", -3),
    (else_try),
      (lt, ":var7", 50),
      (this_or_next|troop_slot_eq, ":var0", 52, 2),
      (this_or_next|troop_slot_eq, ":var0", 52, 5),
      (troop_slot_eq, ":var0", 52, 3),
      (assign, ":var11", "str_excuse_me_how_can_you_possibly_imagine_yourself_worthy_to_marry_into_our_family"),
      (assign, ":var12", -3),
    (else_try),
      (lt, ":var7", 50),
      (troop_slot_eq, ":var0", 52, 6),
      (assign, ":var11", "str_em_with_regard_to_her_ladyship_we_were_looking_specifically_for_a_groom_of_some_distinction_fight_hard_count_your_dinars_and_perhaps_some_day_in_the_future_we_may_speak_of_such_things_my_good_man"),
      (assign, ":var12", -1),
    (else_try),
      (lt, ":var7", 50),
      (assign, ":var11", "str_em_with_regard_to_her_ladyship_we_were_looking_specifically_for_a_groom_of_some_distinction"),
      (assign, ":var12", -2),
    (else_try),
      (lt, ":var7", 200),
      (neg|troop_slot_eq, ":var0", 52, 6),
      (assign, ":var11", "str_it_is_too_early_for_you_to_be_speaking_of_such_things_you_are_still_making_your_mark_in_the_world"),
      (assign, ":var12", -1),
    (else_try),
      (eq, ":var1", "trp_player"),
      (neq, ":var4", "$players_kingdom"),
      (str_store_faction_name, s4, ":var3"),
      (this_or_next|eq, ":var2", 2),
      (eq, ":var2", 5),
      (assign, ":var11", "str_you_dont_serve_the_s4_so_id_say_no_one_day_we_may_be_at_war_and_i_prefer_not_to_have_to_kill_my_inlaws_if_at_all_possible"),
      (assign, ":var12", -1),
    (else_try),
      (eq, ":var1", "trp_player"),
      (neq, ":var4", "$players_kingdom"),
      (neq, ":var2", 6),
      (neq, ":var2", 4),
      (assign, ":var11", "str_as_you_are_not_a_vassal_of_the_s4_i_must_decline_your_request_the_twists_of_fate_may_mean_that_we_will_one_day_cross_swords_and_i_would_hope_not_to_make_a_widow_of_a_lady_whom_i_am_obligated_to_protect"),
      (assign, ":var12", -1),
    (else_try),
      (eq, ":var1", "trp_player"),
      (lt, ":var5", 0),
      (assign, ":var11", "str_as_you_are_not_a_vassal_of_the_s4_i_must_decline_your_request_the_twists_of_fate_may_mean_that_we_will_one_day_cross_swords_and_i_would_hope_not_to_make_a_widow_of_a_lady_whom_i_am_obligated_to_protect"),
      (assign, ":var12", -1),
    (else_try),
      (eq, ":var1", "trp_player"),
      (neq, "$player_has_homage", 1),
      (neg|faction_slot_eq, "fac_player_supporters_faction", 21, 0),
      (assign, ":var11", "str_as_you_are_not_a_pledged_vassal_of_our_liege_with_the_right_to_hold_land_i_must_refuse_your_request_to_marry_into_our_family"),
      (assign, ":var12", -1),
    (else_try),
      (gt, ":var8", -1),
      (this_or_next|eq, ":var2", 3),
      (this_or_next|eq, ":var2", 5),
      (this_or_next|eq, ":var2", 1),
      (eq, ":var2", 2),
      (assign, ":var11", "str_look_here_lad__the_young_s14_has_been_paying_court_to_s16_and_youll_have_to_admit__hes_a_finer_catch_for_her_than_you_so_lets_have_no_more_of_this_talk_shall_we"),
      (assign, ":var12", -1),
    (else_try),
      (lt, ":var6", -4),
      (assign, ":var11", "str_i_do_not_care_for_you_sir_and_i_consider_it_my_duty_to_protect_the_ladies_of_my_household_from_undesirable_suitors"),
      (assign, ":var12", -3),
    (else_try),
      (lt, ":var6", 5),
      (assign, ":var11", "str_hmm_young_girls_may_easily_be_led_astray_so_out_of_a_sense_of_duty_to_the_ladies_of_my_household_i_think_i_would_like_to_get_to_know_you_a_bit_better_we_may_speak_of_this_at_a_later_date"),
      (assign, ":var12", -1),
    (else_try),
      (assign, ":var11", "str_you_may_indeed_make_a_fine_match_for_the_young_mistress"),
      (assign, ":var12", 1),
    (try_end),
    (assign, reg0, ":var12"),
    (assign, reg1, ":var11"),
  ]),

  ("npc_decision_checklist_marry_female_pc",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", ":var0", 52),
    (call_script, "script_troop_get_romantic_chemistry_with_troop", ":var0", "trp_player"),
    (assign, ":var2", reg0),
    (call_script, "script_troop_get_relation_with_troop", ":var0", "trp_player"),
    (assign, ":var3", reg0),
    (assign, ":var4", -1),
    (try_for_range, ":var5", "trp_knight_1_1_wife", "trp_heroes_end"),
      (this_or_next|troop_slot_eq, ":var0", 35, ":var5"),
      (this_or_next|troop_slot_eq, ":var0", 36, ":var5"),
      (troop_slot_eq, ":var0", 37, ":var5"),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var4"),
      (assign, ":var6", reg0),
      (gt, ":var6", ":var3"),
      (assign, ":var4", ":var5"),
    (try_end),
    (assign, ":var7", 0),
    (try_for_range, ":var8", "p_town_1_1", "p_salt_mine"),
      (troop_slot_eq, ":var8", 7, "trp_player"),
      (val_add, ":var7", 1),
    (try_end),
    (assign, ":var9", 0),
    (try_begin),
      (troop_slot_ge, "trp_player", 34, "trp_npc1"),
      (neg|troop_slot_eq, "trp_player", 34, ":var0"),
      (str_store_string, s14, "str_my_lady_engaged_to_another"),
    (else_try),
      (lt, ":var3", -3),
      (this_or_next|eq, ":var1", 7),
      (this_or_next|eq, ":var1", 4),
      (eq, ":var1", 6),
      (str_store_string, s14, "str_madame__given_our_relations_in_the_past_this_proposal_is_most_surprising_i_do_not_think_that_you_are_the_kind_of_woman_who_can_be_bent_to_a_hushands_will_and_i_would_prefer_not_to_have_our_married_life_be_a_source_of_constant_acrimony"),
    (else_try),
      (lt, ":var3", -10),
      (this_or_next|eq, ":var1", 2),
      (this_or_next|eq, ":var1", 5),
      (eq, ":var1", 3),
      (str_store_string, s14, "str_i_would_prefer_to_marry_a_proper_maiden_who_will_obey_her_husband_and_is_not_likely_to_split_his_head_with_a_sword"),
    (else_try),
      (lt, ":var2", 5),
      (str_store_string, s14, "str_my_lady_not_sufficient_chemistry"),
    (else_try),
      (this_or_next|eq, ":var1", 7),
      (eq, ":var1", 1),
      (str_store_string, s14, "str_my_lady_while_i_admire_your_valor_you_will_forgive_me_if_i_tell_you_that_a_woman_like_you_does_not_uphold_to_my_ideal_of_the_feminine_of_the_delicate_and_of_the_pure"),
    (else_try),
      (eq, ":var1", 2),
      (lt, ":var2", 15),
      (str_store_string, s14, "str_nah_i_want_a_woman_wholl_keep_quiet_and_do_what_shes_told_i_dont_think_thats_you"),
    (else_try),
      (this_or_next|eq, ":var1", 3),
      (eq, ":var1", 5),
      (ge, ":var2", 10),
      (eq, ":var7", 0),
      (str_store_string, s14, "str_my_lady_you_are_possessed_of_great_charms_but_no_properties_until_you_obtain_some_to_marry_you_would_be_an_act_of_ingratitude_towards_my_ancestors_and_my_lineage"),
    (else_try),
      (this_or_next|eq, ":var1", 3),
      (eq, ":var1", 5),
      (eq, ":var7", 0),
      (str_store_string, s14, "str_my_lady_you_are_a_woman_of_no_known_family_of_no_possessions__in_short_a_nobody_do_you_think_that_you_are_fit_to_marry_into_may_family"),
    (else_try),
      (lt, ":var2", 5),
      (lt, ":var3", 20),
      (neq, ":var1", 5),
      (neq, ":var1", 3),
      (str_store_string, s14, "str_my_lady__forgive_me__the_quality_of_our_bond_is_not_of_the_sort_which_the_poets_tell_us_is_necessary_to_sustain_a_happy_marriage"),
    (else_try),
      (eq, ":var1", 4),
      (faction_get_slot, ":var10", fac_culture_balkan, "$g_talk_troop_faction"),
      (str_store_troop_name, s4, ":var10"),
      (call_script, "script_troop_get_relation_with_troop", ":var10", "trp_player"),
      (lt, reg0, -10),
      (str_store_string, s14, "str_um_i_think_that_if_i_want_to_stay_on_s4s_good_side_id_best_not_marry_you"),
    (else_try),
      (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (eq, "$player_has_homage", 1),
      (neq, "$players_kingdom", "$g_talk_troop_faction"),
      (faction_get_slot, ":var10", fac_culture_balkan, "$g_talk_troop_faction"),
      (troop_get_type, reg4, ":var10"),
      (str_store_string, s14, "str_you_serve_another_realm_i_dont_see_s4_granting_reg4herhis_blessing_to_our_union"),
    (else_try),
      (gt, ":var4", -1),
      (str_store_troop_name, s4, ":var4"),
      (str_store_string, s14, "str_madame_my_heart_currently_belongs_to_s4"),
    (else_try),
      (lt, ":var3", 10),
      (assign, ":var9", 2),
      (str_store_string, s14, "str_my_lady_you_are_a_woman_of_great_spirit_and_bravery_possessed_of_beauty_grace_and_wit_i_shall_give_your_proposal_consideration"),
    (else_try),
      (assign, ":var9", 1),
      (str_store_string, s14, "str_my_lady_you_are_a_woman_of_great_spirit_and_bravery_possessed_of_beauty_grace_and_wit_i_would_be_most_honored_were_you_to_become_my_wife"),
    (try_end),
    (assign, reg0, ":var9"),
  ]),

  ("courtship_poem_reactions",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 52),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg4, ":var1"),
      (assign, reg5, ":var2"),
      (display_message, "str_poem_choice_reg4_lady_rep_reg5"),
    (try_end),
    (try_begin),
      (eq, ":var1", 1),
      (eq, ":var2", 21),
      (str_store_string, s11, "str_ah__kais_and_layali__such_a_sad_tale_many_a_time_has_it_been_recounted_for_my_family_by_the_wandering_poets_who_come_to_our_home_and_it_has_never_failed_to_bring_tears_to_our_eyes"),
      (assign, ":var3", 5),
    (else_try),
      (eq, ":var1", 1),
      (eq, ":var2", 24),
      (str_store_string, s11, "str_kais_and_layali_three_hundred_stanzas_of_pathetic_sniveling_if_you_ask_me_if_kais_wanted_to_escape_heartbreak_he_should_have_learned_to_live_within_his_station_and_not_yearn_for_what_he_cannot_have"),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var1", 1),
      (eq, ":var2", 23),
      (str_store_string, s11, "str_kais_and_layali_no_one_should_ever_have_written_such_a_sad_poem_if_it_was_the_destiny_of_kais_and_layali_to_be_together_than_their_love_should_have_conquered_all_obstacles"),
      (assign, ":var3", 1),
    (else_try),
      (eq, ":var1", 1),
      (str_store_string, s11, "str_ah_kais_and_layali_a_very_old_standby_but_moving_in_its_way"),
      (assign, ":var3", 3),
    (else_try),
      (eq, ":var1", 2),
      (eq, ":var2", 22),
      (str_store_string, s11, "str_the_saga_of_helgered_and_kara_such_happy_times_in_which_our_ancestors_lived_women_like_kara_could_venture_out_into_the_world_like_men_win_a_name_for_themselves_and_not_linger_in_their_husbands_shadow"),
      (assign, ":var3", 5),
    (else_try),
      (eq, ":var1", 2),
      (eq, ":var2", 24),
      (str_store_string, s11, "str_ah_the_saga_of_helgered_and_kara_now_there_was_a_lady_who_knew_what_she_wanted_and_was_not_afraid_to_obtain_it"),
      (assign, ":var3", 2),
    (else_try),
      (eq, ":var1", 2),
      (eq, ":var2", 23),
      (str_store_string, s11, "str_the_saga_of_helgered_and_kara_a_terrible_tale__but_it_speaks_of_a_very_great_love_if_she_were_willing_to_make_war_on_her_own_family"),
      (assign, ":var3", 2),
    (else_try),
      (eq, ":var1", 2),
      (eq, ":var2", 25),
      (str_store_string, s11, "str_the_saga_of_helgered_and_kara_as_i_recall_kara_valued_her_own_base_passions_over_duty_to_her_family_that_she_made_war_on_her_own_father_i_have_no_time_for_a_poem_which_praises_such_a_woman"),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var1", 2),
      (eq, ":var2", 21),
      (str_store_string, s11, "str_the_saga_of_helgered_and_kara_how_could_a_woman_don_armor_and_carry_a_sword_how_could_a_man_love_so_ungentle_a_creature"),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var1", 3),
      (eq, ":var2", 23),
      (str_store_string, s11, "str_a_conversation_in_the_garden_i_cannot_understand_the_lady_in_that_poem_if_she_loves_the_man_why_does_she_tease_him_so"),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var1", 3),
      (eq, ":var2", 25),
      (str_store_string, s11, "str_a_conversation_in_the_garden_let_us_see__it_is_morally_unedifying_it_exalts_deception_it_ends_with_a_maiden_surrendering_to_her_base_passions_and_yet_i_cannot_help_but_find_it_charming_perhaps_because_it_tells_us_that_love_need_not_be_tragic_to_be_memorable"),
      (assign, ":var3", 1),
    (else_try),
      (eq, ":var1", 3),
      (eq, ":var2", 24),
      (str_store_string, s11, "str_a_conversation_in_the_garden_now_that_is_a_tale_every_lady_should_know_by_heart_to_learn_the_subtleties_of_the_politics_she_must_practice"),
      (assign, ":var3", 5),
    (else_try),
      (eq, ":var1", 3),
      (str_store_string, s11, "str_a_conversation_in_the_garden_it_is_droll_i_suppose__although_there_is_nothing_there_that_truly_stirs_my_soul"),
      (assign, ":var3", 3),
    (else_try),
      (eq, ":var1", 5),
      (eq, ":var2", 22),
      (str_store_string, s11, "str_storming_the_fortress_of_love_ah_yes_the_lady_sits_within_doing_nothing_while_the_man_is_the_one_who_strives_and_achieves_i_have_enough_of_that_in_my_daily_life_why_listen_to_poems_about_it"),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var1", 5),
      (this_or_next|eq, ":var2", 21),
      (eq, ":var2", 25),
      (str_store_string, s11, "str_storming_the_fortress_of_love_ah_yes_an_uplifting_tribute_to_the_separate_virtues_of_man_and_woman"),
      (assign, ":var3", 3),
    (else_try),
      (eq, ":var1", 5),
      (eq, ":var2", 23),
      (str_store_string, s11, "str_storming_the_fortress_of_love_ah_yes_but_although_it_is_a_fine_tale_of_virtues_it_speaks_nothing_of_passion"),
      (assign, ":var3", 1),
    (else_try),
      (eq, ":var1", 5),
      (eq, ":var2", 24),
      (str_store_string, s11, "str_storming_the_fortress_of_love_ah_a_sermon_dressed_up_as_a_love_poem_if_you_ask_me"),
      (assign, ":var3", 1),
    (else_try),
      (eq, ":var1", 4),
      (eq, ":var2", 23),
      (str_store_string, s11, "str_a_hearts_desire_ah_such_a_beautiful_account_of_the_perfect_perfect_love_to_love_like_that_must_be_to_truly_know_rapture"),
      (assign, ":var3", 4),
    (else_try),
      (eq, ":var1", 4),
      (eq, ":var2", 24),
      (str_store_string, s11, "str_a_hearts_desire_silly_if_you_ask_me_if_the_poet_desires_a_lady_then_he_should_endeavor_to_win_her__and_not_dress_up_his_desire_with_a_pretense_of_piety"),
      (assign, ":var3", 0),
    (else_try),
      (eq, ":var1", 4),
      (eq, ":var2", 25),
      (str_store_string, s11, "str_a_hearts_desire_hmm__it_is_an_interesting_exploration_of_earthly_and_divine_love_it_does_speak_of_the_spiritual_quest_which_brings_out_the_best_in_man_but_i_wonder_if_the_poet_has_not_confused_his_yearning_for_higher_things_with_his_baser_passions"),
      (assign, ":var3", 2),
    (else_try),
      (eq, ":var1", 4),
      (str_store_string, s11, "str_a_hearts_desire_oh_yes__it_is_very_worthy_and_philosophical_but_if_i_am_to_listen_to_a_bard_strum_a_lute_for_three_hours_i_personally_prefer_there_to_be_a_bit_of_a_story"),
      (assign, ":var3", 1),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg4, ":var3"),
      (display_message, "str_result_reg4_string_s11"),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("diplomacy_faction_get_diplomatic_status_with_faction",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_add, ":var2", ":var1", 160),
    (store_add, ":var3", ":var1", 220),
    (val_sub, ":var2", "fac_player_supporters_faction"),
    (val_sub, ":var3", "fac_player_supporters_faction"),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (try_begin),
      (store_relation, ":var6", ":var0", ":var1"),
      (lt, ":var6", -5),
      (assign, ":var4", -2),
    (else_try),
      (faction_slot_ge, ":var0", ":var2", 1),
      (assign, ":var4", 1),
      (faction_get_slot, ":var5", ":var0", ":var2"),
    (else_try),
      (faction_slot_ge, ":var0", ":var3", 1),
      (assign, ":var4", -1),
      (faction_get_slot, ":var5", ":var0", ":var3"),
    (try_end),
    (assign, reg0, ":var4"),
    (assign, reg1, ":var5"),
  ]),

  ("faction_follows_controversial_policy",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (faction_get_slot, ":var2", ":var0", 11),
    (try_begin),
      (ge, "$cheat_mode", 1),
      (str_store_faction_name, s3, ":var0"),
      (display_message, "str_calculating_effect_for_policy_for_s3"),
      (val_add, "$number_of_controversial_policy_decisions", 1),
    (try_end),
    (try_begin),
      (eq, ":var1", 80),
      (assign, ":var3", 0),
      (assign, ":var4", -2),
      (assign, ":var5", -1),
    (else_try),
      (eq, ":var1", 81),
      (assign, ":var3", -3),
      (assign, ":var4", 0),
      (assign, ":var5", 0),
    (else_try),
      (eq, ":var1", 83),
      (assign, ":var3", 3),
      (assign, ":var4", 1),
      (assign, ":var5", 0),
    (else_try),
      (eq, ":var1", 84),
      (assign, ":var3", 0),
      (assign, ":var4", -3),
      (assign, ":var5", -5),
    (else_try),
      (eq, ":var1", 82),
      (assign, ":var3", -5),
      (assign, ":var4", 0),
      (assign, ":var5", 0),
    (try_end),
    (try_begin),
      (eq, ":var2", "trp_player"),
      (call_script, "script_change_player_honor", ":var5"),
    (try_end),
    (try_for_range, ":var6", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var6", 166, 1),
      (troop_slot_eq, ":var6", 2, 2),
      (store_faction_of_troop, ":var7", ":var6"),
      (eq, ":var7", ":var0"),
      (neq, ":var6", ":var2"),
      (try_begin),
        (this_or_next|troop_slot_eq, ":var6", 52, 1),
        (this_or_next|troop_slot_eq, ":var6", 52, 2),
        (this_or_next|troop_slot_eq, ":var6", 52, 3),
        (troop_slot_eq, ":var6", 52, 5),
        (call_script, "script_troop_change_relation_with_troop", ":var2", ":var6", ":var3"),
        (val_add, "$total_policy_dispute_changes", ":var3"),
      (try_end),
      (try_begin),
        (this_or_next|troop_slot_eq, ":var6", 52, 1),
        (this_or_next|troop_slot_eq, ":var6", 52, 6),
        (this_or_next|troop_slot_eq, ":var6", 52, 3),
        (this_or_next|troop_slot_eq, ":var6", 52, 9),
        (this_or_next|troop_slot_eq, ":var6", 52, 10),
        (troop_slot_eq, ":var6", 52, 7),
        (call_script, "script_troop_change_relation_with_troop", ":var2", ":var6", ":var4"),
        (val_add, "$total_policy_dispute_changes", ":var3"),
      (try_end),
    (try_end),
  ]),

  ("internal_politics_rate_feast_to_s9",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 4),
    (val_max, ":var1", 1),
    (try_for_range, ":var3", "itm_spice", "itm_siege_supply"),
      (item_set_slot, ":var3", 7, 0),
    (try_end),
    (troop_get_inventory_capacity, ":var4", ":var0"),
    (try_for_range, ":var5", 0, ":var4"),
      (troop_get_inventory_slot, ":var3", ":var0", ":var5"),
      (is_between, ":var3", "itm_spice", "itm_siege_supply"),
      (troop_inventory_slot_get_item_amount, ":var6", ":var0", ":var5"),
      (item_get_slot, ":var7", ":var3", 7),
      (val_add, ":var7", ":var6"),
      (item_set_slot, ":var3", 7, ":var7"),
    (try_end),
    (assign, ":var8", 0),
    (assign, ":var9", 0),
    (store_div, ":var10", ":var1", 12),
    (try_for_range, ":var11", "itm_smoked_fish", "itm_siege_supply"),
      (item_get_slot, ":var12", ":var11", 7),
      (val_add, ":var8", ":var12"),
      (ge, ":var12", ":var10"),
      (val_add, ":var9", 1),
    (try_end),
    (val_mul, ":var8", 100),
    (val_div, ":var8", ":var1"),
    (val_min, ":var8", 100),
    (val_mul, ":var9", 85),
    (val_div, ":var9", 10),
    (val_min, ":var9", 100),
    (assign, ":var13", 0),
    (assign, ":var14", 0),
    (store_div, ":var15", ":var1", 4),
    (try_for_range, ":var16", "itm_wine", "itm_smoked_fish"),
      (assign, ":var17", ":var16"),
      (item_get_slot, ":var18", ":var17", 7),
      (val_add, ":var13", ":var18"),
      (ge, ":var18", ":var15"),
      (val_add, ":var14", 1),
    (try_end),
    (val_mul, ":var13", 200),
    (val_max, ":var1", 1),
    (val_div, ":var13", ":var1"),
    (val_min, ":var13", 100),
    (val_mul, ":var14", 50),
    (item_get_slot, ":var19", "itm_spice", 7),
    (store_mul, ":var20", ":var19", 100),
    (val_max, ":var10", 1),
    (val_div, ":var19", ":var10"),
    (val_min, ":var20", 100),
    (item_get_slot, ":var21", "itm_oil", 7),
    (store_mul, ":var22", ":var21", 100),
    (val_max, ":var10", 1),
    (val_div, ":var21", ":var10"),
    (val_min, ":var22", 100),
    (store_div, ":var23", ":var8", 20),
    (val_add, ":var23", "str_feast_description"),
    (str_store_string, s8, ":var23"),
    (str_store_string, s9, "str_of_food_which_must_come_before_everything_else_the_amount_is_s8"),
    (store_div, ":var24", ":var9", 20),
    (val_add, ":var24", "str_feast_description"),
    (str_store_string, s8, ":var24"),
    (str_store_string, s9, "str_s9_and_the_variety_is_s8_"),
    (store_div, ":var25", ":var13", 20),
    (val_add, ":var25", "str_feast_description"),
    (str_store_string, s8, ":var25"),
    (str_store_string, s9, "str_s9_of_drink_which_guests_will_expect_in_great_abundance_the_amount_is_s8"),
    (store_div, ":var26", ":var14", 20),
    (val_add, ":var26", "str_feast_description"),
    (str_store_string, s8, ":var26"),
    (str_store_string, s9, "str_s9_and_the_variety_is_s8_"),
    (store_div, ":var27", ":var20", 20),
    (val_add, ":var27", "str_feast_description"),
    (str_store_string, s8, ":var27"),
    (str_store_string, s9, "str_s9_of_spice_which_is_essential_to_demonstrate_that_we_spare_no_expense_as_hosts_the_amount_is_s8_"),
    (store_div, ":var28", ":var22", 20),
    (val_add, ":var28", "str_feast_description"),
    (str_store_string, s8, ":var28"),
    (str_store_string, s9, "str_s9_of_oil_which_we_shall_require_to_light_the_lamps_the_amount_is_s8"),
    (store_mul, ":var29", ":var8", 8),
    (store_add, ":var30", ":var8", ":var9"),
    (val_mul, ":var30", 2),
    (val_add, ":var30", ":var14"),
    (val_add, ":var30", ":var13"),
    (val_add, ":var30", ":var19"),
    (val_add, ":var30", ":var21"),
    (val_min, ":var30", ":var29"),
    (val_div, ":var30", 8),
    (val_clamp, ":var30", 1, 101),
    (store_div, ":var31", ":var30", 20),
    (val_add, ":var31", "str_feast_description"),
    (str_store_string, s8, ":var31"),
    (str_store_string, s9, "str_s9_overall_our_table_will_be_considered_s8"),
    (assign, reg0, ":var30"),
    (try_begin),
      (eq, ":var2", 1),
      (assign, ":var32", ":var1"),
      (try_for_range, ":var33", 0, 1999),
        (gt, ":var32", 0),
        (try_for_range, ":var3", "itm_spice", "itm_siege_supply"),
          (item_set_slot, ":var3", 0, 0),
        (try_end),
        (troop_get_inventory_capacity, ":var34", ":var0"),
        (try_for_range, ":var35", 0, ":var34"),
          (troop_get_inventory_slot, ":var3", ":var0", ":var35"),
          (this_or_next|eq, ":var3", "itm_spice"),
          (this_or_next|eq, ":var3", "itm_oil"),
          (this_or_next|eq, ":var3", "itm_wine"),
          (this_or_next|eq, ":var3", "itm_ale"),
          (is_between, ":var3", "itm_smoked_fish", "itm_siege_supply"),
          (item_slot_eq, ":var3", 0, 0),
          (troop_inventory_slot_get_item_amount, ":var36", ":var0", ":var35"),
          (gt, ":var36", 0),
          (val_sub, ":var36", 1),
          (troop_inventory_slot_set_item_amount, ":var0", ":var35", ":var36"),
          (val_sub, ":var32", 1),
          (item_set_slot, ":var3", 0, 1),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("faction_get_adjective_to_s10",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (eq, ":var0", "fac_player_faction"),
      (assign, ":var0", "$players_kingdom"),
    (try_end),
    (try_begin),
      (eq, ":var0", "fac_player_supporters_faction"),
      (str_store_string, s10, "str_rebel"),
    (else_try),
      (this_or_next|eq, ":var0", "fac_outlaws"),
      (this_or_next|eq, ":var0", "fac_mountain_bandits"),
      (this_or_next|eq, ":var0", "fac_forest_bandits"),
      (eq, ":var0", "fac_deserters"),
      (str_store_string, s10, "str_bandit"),
    (else_try),
      (faction_get_slot, ":var1", ":var0", 22),
      (str_store_string, s10, ":var1"),
    (try_end),
  ]),

  ("setup_tavern_attacker",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (try_begin),
      (party_slot_ge, "$g_encountered_party", 253, 1),
      (party_get_slot, ":var1", "$g_encountered_party", 253),
    (try_end),
    (try_begin),
      (neg|troop_slot_eq, "trp_hired_assassin", 12, "$g_encountered_party"),
      (gt, ":var1", 0),
      (set_visitor, ":var0", ":var1"),
    (else_try),
      (gt, ":var1", 0),
      (store_random_in_range, ":var2", 0, 100),
      (le, ":var2", 10),
      (set_visitor, ":var0", ":var1"),
    (try_end),
    (try_begin),
      (troop_slot_eq, "trp_hired_assassin", 12, "$g_encountered_party"),
      (set_visitor, ":var0", "trp_hired_assassin"),
    (try_end),
  ]),

  ("activate_tavern_attackers",
  [
    (store_script_param, ":var0", 1),
    (set_party_battle_mode),
    (try_for_agents, ":var1"),
      (agent_get_troop_id, ":var2", ":var1"),
      (this_or_next|eq, ":var2", "trp_fugitive"),
      (this_or_next|eq, ":var2", ":var0"),
      (eq, ":var2", "trp_hired_assassin"),
      (agent_set_team, ":var1", 1),
      (assign, "$g_main_attacker_agent", ":var1"),
      (agent_ai_set_aggressiveness, ":var1", 199),
    (try_end),
  ]),

  ("deactivate_tavern_attackers",
  [
    (store_script_param, ":var0", 1),
    (finish_party_battle_mode),
    (try_for_agents, ":var1"),
      (agent_get_troop_id, ":var2", ":var1"),
      (this_or_next|eq, ":var2", "trp_fugitive"),
      (this_or_next|eq, ":var2", ":var0"),
      (eq, ":var2", "trp_hired_assassin"),
      (agent_set_team, ":var1", 0),
      (agent_ai_set_aggressiveness, ":var1", 0),
    (try_end),
  ]),

  ("activate_town_guard",
  [
    (set_party_battle_mode),
    (try_for_agents, ":var0"),
      (agent_get_troop_id, ":var1", ":var0"),
      (this_or_next|is_between, ":var1", "trp_novice_fighter", "trp_tournament_master"),
      (this_or_next|is_between, "$g_talk_troop", "trp_cstm_custom_troop_1_tier_0_0_0", "trp_cstm_custom_troops_end"),
      (is_between, "$g_talk_troop", "trp_templar_spearman_1", "trp_g_troop"),
      (agent_set_team, ":var0", 1),
    (else_try),
      (this_or_next|is_between, ":var0", "trp_town_walker_1", "trp_tournament_master"),
      (is_between, ":var0", "trp_town_1_armorer", "trp_village_1_elder"),
      (agent_clear_scripted_mode, ":var0"),
      (agent_set_team, ":var0", 2),
    (try_end),
  ]),

  ("cf_prisoner_offered_parole",
  [
    (store_script_param, ":var0", 1),
    (eq, 1, 0),
    (troop_get_slot, ":var1", ":var0", 8),
    (party_is_active, ":var1"),
    (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
    (party_get_slot, ":var2", ":var1", 7),
    (troop_get_slot, ":var3", ":var0", 52),
    (troop_get_slot, ":var4", ":var2", 52),
    (neq, ":var3", 5),
    (neq, ":var4", 5),
    (neq, ":var4", 2),
    (this_or_next|eq, ":var4", 6),
    (this_or_next|troop_slot_eq, ":var0", 2, 2),
    (troop_slot_eq, ":var0", 2, 6),
    (call_script, "script_troop_get_relation_with_troop", ":var2", ":var0"),
    (ge, reg0, -10),
  ]),

  ("neutral_behavior_in_fight",
  [
    (get_player_agent_no, ":var0"),
    (agent_get_position, pos3, ":var0"),
    (agent_get_team, ":var1", ":var0"),
    (try_begin),
      (gt, "$g_main_attacker_agent", 0),
      (agent_is_active, "$g_main_attacker_agent"),
      (agent_get_team, ":var2", "$g_main_attacker_agent"),
      (agent_get_position, pos5, "$g_main_attacker_agent"),
    (else_try),
      (assign, ":var2", -1),
      (agent_get_position, pos5, ":var0"),
    (try_end),
    (set_fixed_point_multiplier, 100),
    (try_for_agents, ":var3"),
      (agent_get_team, ":var4", ":var3"),
      (neq, ":var4", ":var2"),
      (neq, ":var4", ":var1"),
      (agent_get_troop_id, ":var5", ":var3"),
      (neg|is_between, ":var5", "trp_teu_village_recruit", "trp_looter"),
      (agent_get_position, pos4, ":var3"),
      (assign, ":var6", 0),
      (assign, ":var7", -1),
      (try_begin),
        (neg|agent_slot_eq, ":var3", 15, 0),
        (agent_get_slot, ":var8", ":var3", 15),
        (store_sub, ":var9", ":var8", 1),
        (entry_point_get_position, pos6, ":var9"),
        (get_distance_between_positions, ":var10", pos6, pos4),
        (lt, ":var10", 100),
        (agent_set_slot, ":var3", 15, 0),
      (try_end),
      (agent_slot_eq, ":var3", 15, 0),
      (try_begin),
        (get_distance_between_positions, ":var11", pos4, pos5),
        (get_distance_between_positions, ":var12", pos4, pos3),
        (val_min, ":var11", ":var12"),
        (this_or_next|gt, ":var11", 700),
        (main_hero_fallen),
        (agent_set_scripted_destination, ":var3", pos4),
      (else_try),
        (try_for_range, ":var9", 0, 64),
          (neg|entry_point_is_auto_generated, ":var9"),
          (entry_point_get_position, pos6, ":var9"),
          (get_distance_between_positions, ":var10", pos6, pos4),
          (get_distance_between_positions, ":var13", pos6, pos3),
          (store_sub, ":var14", ":var13", ":var10"),
          (ge, ":var14", 0),
          (try_begin),
            (ge, ":var10", 2000),
            (store_sub, ":var15", ":var10", 2000),
            (val_min, ":var15", 1000),
            (val_min, ":var10", 2000),
            (val_sub, ":var10", ":var15"),
          (try_end),
          (val_mul, ":var14", ":var10"),
          (try_begin),
            (ge, ":var14", ":var6"),
            (assign, ":var6", ":var14"),
            (assign, ":var7", ":var9"),
          (try_end),
        (try_end),
        (try_begin),
          (ge, ":var7", 0),
          (entry_point_get_position, pos6, ":var7"),
          (agent_set_speed_limit, ":var3", 10),
          (agent_set_scripted_destination, ":var3", pos6),
          (store_add, ":var16", ":var7", 1),
          (agent_set_slot, ":var3", 15, ":var16"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("party_inflict_attrition",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_clear, "p_temp_casualties"),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (neg|troop_is_hero, ":var4"),
      (party_stack_get_size, ":var5", ":var0", ":var3"),
      (store_mul, ":var6", ":var1", ":var5"),
      (store_div, ":var7", ":var6", 100),
      (party_add_members, "p_temp_casualties", ":var4", ":var7"),
      (store_mul, ":var8", ":var7", 100),
      (store_sub, ":var9", ":var6", ":var8"),
      (try_begin),
        (gt, ":var9", 0),
        (store_random_in_range, ":var10", 0, 100),
        (lt, ":var10", ":var9"),
        (assign, ":var7", 1),
        (party_add_members, "p_temp_casualties", ":var4", ":var7"),
      (try_end),
    (try_end),
    (party_get_num_companion_stacks, ":var2", "p_temp_casualties"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", "p_temp_casualties", ":var3"),
      (party_stack_get_size, ":var5", "p_temp_casualties", ":var3"),
      (party_remove_members, ":var0", ":var4", ":var5"),
      (eq, "$cheat_mode", 1),
      (assign, reg3, ":var5"),
      (str_store_troop_name, s4, ":var4"),
      (str_store_party_name, s5, ":var0"),
      (str_store_string, s65, "str_s5_suffers_attrition_reg3_x_s4"),
      (display_message, "str_s65"),
    (try_end),
    (call_script, "script_party_calculate_strength", ":var0", 1, 0),
  ]),

  ("add_rumor_string_to_troop_notes",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (str_store_troop_name, s10, "$g_talk_troop"),
    (str_store_string_reg, s11, ":var2"),
    (store_current_hours, ":var3"),
    (call_script, "script_game_get_date_text", 0, ":var3"),
    (str_store_string, s5, "str_s10_said_on_s1_s11__"),
    (try_begin),
      (is_between, ":var0", "trp_npc1", "trp_heroes_end"),
      (troop_get_slot, ":var4", ":var0", 45),
      (val_add, ":var4", 1),
      (try_begin),
        (neg|is_between, ":var4", 3, 16),
        (assign, ":var4", 3),
      (try_end),
      (troop_set_slot, ":var0", 45, ":var4"),
      (add_troop_note_from_sreg, ":var0", ":var4", s5, 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s3, ":var0"),
        (assign, reg4, ":var4"),
        (display_message, "str_rumor_note_to_s3s_slot_reg4_s5"),
      (try_end),
    (try_end),
    (try_begin),
      (is_between, ":var1", "trp_npc1", "trp_heroes_end"),
      (troop_get_slot, ":var4", ":var1", 45),
      (val_add, ":var4", 1),
      (try_begin),
        (neg|is_between, ":var4", 3, 16),
        (assign, ":var4", 3),
      (try_end),
      (troop_set_slot, ":var1", 45, ":var4"),
      (add_troop_note_from_sreg, ":var1", ":var4", s5, 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s3, ":var1"),
        (assign, reg4, ":var4"),
        (display_message, "str_rumor_note_to_s3s_slot_reg4_s5"),
      (try_end),
    (try_end),
  ]),

  ("character_can_wed_character",
  [
  ]),

  ("troop_change_career",
  [
  ]),

  ("center_get_goods_availability",
  [
    (store_script_param, ":var0", 1),
    (str_store_party_name, s4, ":var0"),
    (assign, ":var1", 0),
    (try_for_range, ":var2", "itm_spice", "itm_siege_supply"),
      (try_begin),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (item_get_slot, ":var3", ":var2", 12),
      (else_try),
        (item_get_slot, ":var3", ":var2", 11),
      (try_end),
      (gt, ":var3", 2),
      (store_div, ":var4", ":var3", 4),
      (store_sub, ":var5", ":var2", "itm_spice"),
      (val_add, ":var5", 310),
      (party_get_slot, ":var6", ":var0", ":var5"),
      (store_sub, ":var7", ":var6", 1000),
      (gt, ":var7", 200),
      (val_div, ":var7", 200),
      (val_min, ":var7", ":var4"),
      (val_add, ":var1", ":var7"),
    (try_end),
    (assign, reg0, ":var1"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "@{!}DEBUG -- hardship index for {s4} = {reg0}"),
    (try_end),
  ]),

  ("lord_find_alternative_faction",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (assign, ":var2", -1),
    (assign, ":var3", -5),
    (assign, ":var4", 0),
    (try_for_range, ":var5", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var6", ":var5"),
      (eq, ":var1", ":var6"),
      (val_add, ":var4", 1),
    (try_end),
    (try_begin),
      (eq, ":var4", 0),
      (neg|faction_slot_eq, ":var1", 11, "trp_player"),
      (assign, ":var3", -100),
    (try_end),
    (try_begin),
      (store_random_in_range, ":var7", 0, 10000),
      (this_or_next|le, "$g_advantegous_faction", 0),
      (eq, ":var7", 0),
      (store_random_in_range, "$g_advantegous_faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
    (try_end),
    (try_for_range, ":var8", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (this_or_next|eq, "$g_give_advantage_to_original_faction", 1),
      (neq, ":var8", ":var1"),
      (faction_slot_eq, ":var8", 21, 0),
      (assign, ":var9", 0),
      (try_for_range, ":var10", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var6", ":var10"),
        (eq, ":var6", ":var8"),
        (try_begin),
          (party_slot_eq, ":var10", 0, 3),
          (val_add, ":var9", 2),
        (else_try),
          (val_add, ":var9", 1),
        (try_end),
      (try_end),
      (assign, ":var11", 0),
      (try_for_range, ":var12", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var12", 166, 1),
        (store_faction_of_troop, ":var13", ":var12"),
        (eq, ":var13", ":var8"),
        (val_add, ":var11", 1),
      (try_end),
      (val_max, ":var11", 1),
      (faction_get_slot, ":var14", ":var8", 11),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var14"),
      (assign, ":var15", reg0),
      (store_mul, ":var16", ":var9", 100),
      (val_div, ":var16", ":var11"),
      (val_add, ":var16", ":var15"),
      (try_begin),
        (eq, ":var8", ":var1"),
        (eq, "$g_give_advantage_to_original_faction", 1),
        (val_add, ":var16", 100),
      (try_end),
      (try_begin),
        (eq, "$g_advantegous_faction", ":var8"),
        (val_add, ":var16", 50),
      (try_end),
      (try_begin),
        (faction_slot_eq, ":var8", 11, "trp_player"),
        (val_sub, ":var16", 100),
        (val_add, ":var16", "$player_right_to_rule"),
      (try_end),
      (try_begin),
        (troop_get_slot, ":var17", ":var0", 160),
        (faction_slot_eq, ":var8", 10, ":var17"),
        (val_add, ":var16", 150),
      (try_end),
      (try_begin),
        (troop_get_slot, ":var17", ":var0", 160),
        (faction_get_slot, ":var18", ":var17", 102),
        (faction_slot_eq, ":var8", 102, ":var18"),
        (val_add, ":var16", 100),
      (try_end),
      (try_begin),
        (troop_get_slot, ":var19", ":var14", 7),
        (val_div, ":var19", 20),
        (val_add, ":var16", ":var19"),
      (try_end),
      (gt, ":var16", ":var3"),
      (assign, ":var3", ":var16"),
      (assign, ":var2", ":var8"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("lord_find_alternative_faction_old",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (assign, ":var2", 0),
    (try_begin),
      (neg|faction_slot_eq, ":var1", 11, "trp_player"),
      (assign, ":var3", "p_village_1_1"),
      (assign, ":var2", 1),
      (try_for_range, ":var4", "p_town_1_1", ":var3"),
        (store_faction_of_party, ":var5", ":var4"),
        (eq, ":var5", ":var1"),
        (assign, ":var2", 0),
        (assign, ":var3", -1),
      (try_end),
    (try_end),
    (assign, ":var6", -1),
    (assign, ":var7", -5),
    (try_begin),
      (eq, ":var2", 1),
      (assign, ":var7", -100),
    (try_end),
    (try_for_range, ":var8", "p_town_1_1", "p_salt_mine"),
      (this_or_next|party_slot_eq, ":var8", 7, -1),
      (party_slot_eq, ":var8", 7, -3),
      (store_faction_of_party, ":var5", ":var8"),
      (neq, ":var5", ":var1"),
      (faction_get_slot, ":var9", ":var5", 11),
      (this_or_next|neq, ":var9", "trp_player"),
      (ge, "$player_right_to_rule", 25),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var9"),
      (assign, ":var10", reg0),
      (gt, ":var10", ":var7"),
      (assign, ":var6", ":var5"),
      (assign, ":var7", ":var10"),
    (try_end),
    (try_begin),
      (eq, ":var6", -1),
      (assign, ":var7", 0),
      (try_begin),
        (eq, ":var2", 1),
        (assign, ":var7", -100),
      (try_end),
      (try_for_range, ":var11", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var11", 21, 0),
        (faction_get_slot, ":var9", ":var11", 11),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var9"),
        (assign, ":var10", reg0),
        (gt, ":var10", ":var7"),
        (assign, ":var6", ":var11"),
        (assign, ":var7", ":var10"),
      (try_end),
    (try_end),
    (assign, reg0, ":var6"),
  ]),

  ("set_up_duel_with_troop",
  [
    (store_script_param, "$g_duel_troop", 1),
    (assign, "$g_start_arena_fight_at_nearest_town", 1),
    (try_begin),
      (eq, "$g_start_arena_fight_at_nearest_town", 1),
    (try_end),
    (unlock_achievement, 48),
    (jump_to_menu, "mnu_arena_duel_fight"),
    (finish_mission),
  ]),

  ("test_player_for_career_and_marriage_incompatability",
  [
  ]),

  ("deduct_casualties_from_garrison",
  [
    (try_for_agents, ":var0"),
      (agent_get_troop_id, ":var1", ":var0"),
      (this_or_next|is_between, ":var1", "trp_novice_fighter", "trp_tournament_master"),
      (this_or_next|is_between, "$g_talk_troop", "trp_cstm_custom_troop_1_tier_0_0_0", "trp_cstm_custom_troops_end"),
      (is_between, "$g_talk_troop", "trp_templar_spearman_1", "trp_g_troop"),
      (neg|agent_is_alive, ":var0"),
      (try_begin),
        (store_troop_count_companions, ":var2", ":var1", "$g_encountered_party"),
        (eq, ":var2", 0),
        (assign, ":var1", 0),
        (try_for_range, ":var3", 41, 45),
          (faction_get_slot, ":var1", "$g_encountered_party_faction", ":var3"),
          (faction_get_slot, ":var4", "$g_encountered_party_faction", ":var3"),
          (store_troop_count_companions, ":var2", ":var4", "$g_encountered_party"),
          (gt, ":var2", 0),
          (assign, ":var1", ":var4"),
        (try_end),
      (try_end),
      (gt, ":var1", 0),
      (party_remove_members, "$g_encountered_party", ":var1", 1),
      (str_store_troop_name, s4, ":var1"),
      (str_store_party_name, s5, "$g_encountered_party"),
    (try_end),
  ]),

  ("npc_decision_checklist_take_stand_on_issue",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (assign, ":var2", -1),
    (faction_get_slot, ":var3", ":var1", 64),
    (assign, ":var4", 0),
    (try_begin),
      (is_between, ":var3", "p_town_1_1", "p_salt_mine"),
      (gt, "$g_dont_give_fief_to_player_days", 1),
      (assign, ":var4", 1),
    (else_try),
      (gt, "$g_dont_give_marshalship_to_player_days", 1),
      (assign, ":var4", 1),
    (try_end),
    (faction_get_slot, ":var5", ":var1", 11),
    (call_script, "script_ee_is_affiliated_family_member", ":var0"),
    (assign, ":var6", reg0),
    (assign, ":var7", 0),
    (assign, ":var8", 0),
    (troop_set_slot, "trp_player", 46, 0),
    (try_begin),
      (eq, "$players_kingdom", ":var1"),
      (eq, "$player_has_homage", 1),
      (troop_get_slot, ":var8", "trp_player", 7),
      (val_add, ":var7", 1),
    (try_end),
    (try_for_range, ":var9", "trp_npc1", "trp_heroes_end"),
      (troop_slot_eq, ":var9", 166, 1),
      (troop_slot_eq, ":var9", 2, 2),
      (troop_set_slot, ":var9", 46, 0),
      (store_faction_of_troop, ":var10", ":var9"),
      (eq, ":var10", ":var1"),
      (troop_get_slot, ":var11", ":var9", 7),
      (val_add, ":var7", 1),
      (val_add, ":var8", ":var11"),
    (try_end),
    (assign, ":var12", 0),
    (try_for_range, ":var13", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var14", ":var13"),
      (eq, ":var14", ":var1"),
      (assign, ":var15", 1),
      (try_begin),
        (try_begin),
          (party_slot_eq, ":var13", 0, 3),
          (assign, ":var15", 3),
        (else_try),
          (neg|party_slot_eq, ":var13", 0, 4),
          (this_or_next|party_slot_eq, ":var13", 0, 2),
          (is_between, ":var13", "p_town_1_1", "p_village_1_1"),
          (assign, ":var15", 2),
        (try_end),
      (else_try),
        (is_between, ":var13", "p_town_1_1", "p_castle_1_1"),
        (assign, ":var15", 2),
      (try_end),
      (val_add, ":var12", ":var15"),
      (party_get_slot, ":var16", ":var13", 7),
      (this_or_next|eq, ":var16", "trp_player"),
      (is_between, ":var16", "trp_npc1", "trp_heroes_end"),
      (try_begin),
        (is_between, ":var3", "p_town_1_1", "p_salt_mine"),
        (neq, ":var13", ":var3"),
        (troop_get_slot, ":var17", ":var16", 46),
        (store_distance_to_party_from_party, reg0, ":var13", ":var3"),
        (gt, reg0, 0),
        (try_begin),
          (eq, ":var17", 0),
          (assign, ":var17", reg0),
        (else_try),
          (val_min, ":var17", reg0),
        (try_end),
        (troop_set_slot, ":var16", 46, ":var17"),
      (try_end),
      (troop_get_slot, ":var18", ":var16", 46),
      (val_add, ":var18", ":var15"),
      (troop_set_slot, ":var16", 46, ":var18"),
    (try_end),
    (val_max, ":var12", 1),
    (store_div, ":var19", ":var8", ":var12"),
    (val_max, ":var7", 1),
    (assign, ":var20", 0),
    (try_for_range, ":var9", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
      (troop_slot_eq, ":var9", 166, 1),
      (store_sub, ":var10", ":var1", 1),
      (try_begin),
        (eq, ":var9", "trp_kingdom_heroes_including_player_begin"),
        (assign, ":var9", "trp_player"),
        (eq, "$players_kingdom", ":var1"),
        (eq, "$player_has_homage", 1),
        (assign, ":var10", ":var1"),
      (else_try),
        (troop_slot_eq, ":var9", 2, 2),
        (store_faction_of_troop, ":var10", ":var9"),
      (try_end),
      (eq, ":var10", ":var1"),
      (troop_get_slot, ":var11", ":var9", 7),
      (troop_get_slot, ":var21", ":var9", 46),
      (val_max, ":var21", 1),
      (store_div, reg0, ":var11", ":var21"),
      (val_sub, reg0, ":var19"),
      (val_mul, reg0, reg0),
      (val_add, ":var20", reg0),
    (try_end),
    (store_div, reg0, ":var7", 2),
    (val_add, ":var20", reg0),
    (val_div, ":var20", ":var7"),
    (assign, reg0, ":var20"),
    (convert_to_fixed_point, reg0),
    (store_sqrt, reg0, reg0),
    (convert_from_fixed_point, reg0),
    (assign, ":var22", reg0),
    (val_add, reg0, 5),
    (val_div, reg0, 10),
    (val_max, ":var22", reg0),
    (store_sub, ":var23", ":var19", ":var22"),
    (val_max, ":var23", 0),
    (try_begin),
      (is_between, ":var3", "p_town_1_1", "p_salt_mine"),
      (try_begin),
        (neg|troop_slot_eq, ":var0", 52, 5),
        (neg|troop_slot_eq, ":var0", 52, 3),
        (neg|troop_slot_eq, ":var0", 52, 2),
        (is_between, ":var3", "p_village_1_1", "p_salt_mine"),
        (assign, ":var24", -1),
        (assign, ":var25", -1),
        (try_begin),
          (try_begin),
            (this_or_next|troop_slot_eq, ":var0", 52, 6),
            (this_or_next|troop_slot_eq, ":var0", 52, 7),
            (this_or_next|troop_slot_eq, ":var0", 52, 9),
            (this_or_next|troop_slot_eq, ":var0", 52, 21),
            (this_or_next|troop_slot_eq, ":var0", 52, 25),
            (this_or_next|is_between, ":var0", "trp_kingdom_1_lord", "trp_knight_1_1"),
            (is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
            (assign, ":var25", -6),
          (else_try),
            (ge, ":var5", 0),
            (this_or_next|eq, ":var5", ":var0"),
            (this_or_next|troop_slot_eq, ":var5", 30, ":var0"),
            (troop_slot_eq, ":var0", 30, ":var5"),
            (assign, ":var25", -6),
          (try_end),
        (try_end),
        (try_begin),
          (eq, "$players_kingdom", ":var1"),
          (eq, "$player_has_homage", 1),
          (eq, ":var4", 0),
          (troop_slot_eq, "trp_player", 46, 0),
          (call_script, "script_troop_get_relation_with_troop", "trp_player", ":var0"),
          (assign, ":var26", reg0),
          (try_begin),
            (this_or_next|is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
            (this_or_next|troop_slot_eq, ":var0", 30, "trp_player"),
            (troop_slot_eq, "trp_player", 30, ":var0"),
          (else_try),
            (val_sub, ":var26", 20),
          (try_end),
          (gt, ":var26", ":var25"),
          (neg|troop_slot_ge, "trp_player", 150, 75),
          (assign, ":var24", "trp_player"),
          (assign, ":var25", ":var26"),
        (try_end),
        (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
          (store_faction_of_troop, ":var10", ":var9"),
          (eq, ":var10", ":var1"),
          (troop_slot_eq, ":var9", 2, 2),
          (troop_slot_eq, ":var9", 46, 0),
          (try_begin),
            (eq, ":var9", ":var0"),
            (assign, ":var26", 50),
          (else_try),
            (call_script, "script_troop_get_relation_with_troop", ":var9", ":var0"),
            (assign, ":var26", reg0),
          (try_end),
          (neg|troop_slot_ge, ":var9", 150, 75),
          (gt, ":var26", ":var25"),
          (assign, ":var24", ":var9"),
          (assign, ":var25", ":var26"),
        (try_end),
        (gt, ":var24", -1),
        (assign, ":var2", ":var24"),
        (assign, ":var27", "str_political_explanation_lord_lacks_center"),
      (else_try),
        (assign, ":var28", -1),
        (assign, ":var29", -1),
        (assign, ":var30", 0),
        (try_begin),
          (eq, "$players_kingdom", ":var1"),
          (eq, "$player_has_homage", 1),
          (eq, ":var4", 0),
          (call_script, "script_dplmc_calculate_troop_score_for_center_aux", ":var0", "trp_player", ":var3"),
          (assign, ":var28", "trp_player"),
          (assign, ":var29", reg0),
          (assign, ":var30", reg1),
        (try_end),
        (try_for_range, ":var9", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var9", 166, 1),
          (store_faction_of_troop, ":var10", ":var9"),
          (eq, ":var10", ":var1"),
          (troop_slot_eq, ":var9", 2, 2),
          (call_script, "script_dplmc_calculate_troop_score_for_center_aux", ":var0", ":var9", ":var3"),
          (this_or_next|eq, ":var28", -1),
          (gt, reg0, ":var29"),
          (assign, ":var28", ":var9"),
          (assign, ":var29", reg0),
          (assign, ":var30", reg1),
        (try_end),
        (gt, ":var28", -1),
        (assign, ":var2", ":var28"),
        (assign, ":var27", ":var30"),
      (else_try),
        (is_between, ":var3", "p_town_1_1", "p_village_1_1"),
        (neg|troop_slot_eq, ":var0", 52, 5),
        (neg|troop_slot_eq, ":var0", 52, 3),
        (neg|troop_slot_eq, ":var0", 52, 4),
        (party_get_slot, ":var31", ":var3", 28),
        (try_begin),
          (try_begin),
            (neq, ":var1", "$players_kingdom"),
            (assign, ":var31", -1),
          (else_try),
            (eq, "$player_has_homage", 0),
            (assign, ":var31", -1),
          (else_try),
            (eq, ":var3", "$g_castle_requested_by_player"),
            (assign, ":var31", "trp_player"),
          (else_try),
            (eq, ":var3", "$g_castle_requested_for_troop"),
            (assign, ":var31", "trp_player"),
          (else_try),
            (gt, ":var31", -1),
            (store_faction_of_troop, ":var32", ":var31"),
            (neq, ":var32", ":var1"),
            (assign, ":var31", -1),
          (try_end),
        (try_end),
        (gt, ":var31", -1),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (gt, ":var31", -1),
          (str_store_troop_name, s3, ":var31"),
          (display_message, "@{!}Castle taken by {s3}"),
        (try_end),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var31"),
        (assign, ":var26", reg0),
        (try_begin),
          (troop_slot_eq, ":var0", 52, 1),
          (val_add, reg0, 5),
        (else_try),
          (troop_slot_eq, ":var0", 52, 7),
          (val_add, reg0, 5),
        (try_end),
        (ge, reg0, 0),
        (neg|troop_slot_ge, ":var31", 150, 25),
        (troop_get_slot, ":var11", ":var31", 7),
        (troop_get_slot, ":var21", ":var31", 46),
        (val_max, ":var21", 1),
        (store_div, ":var33", ":var11", ":var21"),
        (val_mul, ":var33", 6),
        (val_div, ":var33", 4),
        (try_begin),
          (store_div, reg0, ":var11", ":var21"),
          (val_add, reg0, ":var22"),
          (val_max, ":var33", reg0),
        (try_end),
        (ge, ":var33", ":var19"),
        (assign, ":var2", ":var31"),
        (assign, ":var27", "str_political_explanation_lord_took_center"),
      (else_try),
        (assign, ":var34", -1),
        (assign, ":var25", ":var19"),
        (val_div, ":var25", 3),
        (val_mul, ":var25", 2),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (assign, reg3, ":var25"),
          (display_message, "@{!}Two-thirds average renown = {reg3}"),
        (try_end),
        (try_begin),
          (eq, "$players_kingdom", ":var1"),
          (eq, "$player_has_homage", 1),
          (eq, ":var4", 0),
          (call_script, "script_troop_get_relation_with_troop", "trp_player", ":var0"),
          (assign, ":var26", reg0),
          (this_or_next|gt, ":var6", 0),
          (ge, ":var26", 20),
          (neg|troop_slot_ge, "trp_player", 150, 50),
          (troop_get_slot, ":var11", "trp_player", 7),
          (troop_get_slot, ":var21", "trp_player", 46),
          (val_max, ":var21", 1),
          (store_div, ":var33", ":var11", ":var21"),
          (assign, ":var34", "trp_player"),
          (assign, ":var25", ":var33"),
        (try_end),
        (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var9", 166, 1),
          (store_faction_of_troop, ":var10", ":var9"),
          (eq, ":var10", ":var1"),
          (troop_slot_eq, ":var9", 2, 2),
          (call_script, "script_troop_get_relation_with_troop", ":var9", ":var0"),
          (assign, ":var26", reg0),
          (assign, reg0, 0),
          (try_begin),
            (lt, ":var26", 20),
            (gt, ":var6", 0),
            (neq, ":var9", ":var0"),
            (call_script, "script_ee_is_affiliated_family_member", ":var0"),
          (try_end),
          (this_or_next|gt, reg0, 0),
          (this_or_next|eq, ":var9", ":var0"),
          (ge, ":var26", 20),
          (neg|troop_slot_ge, ":var9", 150, 50),
          (troop_get_slot, ":var11", ":var9", 7),
          (troop_get_slot, ":var21", ":var9", 46),
          (val_max, ":var21", 1),
          (store_div, ":var33", ":var11", ":var21"),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_troop_name, s10, ":var9"),
            (assign, reg3, ":var33"),
            (display_message, "@{!}DEBUG -- Colleague test: score for {s10} = {reg3}"),
          (try_end),
          (gt, ":var33", ":var25"),
          (assign, ":var34", ":var9"),
          (assign, ":var25", ":var33"),
        (try_end),
        (gt, ":var34", -1),
        (assign, ":var2", ":var34"),
        (assign, ":var27", "str_political_explanation_most_deserving_friend"),
      (else_try),
        (neg|troop_slot_eq, ":var0", 52, 5),
        (neg|troop_slot_eq, ":var0", 52, 3),
        (neg|troop_slot_eq, ":var0", 52, 2),
        (assign, ":var35", -1),
        (assign, ":var25", 0),
        (try_begin),
          (eq, "$players_kingdom", ":var1"),
          (eq, "$player_has_homage", 1),
          (eq, ":var4", 0),
          (call_script, "script_troop_get_relation_with_troop", "trp_player", ":var0"),
          (assign, ":var26", reg0),
          (ge, ":var26", 0),
          (troop_get_slot, ":var11", "trp_player", 7),
          (troop_get_slot, ":var21", "trp_player", 46),
          (neg|troop_slot_ge, "trp_player", 150, 25),
          (val_max, ":var21", 1),
          (store_div, ":var33", ":var11", ":var21"),
          (assign, ":var35", "trp_player"),
          (assign, ":var25", ":var33"),
        (try_end),
        (try_for_range, ":var9", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var9", 166, 1),
          (this_or_next|is_between, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var9", 2, 2),
          (store_faction_of_troop, ":var10", ":var9"),
          (eq, ":var10", ":var1"),
          (troop_slot_eq, ":var9", 2, 2),
          (call_script, "script_troop_get_relation_with_troop", ":var9", ":var0"),
          (assign, ":var26", reg0),
          (this_or_next|eq, ":var9", ":var0"),
          (ge, ":var26", 0),
          (neg|troop_slot_ge, ":var9", 150, 25),
          (troop_get_slot, ":var11", ":var9", 7),
          (troop_get_slot, ":var21", ":var9", 46),
          (val_max, ":var21", 1),
          (store_div, ":var33", ":var11", ":var21"),
          (gt, ":var33", ":var25"),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_string, s10, ":var9"),
            (assign, reg3, ":var33"),
            (display_message, "@{!}DEBUG -- Open test: score for {s10} = {reg3}"),
          (try_end),
          (assign, ":var35", ":var9"),
          (assign, ":var25", ":var33"),
        (try_end),
        (gt, ":var35", -1),
        (assign, ":var2", ":var35"),
        (assign, ":var27", "str_political_explanation_most_deserving_in_faction"),
      (else_try),
        (assign, ":var25", 0),
        (assign, ":var35", -1),
        (try_for_range, ":var9", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
          (troop_slot_eq, ":var9", 166, 1),
          (store_sub, ":var10", ":var1", 1),
          (try_begin),
            (eq, ":var9", "trp_kingdom_heroes_including_player_begin"),
            (assign, ":var9", "trp_player"),
            (eq, "$players_kingdom", ":var1"),
            (eq, "$player_has_homage", 1),
            (assign, ":var10", ":var1"),
          (else_try),
            (troop_slot_eq, ":var9", 2, 2),
            (store_faction_of_troop, ":var10", ":var9"),
          (try_end),
          (eq, ":var10", ":var1"),
          (call_script, "script_dplmc_calculate_troop_score_for_center_aux", ":var0", ":var9", ":var3"),
          (this_or_next|eq, ":var35", -1),
          (ge, reg0, ":var25"),
          (assign, ":var25", reg0),
          (assign, ":var27", reg1),
          (assign, ":var35", ":var9"),
        (try_end),
        (gt, ":var35", -1),
        (assign, ":var2", ":var35"),
      (else_try),
        (assign, ":var2", ":var0"),
        (assign, ":var27", "str_political_explanation_self"),
      (try_end),
    (else_try),
      (eq, ":var3", 1),
      (assign, ":var36", 15),
      (try_begin),
        (troop_slot_eq, ":var0", 52, 7),
        (assign, ":var36", 5),
      (else_try),
        (troop_slot_eq, ":var0", 52, 5),
        (assign, ":var36", 25),
      (try_end),
      (assign, ":var37", -1),
      (assign, ":var25", 0),
      (try_begin),
        (eq, "$players_kingdom", ":var1"),
        (eq, "$player_has_homage", 1),
        (eq, "$g_player_is_captive", 0),
        (eq, ":var4", 0),
        (call_script, "script_troop_get_relation_with_troop", "trp_player", ":var0"),
        (ge, reg0, ":var36"),
        (assign, ":var37", "trp_player"),
        (troop_get_slot, ":var11", "trp_player", 7),
        (troop_get_slot, ":var38", "trp_player", 150),
        (val_add, ":var38", 50),
        (store_div, ":var25", ":var11", ":var38"),
      (try_end),
      (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var9", 166, 1),
        (store_faction_of_troop, ":var10", ":var9"),
        (eq, ":var10", ":var1"),
        (troop_slot_eq, ":var9", 2, 2),
        (troop_slot_eq, ":var9", 8, -1),
        (neg|faction_slot_eq, ":var1", 11, ":var9"),
        (call_script, "script_troop_get_relation_with_troop", ":var9", ":var0"),
        (assign, ":var26", reg0),
        (this_or_next|eq, ":var9", ":var0"),
        (ge, ":var26", ":var36"),
        (troop_get_slot, ":var11", ":var9", 7),
        (troop_get_slot, ":var38", ":var9", 150),
        (val_add, ":var38", 50),
        (store_div, ":var39", ":var11", ":var38"),
        (gt, ":var39", ":var25"),
        (assign, ":var37", ":var9"),
        (assign, ":var25", ":var39"),
      (try_end),
      (assign, ":var2", ":var37"),
      (assign, ":var27", "str_political_explanation_marshal"),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (gt, ":var2", -1),
      (str_store_troop_name, s8, ":var0"),
      (str_store_troop_name, s9, ":var2"),
      (str_store_string, s10, ":var27"),
      (display_message, "@{!}DEBUG -- {s8} backs {s9}:{s10}"),
    (try_end),
    (assign, reg0, ":var2"),
    (assign, reg1, ":var27"),
  ]),

  ("npc_decision_checklist_evaluate_faction_strategy",
  [
  ]),

  ("process_player_enterprise",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (item_get_slot, ":var2", ":var0", 56),
    (item_get_slot, ":var3", ":var0", 53),
    (store_sub, ":var4", ":var0", "itm_spice"),
    (val_add, ":var4", 310),
    (party_get_slot, ":var5", ":var1", ":var4"),
    (store_mul, ":var6", ":var3", ":var5"),
    (val_div, ":var6", 1000),
    (item_get_slot, ":var7", ":var0", 55),
    (store_mul, ":var8", ":var7", ":var6"),
    (item_get_slot, ":var9", ":var0", 50),
    (item_get_slot, ":var3", ":var9", 53),
    (store_sub, ":var4", ":var9", "itm_spice"),
    (val_add, ":var4", 310),
    (party_get_slot, ":var5", ":var1", ":var4"),
    (store_mul, ":var10", ":var3", ":var5"),
    (val_div, ":var10", 1000),
    (item_get_slot, ":var11", ":var0", 52),
    (try_begin),
      (lt, ":var11", 0),
      (store_div, ":var12", ":var10", 2),
    (else_try),
      (store_mul, ":var12", ":var10", ":var11"),
    (try_end),
    (try_begin),
      (item_slot_ge, ":var0", 57, 1),
      (item_get_slot, ":var13", ":var0", 57),
      (item_get_slot, ":var3", ":var13", 53),
      (store_sub, ":var4", ":var13", "itm_spice"),
      (val_add, ":var4", 310),
      (party_get_slot, ":var5", ":var1", ":var4"),
      (assign, ":var14", 0),
      (try_begin),
        (lt, ":var11", 0),
        (store_div, ":var14", ":var14", 2),
      (else_try),
        (store_mul, ":var14", ":var14", ":var11"),
      (try_end),
      (store_mul, ":var14", ":var3", ":var5"),
      (val_div, ":var14", 1000),
    (else_try),
      (assign, ":var14", 0),
    (try_end),
    (store_sub, ":var15", ":var8", ":var12"),
    (val_sub, ":var15", ":var2"),
    (val_sub, ":var15", ":var14"),
    (assign, reg0, ":var15"),
    (assign, reg1, ":var8"),
    (assign, reg2, ":var12"),
    (assign, reg3, ":var2"),
    (assign, reg4, ":var6"),
    (assign, reg5, ":var10"),
    (assign, reg10, ":var14"),
  ]),

  ("replace_scene_items_with_spawn_items_before_ms",
  [
    (try_for_range, ":var0", 0, "itm_items_end"),
      (item_get_type, ":var1", ":var0"),
      (neq, ":var1", 11),
      (neq, ":var1", 20),
      (scene_item_get_num_instances, ":var2", ":var0"),
      (item_set_slot, ":var0", 22, 0),
      (assign, ":var3", 0),
      (try_for_range, ":var4", 0, ":var2"),
        (scene_item_get_instance, ":var5", ":var0", ":var4"),
        (prop_instance_get_position, "$g_position_to_use_for_replacing_scene_items", ":var5"),
        (store_add, ":var6", 23, ":var3"),
        (item_set_slot, ":var0", ":var6", "$g_position_to_use_for_replacing_scene_items"),
        (val_add, ":var3", 1),
        (val_add, "$g_position_to_use_for_replacing_scene_items", 1),
        (item_set_slot, ":var0", 22, ":var3"),
      (try_end),
      (replace_scene_items_with_scene_props, ":var0", "spr_empty"),
    (try_end),
  ]),

  ("replace_scene_items_with_spawn_items_after_ms",
  [
    (try_for_range, ":var0", 0, "itm_items_end"),
      (item_get_slot, ":var1", ":var0", 22),
      (item_get_type, ":var2", ":var0"),
      (try_for_range, ":var3", 0, ":var1"),
        (store_add, ":var4", 23, ":var3"),
        (item_get_slot, ":var5", ":var0", ":var4"),
        (set_spawn_position, ":var5"),
        (try_begin),
          (eq, ":var2", 1),
          (spawn_horse, ":var0"),
        (else_try),
          (spawn_item, ":var0", 0),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("cf_is_melee_weapon_for_tutorial",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_begin),
      (this_or_next|eq, ":var0", "itm_quarter_staff"),
      (eq, ":var0", "itm_practice_sword"),
      (assign, ":var1", 1),
    (try_end),
    (eq, ":var1", 1),
  ]),

  ("iterate_pointer_arrow",
  [
    (store_mission_timer_a_msec, ":var0"),
    (try_begin),
      (assign, ":var1", ":var0"),
      (assign, ":var2", ":var0"),
      (val_mod, ":var1", 1080),
      (val_div, ":var1", 3),
      (scene_prop_get_instance, ":var3", "spr_pointer_arrow", 0),
      (prop_instance_get_position, pos0, ":var3"),
      (position_set_z_to_ground_level, pos0),
      (position_move_z, pos0, "$g_pointer_arrow_height_adder", 1),
      (set_fixed_point_multiplier, 100),
      (val_mul, ":var1", 100),
      (store_sin, ":var4", ":var1"),
      (position_move_z, pos0, ":var4", 1),
      (position_move_z, pos0, 100, 1),
      (val_mod, ":var2", 2880),
      (val_div, ":var2", 8),
      (init_position, pos1),
      (position_rotate_z, pos1, ":var2"),
      (position_copy_rotation, pos0, pos1),
      (prop_instance_set_position, ":var3", pos0),
    (try_end),
  ]),

  ("find_center_to_attack_alt",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", -1),
    (assign, ":var4", 0),
    (try_for_range, ":var5", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_set_slot, ":var5", 12, 0),
    (try_end),
    (store_faction_of_troop, ":var5", ":var0"),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (assign, ":var8", 0),
    (try_for_range, ":var9", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var10", ":var9"),
      (eq, ":var10", ":var5"),
      (party_get_position, pos36, ":var9"),
      (position_get_x, reg0, pos36),
      (val_add, ":var7", reg0),
      (position_get_y, reg0, pos36),
      (val_add, ":var8", reg0),
      (val_add, ":var6", 1),
    (try_end),
    (try_begin),
      (gt, ":var6", 0),
      (val_div, ":var7", ":var6"),
      (val_div, ":var8", ":var6"),
      (init_position, pos34),
      (position_set_x, pos34, ":var7"),
      (position_set_y, pos34, ":var8"),
    (try_end),
    (try_for_range, ":var9", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var10", ":var9"),
      (faction_get_slot, ":var11", ":var10", 12),
      (try_begin),
        (eq, ":var11", 0),
        (faction_set_slot, ":var10", 12, ":var9"),
      (else_try),
        (party_get_position, pos36, ":var9"),
        (get_distance_between_positions, ":var12", pos34, pos36),
        (party_get_position, pos36, ":var11"),
        (get_distance_between_positions, ":var13", pos34, pos36),
        (lt, ":var12", ":var13"),
        (faction_set_slot, ":var10", 12, ":var9"),
      (try_end),
    (try_end),
    (try_for_range, ":var9", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var14", ":var9"),
      (neq, ":var14", ":var5"),
      (this_or_next|party_slot_eq, ":var9", 62, ":var5"),
      (this_or_next|party_slot_eq, ":var9", 61, ":var5"),
      (this_or_next|faction_slot_eq, ":var14", 12, ":var9"),
      (neg|is_between, ":var9", "p_town_1_1", "p_village_1_1"),
      (call_script, "script_npc_decision_checklist_evaluate_enemy_center_for_attack", ":var0", ":var9", ":var1", ":var2"),
      (assign, ":var15", reg0),
      (gt, ":var15", ":var4"),
      (assign, ":var3", ":var9"),
      (assign, ":var4", ":var15"),
    (try_end),
    (assign, reg0, ":var3"),
    (assign, reg1, ":var4"),
  ]),

  ("npc_decision_checklist_evaluate_enemy_center_for_attack",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (assign, ":var4", -1),
    (assign, ":var5", -1),
    (assign, ":var6", 0),
    (store_faction_of_troop, ":var7", ":var0"),
    (try_begin),
      (eq, ":var2", 1),
      (faction_get_slot, ":var8", ":var7", 8),
      (ge, ":var8", 0),
      (troop_get_slot, ":var9", ":var8", 10),
    (else_try),
      (troop_get_slot, ":var9", ":var0", 10),
    (try_end),
    (assign, "$g_use_current_ai_object_as_s8", 0),
    (try_begin),
      (neg|party_is_active, ":var9"),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_party_not_active"),
    (else_try),
      (store_faction_of_party, ":var10", ":var1"),
      (store_relation, ":var11", ":var10", ":var7"),
      (ge, ":var11", 0),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_is_friendly"),
    (else_try),
      (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
      (assign, ":var12", -1),
      (try_begin),
        (neg|party_slot_eq, ":var1", 54, -1),
        (party_get_slot, ":var13", ":var1", 54),
        (party_is_active, ":var13"),
        (store_faction_of_party, ":var12", ":var13"),
      (try_end),
      (neq, ":var12", -1),
      (neq, ":var12", ":var7"),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_is_already_besieged"),
    (else_try),
      (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
      (assign, ":var14", 0),
      (try_begin),
        (party_slot_eq, ":var1", 35, 1),
        (party_get_slot, ":var15", ":var1", 34),
        (party_is_active, ":var15"),
        (store_faction_of_party, ":var16", ":var15"),
        (neq, ":var16", ":var7"),
        (assign, ":var17", 1),
      (else_try),
        (assign, ":var17", 0),
      (try_end),
      (try_begin),
        (this_or_next|party_slot_eq, ":var1", 35, 2),
        (eq, ":var17", 1),
        (assign, ":var14", 1),
      (try_end),
      (eq, ":var14", 1),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_is_looted_or_raided_already"),
    (else_try),
      (this_or_next|troop_slot_eq, ":var0", 52, 7),
      (troop_slot_eq, ":var0", 52, 6),
      (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_marshal_does_not_want_to_attack_innocents"),
    (else_try),
      (assign, ":var18", 1000),
      (try_for_range, ":var19", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var20", ":var19"),
        (eq, ":var20", ":var7"),
        (store_distance_to_party_from_party, ":var21", ":var19", ":var1"),
        (lt, ":var21", ":var18"),
        (assign, ":var18", ":var21"),
      (try_end),
      (gt, ":var18", 325),
      (this_or_next|troop_slot_eq, ":var0", 52, 7),
      (this_or_next|troop_slot_eq, ":var0", 52, 5),
      (this_or_next|troop_slot_eq, ":var0", 52, 6),
      (troop_slot_eq, ":var0", 52, 4),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_far_away_our_cautious_marshal_does_not_wish_to_reconnoiter"),
    (else_try),
      (gt, ":var18", 370),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_far_away_even_for_our_aggressive_marshal_to_reconnoiter"),
    (else_try),
      (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
      (neg|troop_slot_eq, ":var0", 52, 1),
      (neg|troop_slot_eq, ":var0", 52, 2),
      (neg|troop_slot_eq, ":var0", 52, 3),
      (assign, ":var22", 0),
      (try_for_range, ":var23", "p_town_1_1", "p_village_1_1"),
        (eq, ":var22", 0),
        (store_faction_of_party, ":var24", ":var23"),
        (eq, ":var24", ":var7"),
        (store_distance_to_party_from_party, ":var25", ":var1", ":var23"),
        (lt, ":var25", 180),
        (assign, ":var22", 1),
      (try_end),
      (eq, ":var22", 0),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_is_indefensible"),
    (else_try),
      (party_get_slot, ":var26", ":var9", 56),
      (party_get_slot, ":var27", ":var9", 59),
      (party_get_slot, ":var28", ":var9", 57),
      (store_add, ":var29", ":var26", ":var27"),
      (val_add, ":var29", ":var28"),
      (try_begin),
        (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
        (assign, ":var30", 10),
      (else_try),
        (party_get_slot, ":var30", ":var1", 56),
        (party_get_slot, ":var31", ":var1", 57),
        (val_add, ":var30", ":var31"),
      (try_end),
      (val_max, ":var30", 1),
      (this_or_next|troop_slot_eq, ":var0", 52, 1),
      (this_or_next|troop_slot_eq, ":var0", 52, 2),
      (troop_slot_eq, ":var0", 52, 3),
      (store_mul, ":var6", ":var29", 100),
      (val_div, ":var6", ":var30"),
      (lt, ":var6", 150),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_protected_by_enemy_army_aggressive"),
    (else_try),
      (ge, ":var30", ":var29"),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_protected_by_enemy_army_cautious"),
    (else_try),
      (store_mul, ":var6", ":var29", 100),
      (val_div, ":var6", ":var30"),
      (lt, ":var6", 185),
      (this_or_next|troop_slot_eq, ":var0", 52, 7),
      (this_or_next|troop_slot_eq, ":var0", 52, 5),
      (this_or_next|troop_slot_eq, ":var0", 52, 6),
      (troop_slot_eq, ":var0", 52, 4),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_cautious_marshal_believes_center_too_difficult_to_capture"),
    (else_try),
      (lt, ":var6", 140),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_even_aggressive_marshal_believes_center_too_difficult_to_capture"),
    (else_try),
      (faction_slot_eq, ":var7", 4, 3),
      (faction_get_slot, ":var32", ":var7", 5),
      (is_between, ":var32", "p_village_1_1", "p_salt_mine"),
      (neq, ":var1", ":var32"),
      (party_slot_eq, ":var32", 35, 5),
      (store_current_hours, ":var33"),
      (party_get_slot, ":var34", ":var32", 64),
      (val_sub, ":var33", ":var34"),
      (gt, ":var33", 4),
      (call_script, "script_npc_decision_checklist_evaluate_enemy_center_for_attack", ":var0", ":var32", ":var2", 0),
      (gt, reg0, -1),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_we_have_already_committed_too_much_time_to_our_present_siege_to_move_elsewhere"),
    (else_try),
      (faction_slot_eq, ":var7", 4, 3),
      (faction_get_slot, ":var32", ":var7", 5),
      (neq, ":var1", ":var32"),
      (is_between, ":var32", "p_village_1_1", "p_salt_mine"),
      (store_distance_to_party_from_party, ":var35", ":var9", ":var32"),
      (lt, ":var35", 10),
      (call_script, "script_npc_decision_checklist_evaluate_enemy_center_for_attack", ":var0", ":var32", ":var2", 0),
      (gt, reg0, -1),
      (assign, "$g_use_current_ai_object_as_s8", 1),
      (assign, ":var4", -1),
      (assign, ":var5", "str_center_we_are_already_here_we_should_at_least_loot_the_village"),
    (else_try),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (eq, ":var7", "fac_kingdom_3"),
        (store_faction_of_party, ":var10", ":var1"),
        (store_relation, ":var11", ":var10", ":var7"),
        (lt, ":var11", 0),
      (try_end),
      (call_script, "script_calculate_center_assailability_score", ":var0", ":var1", ":var3"),
      (assign, ":var36", reg0),
      (assign, ":var6", reg1),
      (assign, ":var4", ":var36"),
      (try_begin),
        (le, ":var6", 100),
        (try_begin),
          (this_or_next|troop_slot_eq, ":var0", 52, 7),
          (this_or_next|troop_slot_eq, ":var0", 52, 5),
          (this_or_next|troop_slot_eq, ":var0", 52, 6),
          (troop_slot_eq, ":var0", 52, 4),
          (assign, ":var5", "str_center_cautious_marshal_believes_center_too_difficult_to_capture"),
        (else_try),
          (assign, ":var5", "str_center_even_aggressive_marshal_believes_center_too_difficult_to_capture"),
        (try_end),
      (else_try),
        (le, ":var6", 150),
        (try_begin),
          (this_or_next|troop_slot_eq, ":var0", 52, 7),
          (this_or_next|troop_slot_eq, ":var0", 52, 5),
          (this_or_next|troop_slot_eq, ":var0", 52, 6),
          (troop_slot_eq, ":var0", 52, 4),
          (assign, ":var5", "str_center_protected_by_enemy_army_cautious"),
        (else_try),
          (assign, ":var5", "str_center_protected_by_enemy_army_aggressive"),
        (try_end),
      (else_try),
        (try_begin),
          (le, ":var36", "$g_faction_object_score"),
          (assign, ":var5", "str_center_value_outweighed_by_difficulty_of_capture"),
        (else_try),
          (assign, ":var5", "str_center_value_justifies_the_difficulty_of_capture"),
        (try_end),
      (try_end),
    (try_end),
    (assign, reg0, ":var4"),
    (assign, reg1, ":var5"),
    (assign, reg2, ":var6"),
  ]),

  ("npc_decision_checklist_faction_ai_alt",
  [
    (store_script_param, ":var0", 1),
    (gt, ":var0", -1),
    (store_faction_of_troop, ":var1", ":var0"),
    (str_store_troop_name, s4, ":var0"),
    (str_store_faction_name, s33, ":var1"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "@{!}DEBUG -- {s4} produces a faction strategy for {s33}"),
    (try_end),
    (faction_get_slot, ":var2", ":var1", 8),
    (faction_get_slot, ":var3", ":var1", 4),
    (faction_get_slot, ":var4", ":var1", 5),
    (assign, ":var5", -1),
    (assign, ":var6", 0),
    (try_begin),
      (gt, ":var2", 0),
      (troop_get_slot, ":var5", ":var2", 10),
      (party_is_active, ":var5"),
      (party_get_slot, ":var7", ":var5", 56),
      (party_get_slot, ":var8", ":var5", 59),
      (store_add, ":var6", ":var7", ":var8"),
    (try_end),
    (store_current_hours, ":var9"),
    (faction_get_slot, ":var10", ":var1", 95),
    (val_sub, ":var9", ":var10"),
    (store_current_hours, ":var11"),
    (faction_get_slot, ":var12", ":var1", 94),
    (val_sub, ":var11", ":var12"),
    (store_current_hours, ":var13"),
    (faction_get_slot, ":var14", ":var1", 97),
    (val_sub, ":var13", ":var14"),
    (store_current_hours, ":var15"),
    (faction_get_slot, ":var16", ":var1", 96),
    (val_sub, ":var15", ":var16"),
    (try_begin),
      (ge, ":var9", 1080),
      (assign, ":var17", 100),
    (else_try),
      (ge, ":var9", 480),
      (store_sub, ":var17", ":var9", 480),
      (val_div, ":var17", 20),
      (val_add, ":var17", 64),
    (else_try),
      (ge, ":var9", 240),
      (store_sub, ":var17", ":var9", 240),
      (val_div, ":var17", 10),
      (val_add, ":var17", 40),
    (else_try),
      (store_div, ":var17", ":var9", 6),
    (try_end),
    (call_script, "script_find_center_to_defend", ":var0"),
    (assign, ":var18", reg0),
    (assign, ":var19", reg1),
    (assign, ":var20", reg2),
    (assign, ":var21", 0),
    (assign, ":var22", 0),
    (try_for_range, ":var23", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var23", 166, 1),
      (store_faction_of_troop, ":var24", ":var23"),
      (eq, ":var24", ":var1"),
      (troop_get_slot, ":var25", ":var23", 10),
      (party_is_active, ":var25"),
      (val_add, ":var22", 1),
      (party_slot_eq, ":var25", 4, 11),
      (party_slot_eq, ":var25", 5, ":var5"),
      (party_is_active, ":var5"),
      (store_distance_to_party_from_party, ":var26", ":var25", ":var5"),
      (lt, ":var26", 15),
      (val_add, ":var21", 1),
    (try_end),
    (assign, ":var27", -1),
    (try_begin),
      (gt, ":var22", 0),
      (store_mul, ":var27", ":var21", 100),
      (val_div, ":var27", ":var22"),
    (try_end),
    (store_mul, ":var28", ":var27", 3),
    (val_add, ":var28", 180),
    (try_begin),
      (ge, ":var2", 0),
      (ge, ":var5", 0),
      (party_is_active, ":var5"),
      (call_script, "script_party_count_fit_for_battle", ":var5"),
      (assign, ":var29", reg0),
      (ge, ":var29", 40),
      (call_script, "script_find_center_to_attack_alt", ":var0", 1, 0),
      (assign, ":var30", reg0),
      (assign, ":var31", reg1),
      (call_script, "script_find_center_to_attack_alt", ":var0", 1, 1),
      (assign, ":var32", reg0),
      (assign, ":var33", reg1),
    (else_try),
      (assign, ":var31", 0),
      (assign, ":var33", 0),
      (assign, ":var30", -1),
      (assign, ":var32", -1),
    (try_end),
    (try_begin),
      (ge, ":var31", ":var32"),
      (assign, ":var34", ":var30"),
      (assign, ":var35", ":var31"),
    (else_try),
      (assign, ":var34", ":var32"),
      (assign, ":var35", ":var33"),
    (try_end),
    (assign, "$g_target_after_gathering", -1),
    (store_current_hours, ":var36"),
    (try_begin),
      (ge, ":var35", ":var19"),
      (faction_set_slot, ":var1", 87, ":var36"),
    (try_end),
    (faction_get_slot, ":var37", ":var1", 87),
    (try_begin),
      (eq, ":var37", 0),
      (faction_set_slot, ":var1", 87, ":var36"),
    (try_end),
    (faction_get_slot, ":var37", ":var1", 87),
    (store_sub, ":var38", ":var36", ":var37"),
    (str_store_faction_name, s7, ":var1"),
    (assign, ":var39", 1),
    (try_for_range, ":var40", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (store_relation, ":var41", ":var1", ":var40"),
      (lt, ":var41", 0),
      (assign, ":var39", 0),
    (try_end),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (eq, ":var3", 6),
      (ge, ":var13", 72),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
      (assign, "$player_marshal_ai_state", 0),
      (assign, "$player_marshal_ai_object", -1),
    (else_try),
      (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (neq, ":var0", "trp_player"),
      (eq, ":var3", 6),
      (le, ":var13", 48),
      (party_slot_eq, ":var4", 7, "trp_player"),
      (store_faction_of_party, ":var44", ":var4"),
      (eq, ":var44", "$players_kingdom"),
      (assign, ":var42", 6),
      (assign, ":var43", ":var4"),
    (else_try),
      (eq, ":var0", "trp_player"),
      (str_clear, s14),
      (assign, ":var42", "$player_marshal_ai_state"),
      (assign, ":var43", "$player_marshal_ai_object"),
    (else_try),
      (neq, ":var3", 0),
      (neq, ":var3", 6),
      (party_is_active, ":var5"),
      (party_slot_eq, ":var5", 4, 14),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
      (str_store_string, s14, "str_the_enemy_temporarily_has_the_field"),
    (else_try),
      (neq, ":var3", 6),
      (assign, ":var45", 0),
      (try_begin),
        (eq, ":var3", 2),
        (is_between, ":var4", "p_town_1_1", "p_village_1_1"),
        (party_get_slot, ":var46", ":var4", 54),
        (party_is_active, ":var46"),
        (store_faction_of_party, ":var47", ":var46"),
        (eq, ":var47", ":var1"),
        (assign, ":var45", 1),
      (try_end),
      (assign, ":var48", 0),
      (try_begin),
        (eq, ":var3", 5),
        (gt, ":var5", 0),
        (party_is_active, ":var5"),
        (assign, ":var49", -1),
        (try_begin),
          (party_slot_eq, ":var5", 4, 7),
          (party_get_slot, ":var50", ":var5", 5),
          (party_get_battle_opponent, ":var51", ":var50"),
          (ge, ":var51", 0),
          (assign, ":var49", ":var50"),
        (else_try),
          (party_slot_eq, ":var5", 4, 10),
          (party_get_slot, ":var50", ":var5", 5),
          (ge, ":var50", 0),
          (neg|is_between, ":var50", "p_town_1_1", "p_salt_mine"),
          (party_is_active, ":var50"),
          (party_get_battle_opponent, ":var49", ":var50"),
        (try_end),
        (eq, ":var49", ":var4"),
        (assign, ":var48", 1),
      (try_end),
      (eq, ":var45", 0),
      (eq, ":var48", 0),
      (ge, ":var15", 1240),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
      (str_store_string, s14, "str_the_vassals_are_tired_we_let_them_rest_for_some_time"),
    (else_try),
      (party_is_active, ":var5"),
      (eq, ":var39", 0),
      (is_between, ":var18", "p_town_1_1", "p_village_1_1"),
      (this_or_next|eq, ":var3", 0),
      (this_or_next|eq, ":var3", 6),
      (gt, ":var19", ":var35"),
      (assign, ":var52", 0),
      (assign, ":var53", 0),
      (try_begin),
        (is_between, ":var18", "p_village_1_1", "p_salt_mine"),
        (assign, ":var52", 0),
      (else_try),
        (try_begin),
          (lt, ":var38", 3),
          (assign, ":var54", 150),
        (else_try),
          (lt, ":var38", 6),
          (assign, ":var54", 140),
        (else_try),
          (lt, ":var38", 9),
          (assign, ":var54", 132),
        (else_try),
          (lt, ":var38", 12),
          (assign, ":var54", 124),
        (else_try),
          (lt, ":var38", 15),
          (assign, ":var54", 118),
        (else_try),
          (lt, ":var38", 18),
          (assign, ":var54", 114),
        (else_try),
          (lt, ":var38", 21),
          (assign, ":var54", 110),
        (else_try),
          (lt, ":var38", 24),
          (assign, ":var54", 106),
        (else_try),
          (lt, ":var38", 27),
          (assign, ":var54", 102),
        (else_try),
          (lt, ":var38", 31),
          (assign, ":var54", 98),
        (else_try),
          (lt, ":var38", 34),
          (assign, ":var54", 94),
        (else_try),
          (lt, ":var38", 37),
          (assign, ":var54", 90),
        (else_try),
          (lt, ":var38", 40),
          (assign, ":var54", 86),
        (else_try),
          (lt, ":var38", 43),
          (assign, ":var54", 82),
        (else_try),
          (lt, ":var38", 46),
          (assign, ":var54", 79),
        (else_try),
          (lt, ":var38", 49),
          (assign, ":var54", 76),
        (else_try),
          (lt, ":var38", 52),
          (assign, ":var54", 73),
        (else_try),
          (lt, ":var38", 56),
          (assign, ":var54", 70),
        (else_try),
          (lt, ":var38", 60),
          (assign, ":var54", 68),
        (else_try),
          (lt, ":var38", 66),
          (assign, ":var54", 66),
        (else_try),
          (lt, ":var38", 72),
          (assign, ":var54", 64),
        (else_try),
          (lt, ":var38", 80),
          (assign, ":var54", 62),
        (else_try),
          (lt, ":var38", 90),
          (assign, ":var54", 60),
        (else_try),
          (lt, ":var38", 100),
          (assign, ":var54", 58),
        (else_try),
          (assign, ":var54", 56),
        (try_end),
        (store_mul, ":var55", ":var20", ":var54"),
        (val_div, ":var55", 100),
        (try_begin),
          (lt, ":var6", ":var55"),
          (assign, ":var52", 1),
        (try_end),
      (else_try),
        (eq, ":var3", 5),
        (neq, ":var18", ":var4"),
        (assign, ":var56", 0),
        (try_begin),
          (gt, ":var5", 0),
          (party_is_active, ":var5"),
          (assign, ":var49", -1),
          (try_begin),
            (party_slot_eq, ":var5", 4, 7),
            (party_get_slot, ":var50", ":var5", 5),
            (party_get_battle_opponent, ":var51", ":var50"),
            (ge, ":var51", 0),
            (assign, ":var49", ":var50"),
          (else_try),
            (party_slot_eq, ":var5", 4, 10),
            (party_get_slot, ":var50", ":var5", 5),
            (ge, ":var50", 0),
            (neg|is_between, ":var50", "p_town_1_1", "p_salt_mine"),
            (party_is_active, ":var50"),
            (party_get_battle_opponent, ":var49", ":var50"),
          (try_end),
          (eq, ":var49", ":var4"),
          (assign, ":var56", 1),
        (try_end),
        (eq, ":var56", 0),
        (store_mul, ":var55", ":var20", 80),
        (val_div, ":var55", 100),
        (lt, ":var6", ":var55"),
        (this_or_next|is_between, ":var18", "p_town_1_1", "p_village_1_1"),
        (neq, ":var1", "$players_kingdom"),
        (assign, ":var53", 1),
      (try_end),
      (this_or_next|eq, ":var52", 1),
      (eq, ":var53", 1),
      (assign, ":var42", 1),
      (assign, ":var43", -1),
      (str_store_party_name, s21, ":var18"),
      (str_store_string, s14, "str_we_should_prepare_to_defend_s21_but_we_should_gather_our_forces_until_we_are_strong_enough_to_engage_them"),
      (try_begin),
        (eq, ":var1", "$players_kingdom"),
        (assign, "$g_gathering_reason", ":var18"),
      (try_end),
    (else_try),
      (is_between, ":var18", "p_town_1_1", "p_village_1_1"),
      (this_or_next|eq, ":var3", 0),
      (this_or_next|eq, ":var3", 6),
      (ge, ":var19", ":var35"),
      (party_slot_ge, ":var18", 54, 0),
      (assign, ":var42", 5),
      (assign, ":var43", ":var18"),
      (str_store_party_name, s21, ":var18"),
      (str_store_string, s14, "str_we_should_ride_to_break_the_siege_of_s21"),
    (else_try),
      (eq, 0, 1),
      (this_or_next|eq, ":var3", 0),
      (this_or_next|eq, ":var3", 6),
      (ge, ":var19", ":var35"),
      (is_between, ":var18", "p_village_1_1", "p_salt_mine"),
      (assign, ":var42", 5),
      (assign, ":var43", ":var18"),
      (str_store_party_name, s21, ":var18"),
      (str_store_string, s14, "str_we_should_ride_to_defeat_the_enemy_gathered_near_s21"),
    (else_try),
      (this_or_next|eq, ":var3", 1),
      (this_or_next|eq, ":var3", 2),
      (eq, ":var3", 3),
      (ge, ":var15", ":var28"),
      (ge, ":var13", 24),
      (assign, ":var57", 0),
      (try_begin),
        (is_between, ":var4", "p_town_1_1", "p_village_1_1"),
        (party_get_battle_opponent, ":var46", ":var4"),
        (party_is_active, ":var46"),
        (store_faction_of_party, ":var47", ":var46"),
        (this_or_next|eq, ":var47", ":var1"),
        (eq, ":var47", "fac_player_faction"),
        (assign, ":var57", 1),
      (else_try),
        (is_between, ":var4", "p_town_1_1", "p_village_1_1"),
        (party_get_slot, ":var46", ":var4", 54),
        (party_is_active, ":var46"),
        (store_faction_of_party, ":var47", ":var46"),
        (this_or_next|eq, ":var47", ":var1"),
        (eq, ":var47", "fac_player_faction"),
        (assign, ":var57", 1),
      (else_try),
        (is_between, ":var4", "p_town_1_1", "p_salt_mine"),
        (neg|is_between, ":var4", "p_town_1_1", "p_village_1_1"),
        (party_slot_eq, ":var4", 35, 1),
        (assign, ":var57", 1),
      (try_end),
      (eq, ":var57", 0),
      (assign, reg7, ":var15"),
      (assign, reg8, ":var28"),
      (str_store_string, s14, "str_this_offensive_needs_to_wind_down_soon_so_the_vassals_can_attend_to_their_own_business"),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
    (else_try),
      (party_is_active, ":var5"),
      (eq, ":var39", 0),
      (eq, ":var3", 0),
      (ge, ":var9", 60),
      (lt, ":var15", 120),
      (assign, ":var42", 1),
      (assign, ":var43", -1),
      (str_store_string, s14, "str_it_is_time_to_go_on_the_offensive_and_we_must_first_assemble_the_army"),
      (try_begin),
        (eq, ":var1", "$players_kingdom"),
        (assign, "$g_gathering_reason", -1),
      (try_end),
    (else_try),
      (party_is_active, ":var5"),
      (eq, ":var3", 1),
      (eq, ":var39", 0),
      (lt, ":var13", 54),
      (lt, ":var27", 12),
      (str_store_string, s14, "str_we_must_continue_to_gather_the_army_before_we_ride_forth_on_an_offensive_operation"),
      (assign, ":var42", 1),
      (assign, ":var43", -1),
    (else_try),
      (assign, ":var58", 50),
      (eq, ":var39", 0),
      (try_begin),
        (troop_get_slot, ":var59", ":var0", 52),
        (this_or_next|eq, ":var59", 1),
        (this_or_next|eq, ":var59", 2),
        (eq, ":var59", 3),
        (val_mul, ":var58", 9),
        (val_div, ":var58", 10),
      (try_end),
      (party_is_active, ":var5"),
      (eq, ":var3", 1),
      (try_begin),
        (lt, ":var13", 6),
        (assign, ":var60", 1500),
      (else_try),
        (lt, ":var13", 10),
        (assign, ":var60", 1000),
      (else_try),
        (lt, ":var13", 14),
        (assign, ":var60", 720),
      (else_try),
        (lt, ":var13", 18),
        (assign, ":var60", 480),
      (else_try),
        (lt, ":var13", 22),
        (assign, ":var60", 360),
      (else_try),
        (lt, ":var13", 26),
        (assign, ":var60", 240),
      (else_try),
        (lt, ":var13", 30),
        (assign, ":var60", 180),
      (else_try),
        (lt, ":var13", 34),
        (assign, ":var60", 120),
      (else_try),
        (lt, ":var13", 38),
        (assign, ":var60", 100),
      (else_try),
        (lt, ":var13", 42),
        (assign, ":var60", 80),
      (else_try),
        (lt, ":var13", 46),
        (assign, ":var60", 65),
      (else_try),
        (lt, ":var13", 50),
        (assign, ":var60", 55),
      (else_try),
        (assign, ":var60", 0),
      (try_end),
      (try_begin),
        (troop_get_slot, ":var59", ":var0", 52),
        (this_or_next|eq, ":var59", 1),
        (this_or_next|eq, ":var59", 2),
        (eq, ":var59", 3),
        (val_mul, ":var60", 9),
        (val_div, ":var60", 10),
      (try_end),
      (le, ":var35", ":var60"),
      (le, ":var13", 54),
      (str_store_string, s14, "str_we_have_assembled_some_vassals"),
      (assign, ":var42", 1),
      (assign, ":var43", -1),
    (else_try),
      (party_is_active, ":var5"),
      (neq, ":var3", 0),
      (neq, ":var3", 6),
      (assign, ":var34", ":var32"),
      (is_between, ":var34", "p_town_1_1", "p_village_1_1"),
      (assign, ":var42", 2),
      (assign, ":var43", ":var34"),
      (str_store_string, s14, "str_we_believe_the_fortress_will_be_worth_the_effort_to_take_it"),
    (else_try),
      (party_is_active, ":var5"),
      (neq, ":var3", 0),
      (neq, ":var3", 6),
      (assign, ":var34", ":var32"),
      (is_between, ":var34", "p_village_1_1", "p_salt_mine"),
      (ge, ":var35", ":var58"),
      (assign, ":var42", 3),
      (assign, ":var43", ":var34"),
      (str_store_string, s14, "str_we_shall_leave_a_fiery_trail_through_the_heart_of_the_enemys_lands_targeting_the_wealthy_settlements_if_we_can"),
    (else_try),
      (eq, ":var3", 1),
      (str_store_string, s14, "str_the_army_will_be_disbanded_because_we_have_been_waiting_too_long_without_a_target"),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
    (else_try),
      (eq, ":var3", 6),
      (gt, ":var13", 72),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
      (str_store_string, s14, "str_it_is_time_for_the_feast_to_conclude"),
    (else_try),
      (eq, ":var3", 6),
      (le, ":var13", 72),
      (assign, ":var42", 6),
      (assign, ":var43", ":var4"),
      (str_store_string, s14, "str_we_should_continue_the_feast_unless_there_is_an_emergency"),
    (else_try),
      (check_quest_active, "qst_organize_feast"),
      (eq, "$players_kingdom", ":var1"),
      (quest_get_slot, ":var61", "qst_organize_feast", 1),
      (assign, ":var42", 6),
      (assign, ":var43", ":var61"),
      (str_store_string, s14, "str_you_had_wished_to_hold_a_feast"),
    (else_try),
      (check_quest_active, "qst_wed_betrothed_female"),
      (quest_get_slot, ":var62", "qst_wed_betrothed_female", 6),
      (troop_slot_eq, ":var62", 8, -1),
      (store_faction_of_troop, ":var63", ":var62"),
      (eq, ":var63", ":var1"),
      (faction_get_slot, ":var64", ":var63", 11),
      (assign, ":var65", -1),
      (try_for_range, ":var66", "p_town_1_1", "p_village_1_1"),
        (eq, ":var65", -1),
        (party_slot_eq, ":var66", 7, ":var62"),
        (party_slot_ge, ":var66", 54, 0),
        (assign, ":var65", ":var66"),
      (try_end),
      (try_for_range, ":var66", "p_town_1_1", "p_village_1_1"),
        (eq, ":var65", -1),
        (party_slot_eq, ":var66", 7, ":var64"),
        (party_slot_ge, ":var66", 54, 0),
        (assign, ":var65", ":var66"),
      (try_end),
      (is_between, ":var65", "p_town_1_1", "p_village_1_1"),
      (assign, ":var42", 6),
      (assign, ":var43", ":var65"),
      (str_store_string, s14, "str_your_wedding_day_approaches_my_lady"),
    (else_try),
      (check_quest_active, "qst_wed_betrothed"),
      (neg|quest_slot_ge, "qst_wed_betrothed", 23, 362),
      (quest_get_slot, ":var67", "qst_wed_betrothed", 2),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var67"),
      (assign, ":var68", reg0),
      (store_faction_of_troop, ":var69", ":var68"),
      (eq, ":var69", ":var1"),
      (troop_slot_eq, ":var68", 8, -1),
      (assign, ":var70", reg1),
      (is_between, ":var70", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var70", 54, -1),
      (assign, ":var42", 6),
      (assign, ":var43", ":var70"),
      (str_store_string, s14, "str_your_wedding_day_approaches"),
    (else_try),
      (ge, ":var11", 192),
      (assign, ":var65", -1),
      (try_for_range, ":var71", "trp_knight_1_1_wife", "trp_heroes_end"),
        (troop_get_slot, ":var62", ":var71", 34),
        (gt, ":var62", 0),
        (store_faction_of_troop, ":var72", ":var71"),
        (store_faction_of_troop, ":var63", ":var62"),
        (try_begin),
          (troop_slot_ge, ":var62", 8, 0),
        (else_try),
          (neq, ":var63", ":var72"),
          (neq, ":var63", "fac_player_faction"),
          (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var71", ":var62"),
        (else_try),
          (eq, ":var72", ":var1"),
          (neg|troop_slot_ge, ":var62", 2, 11),
          (neg|troop_slot_ge, ":var71", 2, 11),
          (troop_slot_eq, ":var62", 166, 1),
          (troop_slot_eq, ":var71", 166, 1),
          (store_current_hours, ":var73"),
          (troop_get_slot, ":var74", ":var71", 39),
          (val_sub, ":var73", ":var74"),
          (ge, ":var73", 719),
          (call_script, "script_get_kingdom_lady_social_determinants", ":var71"),
          (assign, ":var70", reg1),
          (assign, ":var65", ":var70"),
          (assign, ":var75", ":var71"),
          (assign, ":var76", ":var62"),
        (try_end),
      (try_end),
      (ge, ":var65", "p_town_1_1"),
      (assign, ":var42", 6),
      (assign, ":var43", ":var65"),
      (str_store_troop_name, s22, ":var75"),
      (str_store_troop_name, s23, ":var76"),
      (str_store_string, s14, "str_s22_and_s23_wish_to_marry"),
    (else_try),
      (eq, ":var3", 0),
      (gt, ":var11", 240),
      (assign, ":var77", 0),
      (assign, ":var65", -1),
      (try_for_range, ":var78", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var79", ":var78"),
        (eq, ":var79", ":var1"),
        (try_begin),
          (neg|party_slot_eq, ":var78", 35, 5),
          (party_get_slot, ":var80", ":var78", 7),
          (is_between, ":var80", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_get_slot, ":var81", ":var80", 7),
          (store_random_in_range, ":var82", 0, 1000),
          (val_add, ":var81", ":var82"),
          (gt, ":var81", ":var77"),
          (assign, ":var77", ":var81"),
          (assign, ":var65", ":var78"),
        (else_try),
          (this_or_next|party_slot_eq, ":var78", 35, 5),
          (party_slot_eq, ":var78", 35, 1),
          (assign, ":var77", 9999),
          (assign, ":var65", -1),
        (try_end),
      (try_end),
      (is_between, ":var65", "p_town_1_1", "p_village_1_1"),
      (party_get_slot, ":var68", ":var65", 7),
      (troop_slot_eq, ":var68", 8, -1),
      (assign, ":var42", 6),
      (assign, ":var43", ":var65"),
      (str_store_string, s14, "str_it_has_been_a_long_time_since_the_lords_of_the_realm_gathered_for_a_feast"),
    (else_try),
      (neq, ":var3", 0),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
      (str_store_string, s14, "str_the_circumstances_which_led_to_this_decision_no_longer_apply_so_we_should_stop_and_reconsider_shortly"),
    (else_try),
      (eq, ":var3", 0),
      (eq, ":var39", 1),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
      (str_store_string, s14, "str_we_are_currently_at_peace"),
    (else_try),
      (eq, ":var3", 0),
      (faction_slot_eq, ":var1", 8, -1),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
      (str_store_string, s14, "str_we_are_waiting_for_selection_of_marshal"),
    (else_try),
      (eq, ":var3", 0),
      (assign, ":var42", 0),
      (assign, ":var43", -1),
      (str_store_string, s14, "str_the_vassals_still_need_time_to_attend_to_their_own_business"),
    (try_end),
    (assign, reg0, ":var42"),
    (assign, reg1, ":var43"),
  ]),

  ("faction_last_reconnoitered_center",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_sub, ":var2", ":var0", "fac_player_supporters_faction"),
    (val_add, ":var2", 380),
    (store_current_hours, ":var3"),
    (party_get_slot, ":var4", ":var1", ":var2"),
    (try_begin),
      (lt, ":var4", 1),
      (assign, ":var3", 1000),
    (else_try),
      (val_sub, ":var3", ":var4"),
    (try_end),
    (assign, reg0, ":var3"),
    (assign, reg1, ":var4"),
  ]),

  ("reduce_exact_number_to_estimate",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (lt, ":var0", 500),
      (assign, ":var1", 0),
    (else_try),
      (lt, ":var0", 1000),
      (assign, ":var1", 750),
    (else_try),
      (lt, ":var0", 2000),
      (assign, ":var1", 1500),
    (else_try),
      (lt, ":var0", 4000),
      (assign, ":var1", 3000),
    (else_try),
      (lt, ":var0", 8000),
      (assign, ":var1", 6000),
    (else_try),
      (lt, ":var0", 16000),
      (assign, ":var1", 12000),
    (else_try),
      (assign, ":var1", 24000),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("calculate_castle_prosperities_by_using_its_villages",
  [
    (try_for_range, ":var0", "p_castle_1_1", "p_village_1_1"),
      (assign, ":var1", 0),
      (assign, ":var2", 0),
      (try_for_range, ":var3", "p_village_1_1", "p_salt_mine"),
        (party_get_slot, ":var4", ":var3", 120),
        (eq, ":var0", ":var4"),
        (party_get_slot, ":var5", ":var3", 50),
        (val_add, ":var1", ":var5"),
        (val_add, ":var2", 1),
      (try_end),
      (try_begin),
        (neq, ":var2", 0),
        (store_div, ":var6", ":var1", ":var2"),
      (else_try),
        (assign, ":var6", 50),
      (try_end),
      (party_set_slot, ":var0", 50, ":var6"),
    (try_end),
  ]),

  ("initialize_tavern_variables",
  [
    (assign, "$g_main_attacker_agent", 0),
    (assign, "$g_attacker_drawn_weapon", 0),
    (assign, "$g_start_belligerent_drunk_fight", 0),
    (assign, "$g_start_hired_assassin_fight", 0),
    (assign, "$g_belligerent_drunk_leaving", 0),
  ]),

  ("prepare_alley_to_fight",
  [
    (party_get_slot, ":var0", "$current_town", 17),
    (modify_visitors_at_site, ":var0"),
    (reset_visitors),
    (set_visitor, 0, "trp_player"),
    (set_visitor, 3, "trp_bandit"),
    (assign, "$talked_with_merchant", 0),
    (set_jump_mission, "mt_alley_fight"),
    (jump_to_scene, ":var0"),
    (change_screen_mission),
  ]),

  ("change_player_right_to_rule",
  [
    (store_script_param_1, ":var0"),
    (val_add, "$player_right_to_rule", ":var0"),
    (val_clamp, "$player_right_to_rule", 0, 100),
    (try_begin),
      (gt, ":var0", 0),
      (display_message, "@You gain right to rule.", 0x50FF50),
    (else_try),
      (lt, ":var0", 0),
      (display_message, "@You lose right to rule.", 0xFF5050),
    (try_end),
  ]),

  ("indict_lord_for_treason",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_type, reg4, ":var0"),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var2", 7, ":var0"),
      (party_set_slot, ":var2", 7, -1),
    (try_end),
    (faction_get_slot, ":var3", ":var1", 11),
    (call_script, "script_troop_get_relation_with_troop", ":var0", ":var3"),
    (assign, ":var4", reg0),
    (store_sub, ":var5", -150, ":var4"),
    (val_div, ":var5", 40),
    (val_min, ":var5", -1),
    (try_for_range, ":var6", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var6", 166, 1),
      (store_faction_of_troop, ":var7", ":var6"),
      (eq, ":var1", ":var7"),
      (call_script, "script_troop_get_family_relation_to_troop", ":var0", ":var6"),
      (assign, ":var8", reg0),
      (assign, ":var9", ":var5"),
      (try_begin),
        (gt, ":var8", 1),
        (store_div, ":var10", reg0, 3),
        (val_sub, ":var9", ":var10"),
      (try_end),
      (lt, ":var9", 0),
      (call_script, "script_troop_change_relation_with_troop", ":var3", ":var6", ":var9"),
      (val_add, "$total_indictment_changes", ":var9"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s17, ":var6"),
        (str_store_troop_name, s18, ":var3"),
        (assign, reg3, ":var9"),
        (display_message, "str_trial_influences_s17s_relation_with_s18_by_reg3"),
      (try_end),
    (try_end),
    (assign, ":var11", "fac_outlaws"),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (assign, ":var11", 0),
    (else_try),
      (call_script, "script_lord_find_alternative_faction", ":var0"),
      (assign, ":var11", reg0),
    (try_end),
    (try_begin),
      (is_between, ":var11", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var0"),
        (display_message, "@{!}DEBUG - {s4} faction changed in indictment"),
      (try_end),
      (call_script, "script_change_troop_faction", ":var0", ":var11"),
      (try_begin),
        (neg|faction_slot_eq, ":var11", 11, "trp_player"),
        (troop_slot_eq, ":var0", 2, 0),
        (troop_set_slot, ":var0", 2, 2),
      (try_end),
      (str_store_faction_name, s10, ":var11"),
      (str_store_string, s11, "str_with_the_s10"),
    (else_try),
      (neq, ":var0", "trp_player"),
      (call_script, "script_change_troop_faction", ":var0", "fac_outlaws"),
      (str_store_string, s11, "str_outside_calradia"),
    (else_try),
      (eq, ":var0", "trp_player"),
      (call_script, "script_player_leave_faction", 1),
    (try_end),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (str_store_string, s9, "str_you_have_been_indicted_for_treason_to_s7_your_properties_have_been_confiscated_and_you_would_be_well_advised_to_flee_for_your_life"),
    (else_try),
      (str_store_troop_name, s4, ":var0"),
      (str_store_faction_name, s5, ":var1"),
      (str_store_troop_name, s6, ":var3"),
      (troop_get_type, reg4, ":var0"),
      (str_store_string, s9, "str_by_order_of_s6_s4_of_the_s5_has_been_indicted_for_treason_the_lord_has_been_stripped_of_all_reg4herhis_properties_and_has_fled_for_reg4herhis_life_he_is_rumored_to_have_gone_into_exile_s11"),
    (try_end),
    (display_message, "@{!}{s9}", 0x66CCFF),
    (faction_get_slot, ":var12", ":var1", 133),
    (val_add, ":var12", 1),
    (faction_set_slot, ":var1", 133, ":var12"),
    (troop_set_slot, ":var0", 150, 0),
    (troop_get_slot, ":var13", ":var0", 10),
    (try_begin),
      (party_is_active, ":var13"),
      (neq, ":var13", "p_main_party"),
      (party_set_faction, ":var13", ":var11"),
      (party_detach, ":var13"),
      (call_script, "script_cf_select_random_walled_center_with_faction", ":var11", -1),
      (party_relocate_near_party, ":var13", reg0, 2),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (this_or_next|eq, ":var1", "$players_kingdom"),
      (eq, ":var11", "$players_kingdom"),
      (call_script, "script_add_notification_menu", "mnu_notification_treason_indictment", ":var0", ":var1"),
    (try_end),
  ]),

  ("give_center_to_faction_while_maintaining_lord",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_faction_of_party, ":var2", ":var0"),
    (party_set_slot, ":var0", 62, ":var2"),
    (party_set_faction, ":var0", ":var1"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 4),
      (party_get_slot, ":var3", ":var0", 122),
      (gt, ":var3", 0),
      (party_is_active, ":var3"),
      (party_set_faction, ":var3", ":var1"),
    (try_end),
    (call_script, "script_update_faction_notes", ":var1"),
    (call_script, "script_update_center_notes", ":var0"),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var4", 120, ":var0"),
      (call_script, "script_give_center_to_faction_while_maintaining_lord", ":var4", ":var1"),
    (try_end),
  ]),

  ("check_concilio_calradi_achievement",
  [
    (try_begin),
      (eq, "$players_kingdom", "fac_player_supporters_faction"),
      (faction_get_slot, ":var0", "fac_player_supporters_faction", 11),
      (eq, ":var0", "trp_player"),
      (assign, ":var1", 0),
      (try_for_range, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var2", 166, 1),
        (troop_slot_eq, ":var2", 2, 2),
        (store_faction_of_troop, ":var3", ":var2"),
        (eq, ":var3", "fac_player_supporters_faction"),
        (val_add, ":var1", 1),
      (try_end),
      (ge, ":var1", 3),
      (unlock_achievement, 54),
    (try_end),
  ]),

  ("set_matching_items",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (try_begin),
      (eq, ":var2", "trp_euro_horse_4"),
      (assign, ":var3", 2),
    (else_try),
      (eq, ":var2", "trp_nordic_knight"),
      (assign, ":var3", 2),
    (else_try),
      (eq, ":var2", "trp_gaelic_knight"),
      (assign, ":var3", 1),
    (else_try),
      (eq, ":var2", "trp_welsh_horse_4"),
      (assign, ":var3", 1),
    (else_try),
      (eq, ":var2", "trp_iberian_knight"),
      (assign, ":var3", 2),
    (else_try),
      (eq, ":var2", "trp_andalus_horse_4"),
      (assign, ":var3", 1),
    (else_try),
      (eq, ":var2", "trp_rus_horse_4"),
      (assign, ":var3", 1),
    (try_end),
    (try_begin),
      (neq, ":var1", -1),
      (eq, ":var3", 1),
      (store_random_in_range, ":var4", 0, 100),
      (try_begin),
        (gt, ":var4", 65),
        (try_begin),
          (eq, ":var2", "trp_rus_horse_4"),
          (store_random_in_range, ":var5", "itm_mon_lamellar_horse_a", "itm_kau_montcada_horse"),
        (else_try),
          (store_random_in_range, ":var5", "itm_warhorse_white", "itm_warhorse_player"),
        (try_end),
      (else_try),
        (store_random_in_range, ":var5", 0, 3),
        (try_begin),
          (eq, ":var5", 0),
          (assign, ":var5", "itm_hunter"),
        (else_try),
          (eq, ":var5", 1),
          (assign, ":var5", "itm_horse_e"),
        (else_try),
          (assign, ":var5", "itm_horse_d"),
        (try_end),
      (try_end),
      (troop_set_inventory_slot, ":var2", ek_horse, ":var5"),
    (try_end),
    (try_begin),
      (eq, ":var3", 2),
      (neq, ":var1", -1),
      (try_begin),
        (eq, ":var0", 496),
        (troop_set_inventory_slot, ":var2", ek_horse, 946),
      (else_try),
        (eq, ":var0", 497),
        (troop_set_inventory_slot, ":var2", ek_horse, 947),
      (else_try),
        (eq, ":var0", 498),
        (troop_set_inventory_slot, ":var2", ek_horse, 948),
      (else_try),
        (eq, ":var0", 499),
        (troop_set_inventory_slot, ":var2", ek_horse, 949),
      (else_try),
        (eq, ":var0", 500),
        (troop_set_inventory_slot, ":var2", ek_horse, 950),
      (else_try),
        (eq, ":var0", 501),
        (troop_set_inventory_slot, ":var2", ek_horse, 951),
      (else_try),
        (eq, ":var0", 502),
        (troop_set_inventory_slot, ":var2", ek_horse, 952),
      (else_try),
        (eq, ":var0", 503),
        (troop_set_inventory_slot, ":var2", ek_horse, 953),
      (else_try),
        (eq, ":var0", 504),
        (troop_set_inventory_slot, ":var2", ek_horse, 954),
      (else_try),
        (eq, ":var0", 505),
        (troop_set_inventory_slot, ":var2", ek_horse, 955),
      (else_try),
        (eq, ":var0", 506),
        (troop_set_inventory_slot, ":var2", ek_horse, 956),
      (else_try),
        (eq, ":var0", 507),
        (troop_set_inventory_slot, ":var2", ek_horse, 957),
      (else_try),
        (eq, ":var0", 508),
        (troop_set_inventory_slot, ":var2", ek_horse, 958),
      (else_try),
        (eq, ":var0", 509),
        (troop_set_inventory_slot, ":var2", ek_horse, 959),
      (else_try),
        (eq, ":var0", 510),
        (troop_set_inventory_slot, ":var2", ek_horse, 960),
      (else_try),
        (eq, ":var0", 511),
        (troop_set_inventory_slot, ":var2", ek_horse, 961),
      (else_try),
        (eq, ":var0", 512),
        (troop_set_inventory_slot, ":var2", ek_horse, 962),
      (else_try),
        (eq, ":var0", 513),
        (troop_set_inventory_slot, ":var2", ek_horse, 963),
      (else_try),
        (eq, ":var0", 514),
        (troop_set_inventory_slot, ":var2", ek_horse, 964),
      (else_try),
        (eq, ":var0", 515),
        (troop_set_inventory_slot, ":var2", ek_horse, 965),
      (else_try),
        (eq, ":var0", 516),
        (troop_set_inventory_slot, ":var2", ek_horse, 966),
      (else_try),
        (eq, ":var0", 517),
        (troop_set_inventory_slot, ":var2", ek_horse, 967),
      (else_try),
        (eq, ":var0", 518),
        (troop_set_inventory_slot, ":var2", ek_horse, 968),
      (try_end),
    (try_end),
  ]),

  ("distance_between_factions",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", -1),
    (try_for_range, ":var3", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (try_for_range, ":var5", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var4", ":var5"),
        (eq, ":var4", ":var1"),
        (store_distance_to_party_from_party, ":var6", ":var3", ":var5"),
        (try_begin),
          (lt, ":var2", 0),
          (assign, ":var2", ":var6"),
        (else_try),
          (lt, ":var6", ":var2"),
          (assign, ":var2", ":var6"),
        (try_end),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cf_is_party_on_water",
  [
    (store_script_param_1, ":var0"),
    (party_get_current_terrain, ":var1", ":var0"),
    (assign, reg0, 0),
    (try_begin),
      (this_or_next|eq, ":var1", 0),
      (this_or_next|eq, ":var1", 8),
      (this_or_next|eq, ":var1", 7),
      (eq, ":var1", 15),
      (assign, reg0, 1),
    (try_end),
    (gt, reg0, 0),
  ]),

  ("raf_replace_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (party_get_num_companion_stacks, ":var3", ":var0"),
    (try_for_range_backwards, ":var4", 0, ":var3"),
      (party_stack_get_troop_id, ":var5", ":var0", ":var4"),
      (try_begin),
        (eq, ":var5", ":var1"),
        (party_stack_get_size, ":var6", ":var0", ":var4"),
        (party_remove_members, ":var0", ":var5", ":var6"),
        (party_add_members, ":var0", ":var2", ":var6"),
        (try_begin),
          (eq, ":var0", "p_main_party"),
          (str_store_troop_name, s1, ":var5"),
          (str_store_troop_name, s2, ":var2"),
          (assign, reg0, ":var6"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("dmod_cycle_forwards",
  [
    (assign, ":var0", 0),
    (assign, ":var1", -1),
    (get_player_agent_no, ":var2"),
    (try_for_agents, ":var3"),
      (ge, ":var3", 0),
      (neq, ":var0", 1),
      (neq, ":var3", ":var2"),
      (agent_is_human, ":var3"),
      (agent_is_alive, ":var3"),
      (try_begin),
        (lt, ":var1", 0),
        (assign, ":var1", ":var3"),
      (try_end),
      (gt, ":var3", "$dmod_current_agent"),
      (assign, "$dmod_current_agent", ":var3"),
      (assign, ":var0", 1),
    (try_end),
    (try_begin),
      (eq, ":var0", 0),
      (neq, ":var1", -1),
      (assign, "$dmod_current_agent", ":var1"),
      (assign, ":var0", 1),
    (else_try),
      (eq, ":var0", 0),
      (eq, ":var1", -1),
      (display_message, "@No Troops Left."),
    (try_end),
    (try_begin),
      (eq, ":var0", 1),
      (str_store_agent_name, s1, "$dmod_current_agent"),
      (display_message, "@Selected Troop: {s1}"),
    (try_end),
    (assign, "$dmod_move_camera", 1),
  ]),

  ("dmod_cycle_backwards",
  [
    (assign, ":var0", -1),
    (assign, ":var1", -1),
    (get_player_agent_no, ":var2"),
    (try_for_agents, ":var3"),
      (gt, ":var3", -1),
      (neq, ":var3", ":var2"),
      (agent_is_human, ":var3"),
      (agent_is_alive, ":var3"),
      (assign, ":var1", ":var3"),
      (lt, ":var3", "$dmod_current_agent"),
      (assign, ":var0", ":var3"),
    (try_end),
    (try_begin),
      (eq, ":var0", -1),
      (neq, ":var1", -1),
      (assign, ":var0", ":var1"),
    (else_try),
      (eq, ":var0", -1),
      (eq, ":var1", -1),
      (display_message, "@No Troops Left."),
    (try_end),
    (try_begin),
      (neq, ":var0", -1),
      (assign, "$dmod_current_agent", ":var0"),
      (str_store_agent_name, s1, "$dmod_current_agent"),
      (display_message, "@Selected Troop: {s1}"),
    (try_end),
    (assign, "$dmod_move_camera", 1),
  ]),

  ("cf_town_recruit_volunteers_cond",
  [
    (party_slot_eq, "$current_town", 54, -1),
    (try_begin),
      (party_slot_eq, "$current_town", 0, 2),
      (party_get_slot, ":var0", "$current_town", 7),
      (try_begin),
        (gt, ":var0", 0),
        (call_script, "script_troop_get_player_relation", ":var0"),
        (assign, ":var1", reg0),
        (store_faction_of_party, ":var2", "$current_town"),
        (store_relation, ":var3", ":var2", "fac_player_faction"),
      (else_try),
        (assign, ":var1", 0),
      (try_end),
    (else_try),
      (store_faction_of_party, ":var2", "$current_town"),
      (party_get_slot, ":var1", "$current_town", 26),
      (store_relation, ":var3", ":var2", "fac_player_faction"),
    (try_end),
    (assign, reg0, ":var1"),
    (ge, ":var1", 0),
    (this_or_next|ge, ":var1", 5),
    (this_or_next|eq, ":var2", "$players_kingdom"),
    (this_or_next|ge, ":var3", 0),
    (this_or_next|eq, ":var2", "$supported_pretender_old_faction"),
    (eq, "$players_kingdom", 0),
    (party_slot_ge, "$current_town", 93, 0),
    (party_slot_ge, "$current_town", 92, 1),
    (party_get_free_companions_capacity, ":var4", "p_main_party"),
    (ge, ":var4", 1),
  ]),

  ("tom_aor_faction_to_region",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (eq, ":var0", "fac_kingdom_1"),
      (assign, reg0, 6),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_5"),
      (this_or_next|eq, ":var0", "fac_kingdom_6"),
      (this_or_next|eq, ":var0", "fac_kingdom_7"),
      (this_or_next|eq, ":var0", "fac_kingdom_9"),
      (this_or_next|eq, ":var0", "fac_kingdom_37"),
      (this_or_next|eq, ":var0", "fac_kingdom_19"),
      (this_or_next|eq, ":var0", "fac_kingdom_42"),
      (eq, ":var0", "fac_kingdom_10"),
      (assign, reg0, 5),
    (else_try),
      (eq, ":var0", "fac_kingdom_12"),
      (assign, reg0, 16),
    (else_try),
      (eq, ":var0", "fac_kingdom_13"),
      (assign, reg0, 7),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_16"),
      (this_or_next|eq, ":var0", "fac_kingdom_17"),
      (this_or_next|eq, ":var0", "fac_kingdom_18"),
      (this_or_next|eq, ":var0", "fac_papacy"),
      (this_or_next|eq, ":var0", "fac_kingdom_26"),
      (this_or_next|eq, ":var0", "fac_kingdom_32"),
      (this_or_next|eq, ":var0", "fac_kingdom_38"),
      (this_or_next|eq, ":var0", "fac_kingdom_39"),
      (this_or_next|eq, ":var0", "fac_kingdom_40"),
      (this_or_next|eq, ":var0", "fac_kingdom_41"),
      (eq, ":var0", "fac_kingdom_24"),
      (assign, reg0, 13),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_33"),
      (this_or_next|eq, ":var0", "fac_kingdom_34"),
      (this_or_next|eq, ":var0", "fac_kingdom_35"),
      (this_or_next|eq, ":var0", "fac_kingdom_36"),
      (eq, ":var0", "fac_kingdom_2"),
      (assign, reg0, 1),
    (else_try),
      (eq, ":var0", "fac_kingdom_27"),
      (assign, reg0, 14),
    (else_try),
      (eq, ":var0", "fac_kingdom_3"),
      (assign, reg0, 4),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_4"),
      (this_or_next|eq, ":var0", "fac_kingdom_11"),
      (eq, ":var0", "fac_kingdom_14"),
      (assign, reg0, 2),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_29"),
      (eq, ":var0", "fac_kingdom_30"),
      (assign, reg0, 15),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_15"),
      (eq, ":var0", "fac_kingdom_8"),
      (assign, reg0, 3),
    (else_try),
      (eq, ":var0", "fac_kingdom_20"),
      (assign, reg0, 10),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_28"),
      (eq, ":var0", "fac_kingdom_31"),
      (assign, reg0, 11),
    (else_try),
      (eq, ":var0", "fac_kingdom_25"),
      (assign, reg0, 12),
    (else_try),
      (eq, ":var0", "fac_kingdom_22"),
      (assign, reg0, 9),
    (else_try),
      (eq, ":var0", "fac_kingdom_23"),
      (assign, reg0, 8),
    (else_try),
      (eq, ":var0", "fac_kingdom_27"),
      (assign, reg0, 14),
    (else_try),
      (assign, reg0, -1),
    (try_end),
  ]),

  ("raf_aor_faction_to_region",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (eq, ":var0", "fac_kingdom_1"),
      (try_begin),
        (eq, "$players_kingdom", "fac_kingdom_1"),
        (assign, reg0, 6),
      (else_try),
        (assign, reg0, 1),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_5"),
      (this_or_next|eq, ":var0", "fac_kingdom_6"),
      (this_or_next|eq, ":var0", "fac_kingdom_7"),
      (this_or_next|eq, ":var0", "fac_kingdom_9"),
      (this_or_next|eq, ":var0", "fac_kingdom_37"),
      (this_or_next|eq, ":var0", "fac_kingdom_19"),
      (this_or_next|eq, ":var0", "fac_kingdom_42"),
      (eq, ":var0", "fac_kingdom_10"),
      (assign, reg0, 5),
    (else_try),
      (eq, ":var0", "fac_kingdom_12"),
      (assign, reg0, 16),
    (else_try),
      (eq, ":var0", "fac_kingdom_13"),
      (assign, reg0, 7),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_16"),
      (this_or_next|eq, ":var0", "fac_kingdom_17"),
      (this_or_next|eq, ":var0", "fac_kingdom_18"),
      (this_or_next|eq, ":var0", "fac_papacy"),
      (this_or_next|eq, ":var0", "fac_kingdom_26"),
      (this_or_next|eq, ":var0", "fac_kingdom_32"),
      (this_or_next|eq, ":var0", "fac_kingdom_38"),
      (this_or_next|eq, ":var0", "fac_kingdom_39"),
      (this_or_next|eq, ":var0", "fac_kingdom_40"),
      (this_or_next|eq, ":var0", "fac_kingdom_41"),
      (eq, ":var0", "fac_kingdom_24"),
      (assign, reg0, 13),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_33"),
      (this_or_next|eq, ":var0", "fac_kingdom_34"),
      (this_or_next|eq, ":var0", "fac_kingdom_35"),
      (this_or_next|eq, ":var0", "fac_kingdom_36"),
      (eq, ":var0", "fac_kingdom_2"),
      (assign, reg0, 1),
    (else_try),
      (eq, ":var0", "fac_kingdom_27"),
      (assign, reg0, 14),
    (else_try),
      (eq, ":var0", "fac_kingdom_3"),
      (assign, reg0, 4),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_4"),
      (this_or_next|eq, ":var0", "fac_kingdom_11"),
      (eq, ":var0", "fac_kingdom_14"),
      (assign, reg0, 2),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_29"),
      (eq, ":var0", "fac_kingdom_30"),
      (assign, reg0, 15),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_15"),
      (eq, ":var0", "fac_kingdom_8"),
      (assign, reg0, 3),
    (else_try),
      (eq, ":var0", "fac_kingdom_20"),
      (assign, reg0, 10),
    (else_try),
      (this_or_next|eq, ":var0", "fac_kingdom_28"),
      (eq, ":var0", "fac_kingdom_31"),
      (assign, reg0, 11),
    (else_try),
      (eq, ":var0", "fac_kingdom_25"),
      (assign, reg0, 12),
    (else_try),
      (eq, ":var0", "fac_kingdom_22"),
      (assign, reg0, 9),
    (else_try),
      (eq, ":var0", "fac_kingdom_23"),
      (assign, reg0, 8),
    (else_try),
      (eq, ":var0", "fac_kingdom_27"),
      (assign, reg0, 14),
    (else_try),
      (assign, reg0, -1),
    (try_end),
  ]),

  ("raf_aor_region_to_faction",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (eq, ":var0", 6),
      (assign, reg0, "fac_kingdom_1"),
    (else_try),
      (eq, ":var0", 5),
      (assign, reg0, "fac_kingdom_5"),
    (else_try),
      (eq, ":var0", 7),
      (assign, reg0, "fac_kingdom_13"),
    (else_try),
      (eq, ":var0", 13),
      (assign, reg0, "fac_kingdom_16"),
    (else_try),
      (eq, ":var0", 14),
      (assign, reg0, "fac_kingdom_27"),
    (else_try),
      (eq, ":var0", 1),
      (assign, reg0, "fac_kingdom_2"),
    (else_try),
      (eq, ":var0", 4),
      (assign, reg0, "fac_kingdom_3"),
    (else_try),
      (eq, ":var0", 2),
      (assign, reg0, "fac_kingdom_4"),
    (else_try),
      (eq, ":var0", 15),
      (assign, reg0, "fac_kingdom_29"),
    (else_try),
      (eq, ":var0", 3),
      (assign, reg0, "fac_kingdom_8"),
    (else_try),
      (eq, ":var0", 10),
      (assign, reg0, "fac_kingdom_20"),
    (else_try),
      (eq, ":var0", 11),
      (assign, reg0, "fac_kingdom_28"),
    (else_try),
      (eq, ":var0", 12),
      (assign, reg0, "fac_kingdom_25"),
    (else_try),
      (eq, ":var0", 8),
      (assign, reg0, "fac_kingdom_23"),
    (else_try),
      (eq, ":var0", 9),
      (assign, reg0, "fac_kingdom_22"),
    (else_try),
      (eq, ":var0", 16),
      (assign, reg0, "fac_kingdom_12"),
    (try_end),
  ]),

  ("raf_create_incidents",
  [
    (assign, reg0, -1),
    (assign, reg1, -1),
    (assign, ":var0", 96),
    (try_for_range, ":var1", 1, ":var0"),
      (store_random_in_range, ":var2", "p_village_1_1", "p_salt_mine"),
      (store_random_in_range, ":var3", "p_village_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var4", ":var2"),
      (store_faction_of_party, ":var5", ":var3"),
      (try_begin),
        (neq, ":var2", ":var3"),
        (neq, ":var4", ":var5"),
        (try_begin),
          (this_or_next|eq, ":var3", "p_village_player"),
          (eq, ":var2", "p_village_player"),
          (neg|faction_slot_eq, "$players_kingdom", 21, 0),
          (party_slot_eq, "p_village_player", 7, "trp_temp_lord"),
          (assign, ":var2", -1),
          (assign, ":var3", -1),
        (else_try),
          (store_distance_to_party_from_party, ":var6", ":var2", ":var3"),
          (le, ":var6", 15),
          (assign, reg0, ":var2"),
          (assign, reg1, ":var3"),
          (assign, ":var0", 0),
        (try_end),
      (else_try),
        (val_add, ":var1", 1),
      (try_end),
    (try_end),
  ]),

  ("spawn_manors",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_salt_mine"),
      (neg|is_between, ":var0", "p_castle_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var1", ":var0"),
      (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (store_random_in_range, ":var2", 0, 100),
      (lt, ":var2", 50),
      (call_script, "script_spawn_manor_party", "pt_manor", ":var0"),
    (try_end),
    (call_script, "script_update_manor_array"),
  ]),

  ("spawn_manor_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (set_spawn_radius, 5),
    (store_faction_of_party, ":var2", ":var1"),
    (spawn_around_party, ":var1", ":var0"),
    (assign, ":var3", reg0),
    (try_begin),
      (party_get_position, pos0, ":var1"),
      (map_get_land_position_around_position, pos1, pos0, 5),
    (try_end),
    (party_get_position, pos0, ":var1"),
    (assign, ":var4", 3000),
    (try_for_range, reg1, 0, ":var4"),
      (map_get_land_position_around_position, pos1, pos0, 7),
      (assign, ":var5", 0),
      (try_for_parties, ":var6"),
        (this_or_next|is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (eq, ":var6", "pt_manor"),
        (party_get_position, pos2, ":var6"),
        (get_distance_between_positions_in_meters, ":var7", pos2, pos1),
        (try_begin),
          (lt, ":var7", 1),
          (assign, ":var5", 1),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var5", 0),
        (party_set_position, ":var3", pos1),
        (party_get_current_terrain, ":var8", ":var3"),
        (try_begin),
          (eq, ":var8", 7),
        (else_try),
          (assign, ":var4", -8),
        (try_end),
      (try_end),
    (try_end),
    (store_random_in_range, ":var0", 1, 5),
    (try_for_range, reg0, 0, ":var0"),
      (store_random_in_range, ":var9", 303, 327),
      (party_set_slot, ":var3", ":var9", 1),
    (try_end),
    (try_begin),
      (store_random_in_range, ":var10", 10, 50),
      (store_random_in_range, ":var11", 1, 10),
      (party_set_slot, ":var3", 342, ":var10"),
      (party_set_slot, ":var3", 50, ":var11"),
    (try_end),
    (party_set_faction, ":var3", ":var2"),
    (party_set_slot, ":var3", 120, ":var1"),
    (str_store_party_name, s0, ":var1"),
    (str_store_party_name, s1, ":var3"),
    (str_store_string, s2, "@{s1} of {s0}"),
    (party_set_name, ":var3", s2),
    (assign, reg0, ":var3"),
  ]),

  ("update_manor_array",
  [
    (assign, ":var0", 1),
    (try_for_parties, ":var1"),
      (party_get_template_id, ":var2", ":var1"),
      (eq, ":var2", "pt_manor"),
      (troop_set_slot, "trp_manor_array", ":var0", ":var1"),
      (val_add, ":var0", 1),
      (party_get_slot, ":var3", ":var1", 120),
      (party_set_slot, ":var3", 255, ":var1"),
      (call_script, "script_manor_set_unique_scene", ":var1", ":var3"),
    (try_end),
    (troop_set_slot, "trp_manor_array", 0, ":var0"),
  ]),

  ("prepare_manor_troops",
  [
    (troop_set_slot, "trp_manor_grain", 161, 79),
    (troop_set_slot, "trp_manor_livestock", 161, 57),
    (troop_set_slot, "trp_manor_fruit", 161, 76),
    (troop_set_slot, "trp_manor_fisher", 161, 70),
    (troop_set_slot, "trp_manor_baker", 161, 81),
    (troop_set_slot, "trp_manor_winer", 161, 68),
    (troop_set_slot, "trp_manor_brewer", 161, 69),
    (troop_set_slot, "trp_manor_potter", 161, 54),
    (troop_set_slot, "trp_manor_blacksmith", 161, 63),
    (troop_set_slot, "trp_manor_butcher", 161, 75),
    (troop_set_slot, "trp_manor_oilmaker", 161, 53),
    (troop_set_slot, "trp_manor_linen", 161, 56),
    (troop_set_slot, "trp_manor_wool", 161, 58),
    (troop_set_slot, "trp_manor_tanner", 161, 65),
    (troop_set_slot, "trp_manor_trader_silk", 161, 59),
    (troop_set_slot, "trp_manor_trader_spice", 161, 51),
    (troop_set_slot, "trp_manor_trader_dyes", 161, 60),
    (troop_set_slot, "trp_manor_trader_salt", 161, 52),
    (troop_set_slot, "trp_manor_grain", 160, 345),
    (troop_set_slot, "trp_manor_livestock", 160, 346),
    (troop_set_slot, "trp_manor_fruit", 160, 347),
    (troop_set_slot, "trp_manor_fisher", 160, 348),
    (troop_set_slot, "trp_manor_baker", 160, 349),
    (troop_set_slot, "trp_manor_winer", 160, 350),
    (troop_set_slot, "trp_manor_brewer", 160, 351),
    (troop_set_slot, "trp_manor_potter", 160, 352),
    (troop_set_slot, "trp_manor_blacksmith", 160, 353),
    (troop_set_slot, "trp_manor_butcher", 160, 354),
    (troop_set_slot, "trp_manor_oilmaker", 160, 355),
    (troop_set_slot, "trp_manor_linen", 160, 356),
    (troop_set_slot, "trp_manor_wool", 160, 357),
    (troop_set_slot, "trp_manor_tanner", 160, 358),
  ]),

  ("manor_set_unique_scene",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_get_slot, ":var2", ":var1", 19),
    (party_get_current_terrain, ":var3", ":var0"),
    (try_begin),
      (this_or_next|eq, ":var2", "fac_culture_finnish"),
      (this_or_next|eq, ":var2", "fac_culture_mazovian"),
      (this_or_next|eq, ":var2", "fac_culture_teutonic"),
      (eq, ":var2", "fac_culture_baltic"),
      (party_set_slot, ":var0", 10, "scn_manor_fortified_teutonic"),
    (else_try),
      (this_or_next|eq, ":var3", 4),
      (eq, ":var3", 12),
      (party_set_slot, ":var0", 10, "scn_manor_fortified_euro_snow"),
    (else_try),
      (this_or_next|eq, ":var3", 5),
      (eq, ":var3", 13),
      (party_set_slot, ":var0", 10, "scn_manor_fortified_euro_desert"),
    (else_try),
      (this_or_next|eq, ":var3", 2),
      (eq, ":var3", 10),
      (party_set_slot, ":var0", 10, "scn_manor_fortified_euro_steppe"),
    (else_try),
      (party_set_slot, ":var0", 10, "scn_manor_fortified_euro_plains"),
    (try_end),
  ]),

  ("spawn_mongols",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_salt_mine"),
      (this_or_next|is_between, ":var0", "p_town_3_1", "p_town_4_1"),
      (is_between, ":var0", "p_town_27_1", "p_town_28_1"),
      (try_begin),
        (is_between, ":var0", "p_town_27_1", "p_town_28_1"),
        (assign, ":var1", "fac_kingdom_27"),
      (else_try),
        (assign, ":var1", "fac_kingdom_3"),
      (try_end),
      (set_spawn_radius, 5),
      (spawn_around_party, ":var0", "pt_mongolian_camp"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_location),
      (party_set_ai_object, ":var2", ":var0"),
      (party_set_slot, ":var2", 5, ":var0"),
      (party_set_ai_patrol_radius, ":var2", 15),
      (party_set_slot, ":var2", 255, ":var0"),
      (party_set_slot, ":var0", 257, ":var2"),
      (party_set_faction, ":var2", ":var1"),
      (party_set_slot, ":var2", 10, "scn_village_mongol"),
      (party_set_slot, ":var2", 93, 1),
      (party_set_slot, ":var2", 19, "fac_culture_mongol"),
      (party_set_slot, ":var2", 256, 1),
      (party_set_icon, ":var2", "icon_camp"),
    (try_end),
  ]),

  ("cf_spawn_crusaders_and_jihadists",
  [
    (faction_slot_eq, "fac_kingdom_23", 21, 0),
    (faction_slot_eq, "fac_kingdom_25", 21, 0),
    (assign, ":var0", 4),
    (try_begin),
      (store_num_parties_of_template, ":var1", "pt_jihadist_raiders"),
      (lt, ":var1", ":var0"),
      (assign, ":var2", "p_town_25_5"),
      (set_spawn_radius, 5),
      (spawn_around_party, ":var2", "pt_jihadist_raiders"),
      (assign, ":var3", reg0),
      (party_set_ai_behavior, ":var3", ai_bhvr_patrol_location),
      (party_set_ai_object, ":var3", ":var2"),
      (party_set_slot, ":var3", 5, ":var2"),
      (party_set_ai_patrol_radius, ":var3", 15),
    (try_end),
    (assign, ":var0", 4),
    (try_begin),
      (store_num_parties_of_template, ":var4", "pt_crusader_raiders_iberian"),
      (store_num_parties_of_template, ":var5", "pt_crusader_raiders_scandinavian"),
      (store_num_parties_of_template, ":var6", "pt_crusader_raiders_euro"),
      (store_num_parties_of_template, ":var7", "pt_crusader_raiders_italian"),
      (store_num_parties_of_template, ":var8", "pt_crusader_raiders_welsh"),
      (store_num_parties_of_template, ":var9", "pt_crusader_raiders_gaelic"),
      (store_num_parties_of_template, ":var10", "pt_crusader_raiders_teutonic"),
      (store_num_parties_of_template, ":var11", "pt_crusader_raiders_templar"),
      (store_num_parties_of_template, ":var12", "pt_crusader_raiders_hospitaller"),
      (store_num_parties_of_template, ":var13", "pt_crusader_raiders_saint_lazarus"),
      (store_num_parties_of_template, ":var14", "pt_crusader_raiders_santiago"),
      (store_num_parties_of_template, ":var15", "pt_crusader_raiders_calatrava"),
      (store_num_parties_of_template, ":var16", "pt_crusader_raiders_saint_thomas"),
      (store_add, ":var17", ":var4", ":var5"),
      (val_add, ":var17", ":var6"),
      (val_add, ":var17", ":var7"),
      (val_add, ":var17", ":var8"),
      (val_add, ":var17", ":var9"),
      (val_add, ":var17", ":var10"),
      (val_add, ":var17", ":var11"),
      (val_add, ":var17", ":var12"),
      (val_add, ":var17", ":var13"),
      (val_add, ":var17", ":var14"),
      (val_add, ":var17", ":var15"),
      (val_add, ":var17", ":var16"),
      (lt, ":var17", ":var0"),
      (assign, ":var2", "p_town_23_1"),
      (set_spawn_radius, 5),
      (store_random_in_range, ":var18", 1, 13),
      (try_begin),
        (eq, ":var18", 1),
        (spawn_around_party, ":var2", "pt_crusader_raiders_iberian"),
      (else_try),
        (eq, ":var18", 2),
        (spawn_around_party, ":var2", "pt_crusader_raiders_scandinavian"),
      (else_try),
        (eq, ":var18", 3),
        (spawn_around_party, ":var2", "pt_crusader_raiders_euro"),
      (else_try),
        (eq, ":var18", 4),
        (spawn_around_party, ":var2", "pt_crusader_raiders_italian"),
      (else_try),
        (eq, ":var18", 5),
        (spawn_around_party, ":var2", "pt_crusader_raiders_welsh"),
      (else_try),
        (eq, ":var18", 6),
        (spawn_around_party, ":var2", "pt_crusader_raiders_gaelic"),
      (else_try),
        (eq, ":var18", 7),
        (spawn_around_party, ":var2", "pt_crusader_raiders_teutonic"),
      (else_try),
        (eq, ":var18", 8),
        (spawn_around_party, ":var2", "pt_crusader_raiders_templar"),
      (else_try),
        (eq, ":var18", 9),
        (spawn_around_party, ":var2", "pt_crusader_raiders_hospitaller"),
      (else_try),
        (eq, ":var18", 10),
        (spawn_around_party, ":var2", "pt_crusader_raiders_saint_lazarus"),
      (else_try),
        (eq, ":var18", 11),
        (spawn_around_party, ":var2", "pt_crusader_raiders_santiago"),
      (else_try),
        (eq, ":var18", 12),
        (spawn_around_party, ":var2", "pt_crusader_raiders_calatrava"),
      (else_try),
        (eq, ":var18", 13),
        (spawn_around_party, ":var2", "pt_crusader_raiders_saint_thomas"),
      (try_end),
      (assign, ":var3", reg0),
      (party_set_ai_behavior, ":var3", ai_bhvr_patrol_location),
      (party_set_ai_object, ":var3", ":var2"),
      (party_set_slot, ":var3", 5, ":var2"),
      (party_set_ai_patrol_radius, ":var3", 15),
    (try_end),
  ]),

  ("spawn_balts",
  [
    (assign, ":var0", 3),
    (try_begin),
      (store_num_parties_of_template, ":var1", "pt_guelphs"),
      (lt, ":var1", ":var0"),
      (faction_slot_eq, "fac_kingdom_40", 21, 0),
      (set_spawn_radius, 5),
      (spawn_around_party, "p_town_40_2", "pt_guelphs"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_location),
      (party_set_ai_object, ":var2", "p_town_40_2"),
      (party_set_slot, ":var2", 5, "p_town_40_2"),
      (party_set_ai_patrol_radius, ":var2", 10),
      (party_set_banner_icon, ":var2", "icon_banner_20"),
    (try_end),
    (assign, ":var0", 3),
    (try_begin),
      (store_num_parties_of_template, ":var1", "pt_ghibellines"),
      (lt, ":var1", ":var0"),
      (faction_slot_eq, "fac_kingdom_41", 21, 0),
      (set_spawn_radius, 5),
      (spawn_around_party, "p_town_41_2", "pt_ghibellines"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_location),
      (party_set_ai_object, ":var2", "p_town_41_2"),
      (party_set_slot, ":var2", 5, "p_town_41_2"),
      (party_set_ai_patrol_radius, ":var2", 10),
      (party_set_banner_icon, ":var2", "icon_banner_19"),
    (try_end),
    (assign, ":var0", 5),
    (try_begin),
      (faction_slot_eq, "fac_kingdom_35", 21, 0),
      (store_num_parties_of_template, ":var1", "pt_curonians"),
      (lt, ":var1", ":var0"),
      (set_spawn_radius, 5),
      (spawn_around_party, "p_castle_35_1", "pt_curonians"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_location),
      (party_set_ai_object, ":var2", "p_castle_35_1"),
      (party_set_slot, ":var2", 5, "p_castle_35_1"),
      (party_set_ai_patrol_radius, ":var2", 15),
    (try_end),
    (try_begin),
      (faction_slot_eq, "fac_kingdom_34", 21, 0),
      (store_num_parties_of_template, ":var1", "pt_prussians"),
      (lt, ":var1", ":var0"),
      (set_spawn_radius, 5),
      (spawn_around_party, "p_castle_34_1", "pt_prussians"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_party),
      (party_set_ai_object, ":var2", "p_castle_34_1"),
      (party_set_slot, ":var2", 5, "p_castle_34_1"),
      (party_set_ai_patrol_radius, ":var2", 15),
    (try_end),
    (try_begin),
      (faction_slot_eq, "fac_kingdom_36", 21, 0),
      (store_num_parties_of_template, ":var1", "pt_samogitians"),
      (lt, ":var1", ":var0"),
      (set_spawn_radius, 5),
      (spawn_around_party, "p_castle_36_1", "pt_samogitians"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_party),
      (party_set_ai_object, ":var2", "p_castle_36_1"),
      (party_set_slot, ":var2", 5, "p_castle_36_1"),
      (party_set_ai_patrol_radius, ":var2", 15),
    (try_end),
    (try_begin),
      (faction_slot_eq, "fac_kingdom_33", 21, 0),
      (store_num_parties_of_template, ":var1", "pt_yotvingians"),
      (lt, ":var1", ":var0"),
      (set_spawn_radius, 5),
      (spawn_around_party, "p_castle_33_1", "pt_yotvingians"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_party),
      (party_set_ai_object, ":var2", "p_castle_33_1"),
      (party_set_slot, ":var2", 5, "p_castle_33_1"),
      (party_set_ai_patrol_radius, ":var2", 15),
    (try_end),
    (assign, ":var0", 3),
    (try_begin),
      (faction_slot_eq, "fac_kingdom_37", 21, 0),
      (store_num_parties_of_template, ":var1", "pt_welsh"),
      (lt, ":var1", ":var0"),
      (set_spawn_radius, 5),
      (spawn_around_party, "p_town_37_1", "pt_welsh"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_party),
      (party_set_ai_object, ":var2", "p_town_37_1"),
      (party_set_slot, ":var2", 5, "p_town_37_1"),
      (party_set_ai_patrol_radius, ":var2", 15),
    (try_end),
    (assign, ":var0", 2),
    (try_begin),
      (faction_slot_eq, "fac_kingdom_1", 21, 0),
      (store_num_parties_of_template, ":var1", "pt_teutonic_raiders"),
      (lt, ":var1", ":var0"),
      (set_spawn_radius, 5),
      (call_script, "script_cf_select_random_town_with_faction", "fac_kingdom_1"),
      (assign, ":var3", reg0),
      (gt, ":var3", 0),
      (spawn_around_party, ":var3", "pt_teutonic_raiders"),
      (assign, ":var2", reg0),
      (party_set_ai_behavior, ":var2", ai_bhvr_patrol_party),
      (party_set_ai_object, ":var2", ":var3"),
      (party_set_slot, ":var2", 5, ":var3"),
      (party_set_ai_patrol_radius, ":var2", 15),
    (try_end),
    (try_for_parties, ":var4"),
      (party_get_template_id, ":var5", ":var4"),
      (try_begin),
        (eq, ":var5", "pt_guelphs"),
        (neg|faction_slot_eq, "fac_kingdom_40", 21, 0),
        (neq, "$kaos_kings_kingdom", 40),
        (party_set_faction, ":var4", "fac_deserters"),
      (else_try),
        (eq, ":var5", "pt_ghibellines"),
        (neg|faction_slot_eq, "fac_kingdom_41", 21, 0),
        (neq, "$kaos_kings_kingdom", 41),
        (party_set_faction, ":var4", "fac_deserters"),
      (else_try),
        (eq, ":var5", "pt_curonians"),
        (neg|faction_slot_eq, "fac_kingdom_35", 21, 0),
        (neq, "$kaos_kings_kingdom", 35),
        (party_set_faction, ":var4", "fac_deserters"),
      (else_try),
        (eq, ":var5", "pt_prussians"),
        (neg|faction_slot_eq, "fac_kingdom_34", 21, 0),
        (neq, "$kaos_kings_kingdom", 34),
        (party_set_faction, ":var4", "fac_deserters"),
      (else_try),
        (eq, ":var5", "pt_samogitians"),
        (neg|faction_slot_eq, "fac_kingdom_36", 21, 0),
        (neq, "$kaos_kings_kingdom", 36),
        (party_set_faction, ":var4", "fac_deserters"),
      (else_try),
        (eq, ":var5", "pt_yotvingians"),
        (neg|faction_slot_eq, "fac_kingdom_33", 21, 0),
        (neq, "$kaos_kings_kingdom", 33),
        (party_set_faction, ":var4", "fac_deserters"),
      (else_try),
        (eq, ":var5", "pt_welsh"),
        (neg|faction_slot_eq, "fac_kingdom_37", 21, 0),
        (neq, "$kaos_kings_kingdom", 37),
        (party_set_faction, ":var4", "fac_deserters"),
      (else_try),
        (eq, ":var5", "pt_teutonic_raiders"),
        (neg|faction_slot_eq, "fac_kingdom_1", 21, 0),
        (neq, "$kaos_kings_kingdom", 1),
        (party_set_faction, ":var4", "fac_deserters"),
      (try_end),
    (try_end),
  ]),

  ("spawn_peasant_rebels",
  [
    (store_num_parties_of_template, ":var0", "pt_peasant_rebels_euro"),
    (store_random_in_range, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
    (try_begin),
      (le, ":var0", "$g_party_rebellion_max"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (assign, ":var5", 100),
      (assign, ":var6", -1),
      (try_for_range, ":var7", "p_town_1_1", "p_castle_1_1"),
        (store_faction_of_party, ":var8", ":var7"),
        (eq, ":var8", ":var1"),
        (val_add, ":var2", 1),
        (party_get_slot, ":var9", ":var7", 50),
        (val_add, ":var3", ":var9"),
        (lt, ":var9", ":var5"),
        (assign, ":var5", ":var9"),
        (assign, ":var6", ":var7"),
      (try_end),
      (gt, ":var2", 0),
      (gt, ":var6", 0),
      (store_div, ":var4", ":var3", ":var2"),
      (le, ":var4", 25),
      (set_spawn_radius, 3),
      (store_random_in_range, ":var10", 3, 5),
      (assign, ":var11", ":var10"),
      (faction_get_slot, ":var12", ":var1", 41),
      (faction_get_slot, ":var13", ":var1", 100),
      (faction_get_slot, ":var14", ":var1", 101),
      (try_for_range, reg1, 0, ":var11"),
        (spawn_around_party, ":var6", "pt_peasant_rebels_euro"),
        (assign, ":var15", reg0),
        (party_set_ai_behavior, ":var15", ai_bhvr_patrol_party),
        (party_set_ai_object, ":var15", ":var6"),
        (party_set_ai_patrol_radius, ":var15", 10),
        (str_store_faction_name, s25, ":var1"),
        (party_set_slot, ":var15", 5, ":var6"),
        (store_random_in_range, ":var16", 25, 60),
        (store_random_in_range, ":var17", 100, 200),
        (store_random_in_range, ":var18", 200, 400),
        (store_random_in_range, ":var19", 6000, 9000),
        (party_add_members, ":var15", ":var14", ":var16"),
        (party_add_members, ":var15", ":var13", ":var17"),
        (party_add_members, ":var15", ":var12", ":var18"),
        (party_upgrade_with_xp, ":var15", ":var19", 0),
        (assign, ":var20", "str_s25_peasant_rebels"),
        (party_set_name, ":var15", ":var20"),
      (try_end),
      (try_begin),
        (call_script, "script_get_message_color_rebels", 10, ":var1"),
        (display_message, "@Peasants revolt in areas controlled by the {s25}!", reg20),
      (try_end),
    (try_end),
  ]),

  ("dplmc_send_recruiter",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", ":var0"),
    (val_mul, ":var3", reg22),
    (val_add, ":var3", 250),
    (call_script, "script_dplmc_withdraw_from_treasury", ":var3"),
    (set_spawn_radius, 1),
    (spawn_around_party, "$current_town", "pt_dplmc_recruiter"),
    (assign, ":var4", reg0),
    (party_set_ai_behavior, ":var4", ai_bhvr_hold),
    (party_set_slot, ":var4", 0, 22),
    (party_set_slot, ":var4", 288, ":var0"),
    (party_set_slot, ":var4", 291, ":var1"),
    (party_set_slot, ":var4", 289, "$current_town"),
    (assign, ":var5", "$players_kingdom"),
    (party_set_faction, ":var4", ":var5"),
    (party_set_slot, ":var4", 292, ":var2"),
  ]),

  ("dplmc_describe_prosperity_to_s4",
  [
    (store_script_param_1, ":var0"),
    (str_store_party_name, s60, ":var0"),
    (party_get_slot, ":var1", ":var0", 50),
    (str_store_string, s4, "str_empty_string"),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
      (try_begin),
        (eq, ":var1", 0),
        (str_store_string, s4, "str_town_prosperity_0"),
      (else_try),
        (is_between, ":var1", 1, 11),
        (str_store_string, s4, "str_town_prosperity_10"),
      (else_try),
        (is_between, ":var1", 11, 21),
        (str_store_string, s4, "str_town_prosperity_20"),
      (else_try),
        (is_between, ":var1", 21, 31),
        (str_store_string, s4, "str_town_prosperity_30"),
      (else_try),
        (is_between, ":var1", 31, 41),
        (str_store_string, s4, "str_town_prosperity_40"),
      (else_try),
        (is_between, ":var1", 41, 51),
        (str_store_string, s4, "str_town_prosperity_50"),
      (else_try),
        (is_between, ":var1", 51, 61),
        (str_store_string, s4, "str_town_prosperity_60"),
      (else_try),
        (is_between, ":var1", 61, 71),
        (str_store_string, s4, "str_town_prosperity_70"),
      (else_try),
        (is_between, ":var1", 71, 81),
        (str_store_string, s4, "str_town_prosperity_80"),
      (else_try),
        (is_between, ":var1", 81, 91),
        (str_store_string, s4, "str_town_prosperity_90"),
      (else_try),
        (is_between, ":var1", 91, 101),
        (str_store_string, s4, "str_town_prosperity_100"),
      (try_end),
    (else_try),
      (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
      (try_begin),
        (eq, ":var1", 0),
        (str_store_string, s4, "str_village_prosperity_0"),
      (else_try),
        (is_between, ":var1", 1, 11),
        (str_store_string, s4, "str_village_prosperity_10"),
      (else_try),
        (is_between, ":var1", 11, 21),
        (str_store_string, s4, "str_village_prosperity_20"),
      (else_try),
        (is_between, ":var1", 21, 31),
        (str_store_string, s4, "str_village_prosperity_30"),
      (else_try),
        (is_between, ":var1", 31, 41),
        (str_store_string, s4, "str_village_prosperity_40"),
      (else_try),
        (is_between, ":var1", 41, 51),
        (str_store_string, s4, "str_village_prosperity_50"),
      (else_try),
        (is_between, ":var1", 51, 61),
        (str_store_string, s4, "str_village_prosperity_60"),
      (else_try),
        (is_between, ":var1", 61, 71),
        (str_store_string, s4, "str_village_prosperity_70"),
      (else_try),
        (is_between, ":var1", 71, 81),
        (str_store_string, s4, "str_village_prosperity_80"),
      (else_try),
        (is_between, ":var1", 81, 91),
        (str_store_string, s4, "str_village_prosperity_90"),
      (else_try),
        (is_between, ":var1", 91, 101),
        (str_store_string, s4, "str_village_prosperity_100"),
      (try_end),
    (try_end),
  ]),

  ("dplmc_pay_into_treasury",
  [
    (store_script_param_1, ":var0"),
    (troop_add_gold, "trp_household_possessions", ":var0"),
    (assign, reg0, ":var0"),
    (play_sound, "snd_money_received"),
    (display_message, "@{reg0} denars added to treasury."),
  ]),

  ("dplmc_pay_into_treasury_no_comment",
  [
    (store_script_param_1, ":var0"),
    (troop_add_gold, "trp_household_possessions", ":var0"),
    (assign, reg0, ":var0"),
    (play_sound, "snd_money_received"),
  ]),

  ("dplmc_withdraw_from_treasury",
  [
    (store_script_param_1, ":var0"),
    (troop_remove_gold, "trp_household_possessions", ":var0"),
    (assign, reg0, ":var0"),
    (play_sound, "snd_money_paid"),
    (display_message, "@{reg0} denars removed from treasury."),
  ]),

  ("dplmc_describe_tax_rate_to_s50",
  [
    (store_script_param_1, ":var0"),
    (store_add, ":var1", "str_dplmc_tax_normal", ":var0"),
    (str_store_string, s50, ":var1"),
  ]),

  ("dplmc_player_troops_leave",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg0, ":var0"),
      (display_message, "@{!}DEBUG : removing player troops: {reg0}%"),
    (try_end),
    (assign, ":var1", 0),
    (try_for_parties, ":var2"),
      (assign, ":var3", 0),
      (try_begin),
        (this_or_next|party_slot_eq, ":var2", 0, 3),
        (party_slot_eq, ":var2", 0, 2),
        (party_slot_eq, ":var2", 7, "trp_player"),
        (assign, ":var3", 1),
      (else_try),
        (eq, "p_main_party", ":var2"),
        (assign, ":var3", 1),
      (try_end),
      (eq, ":var3", 1),
      (party_get_num_companion_stacks, ":var4", ":var2"),
      (try_for_range, ":var5", 0, ":var4"),
        (party_stack_get_size, ":var6", ":var2", ":var5"),
        (val_mul, ":var6", ":var0"),
        (val_div, ":var6", 100),
        (party_stack_get_troop_id, ":var7", ":var2", ":var5"),
        (party_remove_members, ":var2", ":var7", ":var6"),
        (val_add, ":var1", ":var6"),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("dplmc_get_item_buy_price_factor",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", 100),
    (call_script, "script_get_trade_penalty", ":var0"),
    (assign, ":var3", reg0),
    (try_begin),
      (is_between, ":var1", "p_town_1_1", "p_salt_mine"),
      (is_between, ":var0", "itm_spice", "itm_siege_supply"),
      (store_sub, ":var4", ":var0", "itm_spice"),
      (val_add, ":var4", 310),
      (party_get_slot, ":var2", ":var1", ":var4"),
      (try_begin),
        (is_between, ":var1", "p_village_1_1", "p_salt_mine"),
        (party_get_slot, ":var5", ":var1", 121),
        (party_get_slot, ":var6", ":var5", ":var4"),
        (val_max, ":var2", ":var6"),
      (try_end),
      (val_mul, ":var2", 100),
      (val_div, ":var2", 1000),
    (try_end),
    (store_add, ":var7", 100, ":var3"),
    (val_mul, ":var2", ":var7"),
    (val_div, ":var2", 100),
    (assign, reg0, ":var2"),
    (set_trigger_result, reg0),
  ]),

  ("dplmc_party_calculate_strength",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, reg0, 0),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (assign, ":var3", 0),
    (try_begin),
      (neq, ":var1", 0),
      (assign, ":var3", 1),
    (try_end),
    (assign, ":var4", 0),
    (try_for_range, ":var5", ":var3", ":var2"),
      (party_stack_get_troop_id, ":var6", ":var0", ":var5"),
      (try_begin),
        (neg|troop_is_hero, ":var6"),
        (party_stack_get_size, ":var7", ":var0", ":var5"),
      (try_end),
      (val_add, ":var4", ":var7"),
    (try_end),
    (assign, reg0, ":var4"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "@{!}DEBUG : sum: {reg0}"),
    (try_end),
  ]),

  ("dplmc_start_alliance_between_kingdoms",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_relation, ":var3", ":var0", ":var1"),
    (val_add, ":var3", 15),
    (val_max, ":var3", 40),
    (set_relation, ":var0", ":var1", ":var3"),
    (call_script, "script_exchange_prisoners_between_factions", ":var0", ":var1"),
    (try_begin),
      (eq, "$players_kingdom", ":var0"),
      (store_relation, ":var3", "$players_kingdom", ":var1"),
      (val_add, ":var3", 15),
      (val_max, ":var3", 40),
      (call_script, "script_set_player_relation_with_faction", ":var1", ":var3"),
    (else_try),
      (eq, "$players_kingdom", ":var1"),
      (store_relation, ":var3", "$players_kingdom", ":var0"),
      (val_add, ":var3", 15),
      (val_max, ":var3", 40),
      (call_script, "script_set_player_relation_with_faction", ":var0", ":var3"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (str_store_faction_name_link, s1, ":var0"),
      (str_store_faction_name_link, s2, ":var1"),
      (display_log_message, "@{s1} and {s2} have concluded an alliance with each other."),
      (try_begin),
        (this_or_next|eq, ":var0", "$players_kingdom"),
        (eq, ":var1", "$players_kingdom"),
        (call_script, "script_add_notification_menu", "mnu_dplmc_notification_alliance_declared", ":var0", ":var1"),
      (try_end),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var0", ":var1"),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var1", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var1"),
    (try_end),
    (try_begin),
      (store_add, ":var4", ":var0", 160),
      (val_sub, ":var4", "fac_player_supporters_faction"),
      (faction_set_slot, ":var1", ":var4", 80),
      (store_add, ":var4", ":var1", 160),
      (val_sub, ":var4", "fac_player_supporters_faction"),
      (faction_set_slot, ":var0", ":var4", 80),
      (store_add, ":var5", ":var1", 300),
      (val_sub, ":var5", "fac_player_supporters_faction"),
      (faction_get_slot, ":var6", ":var0", ":var5"),
      (try_begin),
        (lt, ":var6", 100),
      (try_end),
      (faction_set_slot, ":var0", ":var5", 0),
      (store_add, ":var7", ":var0", 300),
      (val_sub, ":var7", "fac_player_supporters_faction"),
      (faction_get_slot, ":var8", ":var1", ":var7"),
      (try_begin),
        (lt, ":var8", 100),
      (try_end),
      (faction_set_slot, ":var1", ":var7", 0),
    (try_end),
    (try_for_range, ":var9", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var9", 21, 0),
      (neq, ":var0", ":var9"),
      (neq, ":var1", ":var9"),
      (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var0", ":var9"),
      (eq, reg0, -2),
      (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var1", ":var9"),
      (ge, reg0, -1),
      (call_script, "script_diplomacy_start_war_between_kingdoms", ":var1", ":var9", 1),
    (try_end),
    (try_for_range, ":var9", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var9", 21, 0),
      (neq, ":var0", ":var9"),
      (neq, ":var1", ":var9"),
      (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var1", ":var9"),
      (eq, reg0, -2),
      (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var0", ":var9"),
      (ge, reg0, -1),
      (call_script, "script_diplomacy_start_war_between_kingdoms", ":var0", ":var9", 1),
    (try_end),
  ]),

  ("dplmc_start_defensive_between_kingdoms",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_relation, ":var3", ":var0", ":var1"),
    (val_add, ":var3", 10),
    (val_max, ":var3", 30),
    (set_relation, ":var0", ":var1", ":var3"),
    (call_script, "script_exchange_prisoners_between_factions", ":var0", ":var1"),
    (try_begin),
      (eq, "$players_kingdom", ":var0"),
      (store_relation, ":var3", "$players_kingdom", ":var1"),
      (val_add, ":var3", 10),
      (val_max, ":var3", 30),
      (call_script, "script_set_player_relation_with_faction", ":var1", ":var3"),
    (else_try),
      (eq, "$players_kingdom", ":var1"),
      (store_relation, ":var3", "$players_kingdom", ":var0"),
      (val_add, ":var3", 10),
      (val_max, ":var3", 30),
      (call_script, "script_set_player_relation_with_faction", ":var0", ":var3"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (str_store_faction_name_link, s1, ":var0"),
      (str_store_faction_name_link, s2, ":var1"),
      (display_log_message, "@{s1} and {s2} have concluded a defensive pact with each other."),
      (try_begin),
        (this_or_next|eq, ":var0", "$players_kingdom"),
        (eq, ":var1", "$players_kingdom"),
        (call_script, "script_add_notification_menu", "mnu_dplmc_notification_defensive_declared", ":var0", ":var1"),
      (try_end),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var0", ":var1"),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var1", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var1"),
    (try_end),
    (try_begin),
      (store_add, ":var4", ":var0", 160),
      (val_sub, ":var4", "fac_player_supporters_faction"),
      (faction_set_slot, ":var1", ":var4", 60),
      (store_add, ":var4", ":var1", 160),
      (val_sub, ":var4", "fac_player_supporters_faction"),
      (faction_set_slot, ":var0", ":var4", 60),
      (store_add, ":var5", ":var1", 300),
      (val_sub, ":var5", "fac_player_supporters_faction"),
      (faction_get_slot, ":var6", ":var0", ":var5"),
      (try_begin),
        (lt, ":var6", 100),
      (try_end),
      (faction_set_slot, ":var0", ":var5", 0),
      (store_add, ":var7", ":var0", 300),
      (val_sub, ":var7", "fac_player_supporters_faction"),
      (faction_get_slot, ":var8", ":var1", ":var7"),
      (try_begin),
        (lt, ":var8", 100),
      (try_end),
      (faction_set_slot, ":var1", ":var7", 0),
    (try_end),
  ]),

  ("dplmc_start_trade_between_kingdoms",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_relation, ":var3", ":var0", ":var1"),
    (val_add, ":var3", 5),
    (val_max, ":var3", 20),
    (set_relation, ":var0", ":var1", ":var3"),
    (call_script, "script_exchange_prisoners_between_factions", ":var0", ":var1"),
    (try_begin),
      (eq, "$players_kingdom", ":var0"),
      (store_relation, ":var3", "$players_kingdom", ":var1"),
      (val_add, ":var3", 5),
      (val_max, ":var3", 20),
      (call_script, "script_set_player_relation_with_faction", ":var1", ":var3"),
    (else_try),
      (eq, "$players_kingdom", ":var1"),
      (store_relation, ":var3", "$players_kingdom", ":var0"),
      (val_add, ":var3", 5),
      (val_max, ":var3", 20),
      (call_script, "script_set_player_relation_with_faction", ":var0", ":var3"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (str_store_faction_name_link, s1, ":var0"),
      (str_store_faction_name_link, s2, ":var1"),
      (display_log_message, "@{s1} and {s2} have concluded a trade agreement with each other."),
      (try_begin),
        (this_or_next|eq, ":var0", "$players_kingdom"),
        (eq, ":var1", "$players_kingdom"),
        (call_script, "script_add_notification_menu", "mnu_dplmc_notification_trade_declared", ":var0", ":var1"),
      (try_end),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var0", ":var1"),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var1", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var1"),
    (try_end),
    (try_begin),
      (store_add, ":var4", ":var0", 160),
      (val_sub, ":var4", "fac_player_supporters_faction"),
      (faction_set_slot, ":var1", ":var4", 40),
      (store_add, ":var4", ":var1", 160),
      (val_sub, ":var4", "fac_player_supporters_faction"),
      (faction_set_slot, ":var0", ":var4", 40),
      (store_add, ":var5", ":var1", 300),
      (val_sub, ":var5", "fac_player_supporters_faction"),
      (faction_get_slot, ":var6", ":var0", ":var5"),
      (try_begin),
        (lt, ":var6", 100),
      (try_end),
      (faction_set_slot, ":var0", ":var5", 0),
      (store_add, ":var7", ":var0", 300),
      (val_sub, ":var7", "fac_player_supporters_faction"),
      (faction_get_slot, ":var8", ":var1", ":var7"),
      (try_begin),
        (lt, ":var8", 100),
      (try_end),
      (faction_set_slot, ":var1", ":var7", 0),
    (try_end),
  ]),

  ("dplmc_start_nonaggression_between_kingdoms",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_relation, ":var3", ":var0", ":var1"),
    (val_add, ":var3", 3),
    (val_max, ":var3", 10),
    (set_relation, ":var0", ":var1", ":var3"),
    (call_script, "script_exchange_prisoners_between_factions", ":var0", ":var1"),
    (try_begin),
      (eq, "$players_kingdom", ":var0"),
      (store_relation, ":var3", "$players_kingdom", ":var1"),
      (val_add, ":var3", 3),
      (val_max, ":var3", 10),
      (call_script, "script_set_player_relation_with_faction", ":var1", ":var3"),
    (else_try),
      (eq, "$players_kingdom", ":var1"),
      (store_relation, ":var3", "$players_kingdom", ":var0"),
      (val_add, ":var3", 3),
      (val_max, ":var3", 10),
      (call_script, "script_set_player_relation_with_faction", ":var0", ":var3"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (str_store_faction_name_link, s1, ":var0"),
      (str_store_faction_name_link, s2, ":var1"),
      (display_log_message, "@{s1} and {s2} have concluded a non aggression pact with each other."),
      (try_begin),
        (this_or_next|eq, ":var0", "$players_kingdom"),
        (eq, ":var1", "$players_kingdom"),
        (call_script, "script_add_notification_menu", "mnu_dplmc_notification_nonaggression_declared", ":var0", ":var1"),
      (try_end),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var0", ":var1"),
      (call_script, "script_event_kingdom_make_peace_with_kingdom", ":var1", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var0"),
      (call_script, "script_recalculate_ais_for_faction", ":var1"),
    (try_end),
    (try_begin),
      (store_add, ":var4", ":var0", 160),
      (val_sub, ":var4", "fac_player_supporters_faction"),
      (faction_set_slot, ":var1", ":var4", 20),
      (store_add, ":var4", ":var1", 160),
      (val_sub, ":var4", "fac_player_supporters_faction"),
      (faction_set_slot, ":var0", ":var4", 20),
      (store_add, ":var5", ":var1", 300),
      (val_sub, ":var5", "fac_player_supporters_faction"),
      (faction_get_slot, ":var6", ":var0", ":var5"),
      (try_begin),
        (lt, ":var6", 100),
      (try_end),
      (faction_set_slot, ":var0", ":var5", 0),
      (store_add, ":var7", ":var0", 300),
      (val_sub, ":var7", "fac_player_supporters_faction"),
      (faction_get_slot, ":var8", ":var1", ":var7"),
      (try_begin),
        (lt, ":var8", 100),
      (try_end),
      (faction_set_slot, ":var1", ":var7", 0),
    (try_end),
  ]),

  ("dplmc_get_prisoners_value_between_factions",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_for_parties, ":var4"),
      (store_faction_of_party, ":var5", ":var4"),
      (try_begin),
        (eq, ":var5", ":var0"),
        (party_get_num_prisoner_stacks, ":var6", ":var4"),
        (try_for_range_backwards, ":var7", 0, ":var6"),
          (party_prisoner_stack_get_troop_id, ":var8", ":var4", ":var7"),
          (store_faction_of_troop, ":var9", ":var8"),
          (eq, ":var9", ":var1"),
          (try_begin),
            (troop_is_hero, ":var8"),
            (call_script, "script_calculate_ransom_amount_for_troop", ":var8"),
            (val_add, ":var2", reg0),
            (try_begin),
              (eq, "$cheat_mode", 1),
              (assign, reg0, ":var2"),
              (display_message, "@{!}DEBUG : faction no 1 value: {reg0}"),
            (try_end),
          (try_end),
        (try_end),
      (else_try),
        (eq, ":var5", ":var1"),
        (party_get_num_prisoner_stacks, ":var6", ":var4"),
        (try_for_range_backwards, ":var7", 0, ":var6"),
          (party_prisoner_stack_get_troop_id, ":var8", ":var4", ":var7"),
          (store_faction_of_troop, ":var9", ":var8"),
          (eq, ":var9", ":var0"),
          (try_begin),
            (troop_is_hero, ":var8"),
            (call_script, "script_calculate_ransom_amount_for_troop", ":var8"),
            (val_add, ":var3", reg0),
            (try_begin),
              (eq, "$cheat_mode", 1),
              (assign, reg0, ":var3"),
              (display_message, "@{!}DEBUG : faction no 2 value: {reg0}"),
            (try_end),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (store_sub, reg0, ":var2", ":var3"),
  ]),

  ("dplmc_get_truce_pay_amount",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 1000),
    (assign, ":var4", 3000),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg0, ":var2"),
      (display_message, "@{!}DEBUG : peace war result: {reg0}"),
    (try_end),
    (val_sub, ":var2", 1),
    (val_mul, ":var2", 4),
    (val_mul, ":var2", ":var3"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (assign, reg0, ":var2"),
      (display_message, "@{!}DEBUG : peace war result after multi: {reg0}"),
    (try_end),
    (call_script, "script_dplmc_get_prisoners_value_between_factions", ":var0", ":var1"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "@{!}DEBUG : prisonser value: {reg0}"),
    (try_end),
    (val_sub, ":var2", reg0),
    (val_max, ":var2", 0),
    (assign, reg0, ":var2"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "@{!}DEBUG : peace war result after prisoners: {reg0}"),
    (try_end),
    (assign, reg1, -1),
    (try_begin),
      (gt, "$g_concession_demanded", 0),
      (assign, ":var5", 2),
      (try_begin),
        (is_between, "$g_concession_demanded", "p_town_1_1", "p_castle_1_1"),
        (assign, ":var5", 3),
      (else_try),
        (is_between, "$g_concession_demanded", "p_castle_1_1", "p_village_1_1"),
        (assign, ":var5", 2),
      (else_try),
        (is_between, "$g_concession_demanded", "p_village_1_1", "p_salt_mine"),
        (assign, ":var5", 1),
      (try_end),
      (val_mul, ":var5", ":var4"),
      (store_sub, reg1, reg0, ":var5"),
      (val_max, reg1, 0),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (display_message, "@{!}DEBUG : truce pay amount0: {reg0}"),
      (display_message, "@{!}DEBUG : truce pay amount1: {reg1}"),
    (try_end),
  ]),

  ("dplmc_player_center_surrender",
  [
    (store_script_param, ":var0", 1),
    (store_current_hours, ":var1"),
    (val_add, ":var1", 48),
    (party_get_slot, ":var2", ":var0", 54),
    (store_faction_of_party, ":var3", ":var2"),
    (party_stack_get_troop_id, ":var4", ":var2", 0),
    (party_set_slot, ":var2", 3, ":var1"),
    (party_ignore_player, ":var2", 48),
    (try_for_range, ":var5", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var5", 166, 1),
      (store_faction_of_troop, ":var6", ":var5"),
      (eq, ":var6", ":var3"),
      (troop_get_slot, ":var7", ":var5", 10),
      (party_is_active, ":var7"),
      (party_slot_eq, ":var7", 4, 11),
      (party_slot_eq, ":var7", 5, ":var2"),
      (party_is_active, ":var2"),
      (store_distance_to_party_from_party, ":var8", ":var7", ":var2"),
      (lt, ":var8", 20),
      (party_set_slot, ":var7", 3, ":var1"),
      (party_ignore_player, ":var7", 48),
    (try_end),
    (party_set_faction, "$current_town", "fac_neutral"),
    (party_get_num_attached_parties, ":var9", ":var0"),
    (try_for_range_backwards, ":var10", 0, ":var9"),
      (party_get_attached_party_with_rank, ":var11", ":var0", ":var10"),
      (party_detach, ":var11"),
      (party_get_slot, ":var12", ":var11", 0),
      (eq, ":var12", 13),
      (neq, ":var12", "p_main_party"),
      (store_faction_of_party, ":var13", ":var11"),
      (call_script, "script_get_closest_walled_center_of_faction", ":var11", ":var13"),
      (try_begin),
        (gt, reg0, 0),
        (call_script, "script_party_set_ai_state", ":var11", 7, reg0),
      (else_try),
        (call_script, "script_party_set_ai_state", ":var11", 4, ":var0"),
      (try_end),
    (try_end),
    (call_script, "script_party_remove_all_companions", ":var0"),
    (change_screen_return),
    (party_collect_attachments_to_party, ":var0", "p_collective_enemy"),
    (call_script, "script_party_copy", "p_encountered_party_backup", "p_collective_enemy"),
    (call_script, "script_give_center_to_faction", "$current_town", ":var3"),
    (call_script, "script_order_best_besieger_party_to_guard_center", ":var0", ":var3"),
    (call_script, "script_order_lords_guard_center", ":var0", ":var3"),
    (call_script, "script_change_player_relation_with_troop", ":var4", 2),
    (try_begin),
      (gt, "$players_kingdom", 0),
      (neq, "$players_kingdom", "fac_player_supporters_faction"),
      (neq, "$players_kingdom", "fac_player_faction"),
      (faction_get_slot, ":var14", "$players_kingdom", 11),
      (neq, ":var14", "trp_player"),
      (call_script, "script_change_player_relation_with_troop", ":var14", -2),
    (try_end),
    (troop_get_slot, ":var15", "trp_player", 150),
    (val_add, ":var15", 4),
    (val_min, ":var15", 100),
    (troop_set_slot, "trp_player", 150, ":var15"),
  ]),

  ("dplmc_send_messenger_to_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (troop_get_slot, ":var3", ":var0", 10),
    (try_begin),
      (eq, ":var1", 11),
      (assign, ":var2", "p_main_party"),
    (try_end),
    (set_spawn_radius, 1),
    (spawn_around_party, "$current_town", "pt_messenger_party"),
    (assign, ":var4", reg0),
    (party_add_members, ":var4", "trp_dplmc_messenger", 1),
    (store_faction_of_troop, ":var5", "trp_player"),
    (party_set_faction, ":var4", ":var5"),
    (party_set_slot, ":var4", 0, 25),
    (party_set_slot, ":var4", 286, ":var1"),
    (party_set_slot, ":var4", 123, "$current_town"),
    (val_add, "$g_player_messenger_count", 1),
    (party_set_ai_behavior, ":var4", ai_bhvr_travel_to_party),
    (party_set_ai_object, ":var4", ":var3"),
    (party_set_slot, ":var4", 5, ":var3"),
    (party_set_slot, ":var4", 246, ":var2"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (str_store_party_name, s13, ":var3"),
      (display_message, "@{!}DEBUG - Send message to {s13}"),
    (try_end),
  ]),

  ("dplmc_send_messenger_to_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (set_spawn_radius, 1),
    (spawn_around_party, "$current_town", "pt_messenger_party"),
    (assign, ":var3", reg0),
    (party_add_members, ":var3", "trp_dplmc_messenger", 1),
    (party_set_faction, ":var3", "fac_player_faction"),
    (party_set_slot, ":var3", 0, 25),
    (party_set_slot, ":var3", 286, ":var1"),
    (party_set_slot, ":var3", 123, "$current_town"),
    (val_add, "$g_player_messenger_count", 1),
    (party_set_ai_behavior, ":var3", ai_bhvr_travel_to_party),
    (party_set_ai_object, ":var3", ":var0"),
    (party_set_slot, ":var3", 5, ":var0"),
    (party_set_slot, ":var3", 246, ":var2"),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (str_store_party_name, s13, ":var0"),
      (display_message, "@{!}DEBUG - Send message to {s13}"),
    (try_end),
  ]),

  ("dplmc_send_gift",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (troop_slot_eq, ":var0", 2, 2),
      (troop_get_slot, ":var2", ":var0", 10),
    (else_try),
      (troop_slot_eq, ":var0", 2, 6),
      (troop_get_slot, ":var2", ":var0", 12),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (str_store_item_name, s12, ":var1"),
      (str_store_party_name, s13, ":var2"),
      (display_message, "@{!}DEBUG - Bring {s12} to {s13}"),
    (try_end),
    (call_script, "script_dplmc_withdraw_from_treasury", 50),
    (troop_get_inventory_capacity, ":var3", "trp_household_possessions"),
    (try_begin),
      (troop_slot_eq, ":var0", 2, 2),
      (assign, ":var4", 150),
      (try_for_range, ":var5", 0, ":var3"),
        (gt, ":var4", 0),
        (troop_get_inventory_slot, ":var6", "trp_household_possessions", ":var5"),
        (eq, ":var6", ":var1"),
        (troop_inventory_slot_get_item_amount, ":var7", "trp_household_possessions", ":var5"),
        (try_begin),
          (le, ":var7", ":var4"),
          (troop_inventory_slot_set_item_amount, "trp_household_possessions", ":var5", 0),
          (val_sub, ":var4", ":var7"),
        (else_try),
          (val_sub, ":var7", ":var4"),
          (troop_inventory_slot_set_item_amount, "trp_household_possessions", ":var5", ":var7"),
          (assign, ":var4", 0),
        (try_end),
      (try_end),
    (else_try),
      (troop_slot_eq, ":var0", 2, 6),
      (troop_remove_item, "trp_household_possessions", ":var1"),
    (try_end),
    (set_spawn_radius, 1),
    (spawn_around_party, "$current_town", "pt_dplmc_gift_caravan"),
    (assign, ":var8", reg0),
    (party_set_slot, ":var8", 0, 23),
    (party_set_slot, ":var8", 286, ":var1"),
    (party_set_slot, ":var8", 246, ":var0"),
    (val_add, "$g_gift_caravan_count", 1),
    (party_set_ai_behavior, ":var8", ai_bhvr_travel_to_party),
    (party_set_ai_object, ":var8", ":var2"),
    (party_set_slot, ":var8", 5, ":var2"),
    (party_stack_get_troop_id, ":var9", ":var8", 0),
    (troop_set_slot, ":var9", 10, ":var8"),
  ]),

  ("dplmc_send_gift_to_center",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (str_store_item_name, s12, ":var1"),
      (str_store_party_name, s13, ":var0"),
      (display_message, "@{!}DEBUG - Bring {s12} to {s13}"),
    (try_end),
    (call_script, "script_dplmc_withdraw_from_treasury", 50),
    (troop_get_inventory_capacity, ":var2", "trp_household_possessions"),
    (assign, ":var3", 300),
    (try_for_range, ":var4", 0, ":var2"),
      (gt, ":var3", 0),
      (troop_get_inventory_slot, ":var5", "trp_household_possessions", ":var4"),
      (eq, ":var5", ":var1"),
      (troop_inventory_slot_get_item_amount, ":var6", "trp_household_possessions", ":var4"),
      (try_begin),
        (le, ":var6", ":var3"),
        (troop_inventory_slot_set_item_amount, "trp_household_possessions", ":var4", 0),
        (val_sub, ":var3", ":var6"),
      (else_try),
        (val_sub, ":var6", ":var3"),
        (troop_inventory_slot_set_item_amount, "trp_household_possessions", ":var4", ":var6"),
        (assign, ":var3", 0),
      (try_end),
    (try_end),
    (set_spawn_radius, 1),
    (spawn_around_party, "$current_town", "pt_dplmc_gift_caravan"),
    (assign, ":var7", reg0),
    (party_set_slot, ":var7", 0, 23),
    (party_set_slot, ":var7", 286, ":var1"),
    (party_set_slot, ":var7", 246, 0),
    (val_add, "$g_gift_caravan_count", 1),
    (party_set_ai_behavior, ":var7", ai_bhvr_travel_to_party),
    (party_set_ai_object, ":var7", ":var0"),
    (party_set_slot, ":var7", 5, ":var0"),
    (party_stack_get_troop_id, ":var8", ":var7", 0),
    (troop_set_slot, ":var8", 10, ":var7"),
    (troop_set_slot, ":var8", 10, ":var7"),
  ]),

  ("dplmc_troop_political_notes_to_s47",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (str_clear, s47),
      (store_faction_of_troop, ":var1", ":var0"),
      (faction_get_slot, ":var2", ":var1", 11),
      (str_clear, s40),
      (assign, ":var3", 0),
      (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var4", 166, 1),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var4"),
        (lt, reg0, -10),
        (str_store_troop_name_link, s39, ":var4"),
        (try_begin),
          (eq, ":var3", 0),
          (str_store_string, s40, "str_dplmc_s39_rival"),
          (assign, ":var3", 1),
        (else_try),
          (str_store_string, s41, "str_s40"),
          (str_store_string, s40, "str_dplmc_s41_s39_rival"),
        (try_end),
      (try_end),
      (str_clear, s46),
      (str_store_troop_name, s46, ":var0"),
      (try_begin),
        (troop_slot_eq, ":var0", 52, 1),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_martial"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 5),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_debauched"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 3),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_pitiless"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 4),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_calculating"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 2),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_quarrelsome"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 6),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_goodnatured"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 7),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_upstanding"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 21),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_conventional"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 22),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_adventurous"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 23),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_romantic"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 25),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_moralist"),
      (else_try),
        (troop_slot_eq, ":var0", 52, 24),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_ambitious"),
      (else_try),
        (troop_get_slot, reg11, ":var0", 52),
        (str_store_string, s46, "str_dplmc_reputation_cheat_mode_only_reg11"),
      (try_end),
      (try_for_range, ":var5", 35, 38),
        (troop_get_slot, ":var6", ":var0", ":var5"),
        (is_between, ":var6", "trp_knight_1_1_wife", "trp_heroes_end"),
        (str_store_troop_name, s39, ":var6"),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var6"),
        (str_store_string, s45, "str_dplmc_s40_love_interest_s39"),
        (try_begin),
          (troop_slot_eq, ":var0", 34, ":var6"),
          (str_store_string, s45, "str_dplmc_s40_betrothed_s39"),
        (try_end),
      (try_end),
      (str_clear, s44),
      (try_begin),
        (neq, ":var0", ":var2"),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var2"),
        (assign, ":var7", reg0),
        (store_add, ":var8", ":var7", 100),
        (val_add, ":var8", 5),
        (store_div, ":var9", ":var8", 10),
        (val_clamp, ":var9", 0, 20),
        (store_add, ":var10", "str_dplmc_relation_mnus_100_ns", ":var9"),
        (try_begin),
          (eq, ":var2", "trp_player"),
          (str_store_string, s59, "@you"),
        (else_try),
          (str_store_troop_name, s59, ":var2"),
        (try_end),
        (str_store_string, s59, ":var10"),
        (str_store_string, s44, "@{!}^{s59}"),
      (try_end),
      (str_clear, s48),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (store_current_hours, ":var11"),
        (gt, ":var11", 0),
        (call_script, "script_calculate_troop_political_factors_for_liege", ":var0", ":var2"),
        (str_store_string, s48, "str_sense_of_security_military_reg1_court_position_reg3_"),
      (try_end),
      (str_store_string, s47, "str_s46s45s44s48"),
    (try_end),
  ]),

  ("troop_can_use_item",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (item_get_type, ":var3", ":var1"),
    (try_begin),
      (eq, ":var3", 20),
      (item_get_slot, ":var4", ":var1", 4),
    (else_try),
      (item_get_slot, ":var4", ":var1", 68),
    (try_end),
    (try_begin),
      (eq, ":var4", 0),
    (else_try),
      (eq, ":var2", 32),
      (val_add, ":var4", 1),
    (else_try),
      (eq, ":var2", 33),
      (val_sub, ":var4", 1),
    (else_try),
      (eq, ":var2", 18),
      (neq, ":var3", 1),
      (val_add, ":var4", 1),
    (else_try),
      (eq, ":var2", 19),
      (val_add, ":var4", 2),
    (else_try),
      (eq, ":var2", 17),
      (val_add, ":var4", 4),
    (try_end),
    (try_begin),
      (eq, ":var3", 1),
      (store_skill_level, ":var5", 24, ":var0"),
    (else_try),
      (this_or_next|eq, ":var3", 9),
      (this_or_next|eq, ":var3", 2),
      (this_or_next|eq, ":var3", 3),
      (this_or_next|eq, ":var3", 4),
      (this_or_next|eq, ":var3", 12),
      (this_or_next|eq, ":var3", 13),
      (this_or_next|eq, ":var3", 14),
      (eq, ":var3", 15),
      (store_attribute_level, ":var5", ":var0", ca_strength),
    (else_try),
      (eq, ":var3", 7),
      (store_skill_level, ":var5", 26, ":var0"),
    (else_try),
      (eq, ":var3", 8),
      (store_skill_level, ":var5", 33, ":var0"),
    (else_try),
      (eq, ":var3", 10),
      (store_skill_level, ":var5", 34, ":var0"),
    (else_try),
      (eq, ":var3", 20),
      (store_attribute_level, ":var5", ":var0", ca_intelligence),
    (try_end),
    (try_begin),
      (this_or_next|lt, ":var5", ":var4"),
      (this_or_next|is_between, ":var1", "itm_book_wound_treatment_reference", "itm_spice"),
      (eq, ":var2", 30),
      (assign, reg0, 0),
    (else_try),
      (troop_slot_eq, ":var0", 186, 1),
      (item_slot_eq, ":var1", 73, 1),
      (assign, reg0, 0),
    (else_try),
      (assign, reg0, 1),
    (try_end),
  ]),

  ("get_item_value_with_imod",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_item_value, ":var2", ":var0"),
    (item_get_slot, ":var3", ":var1", 75),
    (val_mul, ":var2", ":var3"),
    (assign, reg0, ":var2"),
  ]),

  ("get_item_score_with_imod",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (item_get_type, ":var2", ":var0"),
    (try_begin),
      (eq, ":var2", 20),
      (item_get_slot, ":var3", ":var0", 4),
    (else_try),
      (eq, ":var2", 1),
      (item_get_slot, ":var4", ":var0", 79),
      (item_get_slot, ":var5", ":var0", 80),
      (item_get_slot, ":var6", ":var0", 82),
      (try_begin),
        (eq, ":var1", 31),
        (val_add, ":var4", -2),
      (else_try),
        (eq, ":var1", 30),
        (val_add, ":var4", -5),
      (else_try),
        (eq, ":var1", 18),
        (val_add, ":var5", 3),
        (val_add, ":var6", 4),
      (else_try),
        (eq, ":var1", 35),
        (val_add, ":var4", 1),
        (val_add, ":var5", 1),
        (val_add, ":var6", 1),
      (else_try),
        (eq, ":var1", 36),
        (val_add, ":var4", 2),
        (val_add, ":var5", 2),
        (val_add, ":var6", 2),
      (try_end),
      (store_mul, ":var3", ":var4", ":var5"),
      (val_mul, ":var3", ":var6"),
    (else_try),
      (eq, ":var2", 7),
      (item_get_slot, ":var7", ":var0", 82),
      (item_get_slot, ":var8", ":var0", 80),
      (item_get_slot, ":var9", ":var0", 83),
      (try_begin),
        (eq, ":var1", 1),
        (val_add, ":var8", -4),
      (else_try),
        (eq, ":var1", 5),
        (val_add, ":var8", -2),
      (else_try),
        (eq, ":var1", 25),
        (val_add, ":var8", 2),
      (else_try),
        (eq, ":var1", 27),
        (val_add, ":var8", 4),
      (try_end),
      (val_add, ":var8", 5),
      (store_mul, ":var3", ":var8", ":var7"),
      (val_mul, ":var3", ":var9"),
    (else_try),
      (this_or_next|eq, ":var2", 12),
      (this_or_next|eq, ":var2", 13),
      (this_or_next|eq, ":var2", 14),
      (eq, ":var2", 15),
      (item_get_slot, ":var10", ":var0", 79),
      (item_get_slot, ":var11", ":var0", 80),
      (item_get_slot, ":var12", ":var0", 81),
      (store_add, ":var3", ":var10", ":var11"),
      (val_add, ":var3", ":var12"),
      (store_mul, ":var13", 2, ":var10"),
      (store_mul, ":var14", 2, ":var11"),
      (store_mul, ":var15", 1, ":var12"),
      (assign, ":var3", 1),
      (val_add, ":var3", ":var13"),
      (val_add, ":var3", ":var14"),
      (val_add, ":var3", ":var15"),
      (try_begin),
        (eq, ":var2", 12),
        (lt, ":var13", 1),
        (store_item_value, ":var3", ":var0"),
      (try_end),
      (assign, ":var16", 0),
      (try_begin),
        (gt, ":var10", 0),
        (val_add, ":var16", 1),
      (try_end),
      (try_begin),
        (gt, ":var11", 0),
        (val_add, ":var16", 1),
      (try_end),
      (try_begin),
        (gt, ":var12", 0),
        (val_add, ":var16", 1),
      (try_end),
      (try_begin),
        (eq, ":var1", 0),
        (assign, ":var17", 0),
      (else_try),
        (eq, ":var1", 1),
        (assign, ":var17", -20),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var17", -15),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var17", -10),
      (else_try),
        (eq, ":var1", 7),
        (assign, ":var17", -5),
      (else_try),
        (eq, ":var1", 21),
        (assign, ":var17", -15),
      (else_try),
        (eq, ":var1", 22),
        (assign, ":var17", -10),
      (else_try),
        (eq, ":var1", 24),
        (assign, ":var17", 5),
      (else_try),
        (eq, ":var1", 25),
        (assign, ":var17", 10),
      (else_try),
        (eq, ":var1", 26),
        (assign, ":var17", 15),
      (else_try),
        (eq, ":var1", 27),
        (assign, ":var17", 20),
      (else_try),
        (eq, ":var1", 29),
        (assign, ":var17", 30),
      (try_end),
      (val_mul, ":var17", ":var3"),
      (val_div, ":var17", 100),
      (val_mul, ":var17", ":var16"),
      (val_add, ":var3", ":var17"),
    (else_try),
      (this_or_next|eq, ":var2", 2),
      (this_or_next|eq, ":var2", 3),
      (this_or_next|eq, ":var2", 8),
      (this_or_next|eq, ":var2", 9),
      (this_or_next|eq, ":var2", 16),
      (this_or_next|eq, ":var2", 17),
      (eq, ":var2", 4),
      (item_get_slot, ":var18", ":var0", 83),
      (item_get_slot, ":var19", ":var0", 82),
      (item_get_slot, ":var20", ":var0", 80),
      (item_get_slot, ":var21", ":var0", 79),
      (val_mod, ":var20", 256),
      (val_mod, ":var21", 256),
      (assign, ":var22", ":var20"),
      (val_max, ":var22", ":var21"),
      (try_begin),
        (eq, ":var1", 1),
        (val_add, ":var22", -5),
      (else_try),
        (eq, ":var1", 2),
        (val_add, ":var22", -3),
      (else_try),
        (eq, ":var1", 3),
        (val_add, ":var22", -3),
        (val_add, ":var18", -3),
      (else_try),
        (eq, ":var1", 4),
        (val_add, ":var22", -1),
      (else_try),
        (eq, ":var1", 13),
        (val_add, ":var22", 3),
        (val_add, ":var18", 3),
      (else_try),
        (eq, ":var1", 14),
        (val_add, ":var22", 4),
      (else_try),
        (eq, ":var1", 17),
        (val_add, ":var22", 5),
        (val_add, ":var18", 1),
      (else_try),
        (eq, ":var1", 18),
        (val_add, ":var22", 2),
        (val_add, ":var18", -2),
      (else_try),
        (eq, ":var1", 19),
        (val_add, ":var22", 3),
        (val_add, ":var18", -3),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var2", 8),
        (this_or_next|eq, ":var2", 9),
        (this_or_next|eq, ":var2", 16),
        (eq, ":var2", 17),
        (store_mul, ":var3", ":var22", ":var18"),
      (else_try),
        (this_or_next|eq, ":var2", 2),
        (this_or_next|eq, ":var2", 3),
        (eq, ":var2", 4),
        (store_mul, ":var3", ":var22", ":var18"),
        (val_mul, ":var3", ":var19"),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var2", 5),
      (this_or_next|eq, ":var2", 6),
      (this_or_next|eq, ":var2", 18),
      (eq, ":var2", 10),
      (item_get_slot, ":var21", ":var0", 79),
      (val_mod, ":var21", 256),
      (assign, ":var3", ":var21"),
      (val_add, ":var3", 3),
      (try_begin),
        (eq, ":var1", 0),
        (val_mul, ":var3", 2),
      (else_try),
        (eq, ":var1", 42),
        (val_mul, ":var3", 2),
        (val_add, ":var3", 1),
      (else_try),
        (eq, ":var1", 3),
        (val_sub, ":var3", 3),
        (val_mul, ":var3", 2),
      (else_try),
        (eq, ":var1", 18),
        (val_add, ":var3", 2),
        (val_mul, ":var3", 2),
      (else_try),
        (eq, ":var1", 13),
        (val_add, ":var3", 3),
        (val_mul, ":var3", 2),
      (try_end),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("print_wpn_upgrades_to_s0",
  [
    (store_script_param_1, ":var0"),
    (troop_get_slot, ":var1", ":var0", 191),
    (store_mul, ":var2", ":var1", 5),
    (store_add, ":var3", 187, ":var2"),
    (store_add, ":var4", 188, ":var2"),
    (store_add, ":var5", 189, ":var2"),
    (store_add, ":var6", 190, ":var2"),
    (str_store_string, s0, "str_empty_string"),
    (troop_get_slot, ":var7", ":var0", ":var3"),
    (troop_get_inventory_slot, ":var8", ":var0", ek_item_0),
    (try_begin),
      (ge, ":var8", 0),
      (str_store_item_name, s10, ":var8"),
    (else_try),
      (str_store_string, s10, "str_none"),
    (try_end),
    (val_add, ":var7", "str_hero_wpn_slot_none"),
    (str_store_string, s1, ":var7"),
    (str_store_string, s0, "@{s0}^{s1}"),
    (troop_get_slot, ":var7", ":var0", ":var4"),
    (troop_get_inventory_slot, ":var8", ":var0", ek_item_1),
    (try_begin),
      (ge, ":var8", 0),
      (str_store_item_name, s10, ":var8"),
    (else_try),
      (str_store_string, s10, "str_none"),
    (try_end),
    (val_add, ":var7", "str_hero_wpn_slot_none"),
    (str_store_string, s1, ":var7"),
    (str_store_string, s0, "@{s0}^{s1}"),
    (troop_get_slot, ":var7", ":var0", ":var5"),
    (troop_get_inventory_slot, ":var8", ":var0", ek_item_2),
    (try_begin),
      (ge, ":var8", 0),
      (str_store_item_name, s10, ":var8"),
    (else_try),
      (str_store_string, s10, "str_none"),
    (try_end),
    (val_add, ":var7", "str_hero_wpn_slot_none"),
    (str_store_string, s1, ":var7"),
    (str_store_string, s0, "@{s0}^{s1}"),
    (troop_get_slot, ":var7", ":var0", ":var6"),
    (troop_get_inventory_slot, ":var8", ":var0", ek_item_3),
    (try_begin),
      (ge, ":var8", 0),
      (str_store_item_name, s10, ":var8"),
    (else_try),
      (str_store_string, s10, "str_none"),
    (try_end),
    (val_add, ":var7", "str_hero_wpn_slot_none"),
    (str_store_string, s1, ":var7"),
    (str_store_string, s0, "@{s0}^{s1}"),
  ]),

  ("copy_upgrade_to_all_heroes",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (eq, ":var1", 1),
      (troop_get_slot, ":var2", ":var0", 187),
      (troop_get_slot, ":var3", ":var0", 188),
      (troop_get_slot, ":var4", ":var0", 189),
      (troop_get_slot, ":var5", ":var0", 190),
      (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_set_slot, ":var6", 187, ":var2"),
        (troop_set_slot, ":var6", 188, ":var3"),
        (troop_set_slot, ":var6", 189, ":var4"),
        (troop_set_slot, ":var6", 190, ":var5"),
      (try_end),
    (else_try),
      (eq, ":var1", 2),
      (troop_get_slot, ":var2", ":var0", 192),
      (troop_get_slot, ":var3", ":var0", 193),
      (troop_get_slot, ":var4", ":var0", 194),
      (troop_get_slot, ":var5", ":var0", 195),
      (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_set_slot, ":var6", 192, ":var2"),
        (troop_set_slot, ":var6", 193, ":var3"),
        (troop_set_slot, ":var6", 194, ":var4"),
        (troop_set_slot, ":var6", 195, ":var5"),
      (try_end),
    (else_try),
      (eq, ":var1", 3),
      (troop_get_slot, ":var7", ":var0", 185),
      (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_set_slot, ":var6", 185, ":var7"),
      (try_end),
    (else_try),
      (eq, ":var1", 4),
      (troop_get_slot, ":var8", ":var0", 186),
      (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_set_slot, ":var6", 186, ":var8"),
      (try_end),
    (try_end),
  ]),

  ("auto_loot_all",
  [
    (try_for_range, ":var0", 0, 2),
      (party_get_num_companion_stacks, ":var1", "p_main_party"),
      (try_for_range, ":var2", 0, ":var1"),
        (party_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
        (is_between, ":var3", "trp_npc1", "trp_kingdom_1_lord"),
        (call_script, "script_auto_loot_troop", ":var3", "$pool_troop"),
      (try_end),
    (try_end),
    (troop_sort_inventory, "$pool_troop"),
  ]),

  ("auto_loot_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 185),
    (troop_get_slot, ":var3", ":var0", 186),
    (troop_get_slot, ":var4", ":var0", 191),
    (store_mul, ":var5", ":var4", 5),
    (store_add, ":var6", 187, ":var5"),
    (store_add, ":var7", 188, ":var5"),
    (store_add, ":var8", 189, ":var5"),
    (store_add, ":var9", 190, ":var5"),
    (call_script, "script_transfer_inventory", ":var0", ":var1", 0),
    (try_begin),
      (store_free_inventory_capacity, ":var10", ":var1"),
      (gt, ":var10", 0),
      (troop_slot_ge, ":var0", ":var6", 1),
      (troop_get_inventory_slot, ":var11", ":var0", ek_item_0),
      (ge, ":var11", 0),
      (assign, ":var12", ":var11"),
      (troop_get_inventory_slot_modifier, ":var13", ":var0", ek_item_0),
      (troop_set_inventory_slot, ":var0", ek_item_0, -1),
      (troop_add_item, ":var1", ":var11", ":var13"),
    (try_end),
    (try_begin),
      (store_free_inventory_capacity, ":var10", ":var1"),
      (gt, ":var10", 0),
      (troop_slot_ge, ":var0", ":var7", 1),
      (troop_get_inventory_slot, ":var11", ":var0", ek_item_1),
      (ge, ":var11", 0),
      (assign, ":var14", ":var11"),
      (troop_get_inventory_slot_modifier, ":var13", ":var0", ek_item_1),
      (troop_set_inventory_slot, ":var0", ek_item_1, -1),
      (troop_add_item, ":var1", ":var11", ":var13"),
    (try_end),
    (try_begin),
      (store_free_inventory_capacity, ":var10", ":var1"),
      (gt, ":var10", 0),
      (troop_slot_ge, ":var0", ":var8", 1),
      (troop_get_inventory_slot, ":var11", ":var0", ek_item_2),
      (ge, ":var11", 0),
      (assign, ":var15", ":var11"),
      (troop_get_inventory_slot_modifier, ":var13", ":var0", ek_item_2),
      (troop_set_inventory_slot, ":var0", ek_item_2, -1),
      (troop_add_item, ":var1", ":var11", ":var13"),
    (try_end),
    (try_begin),
      (store_free_inventory_capacity, ":var10", ":var1"),
      (gt, ":var10", 0),
      (troop_slot_ge, ":var0", ":var9", 1),
      (troop_get_inventory_slot, ":var11", ":var0", ek_item_3),
      (ge, ":var11", 0),
      (assign, ":var16", ":var11"),
      (troop_get_inventory_slot_modifier, ":var13", ":var0", ek_item_3),
      (troop_set_inventory_slot, ":var0", ek_item_3, -1),
      (troop_add_item, ":var1", ":var11", ":var13"),
    (try_end),
    (try_for_range, ":var17", 4, 9),
      (store_free_inventory_capacity, ":var10", ":var1"),
      (gt, ":var10", 0),
      (troop_get_inventory_slot, ":var11", ":var0", ":var17"),
      (ge, ":var11", 0),
      (try_begin),
        (eq, ":var17", 4),
        (assign, ":var18", ":var11"),
      (else_try),
        (eq, ":var17", 5),
        (assign, ":var19", ":var11"),
      (else_try),
        (eq, ":var17", 6),
        (assign, ":var20", ":var11"),
      (else_try),
        (eq, ":var17", 7),
        (assign, ":var21", ":var11"),
      (else_try),
        (eq, ":var17", 8),
        (assign, ":var22", ":var11"),
      (try_end),
      (troop_get_inventory_slot_modifier, ":var13", ":var0", ":var17"),
      (item_get_type, ":var23", ":var11"),
      (try_begin),
        (this_or_next|eq, ":var23", 12),
        (this_or_next|eq, ":var23", 13),
        (this_or_next|eq, ":var23", 14),
        (eq, ":var23", 15),
        (neq, ":var2", 0),
        (troop_set_inventory_slot, ":var0", ":var17", -1),
        (troop_add_item, ":var1", ":var11", ":var13"),
      (else_try),
        (eq, ":var23", 1),
        (neq, ":var3", 0),
        (troop_set_inventory_slot, ":var0", ":var17", -1),
        (troop_add_item, ":var1", ":var11", ":var13"),
      (try_end),
    (try_end),
    (assign, ":var24", -1),
    (assign, ":var25", 0),
    (assign, ":var26", -1),
    (assign, ":var27", 0),
    (assign, ":var28", -1),
    (assign, ":var29", 0),
    (assign, ":var30", -1),
    (assign, ":var31", 0),
    (assign, ":var32", -1),
    (assign, ":var33", 0),
    (troop_get_inventory_capacity, ":var34", ":var1"),
    (try_for_range, ":var17", 0, ":var34"),
      (troop_get_inventory_slot, ":var11", ":var1", ":var17"),
      (ge, ":var11", 0),
      (troop_get_inventory_slot_modifier, ":var13", ":var1", ":var17"),
      (call_script, "script_troop_can_use_item", ":var0", ":var11", ":var13"),
      (eq, reg0, 1),
      (call_script, "script_get_item_score_with_imod", ":var11", ":var13"),
      (assign, ":var35", reg0),
      (item_get_type, ":var36", ":var11"),
      (try_begin),
        (eq, ":var36", 1),
        (eq, ":var3", 1),
        (gt, ":var35", ":var33"),
        (assign, ":var32", ":var17"),
        (assign, ":var33", ":var35"),
      (else_try),
        (try_begin),
          (eq, ":var36", 12),
          (eq, ":var2", 1),
          (gt, ":var35", ":var25"),
          (assign, ":var24", ":var17"),
          (assign, ":var25", ":var35"),
        (else_try),
          (eq, ":var36", 13),
          (eq, ":var2", 1),
          (gt, ":var35", ":var27"),
          (assign, ":var26", ":var17"),
          (assign, ":var27", ":var35"),
        (else_try),
          (eq, ":var36", 14),
          (eq, ":var2", 1),
          (gt, ":var35", ":var29"),
          (assign, ":var28", ":var17"),
          (assign, ":var29", ":var35"),
        (else_try),
          (eq, ":var36", 15),
          (eq, ":var2", 1),
          (gt, ":var35", ":var31"),
          (assign, ":var30", ":var17"),
          (assign, ":var31", ":var35"),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (assign, ":var37", ":var24"),
      (ge, ":var37", 0),
      (troop_get_inventory_slot, ":var11", ":var1", ":var37"),
      (ge, ":var11", 0),
      (troop_get_inventory_slot, ":var38", ":var0", ek_head),
      (eq, ":var38", -1),
      (troop_get_inventory_slot_modifier, ":var13", ":var1", ":var37"),
      (troop_set_inventory_slot, ":var0", ek_head, ":var11"),
      (troop_set_inventory_slot_modifier, ":var0", ek_head, ":var13"),
      (troop_set_inventory_slot, ":var1", ":var37", -1),
      (neq, ":var11", ":var18"),
      (str_store_troop_name, s31, ":var0"),
      (str_store_item_name, s32, ":var11"),
      (troop_get_type, reg31, ":var0"),
      (str_store_string, s50, "@{s50}{s31} upgrades {reg31?her:his} helmet with {s32}.^"),
    (try_end),
    (try_begin),
      (assign, ":var37", ":var26"),
      (ge, ":var37", 0),
      (troop_get_inventory_slot, ":var11", ":var1", ":var37"),
      (ge, ":var11", 0),
      (troop_get_inventory_slot, ":var39", ":var0", ek_body),
      (eq, ":var39", -1),
      (troop_get_inventory_slot_modifier, ":var13", ":var1", ":var37"),
      (troop_set_inventory_slot, ":var0", ek_body, ":var11"),
      (troop_set_inventory_slot_modifier, ":var0", ek_body, ":var13"),
      (troop_set_inventory_slot, ":var1", ":var37", -1),
      (neq, ":var11", ":var19"),
      (str_store_troop_name, s31, ":var0"),
      (str_store_item_name, s32, ":var11"),
      (troop_get_type, reg31, ":var0"),
      (str_store_string, s50, "@{s50}{s31} upgrades {reg31?her:his} armor with {s32}.^"),
    (try_end),
    (try_begin),
      (assign, ":var37", ":var28"),
      (ge, ":var37", 0),
      (troop_get_inventory_slot, ":var11", ":var1", ":var37"),
      (ge, ":var11", 0),
      (troop_get_inventory_slot, ":var40", ":var0", ek_foot),
      (eq, ":var40", -1),
      (troop_get_inventory_slot_modifier, ":var13", ":var1", ":var37"),
      (troop_set_inventory_slot, ":var0", ek_foot, ":var11"),
      (troop_set_inventory_slot_modifier, ":var0", ek_foot, ":var13"),
      (troop_set_inventory_slot, ":var1", ":var37", -1),
      (neq, ":var11", ":var20"),
      (str_store_troop_name, s31, ":var0"),
      (str_store_item_name, s32, ":var11"),
      (troop_get_type, reg31, ":var0"),
      (str_store_string, s50, "@{s50}{s31} upgrades {reg31?her:his} boots with {s32}.^"),
    (try_end),
    (try_begin),
      (assign, ":var37", ":var30"),
      (ge, ":var37", 0),
      (troop_get_inventory_slot, ":var11", ":var1", ":var37"),
      (ge, ":var11", 0),
      (troop_get_inventory_slot, ":var41", ":var0", ek_gloves),
      (eq, ":var41", -1),
      (troop_get_inventory_slot_modifier, ":var13", ":var1", ":var37"),
      (troop_set_inventory_slot, ":var0", ek_gloves, ":var11"),
      (troop_set_inventory_slot_modifier, ":var0", ek_gloves, ":var13"),
      (troop_set_inventory_slot, ":var1", ":var37", -1),
      (neq, ":var11", ":var21"),
      (str_store_troop_name, s31, ":var0"),
      (str_store_item_name, s32, ":var11"),
      (troop_get_type, reg31, ":var0"),
      (str_store_string, s50, "@{s50}{s31} upgrades {reg31?her:his} gloves with {s32}.^"),
    (try_end),
    (try_begin),
      (assign, ":var37", ":var32"),
      (ge, ":var37", 0),
      (troop_get_inventory_slot, ":var11", ":var1", ":var37"),
      (ge, ":var11", 0),
      (troop_get_inventory_slot, ":var42", ":var0", ek_horse),
      (eq, ":var42", -1),
      (troop_get_inventory_slot_modifier, ":var13", ":var1", ":var37"),
      (troop_set_inventory_slot, ":var0", ek_horse, ":var11"),
      (troop_set_inventory_slot_modifier, ":var0", ek_horse, ":var13"),
      (troop_set_inventory_slot, ":var1", ":var37", -1),
      (neq, ":var11", ":var22"),
      (str_store_troop_name, s31, ":var0"),
      (str_store_item_name, s32, ":var11"),
      (troop_get_type, reg31, ":var0"),
      (str_store_string, s50, "@{s50}{s31} upgrades {reg31?her:his} horse with {s32}.^"),
    (try_end),
    (try_for_range, ":var17", 0, 4),
      (store_add, ":var43", ":var17", ":var6"),
      (troop_get_slot, ":var44", ":var0", ":var43"),
      (gt, ":var44", 0),
      (call_script, "script_scan_for_best_item_of_type", ":var1", ":var44", ":var0"),
      (assign, ":var37", reg0),
      (neq, ":var37", -1),
      (troop_get_inventory_slot, ":var11", ":var1", ":var37"),
      (ge, ":var11", 0),
      (troop_get_inventory_slot, ":var45", ":var0", ":var17"),
      (eq, ":var45", -1),
      (troop_get_inventory_slot_modifier, ":var13", ":var1", ":var37"),
      (troop_set_inventory_slot, ":var1", ":var37", -1),
      (troop_set_inventory_slot, ":var0", ":var17", ":var11"),
      (troop_set_inventory_slot_modifier, ":var0", ":var17", ":var13"),
      (neq, ":var11", ":var12"),
      (neq, ":var11", ":var14"),
      (neq, ":var11", ":var15"),
      (neq, ":var11", ":var16"),
      (str_store_troop_name, s31, ":var0"),
      (str_store_item_name, s32, ":var11"),
      (troop_get_type, reg31, ":var0"),
      (str_store_string, s50, "@{s50}{s31} upgrades {reg31?her:his} weapon with {s32}.^"),
    (try_end),
    (assign, reg50, 1),
  ]),

  ("scan_for_best_item_of_type",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", -1),
    (assign, ":var4", -1),
    (troop_get_inventory_capacity, ":var5", ":var0"),
    (try_for_range, ":var6", 0, ":var5"),
      (troop_get_inventory_slot, ":var7", ":var0", ":var6"),
      (ge, ":var7", 0),
      (troop_get_inventory_slot_modifier, ":var8", ":var0", ":var6"),
      (try_begin),
        (item_slot_eq, ":var7", 78, 1),
        (assign, ":var9", 2),
      (else_try),
        (item_get_type, ":var9", ":var7"),
      (try_end),
      (eq, ":var9", ":var1"),
      (call_script, "script_troop_can_use_item", ":var2", ":var7", ":var8"),
      (eq, reg0, 1),
      (call_script, "script_get_item_score_with_imod", ":var7", ":var8"),
      (gt, reg0, ":var4"),
      (assign, ":var3", ":var6"),
      (assign, ":var4", reg0),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("exchange_equipments_between_two_sets",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", 0, 4),
      (store_sub, ":var2", ":var0", "trp_npc1"),
      (val_mul, ":var2", 4),
      (val_add, ":var2", 10),
      (val_add, ":var2", ":var1"),
      (str_store_troop_name, s20, ":var0"),
      (assign, reg20, ":var2"),
      (display_message, "@{s20} --- dest slot {reg20}"),
      (troop_get_inventory_slot, ":var3", "trp_merchants_end", ":var2"),
      (troop_get_inventory_slot_modifier, ":var4", "trp_merchants_end", ":var2"),
      (troop_get_inventory_slot, ":var5", ":var0", ":var1"),
      (troop_get_inventory_slot_modifier, ":var6", ":var0", ":var1"),
      (troop_set_inventory_slot, "trp_merchants_end", ":var2", ":var5"),
      (troop_set_inventory_slot_modifier, "trp_merchants_end", ":var2", ":var6"),
      (troop_set_inventory_slot, ":var0", ":var1", ":var3"),
      (troop_set_inventory_slot_modifier, ":var0", ":var1", ":var4"),
    (try_end),
  ]),

  ("transfer_inventory",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_free_inventory_capacity, ":var3", ":var1"),
    (troop_sort_inventory, ":var0"),
    (troop_get_inventory_capacity, ":var4", ":var0"),
    (try_for_range, ":var5", 10, ":var4"),
      (troop_get_inventory_slot, ":var6", ":var0", ":var5"),
      (troop_get_inventory_slot_modifier, ":var7", ":var0", ":var5"),
      (gt, ":var6", -1),
      (assign, ":var8", 1),
      (try_begin),
        (eq, ":var2", 0),
        (is_between, ":var6", "itm_book_wound_treatment_reference", "itm_spice"),
        (assign, ":var8", 0),
      (try_end),
      (eq, ":var8", 1),
      (gt, ":var3", 0),
      (troop_add_item, ":var1", ":var6", ":var7"),
      (val_sub, ":var3", 1),
      (try_begin),
        (is_between, ":var6", "itm_spice", "itm_siege_supply"),
        (troop_inventory_slot_get_item_amount, ":var9", ":var0", ":var5"),
        (troop_get_inventory_capacity, ":var10", ":var1"),
        (store_sub, ":var11", ":var10", ":var3"),
        (troop_inventory_slot_set_item_amount, ":var1", ":var11", ":var9"),
      (try_end),
      (troop_set_inventory_slot, ":var0", ":var5", -1),
    (try_end),
  ]),

  ("transfer_special_inventory",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_free_inventory_capacity, ":var2", ":var1"),
    (troop_sort_inventory, ":var0"),
    (troop_get_inventory_capacity, ":var3", ":var0"),
    (try_for_range, ":var4", 10, ":var3"),
      (troop_get_inventory_slot, ":var5", ":var0", ":var4"),
      (troop_get_inventory_slot_modifier, ":var6", ":var0", ":var4"),
      (gt, ":var5", -1),
      (assign, ":var7", 0),
      (try_begin),
        (call_script, "script_get_item_value_with_imod", ":var5", ":var6"),
        (assign, ":var8", reg0),
        (val_div, ":var8", 100),
        (ge, ":var8", "$g_price_threshold_for_picking"),
        (assign, ":var7", 1),
      (else_try),
        (item_get_type, ":var9", ":var5"),
        (this_or_next|eq, ":var9", 11),
        (this_or_next|eq, ":var9", 19),
        (eq, ":var9", 20),
        (assign, ":var7", 1),
      (try_end),
      (eq, ":var7", 1),
      (gt, ":var2", 0),
      (troop_add_item, ":var1", ":var5", ":var6"),
      (val_sub, ":var2", 1),
      (try_begin),
        (is_between, ":var5", "itm_spice", "itm_siege_supply"),
        (troop_inventory_slot_get_item_amount, ":var10", ":var0", ":var4"),
        (troop_get_inventory_capacity, ":var11", ":var1"),
        (store_sub, ":var12", ":var11", ":var2"),
        (troop_inventory_slot_set_item_amount, ":var1", ":var12", ":var10"),
      (try_end),
      (troop_set_inventory_slot, ":var0", ":var4", -1),
    (try_end),
  ]),

  ("init_item_score",
  [
    (item_set_slot, itm_no_item, 69, 150),
    (item_set_slot, itm_no_item, 68, 0),
    (item_set_slot, itm_no_item, 76, 0),
    (item_set_slot, itm_no_item, 79, 522),
    (item_set_slot, itm_no_item, 80, 528),
    (item_set_slot, itm_no_item, 83, 103),
    (item_set_slot, itm_no_item, 82, 90),
    (item_set_slot, itm_tutorial_spear, 69, 450),
    (item_set_slot, itm_tutorial_spear, 68, 0),
    (item_set_slot, itm_tutorial_spear, 76, 13),
    (item_set_slot, itm_tutorial_spear, 79, 275),
    (item_set_slot, itm_tutorial_spear, 80, 0),
    (item_set_slot, itm_tutorial_spear, 83, 80),
    (item_set_slot, itm_tutorial_spear, 82, 158),
    (item_set_slot, itm_tutorial_club, 69, 250),
    (item_set_slot, itm_tutorial_club, 68, 0),
    (item_set_slot, itm_tutorial_club, 76, 0),
    (item_set_slot, itm_tutorial_club, 79, 256),
    (item_set_slot, itm_tutorial_club, 80, 523),
    (item_set_slot, itm_tutorial_club, 83, 95),
    (item_set_slot, itm_tutorial_club, 82, 95),
    (item_set_slot, itm_tutorial_battle_axe, 69, 500),
    (item_set_slot, itm_tutorial_battle_axe, 68, 0),
    (item_set_slot, itm_tutorial_battle_axe, 76, 18),
    (item_set_slot, itm_tutorial_battle_axe, 79, 256),
    (item_set_slot, itm_tutorial_battle_axe, 80, 27),
    (item_set_slot, itm_tutorial_battle_axe, 83, 88),
    (item_set_slot, itm_tutorial_battle_axe, 82, 108),
    (item_set_slot, itm_tutorial_arrows, 69, 300),
    (item_set_slot, itm_tutorial_arrows, 68, 0),
    (item_set_slot, itm_tutorial_arrows, 76, 42),
    (item_set_slot, itm_tutorial_arrows, 79, 256),
    (item_set_slot, itm_tutorial_arrows, 80, 0),
    (item_set_slot, itm_tutorial_arrows, 83, 0),
    (item_set_slot, itm_tutorial_arrows, 82, 95),
    (item_set_slot, itm_tutorial_bolts, 69, 225),
    (item_set_slot, itm_tutorial_bolts, 68, 0),
    (item_set_slot, itm_tutorial_bolts, 76, 42),
    (item_set_slot, itm_tutorial_bolts, 79, 256),
    (item_set_slot, itm_tutorial_bolts, 80, 0),
    (item_set_slot, itm_tutorial_bolts, 83, 0),
    (item_set_slot, itm_tutorial_bolts, 82, 55),
    (item_set_slot, itm_tutorial_short_bow, 69, 100),
    (item_set_slot, itm_tutorial_short_bow, 68, 0),
    (item_set_slot, itm_tutorial_short_bow, 76, 17),
    (item_set_slot, itm_tutorial_short_bow, 79, 268),
    (item_set_slot, itm_tutorial_short_bow, 80, 0),
    (item_set_slot, itm_tutorial_short_bow, 83, 98),
    (item_set_slot, itm_tutorial_short_bow, 82, 0),
    (item_set_slot, itm_tutorial_crossbow, 69, 300),
    (item_set_slot, itm_tutorial_crossbow, 68, 0),
    (item_set_slot, itm_tutorial_crossbow, 76, 17),
    (item_set_slot, itm_tutorial_crossbow, 79, 288),
    (item_set_slot, itm_tutorial_crossbow, 80, 0),
    (item_set_slot, itm_tutorial_crossbow, 83, 42),
    (item_set_slot, itm_tutorial_crossbow, 82, 0),
    (item_set_slot, itm_tutorial_throwing_daggers, 69, 350),
    (item_set_slot, itm_tutorial_throwing_daggers, 68, 0),
    (item_set_slot, itm_tutorial_throwing_daggers, 76, 42),
    (item_set_slot, itm_tutorial_throwing_daggers, 79, 16),
    (item_set_slot, itm_tutorial_throwing_daggers, 80, 0),
    (item_set_slot, itm_tutorial_throwing_daggers, 83, 102),
    (item_set_slot, itm_tutorial_throwing_daggers, 82, 0),
    (item_set_slot, itm_tutorial_saddle_horse, 69, 0),
    (item_set_slot, itm_tutorial_saddle_horse, 68, 0),
    (item_set_slot, itm_tutorial_saddle_horse, 76, 36),
    (item_set_slot, itm_tutorial_saddle_horse, 79, 40),
    (item_set_slot, itm_tutorial_saddle_horse, 80, 3),
    (item_set_slot, itm_tutorial_saddle_horse, 82, 8),
    (item_set_slot, itm_tutorial_shield, 69, 250),
    (item_set_slot, itm_tutorial_shield, 68, 0),
    (item_set_slot, itm_tutorial_shield, 76, 27),
    (item_set_slot, itm_tutorial_shield, 82, 150),
    (item_set_slot, itm_tutorial_shield, 80, 1),
    (item_set_slot, itm_tutorial_shield, 83, 82),
    (item_set_slot, itm_tutorial_staff_no_attack, 69, 350),
    (item_set_slot, itm_tutorial_staff_no_attack, 68, 0),
    (item_set_slot, itm_tutorial_staff_no_attack, 76, 0),
    (item_set_slot, itm_tutorial_staff_no_attack, 79, 512),
    (item_set_slot, itm_tutorial_staff_no_attack, 80, 512),
    (item_set_slot, itm_tutorial_staff_no_attack, 83, 120),
    (item_set_slot, itm_tutorial_staff_no_attack, 82, 115),
    (item_set_slot, itm_tutorial_staff, 69, 350),
    (item_set_slot, itm_tutorial_staff, 68, 0),
    (item_set_slot, itm_tutorial_staff, 76, 0),
    (item_set_slot, itm_tutorial_staff, 79, 528),
    (item_set_slot, itm_tutorial_staff, 80, 528),
    (item_set_slot, itm_tutorial_staff, 83, 120),
    (item_set_slot, itm_tutorial_staff, 82, 115),
    (item_set_slot, itm_tutorial_sword, 69, 150),
    (item_set_slot, itm_tutorial_sword, 68, 0),
    (item_set_slot, itm_tutorial_sword, 76, 14),
    (item_set_slot, itm_tutorial_sword, 79, 271),
    (item_set_slot, itm_tutorial_sword, 80, 18),
    (item_set_slot, itm_tutorial_sword, 83, 100),
    (item_set_slot, itm_tutorial_sword, 82, 102),
    (item_set_slot, itm_tutorial_axe, 69, 400),
    (item_set_slot, itm_tutorial_axe, 68, 0),
    (item_set_slot, itm_tutorial_axe, 76, 18),
    (item_set_slot, itm_tutorial_axe, 79, 256),
    (item_set_slot, itm_tutorial_axe, 80, 19),
    (item_set_slot, itm_tutorial_axe, 83, 91),
    (item_set_slot, itm_tutorial_axe, 82, 108),
    (item_set_slot, itm_tutorial_dagger, 69, 150),
    (item_set_slot, itm_tutorial_dagger, 68, 0),
    (item_set_slot, itm_tutorial_dagger, 76, 0),
    (item_set_slot, itm_tutorial_dagger, 79, 522),
    (item_set_slot, itm_tutorial_dagger, 80, 528),
    (item_set_slot, itm_tutorial_dagger, 83, 103),
    (item_set_slot, itm_tutorial_dagger, 82, 40),
    (item_set_slot, itm_horse_meat, 69, 4000),
    (item_set_slot, itm_horse_meat, 68, 0),
    (item_set_slot, itm_horse_meat, 76, 0),
    (item_set_slot, itm_practice_sword, 69, 150),
    (item_set_slot, itm_practice_sword, 68, 0),
    (item_set_slot, itm_practice_sword, 76, 0),
    (item_set_slot, itm_practice_sword, 79, 532),
    (item_set_slot, itm_practice_sword, 80, 534),
    (item_set_slot, itm_practice_sword, 83, 103),
    (item_set_slot, itm_practice_sword, 82, 90),
    (item_set_slot, itm_heavy_practice_sword, 69, 625),
    (item_set_slot, itm_heavy_practice_sword, 68, 0),
    (item_set_slot, itm_heavy_practice_sword, 76, 0),
    (item_set_slot, itm_heavy_practice_sword, 79, 536),
    (item_set_slot, itm_heavy_practice_sword, 80, 542),
    (item_set_slot, itm_heavy_practice_sword, 83, 94),
    (item_set_slot, itm_heavy_practice_sword, 82, 128),
    (item_set_slot, itm_practice_dagger, 69, 50),
    (item_set_slot, itm_practice_dagger, 68, 0),
    (item_set_slot, itm_practice_dagger, 76, 0),
    (item_set_slot, itm_practice_dagger, 79, 526),
    (item_set_slot, itm_practice_dagger, 80, 528),
    (item_set_slot, itm_practice_dagger, 83, 110),
    (item_set_slot, itm_practice_dagger, 82, 47),
    (item_set_slot, itm_practice_axe, 69, 200),
    (item_set_slot, itm_practice_axe, 68, 0),
    (item_set_slot, itm_practice_axe, 76, 18),
    (item_set_slot, itm_practice_axe, 79, 256),
    (item_set_slot, itm_practice_axe, 80, 536),
    (item_set_slot, itm_practice_axe, 83, 95),
    (item_set_slot, itm_practice_axe, 82, 75),
    (item_set_slot, itm_arena_axe, 69, 150),
    (item_set_slot, itm_arena_axe, 68, 0),
    (item_set_slot, itm_arena_axe, 76, 18),
    (item_set_slot, itm_arena_axe, 79, 256),
    (item_set_slot, itm_arena_axe, 80, 536),
    (item_set_slot, itm_arena_axe, 83, 100),
    (item_set_slot, itm_arena_axe, 82, 69),
    (item_set_slot, itm_arena_sword, 69, 150),
    (item_set_slot, itm_arena_sword, 68, 0),
    (item_set_slot, itm_arena_sword, 76, 17),
    (item_set_slot, itm_arena_sword, 79, 532),
    (item_set_slot, itm_arena_sword, 80, 534),
    (item_set_slot, itm_arena_sword, 83, 99),
    (item_set_slot, itm_arena_sword, 82, 95),
    (item_set_slot, itm_arena_sword_two_handed, 69, 275),
    (item_set_slot, itm_arena_sword_two_handed, 68, 0),
    (item_set_slot, itm_arena_sword_two_handed, 76, 17),
    (item_set_slot, itm_arena_sword_two_handed, 79, 536),
    (item_set_slot, itm_arena_sword_two_handed, 80, 542),
    (item_set_slot, itm_arena_sword_two_handed, 83, 93),
    (item_set_slot, itm_arena_sword_two_handed, 82, 110),
    (item_set_slot, itm_arena_lance, 69, 250),
    (item_set_slot, itm_arena_lance, 68, 0),
    (item_set_slot, itm_arena_lance, 76, 13),
    (item_set_slot, itm_arena_lance, 79, 537),
    (item_set_slot, itm_arena_lance, 80, 532),
    (item_set_slot, itm_arena_lance, 83, 96),
    (item_set_slot, itm_arena_lance, 82, 150),
    (item_set_slot, itm_practice_staff, 69, 250),
    (item_set_slot, itm_practice_staff, 68, 0),
    (item_set_slot, itm_practice_staff, 76, 0),
    (item_set_slot, itm_practice_staff, 79, 530),
    (item_set_slot, itm_practice_staff, 80, 530),
    (item_set_slot, itm_practice_staff, 83, 103),
    (item_set_slot, itm_practice_staff, 82, 118),
    (item_set_slot, itm_practice_lance, 69, 425),
    (item_set_slot, itm_practice_lance, 68, 0),
    (item_set_slot, itm_practice_lance, 76, 0),
    (item_set_slot, itm_practice_lance, 79, 527),
    (item_set_slot, itm_practice_lance, 80, 512),
    (item_set_slot, itm_practice_lance, 83, 58),
    (item_set_slot, itm_practice_lance, 82, 240),
    (item_set_slot, itm_practice_shield, 69, 350),
    (item_set_slot, itm_practice_shield, 68, 0),
    (item_set_slot, itm_practice_shield, 76, 0),
    (item_set_slot, itm_practice_shield, 82, 50),
    (item_set_slot, itm_practice_shield, 80, 1),
    (item_set_slot, itm_practice_shield, 83, 100),
    (item_set_slot, itm_practice_bow, 69, 150),
    (item_set_slot, itm_practice_bow, 68, 0),
    (item_set_slot, itm_practice_bow, 76, 17),
    (item_set_slot, itm_practice_bow, 79, 533),
    (item_set_slot, itm_practice_bow, 80, 0),
    (item_set_slot, itm_practice_bow, 83, 90),
    (item_set_slot, itm_practice_bow, 82, 0),
    (item_set_slot, itm_practice_crossbow, 69, 300),
    (item_set_slot, itm_practice_crossbow, 68, 0),
    (item_set_slot, itm_practice_crossbow, 76, 17),
    (item_set_slot, itm_practice_crossbow, 79, 544),
    (item_set_slot, itm_practice_crossbow, 80, 0),
    (item_set_slot, itm_practice_crossbow, 83, 42),
    (item_set_slot, itm_practice_crossbow, 82, 0),
    (item_set_slot, itm_practice_javelin, 69, 500),
    (item_set_slot, itm_practice_javelin, 68, 0),
    (item_set_slot, itm_practice_javelin, 76, 42),
    (item_set_slot, itm_practice_javelin, 79, 539),
    (item_set_slot, itm_practice_javelin, 80, 0),
    (item_set_slot, itm_practice_javelin, 83, 91),
    (item_set_slot, itm_practice_javelin, 82, 75),
    (item_set_slot, itm_practice_javelin_melee, 69, 100),
    (item_set_slot, itm_practice_javelin_melee, 68, 0),
    (item_set_slot, itm_practice_javelin_melee, 76, 13),
    (item_set_slot, itm_practice_javelin_melee, 79, 526),
    (item_set_slot, itm_practice_javelin_melee, 80, 524),
    (item_set_slot, itm_practice_javelin_melee, 83, 91),
    (item_set_slot, itm_practice_javelin_melee, 82, 75),
    (item_set_slot, itm_practice_throwing_daggers, 69, 350),
    (item_set_slot, itm_practice_throwing_daggers, 68, 0),
    (item_set_slot, itm_practice_throwing_daggers, 76, 42),
    (item_set_slot, itm_practice_throwing_daggers, 79, 528),
    (item_set_slot, itm_practice_throwing_daggers, 80, 0),
    (item_set_slot, itm_practice_throwing_daggers, 83, 102),
    (item_set_slot, itm_practice_throwing_daggers, 82, 0),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 69, 350),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 68, 0),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 76, 42),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 79, 528),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 80, 0),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 83, 102),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 82, 0),
    (item_set_slot, itm_practice_horse, 69, 0),
    (item_set_slot, itm_practice_horse, 68, 0),
    (item_set_slot, itm_practice_horse, 76, 0),
    (item_set_slot, itm_practice_horse, 79, 40),
    (item_set_slot, itm_practice_horse, 80, 10),
    (item_set_slot, itm_practice_horse, 82, 14),
    (item_set_slot, itm_practice_arrows, 69, 150),
    (item_set_slot, itm_practice_arrows, 68, 0),
    (item_set_slot, itm_practice_arrows, 76, 42),
    (item_set_slot, itm_practice_arrows, 79, 0),
    (item_set_slot, itm_practice_arrows, 80, 0),
    (item_set_slot, itm_practice_arrows, 83, 0),
    (item_set_slot, itm_practice_arrows, 82, 95),
    (item_set_slot, itm_practice_bolts, 69, 225),
    (item_set_slot, itm_practice_bolts, 68, 0),
    (item_set_slot, itm_practice_bolts, 76, 42),
    (item_set_slot, itm_practice_bolts, 79, 0),
    (item_set_slot, itm_practice_bolts, 80, 0),
    (item_set_slot, itm_practice_bolts, 83, 0),
    (item_set_slot, itm_practice_bolts, 82, 55),
    (item_set_slot, itm_practice_arrows_10_amount, 69, 150),
    (item_set_slot, itm_practice_arrows_10_amount, 68, 0),
    (item_set_slot, itm_practice_arrows_10_amount, 76, 42),
    (item_set_slot, itm_practice_arrows_10_amount, 79, 0),
    (item_set_slot, itm_practice_arrows_10_amount, 80, 0),
    (item_set_slot, itm_practice_arrows_10_amount, 83, 0),
    (item_set_slot, itm_practice_arrows_10_amount, 82, 95),
    (item_set_slot, itm_practice_arrows_100_amount, 69, 150),
    (item_set_slot, itm_practice_arrows_100_amount, 68, 0),
    (item_set_slot, itm_practice_arrows_100_amount, 76, 42),
    (item_set_slot, itm_practice_arrows_100_amount, 79, 0),
    (item_set_slot, itm_practice_arrows_100_amount, 80, 0),
    (item_set_slot, itm_practice_arrows_100_amount, 83, 0),
    (item_set_slot, itm_practice_arrows_100_amount, 82, 95),
    (item_set_slot, itm_practice_bolts_9_amount, 69, 225),
    (item_set_slot, itm_practice_bolts_9_amount, 68, 0),
    (item_set_slot, itm_practice_bolts_9_amount, 76, 42),
    (item_set_slot, itm_practice_bolts_9_amount, 79, 0),
    (item_set_slot, itm_practice_bolts_9_amount, 80, 0),
    (item_set_slot, itm_practice_bolts_9_amount, 83, 0),
    (item_set_slot, itm_practice_bolts_9_amount, 82, 55),
    (item_set_slot, itm_practice_boots, 69, 100),
    (item_set_slot, itm_practice_boots, 68, 0),
    (item_set_slot, itm_practice_boots, 70, 0),
    (item_set_slot, itm_practice_boots, 76, 26),
    (item_set_slot, itm_practice_boots, 79, 0),
    (item_set_slot, itm_practice_boots, 80, 0),
    (item_set_slot, itm_practice_boots, 81, 10),
    (item_set_slot, itm_book_tactics, 69, 200),
    (item_set_slot, itm_book_tactics, 68, 0),
    (item_set_slot, itm_book_tactics, 76, 0),
    (item_set_slot, itm_book_persuasion, 69, 200),
    (item_set_slot, itm_book_persuasion, 68, 0),
    (item_set_slot, itm_book_persuasion, 76, 0),
    (item_set_slot, itm_book_leadership, 69, 200),
    (item_set_slot, itm_book_leadership, 68, 0),
    (item_set_slot, itm_book_leadership, 76, 0),
    (item_set_slot, itm_book_intelligence, 69, 200),
    (item_set_slot, itm_book_intelligence, 68, 0),
    (item_set_slot, itm_book_intelligence, 76, 0),
    (item_set_slot, itm_book_trade, 69, 200),
    (item_set_slot, itm_book_trade, 68, 0),
    (item_set_slot, itm_book_trade, 76, 0),
    (item_set_slot, itm_book_weapon_mastery, 69, 200),
    (item_set_slot, itm_book_weapon_mastery, 68, 0),
    (item_set_slot, itm_book_weapon_mastery, 76, 0),
    (item_set_slot, itm_book_engineering, 69, 200),
    (item_set_slot, itm_book_engineering, 68, 0),
    (item_set_slot, itm_book_engineering, 76, 0),
    (item_set_slot, itm_book_wound_treatment_reference, 69, 200),
    (item_set_slot, itm_book_wound_treatment_reference, 68, 0),
    (item_set_slot, itm_book_wound_treatment_reference, 76, 0),
    (item_set_slot, itm_book_training_reference, 69, 200),
    (item_set_slot, itm_book_training_reference, 68, 0),
    (item_set_slot, itm_book_training_reference, 76, 0),
    (item_set_slot, itm_book_surgery_reference, 69, 200),
    (item_set_slot, itm_book_surgery_reference, 68, 0),
    (item_set_slot, itm_book_surgery_reference, 76, 0),
    (item_set_slot, itm_spice, 69, 4000),
    (item_set_slot, itm_spice, 68, 0),
    (item_set_slot, itm_spice, 76, 0),
    (item_set_slot, itm_salt, 69, 5000),
    (item_set_slot, itm_salt, 68, 0),
    (item_set_slot, itm_salt, 76, 0),
    (item_set_slot, itm_oil, 69, 5000),
    (item_set_slot, itm_oil, 68, 0),
    (item_set_slot, itm_oil, 76, 0),
    (item_set_slot, itm_pottery, 69, 5000),
    (item_set_slot, itm_pottery, 68, 0),
    (item_set_slot, itm_pottery, 76, 0),
    (item_set_slot, itm_raw_flax, 69, 4000),
    (item_set_slot, itm_raw_flax, 68, 0),
    (item_set_slot, itm_raw_flax, 76, 0),
    (item_set_slot, itm_linen, 69, 4000),
    (item_set_slot, itm_linen, 68, 0),
    (item_set_slot, itm_linen, 76, 0),
    (item_set_slot, itm_wool, 69, 4000),
    (item_set_slot, itm_wool, 68, 0),
    (item_set_slot, itm_wool, 76, 0),
    (item_set_slot, itm_wool_cloth, 69, 4000),
    (item_set_slot, itm_wool_cloth, 68, 0),
    (item_set_slot, itm_wool_cloth, 76, 0),
    (item_set_slot, itm_raw_silk, 69, 3000),
    (item_set_slot, itm_raw_silk, 68, 0),
    (item_set_slot, itm_raw_silk, 76, 0),
    (item_set_slot, itm_raw_dyes, 69, 1000),
    (item_set_slot, itm_raw_dyes, 68, 0),
    (item_set_slot, itm_raw_dyes, 76, 0),
    (item_set_slot, itm_velvet, 69, 4000),
    (item_set_slot, itm_velvet, 68, 0),
    (item_set_slot, itm_velvet, 76, 0),
    (item_set_slot, itm_iron, 69, 6000),
    (item_set_slot, itm_iron, 68, 0),
    (item_set_slot, itm_iron, 76, 0),
    (item_set_slot, itm_tools, 69, 5000),
    (item_set_slot, itm_tools, 68, 0),
    (item_set_slot, itm_tools, 76, 0),
    (item_set_slot, itm_raw_leather, 69, 4000),
    (item_set_slot, itm_raw_leather, 68, 0),
    (item_set_slot, itm_raw_leather, 76, 0),
    (item_set_slot, itm_leatherwork, 69, 4000),
    (item_set_slot, itm_leatherwork, 68, 0),
    (item_set_slot, itm_leatherwork, 76, 0),
    (item_set_slot, itm_raw_date_fruit, 69, 4000),
    (item_set_slot, itm_raw_date_fruit, 68, 0),
    (item_set_slot, itm_raw_date_fruit, 76, 0),
    (item_set_slot, itm_furs, 69, 4000),
    (item_set_slot, itm_furs, 68, 0),
    (item_set_slot, itm_furs, 76, 0),
    (item_set_slot, itm_wine, 69, 3000),
    (item_set_slot, itm_wine, 68, 0),
    (item_set_slot, itm_wine, 76, 0),
    (item_set_slot, itm_ale, 69, 3000),
    (item_set_slot, itm_ale, 68, 0),
    (item_set_slot, itm_ale, 76, 0),
    (item_set_slot, itm_smoked_fish, 69, 1500),
    (item_set_slot, itm_smoked_fish, 68, 0),
    (item_set_slot, itm_smoked_fish, 76, 0),
    (item_set_slot, itm_cheese, 69, 600),
    (item_set_slot, itm_cheese, 68, 0),
    (item_set_slot, itm_cheese, 76, 0),
    (item_set_slot, itm_honey, 69, 500),
    (item_set_slot, itm_honey, 68, 0),
    (item_set_slot, itm_honey, 76, 0),
    (item_set_slot, itm_sausages, 69, 1000),
    (item_set_slot, itm_sausages, 68, 0),
    (item_set_slot, itm_sausages, 76, 0),
    (item_set_slot, itm_cabbages, 69, 1500),
    (item_set_slot, itm_cabbages, 68, 0),
    (item_set_slot, itm_cabbages, 76, 0),
    (item_set_slot, itm_dried_meat, 69, 1500),
    (item_set_slot, itm_dried_meat, 68, 0),
    (item_set_slot, itm_dried_meat, 76, 0),
    (item_set_slot, itm_apples, 69, 2000),
    (item_set_slot, itm_apples, 68, 0),
    (item_set_slot, itm_apples, 76, 0),
    (item_set_slot, itm_raw_grapes, 69, 4000),
    (item_set_slot, itm_raw_grapes, 68, 0),
    (item_set_slot, itm_raw_grapes, 76, 0),
    (item_set_slot, itm_raw_olives, 69, 4000),
    (item_set_slot, itm_raw_olives, 68, 0),
    (item_set_slot, itm_raw_olives, 76, 0),
    (item_set_slot, itm_grain, 69, 3000),
    (item_set_slot, itm_grain, 68, 0),
    (item_set_slot, itm_grain, 76, 0),
    (item_set_slot, itm_cattle_meat, 69, 2000),
    (item_set_slot, itm_cattle_meat, 68, 0),
    (item_set_slot, itm_cattle_meat, 76, 0),
    (item_set_slot, itm_bread, 69, 3000),
    (item_set_slot, itm_bread, 68, 0),
    (item_set_slot, itm_bread, 76, 0),
    (item_set_slot, itm_chicken, 69, 1000),
    (item_set_slot, itm_chicken, 68, 0),
    (item_set_slot, itm_chicken, 76, 0),
    (item_set_slot, itm_pork, 69, 1500),
    (item_set_slot, itm_pork, 68, 0),
    (item_set_slot, itm_pork, 76, 0),
    (item_set_slot, itm_butter, 69, 600),
    (item_set_slot, itm_butter, 68, 0),
    (item_set_slot, itm_butter, 76, 0),
    (item_set_slot, itm_siege_supply, 69, 4000),
    (item_set_slot, itm_siege_supply, 68, 0),
    (item_set_slot, itm_siege_supply, 76, 0),
    (item_set_slot, itm_quest_wine, 69, 4000),
    (item_set_slot, itm_quest_wine, 68, 0),
    (item_set_slot, itm_quest_wine, 76, 0),
    (item_set_slot, itm_quest_ale, 69, 4000),
    (item_set_slot, itm_quest_ale, 68, 0),
    (item_set_slot, itm_quest_ale, 76, 0),
    (item_set_slot, itm_pilgrim_disguise, 69, 200),
    (item_set_slot, itm_pilgrim_disguise, 68, 0),
    (item_set_slot, itm_pilgrim_disguise, 70, 0),
    (item_set_slot, itm_pilgrim_disguise, 76, 26),
    (item_set_slot, itm_pilgrim_disguise, 79, 0),
    (item_set_slot, itm_pilgrim_disguise, 80, 19),
    (item_set_slot, itm_pilgrim_disguise, 81, 8),
    (item_set_slot, itm_pilgrim_hood, 69, 125),
    (item_set_slot, itm_pilgrim_hood, 68, 0),
    (item_set_slot, itm_pilgrim_hood, 70, 0),
    (item_set_slot, itm_pilgrim_hood, 76, 26),
    (item_set_slot, itm_pilgrim_hood, 79, 14),
    (item_set_slot, itm_pilgrim_hood, 80, 0),
    (item_set_slot, itm_pilgrim_hood, 81, 0),
    (item_set_slot, itm_leather_gloves, 69, 25),
    (item_set_slot, itm_leather_gloves, 68, 0),
    (item_set_slot, itm_leather_gloves, 70, 0),
    (item_set_slot, itm_leather_gloves, 76, 26),
    (item_set_slot, itm_leather_gloves, 79, 0),
    (item_set_slot, itm_leather_gloves, 80, 2),
    (item_set_slot, itm_leather_gloves, 81, 0),
    (item_set_slot, itm_mail_mittens, 69, 50),
    (item_set_slot, itm_mail_mittens, 68, 0),
    (item_set_slot, itm_mail_mittens, 70, 1),
    (item_set_slot, itm_mail_mittens, 76, 29),
    (item_set_slot, itm_mail_mittens, 79, 0),
    (item_set_slot, itm_mail_mittens, 80, 6),
    (item_set_slot, itm_mail_mittens, 81, 0),
    (item_set_slot, itm_scale_gauntlets, 69, 75),
    (item_set_slot, itm_scale_gauntlets, 68, 0),
    (item_set_slot, itm_scale_gauntlets, 70, 1),
    (item_set_slot, itm_scale_gauntlets, 76, 29),
    (item_set_slot, itm_scale_gauntlets, 79, 0),
    (item_set_slot, itm_scale_gauntlets, 80, 9),
    (item_set_slot, itm_scale_gauntlets, 81, 0),
    (item_set_slot, itm_lamellar_gauntlets, 69, 75),
    (item_set_slot, itm_lamellar_gauntlets, 68, 0),
    (item_set_slot, itm_lamellar_gauntlets, 70, 1),
    (item_set_slot, itm_lamellar_gauntlets, 76, 29),
    (item_set_slot, itm_lamellar_gauntlets, 79, 0),
    (item_set_slot, itm_lamellar_gauntlets, 80, 10),
    (item_set_slot, itm_lamellar_gauntlets, 81, 0),
    (item_set_slot, itm_hands_african, 69, 25),
    (item_set_slot, itm_hands_african, 68, 0),
    (item_set_slot, itm_hands_african, 70, 0),
    (item_set_slot, itm_hands_african, 76, 26),
    (item_set_slot, itm_hands_african, 79, 0),
    (item_set_slot, itm_hands_african, 80, 0),
    (item_set_slot, itm_hands_african, 81, 0),
    (item_set_slot, itm_splinted_leather_greaves, 69, 300),
    (item_set_slot, itm_splinted_leather_greaves, 68, 0),
    (item_set_slot, itm_splinted_leather_greaves, 70, 1),
    (item_set_slot, itm_splinted_leather_greaves, 76, 29),
    (item_set_slot, itm_splinted_leather_greaves, 79, 0),
    (item_set_slot, itm_splinted_leather_greaves, 80, 0),
    (item_set_slot, itm_splinted_leather_greaves, 81, 24),
    (item_set_slot, itm_mail_chausses, 69, 300),
    (item_set_slot, itm_mail_chausses, 68, 0),
    (item_set_slot, itm_mail_chausses, 70, 1),
    (item_set_slot, itm_mail_chausses, 76, 29),
    (item_set_slot, itm_mail_chausses, 79, 0),
    (item_set_slot, itm_mail_chausses, 80, 0),
    (item_set_slot, itm_mail_chausses, 81, 26),
    (item_set_slot, itm_splinted_greaves_long, 69, 350),
    (item_set_slot, itm_splinted_greaves_long, 68, 7),
    (item_set_slot, itm_splinted_greaves_long, 70, 1),
    (item_set_slot, itm_splinted_greaves_long, 76, 29),
    (item_set_slot, itm_splinted_greaves_long, 79, 0),
    (item_set_slot, itm_splinted_greaves_long, 80, 0),
    (item_set_slot, itm_splinted_greaves_long, 81, 28),
    (item_set_slot, itm_mail_boots_long, 69, 300),
    (item_set_slot, itm_mail_boots_long, 68, 8),
    (item_set_slot, itm_mail_boots_long, 70, 1),
    (item_set_slot, itm_mail_boots_long, 76, 29),
    (item_set_slot, itm_mail_boots_long, 79, 0),
    (item_set_slot, itm_mail_boots_long, 80, 0),
    (item_set_slot, itm_mail_boots_long, 81, 35),
    (item_set_slot, itm_kau_mail_boots_dark_long, 69, 300),
    (item_set_slot, itm_kau_mail_boots_dark_long, 68, 4),
    (item_set_slot, itm_kau_mail_boots_dark_long, 70, 1),
    (item_set_slot, itm_kau_mail_boots_dark_long, 76, 29),
    (item_set_slot, itm_kau_mail_boots_dark_long, 79, 0),
    (item_set_slot, itm_kau_mail_boots_dark_long, 80, 0),
    (item_set_slot, itm_kau_mail_boots_dark_long, 81, 25),
    (item_set_slot, itm_raf_mail_chausses, 69, 300),
    (item_set_slot, itm_raf_mail_chausses, 68, 0),
    (item_set_slot, itm_raf_mail_chausses, 70, 1),
    (item_set_slot, itm_raf_mail_chausses, 76, 29),
    (item_set_slot, itm_raf_mail_chausses, 79, 0),
    (item_set_slot, itm_raf_mail_chausses, 80, 0),
    (item_set_slot, itm_raf_mail_chausses, 81, 26),
    (item_set_slot, itm_kau_mail_boots, 69, 300),
    (item_set_slot, itm_kau_mail_boots, 68, 4),
    (item_set_slot, itm_kau_mail_boots, 70, 1),
    (item_set_slot, itm_kau_mail_boots, 76, 29),
    (item_set_slot, itm_kau_mail_boots, 79, 0),
    (item_set_slot, itm_kau_mail_boots, 80, 0),
    (item_set_slot, itm_kau_mail_boots, 81, 8),
    (item_set_slot, itm_sarranid_boots_a_long, 69, 100),
    (item_set_slot, itm_sarranid_boots_a_long, 68, 0),
    (item_set_slot, itm_sarranid_boots_a_long, 70, 0),
    (item_set_slot, itm_sarranid_boots_a_long, 76, 26),
    (item_set_slot, itm_sarranid_boots_a_long, 79, 0),
    (item_set_slot, itm_sarranid_boots_a_long, 80, 0),
    (item_set_slot, itm_sarranid_boots_a_long, 81, 8),
    (item_set_slot, itm_sarranid_boots_b_long, 69, 100),
    (item_set_slot, itm_sarranid_boots_b_long, 68, 0),
    (item_set_slot, itm_sarranid_boots_b_long, 70, 0),
    (item_set_slot, itm_sarranid_boots_b_long, 76, 26),
    (item_set_slot, itm_sarranid_boots_b_long, 79, 0),
    (item_set_slot, itm_sarranid_boots_b_long, 80, 0),
    (item_set_slot, itm_sarranid_boots_b_long, 81, 14),
    (item_set_slot, itm_sarranid_boots_c, 69, 100),
    (item_set_slot, itm_sarranid_boots_c, 68, 0),
    (item_set_slot, itm_sarranid_boots_c, 70, 0),
    (item_set_slot, itm_sarranid_boots_c, 76, 26),
    (item_set_slot, itm_sarranid_boots_c, 79, 0),
    (item_set_slot, itm_sarranid_boots_c, 80, 0),
    (item_set_slot, itm_sarranid_boots_c, 81, 14),
    (item_set_slot, itm_sarranid_boots_d_long, 69, 100),
    (item_set_slot, itm_sarranid_boots_d_long, 68, 0),
    (item_set_slot, itm_sarranid_boots_d_long, 70, 0),
    (item_set_slot, itm_sarranid_boots_d_long, 76, 26),
    (item_set_slot, itm_sarranid_boots_d_long, 79, 0),
    (item_set_slot, itm_sarranid_boots_d_long, 80, 0),
    (item_set_slot, itm_sarranid_boots_d_long, 81, 35),
    (item_set_slot, itm_mamluke_boots, 69, 125),
    (item_set_slot, itm_mamluke_boots, 68, 0),
    (item_set_slot, itm_mamluke_boots, 70, 0),
    (item_set_slot, itm_mamluke_boots, 76, 26),
    (item_set_slot, itm_mamluke_boots, 79, 0),
    (item_set_slot, itm_mamluke_boots, 80, 0),
    (item_set_slot, itm_mamluke_boots, 81, 8),
    (item_set_slot, itm_byz_lord_boots_long, 69, 300),
    (item_set_slot, itm_byz_lord_boots_long, 68, 8),
    (item_set_slot, itm_byz_lord_boots_long, 70, 1),
    (item_set_slot, itm_byz_lord_boots_long, 76, 29),
    (item_set_slot, itm_byz_lord_boots_long, 79, 0),
    (item_set_slot, itm_byz_lord_boots_long, 80, 0),
    (item_set_slot, itm_byz_lord_boots_long, 81, 12),
    (item_set_slot, itm_byz_cavalry_boots, 69, 125),
    (item_set_slot, itm_byz_cavalry_boots, 68, 0),
    (item_set_slot, itm_byz_cavalry_boots, 70, 0),
    (item_set_slot, itm_byz_cavalry_boots, 76, 26),
    (item_set_slot, itm_byz_cavalry_boots, 79, 0),
    (item_set_slot, itm_byz_cavalry_boots, 80, 0),
    (item_set_slot, itm_byz_cavalry_boots, 81, 18),
    (item_set_slot, itm_byz_boots_a, 69, 125),
    (item_set_slot, itm_byz_boots_a, 68, 0),
    (item_set_slot, itm_byz_boots_a, 70, 0),
    (item_set_slot, itm_byz_boots_a, 76, 26),
    (item_set_slot, itm_byz_boots_a, 79, 0),
    (item_set_slot, itm_byz_boots_a, 80, 0),
    (item_set_slot, itm_byz_boots_a, 81, 8),
    (item_set_slot, itm_byz_boots_b, 69, 125),
    (item_set_slot, itm_byz_boots_b, 68, 0),
    (item_set_slot, itm_byz_boots_b, 70, 0),
    (item_set_slot, itm_byz_boots_b, 76, 26),
    (item_set_slot, itm_byz_boots_b, 79, 0),
    (item_set_slot, itm_byz_boots_b, 80, 0),
    (item_set_slot, itm_byz_boots_b, 81, 8),
    (item_set_slot, itm_byzantine_greaves, 69, 300),
    (item_set_slot, itm_byzantine_greaves, 68, 0),
    (item_set_slot, itm_byzantine_greaves, 70, 1),
    (item_set_slot, itm_byzantine_greaves, 76, 29),
    (item_set_slot, itm_byzantine_greaves, 79, 0),
    (item_set_slot, itm_byzantine_greaves, 80, 0),
    (item_set_slot, itm_byzantine_greaves, 81, 24),
    (item_set_slot, itm_khergit_guard_boots, 69, 100),
    (item_set_slot, itm_khergit_guard_boots, 68, 0),
    (item_set_slot, itm_khergit_guard_boots, 70, 0),
    (item_set_slot, itm_khergit_guard_boots, 76, 26),
    (item_set_slot, itm_khergit_guard_boots, 79, 0),
    (item_set_slot, itm_khergit_guard_boots, 80, 0),
    (item_set_slot, itm_khergit_guard_boots, 81, 35),
    (item_set_slot, itm_leather_warrior_cap, 69, 100),
    (item_set_slot, itm_leather_warrior_cap, 68, 0),
    (item_set_slot, itm_leather_warrior_cap, 70, 0),
    (item_set_slot, itm_leather_warrior_cap, 76, 26),
    (item_set_slot, itm_leather_warrior_cap, 79, 20),
    (item_set_slot, itm_leather_warrior_cap, 80, 0),
    (item_set_slot, itm_leather_warrior_cap, 81, 0),
    (item_set_slot, itm_skullcap, 69, 100),
    (item_set_slot, itm_skullcap, 68, 0),
    (item_set_slot, itm_skullcap, 70, 2),
    (item_set_slot, itm_skullcap, 76, 29),
    (item_set_slot, itm_skullcap, 79, 20),
    (item_set_slot, itm_skullcap, 80, 0),
    (item_set_slot, itm_skullcap, 81, 0),
    (item_set_slot, itm_vik_spangen_b, 69, 150),
    (item_set_slot, itm_vik_spangen_b, 68, 0),
    (item_set_slot, itm_vik_spangen_b, 70, 2),
    (item_set_slot, itm_vik_spangen_b, 76, 29),
    (item_set_slot, itm_vik_spangen_b, 79, 40),
    (item_set_slot, itm_vik_spangen_b, 80, 0),
    (item_set_slot, itm_vik_spangen_b, 81, 0),
    (item_set_slot, itm_vik_norman_helmet_e, 69, 150),
    (item_set_slot, itm_vik_norman_helmet_e, 68, 0),
    (item_set_slot, itm_vik_norman_helmet_e, 70, 2),
    (item_set_slot, itm_vik_norman_helmet_e, 76, 29),
    (item_set_slot, itm_vik_norman_helmet_e, 79, 40),
    (item_set_slot, itm_vik_norman_helmet_e, 80, 0),
    (item_set_slot, itm_vik_norman_helmet_e, 81, 0),
    (item_set_slot, itm_vik_spangen_a, 69, 150),
    (item_set_slot, itm_vik_spangen_a, 68, 0),
    (item_set_slot, itm_vik_spangen_a, 70, 2),
    (item_set_slot, itm_vik_spangen_a, 76, 29),
    (item_set_slot, itm_vik_spangen_a, 79, 40),
    (item_set_slot, itm_vik_spangen_a, 80, 0),
    (item_set_slot, itm_vik_spangen_a, 81, 0),
    (item_set_slot, itm_elm2, 69, 150),
    (item_set_slot, itm_elm2, 68, 0),
    (item_set_slot, itm_elm2, 70, 0),
    (item_set_slot, itm_elm2, 76, 26),
    (item_set_slot, itm_elm2, 79, 40),
    (item_set_slot, itm_elm2, 80, 0),
    (item_set_slot, itm_elm2, 81, 0),
    (item_set_slot, itm_elm5, 69, 150),
    (item_set_slot, itm_elm5, 68, 0),
    (item_set_slot, itm_elm5, 70, 0),
    (item_set_slot, itm_elm5, 76, 26),
    (item_set_slot, itm_elm5, 79, 40),
    (item_set_slot, itm_elm5, 80, 0),
    (item_set_slot, itm_elm5, 81, 0),
    (item_set_slot, itm_norman_coif_c, 69, 150),
    (item_set_slot, itm_norman_coif_c, 68, 0),
    (item_set_slot, itm_norman_coif_c, 70, 2),
    (item_set_slot, itm_norman_coif_c, 76, 29),
    (item_set_slot, itm_norman_coif_c, 79, 40),
    (item_set_slot, itm_norman_coif_c, 80, 0),
    (item_set_slot, itm_norman_coif_c, 81, 0),
    (item_set_slot, itm_norman_coif_d, 69, 150),
    (item_set_slot, itm_norman_coif_d, 68, 0),
    (item_set_slot, itm_norman_coif_d, 70, 2),
    (item_set_slot, itm_norman_coif_d, 76, 29),
    (item_set_slot, itm_norman_coif_d, 79, 40),
    (item_set_slot, itm_norman_coif_d, 80, 0),
    (item_set_slot, itm_norman_coif_d, 81, 0),
    (item_set_slot, itm_norman_coif_e, 69, 150),
    (item_set_slot, itm_norman_coif_e, 68, 0),
    (item_set_slot, itm_norman_coif_e, 70, 2),
    (item_set_slot, itm_norman_coif_e, 76, 29),
    (item_set_slot, itm_norman_coif_e, 79, 40),
    (item_set_slot, itm_norman_coif_e, 80, 0),
    (item_set_slot, itm_norman_coif_e, 81, 0),
    (item_set_slot, itm_flat_kettle_hat, 69, 150),
    (item_set_slot, itm_flat_kettle_hat, 68, 0),
    (item_set_slot, itm_flat_kettle_hat, 76, 27),
    (item_set_slot, itm_flat_kettle_hat, 79, 40),
    (item_set_slot, itm_flat_kettle_hat, 80, 0),
    (item_set_slot, itm_flat_kettle_hat, 81, 0),
    (item_set_slot, itm_gaelic_helmet_a, 69, 150),
    (item_set_slot, itm_gaelic_helmet_a, 68, 0),
    (item_set_slot, itm_gaelic_helmet_a, 70, 0),
    (item_set_slot, itm_gaelic_helmet_a, 76, 26),
    (item_set_slot, itm_gaelic_helmet_a, 79, 40),
    (item_set_slot, itm_gaelic_helmet_a, 80, 0),
    (item_set_slot, itm_gaelic_helmet_a, 81, 0),
    (item_set_slot, itm_andalusian_helmet_c, 69, 150),
    (item_set_slot, itm_andalusian_helmet_c, 68, 0),
    (item_set_slot, itm_andalusian_helmet_c, 70, 2),
    (item_set_slot, itm_andalusian_helmet_c, 76, 29),
    (item_set_slot, itm_andalusian_helmet_c, 79, 40),
    (item_set_slot, itm_andalusian_helmet_c, 80, 0),
    (item_set_slot, itm_andalusian_helmet_c, 81, 0),
    (item_set_slot, itm_footman_helmet, 69, 150),
    (item_set_slot, itm_footman_helmet, 68, 0),
    (item_set_slot, itm_footman_helmet, 70, 2),
    (item_set_slot, itm_footman_helmet, 76, 29),
    (item_set_slot, itm_footman_helmet, 79, 40),
    (item_set_slot, itm_footman_helmet, 80, 0),
    (item_set_slot, itm_footman_helmet, 81, 0),
    (item_set_slot, itm_bishop_mitre, 69, 150),
    (item_set_slot, itm_bishop_mitre, 68, 0),
    (item_set_slot, itm_bishop_mitre, 70, 0),
    (item_set_slot, itm_bishop_mitre, 76, 26),
    (item_set_slot, itm_bishop_mitre, 79, 40),
    (item_set_slot, itm_bishop_mitre, 80, 0),
    (item_set_slot, itm_bishop_mitre, 81, 0),
    (item_set_slot, itm_kettle_cloth, 69, 150),
    (item_set_slot, itm_kettle_cloth, 68, 0),
    (item_set_slot, itm_kettle_cloth, 76, 27),
    (item_set_slot, itm_kettle_cloth, 79, 40),
    (item_set_slot, itm_kettle_cloth, 80, 0),
    (item_set_slot, itm_kettle_cloth, 81, 0),
    (item_set_slot, itm_almogavar_helmet, 69, 150),
    (item_set_slot, itm_almogavar_helmet, 68, 0),
    (item_set_slot, itm_almogavar_helmet, 70, 2),
    (item_set_slot, itm_almogavar_helmet, 76, 29),
    (item_set_slot, itm_almogavar_helmet, 79, 40),
    (item_set_slot, itm_almogavar_helmet, 80, 0),
    (item_set_slot, itm_almogavar_helmet, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_1, 69, 150),
    (item_set_slot, itm_modded_helmet_kettle_cloth_1, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_1, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_cloth_1, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_cloth_1, 79, 40),
    (item_set_slot, itm_modded_helmet_kettle_cloth_1, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_1, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_2, 69, 150),
    (item_set_slot, itm_modded_helmet_kettle_cloth_2, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_2, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_cloth_2, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_cloth_2, 79, 40),
    (item_set_slot, itm_modded_helmet_kettle_cloth_2, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_2, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_3, 69, 150),
    (item_set_slot, itm_modded_helmet_kettle_cloth_3, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_3, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_cloth_3, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_cloth_3, 79, 40),
    (item_set_slot, itm_modded_helmet_kettle_cloth_3, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_3, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_4, 69, 150),
    (item_set_slot, itm_modded_helmet_kettle_cloth_4, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_4, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_cloth_4, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_cloth_4, 79, 40),
    (item_set_slot, itm_modded_helmet_kettle_cloth_4, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_cloth_4, 81, 0),
    (item_set_slot, itm_osp_faceplate, 69, 175),
    (item_set_slot, itm_osp_faceplate, 68, 0),
    (item_set_slot, itm_osp_faceplate, 70, 2),
    (item_set_slot, itm_osp_faceplate, 76, 29),
    (item_set_slot, itm_osp_faceplate, 79, 50),
    (item_set_slot, itm_osp_faceplate, 80, 0),
    (item_set_slot, itm_osp_faceplate, 81, 0),
    (item_set_slot, itm_vik_norman_helmet_b, 69, 175),
    (item_set_slot, itm_vik_norman_helmet_b, 68, 0),
    (item_set_slot, itm_vik_norman_helmet_b, 70, 2),
    (item_set_slot, itm_vik_norman_helmet_b, 76, 29),
    (item_set_slot, itm_vik_norman_helmet_b, 79, 50),
    (item_set_slot, itm_vik_norman_helmet_b, 80, 0),
    (item_set_slot, itm_vik_norman_helmet_b, 81, 0),
    (item_set_slot, itm_norman_coif_b, 69, 175),
    (item_set_slot, itm_norman_coif_b, 68, 0),
    (item_set_slot, itm_norman_coif_b, 70, 2),
    (item_set_slot, itm_norman_coif_b, 76, 29),
    (item_set_slot, itm_norman_coif_b, 79, 50),
    (item_set_slot, itm_norman_coif_b, 80, 0),
    (item_set_slot, itm_norman_coif_b, 81, 0),
    (item_set_slot, itm_teu_kettle_hat_b, 69, 175),
    (item_set_slot, itm_teu_kettle_hat_b, 68, 0),
    (item_set_slot, itm_teu_kettle_hat_b, 76, 27),
    (item_set_slot, itm_teu_kettle_hat_b, 79, 50),
    (item_set_slot, itm_teu_kettle_hat_b, 80, 0),
    (item_set_slot, itm_teu_kettle_hat_b, 81, 0),
    (item_set_slot, itm_teu_kettle_hat_a, 69, 175),
    (item_set_slot, itm_teu_kettle_hat_a, 68, 0),
    (item_set_slot, itm_teu_kettle_hat_a, 76, 27),
    (item_set_slot, itm_teu_kettle_hat_a, 79, 50),
    (item_set_slot, itm_teu_kettle_hat_a, 80, 0),
    (item_set_slot, itm_teu_kettle_hat_a, 81, 0),
    (item_set_slot, itm_raf_spangen, 69, 175),
    (item_set_slot, itm_raf_spangen, 68, 0),
    (item_set_slot, itm_raf_spangen, 70, 2),
    (item_set_slot, itm_raf_spangen, 76, 29),
    (item_set_slot, itm_raf_spangen, 79, 50),
    (item_set_slot, itm_raf_spangen, 80, 0),
    (item_set_slot, itm_raf_spangen, 81, 0),
    (item_set_slot, itm_kettle_cloth_cape, 69, 175),
    (item_set_slot, itm_kettle_cloth_cape, 68, 0),
    (item_set_slot, itm_kettle_cloth_cape, 70, 2),
    (item_set_slot, itm_kettle_cloth_cape, 76, 29),
    (item_set_slot, itm_kettle_cloth_cape, 79, 50),
    (item_set_slot, itm_kettle_cloth_cape, 80, 0),
    (item_set_slot, itm_kettle_cloth_cape, 81, 0),
    (item_set_slot, itm_kettle_cloth_cape_b, 69, 175),
    (item_set_slot, itm_kettle_cloth_cape_b, 68, 0),
    (item_set_slot, itm_kettle_cloth_cape_b, 70, 2),
    (item_set_slot, itm_kettle_cloth_cape_b, 76, 29),
    (item_set_slot, itm_kettle_cloth_cape_b, 79, 50),
    (item_set_slot, itm_kettle_cloth_cape_b, 80, 0),
    (item_set_slot, itm_kettle_cloth_cape_b, 81, 0),
    (item_set_slot, itm_rhodok_kettle_hat_c, 69, 175),
    (item_set_slot, itm_rhodok_kettle_hat_c, 68, 0),
    (item_set_slot, itm_rhodok_kettle_hat_c, 70, 2),
    (item_set_slot, itm_rhodok_kettle_hat_c, 76, 29),
    (item_set_slot, itm_rhodok_kettle_hat_c, 79, 50),
    (item_set_slot, itm_rhodok_kettle_hat_c, 80, 0),
    (item_set_slot, itm_rhodok_kettle_hat_c, 81, 0),
    (item_set_slot, itm_hospitaller_kettlehat_a, 69, 175),
    (item_set_slot, itm_hospitaller_kettlehat_a, 68, 0),
    (item_set_slot, itm_hospitaller_kettlehat_a, 70, 2),
    (item_set_slot, itm_hospitaller_kettlehat_a, 76, 29),
    (item_set_slot, itm_hospitaller_kettlehat_a, 79, 50),
    (item_set_slot, itm_hospitaller_kettlehat_a, 80, 0),
    (item_set_slot, itm_hospitaller_kettlehat_a, 81, 0),
    (item_set_slot, itm_templar_kettlehat_a, 69, 175),
    (item_set_slot, itm_templar_kettlehat_a, 68, 0),
    (item_set_slot, itm_templar_kettlehat_a, 70, 2),
    (item_set_slot, itm_templar_kettlehat_a, 76, 29),
    (item_set_slot, itm_templar_kettlehat_a, 79, 50),
    (item_set_slot, itm_templar_kettlehat_a, 80, 0),
    (item_set_slot, itm_templar_kettlehat_a, 81, 0),
    (item_set_slot, itm_norman_coif_a, 69, 175),
    (item_set_slot, itm_norman_coif_a, 68, 0),
    (item_set_slot, itm_norman_coif_a, 70, 2),
    (item_set_slot, itm_norman_coif_a, 76, 29),
    (item_set_slot, itm_norman_coif_a, 79, 50),
    (item_set_slot, itm_norman_coif_a, 80, 0),
    (item_set_slot, itm_norman_coif_a, 81, 0),
    (item_set_slot, itm_maciejowski_kettle_hat_b, 69, 175),
    (item_set_slot, itm_maciejowski_kettle_hat_b, 68, 0),
    (item_set_slot, itm_maciejowski_kettle_hat_b, 70, 2),
    (item_set_slot, itm_maciejowski_kettle_hat_b, 76, 29),
    (item_set_slot, itm_maciejowski_kettle_hat_b, 79, 50),
    (item_set_slot, itm_maciejowski_kettle_hat_b, 80, 0),
    (item_set_slot, itm_maciejowski_kettle_hat_b, 81, 0),
    (item_set_slot, itm_maciejowski_kettle_hat_a, 69, 175),
    (item_set_slot, itm_maciejowski_kettle_hat_a, 68, 0),
    (item_set_slot, itm_maciejowski_kettle_hat_a, 70, 2),
    (item_set_slot, itm_maciejowski_kettle_hat_a, 76, 29),
    (item_set_slot, itm_maciejowski_kettle_hat_a, 79, 50),
    (item_set_slot, itm_maciejowski_kettle_hat_a, 80, 0),
    (item_set_slot, itm_maciejowski_kettle_hat_a, 81, 0),
    (item_set_slot, itm_elm8, 69, 200),
    (item_set_slot, itm_elm8, 68, 0),
    (item_set_slot, itm_elm8, 70, 0),
    (item_set_slot, itm_elm8, 76, 26),
    (item_set_slot, itm_elm8, 79, 60),
    (item_set_slot, itm_elm8, 80, 0),
    (item_set_slot, itm_elm8, 81, 0),
    (item_set_slot, itm_vik_norman_helmet_a, 69, 200),
    (item_set_slot, itm_vik_norman_helmet_a, 68, 0),
    (item_set_slot, itm_vik_norman_helmet_a, 70, 2),
    (item_set_slot, itm_vik_norman_helmet_a, 76, 29),
    (item_set_slot, itm_vik_norman_helmet_a, 79, 60),
    (item_set_slot, itm_vik_norman_helmet_a, 80, 0),
    (item_set_slot, itm_vik_norman_helmet_a, 81, 0),
    (item_set_slot, itm_wenceslav_helmet, 69, 200),
    (item_set_slot, itm_wenceslav_helmet, 68, 0),
    (item_set_slot, itm_wenceslav_helmet, 70, 2),
    (item_set_slot, itm_wenceslav_helmet, 76, 29),
    (item_set_slot, itm_wenceslav_helmet, 79, 60),
    (item_set_slot, itm_wenceslav_helmet, 80, 0),
    (item_set_slot, itm_wenceslav_helmet, 81, 0),
    (item_set_slot, itm_rhodok_nasal_helmet_a, 69, 200),
    (item_set_slot, itm_rhodok_nasal_helmet_a, 68, 0),
    (item_set_slot, itm_rhodok_nasal_helmet_a, 70, 2),
    (item_set_slot, itm_rhodok_nasal_helmet_a, 76, 29),
    (item_set_slot, itm_rhodok_nasal_helmet_a, 79, 60),
    (item_set_slot, itm_rhodok_nasal_helmet_a, 80, 0),
    (item_set_slot, itm_rhodok_nasal_helmet_a, 81, 0),
    (item_set_slot, itm_vik_norman_helmet_c, 69, 200),
    (item_set_slot, itm_vik_norman_helmet_c, 68, 0),
    (item_set_slot, itm_vik_norman_helmet_c, 70, 2),
    (item_set_slot, itm_vik_norman_helmet_c, 76, 29),
    (item_set_slot, itm_vik_norman_helmet_c, 79, 60),
    (item_set_slot, itm_vik_norman_helmet_c, 80, 0),
    (item_set_slot, itm_vik_norman_helmet_c, 81, 0),
    (item_set_slot, itm_elm3, 69, 200),
    (item_set_slot, itm_elm3, 68, 0),
    (item_set_slot, itm_elm3, 70, 0),
    (item_set_slot, itm_elm3, 76, 26),
    (item_set_slot, itm_elm3, 79, 60),
    (item_set_slot, itm_elm3, 80, 0),
    (item_set_slot, itm_elm3, 81, 0),
    (item_set_slot, itm_elm1, 69, 200),
    (item_set_slot, itm_elm1, 68, 0),
    (item_set_slot, itm_elm1, 70, 0),
    (item_set_slot, itm_elm1, 76, 26),
    (item_set_slot, itm_elm1, 79, 60),
    (item_set_slot, itm_elm1, 80, 0),
    (item_set_slot, itm_elm1, 81, 0),
    (item_set_slot, itm_kau_urgell_helmet, 69, 200),
    (item_set_slot, itm_kau_urgell_helmet, 68, 0),
    (item_set_slot, itm_kau_urgell_helmet, 70, 2),
    (item_set_slot, itm_kau_urgell_helmet, 76, 29),
    (item_set_slot, itm_kau_urgell_helmet, 79, 60),
    (item_set_slot, itm_kau_urgell_helmet, 80, 0),
    (item_set_slot, itm_kau_urgell_helmet, 81, 0),
    (item_set_slot, itm_kau_pons_helmet, 69, 200),
    (item_set_slot, itm_kau_pons_helmet, 68, 0),
    (item_set_slot, itm_kau_pons_helmet, 70, 2),
    (item_set_slot, itm_kau_pons_helmet, 76, 29),
    (item_set_slot, itm_kau_pons_helmet, 79, 60),
    (item_set_slot, itm_kau_pons_helmet, 80, 0),
    (item_set_slot, itm_kau_pons_helmet, 81, 0),
    (item_set_slot, itm_kau_epyres_helmet, 69, 200),
    (item_set_slot, itm_kau_epyres_helmet, 68, 0),
    (item_set_slot, itm_kau_epyres_helmet, 70, 2),
    (item_set_slot, itm_kau_epyres_helmet, 76, 29),
    (item_set_slot, itm_kau_epyres_helmet, 79, 60),
    (item_set_slot, itm_kau_epyres_helmet, 80, 0),
    (item_set_slot, itm_kau_epyres_helmet, 81, 0),
    (item_set_slot, itm_kau_alego_helmet, 69, 200),
    (item_set_slot, itm_kau_alego_helmet, 68, 0),
    (item_set_slot, itm_kau_alego_helmet, 70, 2),
    (item_set_slot, itm_kau_alego_helmet, 76, 29),
    (item_set_slot, itm_kau_alego_helmet, 79, 60),
    (item_set_slot, itm_kau_alego_helmet, 80, 0),
    (item_set_slot, itm_kau_alego_helmet, 81, 0),
    (item_set_slot, itm_elm9, 69, 200),
    (item_set_slot, itm_elm9, 68, 0),
    (item_set_slot, itm_elm9, 70, 0),
    (item_set_slot, itm_elm9, 76, 26),
    (item_set_slot, itm_elm9, 79, 60),
    (item_set_slot, itm_elm9, 80, 0),
    (item_set_slot, itm_elm9, 81, 0),
    (item_set_slot, itm_elm7, 69, 200),
    (item_set_slot, itm_elm7, 68, 0),
    (item_set_slot, itm_elm7, 70, 0),
    (item_set_slot, itm_elm7, 76, 26),
    (item_set_slot, itm_elm7, 79, 60),
    (item_set_slot, itm_elm7, 80, 0),
    (item_set_slot, itm_elm7, 81, 0),
    (item_set_slot, itm_elm6, 69, 200),
    (item_set_slot, itm_elm6, 68, 0),
    (item_set_slot, itm_elm6, 70, 0),
    (item_set_slot, itm_elm6, 76, 26),
    (item_set_slot, itm_elm6, 79, 60),
    (item_set_slot, itm_elm6, 80, 0),
    (item_set_slot, itm_elm6, 81, 0),
    (item_set_slot, itm_mail_coif_b, 69, 200),
    (item_set_slot, itm_mail_coif_b, 68, 0),
    (item_set_slot, itm_mail_coif_b, 70, 1),
    (item_set_slot, itm_mail_coif_b, 76, 29),
    (item_set_slot, itm_mail_coif_b, 79, 60),
    (item_set_slot, itm_mail_coif_b, 80, 0),
    (item_set_slot, itm_mail_coif_b, 81, 0),
    (item_set_slot, itm_kolpak_mail, 69, 200),
    (item_set_slot, itm_kolpak_mail, 68, 0),
    (item_set_slot, itm_kolpak_mail, 76, 27),
    (item_set_slot, itm_kolpak_mail, 79, 60),
    (item_set_slot, itm_kolpak_mail, 80, 0),
    (item_set_slot, itm_kolpak_mail, 81, 0),
    (item_set_slot, itm_teu_kettle_hat_a_mail, 69, 200),
    (item_set_slot, itm_teu_kettle_hat_a_mail, 68, 0),
    (item_set_slot, itm_teu_kettle_hat_a_mail, 70, 2),
    (item_set_slot, itm_teu_kettle_hat_a_mail, 76, 29),
    (item_set_slot, itm_teu_kettle_hat_a_mail, 79, 60),
    (item_set_slot, itm_teu_kettle_hat_a_mail, 80, 0),
    (item_set_slot, itm_teu_kettle_hat_a_mail, 81, 0),
    (item_set_slot, itm_templar_kettlehat_a_mail, 69, 200),
    (item_set_slot, itm_templar_kettlehat_a_mail, 68, 0),
    (item_set_slot, itm_templar_kettlehat_a_mail, 76, 27),
    (item_set_slot, itm_templar_kettlehat_a_mail, 79, 60),
    (item_set_slot, itm_templar_kettlehat_a_mail, 80, 0),
    (item_set_slot, itm_templar_kettlehat_a_mail, 81, 0),
    (item_set_slot, itm_hospitaller_kettlehat_a_mail, 69, 200),
    (item_set_slot, itm_hospitaller_kettlehat_a_mail, 68, 0),
    (item_set_slot, itm_hospitaller_kettlehat_a_mail, 76, 27),
    (item_set_slot, itm_hospitaller_kettlehat_a_mail, 79, 60),
    (item_set_slot, itm_hospitaller_kettlehat_a_mail, 80, 0),
    (item_set_slot, itm_hospitaller_kettlehat_a_mail, 81, 0),
    (item_set_slot, itm_rhodok_four_plated_helmet, 69, 200),
    (item_set_slot, itm_rhodok_four_plated_helmet, 68, 0),
    (item_set_slot, itm_rhodok_four_plated_helmet, 70, 2),
    (item_set_slot, itm_rhodok_four_plated_helmet, 76, 29),
    (item_set_slot, itm_rhodok_four_plated_helmet, 79, 60),
    (item_set_slot, itm_rhodok_four_plated_helmet, 80, 0),
    (item_set_slot, itm_rhodok_four_plated_helmet, 81, 0),
    (item_set_slot, itm_kettlehat_c, 69, 200),
    (item_set_slot, itm_kettlehat_c, 68, 0),
    (item_set_slot, itm_kettlehat_c, 76, 27),
    (item_set_slot, itm_kettlehat_c, 79, 60),
    (item_set_slot, itm_kettlehat_c, 80, 0),
    (item_set_slot, itm_kettlehat_c, 81, 0),
    (item_set_slot, itm_kettlehat_b, 69, 200),
    (item_set_slot, itm_kettlehat_b, 68, 0),
    (item_set_slot, itm_kettlehat_b, 76, 27),
    (item_set_slot, itm_kettlehat_b, 79, 60),
    (item_set_slot, itm_kettlehat_b, 80, 0),
    (item_set_slot, itm_kettlehat_b, 81, 0),
    (item_set_slot, itm_kettlehat_a, 69, 200),
    (item_set_slot, itm_kettlehat_a, 68, 0),
    (item_set_slot, itm_kettlehat_a, 76, 27),
    (item_set_slot, itm_kettlehat_a, 79, 60),
    (item_set_slot, itm_kettlehat_a, 80, 0),
    (item_set_slot, itm_kettlehat_a, 81, 0),
    (item_set_slot, itm_great_helmet_decorative, 69, 200),
    (item_set_slot, itm_great_helmet_decorative, 68, 0),
    (item_set_slot, itm_great_helmet_decorative, 76, 27),
    (item_set_slot, itm_great_helmet_decorative, 79, 60),
    (item_set_slot, itm_great_helmet_decorative, 80, 0),
    (item_set_slot, itm_great_helmet_decorative, 81, 0),
    (item_set_slot, itm_great_helmet_d, 69, 200),
    (item_set_slot, itm_great_helmet_d, 68, 0),
    (item_set_slot, itm_great_helmet_d, 76, 27),
    (item_set_slot, itm_great_helmet_d, 79, 60),
    (item_set_slot, itm_great_helmet_d, 80, 0),
    (item_set_slot, itm_great_helmet_d, 81, 0),
    (item_set_slot, itm_flat_topped_helmet_b, 69, 200),
    (item_set_slot, itm_flat_topped_helmet_b, 68, 0),
    (item_set_slot, itm_flat_topped_helmet_b, 70, 2),
    (item_set_slot, itm_flat_topped_helmet_b, 76, 29),
    (item_set_slot, itm_flat_topped_helmet_b, 79, 60),
    (item_set_slot, itm_flat_topped_helmet_b, 80, 0),
    (item_set_slot, itm_flat_topped_helmet_b, 81, 0),
    (item_set_slot, itm_flat_topped_helmet_a, 69, 200),
    (item_set_slot, itm_flat_topped_helmet_a, 68, 0),
    (item_set_slot, itm_flat_topped_helmet_a, 70, 2),
    (item_set_slot, itm_flat_topped_helmet_a, 76, 29),
    (item_set_slot, itm_flat_topped_helmet_a, 79, 60),
    (item_set_slot, itm_flat_topped_helmet_a, 80, 0),
    (item_set_slot, itm_flat_topped_helmet_a, 81, 0),
    (item_set_slot, itm_polski_helm, 69, 200),
    (item_set_slot, itm_polski_helm, 68, 0),
    (item_set_slot, itm_polski_helm, 70, 2),
    (item_set_slot, itm_polski_helm, 76, 29),
    (item_set_slot, itm_polski_helm, 79, 60),
    (item_set_slot, itm_polski_helm, 80, 0),
    (item_set_slot, itm_polski_helm, 81, 0),
    (item_set_slot, itm_mail_coif, 69, 200),
    (item_set_slot, itm_mail_coif, 68, 0),
    (item_set_slot, itm_mail_coif, 70, 1),
    (item_set_slot, itm_mail_coif, 76, 29),
    (item_set_slot, itm_mail_coif, 79, 60),
    (item_set_slot, itm_mail_coif, 80, 0),
    (item_set_slot, itm_mail_coif, 81, 0),
    (item_set_slot, itm_andalusian_helmet_a, 69, 200),
    (item_set_slot, itm_andalusian_helmet_a, 68, 0),
    (item_set_slot, itm_andalusian_helmet_a, 70, 2),
    (item_set_slot, itm_andalusian_helmet_a, 76, 29),
    (item_set_slot, itm_andalusian_helmet_a, 79, 60),
    (item_set_slot, itm_andalusian_helmet_a, 80, 0),
    (item_set_slot, itm_andalusian_helmet_a, 81, 0),
    (item_set_slot, itm_andalusian_helmet_b, 69, 200),
    (item_set_slot, itm_andalusian_helmet_b, 68, 0),
    (item_set_slot, itm_andalusian_helmet_b, 70, 2),
    (item_set_slot, itm_andalusian_helmet_b, 76, 29),
    (item_set_slot, itm_andalusian_helmet_b, 79, 60),
    (item_set_slot, itm_andalusian_helmet_b, 80, 0),
    (item_set_slot, itm_andalusian_helmet_b, 81, 0),
    (item_set_slot, itm_andalusian_helmet_d, 69, 200),
    (item_set_slot, itm_andalusian_helmet_d, 68, 0),
    (item_set_slot, itm_andalusian_helmet_d, 70, 2),
    (item_set_slot, itm_andalusian_helmet_d, 76, 29),
    (item_set_slot, itm_andalusian_helmet_d, 79, 60),
    (item_set_slot, itm_andalusian_helmet_d, 80, 0),
    (item_set_slot, itm_andalusian_helmet_d, 81, 0),
    (item_set_slot, itm_andalusian_helmet_e, 69, 200),
    (item_set_slot, itm_andalusian_helmet_e, 68, 0),
    (item_set_slot, itm_andalusian_helmet_e, 70, 2),
    (item_set_slot, itm_andalusian_helmet_e, 76, 29),
    (item_set_slot, itm_andalusian_helmet_e, 79, 60),
    (item_set_slot, itm_andalusian_helmet_e, 80, 0),
    (item_set_slot, itm_andalusian_helmet_e, 81, 0),
    (item_set_slot, itm_crown_coif, 69, 200),
    (item_set_slot, itm_crown_coif, 68, 0),
    (item_set_slot, itm_crown_coif, 70, 2),
    (item_set_slot, itm_crown_coif, 76, 29),
    (item_set_slot, itm_crown_coif, 79, 60),
    (item_set_slot, itm_crown_coif, 80, 0),
    (item_set_slot, itm_crown_coif, 81, 0),
    (item_set_slot, itm_aragon_crown, 69, 200),
    (item_set_slot, itm_aragon_crown, 68, 0),
    (item_set_slot, itm_aragon_crown, 70, 2),
    (item_set_slot, itm_aragon_crown, 76, 29),
    (item_set_slot, itm_aragon_crown, 79, 60),
    (item_set_slot, itm_aragon_crown, 80, 0),
    (item_set_slot, itm_aragon_crown, 81, 0),
    (item_set_slot, itm_talak_crown_ornate, 69, 200),
    (item_set_slot, itm_talak_crown_ornate, 68, 0),
    (item_set_slot, itm_talak_crown_ornate, 70, 2),
    (item_set_slot, itm_talak_crown_ornate, 76, 29),
    (item_set_slot, itm_talak_crown_ornate, 79, 60),
    (item_set_slot, itm_talak_crown_ornate, 80, 0),
    (item_set_slot, itm_talak_crown_ornate, 81, 0),
    (item_set_slot, itm_crowned_norman, 69, 200),
    (item_set_slot, itm_crowned_norman, 68, 0),
    (item_set_slot, itm_crowned_norman, 70, 2),
    (item_set_slot, itm_crowned_norman, 76, 29),
    (item_set_slot, itm_crowned_norman, 79, 60),
    (item_set_slot, itm_crowned_norman, 80, 0),
    (item_set_slot, itm_crowned_norman, 81, 0),
    (item_set_slot, itm_kettlehat_d, 69, 200),
    (item_set_slot, itm_kettlehat_d, 68, 0),
    (item_set_slot, itm_kettlehat_d, 70, 2),
    (item_set_slot, itm_kettlehat_d, 76, 29),
    (item_set_slot, itm_kettlehat_d, 79, 60),
    (item_set_slot, itm_kettlehat_d, 80, 0),
    (item_set_slot, itm_kettlehat_d, 81, 0),
    (item_set_slot, itm_kettlehat_e, 69, 200),
    (item_set_slot, itm_kettlehat_e, 68, 0),
    (item_set_slot, itm_kettlehat_e, 70, 2),
    (item_set_slot, itm_kettlehat_e, 76, 29),
    (item_set_slot, itm_kettlehat_e, 79, 60),
    (item_set_slot, itm_kettlehat_e, 80, 0),
    (item_set_slot, itm_kettlehat_e, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_1, 69, 200),
    (item_set_slot, itm_modded_helmet_kettle_mail_1, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_1, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_mail_1, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_mail_1, 79, 60),
    (item_set_slot, itm_modded_helmet_kettle_mail_1, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_1, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_2, 69, 200),
    (item_set_slot, itm_modded_helmet_kettle_mail_2, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_2, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_mail_2, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_mail_2, 79, 60),
    (item_set_slot, itm_modded_helmet_kettle_mail_2, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_2, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_3, 69, 200),
    (item_set_slot, itm_modded_helmet_kettle_mail_3, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_3, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_mail_3, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_mail_3, 79, 60),
    (item_set_slot, itm_modded_helmet_kettle_mail_3, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_3, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_4, 69, 200),
    (item_set_slot, itm_modded_helmet_kettle_mail_4, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_4, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_mail_4, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_mail_4, 79, 60),
    (item_set_slot, itm_modded_helmet_kettle_mail_4, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_4, 81, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_5, 69, 200),
    (item_set_slot, itm_modded_helmet_kettle_mail_5, 68, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_5, 70, 2),
    (item_set_slot, itm_modded_helmet_kettle_mail_5, 76, 29),
    (item_set_slot, itm_modded_helmet_kettle_mail_5, 79, 60),
    (item_set_slot, itm_modded_helmet_kettle_mail_5, 80, 0),
    (item_set_slot, itm_modded_helmet_kettle_mail_5, 81, 0),
    (item_set_slot, itm_modded_mail_coif_1, 69, 200),
    (item_set_slot, itm_modded_mail_coif_1, 68, 0),
    (item_set_slot, itm_modded_mail_coif_1, 70, 1),
    (item_set_slot, itm_modded_mail_coif_1, 76, 29),
    (item_set_slot, itm_modded_mail_coif_1, 79, 60),
    (item_set_slot, itm_modded_mail_coif_1, 80, 0),
    (item_set_slot, itm_modded_mail_coif_1, 81, 0),
    (item_set_slot, itm_mail_coif_c, 69, 250),
    (item_set_slot, itm_mail_coif_c, 68, 0),
    (item_set_slot, itm_mail_coif_c, 70, 1),
    (item_set_slot, itm_mail_coif_c, 76, 29),
    (item_set_slot, itm_mail_coif_c, 79, 75),
    (item_set_slot, itm_mail_coif_c, 80, 0),
    (item_set_slot, itm_mail_coif_c, 81, 0),
    (item_set_slot, itm_norman_faceplate, 69, 250),
    (item_set_slot, itm_norman_faceplate, 68, 0),
    (item_set_slot, itm_norman_faceplate, 76, 27),
    (item_set_slot, itm_norman_faceplate, 79, 75),
    (item_set_slot, itm_norman_faceplate, 80, 0),
    (item_set_slot, itm_norman_faceplate, 81, 0),
    (item_set_slot, itm_frenchpepperpot2, 69, 250),
    (item_set_slot, itm_frenchpepperpot2, 68, 0),
    (item_set_slot, itm_frenchpepperpot2, 76, 27),
    (item_set_slot, itm_frenchpepperpot2, 79, 75),
    (item_set_slot, itm_frenchpepperpot2, 80, 0),
    (item_set_slot, itm_frenchpepperpot2, 81, 0),
    (item_set_slot, itm_frenchpepperpot3, 69, 250),
    (item_set_slot, itm_frenchpepperpot3, 68, 0),
    (item_set_slot, itm_frenchpepperpot3, 76, 27),
    (item_set_slot, itm_frenchpepperpot3, 79, 75),
    (item_set_slot, itm_frenchpepperpot3, 80, 0),
    (item_set_slot, itm_frenchpepperpot3, 81, 0),
    (item_set_slot, itm_munitionshelm2, 69, 250),
    (item_set_slot, itm_munitionshelm2, 68, 0),
    (item_set_slot, itm_munitionshelm2, 76, 27),
    (item_set_slot, itm_munitionshelm2, 79, 75),
    (item_set_slot, itm_munitionshelm2, 80, 0),
    (item_set_slot, itm_munitionshelm2, 81, 0),
    (item_set_slot, itm_pepperpothelm1, 69, 250),
    (item_set_slot, itm_pepperpothelm1, 68, 0),
    (item_set_slot, itm_pepperpothelm1, 76, 27),
    (item_set_slot, itm_pepperpothelm1, 79, 75),
    (item_set_slot, itm_pepperpothelm1, 80, 0),
    (item_set_slot, itm_pepperpothelm1, 81, 0),
    (item_set_slot, itm_munitionshelm1, 69, 250),
    (item_set_slot, itm_munitionshelm1, 68, 0),
    (item_set_slot, itm_munitionshelm1, 76, 27),
    (item_set_slot, itm_munitionshelm1, 79, 75),
    (item_set_slot, itm_munitionshelm1, 80, 0),
    (item_set_slot, itm_munitionshelm1, 81, 0),
    (item_set_slot, itm_frenchpepperpot, 69, 250),
    (item_set_slot, itm_frenchpepperpot, 68, 0),
    (item_set_slot, itm_frenchpepperpot, 76, 27),
    (item_set_slot, itm_frenchpepperpot, 79, 75),
    (item_set_slot, itm_frenchpepperpot, 80, 0),
    (item_set_slot, itm_frenchpepperpot, 81, 0),
    (item_set_slot, itm_modded_helmet_heavy_1, 69, 250),
    (item_set_slot, itm_modded_helmet_heavy_1, 68, 0),
    (item_set_slot, itm_modded_helmet_heavy_1, 76, 27),
    (item_set_slot, itm_modded_helmet_heavy_1, 79, 75),
    (item_set_slot, itm_modded_helmet_heavy_1, 80, 0),
    (item_set_slot, itm_modded_helmet_heavy_1, 81, 0),
    (item_set_slot, itm_modded_helmet_heavy_2, 69, 250),
    (item_set_slot, itm_modded_helmet_heavy_2, 68, 0),
    (item_set_slot, itm_modded_helmet_heavy_2, 76, 27),
    (item_set_slot, itm_modded_helmet_heavy_2, 79, 75),
    (item_set_slot, itm_modded_helmet_heavy_2, 80, 0),
    (item_set_slot, itm_modded_helmet_heavy_2, 81, 0),
    (item_set_slot, itm_modded_helmet_heavy_3, 69, 250),
    (item_set_slot, itm_modded_helmet_heavy_3, 68, 0),
    (item_set_slot, itm_modded_helmet_heavy_3, 76, 27),
    (item_set_slot, itm_modded_helmet_heavy_3, 79, 75),
    (item_set_slot, itm_modded_helmet_heavy_3, 80, 0),
    (item_set_slot, itm_modded_helmet_heavy_3, 81, 0),
    (item_set_slot, itm_osp_great_helm_b, 69, 300),
    (item_set_slot, itm_osp_great_helm_b, 68, 0),
    (item_set_slot, itm_osp_great_helm_b, 76, 27),
    (item_set_slot, itm_osp_great_helm_b, 79, 90),
    (item_set_slot, itm_osp_great_helm_b, 80, 0),
    (item_set_slot, itm_osp_great_helm_b, 81, 0),
    (item_set_slot, itm_osp_great_helm_a, 69, 300),
    (item_set_slot, itm_osp_great_helm_a, 68, 0),
    (item_set_slot, itm_osp_great_helm_a, 76, 27),
    (item_set_slot, itm_osp_great_helm_a, 79, 90),
    (item_set_slot, itm_osp_great_helm_a, 80, 0),
    (item_set_slot, itm_osp_great_helm_a, 81, 0),
    (item_set_slot, itm_winged_great_helmet, 69, 300),
    (item_set_slot, itm_winged_great_helmet, 68, 0),
    (item_set_slot, itm_winged_great_helmet, 70, 2),
    (item_set_slot, itm_winged_great_helmet, 76, 29),
    (item_set_slot, itm_winged_great_helmet, 79, 90),
    (item_set_slot, itm_winged_great_helmet, 80, 0),
    (item_set_slot, itm_winged_great_helmet, 81, 0),
    (item_set_slot, itm_maciejowski_helm, 69, 300),
    (item_set_slot, itm_maciejowski_helm, 68, 0),
    (item_set_slot, itm_maciejowski_helm, 70, 2),
    (item_set_slot, itm_maciejowski_helm, 76, 29),
    (item_set_slot, itm_maciejowski_helm, 79, 90),
    (item_set_slot, itm_maciejowski_helm, 80, 0),
    (item_set_slot, itm_maciejowski_helm, 81, 0),
    (item_set_slot, itm_bishop_great_helm, 69, 300),
    (item_set_slot, itm_bishop_great_helm, 68, 0),
    (item_set_slot, itm_bishop_great_helm, 76, 27),
    (item_set_slot, itm_bishop_great_helm, 79, 90),
    (item_set_slot, itm_bishop_great_helm, 80, 0),
    (item_set_slot, itm_bishop_great_helm, 81, 0),
    (item_set_slot, itm_helmet_with_feathers, 69, 300),
    (item_set_slot, itm_helmet_with_feathers, 68, 0),
    (item_set_slot, itm_helmet_with_feathers, 70, 2),
    (item_set_slot, itm_helmet_with_feathers, 76, 29),
    (item_set_slot, itm_helmet_with_feathers, 79, 90),
    (item_set_slot, itm_helmet_with_feathers, 80, 0),
    (item_set_slot, itm_helmet_with_feathers, 81, 0),
    (item_set_slot, itm_rhodok_great_helmet, 69, 300),
    (item_set_slot, itm_rhodok_great_helmet, 68, 0),
    (item_set_slot, itm_rhodok_great_helmet, 70, 2),
    (item_set_slot, itm_rhodok_great_helmet, 76, 29),
    (item_set_slot, itm_rhodok_great_helmet, 79, 90),
    (item_set_slot, itm_rhodok_great_helmet, 80, 0),
    (item_set_slot, itm_rhodok_great_helmet, 81, 0),
    (item_set_slot, itm_great_helmet_c, 69, 300),
    (item_set_slot, itm_great_helmet_c, 68, 0),
    (item_set_slot, itm_great_helmet_c, 76, 27),
    (item_set_slot, itm_great_helmet_c, 79, 90),
    (item_set_slot, itm_great_helmet_c, 80, 0),
    (item_set_slot, itm_great_helmet_c, 81, 0),
    (item_set_slot, itm_great_helmet_b, 69, 300),
    (item_set_slot, itm_great_helmet_b, 68, 0),
    (item_set_slot, itm_great_helmet_b, 76, 27),
    (item_set_slot, itm_great_helmet_b, 79, 90),
    (item_set_slot, itm_great_helmet_b, 80, 0),
    (item_set_slot, itm_great_helmet_b, 81, 0),
    (item_set_slot, itm_great_helmet_a, 69, 300),
    (item_set_slot, itm_great_helmet_a, 68, 0),
    (item_set_slot, itm_great_helmet_a, 76, 27),
    (item_set_slot, itm_great_helmet_a, 79, 90),
    (item_set_slot, itm_great_helmet_a, 80, 0),
    (item_set_slot, itm_great_helmet_a, 81, 0),
    (item_set_slot, itm_maciejowski_crown, 69, 300),
    (item_set_slot, itm_maciejowski_crown, 68, 0),
    (item_set_slot, itm_maciejowski_crown, 70, 2),
    (item_set_slot, itm_maciejowski_crown, 76, 29),
    (item_set_slot, itm_maciejowski_crown, 79, 90),
    (item_set_slot, itm_maciejowski_crown, 80, 0),
    (item_set_slot, itm_maciejowski_crown, 81, 0),
    (item_set_slot, itm_rnd_helm_06, 69, 300),
    (item_set_slot, itm_rnd_helm_06, 68, 0),
    (item_set_slot, itm_rnd_helm_06, 70, 2),
    (item_set_slot, itm_rnd_helm_06, 76, 29),
    (item_set_slot, itm_rnd_helm_06, 79, 90),
    (item_set_slot, itm_rnd_helm_06, 80, 0),
    (item_set_slot, itm_rnd_helm_06, 81, 0),
    (item_set_slot, itm_rnd_helm_05, 69, 300),
    (item_set_slot, itm_rnd_helm_05, 68, 0),
    (item_set_slot, itm_rnd_helm_05, 70, 2),
    (item_set_slot, itm_rnd_helm_05, 76, 29),
    (item_set_slot, itm_rnd_helm_05, 79, 90),
    (item_set_slot, itm_rnd_helm_05, 80, 0),
    (item_set_slot, itm_rnd_helm_05, 81, 0),
    (item_set_slot, itm_rnd_helm_04, 69, 300),
    (item_set_slot, itm_rnd_helm_04, 68, 0),
    (item_set_slot, itm_rnd_helm_04, 70, 2),
    (item_set_slot, itm_rnd_helm_04, 76, 29),
    (item_set_slot, itm_rnd_helm_04, 79, 90),
    (item_set_slot, itm_rnd_helm_04, 80, 0),
    (item_set_slot, itm_rnd_helm_04, 81, 0),
    (item_set_slot, itm_rnd_helm_03, 69, 300),
    (item_set_slot, itm_rnd_helm_03, 68, 0),
    (item_set_slot, itm_rnd_helm_03, 70, 2),
    (item_set_slot, itm_rnd_helm_03, 76, 29),
    (item_set_slot, itm_rnd_helm_03, 79, 90),
    (item_set_slot, itm_rnd_helm_03, 80, 0),
    (item_set_slot, itm_rnd_helm_03, 81, 0),
    (item_set_slot, itm_rnd_helm_02, 69, 300),
    (item_set_slot, itm_rnd_helm_02, 68, 0),
    (item_set_slot, itm_rnd_helm_02, 70, 2),
    (item_set_slot, itm_rnd_helm_02, 76, 29),
    (item_set_slot, itm_rnd_helm_02, 79, 90),
    (item_set_slot, itm_rnd_helm_02, 80, 0),
    (item_set_slot, itm_rnd_helm_02, 81, 0),
    (item_set_slot, itm_rnd_helm_01, 69, 300),
    (item_set_slot, itm_rnd_helm_01, 68, 0),
    (item_set_slot, itm_rnd_helm_01, 70, 2),
    (item_set_slot, itm_rnd_helm_01, 76, 29),
    (item_set_slot, itm_rnd_helm_01, 79, 90),
    (item_set_slot, itm_rnd_helm_01, 80, 0),
    (item_set_slot, itm_rnd_helm_01, 81, 0),
    (item_set_slot, itm_african_turban, 69, 100),
    (item_set_slot, itm_african_turban, 68, 0),
    (item_set_slot, itm_african_turban, 70, 0),
    (item_set_slot, itm_african_turban, 76, 26),
    (item_set_slot, itm_african_turban, 79, 20),
    (item_set_slot, itm_african_turban, 80, 0),
    (item_set_slot, itm_african_turban, 81, 0),
    (item_set_slot, itm_sarranid_mail_coif, 69, 150),
    (item_set_slot, itm_sarranid_mail_coif, 68, 0),
    (item_set_slot, itm_sarranid_mail_coif, 70, 2),
    (item_set_slot, itm_sarranid_mail_coif, 76, 29),
    (item_set_slot, itm_sarranid_mail_coif, 79, 40),
    (item_set_slot, itm_sarranid_mail_coif, 80, 0),
    (item_set_slot, itm_sarranid_mail_coif, 81, 0),
    (item_set_slot, itm_sarranid_horseman_helmet, 69, 150),
    (item_set_slot, itm_sarranid_horseman_helmet, 68, 0),
    (item_set_slot, itm_sarranid_horseman_helmet, 70, 2),
    (item_set_slot, itm_sarranid_horseman_helmet, 76, 29),
    (item_set_slot, itm_sarranid_horseman_helmet, 79, 40),
    (item_set_slot, itm_sarranid_horseman_helmet, 80, 0),
    (item_set_slot, itm_sarranid_horseman_helmet, 81, 0),
    (item_set_slot, itm_african_spangen, 69, 150),
    (item_set_slot, itm_african_spangen, 68, 0),
    (item_set_slot, itm_african_spangen, 70, 2),
    (item_set_slot, itm_african_spangen, 76, 29),
    (item_set_slot, itm_african_spangen, 79, 40),
    (item_set_slot, itm_african_spangen, 80, 0),
    (item_set_slot, itm_african_spangen, 81, 0),
    (item_set_slot, itm_mamluk_helm_b, 69, 150),
    (item_set_slot, itm_mamluk_helm_b, 68, 0),
    (item_set_slot, itm_mamluk_helm_b, 70, 2),
    (item_set_slot, itm_mamluk_helm_b, 76, 29),
    (item_set_slot, itm_mamluk_helm_b, 79, 40),
    (item_set_slot, itm_mamluk_helm_b, 80, 0),
    (item_set_slot, itm_mamluk_helm_b, 81, 0),
    (item_set_slot, itm_mamluke_helm_ventail, 69, 150),
    (item_set_slot, itm_mamluke_helm_ventail, 68, 0),
    (item_set_slot, itm_mamluke_helm_ventail, 70, 2),
    (item_set_slot, itm_mamluke_helm_ventail, 76, 29),
    (item_set_slot, itm_mamluke_helm_ventail, 79, 40),
    (item_set_slot, itm_mamluke_helm_ventail, 80, 0),
    (item_set_slot, itm_mamluke_helm_ventail, 81, 0),
    (item_set_slot, itm_megreb_spangen, 69, 150),
    (item_set_slot, itm_megreb_spangen, 68, 0),
    (item_set_slot, itm_megreb_spangen, 70, 2),
    (item_set_slot, itm_megreb_spangen, 76, 29),
    (item_set_slot, itm_megreb_spangen, 79, 40),
    (item_set_slot, itm_megreb_spangen, 80, 0),
    (item_set_slot, itm_megreb_spangen, 81, 0),
    (item_set_slot, itm_faris_helmet, 69, 150),
    (item_set_slot, itm_faris_helmet, 68, 0),
    (item_set_slot, itm_faris_helmet, 70, 2),
    (item_set_slot, itm_faris_helmet, 76, 29),
    (item_set_slot, itm_faris_helmet, 79, 40),
    (item_set_slot, itm_faris_helmet, 80, 0),
    (item_set_slot, itm_faris_helmet, 81, 0),
    (item_set_slot, itm_kufia_berber_black, 69, 175),
    (item_set_slot, itm_kufia_berber_black, 68, 0),
    (item_set_slot, itm_kufia_berber_black, 70, 2),
    (item_set_slot, itm_kufia_berber_black, 76, 29),
    (item_set_slot, itm_kufia_berber_black, 79, 50),
    (item_set_slot, itm_kufia_berber_black, 80, 0),
    (item_set_slot, itm_kufia_berber_black, 81, 0),
    (item_set_slot, itm_berber_white_turban, 69, 200),
    (item_set_slot, itm_berber_white_turban, 68, 0),
    (item_set_slot, itm_berber_white_turban, 70, 2),
    (item_set_slot, itm_berber_white_turban, 76, 29),
    (item_set_slot, itm_berber_white_turban, 79, 60),
    (item_set_slot, itm_berber_white_turban, 80, 0),
    (item_set_slot, itm_berber_white_turban, 81, 0),
    (item_set_slot, itm_arab_helmet_c, 69, 200),
    (item_set_slot, itm_arab_helmet_c, 68, 0),
    (item_set_slot, itm_arab_helmet_c, 70, 2),
    (item_set_slot, itm_arab_helmet_c, 76, 29),
    (item_set_slot, itm_arab_helmet_c, 79, 60),
    (item_set_slot, itm_arab_helmet_c, 80, 0),
    (item_set_slot, itm_arab_helmet_c, 81, 0),
    (item_set_slot, itm_arab_helmet_b, 69, 200),
    (item_set_slot, itm_arab_helmet_b, 68, 0),
    (item_set_slot, itm_arab_helmet_b, 70, 2),
    (item_set_slot, itm_arab_helmet_b, 76, 29),
    (item_set_slot, itm_arab_helmet_b, 79, 60),
    (item_set_slot, itm_arab_helmet_b, 80, 0),
    (item_set_slot, itm_arab_helmet_b, 81, 0),
    (item_set_slot, itm_arab_mail_coif, 69, 200),
    (item_set_slot, itm_arab_mail_coif, 68, 0),
    (item_set_slot, itm_arab_mail_coif, 70, 1),
    (item_set_slot, itm_arab_mail_coif, 76, 29),
    (item_set_slot, itm_arab_mail_coif, 79, 60),
    (item_set_slot, itm_arab_mail_coif, 80, 0),
    (item_set_slot, itm_arab_mail_coif, 81, 0),
    (item_set_slot, itm_mamluke_helm_b, 69, 200),
    (item_set_slot, itm_mamluke_helm_b, 68, 0),
    (item_set_slot, itm_mamluke_helm_b, 70, 2),
    (item_set_slot, itm_mamluke_helm_b, 76, 29),
    (item_set_slot, itm_mamluke_helm_b, 79, 60),
    (item_set_slot, itm_mamluke_helm_b, 80, 0),
    (item_set_slot, itm_mamluke_helm_b, 81, 0),
    (item_set_slot, itm_black_guard_helmet, 69, 200),
    (item_set_slot, itm_black_guard_helmet, 68, 0),
    (item_set_slot, itm_black_guard_helmet, 70, 2),
    (item_set_slot, itm_black_guard_helmet, 76, 29),
    (item_set_slot, itm_black_guard_helmet, 79, 60),
    (item_set_slot, itm_black_guard_helmet, 80, 0),
    (item_set_slot, itm_black_guard_helmet, 81, 0),
    (item_set_slot, itm_moor_helmet_a, 69, 200),
    (item_set_slot, itm_moor_helmet_a, 68, 0),
    (item_set_slot, itm_moor_helmet_a, 70, 2),
    (item_set_slot, itm_moor_helmet_a, 76, 29),
    (item_set_slot, itm_moor_helmet_a, 79, 60),
    (item_set_slot, itm_moor_helmet_a, 80, 0),
    (item_set_slot, itm_moor_helmet_a, 81, 0),
    (item_set_slot, itm_moor_helmet_b, 69, 200),
    (item_set_slot, itm_moor_helmet_b, 68, 0),
    (item_set_slot, itm_moor_helmet_b, 70, 2),
    (item_set_slot, itm_moor_helmet_b, 76, 29),
    (item_set_slot, itm_moor_helmet_b, 79, 60),
    (item_set_slot, itm_moor_helmet_b, 80, 0),
    (item_set_slot, itm_moor_helmet_b, 81, 0),
    (item_set_slot, itm_moor_helmet_c, 69, 200),
    (item_set_slot, itm_moor_helmet_c, 68, 0),
    (item_set_slot, itm_moor_helmet_c, 70, 2),
    (item_set_slot, itm_moor_helmet_c, 76, 29),
    (item_set_slot, itm_moor_helmet_c, 79, 60),
    (item_set_slot, itm_moor_helmet_c, 80, 0),
    (item_set_slot, itm_moor_helmet_c, 81, 0),
    (item_set_slot, itm_moor_helmet_d, 69, 200),
    (item_set_slot, itm_moor_helmet_d, 68, 0),
    (item_set_slot, itm_moor_helmet_d, 70, 2),
    (item_set_slot, itm_moor_helmet_d, 76, 29),
    (item_set_slot, itm_moor_helmet_d, 79, 60),
    (item_set_slot, itm_moor_helmet_d, 80, 0),
    (item_set_slot, itm_moor_helmet_d, 81, 0),
    (item_set_slot, itm_andalus_infantry_helmet, 69, 200),
    (item_set_slot, itm_andalus_infantry_helmet, 68, 0),
    (item_set_slot, itm_andalus_infantry_helmet, 70, 2),
    (item_set_slot, itm_andalus_infantry_helmet, 76, 29),
    (item_set_slot, itm_andalus_infantry_helmet, 79, 60),
    (item_set_slot, itm_andalus_infantry_helmet, 80, 0),
    (item_set_slot, itm_andalus_infantry_helmet, 81, 0),
    (item_set_slot, itm_andalus_helmet_a, 69, 200),
    (item_set_slot, itm_andalus_helmet_a, 68, 0),
    (item_set_slot, itm_andalus_helmet_a, 70, 2),
    (item_set_slot, itm_andalus_helmet_a, 76, 29),
    (item_set_slot, itm_andalus_helmet_a, 79, 60),
    (item_set_slot, itm_andalus_helmet_a, 80, 0),
    (item_set_slot, itm_andalus_helmet_a, 81, 0),
    (item_set_slot, itm_berber_helmet_g, 69, 200),
    (item_set_slot, itm_berber_helmet_g, 68, 0),
    (item_set_slot, itm_berber_helmet_g, 70, 2),
    (item_set_slot, itm_berber_helmet_g, 76, 29),
    (item_set_slot, itm_berber_helmet_g, 79, 60),
    (item_set_slot, itm_berber_helmet_g, 80, 0),
    (item_set_slot, itm_berber_helmet_g, 81, 0),
    (item_set_slot, itm_arab_helmet_d, 69, 200),
    (item_set_slot, itm_arab_helmet_d, 68, 0),
    (item_set_slot, itm_arab_helmet_d, 70, 1),
    (item_set_slot, itm_arab_helmet_d, 76, 29),
    (item_set_slot, itm_arab_helmet_d, 79, 60),
    (item_set_slot, itm_arab_helmet_d, 80, 0),
    (item_set_slot, itm_arab_helmet_d, 81, 0),
    (item_set_slot, itm_ghulam_helmet, 69, 250),
    (item_set_slot, itm_ghulam_helmet, 68, 0),
    (item_set_slot, itm_ghulam_helmet, 70, 2),
    (item_set_slot, itm_ghulam_helmet, 76, 29),
    (item_set_slot, itm_ghulam_helmet, 79, 75),
    (item_set_slot, itm_ghulam_helmet, 80, 0),
    (item_set_slot, itm_ghulam_helmet, 81, 0),
    (item_set_slot, itm_mamluke_helm, 69, 250),
    (item_set_slot, itm_mamluke_helm, 68, 0),
    (item_set_slot, itm_mamluke_helm, 70, 2),
    (item_set_slot, itm_mamluke_helm, 76, 29),
    (item_set_slot, itm_mamluke_helm, 79, 75),
    (item_set_slot, itm_mamluke_helm, 80, 0),
    (item_set_slot, itm_mamluke_helm, 81, 0),
    (item_set_slot, itm_seljuk_helmet, 69, 250),
    (item_set_slot, itm_seljuk_helmet, 68, 0),
    (item_set_slot, itm_seljuk_helmet, 70, 1),
    (item_set_slot, itm_seljuk_helmet, 76, 29),
    (item_set_slot, itm_seljuk_helmet, 79, 75),
    (item_set_slot, itm_seljuk_helmet, 80, 0),
    (item_set_slot, itm_seljuk_helmet, 81, 0),
    (item_set_slot, itm_byz_yoman_c, 69, 150),
    (item_set_slot, itm_byz_yoman_c, 68, 0),
    (item_set_slot, itm_byz_yoman_c, 70, 2),
    (item_set_slot, itm_byz_yoman_c, 76, 29),
    (item_set_slot, itm_byz_yoman_c, 79, 40),
    (item_set_slot, itm_byz_yoman_c, 80, 0),
    (item_set_slot, itm_byz_yoman_c, 81, 0),
    (item_set_slot, itm_byz_helmet_b, 69, 150),
    (item_set_slot, itm_byz_helmet_b, 68, 0),
    (item_set_slot, itm_byz_helmet_b, 70, 0),
    (item_set_slot, itm_byz_helmet_b, 76, 26),
    (item_set_slot, itm_byz_helmet_b, 79, 40),
    (item_set_slot, itm_byz_helmet_b, 80, 0),
    (item_set_slot, itm_byz_helmet_b, 81, 0),
    (item_set_slot, itm_byz_yoman_d, 69, 175),
    (item_set_slot, itm_byz_yoman_d, 68, 0),
    (item_set_slot, itm_byz_yoman_d, 70, 2),
    (item_set_slot, itm_byz_yoman_d, 76, 29),
    (item_set_slot, itm_byz_yoman_d, 79, 50),
    (item_set_slot, itm_byz_yoman_d, 80, 0),
    (item_set_slot, itm_byz_yoman_d, 81, 0),
    (item_set_slot, itm_elm10, 69, 200),
    (item_set_slot, itm_elm10, 68, 0),
    (item_set_slot, itm_elm10, 70, 2),
    (item_set_slot, itm_elm10, 76, 29),
    (item_set_slot, itm_elm10, 79, 60),
    (item_set_slot, itm_elm10, 80, 0),
    (item_set_slot, itm_elm10, 81, 0),
    (item_set_slot, itm_byz_helmet_golden, 69, 200),
    (item_set_slot, itm_byz_helmet_golden, 68, 0),
    (item_set_slot, itm_byz_helmet_golden, 70, 2),
    (item_set_slot, itm_byz_helmet_golden, 76, 29),
    (item_set_slot, itm_byz_helmet_golden, 79, 60),
    (item_set_slot, itm_byz_helmet_golden, 80, 0),
    (item_set_slot, itm_byz_helmet_golden, 81, 0),
    (item_set_slot, itm_rus_byzantinenoble_kettle, 69, 200),
    (item_set_slot, itm_rus_byzantinenoble_kettle, 68, 0),
    (item_set_slot, itm_rus_byzantinenoble_kettle, 70, 1),
    (item_set_slot, itm_rus_byzantinenoble_kettle, 76, 29),
    (item_set_slot, itm_rus_byzantinenoble_kettle, 79, 60),
    (item_set_slot, itm_rus_byzantinenoble_kettle, 80, 0),
    (item_set_slot, itm_rus_byzantinenoble_kettle, 81, 0),
    (item_set_slot, itm_byz_helmet_a, 69, 200),
    (item_set_slot, itm_byz_helmet_a, 68, 0),
    (item_set_slot, itm_byz_helmet_a, 70, 2),
    (item_set_slot, itm_byz_helmet_a, 76, 29),
    (item_set_slot, itm_byz_helmet_a, 79, 60),
    (item_set_slot, itm_byz_helmet_a, 80, 0),
    (item_set_slot, itm_byz_helmet_a, 81, 0),
    (item_set_slot, itm_osp_byzantion_a, 69, 250),
    (item_set_slot, itm_osp_byzantion_a, 68, 0),
    (item_set_slot, itm_osp_byzantion_a, 70, 0),
    (item_set_slot, itm_osp_byzantion_a, 76, 26),
    (item_set_slot, itm_osp_byzantion_a, 79, 75),
    (item_set_slot, itm_osp_byzantion_a, 80, 0),
    (item_set_slot, itm_osp_byzantion_a, 81, 0),
    (item_set_slot, itm_byz_yoman_b, 69, 250),
    (item_set_slot, itm_byz_yoman_b, 68, 0),
    (item_set_slot, itm_byz_yoman_b, 70, 2),
    (item_set_slot, itm_byz_yoman_b, 76, 29),
    (item_set_slot, itm_byz_yoman_b, 79, 75),
    (item_set_slot, itm_byz_yoman_b, 80, 0),
    (item_set_slot, itm_byz_yoman_b, 81, 0),
    (item_set_slot, itm_byz_yoman_a, 69, 250),
    (item_set_slot, itm_byz_yoman_a, 68, 0),
    (item_set_slot, itm_byz_yoman_a, 70, 2),
    (item_set_slot, itm_byz_yoman_a, 76, 29),
    (item_set_slot, itm_byz_yoman_a, 79, 75),
    (item_set_slot, itm_byz_yoman_a, 80, 0),
    (item_set_slot, itm_byz_yoman_a, 81, 0),
    (item_set_slot, itm_varangian_helm, 69, 250),
    (item_set_slot, itm_varangian_helm, 68, 0),
    (item_set_slot, itm_varangian_helm, 70, 2),
    (item_set_slot, itm_varangian_helm, 76, 29),
    (item_set_slot, itm_varangian_helm, 79, 80),
    (item_set_slot, itm_varangian_helm, 80, 0),
    (item_set_slot, itm_varangian_helm, 81, 0),
    (item_set_slot, itm_balt_rus_cap, 69, 100),
    (item_set_slot, itm_balt_rus_cap, 68, 0),
    (item_set_slot, itm_balt_rus_cap, 70, 0),
    (item_set_slot, itm_balt_rus_cap, 76, 26),
    (item_set_slot, itm_balt_rus_cap, 79, 20),
    (item_set_slot, itm_balt_rus_cap, 80, 0),
    (item_set_slot, itm_balt_rus_cap, 81, 0),
    (item_set_slot, itm_rus_infantry_helmet, 69, 175),
    (item_set_slot, itm_rus_infantry_helmet, 68, 0),
    (item_set_slot, itm_rus_infantry_helmet, 70, 2),
    (item_set_slot, itm_rus_infantry_helmet, 76, 29),
    (item_set_slot, itm_rus_infantry_helmet, 79, 50),
    (item_set_slot, itm_rus_infantry_helmet, 80, 0),
    (item_set_slot, itm_rus_infantry_helmet, 81, 0),
    (item_set_slot, itm_rus_militia_helmet, 69, 150),
    (item_set_slot, itm_rus_militia_helmet, 68, 0),
    (item_set_slot, itm_rus_militia_helmet, 70, 2),
    (item_set_slot, itm_rus_militia_helmet, 76, 29),
    (item_set_slot, itm_rus_militia_helmet, 79, 40),
    (item_set_slot, itm_rus_militia_helmet, 80, 0),
    (item_set_slot, itm_rus_militia_helmet, 81, 0),
    (item_set_slot, itm_bulgar_helm_b, 69, 150),
    (item_set_slot, itm_bulgar_helm_b, 68, 0),
    (item_set_slot, itm_bulgar_helm_b, 70, 0),
    (item_set_slot, itm_bulgar_helm_b, 76, 26),
    (item_set_slot, itm_bulgar_helm_b, 79, 40),
    (item_set_slot, itm_bulgar_helm_b, 80, 0),
    (item_set_slot, itm_bulgar_helm_b, 81, 0),
    (item_set_slot, itm_rus_helmet_1, 69, 200),
    (item_set_slot, itm_rus_helmet_1, 68, 0),
    (item_set_slot, itm_rus_helmet_1, 70, 2),
    (item_set_slot, itm_rus_helmet_1, 76, 29),
    (item_set_slot, itm_rus_helmet_1, 79, 60),
    (item_set_slot, itm_rus_helmet_1, 80, 0),
    (item_set_slot, itm_rus_helmet_1, 81, 0),
    (item_set_slot, itm_polovtsian_helmet, 69, 200),
    (item_set_slot, itm_polovtsian_helmet, 68, 0),
    (item_set_slot, itm_polovtsian_helmet, 70, 2),
    (item_set_slot, itm_polovtsian_helmet, 76, 29),
    (item_set_slot, itm_polovtsian_helmet, 79, 60),
    (item_set_slot, itm_polovtsian_helmet, 80, 0),
    (item_set_slot, itm_polovtsian_helmet, 81, 0),
    (item_set_slot, itm_bulgar_helm, 69, 200),
    (item_set_slot, itm_bulgar_helm, 68, 0),
    (item_set_slot, itm_bulgar_helm, 70, 0),
    (item_set_slot, itm_bulgar_helm, 76, 26),
    (item_set_slot, itm_bulgar_helm, 79, 60),
    (item_set_slot, itm_bulgar_helm, 80, 0),
    (item_set_slot, itm_bulgar_helm, 81, 0),
    (item_set_slot, itm_yaroslav_helmet, 69, 200),
    (item_set_slot, itm_yaroslav_helmet, 68, 0),
    (item_set_slot, itm_yaroslav_helmet, 70, 2),
    (item_set_slot, itm_yaroslav_helmet, 76, 29),
    (item_set_slot, itm_yaroslav_helmet, 79, 60),
    (item_set_slot, itm_yaroslav_helmet, 80, 0),
    (item_set_slot, itm_yaroslav_helmet, 81, 0),
    (item_set_slot, itm_rus_noble_helmet, 69, 200),
    (item_set_slot, itm_rus_noble_helmet, 68, 0),
    (item_set_slot, itm_rus_noble_helmet, 70, 1),
    (item_set_slot, itm_rus_noble_helmet, 76, 29),
    (item_set_slot, itm_rus_noble_helmet, 79, 60),
    (item_set_slot, itm_rus_noble_helmet, 80, 0),
    (item_set_slot, itm_rus_noble_helmet, 81, 0),
    (item_set_slot, itm_rus_helmet, 69, 200),
    (item_set_slot, itm_rus_helmet, 68, 0),
    (item_set_slot, itm_rus_helmet, 70, 2),
    (item_set_slot, itm_rus_helmet, 76, 29),
    (item_set_slot, itm_rus_helmet, 79, 60),
    (item_set_slot, itm_rus_helmet, 80, 0),
    (item_set_slot, itm_rus_helmet, 81, 0),
    (item_set_slot, itm_rus_helm_a, 69, 200),
    (item_set_slot, itm_rus_helm_a, 68, 0),
    (item_set_slot, itm_rus_helm_a, 70, 2),
    (item_set_slot, itm_rus_helm_a, 76, 29),
    (item_set_slot, itm_rus_helm_a, 79, 60),
    (item_set_slot, itm_rus_helm_a, 80, 0),
    (item_set_slot, itm_rus_helm_a, 81, 0),
    (item_set_slot, itm_rus_helmet_b, 69, 200),
    (item_set_slot, itm_rus_helmet_b, 68, 0),
    (item_set_slot, itm_rus_helmet_b, 70, 2),
    (item_set_slot, itm_rus_helmet_b, 76, 29),
    (item_set_slot, itm_rus_helmet_b, 79, 60),
    (item_set_slot, itm_rus_helmet_b, 80, 0),
    (item_set_slot, itm_rus_helmet_b, 81, 0),
    (item_set_slot, itm_rus_helmet_a, 69, 200),
    (item_set_slot, itm_rus_helmet_a, 68, 0),
    (item_set_slot, itm_rus_helmet_a, 70, 1),
    (item_set_slot, itm_rus_helmet_a, 76, 29),
    (item_set_slot, itm_rus_helmet_a, 79, 60),
    (item_set_slot, itm_rus_helmet_a, 80, 0),
    (item_set_slot, itm_rus_helmet_a, 81, 0),
    (item_set_slot, itm_kiev_helmet_1_facemail_1, 69, 250),
    (item_set_slot, itm_kiev_helmet_1_facemail_1, 68, 0),
    (item_set_slot, itm_kiev_helmet_1_facemail_1, 70, 2),
    (item_set_slot, itm_kiev_helmet_1_facemail_1, 76, 29),
    (item_set_slot, itm_kiev_helmet_1_facemail_1, 79, 75),
    (item_set_slot, itm_kiev_helmet_1_facemail_1, 80, 0),
    (item_set_slot, itm_kiev_helmet_1_facemail_1, 81, 0),
    (item_set_slot, itm_kiev_helmet_2_facemail, 69, 250),
    (item_set_slot, itm_kiev_helmet_2_facemail, 68, 0),
    (item_set_slot, itm_kiev_helmet_2_facemail, 70, 2),
    (item_set_slot, itm_kiev_helmet_2_facemail, 76, 29),
    (item_set_slot, itm_kiev_helmet_2_facemail, 79, 75),
    (item_set_slot, itm_kiev_helmet_2_facemail, 80, 0),
    (item_set_slot, itm_kiev_helmet_2_facemail, 81, 0),
    (item_set_slot, itm_nikloskoe_helmet_warrior, 69, 250),
    (item_set_slot, itm_nikloskoe_helmet_warrior, 68, 0),
    (item_set_slot, itm_nikloskoe_helmet_warrior, 70, 2),
    (item_set_slot, itm_nikloskoe_helmet_warrior, 76, 29),
    (item_set_slot, itm_nikloskoe_helmet_warrior, 79, 75),
    (item_set_slot, itm_nikloskoe_helmet_warrior, 80, 0),
    (item_set_slot, itm_nikloskoe_helmet_warrior, 81, 0),
    (item_set_slot, itm_slonim, 69, 250),
    (item_set_slot, itm_slonim, 68, 0),
    (item_set_slot, itm_slonim, 70, 2),
    (item_set_slot, itm_slonim, 76, 29),
    (item_set_slot, itm_slonim, 79, 75),
    (item_set_slot, itm_slonim, 80, 0),
    (item_set_slot, itm_slonim, 81, 0),
    (item_set_slot, itm_talak_litchina, 69, 250),
    (item_set_slot, itm_talak_litchina, 68, 0),
    (item_set_slot, itm_talak_litchina, 70, 2),
    (item_set_slot, itm_talak_litchina, 76, 29),
    (item_set_slot, itm_talak_litchina, 79, 75),
    (item_set_slot, itm_talak_litchina, 80, 0),
    (item_set_slot, itm_talak_litchina, 81, 0),
    (item_set_slot, itm_rus_mask_helmet, 69, 250),
    (item_set_slot, itm_rus_mask_helmet, 68, 0),
    (item_set_slot, itm_rus_mask_helmet, 70, 2),
    (item_set_slot, itm_rus_mask_helmet, 76, 29),
    (item_set_slot, itm_rus_mask_helmet, 79, 75),
    (item_set_slot, itm_rus_mask_helmet, 80, 0),
    (item_set_slot, itm_rus_mask_helmet, 81, 0),
    (item_set_slot, itm_vaegir_mask, 69, 250),
    (item_set_slot, itm_vaegir_mask, 68, 0),
    (item_set_slot, itm_vaegir_mask, 70, 2),
    (item_set_slot, itm_vaegir_mask, 76, 29),
    (item_set_slot, itm_vaegir_mask, 79, 75),
    (item_set_slot, itm_vaegir_mask, 80, 0),
    (item_set_slot, itm_vaegir_mask, 81, 0),
    (item_set_slot, itm_rus_helmet_2, 69, 250),
    (item_set_slot, itm_rus_helmet_2, 68, 0),
    (item_set_slot, itm_rus_helmet_2, 70, 2),
    (item_set_slot, itm_rus_helmet_2, 76, 29),
    (item_set_slot, itm_rus_helmet_2, 79, 75),
    (item_set_slot, itm_rus_helmet_2, 80, 0),
    (item_set_slot, itm_rus_helmet_2, 81, 0),
    (item_set_slot, itm_rus_helmet_3, 69, 250),
    (item_set_slot, itm_rus_helmet_3, 68, 0),
    (item_set_slot, itm_rus_helmet_3, 70, 2),
    (item_set_slot, itm_rus_helmet_3, 76, 29),
    (item_set_slot, itm_rus_helmet_3, 79, 75),
    (item_set_slot, itm_rus_helmet_3, 80, 0),
    (item_set_slot, itm_rus_helmet_3, 81, 0),
    (item_set_slot, itm_steppe_helmet, 69, 150),
    (item_set_slot, itm_steppe_helmet, 68, 0),
    (item_set_slot, itm_steppe_helmet, 70, 2),
    (item_set_slot, itm_steppe_helmet, 76, 29),
    (item_set_slot, itm_steppe_helmet, 79, 40),
    (item_set_slot, itm_steppe_helmet, 80, 0),
    (item_set_slot, itm_steppe_helmet, 81, 0),
    (item_set_slot, itm_mongol_kettle, 69, 175),
    (item_set_slot, itm_mongol_kettle, 68, 0),
    (item_set_slot, itm_mongol_kettle, 70, 2),
    (item_set_slot, itm_mongol_kettle, 76, 29),
    (item_set_slot, itm_mongol_kettle, 79, 50),
    (item_set_slot, itm_mongol_kettle, 80, 0),
    (item_set_slot, itm_mongol_kettle, 81, 0),
    (item_set_slot, itm_mongol_helmet_b, 69, 200),
    (item_set_slot, itm_mongol_helmet_b, 68, 0),
    (item_set_slot, itm_mongol_helmet_b, 70, 2),
    (item_set_slot, itm_mongol_helmet_b, 76, 29),
    (item_set_slot, itm_mongol_helmet_b, 79, 60),
    (item_set_slot, itm_mongol_helmet_b, 80, 0),
    (item_set_slot, itm_mongol_helmet_b, 81, 0),
    (item_set_slot, itm_mongol_helmet_c, 69, 200),
    (item_set_slot, itm_mongol_helmet_c, 68, 0),
    (item_set_slot, itm_mongol_helmet_c, 70, 2),
    (item_set_slot, itm_mongol_helmet_c, 76, 29),
    (item_set_slot, itm_mongol_helmet_c, 79, 60),
    (item_set_slot, itm_mongol_helmet_c, 80, 0),
    (item_set_slot, itm_mongol_helmet_c, 81, 0),
    (item_set_slot, itm_khergit_war_helmet, 69, 200),
    (item_set_slot, itm_khergit_war_helmet, 68, 0),
    (item_set_slot, itm_khergit_war_helmet, 70, 0),
    (item_set_slot, itm_khergit_war_helmet, 76, 26),
    (item_set_slot, itm_khergit_war_helmet, 79, 60),
    (item_set_slot, itm_khergit_war_helmet, 80, 0),
    (item_set_slot, itm_khergit_war_helmet, 81, 0),
    (item_set_slot, itm_khergit_guard_helmet, 69, 200),
    (item_set_slot, itm_khergit_guard_helmet, 68, 0),
    (item_set_slot, itm_khergit_guard_helmet, 70, 0),
    (item_set_slot, itm_khergit_guard_helmet, 76, 26),
    (item_set_slot, itm_khergit_guard_helmet, 79, 60),
    (item_set_slot, itm_khergit_guard_helmet, 80, 0),
    (item_set_slot, itm_khergit_guard_helmet, 81, 0),
    (item_set_slot, itm_khergit_cavalry_helmet, 69, 200),
    (item_set_slot, itm_khergit_cavalry_helmet, 68, 0),
    (item_set_slot, itm_khergit_cavalry_helmet, 70, 0),
    (item_set_slot, itm_khergit_cavalry_helmet, 76, 26),
    (item_set_slot, itm_khergit_cavalry_helmet, 79, 60),
    (item_set_slot, itm_khergit_cavalry_helmet, 80, 0),
    (item_set_slot, itm_khergit_cavalry_helmet, 81, 0),
    (item_set_slot, itm_ilkhanate_mongol_helmet, 69, 200),
    (item_set_slot, itm_ilkhanate_mongol_helmet, 68, 0),
    (item_set_slot, itm_ilkhanate_mongol_helmet, 70, 2),
    (item_set_slot, itm_ilkhanate_mongol_helmet, 76, 29),
    (item_set_slot, itm_ilkhanate_mongol_helmet, 79, 60),
    (item_set_slot, itm_ilkhanate_mongol_helmet, 80, 0),
    (item_set_slot, itm_ilkhanate_mongol_helmet, 81, 0),
    (item_set_slot, itm_mongol_helmet_d, 69, 200),
    (item_set_slot, itm_mongol_helmet_d, 68, 0),
    (item_set_slot, itm_mongol_helmet_d, 70, 2),
    (item_set_slot, itm_mongol_helmet_d, 76, 29),
    (item_set_slot, itm_mongol_helmet_d, 79, 60),
    (item_set_slot, itm_mongol_helmet_d, 80, 0),
    (item_set_slot, itm_mongol_helmet_d, 81, 0),
    (item_set_slot, itm_mongol_helmet_a, 69, 250),
    (item_set_slot, itm_mongol_helmet_a, 68, 0),
    (item_set_slot, itm_mongol_helmet_a, 70, 2),
    (item_set_slot, itm_mongol_helmet_a, 76, 29),
    (item_set_slot, itm_mongol_helmet_a, 79, 75),
    (item_set_slot, itm_mongol_helmet_a, 80, 0),
    (item_set_slot, itm_mongol_helmet_a, 81, 0),
    (item_set_slot, itm_cuman_noble_helmet, 69, 250),
    (item_set_slot, itm_cuman_noble_helmet, 68, 0),
    (item_set_slot, itm_cuman_noble_helmet, 70, 2),
    (item_set_slot, itm_cuman_noble_helmet, 76, 29),
    (item_set_slot, itm_cuman_noble_helmet, 79, 75),
    (item_set_slot, itm_cuman_noble_helmet, 80, 0),
    (item_set_slot, itm_cuman_noble_helmet, 81, 0),
    (item_set_slot, itm_kipchak_steppe_helmet, 69, 250),
    (item_set_slot, itm_kipchak_steppe_helmet, 68, 0),
    (item_set_slot, itm_kipchak_steppe_helmet, 70, 2),
    (item_set_slot, itm_kipchak_steppe_helmet, 76, 29),
    (item_set_slot, itm_kipchak_steppe_helmet, 79, 75),
    (item_set_slot, itm_kipchak_steppe_helmet, 80, 0),
    (item_set_slot, itm_kipchak_steppe_helmet, 81, 0),
    (item_set_slot, itm_balt_footman_helmet, 69, 150),
    (item_set_slot, itm_balt_footman_helmet, 68, 0),
    (item_set_slot, itm_balt_footman_helmet, 70, 2),
    (item_set_slot, itm_balt_footman_helmet, 76, 29),
    (item_set_slot, itm_balt_footman_helmet, 79, 40),
    (item_set_slot, itm_balt_footman_helmet, 80, 0),
    (item_set_slot, itm_balt_footman_helmet, 81, 0),
    (item_set_slot, itm_balt_helmet_a, 69, 150),
    (item_set_slot, itm_balt_helmet_a, 68, 0),
    (item_set_slot, itm_balt_helmet_a, 70, 2),
    (item_set_slot, itm_balt_helmet_a, 76, 29),
    (item_set_slot, itm_balt_helmet_a, 79, 40),
    (item_set_slot, itm_balt_helmet_a, 80, 0),
    (item_set_slot, itm_balt_helmet_a, 81, 0),
    (item_set_slot, itm_balt_spiked_helmet, 69, 200),
    (item_set_slot, itm_balt_spiked_helmet, 68, 0),
    (item_set_slot, itm_balt_spiked_helmet, 70, 2),
    (item_set_slot, itm_balt_spiked_helmet, 76, 29),
    (item_set_slot, itm_balt_spiked_helmet, 79, 60),
    (item_set_slot, itm_balt_spiked_helmet, 80, 0),
    (item_set_slot, itm_balt_spiked_helmet, 81, 0),
    (item_set_slot, itm_balt_helmet_b, 69, 200),
    (item_set_slot, itm_balt_helmet_b, 68, 0),
    (item_set_slot, itm_balt_helmet_b, 70, 2),
    (item_set_slot, itm_balt_helmet_b, 76, 29),
    (item_set_slot, itm_balt_helmet_b, 79, 60),
    (item_set_slot, itm_balt_helmet_b, 80, 0),
    (item_set_slot, itm_balt_helmet_b, 81, 0),
    (item_set_slot, itm_balt_helmet_c, 69, 200),
    (item_set_slot, itm_balt_helmet_c, 68, 0),
    (item_set_slot, itm_balt_helmet_c, 70, 2),
    (item_set_slot, itm_balt_helmet_c, 76, 29),
    (item_set_slot, itm_balt_helmet_c, 79, 60),
    (item_set_slot, itm_balt_helmet_c, 80, 0),
    (item_set_slot, itm_balt_helmet_c, 81, 0),
    (item_set_slot, itm_baltic_ponted_helmet, 69, 200),
    (item_set_slot, itm_baltic_ponted_helmet, 68, 0),
    (item_set_slot, itm_baltic_ponted_helmet, 70, 2),
    (item_set_slot, itm_baltic_ponted_helmet, 76, 29),
    (item_set_slot, itm_baltic_ponted_helmet, 79, 60),
    (item_set_slot, itm_baltic_ponted_helmet, 80, 0),
    (item_set_slot, itm_baltic_ponted_helmet, 81, 0),
    (item_set_slot, itm_curonian_helmet, 69, 200),
    (item_set_slot, itm_curonian_helmet, 68, 0),
    (item_set_slot, itm_curonian_helmet, 70, 2),
    (item_set_slot, itm_curonian_helmet, 76, 29),
    (item_set_slot, itm_curonian_helmet, 79, 60),
    (item_set_slot, itm_curonian_helmet, 80, 0),
    (item_set_slot, itm_curonian_helmet, 81, 0),
    (item_set_slot, itm_teu_sergeant, 69, 1400),
    (item_set_slot, itm_teu_sergeant, 68, 5),
    (item_set_slot, itm_teu_sergeant, 70, 0),
    (item_set_slot, itm_teu_sergeant, 76, 26),
    (item_set_slot, itm_teu_sergeant, 79, 0),
    (item_set_slot, itm_teu_sergeant, 80, 26),
    (item_set_slot, itm_teu_sergeant, 81, 12),
    (item_set_slot, itm_liv_sergeant, 69, 1400),
    (item_set_slot, itm_liv_sergeant, 68, 5),
    (item_set_slot, itm_liv_sergeant, 70, 0),
    (item_set_slot, itm_liv_sergeant, 76, 26),
    (item_set_slot, itm_liv_sergeant, 79, 0),
    (item_set_slot, itm_liv_sergeant, 80, 26),
    (item_set_slot, itm_liv_sergeant, 81, 12),
    (item_set_slot, itm_liv_tunic_a, 69, 1400),
    (item_set_slot, itm_liv_tunic_a, 68, 5),
    (item_set_slot, itm_liv_tunic_a, 70, 0),
    (item_set_slot, itm_liv_tunic_a, 76, 26),
    (item_set_slot, itm_liv_tunic_a, 79, 0),
    (item_set_slot, itm_liv_tunic_a, 80, 26),
    (item_set_slot, itm_liv_tunic_a, 81, 12),
    (item_set_slot, itm_teu_gambeson, 69, 1400),
    (item_set_slot, itm_teu_gambeson, 68, 5),
    (item_set_slot, itm_teu_gambeson, 70, 0),
    (item_set_slot, itm_teu_gambeson, 76, 26),
    (item_set_slot, itm_teu_gambeson, 79, 0),
    (item_set_slot, itm_teu_gambeson, 80, 26),
    (item_set_slot, itm_teu_gambeson, 81, 12),
    (item_set_slot, itm_kau_padded_mail_a, 69, 1400),
    (item_set_slot, itm_kau_padded_mail_a, 68, 5),
    (item_set_slot, itm_kau_padded_mail_a, 70, 0),
    (item_set_slot, itm_kau_padded_mail_a, 76, 26),
    (item_set_slot, itm_kau_padded_mail_a, 79, 0),
    (item_set_slot, itm_kau_padded_mail_a, 80, 26),
    (item_set_slot, itm_kau_padded_mail_a, 81, 12),
    (item_set_slot, itm_kau_haubergeon_a, 69, 1400),
    (item_set_slot, itm_kau_haubergeon_a, 68, 5),
    (item_set_slot, itm_kau_haubergeon_a, 70, 0),
    (item_set_slot, itm_kau_haubergeon_a, 76, 26),
    (item_set_slot, itm_kau_haubergeon_a, 79, 0),
    (item_set_slot, itm_kau_haubergeon_a, 80, 26),
    (item_set_slot, itm_kau_haubergeon_a, 81, 12),
    (item_set_slot, itm_kau_mail_shirt_a, 69, 1400),
    (item_set_slot, itm_kau_mail_shirt_a, 68, 5),
    (item_set_slot, itm_kau_mail_shirt_a, 70, 0),
    (item_set_slot, itm_kau_mail_shirt_a, 76, 26),
    (item_set_slot, itm_kau_mail_shirt_a, 79, 0),
    (item_set_slot, itm_kau_mail_shirt_a, 80, 26),
    (item_set_slot, itm_kau_mail_shirt_a, 81, 12),
    (item_set_slot, itm_kau_mail_shirt_d, 69, 1400),
    (item_set_slot, itm_kau_mail_shirt_d, 68, 5),
    (item_set_slot, itm_kau_mail_shirt_d, 70, 0),
    (item_set_slot, itm_kau_mail_shirt_d, 76, 26),
    (item_set_slot, itm_kau_mail_shirt_d, 79, 0),
    (item_set_slot, itm_kau_mail_shirt_d, 80, 26),
    (item_set_slot, itm_kau_mail_shirt_d, 81, 12),
    (item_set_slot, itm_genoa_mail_b, 69, 1400),
    (item_set_slot, itm_genoa_mail_b, 68, 5),
    (item_set_slot, itm_genoa_mail_b, 70, 0),
    (item_set_slot, itm_genoa_mail_b, 76, 26),
    (item_set_slot, itm_genoa_mail_b, 79, 0),
    (item_set_slot, itm_genoa_mail_b, 80, 26),
    (item_set_slot, itm_genoa_mail_b, 81, 12),
    (item_set_slot, itm_genoa_padded_b, 69, 1400),
    (item_set_slot, itm_genoa_padded_b, 68, 5),
    (item_set_slot, itm_genoa_padded_b, 70, 0),
    (item_set_slot, itm_genoa_padded_b, 76, 26),
    (item_set_slot, itm_genoa_padded_b, 79, 0),
    (item_set_slot, itm_genoa_padded_b, 80, 26),
    (item_set_slot, itm_genoa_padded_b, 81, 12),
    (item_set_slot, itm_gaelic_mail_shirt_a, 69, 1400),
    (item_set_slot, itm_gaelic_mail_shirt_a, 68, 5),
    (item_set_slot, itm_gaelic_mail_shirt_a, 70, 0),
    (item_set_slot, itm_gaelic_mail_shirt_a, 76, 26),
    (item_set_slot, itm_gaelic_mail_shirt_a, 79, 0),
    (item_set_slot, itm_gaelic_mail_shirt_a, 80, 26),
    (item_set_slot, itm_gaelic_mail_shirt_a, 81, 12),
    (item_set_slot, itm_surcoat_a, 69, 1400),
    (item_set_slot, itm_surcoat_a, 68, 5),
    (item_set_slot, itm_surcoat_a, 70, 0),
    (item_set_slot, itm_surcoat_a, 76, 26),
    (item_set_slot, itm_surcoat_a, 79, 0),
    (item_set_slot, itm_surcoat_a, 80, 26),
    (item_set_slot, itm_surcoat_a, 81, 12),
    (item_set_slot, itm_surcoat_b, 69, 1400),
    (item_set_slot, itm_surcoat_b, 68, 5),
    (item_set_slot, itm_surcoat_b, 70, 0),
    (item_set_slot, itm_surcoat_b, 76, 26),
    (item_set_slot, itm_surcoat_b, 79, 0),
    (item_set_slot, itm_surcoat_b, 80, 26),
    (item_set_slot, itm_surcoat_b, 81, 12),
    (item_set_slot, itm_surcoat_c, 69, 1400),
    (item_set_slot, itm_surcoat_c, 68, 5),
    (item_set_slot, itm_surcoat_c, 70, 0),
    (item_set_slot, itm_surcoat_c, 76, 26),
    (item_set_slot, itm_surcoat_c, 79, 0),
    (item_set_slot, itm_surcoat_c, 80, 26),
    (item_set_slot, itm_surcoat_c, 81, 12),
    (item_set_slot, itm_surcoat_d, 69, 1400),
    (item_set_slot, itm_surcoat_d, 68, 5),
    (item_set_slot, itm_surcoat_d, 70, 0),
    (item_set_slot, itm_surcoat_d, 76, 26),
    (item_set_slot, itm_surcoat_d, 79, 0),
    (item_set_slot, itm_surcoat_d, 80, 26),
    (item_set_slot, itm_surcoat_d, 81, 12),
    (item_set_slot, itm_surcoat_e, 69, 1400),
    (item_set_slot, itm_surcoat_e, 68, 5),
    (item_set_slot, itm_surcoat_e, 70, 0),
    (item_set_slot, itm_surcoat_e, 76, 26),
    (item_set_slot, itm_surcoat_e, 79, 0),
    (item_set_slot, itm_surcoat_e, 80, 26),
    (item_set_slot, itm_surcoat_e, 81, 12),
    (item_set_slot, itm_modded_gambeson_1, 69, 1400),
    (item_set_slot, itm_modded_gambeson_1, 68, 5),
    (item_set_slot, itm_modded_gambeson_1, 70, 0),
    (item_set_slot, itm_modded_gambeson_1, 76, 26),
    (item_set_slot, itm_modded_gambeson_1, 79, 0),
    (item_set_slot, itm_modded_gambeson_1, 80, 26),
    (item_set_slot, itm_modded_gambeson_1, 81, 12),
    (item_set_slot, itm_kau_turcopole_b, 69, 1400),
    (item_set_slot, itm_kau_turcopole_b, 68, 5),
    (item_set_slot, itm_kau_turcopole_b, 70, 0),
    (item_set_slot, itm_kau_turcopole_b, 76, 26),
    (item_set_slot, itm_kau_turcopole_b, 79, 0),
    (item_set_slot, itm_kau_turcopole_b, 80, 26),
    (item_set_slot, itm_kau_turcopole_b, 81, 12),
    (item_set_slot, itm_kau_turcopole_a, 69, 1400),
    (item_set_slot, itm_kau_turcopole_a, 68, 5),
    (item_set_slot, itm_kau_turcopole_a, 70, 0),
    (item_set_slot, itm_kau_turcopole_a, 76, 26),
    (item_set_slot, itm_kau_turcopole_a, 79, 0),
    (item_set_slot, itm_kau_turcopole_a, 80, 26),
    (item_set_slot, itm_kau_turcopole_a, 81, 12),
    (item_set_slot, itm_templar_gambeson_a, 69, 1400),
    (item_set_slot, itm_templar_gambeson_a, 68, 5),
    (item_set_slot, itm_templar_gambeson_a, 70, 0),
    (item_set_slot, itm_templar_gambeson_a, 76, 26),
    (item_set_slot, itm_templar_gambeson_a, 79, 0),
    (item_set_slot, itm_templar_gambeson_a, 80, 26),
    (item_set_slot, itm_templar_gambeson_a, 81, 12),
    (item_set_slot, itm_templar_mail_a, 69, 1400),
    (item_set_slot, itm_templar_mail_a, 68, 5),
    (item_set_slot, itm_templar_mail_a, 70, 0),
    (item_set_slot, itm_templar_mail_a, 76, 26),
    (item_set_slot, itm_templar_mail_a, 79, 0),
    (item_set_slot, itm_templar_mail_a, 80, 26),
    (item_set_slot, itm_templar_mail_a, 81, 12),
    (item_set_slot, itm_padded_cloth, 69, 1400),
    (item_set_slot, itm_padded_cloth, 68, 5),
    (item_set_slot, itm_padded_cloth, 70, 0),
    (item_set_slot, itm_padded_cloth, 76, 26),
    (item_set_slot, itm_padded_cloth, 79, 0),
    (item_set_slot, itm_padded_cloth, 80, 26),
    (item_set_slot, itm_padded_cloth, 81, 12),
    (item_set_slot, itm_iberian_leather_armour_c, 69, 1800),
    (item_set_slot, itm_iberian_leather_armour_c, 68, 8),
    (item_set_slot, itm_iberian_leather_armour_c, 70, 1),
    (item_set_slot, itm_iberian_leather_armour_c, 76, 29),
    (item_set_slot, itm_iberian_leather_armour_c, 79, 0),
    (item_set_slot, itm_iberian_leather_armour_c, 80, 33),
    (item_set_slot, itm_iberian_leather_armour_c, 81, 14),
    (item_set_slot, itm_iberian_leather_armour_b, 69, 1800),
    (item_set_slot, itm_iberian_leather_armour_b, 68, 8),
    (item_set_slot, itm_iberian_leather_armour_b, 70, 1),
    (item_set_slot, itm_iberian_leather_armour_b, 76, 29),
    (item_set_slot, itm_iberian_leather_armour_b, 79, 0),
    (item_set_slot, itm_iberian_leather_armour_b, 80, 33),
    (item_set_slot, itm_iberian_leather_armour_b, 81, 14),
    (item_set_slot, itm_iberian_leather_armour_a, 69, 1800),
    (item_set_slot, itm_iberian_leather_armour_a, 68, 8),
    (item_set_slot, itm_iberian_leather_armour_a, 70, 1),
    (item_set_slot, itm_iberian_leather_armour_a, 76, 29),
    (item_set_slot, itm_iberian_leather_armour_a, 79, 0),
    (item_set_slot, itm_iberian_leather_armour_a, 80, 33),
    (item_set_slot, itm_iberian_leather_armour_a, 81, 14),
    (item_set_slot, itm_genoa_padded_a, 69, 1800),
    (item_set_slot, itm_genoa_padded_a, 68, 8),
    (item_set_slot, itm_genoa_padded_a, 70, 0),
    (item_set_slot, itm_genoa_padded_a, 76, 26),
    (item_set_slot, itm_genoa_padded_a, 79, 0),
    (item_set_slot, itm_genoa_padded_a, 80, 33),
    (item_set_slot, itm_genoa_padded_a, 81, 14),
    (item_set_slot, itm_genoa_padded_c, 69, 1800),
    (item_set_slot, itm_genoa_padded_c, 68, 8),
    (item_set_slot, itm_genoa_padded_c, 70, 0),
    (item_set_slot, itm_genoa_padded_c, 76, 26),
    (item_set_slot, itm_genoa_padded_c, 79, 0),
    (item_set_slot, itm_genoa_padded_c, 80, 33),
    (item_set_slot, itm_genoa_padded_c, 81, 14),
    (item_set_slot, itm_genoa_mail_c, 69, 1800),
    (item_set_slot, itm_genoa_mail_c, 68, 8),
    (item_set_slot, itm_genoa_mail_c, 70, 0),
    (item_set_slot, itm_genoa_mail_c, 76, 26),
    (item_set_slot, itm_genoa_mail_c, 79, 0),
    (item_set_slot, itm_genoa_mail_c, 80, 33),
    (item_set_slot, itm_genoa_mail_c, 81, 14),
    (item_set_slot, itm_kau_mail_shirt_c, 69, 1800),
    (item_set_slot, itm_kau_mail_shirt_c, 68, 8),
    (item_set_slot, itm_kau_mail_shirt_c, 70, 0),
    (item_set_slot, itm_kau_mail_shirt_c, 76, 26),
    (item_set_slot, itm_kau_mail_shirt_c, 79, 0),
    (item_set_slot, itm_kau_mail_shirt_c, 80, 33),
    (item_set_slot, itm_kau_mail_shirt_c, 81, 14),
    (item_set_slot, itm_teu_monk_surcoat_a, 69, 1800),
    (item_set_slot, itm_teu_monk_surcoat_a, 68, 8),
    (item_set_slot, itm_teu_monk_surcoat_a, 70, 1),
    (item_set_slot, itm_teu_monk_surcoat_a, 76, 29),
    (item_set_slot, itm_teu_monk_surcoat_a, 79, 0),
    (item_set_slot, itm_teu_monk_surcoat_a, 80, 33),
    (item_set_slot, itm_teu_monk_surcoat_a, 81, 14),
    (item_set_slot, itm_teu_hbrother_mail, 69, 1800),
    (item_set_slot, itm_teu_hbrother_mail, 68, 8),
    (item_set_slot, itm_teu_hbrother_mail, 70, 0),
    (item_set_slot, itm_teu_hbrother_mail, 76, 26),
    (item_set_slot, itm_teu_hbrother_mail, 79, 0),
    (item_set_slot, itm_teu_hbrother_mail, 80, 33),
    (item_set_slot, itm_teu_hbrother_mail, 81, 14),
    (item_set_slot, itm_buff_leather, 69, 1800),
    (item_set_slot, itm_buff_leather, 68, 8),
    (item_set_slot, itm_buff_leather, 70, 1),
    (item_set_slot, itm_buff_leather, 76, 29),
    (item_set_slot, itm_buff_leather, 79, 0),
    (item_set_slot, itm_buff_leather, 80, 33),
    (item_set_slot, itm_buff_leather, 81, 14),
    (item_set_slot, itm_galloglass_padded, 69, 1800),
    (item_set_slot, itm_galloglass_padded, 68, 8),
    (item_set_slot, itm_galloglass_padded, 70, 0),
    (item_set_slot, itm_galloglass_padded, 76, 26),
    (item_set_slot, itm_galloglass_padded, 79, 0),
    (item_set_slot, itm_galloglass_padded, 80, 33),
    (item_set_slot, itm_galloglass_padded, 81, 14),
    (item_set_slot, itm_thomas_padded_armour, 69, 1800),
    (item_set_slot, itm_thomas_padded_armour, 68, 8),
    (item_set_slot, itm_thomas_padded_armour, 70, 0),
    (item_set_slot, itm_thomas_padded_armour, 76, 26),
    (item_set_slot, itm_thomas_padded_armour, 79, 0),
    (item_set_slot, itm_thomas_padded_armour, 80, 33),
    (item_set_slot, itm_thomas_padded_armour, 81, 14),
    (item_set_slot, itm_welsh_archer, 69, 1600),
    (item_set_slot, itm_welsh_archer, 68, 0),
    (item_set_slot, itm_welsh_archer, 70, 0),
    (item_set_slot, itm_welsh_archer, 76, 26),
    (item_set_slot, itm_welsh_archer, 79, 0),
    (item_set_slot, itm_welsh_archer, 80, 35),
    (item_set_slot, itm_welsh_archer, 81, 8),
    (item_set_slot, itm_kau_mail_shirt_b, 69, 2100),
    (item_set_slot, itm_kau_mail_shirt_b, 68, 9),
    (item_set_slot, itm_kau_mail_shirt_b, 70, 1),
    (item_set_slot, itm_kau_mail_shirt_b, 76, 29),
    (item_set_slot, itm_kau_mail_shirt_b, 79, 0),
    (item_set_slot, itm_kau_mail_shirt_b, 80, 41),
    (item_set_slot, itm_kau_mail_shirt_b, 81, 17),
    (item_set_slot, itm_kau_mail_b, 69, 2100),
    (item_set_slot, itm_kau_mail_b, 68, 9),
    (item_set_slot, itm_kau_mail_b, 70, 1),
    (item_set_slot, itm_kau_mail_b, 76, 29),
    (item_set_slot, itm_kau_mail_b, 79, 0),
    (item_set_slot, itm_kau_mail_b, 80, 41),
    (item_set_slot, itm_kau_mail_b, 81, 17),
    (item_set_slot, itm_kau_mail_a, 69, 2100),
    (item_set_slot, itm_kau_mail_a, 68, 9),
    (item_set_slot, itm_kau_mail_a, 70, 1),
    (item_set_slot, itm_kau_mail_a, 76, 29),
    (item_set_slot, itm_kau_mail_a, 79, 0),
    (item_set_slot, itm_kau_mail_a, 80, 41),
    (item_set_slot, itm_kau_mail_a, 81, 17),
    (item_set_slot, itm_ee_constable_kau_mail_a, 69, 2100),
    (item_set_slot, itm_ee_constable_kau_mail_a, 68, 0),
    (item_set_slot, itm_ee_constable_kau_mail_a, 70, 1),
    (item_set_slot, itm_ee_constable_kau_mail_a, 76, 29),
    (item_set_slot, itm_ee_constable_kau_mail_a, 79, 0),
    (item_set_slot, itm_ee_constable_kau_mail_a, 80, 41),
    (item_set_slot, itm_ee_constable_kau_mail_a, 81, 17),
    (item_set_slot, itm_scale_shirt_a, 69, 2100),
    (item_set_slot, itm_scale_shirt_a, 68, 9),
    (item_set_slot, itm_scale_shirt_a, 70, 1),
    (item_set_slot, itm_scale_shirt_a, 76, 29),
    (item_set_slot, itm_scale_shirt_a, 79, 0),
    (item_set_slot, itm_scale_shirt_a, 80, 41),
    (item_set_slot, itm_scale_shirt_a, 81, 17),
    (item_set_slot, itm_teu_sariant_mail, 69, 2100),
    (item_set_slot, itm_teu_sariant_mail, 68, 9),
    (item_set_slot, itm_teu_sariant_mail, 70, 1),
    (item_set_slot, itm_teu_sariant_mail, 76, 29),
    (item_set_slot, itm_teu_sariant_mail, 79, 0),
    (item_set_slot, itm_teu_sariant_mail, 80, 41),
    (item_set_slot, itm_teu_sariant_mail, 81, 17),
    (item_set_slot, itm_teu_postulant_a, 69, 2100),
    (item_set_slot, itm_teu_postulant_a, 68, 9),
    (item_set_slot, itm_teu_postulant_a, 70, 1),
    (item_set_slot, itm_teu_postulant_a, 76, 29),
    (item_set_slot, itm_teu_postulant_a, 79, 0),
    (item_set_slot, itm_teu_postulant_a, 80, 41),
    (item_set_slot, itm_teu_postulant_a, 81, 17),
    (item_set_slot, itm_man_at_arms_c, 69, 2100),
    (item_set_slot, itm_man_at_arms_c, 68, 9),
    (item_set_slot, itm_man_at_arms_c, 70, 1),
    (item_set_slot, itm_man_at_arms_c, 76, 29),
    (item_set_slot, itm_man_at_arms_c, 79, 0),
    (item_set_slot, itm_man_at_arms_c, 80, 41),
    (item_set_slot, itm_man_at_arms_c, 81, 17),
    (item_set_slot, itm_man_at_arms_b, 69, 2100),
    (item_set_slot, itm_man_at_arms_b, 68, 9),
    (item_set_slot, itm_man_at_arms_b, 70, 1),
    (item_set_slot, itm_man_at_arms_b, 76, 29),
    (item_set_slot, itm_man_at_arms_b, 79, 0),
    (item_set_slot, itm_man_at_arms_b, 80, 41),
    (item_set_slot, itm_man_at_arms_b, 81, 17),
    (item_set_slot, itm_gaelic_mail_shirt_b, 69, 2100),
    (item_set_slot, itm_gaelic_mail_shirt_b, 68, 9),
    (item_set_slot, itm_gaelic_mail_shirt_b, 70, 1),
    (item_set_slot, itm_gaelic_mail_shirt_b, 76, 29),
    (item_set_slot, itm_gaelic_mail_shirt_b, 79, 0),
    (item_set_slot, itm_gaelic_mail_shirt_b, 80, 41),
    (item_set_slot, itm_gaelic_mail_shirt_b, 81, 17),
    (item_set_slot, itm_studden_leather_armour_a, 69, 2100),
    (item_set_slot, itm_studden_leather_armour_a, 68, 9),
    (item_set_slot, itm_studden_leather_armour_a, 70, 1),
    (item_set_slot, itm_studden_leather_armour_a, 76, 29),
    (item_set_slot, itm_studden_leather_armour_a, 79, 0),
    (item_set_slot, itm_studden_leather_armour_a, 80, 41),
    (item_set_slot, itm_studden_leather_armour_a, 81, 17),
    (item_set_slot, itm_surcoat_f, 69, 2100),
    (item_set_slot, itm_surcoat_f, 68, 9),
    (item_set_slot, itm_surcoat_f, 70, 1),
    (item_set_slot, itm_surcoat_f, 76, 29),
    (item_set_slot, itm_surcoat_f, 79, 0),
    (item_set_slot, itm_surcoat_f, 80, 41),
    (item_set_slot, itm_surcoat_f, 81, 17),
    (item_set_slot, itm_surcoat_g, 69, 2100),
    (item_set_slot, itm_surcoat_g, 68, 9),
    (item_set_slot, itm_surcoat_g, 70, 1),
    (item_set_slot, itm_surcoat_g, 76, 29),
    (item_set_slot, itm_surcoat_g, 79, 0),
    (item_set_slot, itm_surcoat_g, 80, 41),
    (item_set_slot, itm_surcoat_g, 81, 17),
    (item_set_slot, itm_man_at_arms_a, 69, 2100),
    (item_set_slot, itm_man_at_arms_a, 68, 9),
    (item_set_slot, itm_man_at_arms_a, 70, 1),
    (item_set_slot, itm_man_at_arms_a, 76, 29),
    (item_set_slot, itm_man_at_arms_a, 79, 0),
    (item_set_slot, itm_man_at_arms_a, 80, 41),
    (item_set_slot, itm_man_at_arms_a, 81, 17),
    (item_set_slot, itm_modded_mail_1, 69, 2100),
    (item_set_slot, itm_modded_mail_1, 68, 9),
    (item_set_slot, itm_modded_mail_1, 70, 1),
    (item_set_slot, itm_modded_mail_1, 76, 29),
    (item_set_slot, itm_modded_mail_1, 79, 0),
    (item_set_slot, itm_modded_mail_1, 80, 41),
    (item_set_slot, itm_modded_mail_1, 81, 17),
    (item_set_slot, itm_modded_mail_2, 69, 2100),
    (item_set_slot, itm_modded_mail_2, 68, 9),
    (item_set_slot, itm_modded_mail_2, 70, 1),
    (item_set_slot, itm_modded_mail_2, 76, 29),
    (item_set_slot, itm_modded_mail_2, 79, 0),
    (item_set_slot, itm_modded_mail_2, 80, 41),
    (item_set_slot, itm_modded_mail_2, 81, 17),
    (item_set_slot, itm_modded_mail_3, 69, 2100),
    (item_set_slot, itm_modded_mail_3, 68, 9),
    (item_set_slot, itm_modded_mail_3, 70, 1),
    (item_set_slot, itm_modded_mail_3, 76, 29),
    (item_set_slot, itm_modded_mail_3, 79, 0),
    (item_set_slot, itm_modded_mail_3, 80, 41),
    (item_set_slot, itm_modded_mail_3, 81, 17),
    (item_set_slot, itm_haubergeon, 69, 2600),
    (item_set_slot, itm_haubergeon, 68, 10),
    (item_set_slot, itm_haubergeon, 70, 1),
    (item_set_slot, itm_haubergeon, 76, 29),
    (item_set_slot, itm_haubergeon, 79, 0),
    (item_set_slot, itm_haubergeon, 80, 51),
    (item_set_slot, itm_haubergeon, 81, 20),
    (item_set_slot, itm_mail_with_surcoat, 69, 2600),
    (item_set_slot, itm_mail_with_surcoat, 68, 10),
    (item_set_slot, itm_mail_with_surcoat, 70, 1),
    (item_set_slot, itm_mail_with_surcoat, 76, 29),
    (item_set_slot, itm_mail_with_surcoat, 79, 0),
    (item_set_slot, itm_mail_with_surcoat, 80, 51),
    (item_set_slot, itm_mail_with_surcoat, 81, 20),
    (item_set_slot, itm_surcoat_over_mail, 69, 2600),
    (item_set_slot, itm_surcoat_over_mail, 68, 10),
    (item_set_slot, itm_surcoat_over_mail, 70, 1),
    (item_set_slot, itm_surcoat_over_mail, 76, 29),
    (item_set_slot, itm_surcoat_over_mail, 79, 0),
    (item_set_slot, itm_surcoat_over_mail, 80, 51),
    (item_set_slot, itm_surcoat_over_mail, 81, 20),
    (item_set_slot, itm_veteran_surcoat_a, 69, 2600),
    (item_set_slot, itm_veteran_surcoat_a, 68, 10),
    (item_set_slot, itm_veteran_surcoat_a, 70, 1),
    (item_set_slot, itm_veteran_surcoat_a, 76, 29),
    (item_set_slot, itm_veteran_surcoat_a, 79, 0),
    (item_set_slot, itm_veteran_surcoat_a, 80, 51),
    (item_set_slot, itm_veteran_surcoat_a, 81, 20),
    (item_set_slot, itm_veteran_surcoat_b, 69, 2600),
    (item_set_slot, itm_veteran_surcoat_b, 68, 10),
    (item_set_slot, itm_veteran_surcoat_b, 70, 1),
    (item_set_slot, itm_veteran_surcoat_b, 76, 29),
    (item_set_slot, itm_veteran_surcoat_b, 79, 0),
    (item_set_slot, itm_veteran_surcoat_b, 80, 51),
    (item_set_slot, itm_veteran_surcoat_b, 81, 20),
    (item_set_slot, itm_veteran_surcoat_c, 69, 2600),
    (item_set_slot, itm_veteran_surcoat_c, 68, 10),
    (item_set_slot, itm_veteran_surcoat_c, 70, 1),
    (item_set_slot, itm_veteran_surcoat_c, 76, 29),
    (item_set_slot, itm_veteran_surcoat_c, 79, 0),
    (item_set_slot, itm_veteran_surcoat_c, 80, 51),
    (item_set_slot, itm_veteran_surcoat_c, 81, 20),
    (item_set_slot, itm_veteran_surcoat_d, 69, 2600),
    (item_set_slot, itm_veteran_surcoat_d, 68, 10),
    (item_set_slot, itm_veteran_surcoat_d, 70, 1),
    (item_set_slot, itm_veteran_surcoat_d, 76, 29),
    (item_set_slot, itm_veteran_surcoat_d, 79, 0),
    (item_set_slot, itm_veteran_surcoat_d, 80, 51),
    (item_set_slot, itm_veteran_surcoat_d, 81, 20),
    (item_set_slot, itm_veteran_surcoat_e, 69, 2600),
    (item_set_slot, itm_veteran_surcoat_e, 68, 10),
    (item_set_slot, itm_veteran_surcoat_e, 70, 1),
    (item_set_slot, itm_veteran_surcoat_e, 76, 29),
    (item_set_slot, itm_veteran_surcoat_e, 79, 0),
    (item_set_slot, itm_veteran_surcoat_e, 80, 51),
    (item_set_slot, itm_veteran_surcoat_e, 81, 20),
    (item_set_slot, itm_arena_outfit_a, 69, 2600),
    (item_set_slot, itm_arena_outfit_a, 68, 3),
    (item_set_slot, itm_arena_outfit_a, 70, 1),
    (item_set_slot, itm_arena_outfit_a, 76, 29),
    (item_set_slot, itm_arena_outfit_a, 79, 0),
    (item_set_slot, itm_arena_outfit_a, 80, 51),
    (item_set_slot, itm_arena_outfit_a, 81, 20),
    (item_set_slot, itm_arena_outfit_b, 69, 2600),
    (item_set_slot, itm_arena_outfit_b, 68, 3),
    (item_set_slot, itm_arena_outfit_b, 70, 1),
    (item_set_slot, itm_arena_outfit_b, 76, 29),
    (item_set_slot, itm_arena_outfit_b, 79, 0),
    (item_set_slot, itm_arena_outfit_b, 80, 51),
    (item_set_slot, itm_arena_outfit_b, 81, 20),
    (item_set_slot, itm_arena_outfit_c, 69, 2600),
    (item_set_slot, itm_arena_outfit_c, 68, 3),
    (item_set_slot, itm_arena_outfit_c, 70, 1),
    (item_set_slot, itm_arena_outfit_c, 76, 29),
    (item_set_slot, itm_arena_outfit_c, 79, 0),
    (item_set_slot, itm_arena_outfit_c, 80, 51),
    (item_set_slot, itm_arena_outfit_c, 81, 20),
    (item_set_slot, itm_arena_outfit_d, 69, 2600),
    (item_set_slot, itm_arena_outfit_d, 68, 3),
    (item_set_slot, itm_arena_outfit_d, 70, 1),
    (item_set_slot, itm_arena_outfit_d, 76, 29),
    (item_set_slot, itm_arena_outfit_d, 79, 0),
    (item_set_slot, itm_arena_outfit_d, 80, 51),
    (item_set_slot, itm_arena_outfit_d, 81, 20),
    (item_set_slot, itm_hospitaller_sarjeant_surcoat, 69, 2600),
    (item_set_slot, itm_hospitaller_sarjeant_surcoat, 68, 10),
    (item_set_slot, itm_hospitaller_sarjeant_surcoat, 70, 1),
    (item_set_slot, itm_hospitaller_sarjeant_surcoat, 76, 29),
    (item_set_slot, itm_hospitaller_sarjeant_surcoat, 79, 0),
    (item_set_slot, itm_hospitaller_sarjeant_surcoat, 80, 51),
    (item_set_slot, itm_hospitaller_sarjeant_surcoat, 81, 20),
    (item_set_slot, itm_hospitaller_sarjeant_mail, 69, 2600),
    (item_set_slot, itm_hospitaller_sarjeant_mail, 68, 10),
    (item_set_slot, itm_hospitaller_sarjeant_mail, 70, 1),
    (item_set_slot, itm_hospitaller_sarjeant_mail, 76, 29),
    (item_set_slot, itm_hospitaller_sarjeant_mail, 79, 0),
    (item_set_slot, itm_hospitaller_sarjeant_mail, 80, 51),
    (item_set_slot, itm_hospitaller_sarjeant_mail, 81, 20),
    (item_set_slot, itm_santiago_knight, 69, 2600),
    (item_set_slot, itm_santiago_knight, 68, 10),
    (item_set_slot, itm_santiago_knight, 70, 1),
    (item_set_slot, itm_santiago_knight, 76, 29),
    (item_set_slot, itm_santiago_knight, 79, 0),
    (item_set_slot, itm_santiago_knight, 80, 51),
    (item_set_slot, itm_santiago_knight, 81, 20),
    (item_set_slot, itm_calatrava_knight, 69, 2600),
    (item_set_slot, itm_calatrava_knight, 68, 10),
    (item_set_slot, itm_calatrava_knight, 70, 1),
    (item_set_slot, itm_calatrava_knight, 76, 29),
    (item_set_slot, itm_calatrava_knight, 79, 0),
    (item_set_slot, itm_calatrava_knight, 80, 51),
    (item_set_slot, itm_calatrava_knight, 81, 20),
    (item_set_slot, itm_lazarus_serjeant_tunic, 69, 2600),
    (item_set_slot, itm_lazarus_serjeant_tunic, 68, 10),
    (item_set_slot, itm_lazarus_serjeant_tunic, 70, 1),
    (item_set_slot, itm_lazarus_serjeant_tunic, 76, 29),
    (item_set_slot, itm_lazarus_serjeant_tunic, 79, 0),
    (item_set_slot, itm_lazarus_serjeant_tunic, 80, 51),
    (item_set_slot, itm_lazarus_serjeant_tunic, 81, 20),
    (item_set_slot, itm_saint_thomas_knight, 69, 2600),
    (item_set_slot, itm_saint_thomas_knight, 68, 10),
    (item_set_slot, itm_saint_thomas_knight, 70, 1),
    (item_set_slot, itm_saint_thomas_knight, 76, 29),
    (item_set_slot, itm_saint_thomas_knight, 79, 0),
    (item_set_slot, itm_saint_thomas_knight, 80, 51),
    (item_set_slot, itm_saint_thomas_knight, 81, 20),
    (item_set_slot, itm_heraldic_mail_with_surcoat, 69, 2600),
    (item_set_slot, itm_heraldic_mail_with_surcoat, 68, 10),
    (item_set_slot, itm_heraldic_mail_with_surcoat, 70, 1),
    (item_set_slot, itm_heraldic_mail_with_surcoat, 76, 29),
    (item_set_slot, itm_heraldic_mail_with_surcoat, 79, 0),
    (item_set_slot, itm_heraldic_mail_with_surcoat, 80, 51),
    (item_set_slot, itm_heraldic_mail_with_surcoat, 81, 20),
    (item_set_slot, itm_galloglass_mail, 69, 2600),
    (item_set_slot, itm_galloglass_mail, 68, 10),
    (item_set_slot, itm_galloglass_mail, 70, 1),
    (item_set_slot, itm_galloglass_mail, 76, 29),
    (item_set_slot, itm_galloglass_mail, 79, 0),
    (item_set_slot, itm_galloglass_mail, 80, 51),
    (item_set_slot, itm_galloglass_mail, 81, 20),
    (item_set_slot, itm_templar_sarjeant_mail, 69, 2600),
    (item_set_slot, itm_templar_sarjeant_mail, 68, 10),
    (item_set_slot, itm_templar_sarjeant_mail, 70, 1),
    (item_set_slot, itm_templar_sarjeant_mail, 76, 29),
    (item_set_slot, itm_templar_sarjeant_mail, 79, 0),
    (item_set_slot, itm_templar_sarjeant_mail, 80, 51),
    (item_set_slot, itm_templar_sarjeant_mail, 81, 20),
    (item_set_slot, itm_kau_aragon_knight, 69, 3100),
    (item_set_slot, itm_kau_aragon_knight, 68, 12),
    (item_set_slot, itm_kau_aragon_knight, 70, 1),
    (item_set_slot, itm_kau_aragon_knight, 76, 29),
    (item_set_slot, itm_kau_aragon_knight, 79, 0),
    (item_set_slot, itm_kau_aragon_knight, 80, 64),
    (item_set_slot, itm_kau_aragon_knight, 81, 24),
    (item_set_slot, itm_kau_aragon_a, 69, 3100),
    (item_set_slot, itm_kau_aragon_a, 68, 12),
    (item_set_slot, itm_kau_aragon_a, 70, 1),
    (item_set_slot, itm_kau_aragon_a, 76, 29),
    (item_set_slot, itm_kau_aragon_a, 79, 0),
    (item_set_slot, itm_kau_aragon_a, 80, 64),
    (item_set_slot, itm_kau_aragon_a, 81, 24),
    (item_set_slot, itm_kau_aragon_b, 69, 3100),
    (item_set_slot, itm_kau_aragon_b, 68, 12),
    (item_set_slot, itm_kau_aragon_b, 70, 1),
    (item_set_slot, itm_kau_aragon_b, 76, 29),
    (item_set_slot, itm_kau_aragon_b, 79, 0),
    (item_set_slot, itm_kau_aragon_b, 80, 64),
    (item_set_slot, itm_kau_aragon_b, 81, 24),
    (item_set_slot, itm_kau_aragon_c, 69, 3100),
    (item_set_slot, itm_kau_aragon_c, 68, 12),
    (item_set_slot, itm_kau_aragon_c, 70, 1),
    (item_set_slot, itm_kau_aragon_c, 76, 29),
    (item_set_slot, itm_kau_aragon_c, 79, 0),
    (item_set_slot, itm_kau_aragon_c, 80, 64),
    (item_set_slot, itm_kau_aragon_c, 81, 24),
    (item_set_slot, itm_kau_montcada_surcoat, 69, 3100),
    (item_set_slot, itm_kau_montcada_surcoat, 68, 12),
    (item_set_slot, itm_kau_montcada_surcoat, 70, 1),
    (item_set_slot, itm_kau_montcada_surcoat, 76, 29),
    (item_set_slot, itm_kau_montcada_surcoat, 79, 0),
    (item_set_slot, itm_kau_montcada_surcoat, 80, 64),
    (item_set_slot, itm_kau_montcada_surcoat, 81, 24),
    (item_set_slot, itm_kau_alego_surcoat, 69, 3100),
    (item_set_slot, itm_kau_alego_surcoat, 68, 12),
    (item_set_slot, itm_kau_alego_surcoat, 70, 1),
    (item_set_slot, itm_kau_alego_surcoat, 76, 29),
    (item_set_slot, itm_kau_alego_surcoat, 79, 0),
    (item_set_slot, itm_kau_alego_surcoat, 80, 64),
    (item_set_slot, itm_kau_alego_surcoat, 81, 24),
    (item_set_slot, itm_kau_cervello_surcoat, 69, 3100),
    (item_set_slot, itm_kau_cervello_surcoat, 68, 12),
    (item_set_slot, itm_kau_cervello_surcoat, 70, 1),
    (item_set_slot, itm_kau_cervello_surcoat, 76, 29),
    (item_set_slot, itm_kau_cervello_surcoat, 79, 0),
    (item_set_slot, itm_kau_cervello_surcoat, 80, 64),
    (item_set_slot, itm_kau_cervello_surcoat, 81, 24),
    (item_set_slot, itm_kau_cruilles_surcoat, 69, 3100),
    (item_set_slot, itm_kau_cruilles_surcoat, 68, 12),
    (item_set_slot, itm_kau_cruilles_surcoat, 70, 1),
    (item_set_slot, itm_kau_cruilles_surcoat, 76, 29),
    (item_set_slot, itm_kau_cruilles_surcoat, 79, 0),
    (item_set_slot, itm_kau_cruilles_surcoat, 80, 64),
    (item_set_slot, itm_kau_cruilles_surcoat, 81, 24),
    (item_set_slot, itm_kau_entenca_surcoat, 69, 3100),
    (item_set_slot, itm_kau_entenca_surcoat, 68, 12),
    (item_set_slot, itm_kau_entenca_surcoat, 70, 1),
    (item_set_slot, itm_kau_entenca_surcoat, 76, 29),
    (item_set_slot, itm_kau_entenca_surcoat, 79, 0),
    (item_set_slot, itm_kau_entenca_surcoat, 80, 64),
    (item_set_slot, itm_kau_entenca_surcoat, 81, 24),
    (item_set_slot, itm_kau_epyres_surcoat, 69, 3100),
    (item_set_slot, itm_kau_epyres_surcoat, 68, 12),
    (item_set_slot, itm_kau_epyres_surcoat, 70, 1),
    (item_set_slot, itm_kau_epyres_surcoat, 76, 29),
    (item_set_slot, itm_kau_epyres_surcoat, 79, 0),
    (item_set_slot, itm_kau_epyres_surcoat, 80, 64),
    (item_set_slot, itm_kau_epyres_surcoat, 81, 24),
    (item_set_slot, itm_kau_luna_surcoat, 69, 3100),
    (item_set_slot, itm_kau_luna_surcoat, 68, 12),
    (item_set_slot, itm_kau_luna_surcoat, 70, 1),
    (item_set_slot, itm_kau_luna_surcoat, 76, 29),
    (item_set_slot, itm_kau_luna_surcoat, 79, 0),
    (item_set_slot, itm_kau_luna_surcoat, 80, 64),
    (item_set_slot, itm_kau_luna_surcoat, 81, 24),
    (item_set_slot, itm_kau_pons_surcoat, 69, 3100),
    (item_set_slot, itm_kau_pons_surcoat, 68, 12),
    (item_set_slot, itm_kau_pons_surcoat, 70, 1),
    (item_set_slot, itm_kau_pons_surcoat, 76, 29),
    (item_set_slot, itm_kau_pons_surcoat, 79, 0),
    (item_set_slot, itm_kau_pons_surcoat, 80, 64),
    (item_set_slot, itm_kau_pons_surcoat, 81, 24),
    (item_set_slot, itm_kau_castile_knight, 69, 3100),
    (item_set_slot, itm_kau_castile_knight, 68, 12),
    (item_set_slot, itm_kau_castile_knight, 70, 1),
    (item_set_slot, itm_kau_castile_knight, 76, 29),
    (item_set_slot, itm_kau_castile_knight, 79, 0),
    (item_set_slot, itm_kau_castile_knight, 80, 64),
    (item_set_slot, itm_kau_castile_knight, 81, 24),
    (item_set_slot, itm_kau_castile_a, 69, 3100),
    (item_set_slot, itm_kau_castile_a, 68, 12),
    (item_set_slot, itm_kau_castile_a, 70, 1),
    (item_set_slot, itm_kau_castile_a, 76, 29),
    (item_set_slot, itm_kau_castile_a, 79, 0),
    (item_set_slot, itm_kau_castile_a, 80, 64),
    (item_set_slot, itm_kau_castile_a, 81, 24),
    (item_set_slot, itm_kau_castile_b, 69, 3100),
    (item_set_slot, itm_kau_castile_b, 68, 12),
    (item_set_slot, itm_kau_castile_b, 70, 1),
    (item_set_slot, itm_kau_castile_b, 76, 29),
    (item_set_slot, itm_kau_castile_b, 79, 0),
    (item_set_slot, itm_kau_castile_b, 80, 64),
    (item_set_slot, itm_kau_castile_b, 81, 24),
    (item_set_slot, itm_kau_castile_c, 69, 3100),
    (item_set_slot, itm_kau_castile_c, 68, 12),
    (item_set_slot, itm_kau_castile_c, 70, 1),
    (item_set_slot, itm_kau_castile_c, 76, 29),
    (item_set_slot, itm_kau_castile_c, 79, 0),
    (item_set_slot, itm_kau_castile_c, 80, 64),
    (item_set_slot, itm_kau_castile_c, 81, 24),
    (item_set_slot, itm_kau_santiago, 69, 3100),
    (item_set_slot, itm_kau_santiago, 68, 12),
    (item_set_slot, itm_kau_santiago, 70, 1),
    (item_set_slot, itm_kau_santiago, 76, 29),
    (item_set_slot, itm_kau_santiago, 79, 0),
    (item_set_slot, itm_kau_santiago, 80, 64),
    (item_set_slot, itm_kau_santiago, 81, 24),
    (item_set_slot, itm_kau_portugal_a, 69, 3100),
    (item_set_slot, itm_kau_portugal_a, 68, 12),
    (item_set_slot, itm_kau_portugal_a, 70, 1),
    (item_set_slot, itm_kau_portugal_a, 76, 29),
    (item_set_slot, itm_kau_portugal_a, 79, 0),
    (item_set_slot, itm_kau_portugal_a, 80, 64),
    (item_set_slot, itm_kau_portugal_a, 81, 24),
    (item_set_slot, itm_kau_portugal_b, 69, 3100),
    (item_set_slot, itm_kau_portugal_b, 68, 12),
    (item_set_slot, itm_kau_portugal_b, 70, 1),
    (item_set_slot, itm_kau_portugal_b, 76, 29),
    (item_set_slot, itm_kau_portugal_b, 79, 0),
    (item_set_slot, itm_kau_portugal_b, 80, 64),
    (item_set_slot, itm_kau_portugal_b, 81, 24),
    (item_set_slot, itm_kau_portugal_c, 69, 3100),
    (item_set_slot, itm_kau_portugal_c, 68, 12),
    (item_set_slot, itm_kau_portugal_c, 70, 1),
    (item_set_slot, itm_kau_portugal_c, 76, 29),
    (item_set_slot, itm_kau_portugal_c, 79, 0),
    (item_set_slot, itm_kau_portugal_c, 80, 64),
    (item_set_slot, itm_kau_portugal_c, 81, 24),
    (item_set_slot, itm_kau_portugal_d, 69, 3100),
    (item_set_slot, itm_kau_portugal_d, 68, 12),
    (item_set_slot, itm_kau_portugal_d, 70, 1),
    (item_set_slot, itm_kau_portugal_d, 76, 29),
    (item_set_slot, itm_kau_portugal_d, 79, 0),
    (item_set_slot, itm_kau_portugal_d, 80, 64),
    (item_set_slot, itm_kau_portugal_d, 81, 24),
    (item_set_slot, itm_kau_papal, 69, 3100),
    (item_set_slot, itm_kau_papal, 68, 12),
    (item_set_slot, itm_kau_papal, 70, 1),
    (item_set_slot, itm_kau_papal, 76, 29),
    (item_set_slot, itm_kau_papal, 79, 0),
    (item_set_slot, itm_kau_papal, 80, 64),
    (item_set_slot, itm_kau_papal, 81, 24),
    (item_set_slot, itm_kau_sicily_a, 69, 3100),
    (item_set_slot, itm_kau_sicily_a, 68, 12),
    (item_set_slot, itm_kau_sicily_a, 70, 1),
    (item_set_slot, itm_kau_sicily_a, 76, 29),
    (item_set_slot, itm_kau_sicily_a, 79, 0),
    (item_set_slot, itm_kau_sicily_a, 80, 64),
    (item_set_slot, itm_kau_sicily_a, 81, 24),
    (item_set_slot, itm_kau_sicily_b, 69, 3100),
    (item_set_slot, itm_kau_sicily_b, 68, 12),
    (item_set_slot, itm_kau_sicily_b, 70, 1),
    (item_set_slot, itm_kau_sicily_b, 76, 29),
    (item_set_slot, itm_kau_sicily_b, 79, 0),
    (item_set_slot, itm_kau_sicily_b, 80, 64),
    (item_set_slot, itm_kau_sicily_b, 81, 24),
    (item_set_slot, itm_kau_antioch, 69, 3100),
    (item_set_slot, itm_kau_antioch, 68, 12),
    (item_set_slot, itm_kau_antioch, 70, 1),
    (item_set_slot, itm_kau_antioch, 76, 29),
    (item_set_slot, itm_kau_antioch, 79, 0),
    (item_set_slot, itm_kau_antioch, 80, 64),
    (item_set_slot, itm_kau_antioch, 81, 24),
    (item_set_slot, itm_kau_cyprus, 69, 3100),
    (item_set_slot, itm_kau_cyprus, 68, 12),
    (item_set_slot, itm_kau_cyprus, 70, 1),
    (item_set_slot, itm_kau_cyprus, 76, 29),
    (item_set_slot, itm_kau_cyprus, 79, 0),
    (item_set_slot, itm_kau_cyprus, 80, 64),
    (item_set_slot, itm_kau_cyprus, 81, 24),
    (item_set_slot, itm_kau_jerusalem, 69, 3100),
    (item_set_slot, itm_kau_jerusalem, 68, 12),
    (item_set_slot, itm_kau_jerusalem, 70, 1),
    (item_set_slot, itm_kau_jerusalem, 76, 29),
    (item_set_slot, itm_kau_jerusalem, 79, 0),
    (item_set_slot, itm_kau_jerusalem, 80, 64),
    (item_set_slot, itm_kau_jerusalem, 81, 24),
    (item_set_slot, itm_kau_latin_a, 69, 3100),
    (item_set_slot, itm_kau_latin_a, 68, 12),
    (item_set_slot, itm_kau_latin_a, 70, 1),
    (item_set_slot, itm_kau_latin_a, 76, 29),
    (item_set_slot, itm_kau_latin_a, 79, 0),
    (item_set_slot, itm_kau_latin_a, 80, 64),
    (item_set_slot, itm_kau_latin_a, 81, 24),
    (item_set_slot, itm_kau_latin_b, 69, 3100),
    (item_set_slot, itm_kau_latin_b, 68, 12),
    (item_set_slot, itm_kau_latin_b, 70, 1),
    (item_set_slot, itm_kau_latin_b, 76, 29),
    (item_set_slot, itm_kau_latin_b, 79, 0),
    (item_set_slot, itm_kau_latin_b, 80, 64),
    (item_set_slot, itm_kau_latin_b, 81, 24),
    (item_set_slot, itm_kau_athens, 69, 3100),
    (item_set_slot, itm_kau_athens, 68, 12),
    (item_set_slot, itm_kau_athens, 70, 1),
    (item_set_slot, itm_kau_athens, 76, 29),
    (item_set_slot, itm_kau_athens, 79, 0),
    (item_set_slot, itm_kau_athens, 80, 64),
    (item_set_slot, itm_kau_athens, 81, 24),
    (item_set_slot, itm_kau_courtenay, 69, 3100),
    (item_set_slot, itm_kau_courtenay, 68, 12),
    (item_set_slot, itm_kau_courtenay, 70, 1),
    (item_set_slot, itm_kau_courtenay, 76, 29),
    (item_set_slot, itm_kau_courtenay, 79, 0),
    (item_set_slot, itm_kau_courtenay, 80, 64),
    (item_set_slot, itm_kau_courtenay, 81, 24),
    (item_set_slot, itm_surcoat_denmark_a, 69, 3100),
    (item_set_slot, itm_surcoat_denmark_a, 68, 12),
    (item_set_slot, itm_surcoat_denmark_a, 70, 1),
    (item_set_slot, itm_surcoat_denmark_a, 76, 29),
    (item_set_slot, itm_surcoat_denmark_a, 79, 0),
    (item_set_slot, itm_surcoat_denmark_a, 80, 64),
    (item_set_slot, itm_surcoat_denmark_a, 81, 24),
    (item_set_slot, itm_surcoat_england_a, 69, 3100),
    (item_set_slot, itm_surcoat_england_a, 68, 12),
    (item_set_slot, itm_surcoat_england_a, 70, 1),
    (item_set_slot, itm_surcoat_england_a, 76, 29),
    (item_set_slot, itm_surcoat_england_a, 79, 0),
    (item_set_slot, itm_surcoat_england_a, 80, 64),
    (item_set_slot, itm_surcoat_england_a, 81, 24),
    (item_set_slot, itm_surcoat_devalence, 69, 3100),
    (item_set_slot, itm_surcoat_devalence, 68, 12),
    (item_set_slot, itm_surcoat_devalence, 70, 1),
    (item_set_slot, itm_surcoat_devalence, 76, 29),
    (item_set_slot, itm_surcoat_devalence, 79, 0),
    (item_set_slot, itm_surcoat_devalence, 80, 64),
    (item_set_slot, itm_surcoat_devalence, 81, 24),
    (item_set_slot, itm_surcoat_demontfort, 69, 3100),
    (item_set_slot, itm_surcoat_demontfort, 68, 12),
    (item_set_slot, itm_surcoat_demontfort, 70, 1),
    (item_set_slot, itm_surcoat_demontfort, 76, 29),
    (item_set_slot, itm_surcoat_demontfort, 79, 0),
    (item_set_slot, itm_surcoat_demontfort, 80, 64),
    (item_set_slot, itm_surcoat_demontfort, 81, 24),
    (item_set_slot, itm_surcoat_mortimer, 69, 3100),
    (item_set_slot, itm_surcoat_mortimer, 68, 12),
    (item_set_slot, itm_surcoat_mortimer, 70, 1),
    (item_set_slot, itm_surcoat_mortimer, 76, 29),
    (item_set_slot, itm_surcoat_mortimer, 79, 0),
    (item_set_slot, itm_surcoat_mortimer, 80, 64),
    (item_set_slot, itm_surcoat_mortimer, 81, 24),
    (item_set_slot, itm_surcoat_bigod, 69, 3100),
    (item_set_slot, itm_surcoat_bigod, 68, 12),
    (item_set_slot, itm_surcoat_bigod, 70, 1),
    (item_set_slot, itm_surcoat_bigod, 76, 29),
    (item_set_slot, itm_surcoat_bigod, 79, 0),
    (item_set_slot, itm_surcoat_bigod, 80, 64),
    (item_set_slot, itm_surcoat_bigod, 81, 24),
    (item_set_slot, itm_surcoat_dewarenne, 69, 3100),
    (item_set_slot, itm_surcoat_dewarenne, 68, 12),
    (item_set_slot, itm_surcoat_dewarenne, 70, 1),
    (item_set_slot, itm_surcoat_dewarenne, 76, 29),
    (item_set_slot, itm_surcoat_dewarenne, 79, 0),
    (item_set_slot, itm_surcoat_dewarenne, 80, 64),
    (item_set_slot, itm_surcoat_dewarenne, 81, 24),
    (item_set_slot, itm_surcoat_france_a, 69, 3100),
    (item_set_slot, itm_surcoat_france_a, 68, 12),
    (item_set_slot, itm_surcoat_france_a, 70, 1),
    (item_set_slot, itm_surcoat_france_a, 76, 29),
    (item_set_slot, itm_surcoat_france_a, 79, 0),
    (item_set_slot, itm_surcoat_france_a, 80, 64),
    (item_set_slot, itm_surcoat_france_a, 81, 24),
    (item_set_slot, itm_surcoat_hre_a, 69, 3100),
    (item_set_slot, itm_surcoat_hre_a, 68, 12),
    (item_set_slot, itm_surcoat_hre_a, 70, 1),
    (item_set_slot, itm_surcoat_hre_a, 76, 29),
    (item_set_slot, itm_surcoat_hre_a, 79, 0),
    (item_set_slot, itm_surcoat_hre_a, 80, 64),
    (item_set_slot, itm_surcoat_hre_a, 81, 24),
    (item_set_slot, itm_richard_of_cornwall_surcoat_over_mail, 69, 3100),
    (item_set_slot, itm_richard_of_cornwall_surcoat_over_mail, 68, 12),
    (item_set_slot, itm_richard_of_cornwall_surcoat_over_mail, 70, 1),
    (item_set_slot, itm_richard_of_cornwall_surcoat_over_mail, 76, 29),
    (item_set_slot, itm_richard_of_cornwall_surcoat_over_mail, 79, 0),
    (item_set_slot, itm_richard_of_cornwall_surcoat_over_mail, 80, 64),
    (item_set_slot, itm_richard_of_cornwall_surcoat_over_mail, 81, 24),
    (item_set_slot, itm_surcoat_bohemia, 69, 3100),
    (item_set_slot, itm_surcoat_bohemia, 68, 12),
    (item_set_slot, itm_surcoat_bohemia, 70, 1),
    (item_set_slot, itm_surcoat_bohemia, 76, 29),
    (item_set_slot, itm_surcoat_bohemia, 79, 0),
    (item_set_slot, itm_surcoat_bohemia, 80, 64),
    (item_set_slot, itm_surcoat_bohemia, 81, 24),
    (item_set_slot, itm_surcoat_hungary_a, 69, 3100),
    (item_set_slot, itm_surcoat_hungary_a, 68, 12),
    (item_set_slot, itm_surcoat_hungary_a, 70, 1),
    (item_set_slot, itm_surcoat_hungary_a, 76, 29),
    (item_set_slot, itm_surcoat_hungary_a, 79, 0),
    (item_set_slot, itm_surcoat_hungary_a, 80, 64),
    (item_set_slot, itm_surcoat_hungary_a, 81, 24),
    (item_set_slot, itm_surcoat_ireland_a, 69, 3100),
    (item_set_slot, itm_surcoat_ireland_a, 68, 12),
    (item_set_slot, itm_surcoat_ireland_a, 70, 1),
    (item_set_slot, itm_surcoat_ireland_a, 76, 29),
    (item_set_slot, itm_surcoat_ireland_a, 79, 0),
    (item_set_slot, itm_surcoat_ireland_a, 80, 64),
    (item_set_slot, itm_surcoat_ireland_a, 81, 24),
    (item_set_slot, itm_surcoat_lithuania_a, 69, 3100),
    (item_set_slot, itm_surcoat_lithuania_a, 68, 12),
    (item_set_slot, itm_surcoat_lithuania_a, 70, 1),
    (item_set_slot, itm_surcoat_lithuania_a, 76, 29),
    (item_set_slot, itm_surcoat_lithuania_a, 79, 0),
    (item_set_slot, itm_surcoat_lithuania_a, 80, 64),
    (item_set_slot, itm_surcoat_lithuania_a, 81, 24),
    (item_set_slot, itm_surcoat_lithuania_b, 69, 2100),
    (item_set_slot, itm_surcoat_lithuania_b, 68, 9),
    (item_set_slot, itm_surcoat_lithuania_b, 70, 1),
    (item_set_slot, itm_surcoat_lithuania_b, 76, 29),
    (item_set_slot, itm_surcoat_lithuania_b, 79, 0),
    (item_set_slot, itm_surcoat_lithuania_b, 80, 41),
    (item_set_slot, itm_surcoat_lithuania_b, 81, 17),
    (item_set_slot, itm_surcoat_norway_a, 69, 3100),
    (item_set_slot, itm_surcoat_norway_a, 68, 12),
    (item_set_slot, itm_surcoat_norway_a, 70, 1),
    (item_set_slot, itm_surcoat_norway_a, 76, 29),
    (item_set_slot, itm_surcoat_norway_a, 79, 0),
    (item_set_slot, itm_surcoat_norway_a, 80, 64),
    (item_set_slot, itm_surcoat_norway_a, 81, 24),
    (item_set_slot, itm_surcoat_novgorod, 69, 2600),
    (item_set_slot, itm_surcoat_novgorod, 68, 10),
    (item_set_slot, itm_surcoat_novgorod, 70, 1),
    (item_set_slot, itm_surcoat_novgorod, 76, 29),
    (item_set_slot, itm_surcoat_novgorod, 79, 0),
    (item_set_slot, itm_surcoat_novgorod, 80, 51),
    (item_set_slot, itm_surcoat_novgorod, 81, 20),
    (item_set_slot, itm_surcoat_scotland_a, 69, 3100),
    (item_set_slot, itm_surcoat_scotland_a, 68, 12),
    (item_set_slot, itm_surcoat_scotland_a, 70, 1),
    (item_set_slot, itm_surcoat_scotland_a, 76, 29),
    (item_set_slot, itm_surcoat_scotland_a, 79, 0),
    (item_set_slot, itm_surcoat_scotland_a, 80, 64),
    (item_set_slot, itm_surcoat_scotland_a, 81, 24),
    (item_set_slot, itm_surcoat_sweden_a, 69, 3100),
    (item_set_slot, itm_surcoat_sweden_a, 68, 12),
    (item_set_slot, itm_surcoat_sweden_a, 70, 1),
    (item_set_slot, itm_surcoat_sweden_a, 76, 29),
    (item_set_slot, itm_surcoat_sweden_a, 79, 0),
    (item_set_slot, itm_surcoat_sweden_a, 80, 64),
    (item_set_slot, itm_surcoat_sweden_a, 81, 24),
    (item_set_slot, itm_surcoat_kaliskie, 69, 3100),
    (item_set_slot, itm_surcoat_kaliskie, 68, 12),
    (item_set_slot, itm_surcoat_kaliskie, 70, 1),
    (item_set_slot, itm_surcoat_kaliskie, 76, 29),
    (item_set_slot, itm_surcoat_kaliskie, 79, 0),
    (item_set_slot, itm_surcoat_kaliskie, 80, 64),
    (item_set_slot, itm_surcoat_kaliskie, 81, 24),
    (item_set_slot, itm_surcoat_poland_a, 69, 3100),
    (item_set_slot, itm_surcoat_poland_a, 68, 12),
    (item_set_slot, itm_surcoat_poland_a, 70, 1),
    (item_set_slot, itm_surcoat_poland_a, 76, 29),
    (item_set_slot, itm_surcoat_poland_a, 79, 0),
    (item_set_slot, itm_surcoat_poland_a, 80, 64),
    (item_set_slot, itm_surcoat_poland_a, 81, 24),
    (item_set_slot, itm_siemowit_surcoat_over_mail, 69, 3100),
    (item_set_slot, itm_siemowit_surcoat_over_mail, 68, 12),
    (item_set_slot, itm_siemowit_surcoat_over_mail, 70, 1),
    (item_set_slot, itm_siemowit_surcoat_over_mail, 76, 29),
    (item_set_slot, itm_siemowit_surcoat_over_mail, 79, 0),
    (item_set_slot, itm_siemowit_surcoat_over_mail, 80, 64),
    (item_set_slot, itm_siemowit_surcoat_over_mail, 81, 24),
    (item_set_slot, itm_surcoat_gslask, 69, 3100),
    (item_set_slot, itm_surcoat_gslask, 68, 12),
    (item_set_slot, itm_surcoat_gslask, 70, 1),
    (item_set_slot, itm_surcoat_gslask, 76, 29),
    (item_set_slot, itm_surcoat_gslask, 79, 0),
    (item_set_slot, itm_surcoat_gslask, 80, 64),
    (item_set_slot, itm_surcoat_gslask, 81, 24),
    (item_set_slot, itm_surcoat_dslask, 69, 3100),
    (item_set_slot, itm_surcoat_dslask, 68, 12),
    (item_set_slot, itm_surcoat_dslask, 70, 1),
    (item_set_slot, itm_surcoat_dslask, 76, 29),
    (item_set_slot, itm_surcoat_dslask, 79, 0),
    (item_set_slot, itm_surcoat_dslask, 80, 64),
    (item_set_slot, itm_surcoat_dslask, 81, 24),
    (item_set_slot, itm_surcoat_mazowsze, 69, 3100),
    (item_set_slot, itm_surcoat_mazowsze, 68, 12),
    (item_set_slot, itm_surcoat_mazowsze, 70, 1),
    (item_set_slot, itm_surcoat_mazowsze, 76, 29),
    (item_set_slot, itm_surcoat_mazowsze, 79, 0),
    (item_set_slot, itm_surcoat_mazowsze, 80, 64),
    (item_set_slot, itm_surcoat_mazowsze, 81, 24),
    (item_set_slot, itm_surcoat_swidnica, 69, 3100),
    (item_set_slot, itm_surcoat_swidnica, 68, 12),
    (item_set_slot, itm_surcoat_swidnica, 70, 1),
    (item_set_slot, itm_surcoat_swidnica, 76, 29),
    (item_set_slot, itm_surcoat_swidnica, 79, 0),
    (item_set_slot, itm_surcoat_swidnica, 80, 64),
    (item_set_slot, itm_surcoat_swidnica, 81, 24),
    (item_set_slot, itm_surcoat_swietopelk, 69, 3100),
    (item_set_slot, itm_surcoat_swietopelk, 68, 12),
    (item_set_slot, itm_surcoat_swietopelk, 70, 1),
    (item_set_slot, itm_surcoat_swietopelk, 76, 29),
    (item_set_slot, itm_surcoat_swietopelk, 79, 0),
    (item_set_slot, itm_surcoat_swietopelk, 80, 64),
    (item_set_slot, itm_surcoat_swietopelk, 81, 24),
    (item_set_slot, itm_surcoat_henry3, 69, 3100),
    (item_set_slot, itm_surcoat_henry3, 68, 12),
    (item_set_slot, itm_surcoat_henry3, 70, 1),
    (item_set_slot, itm_surcoat_henry3, 76, 29),
    (item_set_slot, itm_surcoat_henry3, 79, 0),
    (item_set_slot, itm_surcoat_henry3, 80, 64),
    (item_set_slot, itm_surcoat_henry3, 81, 24),
    (item_set_slot, itm_surcoat_pol_a, 69, 3100),
    (item_set_slot, itm_surcoat_pol_a, 68, 12),
    (item_set_slot, itm_surcoat_pol_a, 70, 1),
    (item_set_slot, itm_surcoat_pol_a, 76, 29),
    (item_set_slot, itm_surcoat_pol_a, 79, 0),
    (item_set_slot, itm_surcoat_pol_a, 80, 64),
    (item_set_slot, itm_surcoat_pol_a, 81, 24),
    (item_set_slot, itm_surcoat_pol_b, 69, 3100),
    (item_set_slot, itm_surcoat_pol_b, 68, 12),
    (item_set_slot, itm_surcoat_pol_b, 70, 1),
    (item_set_slot, itm_surcoat_pol_b, 76, 29),
    (item_set_slot, itm_surcoat_pol_b, 79, 0),
    (item_set_slot, itm_surcoat_pol_b, 80, 64),
    (item_set_slot, itm_surcoat_pol_b, 81, 24),
    (item_set_slot, itm_surcoat_pol_c, 69, 3100),
    (item_set_slot, itm_surcoat_pol_c, 68, 12),
    (item_set_slot, itm_surcoat_pol_c, 70, 1),
    (item_set_slot, itm_surcoat_pol_c, 76, 29),
    (item_set_slot, itm_surcoat_pol_c, 79, 0),
    (item_set_slot, itm_surcoat_pol_c, 80, 64),
    (item_set_slot, itm_surcoat_pol_c, 81, 24),
    (item_set_slot, itm_surcoat_pol_d, 69, 3100),
    (item_set_slot, itm_surcoat_pol_d, 68, 12),
    (item_set_slot, itm_surcoat_pol_d, 70, 1),
    (item_set_slot, itm_surcoat_pol_d, 76, 29),
    (item_set_slot, itm_surcoat_pol_d, 79, 0),
    (item_set_slot, itm_surcoat_pol_d, 80, 64),
    (item_set_slot, itm_surcoat_pol_d, 81, 24),
    (item_set_slot, itm_surcoat_pol_e, 69, 3100),
    (item_set_slot, itm_surcoat_pol_e, 68, 12),
    (item_set_slot, itm_surcoat_pol_e, 70, 1),
    (item_set_slot, itm_surcoat_pol_e, 76, 29),
    (item_set_slot, itm_surcoat_pol_e, 79, 0),
    (item_set_slot, itm_surcoat_pol_e, 80, 64),
    (item_set_slot, itm_surcoat_pol_e, 81, 24),
    (item_set_slot, itm_surcoat_pol_f, 69, 3100),
    (item_set_slot, itm_surcoat_pol_f, 68, 12),
    (item_set_slot, itm_surcoat_pol_f, 70, 1),
    (item_set_slot, itm_surcoat_pol_f, 76, 29),
    (item_set_slot, itm_surcoat_pol_f, 79, 0),
    (item_set_slot, itm_surcoat_pol_f, 80, 64),
    (item_set_slot, itm_surcoat_pol_f, 81, 24),
    (item_set_slot, itm_surcoat_pol_g, 69, 3100),
    (item_set_slot, itm_surcoat_pol_g, 68, 12),
    (item_set_slot, itm_surcoat_pol_g, 70, 1),
    (item_set_slot, itm_surcoat_pol_g, 76, 29),
    (item_set_slot, itm_surcoat_pol_g, 79, 0),
    (item_set_slot, itm_surcoat_pol_g, 80, 64),
    (item_set_slot, itm_surcoat_pol_g, 81, 24),
    (item_set_slot, itm_surcoat_czersk, 69, 3100),
    (item_set_slot, itm_surcoat_czersk, 68, 12),
    (item_set_slot, itm_surcoat_czersk, 70, 1),
    (item_set_slot, itm_surcoat_czersk, 76, 29),
    (item_set_slot, itm_surcoat_czersk, 79, 0),
    (item_set_slot, itm_surcoat_czersk, 80, 64),
    (item_set_slot, itm_surcoat_czersk, 81, 24),
    (item_set_slot, itm_surcoat_przemysl2, 69, 3100),
    (item_set_slot, itm_surcoat_przemysl2, 68, 12),
    (item_set_slot, itm_surcoat_przemysl2, 70, 1),
    (item_set_slot, itm_surcoat_przemysl2, 76, 29),
    (item_set_slot, itm_surcoat_przemysl2, 79, 0),
    (item_set_slot, itm_surcoat_przemysl2, 80, 64),
    (item_set_slot, itm_surcoat_przemysl2, 81, 24),
    (item_set_slot, itm_teu_brother_surcoat_a, 69, 3100),
    (item_set_slot, itm_teu_brother_surcoat_a, 68, 12),
    (item_set_slot, itm_teu_brother_surcoat_a, 70, 1),
    (item_set_slot, itm_teu_brother_surcoat_a, 76, 29),
    (item_set_slot, itm_teu_brother_surcoat_a, 79, 0),
    (item_set_slot, itm_teu_brother_surcoat_a, 80, 64),
    (item_set_slot, itm_teu_brother_surcoat_a, 81, 24),
    (item_set_slot, itm_teu_brother_surcoat_b, 69, 3100),
    (item_set_slot, itm_teu_brother_surcoat_b, 68, 12),
    (item_set_slot, itm_teu_brother_surcoat_b, 70, 1),
    (item_set_slot, itm_teu_brother_surcoat_b, 76, 29),
    (item_set_slot, itm_teu_brother_surcoat_b, 79, 0),
    (item_set_slot, itm_teu_brother_surcoat_b, 80, 64),
    (item_set_slot, itm_teu_brother_surcoat_b, 81, 24),
    (item_set_slot, itm_teu_brother_surcoat_c, 69, 3100),
    (item_set_slot, itm_teu_brother_surcoat_c, 68, 12),
    (item_set_slot, itm_teu_brother_surcoat_c, 70, 1),
    (item_set_slot, itm_teu_brother_surcoat_c, 76, 29),
    (item_set_slot, itm_teu_brother_surcoat_c, 79, 0),
    (item_set_slot, itm_teu_brother_surcoat_c, 80, 64),
    (item_set_slot, itm_teu_brother_surcoat_c, 81, 24),
    (item_set_slot, itm_teu_brother_surcoat_d, 69, 3100),
    (item_set_slot, itm_teu_brother_surcoat_d, 68, 12),
    (item_set_slot, itm_teu_brother_surcoat_d, 70, 1),
    (item_set_slot, itm_teu_brother_surcoat_d, 76, 29),
    (item_set_slot, itm_teu_brother_surcoat_d, 79, 0),
    (item_set_slot, itm_teu_brother_surcoat_d, 80, 64),
    (item_set_slot, itm_teu_brother_surcoat_d, 81, 24),
    (item_set_slot, itm_teu_brother_surcoat_e, 69, 3100),
    (item_set_slot, itm_teu_brother_surcoat_e, 68, 12),
    (item_set_slot, itm_teu_brother_surcoat_e, 70, 1),
    (item_set_slot, itm_teu_brother_surcoat_e, 76, 29),
    (item_set_slot, itm_teu_brother_surcoat_e, 79, 0),
    (item_set_slot, itm_teu_brother_surcoat_e, 80, 64),
    (item_set_slot, itm_teu_brother_surcoat_e, 81, 24),
    (item_set_slot, itm_templar_sarjeant_surcoat, 69, 3100),
    (item_set_slot, itm_templar_sarjeant_surcoat, 68, 12),
    (item_set_slot, itm_templar_sarjeant_surcoat, 70, 1),
    (item_set_slot, itm_templar_sarjeant_surcoat, 76, 29),
    (item_set_slot, itm_templar_sarjeant_surcoat, 79, 0),
    (item_set_slot, itm_templar_sarjeant_surcoat, 80, 64),
    (item_set_slot, itm_templar_sarjeant_surcoat, 81, 24),
    (item_set_slot, itm_templar_knight_a, 69, 3100),
    (item_set_slot, itm_templar_knight_a, 68, 12),
    (item_set_slot, itm_templar_knight_a, 70, 1),
    (item_set_slot, itm_templar_knight_a, 76, 29),
    (item_set_slot, itm_templar_knight_a, 79, 0),
    (item_set_slot, itm_templar_knight_a, 80, 64),
    (item_set_slot, itm_templar_knight_a, 81, 24),
    (item_set_slot, itm_templar_knight_b, 69, 3100),
    (item_set_slot, itm_templar_knight_b, 68, 12),
    (item_set_slot, itm_templar_knight_b, 70, 1),
    (item_set_slot, itm_templar_knight_b, 76, 29),
    (item_set_slot, itm_templar_knight_b, 79, 0),
    (item_set_slot, itm_templar_knight_b, 80, 64),
    (item_set_slot, itm_templar_knight_b, 81, 24),
    (item_set_slot, itm_templar_knight_c, 69, 3100),
    (item_set_slot, itm_templar_knight_c, 68, 12),
    (item_set_slot, itm_templar_knight_c, 70, 1),
    (item_set_slot, itm_templar_knight_c, 76, 29),
    (item_set_slot, itm_templar_knight_c, 79, 0),
    (item_set_slot, itm_templar_knight_c, 80, 64),
    (item_set_slot, itm_templar_knight_c, 81, 24),
    (item_set_slot, itm_templar_knight_d, 69, 3100),
    (item_set_slot, itm_templar_knight_d, 68, 12),
    (item_set_slot, itm_templar_knight_d, 70, 1),
    (item_set_slot, itm_templar_knight_d, 76, 29),
    (item_set_slot, itm_templar_knight_d, 79, 0),
    (item_set_slot, itm_templar_knight_d, 80, 64),
    (item_set_slot, itm_templar_knight_d, 81, 24),
    (item_set_slot, itm_templar_knight_e, 69, 3100),
    (item_set_slot, itm_templar_knight_e, 68, 12),
    (item_set_slot, itm_templar_knight_e, 70, 1),
    (item_set_slot, itm_templar_knight_e, 76, 29),
    (item_set_slot, itm_templar_knight_e, 79, 0),
    (item_set_slot, itm_templar_knight_e, 80, 64),
    (item_set_slot, itm_templar_knight_e, 81, 24),
    (item_set_slot, itm_templar_knight_f, 69, 3100),
    (item_set_slot, itm_templar_knight_f, 68, 12),
    (item_set_slot, itm_templar_knight_f, 70, 1),
    (item_set_slot, itm_templar_knight_f, 76, 29),
    (item_set_slot, itm_templar_knight_f, 79, 0),
    (item_set_slot, itm_templar_knight_f, 80, 64),
    (item_set_slot, itm_templar_knight_f, 81, 24),
    (item_set_slot, itm_hospitaller_knight_a, 69, 3100),
    (item_set_slot, itm_hospitaller_knight_a, 68, 12),
    (item_set_slot, itm_hospitaller_knight_a, 70, 1),
    (item_set_slot, itm_hospitaller_knight_a, 76, 29),
    (item_set_slot, itm_hospitaller_knight_a, 79, 0),
    (item_set_slot, itm_hospitaller_knight_a, 80, 64),
    (item_set_slot, itm_hospitaller_knight_a, 81, 24),
    (item_set_slot, itm_hospitaller_knight_b, 69, 3100),
    (item_set_slot, itm_hospitaller_knight_b, 68, 12),
    (item_set_slot, itm_hospitaller_knight_b, 70, 1),
    (item_set_slot, itm_hospitaller_knight_b, 76, 29),
    (item_set_slot, itm_hospitaller_knight_b, 79, 0),
    (item_set_slot, itm_hospitaller_knight_b, 80, 64),
    (item_set_slot, itm_hospitaller_knight_b, 81, 24),
    (item_set_slot, itm_hospitaller_knight_c, 69, 3100),
    (item_set_slot, itm_hospitaller_knight_c, 68, 12),
    (item_set_slot, itm_hospitaller_knight_c, 70, 1),
    (item_set_slot, itm_hospitaller_knight_c, 76, 29),
    (item_set_slot, itm_hospitaller_knight_c, 79, 0),
    (item_set_slot, itm_hospitaller_knight_c, 80, 64),
    (item_set_slot, itm_hospitaller_knight_c, 81, 24),
    (item_set_slot, itm_hospitaller_knight_d, 69, 3100),
    (item_set_slot, itm_hospitaller_knight_d, 68, 12),
    (item_set_slot, itm_hospitaller_knight_d, 70, 1),
    (item_set_slot, itm_hospitaller_knight_d, 76, 29),
    (item_set_slot, itm_hospitaller_knight_d, 79, 0),
    (item_set_slot, itm_hospitaller_knight_d, 80, 64),
    (item_set_slot, itm_hospitaller_knight_d, 81, 24),
    (item_set_slot, itm_hospitaller_knight_e, 69, 3100),
    (item_set_slot, itm_hospitaller_knight_e, 68, 12),
    (item_set_slot, itm_hospitaller_knight_e, 70, 1),
    (item_set_slot, itm_hospitaller_knight_e, 76, 29),
    (item_set_slot, itm_hospitaller_knight_e, 79, 0),
    (item_set_slot, itm_hospitaller_knight_e, 80, 64),
    (item_set_slot, itm_hospitaller_knight_e, 81, 24),
    (item_set_slot, itm_hospitaller_knight_f, 69, 3100),
    (item_set_slot, itm_hospitaller_knight_f, 68, 12),
    (item_set_slot, itm_hospitaller_knight_f, 70, 1),
    (item_set_slot, itm_hospitaller_knight_f, 76, 29),
    (item_set_slot, itm_hospitaller_knight_f, 79, 0),
    (item_set_slot, itm_hospitaller_knight_f, 80, 64),
    (item_set_slot, itm_hospitaller_knight_f, 81, 24),
    (item_set_slot, itm_hospitaller_knight_g, 69, 3100),
    (item_set_slot, itm_hospitaller_knight_g, 68, 12),
    (item_set_slot, itm_hospitaller_knight_g, 70, 1),
    (item_set_slot, itm_hospitaller_knight_g, 76, 29),
    (item_set_slot, itm_hospitaller_knight_g, 79, 0),
    (item_set_slot, itm_hospitaller_knight_g, 80, 64),
    (item_set_slot, itm_hospitaller_knight_g, 81, 24),
    (item_set_slot, itm_teu_hbrother_a, 69, 3100),
    (item_set_slot, itm_teu_hbrother_a, 68, 12),
    (item_set_slot, itm_teu_hbrother_a, 70, 1),
    (item_set_slot, itm_teu_hbrother_a, 76, 29),
    (item_set_slot, itm_teu_hbrother_a, 79, 0),
    (item_set_slot, itm_teu_hbrother_a, 80, 64),
    (item_set_slot, itm_teu_hbrother_a, 81, 24),
    (item_set_slot, itm_teu_hbrother_b, 69, 3100),
    (item_set_slot, itm_teu_hbrother_b, 68, 12),
    (item_set_slot, itm_teu_hbrother_b, 70, 1),
    (item_set_slot, itm_teu_hbrother_b, 76, 29),
    (item_set_slot, itm_teu_hbrother_b, 79, 0),
    (item_set_slot, itm_teu_hbrother_b, 80, 64),
    (item_set_slot, itm_teu_hbrother_b, 81, 24),
    (item_set_slot, itm_surcoat_france_b, 69, 3100),
    (item_set_slot, itm_surcoat_france_b, 68, 12),
    (item_set_slot, itm_surcoat_france_b, 70, 1),
    (item_set_slot, itm_surcoat_france_b, 76, 29),
    (item_set_slot, itm_surcoat_france_b, 79, 0),
    (item_set_slot, itm_surcoat_france_b, 80, 64),
    (item_set_slot, itm_surcoat_france_b, 81, 24),
    (item_set_slot, itm_surcoat_gaelic, 69, 3100),
    (item_set_slot, itm_surcoat_gaelic, 68, 12),
    (item_set_slot, itm_surcoat_gaelic, 70, 1),
    (item_set_slot, itm_surcoat_gaelic, 76, 29),
    (item_set_slot, itm_surcoat_gaelic, 79, 0),
    (item_set_slot, itm_surcoat_gaelic, 80, 64),
    (item_set_slot, itm_surcoat_gaelic, 81, 24),
    (item_set_slot, itm_bishop_a, 69, 3100),
    (item_set_slot, itm_bishop_a, 68, 12),
    (item_set_slot, itm_bishop_a, 70, 1),
    (item_set_slot, itm_bishop_a, 76, 29),
    (item_set_slot, itm_bishop_a, 79, 0),
    (item_set_slot, itm_bishop_a, 80, 64),
    (item_set_slot, itm_bishop_a, 81, 24),
    (item_set_slot, itm_irish_surcoat, 69, 3100),
    (item_set_slot, itm_irish_surcoat, 68, 12),
    (item_set_slot, itm_irish_surcoat, 70, 1),
    (item_set_slot, itm_irish_surcoat, 76, 29),
    (item_set_slot, itm_irish_surcoat, 79, 0),
    (item_set_slot, itm_irish_surcoat, 80, 64),
    (item_set_slot, itm_irish_surcoat, 81, 24),
    (item_set_slot, itm_modded_surcoat_1, 69, 3100),
    (item_set_slot, itm_modded_surcoat_1, 68, 12),
    (item_set_slot, itm_modded_surcoat_1, 70, 1),
    (item_set_slot, itm_modded_surcoat_1, 76, 29),
    (item_set_slot, itm_modded_surcoat_1, 79, 0),
    (item_set_slot, itm_modded_surcoat_1, 80, 64),
    (item_set_slot, itm_modded_surcoat_1, 81, 24),
    (item_set_slot, itm_modded_surcoat_2, 69, 3100),
    (item_set_slot, itm_modded_surcoat_2, 68, 12),
    (item_set_slot, itm_modded_surcoat_2, 70, 1),
    (item_set_slot, itm_modded_surcoat_2, 76, 29),
    (item_set_slot, itm_modded_surcoat_2, 79, 0),
    (item_set_slot, itm_modded_surcoat_2, 80, 64),
    (item_set_slot, itm_modded_surcoat_2, 81, 24),
    (item_set_slot, itm_modded_surcoat_3, 69, 3100),
    (item_set_slot, itm_modded_surcoat_3, 68, 12),
    (item_set_slot, itm_modded_surcoat_3, 70, 1),
    (item_set_slot, itm_modded_surcoat_3, 76, 29),
    (item_set_slot, itm_modded_surcoat_3, 79, 0),
    (item_set_slot, itm_modded_surcoat_3, 80, 64),
    (item_set_slot, itm_modded_surcoat_3, 81, 24),
    (item_set_slot, itm_modded_surcoat_4, 69, 3100),
    (item_set_slot, itm_modded_surcoat_4, 68, 12),
    (item_set_slot, itm_modded_surcoat_4, 70, 1),
    (item_set_slot, itm_modded_surcoat_4, 76, 29),
    (item_set_slot, itm_modded_surcoat_4, 79, 0),
    (item_set_slot, itm_modded_surcoat_4, 80, 64),
    (item_set_slot, itm_modded_surcoat_4, 81, 24),
    (item_set_slot, itm_modded_surcoat_5, 69, 3100),
    (item_set_slot, itm_modded_surcoat_5, 68, 12),
    (item_set_slot, itm_modded_surcoat_5, 70, 1),
    (item_set_slot, itm_modded_surcoat_5, 76, 29),
    (item_set_slot, itm_modded_surcoat_5, 79, 0),
    (item_set_slot, itm_modded_surcoat_5, 80, 64),
    (item_set_slot, itm_modded_surcoat_5, 81, 24),
    (item_set_slot, itm_modded_surcoat_6, 69, 3100),
    (item_set_slot, itm_modded_surcoat_6, 68, 12),
    (item_set_slot, itm_modded_surcoat_6, 70, 1),
    (item_set_slot, itm_modded_surcoat_6, 76, 29),
    (item_set_slot, itm_modded_surcoat_6, 79, 0),
    (item_set_slot, itm_modded_surcoat_6, 80, 64),
    (item_set_slot, itm_modded_surcoat_6, 81, 24),
    (item_set_slot, itm_modded_surcoat_7, 69, 3100),
    (item_set_slot, itm_modded_surcoat_7, 68, 12),
    (item_set_slot, itm_modded_surcoat_7, 70, 1),
    (item_set_slot, itm_modded_surcoat_7, 76, 29),
    (item_set_slot, itm_modded_surcoat_7, 79, 0),
    (item_set_slot, itm_modded_surcoat_7, 80, 64),
    (item_set_slot, itm_modded_surcoat_7, 81, 24),
    (item_set_slot, itm_modded_surcoat_8, 69, 3100),
    (item_set_slot, itm_modded_surcoat_8, 68, 12),
    (item_set_slot, itm_modded_surcoat_8, 70, 1),
    (item_set_slot, itm_modded_surcoat_8, 76, 29),
    (item_set_slot, itm_modded_surcoat_8, 79, 0),
    (item_set_slot, itm_modded_surcoat_8, 80, 64),
    (item_set_slot, itm_modded_surcoat_8, 81, 24),
    (item_set_slot, itm_modded_surcoat_9, 69, 3100),
    (item_set_slot, itm_modded_surcoat_9, 68, 12),
    (item_set_slot, itm_modded_surcoat_9, 70, 1),
    (item_set_slot, itm_modded_surcoat_9, 76, 29),
    (item_set_slot, itm_modded_surcoat_9, 79, 0),
    (item_set_slot, itm_modded_surcoat_9, 80, 64),
    (item_set_slot, itm_modded_surcoat_9, 81, 24),
    (item_set_slot, itm_modded_surcoat_10, 69, 3100),
    (item_set_slot, itm_modded_surcoat_10, 68, 12),
    (item_set_slot, itm_modded_surcoat_10, 70, 1),
    (item_set_slot, itm_modded_surcoat_10, 76, 29),
    (item_set_slot, itm_modded_surcoat_10, 79, 0),
    (item_set_slot, itm_modded_surcoat_10, 80, 64),
    (item_set_slot, itm_modded_surcoat_10, 81, 24),
    (item_set_slot, itm_modded_surcoat_11, 69, 3100),
    (item_set_slot, itm_modded_surcoat_11, 68, 12),
    (item_set_slot, itm_modded_surcoat_11, 70, 1),
    (item_set_slot, itm_modded_surcoat_11, 76, 29),
    (item_set_slot, itm_modded_surcoat_11, 79, 0),
    (item_set_slot, itm_modded_surcoat_11, 80, 64),
    (item_set_slot, itm_modded_surcoat_11, 81, 24),
    (item_set_slot, itm_modded_surcoat_12, 69, 3100),
    (item_set_slot, itm_modded_surcoat_12, 68, 12),
    (item_set_slot, itm_modded_surcoat_12, 70, 1),
    (item_set_slot, itm_modded_surcoat_12, 76, 29),
    (item_set_slot, itm_modded_surcoat_12, 79, 0),
    (item_set_slot, itm_modded_surcoat_12, 80, 64),
    (item_set_slot, itm_modded_surcoat_12, 81, 24),
    (item_set_slot, itm_modded_surcoat_13, 69, 3100),
    (item_set_slot, itm_modded_surcoat_13, 68, 12),
    (item_set_slot, itm_modded_surcoat_13, 70, 1),
    (item_set_slot, itm_modded_surcoat_13, 76, 29),
    (item_set_slot, itm_modded_surcoat_13, 79, 0),
    (item_set_slot, itm_modded_surcoat_13, 80, 64),
    (item_set_slot, itm_modded_surcoat_13, 81, 24),
    (item_set_slot, itm_modded_surcoat_14, 69, 3100),
    (item_set_slot, itm_modded_surcoat_14, 68, 12),
    (item_set_slot, itm_modded_surcoat_14, 70, 1),
    (item_set_slot, itm_modded_surcoat_14, 76, 29),
    (item_set_slot, itm_modded_surcoat_14, 79, 0),
    (item_set_slot, itm_modded_surcoat_14, 80, 64),
    (item_set_slot, itm_modded_surcoat_14, 81, 24),
    (item_set_slot, itm_modded_surcoat_15, 69, 3100),
    (item_set_slot, itm_modded_surcoat_15, 68, 12),
    (item_set_slot, itm_modded_surcoat_15, 70, 1),
    (item_set_slot, itm_modded_surcoat_15, 76, 29),
    (item_set_slot, itm_modded_surcoat_15, 79, 0),
    (item_set_slot, itm_modded_surcoat_15, 80, 64),
    (item_set_slot, itm_modded_surcoat_15, 81, 24),
    (item_set_slot, itm_modded_surcoat_16, 69, 3100),
    (item_set_slot, itm_modded_surcoat_16, 68, 12),
    (item_set_slot, itm_modded_surcoat_16, 70, 1),
    (item_set_slot, itm_modded_surcoat_16, 76, 29),
    (item_set_slot, itm_modded_surcoat_16, 79, 0),
    (item_set_slot, itm_modded_surcoat_16, 80, 64),
    (item_set_slot, itm_modded_surcoat_16, 81, 24),
    (item_set_slot, itm_modded_surcoat_17, 69, 3100),
    (item_set_slot, itm_modded_surcoat_17, 68, 12),
    (item_set_slot, itm_modded_surcoat_17, 70, 1),
    (item_set_slot, itm_modded_surcoat_17, 76, 29),
    (item_set_slot, itm_modded_surcoat_17, 79, 0),
    (item_set_slot, itm_modded_surcoat_17, 80, 64),
    (item_set_slot, itm_modded_surcoat_17, 81, 24),
    (item_set_slot, itm_modded_surcoat_18, 69, 3100),
    (item_set_slot, itm_modded_surcoat_18, 68, 12),
    (item_set_slot, itm_modded_surcoat_18, 70, 1),
    (item_set_slot, itm_modded_surcoat_18, 76, 29),
    (item_set_slot, itm_modded_surcoat_18, 79, 0),
    (item_set_slot, itm_modded_surcoat_18, 80, 64),
    (item_set_slot, itm_modded_surcoat_18, 81, 24),
    (item_set_slot, itm_modded_surcoat_19, 69, 3100),
    (item_set_slot, itm_modded_surcoat_19, 68, 12),
    (item_set_slot, itm_modded_surcoat_19, 70, 1),
    (item_set_slot, itm_modded_surcoat_19, 76, 29),
    (item_set_slot, itm_modded_surcoat_19, 79, 0),
    (item_set_slot, itm_modded_surcoat_19, 80, 64),
    (item_set_slot, itm_modded_surcoat_19, 81, 24),
    (item_set_slot, itm_modded_surcoat_20, 69, 3100),
    (item_set_slot, itm_modded_surcoat_20, 68, 12),
    (item_set_slot, itm_modded_surcoat_20, 70, 1),
    (item_set_slot, itm_modded_surcoat_20, 76, 29),
    (item_set_slot, itm_modded_surcoat_20, 79, 0),
    (item_set_slot, itm_modded_surcoat_20, 80, 64),
    (item_set_slot, itm_modded_surcoat_20, 81, 24),
    (item_set_slot, itm_modded_surcoat_21, 69, 3100),
    (item_set_slot, itm_modded_surcoat_21, 68, 12),
    (item_set_slot, itm_modded_surcoat_21, 70, 1),
    (item_set_slot, itm_modded_surcoat_21, 76, 29),
    (item_set_slot, itm_modded_surcoat_21, 79, 0),
    (item_set_slot, itm_modded_surcoat_21, 80, 64),
    (item_set_slot, itm_modded_surcoat_21, 81, 24),
    (item_set_slot, itm_modded_surcoat_22, 69, 3100),
    (item_set_slot, itm_modded_surcoat_22, 68, 12),
    (item_set_slot, itm_modded_surcoat_22, 70, 1),
    (item_set_slot, itm_modded_surcoat_22, 76, 29),
    (item_set_slot, itm_modded_surcoat_22, 79, 0),
    (item_set_slot, itm_modded_surcoat_22, 80, 64),
    (item_set_slot, itm_modded_surcoat_22, 81, 24),
    (item_set_slot, itm_coat_of_plates, 69, 3600),
    (item_set_slot, itm_coat_of_plates, 68, 14),
    (item_set_slot, itm_coat_of_plates, 70, 1),
    (item_set_slot, itm_coat_of_plates, 76, 29),
    (item_set_slot, itm_coat_of_plates, 79, 0),
    (item_set_slot, itm_coat_of_plates, 80, 80),
    (item_set_slot, itm_coat_of_plates, 81, 29),
    (item_set_slot, itm_coat_of_plates_red, 69, 3600),
    (item_set_slot, itm_coat_of_plates_red, 68, 14),
    (item_set_slot, itm_coat_of_plates_red, 70, 1),
    (item_set_slot, itm_coat_of_plates_red, 76, 29),
    (item_set_slot, itm_coat_of_plates_red, 79, 0),
    (item_set_slot, itm_coat_of_plates_red, 80, 80),
    (item_set_slot, itm_coat_of_plates_red, 81, 29),
    (item_set_slot, itm_bishop_cop, 69, 3600),
    (item_set_slot, itm_bishop_cop, 68, 14),
    (item_set_slot, itm_bishop_cop, 70, 1),
    (item_set_slot, itm_bishop_cop, 76, 29),
    (item_set_slot, itm_bishop_cop, 79, 0),
    (item_set_slot, itm_bishop_cop, 80, 80),
    (item_set_slot, itm_bishop_cop, 81, 29),
    (item_set_slot, itm_teu_coat_of_plates, 69, 3600),
    (item_set_slot, itm_teu_coat_of_plates, 68, 14),
    (item_set_slot, itm_teu_coat_of_plates, 70, 1),
    (item_set_slot, itm_teu_coat_of_plates, 76, 29),
    (item_set_slot, itm_teu_coat_of_plates, 79, 0),
    (item_set_slot, itm_teu_coat_of_plates, 80, 80),
    (item_set_slot, itm_teu_coat_of_plates, 81, 29),
    (item_set_slot, itm_hirdman_a, 69, 3600),
    (item_set_slot, itm_hirdman_a, 68, 14),
    (item_set_slot, itm_hirdman_a, 70, 1),
    (item_set_slot, itm_hirdman_a, 76, 29),
    (item_set_slot, itm_hirdman_a, 79, 0),
    (item_set_slot, itm_hirdman_a, 80, 80),
    (item_set_slot, itm_hirdman_a, 81, 29),
    (item_set_slot, itm_bishop_armour, 69, 3600),
    (item_set_slot, itm_bishop_armour, 68, 14),
    (item_set_slot, itm_bishop_armour, 70, 1),
    (item_set_slot, itm_bishop_armour, 76, 29),
    (item_set_slot, itm_bishop_armour, 79, 0),
    (item_set_slot, itm_bishop_armour, 80, 80),
    (item_set_slot, itm_bishop_armour, 81, 29),
    (item_set_slot, itm_teu_hochmeister_surcoat, 69, 2500),
    (item_set_slot, itm_teu_hochmeister_surcoat, 68, 12),
    (item_set_slot, itm_teu_hochmeister_surcoat, 70, 1),
    (item_set_slot, itm_teu_hochmeister_surcoat, 76, 29),
    (item_set_slot, itm_teu_hochmeister_surcoat, 79, 0),
    (item_set_slot, itm_teu_hochmeister_surcoat, 80, 74),
    (item_set_slot, itm_teu_hochmeister_surcoat, 81, 33),
    (item_set_slot, itm_teu_hochmeister_surcoat_2, 69, 2500),
    (item_set_slot, itm_teu_hochmeister_surcoat_2, 68, 12),
    (item_set_slot, itm_teu_hochmeister_surcoat_2, 70, 1),
    (item_set_slot, itm_teu_hochmeister_surcoat_2, 76, 29),
    (item_set_slot, itm_teu_hochmeister_surcoat_2, 79, 0),
    (item_set_slot, itm_teu_hochmeister_surcoat_2, 80, 74),
    (item_set_slot, itm_teu_hochmeister_surcoat_2, 81, 33),
    (item_set_slot, itm_hospitaller_hochmeister_surcoat_1, 69, 2500),
    (item_set_slot, itm_hospitaller_hochmeister_surcoat_1, 68, 12),
    (item_set_slot, itm_hospitaller_hochmeister_surcoat_1, 70, 1),
    (item_set_slot, itm_hospitaller_hochmeister_surcoat_1, 76, 29),
    (item_set_slot, itm_hospitaller_hochmeister_surcoat_1, 79, 0),
    (item_set_slot, itm_hospitaller_hochmeister_surcoat_1, 80, 74),
    (item_set_slot, itm_hospitaller_hochmeister_surcoat_1, 81, 33),
    (item_set_slot, itm_rnd_surcoat_01, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_01, 68, 12),
    (item_set_slot, itm_rnd_surcoat_01, 70, 1),
    (item_set_slot, itm_rnd_surcoat_01, 76, 29),
    (item_set_slot, itm_rnd_surcoat_01, 79, 0),
    (item_set_slot, itm_rnd_surcoat_01, 80, 64),
    (item_set_slot, itm_rnd_surcoat_01, 81, 24),
    (item_set_slot, itm_rnd_surcoat_02, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_02, 68, 12),
    (item_set_slot, itm_rnd_surcoat_02, 70, 1),
    (item_set_slot, itm_rnd_surcoat_02, 76, 29),
    (item_set_slot, itm_rnd_surcoat_02, 79, 0),
    (item_set_slot, itm_rnd_surcoat_02, 80, 64),
    (item_set_slot, itm_rnd_surcoat_02, 81, 24),
    (item_set_slot, itm_rnd_surcoat_03, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_03, 68, 12),
    (item_set_slot, itm_rnd_surcoat_03, 70, 1),
    (item_set_slot, itm_rnd_surcoat_03, 76, 29),
    (item_set_slot, itm_rnd_surcoat_03, 79, 0),
    (item_set_slot, itm_rnd_surcoat_03, 80, 64),
    (item_set_slot, itm_rnd_surcoat_03, 81, 24),
    (item_set_slot, itm_rnd_surcoat_04, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_04, 68, 12),
    (item_set_slot, itm_rnd_surcoat_04, 70, 1),
    (item_set_slot, itm_rnd_surcoat_04, 76, 29),
    (item_set_slot, itm_rnd_surcoat_04, 79, 0),
    (item_set_slot, itm_rnd_surcoat_04, 80, 64),
    (item_set_slot, itm_rnd_surcoat_04, 81, 24),
    (item_set_slot, itm_rnd_surcoat_05, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_05, 68, 12),
    (item_set_slot, itm_rnd_surcoat_05, 70, 1),
    (item_set_slot, itm_rnd_surcoat_05, 76, 29),
    (item_set_slot, itm_rnd_surcoat_05, 79, 0),
    (item_set_slot, itm_rnd_surcoat_05, 80, 64),
    (item_set_slot, itm_rnd_surcoat_05, 81, 24),
    (item_set_slot, itm_rnd_surcoat_06, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_06, 68, 12),
    (item_set_slot, itm_rnd_surcoat_06, 70, 1),
    (item_set_slot, itm_rnd_surcoat_06, 76, 29),
    (item_set_slot, itm_rnd_surcoat_06, 79, 0),
    (item_set_slot, itm_rnd_surcoat_06, 80, 64),
    (item_set_slot, itm_rnd_surcoat_06, 81, 24),
    (item_set_slot, itm_rnd_surcoat_07, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_07, 68, 12),
    (item_set_slot, itm_rnd_surcoat_07, 70, 1),
    (item_set_slot, itm_rnd_surcoat_07, 76, 29),
    (item_set_slot, itm_rnd_surcoat_07, 79, 0),
    (item_set_slot, itm_rnd_surcoat_07, 80, 64),
    (item_set_slot, itm_rnd_surcoat_07, 81, 24),
    (item_set_slot, itm_rnd_surcoat_08, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_08, 68, 12),
    (item_set_slot, itm_rnd_surcoat_08, 70, 1),
    (item_set_slot, itm_rnd_surcoat_08, 76, 29),
    (item_set_slot, itm_rnd_surcoat_08, 79, 0),
    (item_set_slot, itm_rnd_surcoat_08, 80, 64),
    (item_set_slot, itm_rnd_surcoat_08, 81, 24),
    (item_set_slot, itm_rnd_surcoat_09, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_09, 68, 12),
    (item_set_slot, itm_rnd_surcoat_09, 70, 1),
    (item_set_slot, itm_rnd_surcoat_09, 76, 29),
    (item_set_slot, itm_rnd_surcoat_09, 79, 0),
    (item_set_slot, itm_rnd_surcoat_09, 80, 64),
    (item_set_slot, itm_rnd_surcoat_09, 81, 24),
    (item_set_slot, itm_rnd_surcoat_10, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_10, 68, 12),
    (item_set_slot, itm_rnd_surcoat_10, 70, 1),
    (item_set_slot, itm_rnd_surcoat_10, 76, 29),
    (item_set_slot, itm_rnd_surcoat_10, 79, 0),
    (item_set_slot, itm_rnd_surcoat_10, 80, 64),
    (item_set_slot, itm_rnd_surcoat_10, 81, 24),
    (item_set_slot, itm_rnd_surcoat_11, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_11, 68, 12),
    (item_set_slot, itm_rnd_surcoat_11, 70, 1),
    (item_set_slot, itm_rnd_surcoat_11, 76, 29),
    (item_set_slot, itm_rnd_surcoat_11, 79, 0),
    (item_set_slot, itm_rnd_surcoat_11, 80, 64),
    (item_set_slot, itm_rnd_surcoat_11, 81, 24),
    (item_set_slot, itm_rnd_surcoat_12, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_12, 68, 12),
    (item_set_slot, itm_rnd_surcoat_12, 70, 1),
    (item_set_slot, itm_rnd_surcoat_12, 76, 29),
    (item_set_slot, itm_rnd_surcoat_12, 79, 0),
    (item_set_slot, itm_rnd_surcoat_12, 80, 64),
    (item_set_slot, itm_rnd_surcoat_12, 81, 24),
    (item_set_slot, itm_rnd_surcoat_13, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_13, 68, 12),
    (item_set_slot, itm_rnd_surcoat_13, 70, 1),
    (item_set_slot, itm_rnd_surcoat_13, 76, 29),
    (item_set_slot, itm_rnd_surcoat_13, 79, 0),
    (item_set_slot, itm_rnd_surcoat_13, 80, 64),
    (item_set_slot, itm_rnd_surcoat_13, 81, 24),
    (item_set_slot, itm_rnd_surcoat_14, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_14, 68, 12),
    (item_set_slot, itm_rnd_surcoat_14, 70, 1),
    (item_set_slot, itm_rnd_surcoat_14, 76, 29),
    (item_set_slot, itm_rnd_surcoat_14, 79, 0),
    (item_set_slot, itm_rnd_surcoat_14, 80, 64),
    (item_set_slot, itm_rnd_surcoat_14, 81, 24),
    (item_set_slot, itm_rnd_surcoat_15, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_15, 68, 12),
    (item_set_slot, itm_rnd_surcoat_15, 70, 1),
    (item_set_slot, itm_rnd_surcoat_15, 76, 29),
    (item_set_slot, itm_rnd_surcoat_15, 79, 0),
    (item_set_slot, itm_rnd_surcoat_15, 80, 64),
    (item_set_slot, itm_rnd_surcoat_15, 81, 24),
    (item_set_slot, itm_rnd_surcoat_16, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_16, 68, 12),
    (item_set_slot, itm_rnd_surcoat_16, 70, 1),
    (item_set_slot, itm_rnd_surcoat_16, 76, 29),
    (item_set_slot, itm_rnd_surcoat_16, 79, 0),
    (item_set_slot, itm_rnd_surcoat_16, 80, 64),
    (item_set_slot, itm_rnd_surcoat_16, 81, 24),
    (item_set_slot, itm_rnd_surcoat_17, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_17, 68, 12),
    (item_set_slot, itm_rnd_surcoat_17, 70, 1),
    (item_set_slot, itm_rnd_surcoat_17, 76, 29),
    (item_set_slot, itm_rnd_surcoat_17, 79, 0),
    (item_set_slot, itm_rnd_surcoat_17, 80, 64),
    (item_set_slot, itm_rnd_surcoat_17, 81, 24),
    (item_set_slot, itm_rnd_surcoat_18, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_18, 68, 12),
    (item_set_slot, itm_rnd_surcoat_18, 70, 1),
    (item_set_slot, itm_rnd_surcoat_18, 76, 29),
    (item_set_slot, itm_rnd_surcoat_18, 79, 0),
    (item_set_slot, itm_rnd_surcoat_18, 80, 64),
    (item_set_slot, itm_rnd_surcoat_18, 81, 24),
    (item_set_slot, itm_rnd_surcoat_19, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_19, 68, 12),
    (item_set_slot, itm_rnd_surcoat_19, 70, 1),
    (item_set_slot, itm_rnd_surcoat_19, 76, 29),
    (item_set_slot, itm_rnd_surcoat_19, 79, 0),
    (item_set_slot, itm_rnd_surcoat_19, 80, 64),
    (item_set_slot, itm_rnd_surcoat_19, 81, 24),
    (item_set_slot, itm_rnd_surcoat_20, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_20, 68, 12),
    (item_set_slot, itm_rnd_surcoat_20, 70, 1),
    (item_set_slot, itm_rnd_surcoat_20, 76, 29),
    (item_set_slot, itm_rnd_surcoat_20, 79, 0),
    (item_set_slot, itm_rnd_surcoat_20, 80, 64),
    (item_set_slot, itm_rnd_surcoat_20, 81, 24),
    (item_set_slot, itm_rnd_surcoat_21, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_21, 68, 12),
    (item_set_slot, itm_rnd_surcoat_21, 70, 1),
    (item_set_slot, itm_rnd_surcoat_21, 76, 29),
    (item_set_slot, itm_rnd_surcoat_21, 79, 0),
    (item_set_slot, itm_rnd_surcoat_21, 80, 64),
    (item_set_slot, itm_rnd_surcoat_21, 81, 24),
    (item_set_slot, itm_rnd_surcoat_22, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_22, 68, 12),
    (item_set_slot, itm_rnd_surcoat_22, 70, 1),
    (item_set_slot, itm_rnd_surcoat_22, 76, 29),
    (item_set_slot, itm_rnd_surcoat_22, 79, 0),
    (item_set_slot, itm_rnd_surcoat_22, 80, 64),
    (item_set_slot, itm_rnd_surcoat_22, 81, 24),
    (item_set_slot, itm_rnd_surcoat_23, 69, 3100),
    (item_set_slot, itm_rnd_surcoat_23, 68, 12),
    (item_set_slot, itm_rnd_surcoat_23, 70, 1),
    (item_set_slot, itm_rnd_surcoat_23, 76, 29),
    (item_set_slot, itm_rnd_surcoat_23, 79, 0),
    (item_set_slot, itm_rnd_surcoat_23, 80, 64),
    (item_set_slot, itm_rnd_surcoat_23, 81, 24),
    (item_set_slot, itm_rus_militia_padded_a, 69, 1400),
    (item_set_slot, itm_rus_militia_padded_a, 68, 5),
    (item_set_slot, itm_rus_militia_padded_a, 70, 0),
    (item_set_slot, itm_rus_militia_padded_a, 76, 26),
    (item_set_slot, itm_rus_militia_padded_a, 79, 0),
    (item_set_slot, itm_rus_militia_padded_a, 80, 26),
    (item_set_slot, itm_rus_militia_padded_a, 81, 12),
    (item_set_slot, itm_kau_rus_d, 69, 1800),
    (item_set_slot, itm_kau_rus_d, 68, 8),
    (item_set_slot, itm_kau_rus_d, 70, 0),
    (item_set_slot, itm_kau_rus_d, 76, 26),
    (item_set_slot, itm_kau_rus_d, 79, 0),
    (item_set_slot, itm_kau_rus_d, 80, 33),
    (item_set_slot, itm_kau_rus_d, 81, 14),
    (item_set_slot, itm_kau_rus_mail_shirt_b, 69, 1800),
    (item_set_slot, itm_kau_rus_mail_shirt_b, 68, 8),
    (item_set_slot, itm_kau_rus_mail_shirt_b, 70, 0),
    (item_set_slot, itm_kau_rus_mail_shirt_b, 76, 26),
    (item_set_slot, itm_kau_rus_mail_shirt_b, 79, 0),
    (item_set_slot, itm_kau_rus_mail_shirt_b, 80, 33),
    (item_set_slot, itm_kau_rus_mail_shirt_b, 81, 14),
    (item_set_slot, itm_rus_leather_scale_b, 69, 1800),
    (item_set_slot, itm_rus_leather_scale_b, 68, 8),
    (item_set_slot, itm_rus_leather_scale_b, 70, 1),
    (item_set_slot, itm_rus_leather_scale_b, 76, 29),
    (item_set_slot, itm_rus_leather_scale_b, 79, 0),
    (item_set_slot, itm_rus_leather_scale_b, 80, 33),
    (item_set_slot, itm_rus_leather_scale_b, 81, 14),
    (item_set_slot, itm_rus_padded, 69, 1800),
    (item_set_slot, itm_rus_padded, 68, 8),
    (item_set_slot, itm_rus_padded, 70, 1),
    (item_set_slot, itm_rus_padded, 76, 29),
    (item_set_slot, itm_rus_padded, 79, 0),
    (item_set_slot, itm_rus_padded, 80, 33),
    (item_set_slot, itm_rus_padded, 81, 14),
    (item_set_slot, itm_kau_rus_a, 69, 2100),
    (item_set_slot, itm_kau_rus_a, 68, 9),
    (item_set_slot, itm_kau_rus_a, 70, 1),
    (item_set_slot, itm_kau_rus_a, 76, 29),
    (item_set_slot, itm_kau_rus_a, 79, 0),
    (item_set_slot, itm_kau_rus_a, 80, 41),
    (item_set_slot, itm_kau_rus_a, 81, 17),
    (item_set_slot, itm_kau_rus_c, 69, 2100),
    (item_set_slot, itm_kau_rus_c, 68, 9),
    (item_set_slot, itm_kau_rus_c, 70, 1),
    (item_set_slot, itm_kau_rus_c, 76, 29),
    (item_set_slot, itm_kau_rus_c, 79, 0),
    (item_set_slot, itm_kau_rus_c, 80, 41),
    (item_set_slot, itm_kau_rus_c, 81, 17),
    (item_set_slot, itm_kau_rus_mail_shirt_a, 69, 2100),
    (item_set_slot, itm_kau_rus_mail_shirt_a, 68, 9),
    (item_set_slot, itm_kau_rus_mail_shirt_a, 70, 1),
    (item_set_slot, itm_kau_rus_mail_shirt_a, 76, 29),
    (item_set_slot, itm_kau_rus_mail_shirt_a, 79, 0),
    (item_set_slot, itm_kau_rus_mail_shirt_a, 80, 41),
    (item_set_slot, itm_kau_rus_mail_shirt_a, 81, 17),
    (item_set_slot, itm_rus_mail_shirt_c, 69, 2100),
    (item_set_slot, itm_rus_mail_shirt_c, 68, 9),
    (item_set_slot, itm_rus_mail_shirt_c, 70, 1),
    (item_set_slot, itm_rus_mail_shirt_c, 76, 29),
    (item_set_slot, itm_rus_mail_shirt_c, 79, 0),
    (item_set_slot, itm_rus_mail_shirt_c, 80, 41),
    (item_set_slot, itm_rus_mail_shirt_c, 81, 17),
    (item_set_slot, itm_rus_noble_mail, 69, 2100),
    (item_set_slot, itm_rus_noble_mail, 68, 9),
    (item_set_slot, itm_rus_noble_mail, 70, 1),
    (item_set_slot, itm_rus_noble_mail, 76, 29),
    (item_set_slot, itm_rus_noble_mail, 79, 0),
    (item_set_slot, itm_rus_noble_mail, 80, 41),
    (item_set_slot, itm_rus_noble_mail, 81, 17),
    (item_set_slot, itm_rus_leather_scale, 69, 2100),
    (item_set_slot, itm_rus_leather_scale, 68, 9),
    (item_set_slot, itm_rus_leather_scale, 70, 1),
    (item_set_slot, itm_rus_leather_scale, 76, 29),
    (item_set_slot, itm_rus_leather_scale, 79, 0),
    (item_set_slot, itm_rus_leather_scale, 80, 41),
    (item_set_slot, itm_rus_leather_scale, 81, 17),
    (item_set_slot, itm_kau_rus_noble_b, 69, 2600),
    (item_set_slot, itm_kau_rus_noble_b, 68, 10),
    (item_set_slot, itm_kau_rus_noble_b, 70, 1),
    (item_set_slot, itm_kau_rus_noble_b, 76, 29),
    (item_set_slot, itm_kau_rus_noble_b, 79, 0),
    (item_set_slot, itm_kau_rus_noble_b, 80, 51),
    (item_set_slot, itm_kau_rus_noble_b, 81, 20),
    (item_set_slot, itm_kau_rus_lamellar_vest, 69, 2600),
    (item_set_slot, itm_kau_rus_lamellar_vest, 68, 10),
    (item_set_slot, itm_kau_rus_lamellar_vest, 70, 0),
    (item_set_slot, itm_kau_rus_lamellar_vest, 76, 26),
    (item_set_slot, itm_kau_rus_lamellar_vest, 79, 0),
    (item_set_slot, itm_kau_rus_lamellar_vest, 80, 51),
    (item_set_slot, itm_kau_rus_lamellar_vest, 81, 20),
    (item_set_slot, itm_kau_rus_noble_a, 69, 2600),
    (item_set_slot, itm_kau_rus_noble_a, 68, 10),
    (item_set_slot, itm_kau_rus_noble_a, 70, 1),
    (item_set_slot, itm_kau_rus_noble_a, 76, 29),
    (item_set_slot, itm_kau_rus_noble_a, 79, 0),
    (item_set_slot, itm_kau_rus_noble_a, 80, 51),
    (item_set_slot, itm_kau_rus_noble_a, 81, 20),
    (item_set_slot, itm_kau_rus_scale_a, 69, 3100),
    (item_set_slot, itm_kau_rus_scale_a, 68, 12),
    (item_set_slot, itm_kau_rus_scale_a, 70, 1),
    (item_set_slot, itm_kau_rus_scale_a, 76, 29),
    (item_set_slot, itm_kau_rus_scale_a, 79, 0),
    (item_set_slot, itm_kau_rus_scale_a, 80, 64),
    (item_set_slot, itm_kau_rus_scale_a, 81, 24),
    (item_set_slot, itm_kau_rus_b, 69, 3100),
    (item_set_slot, itm_kau_rus_b, 68, 12),
    (item_set_slot, itm_kau_rus_b, 70, 1),
    (item_set_slot, itm_kau_rus_b, 76, 29),
    (item_set_slot, itm_kau_rus_b, 79, 0),
    (item_set_slot, itm_kau_rus_b, 80, 64),
    (item_set_slot, itm_kau_rus_b, 81, 24),
    (item_set_slot, itm_kau_rus_noble_d, 69, 3100),
    (item_set_slot, itm_kau_rus_noble_d, 68, 12),
    (item_set_slot, itm_kau_rus_noble_d, 70, 1),
    (item_set_slot, itm_kau_rus_noble_d, 76, 29),
    (item_set_slot, itm_kau_rus_noble_d, 79, 0),
    (item_set_slot, itm_kau_rus_noble_d, 80, 64),
    (item_set_slot, itm_kau_rus_noble_d, 81, 24),
    (item_set_slot, itm_kau_arab_aketon_red, 69, 1400),
    (item_set_slot, itm_kau_arab_aketon_red, 68, 5),
    (item_set_slot, itm_kau_arab_aketon_red, 70, 0),
    (item_set_slot, itm_kau_arab_aketon_red, 76, 26),
    (item_set_slot, itm_kau_arab_aketon_red, 79, 0),
    (item_set_slot, itm_kau_arab_aketon_red, 80, 26),
    (item_set_slot, itm_kau_arab_aketon_red, 81, 12),
    (item_set_slot, itm_kau_arab_aketon_green, 69, 1400),
    (item_set_slot, itm_kau_arab_aketon_green, 68, 5),
    (item_set_slot, itm_kau_arab_aketon_green, 70, 0),
    (item_set_slot, itm_kau_arab_aketon_green, 76, 26),
    (item_set_slot, itm_kau_arab_aketon_green, 79, 0),
    (item_set_slot, itm_kau_arab_aketon_green, 80, 26),
    (item_set_slot, itm_kau_arab_aketon_green, 81, 12),
    (item_set_slot, itm_almohad_padded_a, 69, 1400),
    (item_set_slot, itm_almohad_padded_a, 68, 5),
    (item_set_slot, itm_almohad_padded_a, 70, 0),
    (item_set_slot, itm_almohad_padded_a, 76, 26),
    (item_set_slot, itm_almohad_padded_a, 79, 0),
    (item_set_slot, itm_almohad_padded_a, 80, 26),
    (item_set_slot, itm_almohad_padded_a, 81, 12),
    (item_set_slot, itm_almohad_padded_b, 69, 1400),
    (item_set_slot, itm_almohad_padded_b, 68, 5),
    (item_set_slot, itm_almohad_padded_b, 70, 0),
    (item_set_slot, itm_almohad_padded_b, 76, 26),
    (item_set_slot, itm_almohad_padded_b, 79, 0),
    (item_set_slot, itm_almohad_padded_b, 80, 26),
    (item_set_slot, itm_almohad_padded_b, 81, 12),
    (item_set_slot, itm_almohad_padded_c, 69, 1400),
    (item_set_slot, itm_almohad_padded_c, 68, 5),
    (item_set_slot, itm_almohad_padded_c, 70, 0),
    (item_set_slot, itm_almohad_padded_c, 76, 26),
    (item_set_slot, itm_almohad_padded_c, 79, 0),
    (item_set_slot, itm_almohad_padded_c, 80, 26),
    (item_set_slot, itm_almohad_padded_c, 81, 12),
    (item_set_slot, itm_berber_robe_a, 69, 1400),
    (item_set_slot, itm_berber_robe_a, 68, 5),
    (item_set_slot, itm_berber_robe_a, 70, 1),
    (item_set_slot, itm_berber_robe_a, 76, 29),
    (item_set_slot, itm_berber_robe_a, 79, 0),
    (item_set_slot, itm_berber_robe_a, 80, 26),
    (item_set_slot, itm_berber_robe_a, 81, 12),
    (item_set_slot, itm_berber_robe_b, 69, 1400),
    (item_set_slot, itm_berber_robe_b, 68, 5),
    (item_set_slot, itm_berber_robe_b, 70, 1),
    (item_set_slot, itm_berber_robe_b, 76, 29),
    (item_set_slot, itm_berber_robe_b, 79, 0),
    (item_set_slot, itm_berber_robe_b, 80, 26),
    (item_set_slot, itm_berber_robe_b, 81, 12),
    (item_set_slot, itm_berber_robe_c, 69, 1400),
    (item_set_slot, itm_berber_robe_c, 68, 5),
    (item_set_slot, itm_berber_robe_c, 70, 1),
    (item_set_slot, itm_berber_robe_c, 76, 29),
    (item_set_slot, itm_berber_robe_c, 79, 0),
    (item_set_slot, itm_berber_robe_c, 80, 26),
    (item_set_slot, itm_berber_robe_c, 81, 12),
    (item_set_slot, itm_moors_quilted_kaftan_blue, 69, 1400),
    (item_set_slot, itm_moors_quilted_kaftan_blue, 68, 5),
    (item_set_slot, itm_moors_quilted_kaftan_blue, 70, 0),
    (item_set_slot, itm_moors_quilted_kaftan_blue, 76, 26),
    (item_set_slot, itm_moors_quilted_kaftan_blue, 79, 0),
    (item_set_slot, itm_moors_quilted_kaftan_blue, 80, 26),
    (item_set_slot, itm_moors_quilted_kaftan_blue, 81, 12),
    (item_set_slot, itm_moors_quilted_kaftan_brown, 69, 1400),
    (item_set_slot, itm_moors_quilted_kaftan_brown, 68, 5),
    (item_set_slot, itm_moors_quilted_kaftan_brown, 70, 0),
    (item_set_slot, itm_moors_quilted_kaftan_brown, 76, 26),
    (item_set_slot, itm_moors_quilted_kaftan_brown, 79, 0),
    (item_set_slot, itm_moors_quilted_kaftan_brown, 80, 26),
    (item_set_slot, itm_moors_quilted_kaftan_brown, 81, 12),
    (item_set_slot, itm_berber_kaftan, 69, 1400),
    (item_set_slot, itm_berber_kaftan, 68, 5),
    (item_set_slot, itm_berber_kaftan, 70, 1),
    (item_set_slot, itm_berber_kaftan, 76, 29),
    (item_set_slot, itm_berber_kaftan, 79, 0),
    (item_set_slot, itm_berber_kaftan, 80, 26),
    (item_set_slot, itm_berber_kaftan, 81, 12),
    (item_set_slot, itm_meghrebi_leather_b, 69, 1400),
    (item_set_slot, itm_meghrebi_leather_b, 68, 5),
    (item_set_slot, itm_meghrebi_leather_b, 70, 1),
    (item_set_slot, itm_meghrebi_leather_b, 76, 29),
    (item_set_slot, itm_meghrebi_leather_b, 79, 0),
    (item_set_slot, itm_meghrebi_leather_b, 80, 26),
    (item_set_slot, itm_meghrebi_leather_b, 81, 12),
    (item_set_slot, itm_meghrebi_leather_a, 69, 1400),
    (item_set_slot, itm_meghrebi_leather_a, 68, 5),
    (item_set_slot, itm_meghrebi_leather_a, 70, 1),
    (item_set_slot, itm_meghrebi_leather_a, 76, 29),
    (item_set_slot, itm_meghrebi_leather_a, 79, 0),
    (item_set_slot, itm_meghrebi_leather_a, 80, 26),
    (item_set_slot, itm_meghrebi_leather_a, 81, 12),
    (item_set_slot, itm_andalusi_horseman_robe, 69, 1400),
    (item_set_slot, itm_andalusi_horseman_robe, 68, 5),
    (item_set_slot, itm_andalusi_horseman_robe, 70, 0),
    (item_set_slot, itm_andalusi_horseman_robe, 76, 26),
    (item_set_slot, itm_andalusi_horseman_robe, 79, 0),
    (item_set_slot, itm_andalusi_horseman_robe, 80, 26),
    (item_set_slot, itm_andalusi_horseman_robe, 81, 12),
    (item_set_slot, itm_archers_vest, 69, 1400),
    (item_set_slot, itm_archers_vest, 68, 5),
    (item_set_slot, itm_archers_vest, 70, 0),
    (item_set_slot, itm_archers_vest, 76, 26),
    (item_set_slot, itm_archers_vest, 79, 0),
    (item_set_slot, itm_archers_vest, 80, 26),
    (item_set_slot, itm_archers_vest, 81, 12),
    (item_set_slot, itm_kau_arab_aketon_blue, 69, 1800),
    (item_set_slot, itm_kau_arab_aketon_blue, 68, 8),
    (item_set_slot, itm_kau_arab_aketon_blue, 70, 0),
    (item_set_slot, itm_kau_arab_aketon_blue, 76, 26),
    (item_set_slot, itm_kau_arab_aketon_blue, 79, 0),
    (item_set_slot, itm_kau_arab_aketon_blue, 80, 33),
    (item_set_slot, itm_kau_arab_aketon_blue, 81, 14),
    (item_set_slot, itm_kau_arab_mail_shirt_d, 69, 1800),
    (item_set_slot, itm_kau_arab_mail_shirt_d, 68, 8),
    (item_set_slot, itm_kau_arab_mail_shirt_d, 70, 1),
    (item_set_slot, itm_kau_arab_mail_shirt_d, 76, 29),
    (item_set_slot, itm_kau_arab_mail_shirt_d, 79, 0),
    (item_set_slot, itm_kau_arab_mail_shirt_d, 80, 33),
    (item_set_slot, itm_kau_arab_mail_shirt_d, 81, 14),
    (item_set_slot, itm_arabian_lamellar, 69, 1800),
    (item_set_slot, itm_arabian_lamellar, 68, 8),
    (item_set_slot, itm_arabian_lamellar, 70, 0),
    (item_set_slot, itm_arabian_lamellar, 76, 26),
    (item_set_slot, itm_arabian_lamellar, 79, 0),
    (item_set_slot, itm_arabian_lamellar, 80, 33),
    (item_set_slot, itm_arabian_lamellar, 81, 14),
    (item_set_slot, itm_seljuk_armour, 69, 1800),
    (item_set_slot, itm_seljuk_armour, 68, 8),
    (item_set_slot, itm_seljuk_armour, 70, 0),
    (item_set_slot, itm_seljuk_armour, 76, 26),
    (item_set_slot, itm_seljuk_armour, 79, 0),
    (item_set_slot, itm_seljuk_armour, 80, 33),
    (item_set_slot, itm_seljuk_armour, 81, 14),
    (item_set_slot, itm_anatolian_leather_lamellar, 69, 1800),
    (item_set_slot, itm_anatolian_leather_lamellar, 68, 8),
    (item_set_slot, itm_anatolian_leather_lamellar, 70, 1),
    (item_set_slot, itm_anatolian_leather_lamellar, 76, 29),
    (item_set_slot, itm_anatolian_leather_lamellar, 79, 0),
    (item_set_slot, itm_anatolian_leather_lamellar, 80, 33),
    (item_set_slot, itm_anatolian_leather_lamellar, 81, 14),
    (item_set_slot, itm_berber_tunic_b, 69, 1800),
    (item_set_slot, itm_berber_tunic_b, 68, 8),
    (item_set_slot, itm_berber_tunic_b, 70, 0),
    (item_set_slot, itm_berber_tunic_b, 76, 26),
    (item_set_slot, itm_berber_tunic_b, 79, 0),
    (item_set_slot, itm_berber_tunic_b, 80, 33),
    (item_set_slot, itm_berber_tunic_b, 81, 14),
    (item_set_slot, itm_mamluk_jawshan_leather, 69, 1800),
    (item_set_slot, itm_mamluk_jawshan_leather, 68, 8),
    (item_set_slot, itm_mamluk_jawshan_leather, 70, 1),
    (item_set_slot, itm_mamluk_jawshan_leather, 76, 29),
    (item_set_slot, itm_mamluk_jawshan_leather, 79, 0),
    (item_set_slot, itm_mamluk_jawshan_leather, 80, 33),
    (item_set_slot, itm_mamluk_jawshan_leather, 81, 14),
    (item_set_slot, itm_sarranid_cavalry_robe, 69, 2100),
    (item_set_slot, itm_sarranid_cavalry_robe, 68, 9),
    (item_set_slot, itm_sarranid_cavalry_robe, 70, 0),
    (item_set_slot, itm_sarranid_cavalry_robe, 76, 26),
    (item_set_slot, itm_sarranid_cavalry_robe, 79, 0),
    (item_set_slot, itm_sarranid_cavalry_robe, 80, 41),
    (item_set_slot, itm_sarranid_cavalry_robe, 81, 17),
    (item_set_slot, itm_arabian_armor_b, 69, 2100),
    (item_set_slot, itm_arabian_armor_b, 68, 9),
    (item_set_slot, itm_arabian_armor_b, 70, 1),
    (item_set_slot, itm_arabian_armor_b, 76, 29),
    (item_set_slot, itm_arabian_armor_b, 79, 0),
    (item_set_slot, itm_arabian_armor_b, 80, 41),
    (item_set_slot, itm_arabian_armor_b, 81, 17),
    (item_set_slot, itm_andalusian_skirmisher_armor, 69, 2100),
    (item_set_slot, itm_andalusian_skirmisher_armor, 68, 9),
    (item_set_slot, itm_andalusian_skirmisher_armor, 70, 1),
    (item_set_slot, itm_andalusian_skirmisher_armor, 76, 29),
    (item_set_slot, itm_andalusian_skirmisher_armor, 79, 0),
    (item_set_slot, itm_andalusian_skirmisher_armor, 80, 41),
    (item_set_slot, itm_andalusian_skirmisher_armor, 81, 17),
    (item_set_slot, itm_seljuk_lamellar_a, 69, 2100),
    (item_set_slot, itm_seljuk_lamellar_a, 68, 9),
    (item_set_slot, itm_seljuk_lamellar_a, 70, 1),
    (item_set_slot, itm_seljuk_lamellar_a, 76, 29),
    (item_set_slot, itm_seljuk_lamellar_a, 79, 0),
    (item_set_slot, itm_seljuk_lamellar_a, 80, 41),
    (item_set_slot, itm_seljuk_lamellar_a, 81, 17),
    (item_set_slot, itm_seljuk_lamellar_b, 69, 2100),
    (item_set_slot, itm_seljuk_lamellar_b, 68, 9),
    (item_set_slot, itm_seljuk_lamellar_b, 70, 1),
    (item_set_slot, itm_seljuk_lamellar_b, 76, 29),
    (item_set_slot, itm_seljuk_lamellar_b, 79, 0),
    (item_set_slot, itm_seljuk_lamellar_b, 80, 41),
    (item_set_slot, itm_seljuk_lamellar_b, 81, 17),
    (item_set_slot, itm_seljuk_tunic_b, 69, 2100),
    (item_set_slot, itm_seljuk_tunic_b, 68, 9),
    (item_set_slot, itm_seljuk_tunic_b, 70, 1),
    (item_set_slot, itm_seljuk_tunic_b, 76, 29),
    (item_set_slot, itm_seljuk_tunic_b, 79, 0),
    (item_set_slot, itm_seljuk_tunic_b, 80, 41),
    (item_set_slot, itm_seljuk_tunic_b, 81, 17),
    (item_set_slot, itm_seljuk_tunic_c, 69, 2100),
    (item_set_slot, itm_seljuk_tunic_c, 68, 9),
    (item_set_slot, itm_seljuk_tunic_c, 70, 1),
    (item_set_slot, itm_seljuk_tunic_c, 76, 29),
    (item_set_slot, itm_seljuk_tunic_c, 79, 0),
    (item_set_slot, itm_seljuk_tunic_c, 80, 41),
    (item_set_slot, itm_seljuk_tunic_c, 81, 17),
    (item_set_slot, itm_seljuk_tunic, 69, 2100),
    (item_set_slot, itm_seljuk_tunic, 68, 9),
    (item_set_slot, itm_seljuk_tunic, 70, 1),
    (item_set_slot, itm_seljuk_tunic, 76, 29),
    (item_set_slot, itm_seljuk_tunic, 79, 0),
    (item_set_slot, itm_seljuk_tunic, 80, 41),
    (item_set_slot, itm_seljuk_tunic, 81, 17),
    (item_set_slot, itm_anatolian_mail, 69, 2100),
    (item_set_slot, itm_anatolian_mail, 68, 9),
    (item_set_slot, itm_anatolian_mail, 70, 1),
    (item_set_slot, itm_anatolian_mail, 76, 29),
    (item_set_slot, itm_anatolian_mail, 79, 0),
    (item_set_slot, itm_anatolian_mail, 80, 41),
    (item_set_slot, itm_anatolian_mail, 81, 17),
    (item_set_slot, itm_seljuk_hauberk_jawshan, 69, 2100),
    (item_set_slot, itm_seljuk_hauberk_jawshan, 68, 9),
    (item_set_slot, itm_seljuk_hauberk_jawshan, 70, 0),
    (item_set_slot, itm_seljuk_hauberk_jawshan, 76, 26),
    (item_set_slot, itm_seljuk_hauberk_jawshan, 79, 0),
    (item_set_slot, itm_seljuk_hauberk_jawshan, 80, 41),
    (item_set_slot, itm_seljuk_hauberk_jawshan, 81, 17),
    (item_set_slot, itm_kau_arab_mail_shirt_b, 69, 2600),
    (item_set_slot, itm_kau_arab_mail_shirt_b, 68, 10),
    (item_set_slot, itm_kau_arab_mail_shirt_b, 70, 1),
    (item_set_slot, itm_kau_arab_mail_shirt_b, 76, 29),
    (item_set_slot, itm_kau_arab_mail_shirt_b, 79, 0),
    (item_set_slot, itm_kau_arab_mail_shirt_b, 80, 51),
    (item_set_slot, itm_kau_arab_mail_shirt_b, 81, 20),
    (item_set_slot, itm_kau_arab_mail_shirt_c, 69, 2600),
    (item_set_slot, itm_kau_arab_mail_shirt_c, 68, 10),
    (item_set_slot, itm_kau_arab_mail_shirt_c, 70, 1),
    (item_set_slot, itm_kau_arab_mail_shirt_c, 76, 29),
    (item_set_slot, itm_kau_arab_mail_shirt_c, 79, 0),
    (item_set_slot, itm_kau_arab_mail_shirt_c, 80, 51),
    (item_set_slot, itm_kau_arab_mail_shirt_c, 81, 20),
    (item_set_slot, itm_mamluk_shirt_b, 69, 2600),
    (item_set_slot, itm_mamluk_shirt_b, 68, 10),
    (item_set_slot, itm_mamluk_shirt_b, 70, 1),
    (item_set_slot, itm_mamluk_shirt_b, 76, 29),
    (item_set_slot, itm_mamluk_shirt_b, 79, 0),
    (item_set_slot, itm_mamluk_shirt_b, 80, 51),
    (item_set_slot, itm_mamluk_shirt_b, 81, 20),
    (item_set_slot, itm_mamluk_shirt_c, 69, 2600),
    (item_set_slot, itm_mamluk_shirt_c, 68, 10),
    (item_set_slot, itm_mamluk_shirt_c, 70, 1),
    (item_set_slot, itm_mamluk_shirt_c, 76, 29),
    (item_set_slot, itm_mamluk_shirt_c, 79, 0),
    (item_set_slot, itm_mamluk_shirt_c, 80, 51),
    (item_set_slot, itm_mamluk_shirt_c, 81, 20),
    (item_set_slot, itm_mamluk_shirt_d, 69, 2600),
    (item_set_slot, itm_mamluk_shirt_d, 68, 10),
    (item_set_slot, itm_mamluk_shirt_d, 70, 1),
    (item_set_slot, itm_mamluk_shirt_d, 76, 29),
    (item_set_slot, itm_mamluk_shirt_d, 79, 0),
    (item_set_slot, itm_mamluk_shirt_d, 80, 51),
    (item_set_slot, itm_mamluk_shirt_d, 81, 20),
    (item_set_slot, itm_mamluk_shirt_e, 69, 2600),
    (item_set_slot, itm_mamluk_shirt_e, 68, 10),
    (item_set_slot, itm_mamluk_shirt_e, 70, 1),
    (item_set_slot, itm_mamluk_shirt_e, 76, 29),
    (item_set_slot, itm_mamluk_shirt_e, 79, 0),
    (item_set_slot, itm_mamluk_shirt_e, 80, 51),
    (item_set_slot, itm_mamluk_shirt_e, 81, 20),
    (item_set_slot, itm_mamluk_shirt_f, 69, 2600),
    (item_set_slot, itm_mamluk_shirt_f, 68, 10),
    (item_set_slot, itm_mamluk_shirt_f, 70, 1),
    (item_set_slot, itm_mamluk_shirt_f, 76, 29),
    (item_set_slot, itm_mamluk_shirt_f, 79, 0),
    (item_set_slot, itm_mamluk_shirt_f, 80, 51),
    (item_set_slot, itm_mamluk_shirt_f, 81, 20),
    (item_set_slot, itm_saracen_mail, 69, 2600),
    (item_set_slot, itm_saracen_mail, 68, 10),
    (item_set_slot, itm_saracen_mail, 70, 1),
    (item_set_slot, itm_saracen_mail, 76, 29),
    (item_set_slot, itm_saracen_mail, 79, 0),
    (item_set_slot, itm_saracen_mail, 80, 51),
    (item_set_slot, itm_saracen_mail, 81, 20),
    (item_set_slot, itm_arab_mail_a, 69, 2600),
    (item_set_slot, itm_arab_mail_a, 68, 10),
    (item_set_slot, itm_arab_mail_a, 70, 0),
    (item_set_slot, itm_arab_mail_a, 76, 26),
    (item_set_slot, itm_arab_mail_a, 79, 0),
    (item_set_slot, itm_arab_mail_a, 80, 51),
    (item_set_slot, itm_arab_mail_a, 81, 20),
    (item_set_slot, itm_arab_mail_b, 69, 2600),
    (item_set_slot, itm_arab_mail_b, 68, 10),
    (item_set_slot, itm_arab_mail_b, 70, 0),
    (item_set_slot, itm_arab_mail_b, 76, 26),
    (item_set_slot, itm_arab_mail_b, 79, 0),
    (item_set_slot, itm_arab_mail_b, 80, 51),
    (item_set_slot, itm_arab_mail_b, 81, 20),
    (item_set_slot, itm_arab_mail_c, 69, 2600),
    (item_set_slot, itm_arab_mail_c, 68, 10),
    (item_set_slot, itm_arab_mail_c, 70, 0),
    (item_set_slot, itm_arab_mail_c, 76, 26),
    (item_set_slot, itm_arab_mail_c, 79, 0),
    (item_set_slot, itm_arab_mail_c, 80, 51),
    (item_set_slot, itm_arab_mail_c, 81, 20),
    (item_set_slot, itm_arab_mail_d, 69, 2600),
    (item_set_slot, itm_arab_mail_d, 68, 10),
    (item_set_slot, itm_arab_mail_d, 70, 0),
    (item_set_slot, itm_arab_mail_d, 76, 26),
    (item_set_slot, itm_arab_mail_d, 79, 0),
    (item_set_slot, itm_arab_mail_d, 80, 51),
    (item_set_slot, itm_arab_mail_d, 81, 20),
    (item_set_slot, itm_seljuk_scale_a, 69, 2600),
    (item_set_slot, itm_seljuk_scale_a, 68, 10),
    (item_set_slot, itm_seljuk_scale_a, 70, 1),
    (item_set_slot, itm_seljuk_scale_a, 76, 29),
    (item_set_slot, itm_seljuk_scale_a, 79, 0),
    (item_set_slot, itm_seljuk_scale_a, 80, 51),
    (item_set_slot, itm_seljuk_scale_a, 81, 20),
    (item_set_slot, itm_arab_mail_e, 69, 2600),
    (item_set_slot, itm_arab_mail_e, 68, 10),
    (item_set_slot, itm_arab_mail_e, 70, 1),
    (item_set_slot, itm_arab_mail_e, 76, 29),
    (item_set_slot, itm_arab_mail_e, 79, 0),
    (item_set_slot, itm_arab_mail_e, 80, 51),
    (item_set_slot, itm_arab_mail_e, 81, 20),
    (item_set_slot, itm_sarranid_mail_shirt, 69, 2600),
    (item_set_slot, itm_sarranid_mail_shirt, 68, 10),
    (item_set_slot, itm_sarranid_mail_shirt, 70, 1),
    (item_set_slot, itm_sarranid_mail_shirt, 76, 29),
    (item_set_slot, itm_sarranid_mail_shirt, 79, 0),
    (item_set_slot, itm_sarranid_mail_shirt, 80, 51),
    (item_set_slot, itm_sarranid_mail_shirt, 81, 20),
    (item_set_slot, itm_andalusian_heavy_a, 69, 2600),
    (item_set_slot, itm_andalusian_heavy_a, 68, 10),
    (item_set_slot, itm_andalusian_heavy_a, 70, 1),
    (item_set_slot, itm_andalusian_heavy_a, 76, 29),
    (item_set_slot, itm_andalusian_heavy_a, 79, 0),
    (item_set_slot, itm_andalusian_heavy_a, 80, 51),
    (item_set_slot, itm_andalusian_heavy_a, 81, 20),
    (item_set_slot, itm_andalusian_heavy_b, 69, 2600),
    (item_set_slot, itm_andalusian_heavy_b, 68, 10),
    (item_set_slot, itm_andalusian_heavy_b, 70, 1),
    (item_set_slot, itm_andalusian_heavy_b, 76, 29),
    (item_set_slot, itm_andalusian_heavy_b, 79, 0),
    (item_set_slot, itm_andalusian_heavy_b, 80, 51),
    (item_set_slot, itm_andalusian_heavy_b, 81, 20),
    (item_set_slot, itm_berber_mail_b, 69, 2600),
    (item_set_slot, itm_berber_mail_b, 68, 10),
    (item_set_slot, itm_berber_mail_b, 70, 1),
    (item_set_slot, itm_berber_mail_b, 76, 29),
    (item_set_slot, itm_berber_mail_b, 79, 0),
    (item_set_slot, itm_berber_mail_b, 80, 51),
    (item_set_slot, itm_berber_mail_b, 81, 20),
    (item_set_slot, itm_berber_mail_a, 69, 2600),
    (item_set_slot, itm_berber_mail_a, 68, 10),
    (item_set_slot, itm_berber_mail_a, 70, 1),
    (item_set_slot, itm_berber_mail_a, 76, 29),
    (item_set_slot, itm_berber_mail_a, 79, 0),
    (item_set_slot, itm_berber_mail_a, 80, 51),
    (item_set_slot, itm_berber_mail_a, 81, 20),
    (item_set_slot, itm_turk_kaftan_green, 69, 2600),
    (item_set_slot, itm_turk_kaftan_green, 68, 10),
    (item_set_slot, itm_turk_kaftan_green, 70, 0),
    (item_set_slot, itm_turk_kaftan_green, 76, 26),
    (item_set_slot, itm_turk_kaftan_green, 79, 0),
    (item_set_slot, itm_turk_kaftan_green, 80, 51),
    (item_set_slot, itm_turk_kaftan_green, 81, 20),
    (item_set_slot, itm_arab_banded_b, 69, 3100),
    (item_set_slot, itm_arab_banded_b, 68, 12),
    (item_set_slot, itm_arab_banded_b, 70, 1),
    (item_set_slot, itm_arab_banded_b, 76, 29),
    (item_set_slot, itm_arab_banded_b, 79, 0),
    (item_set_slot, itm_arab_banded_b, 80, 64),
    (item_set_slot, itm_arab_banded_b, 81, 24),
    (item_set_slot, itm_arab_banded_c, 69, 3100),
    (item_set_slot, itm_arab_banded_c, 68, 12),
    (item_set_slot, itm_arab_banded_c, 70, 1),
    (item_set_slot, itm_arab_banded_c, 76, 29),
    (item_set_slot, itm_arab_banded_c, 79, 0),
    (item_set_slot, itm_arab_banded_c, 80, 64),
    (item_set_slot, itm_arab_banded_c, 81, 24),
    (item_set_slot, itm_arab_banded_a, 69, 3100),
    (item_set_slot, itm_arab_banded_a, 68, 12),
    (item_set_slot, itm_arab_banded_a, 70, 1),
    (item_set_slot, itm_arab_banded_a, 76, 29),
    (item_set_slot, itm_arab_banded_a, 79, 0),
    (item_set_slot, itm_arab_banded_a, 80, 64),
    (item_set_slot, itm_arab_banded_a, 81, 24),
    (item_set_slot, itm_mamluk_infantry_lamellar_b, 69, 3100),
    (item_set_slot, itm_mamluk_infantry_lamellar_b, 68, 12),
    (item_set_slot, itm_mamluk_infantry_lamellar_b, 70, 0),
    (item_set_slot, itm_mamluk_infantry_lamellar_b, 76, 26),
    (item_set_slot, itm_mamluk_infantry_lamellar_b, 79, 0),
    (item_set_slot, itm_mamluk_infantry_lamellar_b, 80, 64),
    (item_set_slot, itm_mamluk_infantry_lamellar_b, 81, 24),
    (item_set_slot, itm_mamluk_infantry_lamellar_a, 69, 3100),
    (item_set_slot, itm_mamluk_infantry_lamellar_a, 68, 12),
    (item_set_slot, itm_mamluk_infantry_lamellar_a, 70, 0),
    (item_set_slot, itm_mamluk_infantry_lamellar_a, 76, 26),
    (item_set_slot, itm_mamluk_infantry_lamellar_a, 79, 0),
    (item_set_slot, itm_mamluk_infantry_lamellar_a, 80, 64),
    (item_set_slot, itm_mamluk_infantry_lamellar_a, 81, 24),
    (item_set_slot, itm_mamluke_mail, 69, 3100),
    (item_set_slot, itm_mamluke_mail, 68, 12),
    (item_set_slot, itm_mamluke_mail, 70, 0),
    (item_set_slot, itm_mamluke_mail, 76, 26),
    (item_set_slot, itm_mamluke_mail, 79, 0),
    (item_set_slot, itm_mamluke_mail, 80, 64),
    (item_set_slot, itm_mamluke_mail, 81, 24),
    (item_set_slot, itm_mamluk_lamellar, 69, 3100),
    (item_set_slot, itm_mamluk_lamellar, 68, 12),
    (item_set_slot, itm_mamluk_lamellar, 70, 1),
    (item_set_slot, itm_mamluk_lamellar, 76, 29),
    (item_set_slot, itm_mamluk_lamellar, 79, 0),
    (item_set_slot, itm_mamluk_lamellar, 80, 64),
    (item_set_slot, itm_mamluk_lamellar, 81, 24),
    (item_set_slot, itm_mamluk_lamellar_2, 69, 3100),
    (item_set_slot, itm_mamluk_lamellar_2, 68, 12),
    (item_set_slot, itm_mamluk_lamellar_2, 70, 1),
    (item_set_slot, itm_mamluk_lamellar_2, 76, 29),
    (item_set_slot, itm_mamluk_lamellar_2, 79, 0),
    (item_set_slot, itm_mamluk_lamellar_2, 80, 64),
    (item_set_slot, itm_mamluk_lamellar_2, 81, 24),
    (item_set_slot, itm_kau_arab_nobleman, 69, 3100),
    (item_set_slot, itm_kau_arab_nobleman, 68, 12),
    (item_set_slot, itm_kau_arab_nobleman, 70, 1),
    (item_set_slot, itm_kau_arab_nobleman, 76, 29),
    (item_set_slot, itm_kau_arab_nobleman, 79, 0),
    (item_set_slot, itm_kau_arab_nobleman, 80, 64),
    (item_set_slot, itm_kau_arab_nobleman, 81, 24),
    (item_set_slot, itm_anatolian_horseman_lamellar, 69, 3100),
    (item_set_slot, itm_anatolian_horseman_lamellar, 68, 12),
    (item_set_slot, itm_anatolian_horseman_lamellar, 70, 1),
    (item_set_slot, itm_anatolian_horseman_lamellar, 76, 29),
    (item_set_slot, itm_anatolian_horseman_lamellar, 79, 0),
    (item_set_slot, itm_anatolian_horseman_lamellar, 80, 64),
    (item_set_slot, itm_anatolian_horseman_lamellar, 81, 24),
    (item_set_slot, itm_andalusian_knight, 69, 3100),
    (item_set_slot, itm_andalusian_knight, 68, 12),
    (item_set_slot, itm_andalusian_knight, 70, 1),
    (item_set_slot, itm_andalusian_knight, 76, 29),
    (item_set_slot, itm_andalusian_knight, 79, 0),
    (item_set_slot, itm_andalusian_knight, 80, 64),
    (item_set_slot, itm_andalusian_knight, 81, 24),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_a, 69, 3100),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_a, 68, 12),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_a, 70, 1),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_a, 76, 29),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_a, 79, 0),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_a, 80, 64),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_a, 81, 24),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_b, 69, 3100),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_b, 68, 12),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_b, 70, 1),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_b, 76, 29),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_b, 79, 0),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_b, 80, 64),
    (item_set_slot, itm_andalus_marinid_hasfid_elite_b, 81, 24),
    (item_set_slot, itm_mongol_warrior_a, 69, 1400),
    (item_set_slot, itm_mongol_warrior_a, 68, 5),
    (item_set_slot, itm_mongol_warrior_a, 70, 0),
    (item_set_slot, itm_mongol_warrior_a, 76, 26),
    (item_set_slot, itm_mongol_warrior_a, 79, 0),
    (item_set_slot, itm_mongol_warrior_a, 80, 26),
    (item_set_slot, itm_mongol_warrior_a, 81, 12),
    (item_set_slot, itm_mongol_warrior_b, 69, 1400),
    (item_set_slot, itm_mongol_warrior_b, 68, 5),
    (item_set_slot, itm_mongol_warrior_b, 70, 0),
    (item_set_slot, itm_mongol_warrior_b, 76, 26),
    (item_set_slot, itm_mongol_warrior_b, 79, 0),
    (item_set_slot, itm_mongol_warrior_b, 80, 26),
    (item_set_slot, itm_mongol_warrior_b, 81, 12),
    (item_set_slot, itm_cuman_shirt_b, 69, 1400),
    (item_set_slot, itm_cuman_shirt_b, 68, 5),
    (item_set_slot, itm_cuman_shirt_b, 70, 0),
    (item_set_slot, itm_cuman_shirt_b, 76, 26),
    (item_set_slot, itm_cuman_shirt_b, 79, 0),
    (item_set_slot, itm_cuman_shirt_b, 80, 26),
    (item_set_slot, itm_cuman_shirt_b, 81, 12),
    (item_set_slot, itm_cuman_shirt_c, 69, 1400),
    (item_set_slot, itm_cuman_shirt_c, 68, 5),
    (item_set_slot, itm_cuman_shirt_c, 70, 0),
    (item_set_slot, itm_cuman_shirt_c, 76, 26),
    (item_set_slot, itm_cuman_shirt_c, 79, 0),
    (item_set_slot, itm_cuman_shirt_c, 80, 26),
    (item_set_slot, itm_cuman_shirt_c, 81, 12),
    (item_set_slot, itm_steppe_armor, 69, 500),
    (item_set_slot, itm_steppe_armor, 68, 0),
    (item_set_slot, itm_steppe_armor, 70, 0),
    (item_set_slot, itm_steppe_armor, 76, 26),
    (item_set_slot, itm_steppe_armor, 79, 0),
    (item_set_slot, itm_steppe_armor, 80, 22),
    (item_set_slot, itm_steppe_armor, 81, 4),
    (item_set_slot, itm_mongol_warrior_c, 69, 1800),
    (item_set_slot, itm_mongol_warrior_c, 68, 8),
    (item_set_slot, itm_mongol_warrior_c, 70, 0),
    (item_set_slot, itm_mongol_warrior_c, 76, 26),
    (item_set_slot, itm_mongol_warrior_c, 79, 0),
    (item_set_slot, itm_mongol_warrior_c, 80, 33),
    (item_set_slot, itm_mongol_warrior_c, 81, 14),
    (item_set_slot, itm_mongol_warrior_d, 69, 1800),
    (item_set_slot, itm_mongol_warrior_d, 68, 8),
    (item_set_slot, itm_mongol_warrior_d, 70, 0),
    (item_set_slot, itm_mongol_warrior_d, 76, 26),
    (item_set_slot, itm_mongol_warrior_d, 79, 0),
    (item_set_slot, itm_mongol_warrior_d, 80, 33),
    (item_set_slot, itm_mongol_warrior_d, 81, 14),
    (item_set_slot, itm_mongol_warrior_de, 69, 1800),
    (item_set_slot, itm_mongol_warrior_de, 68, 8),
    (item_set_slot, itm_mongol_warrior_de, 70, 1),
    (item_set_slot, itm_mongol_warrior_de, 76, 29),
    (item_set_slot, itm_mongol_warrior_de, 79, 0),
    (item_set_slot, itm_mongol_warrior_de, 80, 33),
    (item_set_slot, itm_mongol_warrior_de, 81, 14),
    (item_set_slot, itm_cuman_shirt_a, 69, 1800),
    (item_set_slot, itm_cuman_shirt_a, 68, 8),
    (item_set_slot, itm_cuman_shirt_a, 70, 1),
    (item_set_slot, itm_cuman_shirt_a, 76, 29),
    (item_set_slot, itm_cuman_shirt_a, 79, 0),
    (item_set_slot, itm_cuman_shirt_a, 80, 33),
    (item_set_slot, itm_cuman_shirt_a, 81, 14),
    (item_set_slot, itm_cuman_shirt_d, 69, 1800),
    (item_set_slot, itm_cuman_shirt_d, 68, 8),
    (item_set_slot, itm_cuman_shirt_d, 70, 1),
    (item_set_slot, itm_cuman_shirt_d, 76, 29),
    (item_set_slot, itm_cuman_shirt_d, 79, 0),
    (item_set_slot, itm_cuman_shirt_d, 80, 33),
    (item_set_slot, itm_cuman_shirt_d, 81, 14),
    (item_set_slot, itm_kipchak_shirt_a, 69, 1800),
    (item_set_slot, itm_kipchak_shirt_a, 68, 8),
    (item_set_slot, itm_kipchak_shirt_a, 70, 1),
    (item_set_slot, itm_kipchak_shirt_a, 76, 29),
    (item_set_slot, itm_kipchak_shirt_a, 79, 0),
    (item_set_slot, itm_kipchak_shirt_a, 80, 33),
    (item_set_slot, itm_kipchak_shirt_a, 81, 14),
    (item_set_slot, itm_mongol_tunic_a, 69, 2100),
    (item_set_slot, itm_mongol_tunic_a, 68, 9),
    (item_set_slot, itm_mongol_tunic_a, 70, 0),
    (item_set_slot, itm_mongol_tunic_a, 76, 26),
    (item_set_slot, itm_mongol_tunic_a, 79, 0),
    (item_set_slot, itm_mongol_tunic_a, 80, 41),
    (item_set_slot, itm_mongol_tunic_a, 81, 17),
    (item_set_slot, itm_mongol_warrior_ilkhanate, 69, 2100),
    (item_set_slot, itm_mongol_warrior_ilkhanate, 68, 9),
    (item_set_slot, itm_mongol_warrior_ilkhanate, 70, 0),
    (item_set_slot, itm_mongol_warrior_ilkhanate, 76, 26),
    (item_set_slot, itm_mongol_warrior_ilkhanate, 79, 0),
    (item_set_slot, itm_mongol_warrior_ilkhanate, 80, 41),
    (item_set_slot, itm_mongol_warrior_ilkhanate, 81, 17),
    (item_set_slot, itm_lamellar_vest, 69, 2100),
    (item_set_slot, itm_lamellar_vest, 68, 9),
    (item_set_slot, itm_lamellar_vest, 70, 0),
    (item_set_slot, itm_lamellar_vest, 76, 26),
    (item_set_slot, itm_lamellar_vest, 79, 0),
    (item_set_slot, itm_lamellar_vest, 80, 41),
    (item_set_slot, itm_lamellar_vest, 81, 17),
    (item_set_slot, itm_lamellar_vest_khergit, 69, 2100),
    (item_set_slot, itm_lamellar_vest_khergit, 68, 9),
    (item_set_slot, itm_lamellar_vest_khergit, 70, 0),
    (item_set_slot, itm_lamellar_vest_khergit, 76, 26),
    (item_set_slot, itm_lamellar_vest_khergit, 79, 0),
    (item_set_slot, itm_lamellar_vest_khergit, 80, 41),
    (item_set_slot, itm_lamellar_vest_khergit, 81, 17),
    (item_set_slot, itm_armenian_mail_b, 69, 2100),
    (item_set_slot, itm_armenian_mail_b, 68, 9),
    (item_set_slot, itm_armenian_mail_b, 70, 1),
    (item_set_slot, itm_armenian_mail_b, 76, 29),
    (item_set_slot, itm_armenian_mail_b, 79, 0),
    (item_set_slot, itm_armenian_mail_b, 80, 41),
    (item_set_slot, itm_armenian_mail_b, 81, 17),
    (item_set_slot, itm_kipchak_mail_a, 69, 2100),
    (item_set_slot, itm_kipchak_mail_a, 68, 9),
    (item_set_slot, itm_kipchak_mail_a, 70, 1),
    (item_set_slot, itm_kipchak_mail_a, 76, 29),
    (item_set_slot, itm_kipchak_mail_a, 79, 0),
    (item_set_slot, itm_kipchak_mail_a, 80, 41),
    (item_set_slot, itm_kipchak_mail_a, 81, 17),
    (item_set_slot, itm_kipchak_lamellar_a, 69, 2600),
    (item_set_slot, itm_kipchak_lamellar_a, 68, 10),
    (item_set_slot, itm_kipchak_lamellar_a, 70, 1),
    (item_set_slot, itm_kipchak_lamellar_a, 76, 29),
    (item_set_slot, itm_kipchak_lamellar_a, 79, 0),
    (item_set_slot, itm_kipchak_lamellar_a, 80, 51),
    (item_set_slot, itm_kipchak_lamellar_a, 81, 20),
    (item_set_slot, itm_mongol_tunic_c, 69, 2600),
    (item_set_slot, itm_mongol_tunic_c, 68, 10),
    (item_set_slot, itm_mongol_tunic_c, 70, 1),
    (item_set_slot, itm_mongol_tunic_c, 76, 29),
    (item_set_slot, itm_mongol_tunic_c, 79, 0),
    (item_set_slot, itm_mongol_tunic_c, 80, 51),
    (item_set_slot, itm_mongol_tunic_c, 81, 20),
    (item_set_slot, itm_georgian_mail, 69, 2600),
    (item_set_slot, itm_georgian_mail, 68, 10),
    (item_set_slot, itm_georgian_mail, 70, 1),
    (item_set_slot, itm_georgian_mail, 76, 29),
    (item_set_slot, itm_georgian_mail, 79, 0),
    (item_set_slot, itm_georgian_mail, 80, 51),
    (item_set_slot, itm_georgian_mail, 81, 20),
    (item_set_slot, itm_kipchak_lamellar_b, 69, 3100),
    (item_set_slot, itm_kipchak_lamellar_b, 68, 12),
    (item_set_slot, itm_kipchak_lamellar_b, 70, 1),
    (item_set_slot, itm_kipchak_lamellar_b, 76, 29),
    (item_set_slot, itm_kipchak_lamellar_b, 79, 0),
    (item_set_slot, itm_kipchak_lamellar_b, 80, 64),
    (item_set_slot, itm_kipchak_lamellar_b, 81, 24),
    (item_set_slot, itm_mon_lamellar_a, 69, 3100),
    (item_set_slot, itm_mon_lamellar_a, 68, 12),
    (item_set_slot, itm_mon_lamellar_a, 70, 1),
    (item_set_slot, itm_mon_lamellar_a, 76, 29),
    (item_set_slot, itm_mon_lamellar_a, 79, 0),
    (item_set_slot, itm_mon_lamellar_a, 80, 64),
    (item_set_slot, itm_mon_lamellar_a, 81, 24),
    (item_set_slot, itm_mon_lamellar_b, 69, 3100),
    (item_set_slot, itm_mon_lamellar_b, 68, 12),
    (item_set_slot, itm_mon_lamellar_b, 70, 1),
    (item_set_slot, itm_mon_lamellar_b, 76, 29),
    (item_set_slot, itm_mon_lamellar_b, 79, 0),
    (item_set_slot, itm_mon_lamellar_b, 80, 64),
    (item_set_slot, itm_mon_lamellar_b, 81, 24),
    (item_set_slot, itm_armenian_knight_c, 69, 3100),
    (item_set_slot, itm_armenian_knight_c, 68, 12),
    (item_set_slot, itm_armenian_knight_c, 70, 1),
    (item_set_slot, itm_armenian_knight_c, 76, 29),
    (item_set_slot, itm_armenian_knight_c, 79, 0),
    (item_set_slot, itm_armenian_knight_c, 80, 64),
    (item_set_slot, itm_armenian_knight_c, 81, 24),
    (item_set_slot, itm_armenian_knight_b, 69, 3100),
    (item_set_slot, itm_armenian_knight_b, 68, 12),
    (item_set_slot, itm_armenian_knight_b, 70, 1),
    (item_set_slot, itm_armenian_knight_b, 76, 29),
    (item_set_slot, itm_armenian_knight_b, 79, 0),
    (item_set_slot, itm_armenian_knight_b, 80, 64),
    (item_set_slot, itm_armenian_knight_b, 81, 24),
    (item_set_slot, itm_armenian_knight_a, 69, 3100),
    (item_set_slot, itm_armenian_knight_a, 68, 12),
    (item_set_slot, itm_armenian_knight_a, 70, 1),
    (item_set_slot, itm_armenian_knight_a, 76, 29),
    (item_set_slot, itm_armenian_knight_a, 79, 0),
    (item_set_slot, itm_armenian_knight_a, 80, 64),
    (item_set_slot, itm_armenian_knight_a, 81, 24),
    (item_set_slot, itm_byz_leather_b, 69, 1400),
    (item_set_slot, itm_byz_leather_b, 68, 5),
    (item_set_slot, itm_byz_leather_b, 70, 0),
    (item_set_slot, itm_byz_leather_b, 76, 26),
    (item_set_slot, itm_byz_leather_b, 79, 0),
    (item_set_slot, itm_byz_leather_b, 80, 26),
    (item_set_slot, itm_byz_leather_b, 81, 12),
    (item_set_slot, itm_byz_leather_a, 69, 1400),
    (item_set_slot, itm_byz_leather_a, 68, 5),
    (item_set_slot, itm_byz_leather_a, 70, 0),
    (item_set_slot, itm_byz_leather_a, 76, 26),
    (item_set_slot, itm_byz_leather_a, 79, 0),
    (item_set_slot, itm_byz_leather_a, 80, 26),
    (item_set_slot, itm_byz_leather_a, 81, 12),
    (item_set_slot, itm_byz_footman_b, 69, 1400),
    (item_set_slot, itm_byz_footman_b, 68, 5),
    (item_set_slot, itm_byz_footman_b, 70, 0),
    (item_set_slot, itm_byz_footman_b, 76, 26),
    (item_set_slot, itm_byz_footman_b, 79, 0),
    (item_set_slot, itm_byz_footman_b, 80, 26),
    (item_set_slot, itm_byz_footman_b, 81, 12),
    (item_set_slot, itm_byz_lamellar_a, 69, 1800),
    (item_set_slot, itm_byz_lamellar_a, 68, 8),
    (item_set_slot, itm_byz_lamellar_a, 70, 0),
    (item_set_slot, itm_byz_lamellar_a, 76, 26),
    (item_set_slot, itm_byz_lamellar_a, 79, 0),
    (item_set_slot, itm_byz_lamellar_a, 80, 33),
    (item_set_slot, itm_byz_lamellar_a, 81, 14),
    (item_set_slot, itm_byz_lamellar_b, 69, 1800),
    (item_set_slot, itm_byz_lamellar_b, 68, 8),
    (item_set_slot, itm_byz_lamellar_b, 70, 0),
    (item_set_slot, itm_byz_lamellar_b, 76, 26),
    (item_set_slot, itm_byz_lamellar_b, 79, 0),
    (item_set_slot, itm_byz_lamellar_b, 80, 33),
    (item_set_slot, itm_byz_lamellar_b, 81, 14),
    (item_set_slot, itm_byz_padded_leather, 69, 1800),
    (item_set_slot, itm_byz_padded_leather, 68, 8),
    (item_set_slot, itm_byz_padded_leather, 70, 0),
    (item_set_slot, itm_byz_padded_leather, 76, 26),
    (item_set_slot, itm_byz_padded_leather, 79, 0),
    (item_set_slot, itm_byz_padded_leather, 80, 33),
    (item_set_slot, itm_byz_padded_leather, 81, 14),
    (item_set_slot, itm_byz_cavalry_a, 69, 2100),
    (item_set_slot, itm_byz_cavalry_a, 68, 9),
    (item_set_slot, itm_byz_cavalry_a, 70, 1),
    (item_set_slot, itm_byz_cavalry_a, 76, 29),
    (item_set_slot, itm_byz_cavalry_a, 79, 0),
    (item_set_slot, itm_byz_cavalry_a, 80, 41),
    (item_set_slot, itm_byz_cavalry_a, 81, 17),
    (item_set_slot, itm_byz_cavalry_b, 69, 2100),
    (item_set_slot, itm_byz_cavalry_b, 68, 9),
    (item_set_slot, itm_byz_cavalry_b, 70, 1),
    (item_set_slot, itm_byz_cavalry_b, 76, 29),
    (item_set_slot, itm_byz_cavalry_b, 79, 0),
    (item_set_slot, itm_byz_cavalry_b, 80, 41),
    (item_set_slot, itm_byz_cavalry_b, 81, 17),
    (item_set_slot, itm_byz_hcavalry_a, 69, 2100),
    (item_set_slot, itm_byz_hcavalry_a, 68, 9),
    (item_set_slot, itm_byz_hcavalry_a, 70, 1),
    (item_set_slot, itm_byz_hcavalry_a, 76, 29),
    (item_set_slot, itm_byz_hcavalry_a, 79, 0),
    (item_set_slot, itm_byz_hcavalry_a, 80, 41),
    (item_set_slot, itm_byz_hcavalry_a, 81, 17),
    (item_set_slot, itm_byz_hcavalry_b, 69, 2100),
    (item_set_slot, itm_byz_hcavalry_b, 68, 9),
    (item_set_slot, itm_byz_hcavalry_b, 70, 1),
    (item_set_slot, itm_byz_hcavalry_b, 76, 29),
    (item_set_slot, itm_byz_hcavalry_b, 79, 0),
    (item_set_slot, itm_byz_hcavalry_b, 80, 41),
    (item_set_slot, itm_byz_hcavalry_b, 81, 17),
    (item_set_slot, itm_byz_hcavalry_c, 69, 2100),
    (item_set_slot, itm_byz_hcavalry_c, 68, 9),
    (item_set_slot, itm_byz_hcavalry_c, 70, 1),
    (item_set_slot, itm_byz_hcavalry_c, 76, 29),
    (item_set_slot, itm_byz_hcavalry_c, 79, 0),
    (item_set_slot, itm_byz_hcavalry_c, 80, 41),
    (item_set_slot, itm_byz_hcavalry_c, 81, 17),
    (item_set_slot, itm_byz_footman_a, 69, 2100),
    (item_set_slot, itm_byz_footman_a, 68, 9),
    (item_set_slot, itm_byz_footman_a, 70, 1),
    (item_set_slot, itm_byz_footman_a, 76, 29),
    (item_set_slot, itm_byz_footman_a, 79, 0),
    (item_set_slot, itm_byz_footman_a, 80, 41),
    (item_set_slot, itm_byz_footman_a, 81, 17),
    (item_set_slot, itm_byz_footman_c, 69, 2100),
    (item_set_slot, itm_byz_footman_c, 68, 9),
    (item_set_slot, itm_byz_footman_c, 70, 1),
    (item_set_slot, itm_byz_footman_c, 76, 29),
    (item_set_slot, itm_byz_footman_c, 79, 0),
    (item_set_slot, itm_byz_footman_c, 80, 41),
    (item_set_slot, itm_byz_footman_c, 81, 17),
    (item_set_slot, itm_byz_swordsman_2, 69, 2100),
    (item_set_slot, itm_byz_swordsman_2, 68, 9),
    (item_set_slot, itm_byz_swordsman_2, 70, 1),
    (item_set_slot, itm_byz_swordsman_2, 76, 29),
    (item_set_slot, itm_byz_swordsman_2, 79, 0),
    (item_set_slot, itm_byz_swordsman_2, 80, 41),
    (item_set_slot, itm_byz_swordsman_2, 81, 17),
    (item_set_slot, itm_byz_swordsman_3, 69, 2100),
    (item_set_slot, itm_byz_swordsman_3, 68, 9),
    (item_set_slot, itm_byz_swordsman_3, 70, 1),
    (item_set_slot, itm_byz_swordsman_3, 76, 29),
    (item_set_slot, itm_byz_swordsman_3, 79, 0),
    (item_set_slot, itm_byz_swordsman_3, 80, 41),
    (item_set_slot, itm_byz_swordsman_3, 81, 17),
    (item_set_slot, itm_byz_swordsman_4, 69, 2100),
    (item_set_slot, itm_byz_swordsman_4, 68, 9),
    (item_set_slot, itm_byz_swordsman_4, 70, 1),
    (item_set_slot, itm_byz_swordsman_4, 76, 29),
    (item_set_slot, itm_byz_swordsman_4, 79, 0),
    (item_set_slot, itm_byz_swordsman_4, 80, 41),
    (item_set_slot, itm_byz_swordsman_4, 81, 17),
    (item_set_slot, itm_varangian_a, 69, 2600),
    (item_set_slot, itm_varangian_a, 68, 10),
    (item_set_slot, itm_varangian_a, 70, 1),
    (item_set_slot, itm_varangian_a, 76, 29),
    (item_set_slot, itm_varangian_a, 79, 0),
    (item_set_slot, itm_varangian_a, 80, 51),
    (item_set_slot, itm_varangian_a, 81, 20),
    (item_set_slot, itm_byz_mail_a, 69, 2600),
    (item_set_slot, itm_byz_mail_a, 68, 10),
    (item_set_slot, itm_byz_mail_a, 70, 1),
    (item_set_slot, itm_byz_mail_a, 76, 29),
    (item_set_slot, itm_byz_mail_a, 79, 0),
    (item_set_slot, itm_byz_mail_a, 80, 51),
    (item_set_slot, itm_byz_mail_a, 81, 20),
    (item_set_slot, itm_byz_mail_b, 69, 2600),
    (item_set_slot, itm_byz_mail_b, 68, 10),
    (item_set_slot, itm_byz_mail_b, 70, 1),
    (item_set_slot, itm_byz_mail_b, 76, 29),
    (item_set_slot, itm_byz_mail_b, 79, 0),
    (item_set_slot, itm_byz_mail_b, 80, 51),
    (item_set_slot, itm_byz_mail_b, 81, 20),
    (item_set_slot, itm_byz_lord, 69, 3100),
    (item_set_slot, itm_byz_lord, 68, 12),
    (item_set_slot, itm_byz_lord, 70, 1),
    (item_set_slot, itm_byz_lord, 76, 29),
    (item_set_slot, itm_byz_lord, 79, 0),
    (item_set_slot, itm_byz_lord, 80, 64),
    (item_set_slot, itm_byz_lord, 81, 24),
    (item_set_slot, itm_byz_emperor, 69, 3100),
    (item_set_slot, itm_byz_emperor, 68, 12),
    (item_set_slot, itm_byz_emperor, 70, 1),
    (item_set_slot, itm_byz_emperor, 76, 29),
    (item_set_slot, itm_byz_emperor, 79, 0),
    (item_set_slot, itm_byz_emperor, 80, 64),
    (item_set_slot, itm_byz_emperor, 81, 24),
    (item_set_slot, itm_varangian_b, 69, 3100),
    (item_set_slot, itm_varangian_b, 68, 12),
    (item_set_slot, itm_varangian_b, 70, 1),
    (item_set_slot, itm_varangian_b, 76, 29),
    (item_set_slot, itm_varangian_b, 79, 0),
    (item_set_slot, itm_varangian_b, 80, 64),
    (item_set_slot, itm_varangian_b, 81, 24),
    (item_set_slot, itm_varangian_c, 69, 3100),
    (item_set_slot, itm_varangian_c, 68, 12),
    (item_set_slot, itm_varangian_c, 70, 1),
    (item_set_slot, itm_varangian_c, 76, 29),
    (item_set_slot, itm_varangian_c, 79, 0),
    (item_set_slot, itm_varangian_c, 80, 64),
    (item_set_slot, itm_varangian_c, 81, 24),
    (item_set_slot, itm_byz_scale_armor, 69, 3100),
    (item_set_slot, itm_byz_scale_armor, 68, 12),
    (item_set_slot, itm_byz_scale_armor, 70, 1),
    (item_set_slot, itm_byz_scale_armor, 76, 29),
    (item_set_slot, itm_byz_scale_armor, 79, 0),
    (item_set_slot, itm_byz_scale_armor, 80, 64),
    (item_set_slot, itm_byz_scale_armor, 81, 24),
    (item_set_slot, itm_byz_kataphrakt, 69, 3100),
    (item_set_slot, itm_byz_kataphrakt, 68, 12),
    (item_set_slot, itm_byz_kataphrakt, 70, 1),
    (item_set_slot, itm_byz_kataphrakt, 76, 29),
    (item_set_slot, itm_byz_kataphrakt, 79, 0),
    (item_set_slot, itm_byz_kataphrakt, 80, 64),
    (item_set_slot, itm_byz_kataphrakt, 81, 24),
    (item_set_slot, itm_byz_guard_a, 69, 3100),
    (item_set_slot, itm_byz_guard_a, 68, 12),
    (item_set_slot, itm_byz_guard_a, 70, 1),
    (item_set_slot, itm_byz_guard_a, 76, 29),
    (item_set_slot, itm_byz_guard_a, 79, 0),
    (item_set_slot, itm_byz_guard_a, 80, 64),
    (item_set_slot, itm_byz_guard_a, 81, 24),
    (item_set_slot, itm_byz_guard_b, 69, 3100),
    (item_set_slot, itm_byz_guard_b, 68, 12),
    (item_set_slot, itm_byz_guard_b, 70, 1),
    (item_set_slot, itm_byz_guard_b, 76, 29),
    (item_set_slot, itm_byz_guard_b, 79, 0),
    (item_set_slot, itm_byz_guard_b, 80, 64),
    (item_set_slot, itm_byz_guard_b, 81, 24),
    (item_set_slot, itm_kau_lit_mail, 69, 1400),
    (item_set_slot, itm_kau_lit_mail, 68, 5),
    (item_set_slot, itm_kau_lit_mail, 70, 1),
    (item_set_slot, itm_kau_lit_mail, 76, 29),
    (item_set_slot, itm_kau_lit_mail, 79, 0),
    (item_set_slot, itm_kau_lit_mail, 80, 26),
    (item_set_slot, itm_kau_lit_mail, 81, 12),
    (item_set_slot, itm_balt_lamellar_coat_a, 69, 1400),
    (item_set_slot, itm_balt_lamellar_coat_a, 68, 5),
    (item_set_slot, itm_balt_lamellar_coat_a, 70, 0),
    (item_set_slot, itm_balt_lamellar_coat_a, 76, 26),
    (item_set_slot, itm_balt_lamellar_coat_a, 79, 0),
    (item_set_slot, itm_balt_lamellar_coat_a, 80, 26),
    (item_set_slot, itm_balt_lamellar_coat_a, 81, 12),
    (item_set_slot, itm_balt_lamellar_coat_b, 69, 1400),
    (item_set_slot, itm_balt_lamellar_coat_b, 68, 5),
    (item_set_slot, itm_balt_lamellar_coat_b, 70, 0),
    (item_set_slot, itm_balt_lamellar_coat_b, 76, 26),
    (item_set_slot, itm_balt_lamellar_coat_b, 79, 0),
    (item_set_slot, itm_balt_lamellar_coat_b, 80, 26),
    (item_set_slot, itm_balt_lamellar_coat_b, 81, 12),
    (item_set_slot, itm_balt_padded_a, 69, 1400),
    (item_set_slot, itm_balt_padded_a, 68, 5),
    (item_set_slot, itm_balt_padded_a, 70, 0),
    (item_set_slot, itm_balt_padded_a, 76, 26),
    (item_set_slot, itm_balt_padded_a, 79, 0),
    (item_set_slot, itm_balt_padded_a, 80, 26),
    (item_set_slot, itm_balt_padded_a, 81, 12),
    (item_set_slot, itm_balt_lamellar_vest_a, 69, 1400),
    (item_set_slot, itm_balt_lamellar_vest_a, 68, 5),
    (item_set_slot, itm_balt_lamellar_vest_a, 70, 0),
    (item_set_slot, itm_balt_lamellar_vest_a, 76, 26),
    (item_set_slot, itm_balt_lamellar_vest_a, 79, 0),
    (item_set_slot, itm_balt_lamellar_vest_a, 80, 26),
    (item_set_slot, itm_balt_lamellar_vest_a, 81, 12),
    (item_set_slot, itm_balt_lamellar_vest_b, 69, 1400),
    (item_set_slot, itm_balt_lamellar_vest_b, 68, 5),
    (item_set_slot, itm_balt_lamellar_vest_b, 70, 0),
    (item_set_slot, itm_balt_lamellar_vest_b, 76, 26),
    (item_set_slot, itm_balt_lamellar_vest_b, 79, 0),
    (item_set_slot, itm_balt_lamellar_vest_b, 80, 26),
    (item_set_slot, itm_balt_lamellar_vest_b, 81, 12),
    (item_set_slot, itm_balt_shirt_c, 69, 1400),
    (item_set_slot, itm_balt_shirt_c, 68, 5),
    (item_set_slot, itm_balt_shirt_c, 70, 0),
    (item_set_slot, itm_balt_shirt_c, 76, 26),
    (item_set_slot, itm_balt_shirt_c, 79, 0),
    (item_set_slot, itm_balt_shirt_c, 80, 26),
    (item_set_slot, itm_balt_shirt_c, 81, 12),
    (item_set_slot, itm_bulgar_warrior_b, 69, 1800),
    (item_set_slot, itm_bulgar_warrior_b, 68, 8),
    (item_set_slot, itm_bulgar_warrior_b, 70, 0),
    (item_set_slot, itm_bulgar_warrior_b, 76, 26),
    (item_set_slot, itm_bulgar_warrior_b, 79, 0),
    (item_set_slot, itm_bulgar_warrior_b, 80, 33),
    (item_set_slot, itm_bulgar_warrior_b, 81, 14),
    (item_set_slot, itm_balt_lamellar_vest_c, 69, 2100),
    (item_set_slot, itm_balt_lamellar_vest_c, 68, 9),
    (item_set_slot, itm_balt_lamellar_vest_c, 70, 0),
    (item_set_slot, itm_balt_lamellar_vest_c, 76, 26),
    (item_set_slot, itm_balt_lamellar_vest_c, 79, 0),
    (item_set_slot, itm_balt_lamellar_vest_c, 80, 41),
    (item_set_slot, itm_balt_lamellar_vest_c, 81, 17),
    (item_set_slot, itm_bulgar_warrior_a, 69, 2600),
    (item_set_slot, itm_bulgar_warrior_a, 68, 10),
    (item_set_slot, itm_bulgar_warrior_a, 70, 1),
    (item_set_slot, itm_bulgar_warrior_a, 76, 29),
    (item_set_slot, itm_bulgar_warrior_a, 79, 0),
    (item_set_slot, itm_bulgar_warrior_a, 80, 51),
    (item_set_slot, itm_bulgar_warrior_a, 81, 20),
    (item_set_slot, itm_red_dress, 69, 300),
    (item_set_slot, itm_red_dress, 68, 0),
    (item_set_slot, itm_red_dress, 70, 0),
    (item_set_slot, itm_red_dress, 76, 26),
    (item_set_slot, itm_red_dress, 79, 0),
    (item_set_slot, itm_red_dress, 80, 10),
    (item_set_slot, itm_red_dress, 81, 10),
    (item_set_slot, itm_brown_dress, 69, 300),
    (item_set_slot, itm_brown_dress, 68, 0),
    (item_set_slot, itm_brown_dress, 70, 0),
    (item_set_slot, itm_brown_dress, 76, 26),
    (item_set_slot, itm_brown_dress, 79, 0),
    (item_set_slot, itm_brown_dress, 80, 10),
    (item_set_slot, itm_brown_dress, 81, 10),
    (item_set_slot, itm_green_dress, 69, 300),
    (item_set_slot, itm_green_dress, 68, 0),
    (item_set_slot, itm_green_dress, 70, 0),
    (item_set_slot, itm_green_dress, 76, 26),
    (item_set_slot, itm_green_dress, 79, 0),
    (item_set_slot, itm_green_dress, 80, 10),
    (item_set_slot, itm_green_dress, 81, 10),
    (item_set_slot, itm_blue_dress, 69, 100),
    (item_set_slot, itm_blue_dress, 68, 0),
    (item_set_slot, itm_blue_dress, 70, 0),
    (item_set_slot, itm_blue_dress, 76, 26),
    (item_set_slot, itm_blue_dress, 79, 0),
    (item_set_slot, itm_blue_dress, 80, 6),
    (item_set_slot, itm_blue_dress, 81, 2),
    (item_set_slot, itm_merchant_outfit, 69, 400),
    (item_set_slot, itm_merchant_outfit, 68, 0),
    (item_set_slot, itm_merchant_outfit, 70, 0),
    (item_set_slot, itm_merchant_outfit, 76, 26),
    (item_set_slot, itm_merchant_outfit, 79, 0),
    (item_set_slot, itm_merchant_outfit, 80, 14),
    (item_set_slot, itm_merchant_outfit, 81, 10),
    (item_set_slot, itm_peasant_dress, 69, 100),
    (item_set_slot, itm_peasant_dress, 68, 0),
    (item_set_slot, itm_peasant_dress, 70, 0),
    (item_set_slot, itm_peasant_dress, 76, 26),
    (item_set_slot, itm_peasant_dress, 79, 0),
    (item_set_slot, itm_peasant_dress, 80, 6),
    (item_set_slot, itm_peasant_dress, 81, 2),
    (item_set_slot, itm_linen_tunic, 69, 100),
    (item_set_slot, itm_linen_tunic, 68, 0),
    (item_set_slot, itm_linen_tunic, 70, 0),
    (item_set_slot, itm_linen_tunic, 76, 26),
    (item_set_slot, itm_linen_tunic, 79, 0),
    (item_set_slot, itm_linen_tunic, 80, 6),
    (item_set_slot, itm_linen_tunic, 81, 1),
    (item_set_slot, itm_short_tunic, 69, 100),
    (item_set_slot, itm_short_tunic, 68, 0),
    (item_set_slot, itm_short_tunic, 70, 0),
    (item_set_slot, itm_short_tunic, 76, 26),
    (item_set_slot, itm_short_tunic, 79, 0),
    (item_set_slot, itm_short_tunic, 80, 7),
    (item_set_slot, itm_short_tunic, 81, 1),
    (item_set_slot, itm_red_shirt, 69, 100),
    (item_set_slot, itm_red_shirt, 68, 0),
    (item_set_slot, itm_red_shirt, 70, 0),
    (item_set_slot, itm_red_shirt, 76, 26),
    (item_set_slot, itm_red_shirt, 79, 0),
    (item_set_slot, itm_red_shirt, 80, 7),
    (item_set_slot, itm_red_shirt, 81, 1),
    (item_set_slot, itm_robe, 69, 150),
    (item_set_slot, itm_robe, 68, 0),
    (item_set_slot, itm_robe, 70, 0),
    (item_set_slot, itm_robe, 76, 26),
    (item_set_slot, itm_robe, 79, 0),
    (item_set_slot, itm_robe, 80, 8),
    (item_set_slot, itm_robe, 81, 6),
    (item_set_slot, itm_coarse_tunic, 69, 200),
    (item_set_slot, itm_coarse_tunic, 68, 0),
    (item_set_slot, itm_coarse_tunic, 70, 0),
    (item_set_slot, itm_coarse_tunic, 76, 26),
    (item_set_slot, itm_coarse_tunic, 79, 0),
    (item_set_slot, itm_coarse_tunic, 80, 11),
    (item_set_slot, itm_coarse_tunic, 81, 6),
    (item_set_slot, itm_leather_vest, 69, 400),
    (item_set_slot, itm_leather_vest, 68, 0),
    (item_set_slot, itm_leather_vest, 70, 0),
    (item_set_slot, itm_leather_vest, 76, 26),
    (item_set_slot, itm_leather_vest, 79, 0),
    (item_set_slot, itm_leather_vest, 80, 9),
    (item_set_slot, itm_leather_vest, 81, 0),
    (item_set_slot, itm_pelt_coat, 69, 200),
    (item_set_slot, itm_pelt_coat, 68, 0),
    (item_set_slot, itm_pelt_coat, 70, 0),
    (item_set_slot, itm_pelt_coat, 76, 26),
    (item_set_slot, itm_pelt_coat, 79, 0),
    (item_set_slot, itm_pelt_coat, 80, 9),
    (item_set_slot, itm_pelt_coat, 81, 1),
    (item_set_slot, itm_peasant_tunic_a, 69, 600),
    (item_set_slot, itm_peasant_tunic_a, 68, 1),
    (item_set_slot, itm_peasant_tunic_a, 70, 0),
    (item_set_slot, itm_peasant_tunic_a, 76, 26),
    (item_set_slot, itm_peasant_tunic_a, 79, 0),
    (item_set_slot, itm_peasant_tunic_a, 80, 12),
    (item_set_slot, itm_peasant_tunic_a, 81, 5),
    (item_set_slot, itm_peasant_b, 69, 600),
    (item_set_slot, itm_peasant_b, 68, 1),
    (item_set_slot, itm_peasant_b, 70, 0),
    (item_set_slot, itm_peasant_b, 76, 26),
    (item_set_slot, itm_peasant_b, 79, 0),
    (item_set_slot, itm_peasant_b, 80, 12),
    (item_set_slot, itm_peasant_b, 81, 5),
    (item_set_slot, itm_peasant_c, 69, 600),
    (item_set_slot, itm_peasant_c, 68, 1),
    (item_set_slot, itm_peasant_c, 70, 0),
    (item_set_slot, itm_peasant_c, 76, 26),
    (item_set_slot, itm_peasant_c, 79, 0),
    (item_set_slot, itm_peasant_c, 80, 12),
    (item_set_slot, itm_peasant_c, 81, 5),
    (item_set_slot, itm_peasant_d, 69, 600),
    (item_set_slot, itm_peasant_d, 68, 1),
    (item_set_slot, itm_peasant_d, 70, 0),
    (item_set_slot, itm_peasant_d, 76, 26),
    (item_set_slot, itm_peasant_d, 79, 0),
    (item_set_slot, itm_peasant_d, 80, 12),
    (item_set_slot, itm_peasant_d, 81, 5),
    (item_set_slot, itm_ragged_cloth_b, 69, 600),
    (item_set_slot, itm_ragged_cloth_b, 68, 1),
    (item_set_slot, itm_ragged_cloth_b, 70, 0),
    (item_set_slot, itm_ragged_cloth_b, 76, 26),
    (item_set_slot, itm_ragged_cloth_b, 79, 0),
    (item_set_slot, itm_ragged_cloth_b, 80, 12),
    (item_set_slot, itm_ragged_cloth_b, 81, 5),
    (item_set_slot, itm_peasant_f, 69, 600),
    (item_set_slot, itm_peasant_f, 68, 1),
    (item_set_slot, itm_peasant_f, 70, 0),
    (item_set_slot, itm_peasant_f, 76, 26),
    (item_set_slot, itm_peasant_f, 79, 0),
    (item_set_slot, itm_peasant_f, 80, 12),
    (item_set_slot, itm_peasant_f, 81, 5),
    (item_set_slot, itm_peasant_g, 69, 600),
    (item_set_slot, itm_peasant_g, 68, 1),
    (item_set_slot, itm_peasant_g, 70, 0),
    (item_set_slot, itm_peasant_g, 76, 26),
    (item_set_slot, itm_peasant_g, 79, 0),
    (item_set_slot, itm_peasant_g, 80, 12),
    (item_set_slot, itm_peasant_g, 81, 5),
    (item_set_slot, itm_burlap_tunic, 69, 100),
    (item_set_slot, itm_burlap_tunic, 68, 0),
    (item_set_slot, itm_burlap_tunic, 70, 1),
    (item_set_slot, itm_burlap_tunic, 76, 29),
    (item_set_slot, itm_burlap_tunic, 79, 0),
    (item_set_slot, itm_burlap_tunic, 80, 3),
    (item_set_slot, itm_burlap_tunic, 81, 1),
    (item_set_slot, itm_tunic_with_green_cape, 69, 100),
    (item_set_slot, itm_tunic_with_green_cape, 68, 0),
    (item_set_slot, itm_tunic_with_green_cape, 70, 0),
    (item_set_slot, itm_tunic_with_green_cape, 76, 26),
    (item_set_slot, itm_tunic_with_green_cape, 79, 0),
    (item_set_slot, itm_tunic_with_green_cape, 80, 6),
    (item_set_slot, itm_tunic_with_green_cape, 81, 2),
    (item_set_slot, itm_archer_a, 69, 600),
    (item_set_slot, itm_archer_a, 68, 1),
    (item_set_slot, itm_archer_a, 70, 0),
    (item_set_slot, itm_archer_a, 76, 26),
    (item_set_slot, itm_archer_a, 79, 0),
    (item_set_slot, itm_archer_a, 80, 12),
    (item_set_slot, itm_archer_a, 81, 5),
    (item_set_slot, itm_archer_b, 69, 600),
    (item_set_slot, itm_archer_b, 68, 1),
    (item_set_slot, itm_archer_b, 70, 0),
    (item_set_slot, itm_archer_b, 76, 26),
    (item_set_slot, itm_archer_b, 79, 0),
    (item_set_slot, itm_archer_b, 80, 12),
    (item_set_slot, itm_archer_b, 81, 5),
    (item_set_slot, itm_archer_c, 69, 600),
    (item_set_slot, itm_archer_c, 68, 1),
    (item_set_slot, itm_archer_c, 70, 0),
    (item_set_slot, itm_archer_c, 76, 26),
    (item_set_slot, itm_archer_c, 79, 0),
    (item_set_slot, itm_archer_c, 80, 12),
    (item_set_slot, itm_archer_c, 81, 5),
    (item_set_slot, itm_almogavar_a, 69, 600),
    (item_set_slot, itm_almogavar_a, 68, 1),
    (item_set_slot, itm_almogavar_a, 70, 0),
    (item_set_slot, itm_almogavar_a, 76, 26),
    (item_set_slot, itm_almogavar_a, 79, 0),
    (item_set_slot, itm_almogavar_a, 80, 12),
    (item_set_slot, itm_almogavar_a, 81, 5),
    (item_set_slot, itm_almogavar_b, 69, 600),
    (item_set_slot, itm_almogavar_b, 68, 1),
    (item_set_slot, itm_almogavar_b, 70, 0),
    (item_set_slot, itm_almogavar_b, 76, 26),
    (item_set_slot, itm_almogavar_b, 79, 0),
    (item_set_slot, itm_almogavar_b, 80, 12),
    (item_set_slot, itm_almogavar_b, 81, 5),
    (item_set_slot, itm_almogavar_c, 69, 600),
    (item_set_slot, itm_almogavar_c, 68, 1),
    (item_set_slot, itm_almogavar_c, 70, 0),
    (item_set_slot, itm_almogavar_c, 76, 26),
    (item_set_slot, itm_almogavar_c, 79, 0),
    (item_set_slot, itm_almogavar_c, 80, 12),
    (item_set_slot, itm_almogavar_c, 81, 5),
    (item_set_slot, itm_priest_robe_1, 69, 1100),
    (item_set_slot, itm_priest_robe_1, 68, 3),
    (item_set_slot, itm_priest_robe_1, 70, 0),
    (item_set_slot, itm_priest_robe_1, 76, 26),
    (item_set_slot, itm_priest_robe_1, 79, 0),
    (item_set_slot, itm_priest_robe_1, 80, 21),
    (item_set_slot, itm_priest_robe_1, 81, 10),
    (item_set_slot, itm_priest_robe_2, 69, 1100),
    (item_set_slot, itm_priest_robe_2, 68, 3),
    (item_set_slot, itm_priest_robe_2, 70, 0),
    (item_set_slot, itm_priest_robe_2, 76, 26),
    (item_set_slot, itm_priest_robe_2, 79, 0),
    (item_set_slot, itm_priest_robe_2, 80, 21),
    (item_set_slot, itm_priest_robe_2, 81, 10),
    (item_set_slot, itm_priest_robe_3, 69, 1100),
    (item_set_slot, itm_priest_robe_3, 68, 3),
    (item_set_slot, itm_priest_robe_3, 70, 0),
    (item_set_slot, itm_priest_robe_3, 76, 26),
    (item_set_slot, itm_priest_robe_3, 79, 0),
    (item_set_slot, itm_priest_robe_3, 80, 21),
    (item_set_slot, itm_priest_robe_3, 81, 10),
    (item_set_slot, itm_surgeon, 69, 1100),
    (item_set_slot, itm_surgeon, 68, 3),
    (item_set_slot, itm_surgeon, 70, 0),
    (item_set_slot, itm_surgeon, 76, 26),
    (item_set_slot, itm_surgeon, 79, 0),
    (item_set_slot, itm_surgeon, 80, 21),
    (item_set_slot, itm_surgeon, 81, 10),
    (item_set_slot, itm_militia_tunic_a, 69, 1100),
    (item_set_slot, itm_militia_tunic_a, 68, 3),
    (item_set_slot, itm_militia_tunic_a, 70, 0),
    (item_set_slot, itm_militia_tunic_a, 76, 26),
    (item_set_slot, itm_militia_tunic_a, 79, 0),
    (item_set_slot, itm_militia_tunic_a, 80, 21),
    (item_set_slot, itm_militia_tunic_a, 81, 10),
    (item_set_slot, itm_militia_tunic_b, 69, 1100),
    (item_set_slot, itm_militia_tunic_b, 68, 3),
    (item_set_slot, itm_militia_tunic_b, 70, 0),
    (item_set_slot, itm_militia_tunic_b, 76, 26),
    (item_set_slot, itm_militia_tunic_b, 79, 0),
    (item_set_slot, itm_militia_tunic_b, 80, 21),
    (item_set_slot, itm_militia_tunic_b, 81, 10),
    (item_set_slot, itm_bride_dress, 69, 300),
    (item_set_slot, itm_bride_dress, 68, 0),
    (item_set_slot, itm_bride_dress, 70, 0),
    (item_set_slot, itm_bride_dress, 76, 26),
    (item_set_slot, itm_bride_dress, 79, 0),
    (item_set_slot, itm_bride_dress, 80, 10),
    (item_set_slot, itm_bride_dress, 81, 10),
    (item_set_slot, itm_merchant_outfit_2, 69, 400),
    (item_set_slot, itm_merchant_outfit_2, 68, 0),
    (item_set_slot, itm_merchant_outfit_2, 70, 0),
    (item_set_slot, itm_merchant_outfit_2, 76, 26),
    (item_set_slot, itm_merchant_outfit_2, 79, 0),
    (item_set_slot, itm_merchant_outfit_2, 80, 14),
    (item_set_slot, itm_merchant_outfit_2, 81, 10),
    (item_set_slot, itm_templar_tunic_a, 69, 1100),
    (item_set_slot, itm_templar_tunic_a, 68, 3),
    (item_set_slot, itm_templar_tunic_a, 70, 0),
    (item_set_slot, itm_templar_tunic_a, 76, 26),
    (item_set_slot, itm_templar_tunic_a, 79, 0),
    (item_set_slot, itm_templar_tunic_a, 80, 21),
    (item_set_slot, itm_templar_tunic_a, 81, 10),
    (item_set_slot, itm_hospitaller_tunic_a, 69, 1100),
    (item_set_slot, itm_hospitaller_tunic_a, 68, 3),
    (item_set_slot, itm_hospitaller_tunic_a, 70, 0),
    (item_set_slot, itm_hospitaller_tunic_a, 76, 26),
    (item_set_slot, itm_hospitaller_tunic_a, 79, 0),
    (item_set_slot, itm_hospitaller_tunic_a, 80, 21),
    (item_set_slot, itm_hospitaller_tunic_a, 81, 10),
    (item_set_slot, itm_hospitaller_gambeson_a, 69, 1100),
    (item_set_slot, itm_hospitaller_gambeson_a, 68, 3),
    (item_set_slot, itm_hospitaller_gambeson_a, 70, 0),
    (item_set_slot, itm_hospitaller_gambeson_a, 76, 26),
    (item_set_slot, itm_hospitaller_gambeson_a, 79, 0),
    (item_set_slot, itm_hospitaller_gambeson_a, 80, 21),
    (item_set_slot, itm_hospitaller_gambeson_a, 81, 10),
    (item_set_slot, itm_noble_cloak, 69, 600),
    (item_set_slot, itm_noble_cloak, 68, 1),
    (item_set_slot, itm_noble_cloak, 70, 0),
    (item_set_slot, itm_noble_cloak, 76, 26),
    (item_set_slot, itm_noble_cloak, 79, 0),
    (item_set_slot, itm_noble_cloak, 80, 12),
    (item_set_slot, itm_noble_cloak, 81, 5),
    (item_set_slot, itm_gambeson_a, 69, 1100),
    (item_set_slot, itm_gambeson_a, 68, 3),
    (item_set_slot, itm_gambeson_a, 70, 0),
    (item_set_slot, itm_gambeson_a, 76, 26),
    (item_set_slot, itm_gambeson_a, 79, 0),
    (item_set_slot, itm_gambeson_a, 80, 21),
    (item_set_slot, itm_gambeson_a, 81, 10),
    (item_set_slot, itm_gambeson_b, 69, 1100),
    (item_set_slot, itm_gambeson_b, 68, 3),
    (item_set_slot, itm_gambeson_b, 70, 0),
    (item_set_slot, itm_gambeson_b, 76, 26),
    (item_set_slot, itm_gambeson_b, 79, 0),
    (item_set_slot, itm_gambeson_b, 80, 21),
    (item_set_slot, itm_gambeson_b, 81, 10),
    (item_set_slot, itm_gambeson_c, 69, 1100),
    (item_set_slot, itm_gambeson_c, 68, 3),
    (item_set_slot, itm_gambeson_c, 70, 0),
    (item_set_slot, itm_gambeson_c, 76, 26),
    (item_set_slot, itm_gambeson_c, 79, 0),
    (item_set_slot, itm_gambeson_c, 80, 21),
    (item_set_slot, itm_gambeson_c, 81, 10),
    (item_set_slot, itm_gambeson_d, 69, 1100),
    (item_set_slot, itm_gambeson_d, 68, 3),
    (item_set_slot, itm_gambeson_d, 70, 0),
    (item_set_slot, itm_gambeson_d, 76, 26),
    (item_set_slot, itm_gambeson_d, 79, 0),
    (item_set_slot, itm_gambeson_d, 80, 21),
    (item_set_slot, itm_gambeson_d, 81, 10),
    (item_set_slot, itm_leather_jerkin, 69, 600),
    (item_set_slot, itm_leather_jerkin, 68, 0),
    (item_set_slot, itm_leather_jerkin, 70, 0),
    (item_set_slot, itm_leather_jerkin, 76, 26),
    (item_set_slot, itm_leather_jerkin, 79, 0),
    (item_set_slot, itm_leather_jerkin, 80, 15),
    (item_set_slot, itm_leather_jerkin, 81, 6),
    (item_set_slot, itm_sarranid_lady_dress, 69, 300),
    (item_set_slot, itm_sarranid_lady_dress, 68, 0),
    (item_set_slot, itm_sarranid_lady_dress, 70, 0),
    (item_set_slot, itm_sarranid_lady_dress, 76, 26),
    (item_set_slot, itm_sarranid_lady_dress, 79, 0),
    (item_set_slot, itm_sarranid_lady_dress, 80, 10),
    (item_set_slot, itm_sarranid_lady_dress, 81, 10),
    (item_set_slot, itm_sarranid_lady_dress_b, 69, 300),
    (item_set_slot, itm_sarranid_lady_dress_b, 68, 0),
    (item_set_slot, itm_sarranid_lady_dress_b, 70, 0),
    (item_set_slot, itm_sarranid_lady_dress_b, 76, 26),
    (item_set_slot, itm_sarranid_lady_dress_b, 79, 0),
    (item_set_slot, itm_sarranid_lady_dress_b, 80, 10),
    (item_set_slot, itm_sarranid_lady_dress_b, 81, 10),
    (item_set_slot, itm_sarranid_common_dress, 69, 300),
    (item_set_slot, itm_sarranid_common_dress, 68, 0),
    (item_set_slot, itm_sarranid_common_dress, 70, 0),
    (item_set_slot, itm_sarranid_common_dress, 76, 26),
    (item_set_slot, itm_sarranid_common_dress, 79, 0),
    (item_set_slot, itm_sarranid_common_dress, 80, 10),
    (item_set_slot, itm_sarranid_common_dress, 81, 10),
    (item_set_slot, itm_sarranid_common_dress_b, 69, 300),
    (item_set_slot, itm_sarranid_common_dress_b, 68, 0),
    (item_set_slot, itm_sarranid_common_dress_b, 70, 0),
    (item_set_slot, itm_sarranid_common_dress_b, 76, 26),
    (item_set_slot, itm_sarranid_common_dress_b, 79, 0),
    (item_set_slot, itm_sarranid_common_dress_b, 80, 10),
    (item_set_slot, itm_sarranid_common_dress_b, 81, 10),
    (item_set_slot, itm_sarranid_cloth_robe, 69, 100),
    (item_set_slot, itm_sarranid_cloth_robe, 68, 0),
    (item_set_slot, itm_sarranid_cloth_robe, 70, 1),
    (item_set_slot, itm_sarranid_cloth_robe, 76, 29),
    (item_set_slot, itm_sarranid_cloth_robe, 79, 0),
    (item_set_slot, itm_sarranid_cloth_robe, 80, 9),
    (item_set_slot, itm_sarranid_cloth_robe, 81, 9),
    (item_set_slot, itm_sarranid_cloth_robe_b, 69, 100),
    (item_set_slot, itm_sarranid_cloth_robe_b, 68, 0),
    (item_set_slot, itm_sarranid_cloth_robe_b, 70, 1),
    (item_set_slot, itm_sarranid_cloth_robe_b, 76, 29),
    (item_set_slot, itm_sarranid_cloth_robe_b, 79, 0),
    (item_set_slot, itm_sarranid_cloth_robe_b, 80, 9),
    (item_set_slot, itm_sarranid_cloth_robe_b, 81, 9),
    (item_set_slot, itm_kau_arab_lamellar_vest_a, 69, 1100),
    (item_set_slot, itm_kau_arab_lamellar_vest_a, 68, 3),
    (item_set_slot, itm_kau_arab_lamellar_vest_a, 70, 0),
    (item_set_slot, itm_kau_arab_lamellar_vest_a, 76, 26),
    (item_set_slot, itm_kau_arab_lamellar_vest_a, 79, 0),
    (item_set_slot, itm_kau_arab_lamellar_vest_a, 80, 21),
    (item_set_slot, itm_kau_arab_lamellar_vest_a, 81, 10),
    (item_set_slot, itm_kau_arab_lamellar_vest_b, 69, 1100),
    (item_set_slot, itm_kau_arab_lamellar_vest_b, 68, 3),
    (item_set_slot, itm_kau_arab_lamellar_vest_b, 70, 0),
    (item_set_slot, itm_kau_arab_lamellar_vest_b, 76, 26),
    (item_set_slot, itm_kau_arab_lamellar_vest_b, 79, 0),
    (item_set_slot, itm_kau_arab_lamellar_vest_b, 80, 21),
    (item_set_slot, itm_kau_arab_lamellar_vest_b, 81, 10),
    (item_set_slot, itm_kau_arab_lamellar_vest_c, 69, 1100),
    (item_set_slot, itm_kau_arab_lamellar_vest_c, 68, 3),
    (item_set_slot, itm_kau_arab_lamellar_vest_c, 70, 0),
    (item_set_slot, itm_kau_arab_lamellar_vest_c, 76, 26),
    (item_set_slot, itm_kau_arab_lamellar_vest_c, 79, 0),
    (item_set_slot, itm_kau_arab_lamellar_vest_c, 80, 21),
    (item_set_slot, itm_kau_arab_lamellar_vest_c, 81, 10),
    (item_set_slot, itm_kau_arab_tunic_a, 69, 1100),
    (item_set_slot, itm_kau_arab_tunic_a, 68, 3),
    (item_set_slot, itm_kau_arab_tunic_a, 70, 0),
    (item_set_slot, itm_kau_arab_tunic_a, 76, 26),
    (item_set_slot, itm_kau_arab_tunic_a, 79, 0),
    (item_set_slot, itm_kau_arab_tunic_a, 80, 21),
    (item_set_slot, itm_kau_arab_tunic_a, 81, 10),
    (item_set_slot, itm_kau_arab_tunic_b, 69, 1100),
    (item_set_slot, itm_kau_arab_tunic_b, 68, 3),
    (item_set_slot, itm_kau_arab_tunic_b, 70, 0),
    (item_set_slot, itm_kau_arab_tunic_b, 76, 26),
    (item_set_slot, itm_kau_arab_tunic_b, 79, 0),
    (item_set_slot, itm_kau_arab_tunic_b, 80, 21),
    (item_set_slot, itm_kau_arab_tunic_b, 81, 10),
    (item_set_slot, itm_meghrebi_leather_c, 69, 1100),
    (item_set_slot, itm_meghrebi_leather_c, 68, 3),
    (item_set_slot, itm_meghrebi_leather_c, 70, 0),
    (item_set_slot, itm_meghrebi_leather_c, 76, 26),
    (item_set_slot, itm_meghrebi_leather_c, 79, 0),
    (item_set_slot, itm_meghrebi_leather_c, 80, 21),
    (item_set_slot, itm_meghrebi_leather_c, 81, 10),
    (item_set_slot, itm_meghrebi_vest, 69, 1100),
    (item_set_slot, itm_meghrebi_vest, 68, 3),
    (item_set_slot, itm_meghrebi_vest, 70, 0),
    (item_set_slot, itm_meghrebi_vest, 76, 26),
    (item_set_slot, itm_meghrebi_vest, 79, 0),
    (item_set_slot, itm_meghrebi_vest, 80, 21),
    (item_set_slot, itm_meghrebi_vest, 81, 10),
    (item_set_slot, itm_almohad_robe_a, 69, 1100),
    (item_set_slot, itm_almohad_robe_a, 68, 3),
    (item_set_slot, itm_almohad_robe_a, 70, 0),
    (item_set_slot, itm_almohad_robe_a, 76, 26),
    (item_set_slot, itm_almohad_robe_a, 79, 0),
    (item_set_slot, itm_almohad_robe_a, 80, 21),
    (item_set_slot, itm_almohad_robe_a, 81, 10),
    (item_set_slot, itm_almohad_robe_b, 69, 1100),
    (item_set_slot, itm_almohad_robe_b, 68, 3),
    (item_set_slot, itm_almohad_robe_b, 70, 0),
    (item_set_slot, itm_almohad_robe_b, 76, 26),
    (item_set_slot, itm_almohad_robe_b, 79, 0),
    (item_set_slot, itm_almohad_robe_b, 80, 21),
    (item_set_slot, itm_almohad_robe_b, 81, 10),
    (item_set_slot, itm_almohad_robe_c, 69, 1100),
    (item_set_slot, itm_almohad_robe_c, 68, 3),
    (item_set_slot, itm_almohad_robe_c, 70, 0),
    (item_set_slot, itm_almohad_robe_c, 76, 26),
    (item_set_slot, itm_almohad_robe_c, 79, 0),
    (item_set_slot, itm_almohad_robe_c, 80, 21),
    (item_set_slot, itm_almohad_robe_c, 81, 10),
    (item_set_slot, itm_almohad_robe_d, 69, 1100),
    (item_set_slot, itm_almohad_robe_d, 68, 3),
    (item_set_slot, itm_almohad_robe_d, 70, 0),
    (item_set_slot, itm_almohad_robe_d, 76, 26),
    (item_set_slot, itm_almohad_robe_d, 79, 0),
    (item_set_slot, itm_almohad_robe_d, 80, 21),
    (item_set_slot, itm_almohad_robe_d, 81, 10),
    (item_set_slot, itm_almohad_cavalry_a, 69, 1100),
    (item_set_slot, itm_almohad_cavalry_a, 68, 3),
    (item_set_slot, itm_almohad_cavalry_a, 70, 0),
    (item_set_slot, itm_almohad_cavalry_a, 76, 26),
    (item_set_slot, itm_almohad_cavalry_a, 79, 0),
    (item_set_slot, itm_almohad_cavalry_a, 80, 21),
    (item_set_slot, itm_almohad_cavalry_a, 81, 10),
    (item_set_slot, itm_almohad_cavalry_b, 69, 1100),
    (item_set_slot, itm_almohad_cavalry_b, 68, 3),
    (item_set_slot, itm_almohad_cavalry_b, 70, 0),
    (item_set_slot, itm_almohad_cavalry_b, 76, 26),
    (item_set_slot, itm_almohad_cavalry_b, 79, 0),
    (item_set_slot, itm_almohad_cavalry_b, 80, 21),
    (item_set_slot, itm_almohad_cavalry_b, 81, 10),
    (item_set_slot, itm_arab_nobleman_a, 69, 1100),
    (item_set_slot, itm_arab_nobleman_a, 68, 3),
    (item_set_slot, itm_arab_nobleman_a, 70, 0),
    (item_set_slot, itm_arab_nobleman_a, 76, 26),
    (item_set_slot, itm_arab_nobleman_a, 79, 0),
    (item_set_slot, itm_arab_nobleman_a, 80, 21),
    (item_set_slot, itm_arab_nobleman_a, 81, 10),
    (item_set_slot, itm_arab_nobleman_b, 69, 1100),
    (item_set_slot, itm_arab_nobleman_b, 68, 3),
    (item_set_slot, itm_arab_nobleman_b, 70, 0),
    (item_set_slot, itm_arab_nobleman_b, 76, 26),
    (item_set_slot, itm_arab_nobleman_b, 79, 0),
    (item_set_slot, itm_arab_nobleman_b, 80, 21),
    (item_set_slot, itm_arab_nobleman_b, 81, 10),
    (item_set_slot, itm_arab_nobleman_c, 69, 1100),
    (item_set_slot, itm_arab_nobleman_c, 68, 3),
    (item_set_slot, itm_arab_nobleman_c, 70, 0),
    (item_set_slot, itm_arab_nobleman_c, 76, 26),
    (item_set_slot, itm_arab_nobleman_c, 79, 0),
    (item_set_slot, itm_arab_nobleman_c, 80, 21),
    (item_set_slot, itm_arab_nobleman_c, 81, 10),
    (item_set_slot, itm_berber_tunic_a, 69, 1100),
    (item_set_slot, itm_berber_tunic_a, 68, 3),
    (item_set_slot, itm_berber_tunic_a, 70, 0),
    (item_set_slot, itm_berber_tunic_a, 76, 26),
    (item_set_slot, itm_berber_tunic_a, 79, 0),
    (item_set_slot, itm_berber_tunic_a, 80, 21),
    (item_set_slot, itm_berber_tunic_a, 81, 10),
    (item_set_slot, itm_berber_tunic_c, 69, 1100),
    (item_set_slot, itm_berber_tunic_c, 68, 3),
    (item_set_slot, itm_berber_tunic_c, 70, 0),
    (item_set_slot, itm_berber_tunic_c, 76, 26),
    (item_set_slot, itm_berber_tunic_c, 79, 0),
    (item_set_slot, itm_berber_tunic_c, 80, 21),
    (item_set_slot, itm_berber_tunic_c, 81, 10),
    (item_set_slot, itm_arab_padded_vest, 69, 1100),
    (item_set_slot, itm_arab_padded_vest, 68, 3),
    (item_set_slot, itm_arab_padded_vest, 70, 0),
    (item_set_slot, itm_arab_padded_vest, 76, 26),
    (item_set_slot, itm_arab_padded_vest, 79, 0),
    (item_set_slot, itm_arab_padded_vest, 80, 21),
    (item_set_slot, itm_arab_padded_vest, 81, 10),
    (item_set_slot, itm_arab_archer, 69, 1100),
    (item_set_slot, itm_arab_archer, 68, 3),
    (item_set_slot, itm_arab_archer, 70, 0),
    (item_set_slot, itm_arab_archer, 76, 26),
    (item_set_slot, itm_arab_archer, 79, 0),
    (item_set_slot, itm_arab_archer, 80, 21),
    (item_set_slot, itm_arab_archer, 81, 10),
    (item_set_slot, itm_mamluk_shirt_a, 69, 600),
    (item_set_slot, itm_mamluk_shirt_a, 68, 1),
    (item_set_slot, itm_mamluk_shirt_a, 70, 1),
    (item_set_slot, itm_mamluk_shirt_a, 76, 29),
    (item_set_slot, itm_mamluk_shirt_a, 79, 0),
    (item_set_slot, itm_mamluk_shirt_a, 80, 12),
    (item_set_slot, itm_mamluk_shirt_a, 81, 5),
    (item_set_slot, itm_turk_kaftan_beige, 69, 1100),
    (item_set_slot, itm_turk_kaftan_beige, 68, 3),
    (item_set_slot, itm_turk_kaftan_beige, 70, 0),
    (item_set_slot, itm_turk_kaftan_beige, 76, 26),
    (item_set_slot, itm_turk_kaftan_beige, 79, 0),
    (item_set_slot, itm_turk_kaftan_beige, 80, 21),
    (item_set_slot, itm_turk_kaftan_beige, 81, 10),
    (item_set_slot, itm_turk_kaftan_furtrim, 69, 1100),
    (item_set_slot, itm_turk_kaftan_furtrim, 68, 3),
    (item_set_slot, itm_turk_kaftan_furtrim, 70, 0),
    (item_set_slot, itm_turk_kaftan_furtrim, 76, 26),
    (item_set_slot, itm_turk_kaftan_furtrim, 79, 0),
    (item_set_slot, itm_turk_kaftan_furtrim, 80, 21),
    (item_set_slot, itm_turk_kaftan_furtrim, 81, 10),
    (item_set_slot, itm_saracen_kaftan_a, 69, 1100),
    (item_set_slot, itm_saracen_kaftan_a, 68, 3),
    (item_set_slot, itm_saracen_kaftan_a, 70, 0),
    (item_set_slot, itm_saracen_kaftan_a, 76, 26),
    (item_set_slot, itm_saracen_kaftan_a, 79, 0),
    (item_set_slot, itm_saracen_kaftan_a, 80, 21),
    (item_set_slot, itm_saracen_kaftan_a, 81, 10),
    (item_set_slot, itm_saracen_kaftan_b, 69, 1100),
    (item_set_slot, itm_saracen_kaftan_b, 68, 3),
    (item_set_slot, itm_saracen_kaftan_b, 70, 0),
    (item_set_slot, itm_saracen_kaftan_b, 76, 26),
    (item_set_slot, itm_saracen_kaftan_b, 79, 0),
    (item_set_slot, itm_saracen_kaftan_b, 80, 21),
    (item_set_slot, itm_saracen_kaftan_b, 81, 10),
    (item_set_slot, itm_saracen_kaftan_c, 69, 1100),
    (item_set_slot, itm_saracen_kaftan_c, 68, 3),
    (item_set_slot, itm_saracen_kaftan_c, 70, 0),
    (item_set_slot, itm_saracen_kaftan_c, 76, 26),
    (item_set_slot, itm_saracen_kaftan_c, 79, 0),
    (item_set_slot, itm_saracen_kaftan_c, 80, 21),
    (item_set_slot, itm_saracen_kaftan_c, 81, 10),
    (item_set_slot, itm_saracen_kaftan_d, 69, 1100),
    (item_set_slot, itm_saracen_kaftan_d, 68, 3),
    (item_set_slot, itm_saracen_kaftan_d, 70, 0),
    (item_set_slot, itm_saracen_kaftan_d, 76, 26),
    (item_set_slot, itm_saracen_kaftan_d, 79, 0),
    (item_set_slot, itm_saracen_kaftan_d, 80, 21),
    (item_set_slot, itm_saracen_kaftan_d, 81, 10),
    (item_set_slot, itm_kau_arab_aketon, 69, 1100),
    (item_set_slot, itm_kau_arab_aketon, 68, 3),
    (item_set_slot, itm_kau_arab_aketon, 70, 0),
    (item_set_slot, itm_kau_arab_aketon, 76, 26),
    (item_set_slot, itm_kau_arab_aketon, 79, 0),
    (item_set_slot, itm_kau_arab_aketon, 80, 21),
    (item_set_slot, itm_kau_arab_aketon, 81, 10),
    (item_set_slot, itm_kau_arab_mail_shirt_a, 69, 1100),
    (item_set_slot, itm_kau_arab_mail_shirt_a, 68, 3),
    (item_set_slot, itm_kau_arab_mail_shirt_a, 70, 1),
    (item_set_slot, itm_kau_arab_mail_shirt_a, 76, 29),
    (item_set_slot, itm_kau_arab_mail_shirt_a, 79, 0),
    (item_set_slot, itm_kau_arab_mail_shirt_a, 80, 21),
    (item_set_slot, itm_kau_arab_mail_shirt_a, 81, 10),
    (item_set_slot, itm_skirmisher_armor, 69, 300),
    (item_set_slot, itm_skirmisher_armor, 68, 0),
    (item_set_slot, itm_skirmisher_armor, 70, 1),
    (item_set_slot, itm_skirmisher_armor, 76, 29),
    (item_set_slot, itm_skirmisher_armor, 79, 0),
    (item_set_slot, itm_skirmisher_armor, 80, 15),
    (item_set_slot, itm_skirmisher_armor, 81, 9),
    (item_set_slot, itm_sarranid_leather_armor, 69, 1100),
    (item_set_slot, itm_sarranid_leather_armor, 68, 3),
    (item_set_slot, itm_sarranid_leather_armor, 70, 0),
    (item_set_slot, itm_sarranid_leather_armor, 76, 26),
    (item_set_slot, itm_sarranid_leather_armor, 79, 0),
    (item_set_slot, itm_sarranid_leather_armor, 80, 21),
    (item_set_slot, itm_sarranid_leather_armor, 81, 10),
    (item_set_slot, itm_black_guard, 69, 1100),
    (item_set_slot, itm_black_guard, 68, 3),
    (item_set_slot, itm_black_guard, 70, 0),
    (item_set_slot, itm_black_guard, 76, 26),
    (item_set_slot, itm_black_guard, 79, 0),
    (item_set_slot, itm_black_guard, 80, 21),
    (item_set_slot, itm_black_guard, 81, 10),
    (item_set_slot, itm_khergit_lady_dress, 69, 300),
    (item_set_slot, itm_khergit_lady_dress, 68, 0),
    (item_set_slot, itm_khergit_lady_dress, 70, 0),
    (item_set_slot, itm_khergit_lady_dress, 76, 26),
    (item_set_slot, itm_khergit_lady_dress, 79, 0),
    (item_set_slot, itm_khergit_lady_dress, 80, 10),
    (item_set_slot, itm_khergit_lady_dress, 81, 10),
    (item_set_slot, itm_khergit_lady_dress_b, 69, 300),
    (item_set_slot, itm_khergit_lady_dress_b, 68, 0),
    (item_set_slot, itm_khergit_lady_dress_b, 70, 0),
    (item_set_slot, itm_khergit_lady_dress_b, 76, 26),
    (item_set_slot, itm_khergit_lady_dress_b, 79, 0),
    (item_set_slot, itm_khergit_lady_dress_b, 80, 10),
    (item_set_slot, itm_khergit_lady_dress_b, 81, 10),
    (item_set_slot, itm_nomad_armor, 69, 200),
    (item_set_slot, itm_nomad_armor, 68, 0),
    (item_set_slot, itm_nomad_armor, 70, 0),
    (item_set_slot, itm_nomad_armor, 76, 26),
    (item_set_slot, itm_nomad_armor, 79, 0),
    (item_set_slot, itm_nomad_armor, 80, 10),
    (item_set_slot, itm_nomad_armor, 81, 0),
    (item_set_slot, itm_khergit_armor, 69, 200),
    (item_set_slot, itm_khergit_armor, 68, 0),
    (item_set_slot, itm_khergit_armor, 70, 0),
    (item_set_slot, itm_khergit_armor, 76, 26),
    (item_set_slot, itm_khergit_armor, 79, 0),
    (item_set_slot, itm_khergit_armor, 80, 14),
    (item_set_slot, itm_khergit_armor, 81, 0),
    (item_set_slot, itm_leather_jacket, 69, 300),
    (item_set_slot, itm_leather_jacket, 68, 0),
    (item_set_slot, itm_leather_jacket, 70, 0),
    (item_set_slot, itm_leather_jacket, 76, 26),
    (item_set_slot, itm_leather_jacket, 79, 0),
    (item_set_slot, itm_leather_jacket, 80, 15),
    (item_set_slot, itm_leather_jacket, 81, 0),
    (item_set_slot, itm_rawhide_coat, 69, 500),
    (item_set_slot, itm_rawhide_coat, 68, 0),
    (item_set_slot, itm_rawhide_coat, 70, 0),
    (item_set_slot, itm_rawhide_coat, 76, 26),
    (item_set_slot, itm_rawhide_coat, 79, 0),
    (item_set_slot, itm_rawhide_coat, 80, 6),
    (item_set_slot, itm_rawhide_coat, 81, 0),
    (item_set_slot, itm_fur_coat, 69, 600),
    (item_set_slot, itm_fur_coat, 68, 0),
    (item_set_slot, itm_fur_coat, 70, 0),
    (item_set_slot, itm_fur_coat, 76, 26),
    (item_set_slot, itm_fur_coat, 79, 0),
    (item_set_slot, itm_fur_coat, 80, 8),
    (item_set_slot, itm_fur_coat, 81, 6),
    (item_set_slot, itm_nomad_vest, 69, 700),
    (item_set_slot, itm_nomad_vest, 68, 0),
    (item_set_slot, itm_nomad_vest, 70, 0),
    (item_set_slot, itm_nomad_vest, 76, 26),
    (item_set_slot, itm_nomad_vest, 79, 0),
    (item_set_slot, itm_nomad_vest, 80, 9),
    (item_set_slot, itm_nomad_vest, 81, 5),
    (item_set_slot, itm_ragged_outfit, 69, 700),
    (item_set_slot, itm_ragged_outfit, 68, 0),
    (item_set_slot, itm_ragged_outfit, 70, 0),
    (item_set_slot, itm_ragged_outfit, 76, 26),
    (item_set_slot, itm_ragged_outfit, 79, 0),
    (item_set_slot, itm_ragged_outfit, 80, 13),
    (item_set_slot, itm_ragged_outfit, 81, 9),
    (item_set_slot, itm_tribal_warrior_outfit, 69, 1100),
    (item_set_slot, itm_tribal_warrior_outfit, 68, 3),
    (item_set_slot, itm_tribal_warrior_outfit, 70, 0),
    (item_set_slot, itm_tribal_warrior_outfit, 76, 26),
    (item_set_slot, itm_tribal_warrior_outfit, 79, 0),
    (item_set_slot, itm_tribal_warrior_outfit, 80, 21),
    (item_set_slot, itm_tribal_warrior_outfit, 81, 10),
    (item_set_slot, itm_kipchak_shirt_b, 69, 600),
    (item_set_slot, itm_kipchak_shirt_b, 68, 1),
    (item_set_slot, itm_kipchak_shirt_b, 70, 0),
    (item_set_slot, itm_kipchak_shirt_b, 76, 26),
    (item_set_slot, itm_kipchak_shirt_b, 79, 0),
    (item_set_slot, itm_kipchak_shirt_b, 80, 12),
    (item_set_slot, itm_kipchak_shirt_b, 81, 5),
    (item_set_slot, itm_mongol_tunic_b, 69, 1100),
    (item_set_slot, itm_mongol_tunic_b, 68, 3),
    (item_set_slot, itm_mongol_tunic_b, 70, 0),
    (item_set_slot, itm_mongol_tunic_b, 76, 26),
    (item_set_slot, itm_mongol_tunic_b, 79, 0),
    (item_set_slot, itm_mongol_tunic_b, 80, 21),
    (item_set_slot, itm_mongol_tunic_b, 81, 10),
    (item_set_slot, itm_czekan, 69, 175),
    (item_set_slot, itm_czekan, 68, 9),
    (item_set_slot, itm_czekan, 76, 13),
    (item_set_slot, itm_czekan, 79, 0),
    (item_set_slot, itm_czekan, 80, 291),
    (item_set_slot, itm_czekan, 83, 93),
    (item_set_slot, itm_czekan, 82, 75),
    (item_set_slot, itm_ilkhanate_kaftan, 69, 1100),
    (item_set_slot, itm_ilkhanate_kaftan, 68, 3),
    (item_set_slot, itm_ilkhanate_kaftan, 70, 0),
    (item_set_slot, itm_ilkhanate_kaftan, 76, 26),
    (item_set_slot, itm_ilkhanate_kaftan, 79, 0),
    (item_set_slot, itm_ilkhanate_kaftan, 80, 21),
    (item_set_slot, itm_ilkhanate_kaftan, 81, 10),
    (item_set_slot, itm_kau_rus_e, 69, 600),
    (item_set_slot, itm_kau_rus_e, 68, 1),
    (item_set_slot, itm_kau_rus_e, 70, 0),
    (item_set_slot, itm_kau_rus_e, 76, 26),
    (item_set_slot, itm_kau_rus_e, 79, 0),
    (item_set_slot, itm_kau_rus_e, 80, 12),
    (item_set_slot, itm_kau_rus_e, 81, 5),
    (item_set_slot, itm_kau_rus_tunic_a, 69, 400),
    (item_set_slot, itm_kau_rus_tunic_a, 68, 0),
    (item_set_slot, itm_kau_rus_tunic_a, 70, 0),
    (item_set_slot, itm_kau_rus_tunic_a, 76, 26),
    (item_set_slot, itm_kau_rus_tunic_a, 79, 0),
    (item_set_slot, itm_kau_rus_tunic_a, 80, 9),
    (item_set_slot, itm_kau_rus_tunic_a, 81, 0),
    (item_set_slot, itm_kau_rus_tunic_b, 69, 400),
    (item_set_slot, itm_kau_rus_tunic_b, 68, 0),
    (item_set_slot, itm_kau_rus_tunic_b, 70, 0),
    (item_set_slot, itm_kau_rus_tunic_b, 76, 26),
    (item_set_slot, itm_kau_rus_tunic_b, 79, 0),
    (item_set_slot, itm_kau_rus_tunic_b, 80, 9),
    (item_set_slot, itm_kau_rus_tunic_b, 81, 0),
    (item_set_slot, itm_kau_rus_tunic_c, 69, 400),
    (item_set_slot, itm_kau_rus_tunic_c, 68, 0),
    (item_set_slot, itm_kau_rus_tunic_c, 70, 0),
    (item_set_slot, itm_kau_rus_tunic_c, 76, 26),
    (item_set_slot, itm_kau_rus_tunic_c, 79, 0),
    (item_set_slot, itm_kau_rus_tunic_c, 80, 9),
    (item_set_slot, itm_kau_rus_tunic_c, 81, 0),
    (item_set_slot, itm_rus_coat, 69, 1400),
    (item_set_slot, itm_rus_coat, 68, 5),
    (item_set_slot, itm_rus_coat, 70, 1),
    (item_set_slot, itm_rus_coat, 76, 29),
    (item_set_slot, itm_rus_coat, 79, 0),
    (item_set_slot, itm_rus_coat, 80, 26),
    (item_set_slot, itm_rus_coat, 81, 12),
    (item_set_slot, itm_byz_psiloi_a, 69, 600),
    (item_set_slot, itm_byz_psiloi_a, 68, 1),
    (item_set_slot, itm_byz_psiloi_a, 70, 0),
    (item_set_slot, itm_byz_psiloi_a, 76, 26),
    (item_set_slot, itm_byz_psiloi_a, 79, 0),
    (item_set_slot, itm_byz_psiloi_a, 80, 12),
    (item_set_slot, itm_byz_psiloi_a, 81, 5),
    (item_set_slot, itm_byz_psiloi_b, 69, 600),
    (item_set_slot, itm_byz_psiloi_b, 68, 1),
    (item_set_slot, itm_byz_psiloi_b, 70, 0),
    (item_set_slot, itm_byz_psiloi_b, 76, 26),
    (item_set_slot, itm_byz_psiloi_b, 79, 0),
    (item_set_slot, itm_byz_psiloi_b, 80, 12),
    (item_set_slot, itm_byz_psiloi_b, 81, 5),
    (item_set_slot, itm_balt_shirt_a, 69, 600),
    (item_set_slot, itm_balt_shirt_a, 68, 1),
    (item_set_slot, itm_balt_shirt_a, 70, 0),
    (item_set_slot, itm_balt_shirt_a, 76, 26),
    (item_set_slot, itm_balt_shirt_a, 79, 0),
    (item_set_slot, itm_balt_shirt_a, 80, 12),
    (item_set_slot, itm_balt_shirt_a, 81, 5),
    (item_set_slot, itm_balt_shirt_b, 69, 600),
    (item_set_slot, itm_balt_shirt_b, 68, 1),
    (item_set_slot, itm_balt_shirt_b, 70, 0),
    (item_set_slot, itm_balt_shirt_b, 76, 26),
    (item_set_slot, itm_balt_shirt_b, 79, 0),
    (item_set_slot, itm_balt_shirt_b, 80, 12),
    (item_set_slot, itm_balt_shirt_b, 81, 5),
    (item_set_slot, itm_balt_shirt_e, 69, 600),
    (item_set_slot, itm_balt_shirt_e, 68, 1),
    (item_set_slot, itm_balt_shirt_e, 70, 0),
    (item_set_slot, itm_balt_shirt_e, 76, 26),
    (item_set_slot, itm_balt_shirt_e, 79, 0),
    (item_set_slot, itm_balt_shirt_e, 80, 12),
    (item_set_slot, itm_balt_shirt_e, 81, 5),
    (item_set_slot, itm_balt_shirt_d, 69, 600),
    (item_set_slot, itm_balt_shirt_d, 68, 1),
    (item_set_slot, itm_balt_shirt_d, 70, 0),
    (item_set_slot, itm_balt_shirt_d, 76, 26),
    (item_set_slot, itm_balt_shirt_d, 79, 0),
    (item_set_slot, itm_balt_shirt_d, 80, 12),
    (item_set_slot, itm_balt_shirt_d, 81, 5),
    (item_set_slot, itm_balt_fur_coat_a, 69, 600),
    (item_set_slot, itm_balt_fur_coat_a, 68, 1),
    (item_set_slot, itm_balt_fur_coat_a, 70, 0),
    (item_set_slot, itm_balt_fur_coat_a, 76, 26),
    (item_set_slot, itm_balt_fur_coat_a, 79, 0),
    (item_set_slot, itm_balt_fur_coat_a, 80, 12),
    (item_set_slot, itm_balt_fur_coat_a, 81, 5),
    (item_set_slot, itm_balt_fur_coat_b, 69, 600),
    (item_set_slot, itm_balt_fur_coat_b, 68, 1),
    (item_set_slot, itm_balt_fur_coat_b, 70, 0),
    (item_set_slot, itm_balt_fur_coat_b, 76, 26),
    (item_set_slot, itm_balt_fur_coat_b, 79, 0),
    (item_set_slot, itm_balt_fur_coat_b, 80, 12),
    (item_set_slot, itm_balt_fur_coat_b, 81, 5),
    (item_set_slot, itm_balt_padded_b, 69, 1100),
    (item_set_slot, itm_balt_padded_b, 68, 3),
    (item_set_slot, itm_balt_padded_b, 70, 0),
    (item_set_slot, itm_balt_padded_b, 76, 26),
    (item_set_slot, itm_balt_padded_b, 79, 0),
    (item_set_slot, itm_balt_padded_b, 80, 21),
    (item_set_slot, itm_balt_padded_b, 81, 10),
    (item_set_slot, itm_andalusian_archers_vest, 69, 1100),
    (item_set_slot, itm_andalusian_archers_vest, 68, 3),
    (item_set_slot, itm_andalusian_archers_vest, 70, 0),
    (item_set_slot, itm_andalusian_archers_vest, 76, 26),
    (item_set_slot, itm_andalusian_archers_vest, 79, 0),
    (item_set_slot, itm_andalusian_archers_vest, 80, 21),
    (item_set_slot, itm_andalusian_archers_vest, 81, 10),
    (item_set_slot, itm_gaelic_long_tunic_a, 69, 600),
    (item_set_slot, itm_gaelic_long_tunic_a, 68, 1),
    (item_set_slot, itm_gaelic_long_tunic_a, 70, 0),
    (item_set_slot, itm_gaelic_long_tunic_a, 76, 26),
    (item_set_slot, itm_gaelic_long_tunic_a, 79, 0),
    (item_set_slot, itm_gaelic_long_tunic_a, 80, 12),
    (item_set_slot, itm_gaelic_long_tunic_a, 81, 5),
    (item_set_slot, itm_gaelic_long_tunic_b, 69, 600),
    (item_set_slot, itm_gaelic_long_tunic_b, 68, 1),
    (item_set_slot, itm_gaelic_long_tunic_b, 70, 0),
    (item_set_slot, itm_gaelic_long_tunic_b, 76, 26),
    (item_set_slot, itm_gaelic_long_tunic_b, 79, 0),
    (item_set_slot, itm_gaelic_long_tunic_b, 80, 12),
    (item_set_slot, itm_gaelic_long_tunic_b, 81, 5),
    (item_set_slot, itm_gaelic_long_tunic_c, 69, 600),
    (item_set_slot, itm_gaelic_long_tunic_c, 68, 1),
    (item_set_slot, itm_gaelic_long_tunic_c, 70, 0),
    (item_set_slot, itm_gaelic_long_tunic_c, 76, 26),
    (item_set_slot, itm_gaelic_long_tunic_c, 79, 0),
    (item_set_slot, itm_gaelic_long_tunic_c, 80, 12),
    (item_set_slot, itm_gaelic_long_tunic_c, 81, 5),
    (item_set_slot, itm_gaelic_byrnie_a, 69, 1100),
    (item_set_slot, itm_gaelic_byrnie_a, 68, 3),
    (item_set_slot, itm_gaelic_byrnie_a, 70, 0),
    (item_set_slot, itm_gaelic_byrnie_a, 76, 26),
    (item_set_slot, itm_gaelic_byrnie_a, 79, 0),
    (item_set_slot, itm_gaelic_byrnie_a, 80, 21),
    (item_set_slot, itm_gaelic_byrnie_a, 81, 10),
    (item_set_slot, itm_gaelic_byrnie_b, 69, 1100),
    (item_set_slot, itm_gaelic_byrnie_b, 68, 3),
    (item_set_slot, itm_gaelic_byrnie_b, 70, 0),
    (item_set_slot, itm_gaelic_byrnie_b, 76, 26),
    (item_set_slot, itm_gaelic_byrnie_b, 79, 0),
    (item_set_slot, itm_gaelic_byrnie_b, 80, 21),
    (item_set_slot, itm_gaelic_byrnie_b, 81, 10),
    (item_set_slot, itm_gaelic_tunic_cape_a, 69, 1100),
    (item_set_slot, itm_gaelic_tunic_cape_a, 68, 3),
    (item_set_slot, itm_gaelic_tunic_cape_a, 70, 0),
    (item_set_slot, itm_gaelic_tunic_cape_a, 76, 26),
    (item_set_slot, itm_gaelic_tunic_cape_a, 79, 0),
    (item_set_slot, itm_gaelic_tunic_cape_a, 80, 21),
    (item_set_slot, itm_gaelic_tunic_cape_a, 81, 10),
    (item_set_slot, itm_gaelic_shirt_blue, 69, 600),
    (item_set_slot, itm_gaelic_shirt_blue, 68, 1),
    (item_set_slot, itm_gaelic_shirt_blue, 70, 0),
    (item_set_slot, itm_gaelic_shirt_blue, 76, 26),
    (item_set_slot, itm_gaelic_shirt_blue, 79, 0),
    (item_set_slot, itm_gaelic_shirt_blue, 80, 12),
    (item_set_slot, itm_gaelic_shirt_blue, 81, 5),
    (item_set_slot, itm_gaelic_shirt_green, 69, 600),
    (item_set_slot, itm_gaelic_shirt_green, 68, 1),
    (item_set_slot, itm_gaelic_shirt_green, 70, 0),
    (item_set_slot, itm_gaelic_shirt_green, 76, 26),
    (item_set_slot, itm_gaelic_shirt_green, 79, 0),
    (item_set_slot, itm_gaelic_shirt_green, 80, 12),
    (item_set_slot, itm_gaelic_shirt_green, 81, 5),
    (item_set_slot, itm_gaelic_shirt_red, 69, 600),
    (item_set_slot, itm_gaelic_shirt_red, 68, 1),
    (item_set_slot, itm_gaelic_shirt_red, 70, 0),
    (item_set_slot, itm_gaelic_shirt_red, 76, 26),
    (item_set_slot, itm_gaelic_shirt_red, 79, 0),
    (item_set_slot, itm_gaelic_shirt_red, 80, 12),
    (item_set_slot, itm_gaelic_shirt_red, 81, 5),
    (item_set_slot, itm_head_wrappings, 69, 50),
    (item_set_slot, itm_head_wrappings, 68, 0),
    (item_set_slot, itm_head_wrappings, 70, 0),
    (item_set_slot, itm_head_wrappings, 76, 26),
    (item_set_slot, itm_head_wrappings, 79, 4),
    (item_set_slot, itm_head_wrappings, 80, 0),
    (item_set_slot, itm_head_wrappings, 81, 0),
    (item_set_slot, itm_turret_hat_green, 69, 50),
    (item_set_slot, itm_turret_hat_green, 68, 0),
    (item_set_slot, itm_turret_hat_green, 70, 0),
    (item_set_slot, itm_turret_hat_green, 76, 26),
    (item_set_slot, itm_turret_hat_green, 79, 4),
    (item_set_slot, itm_turret_hat_green, 80, 0),
    (item_set_slot, itm_turret_hat_green, 81, 0),
    (item_set_slot, itm_wimple_a, 69, 50),
    (item_set_slot, itm_wimple_a, 68, 0),
    (item_set_slot, itm_wimple_a, 70, 0),
    (item_set_slot, itm_wimple_a, 76, 26),
    (item_set_slot, itm_wimple_a, 79, 4),
    (item_set_slot, itm_wimple_a, 80, 0),
    (item_set_slot, itm_wimple_a, 81, 0),
    (item_set_slot, itm_wimple_with_veil, 69, 50),
    (item_set_slot, itm_wimple_with_veil, 68, 0),
    (item_set_slot, itm_wimple_with_veil, 70, 0),
    (item_set_slot, itm_wimple_with_veil, 76, 26),
    (item_set_slot, itm_wimple_with_veil, 79, 4),
    (item_set_slot, itm_wimple_with_veil, 80, 0),
    (item_set_slot, itm_wimple_with_veil, 81, 0),
    (item_set_slot, itm_straw_hat, 69, 50),
    (item_set_slot, itm_straw_hat, 68, 0),
    (item_set_slot, itm_straw_hat, 70, 0),
    (item_set_slot, itm_straw_hat, 76, 26),
    (item_set_slot, itm_straw_hat, 79, 4),
    (item_set_slot, itm_straw_hat, 80, 0),
    (item_set_slot, itm_straw_hat, 81, 0),
    (item_set_slot, itm_headcloth, 69, 50),
    (item_set_slot, itm_headcloth, 68, 0),
    (item_set_slot, itm_headcloth, 70, 0),
    (item_set_slot, itm_headcloth, 76, 26),
    (item_set_slot, itm_headcloth, 79, 4),
    (item_set_slot, itm_headcloth, 80, 0),
    (item_set_slot, itm_headcloth, 81, 0),
    (item_set_slot, itm_arming_cap, 69, 50),
    (item_set_slot, itm_arming_cap, 68, 0),
    (item_set_slot, itm_arming_cap, 70, 0),
    (item_set_slot, itm_arming_cap, 76, 26),
    (item_set_slot, itm_arming_cap, 79, 4),
    (item_set_slot, itm_arming_cap, 80, 0),
    (item_set_slot, itm_arming_cap, 81, 0),
    (item_set_slot, itm_fur_hat, 69, 50),
    (item_set_slot, itm_fur_hat, 68, 0),
    (item_set_slot, itm_fur_hat, 70, 0),
    (item_set_slot, itm_fur_hat, 76, 26),
    (item_set_slot, itm_fur_hat, 79, 8),
    (item_set_slot, itm_fur_hat, 80, 0),
    (item_set_slot, itm_fur_hat, 81, 0),
    (item_set_slot, itm_padded_coif, 69, 100),
    (item_set_slot, itm_padded_coif, 68, 0),
    (item_set_slot, itm_padded_coif, 70, 0),
    (item_set_slot, itm_padded_coif, 76, 26),
    (item_set_slot, itm_padded_coif, 79, 20),
    (item_set_slot, itm_padded_coif, 80, 0),
    (item_set_slot, itm_padded_coif, 81, 0),
    (item_set_slot, itm_woolen_cap, 69, 50),
    (item_set_slot, itm_woolen_cap, 68, 0),
    (item_set_slot, itm_woolen_cap, 70, 0),
    (item_set_slot, itm_woolen_cap, 76, 26),
    (item_set_slot, itm_woolen_cap, 79, 8),
    (item_set_slot, itm_woolen_cap, 80, 0),
    (item_set_slot, itm_woolen_cap, 81, 0),
    (item_set_slot, itm_felt_hat, 69, 50),
    (item_set_slot, itm_felt_hat, 68, 0),
    (item_set_slot, itm_felt_hat, 70, 0),
    (item_set_slot, itm_felt_hat, 76, 26),
    (item_set_slot, itm_felt_hat, 79, 8),
    (item_set_slot, itm_felt_hat, 80, 0),
    (item_set_slot, itm_felt_hat, 81, 0),
    (item_set_slot, itm_felt_hat_b, 69, 50),
    (item_set_slot, itm_felt_hat_b, 68, 0),
    (item_set_slot, itm_felt_hat_b, 70, 0),
    (item_set_slot, itm_felt_hat_b, 76, 26),
    (item_set_slot, itm_felt_hat_b, 79, 8),
    (item_set_slot, itm_felt_hat_b, 80, 0),
    (item_set_slot, itm_felt_hat_b, 81, 0),
    (item_set_slot, itm_leather_cap, 69, 100),
    (item_set_slot, itm_leather_cap, 68, 0),
    (item_set_slot, itm_leather_cap, 70, 0),
    (item_set_slot, itm_leather_cap, 76, 26),
    (item_set_slot, itm_leather_cap, 79, 20),
    (item_set_slot, itm_leather_cap, 80, 0),
    (item_set_slot, itm_leather_cap, 81, 0),
    (item_set_slot, itm_1257_hood, 69, 100),
    (item_set_slot, itm_1257_hood, 68, 0),
    (item_set_slot, itm_1257_hood, 70, 0),
    (item_set_slot, itm_1257_hood, 76, 26),
    (item_set_slot, itm_1257_hood, 79, 20),
    (item_set_slot, itm_1257_hood, 80, 0),
    (item_set_slot, itm_1257_hood, 81, 0),
    (item_set_slot, itm_priest_cap_3, 69, 50),
    (item_set_slot, itm_priest_cap_3, 68, 0),
    (item_set_slot, itm_priest_cap_3, 70, 0),
    (item_set_slot, itm_priest_cap_3, 76, 26),
    (item_set_slot, itm_priest_cap_3, 79, 8),
    (item_set_slot, itm_priest_cap_3, 80, 0),
    (item_set_slot, itm_priest_cap_3, 81, 0),
    (item_set_slot, itm_crown_european, 69, 100),
    (item_set_slot, itm_crown_european, 68, 0),
    (item_set_slot, itm_crown_european, 70, 0),
    (item_set_slot, itm_crown_european, 76, 26),
    (item_set_slot, itm_crown_european, 79, 10),
    (item_set_slot, itm_crown_european, 80, 0),
    (item_set_slot, itm_crown_european, 81, 0),
    (item_set_slot, itm_crown, 69, 100),
    (item_set_slot, itm_crown, 68, 0),
    (item_set_slot, itm_crown, 70, 0),
    (item_set_slot, itm_crown, 76, 26),
    (item_set_slot, itm_crown, 79, 10),
    (item_set_slot, itm_crown, 80, 0),
    (item_set_slot, itm_crown, 81, 0),
    (item_set_slot, itm_bride_crown, 69, 50),
    (item_set_slot, itm_bride_crown, 68, 0),
    (item_set_slot, itm_bride_crown, 70, 0),
    (item_set_slot, itm_bride_crown, 76, 26),
    (item_set_slot, itm_bride_crown, 79, 4),
    (item_set_slot, itm_bride_crown, 80, 0),
    (item_set_slot, itm_bride_crown, 81, 0),
    (item_set_slot, itm_priest_cap_1, 69, 50),
    (item_set_slot, itm_priest_cap_1, 68, 0),
    (item_set_slot, itm_priest_cap_1, 70, 0),
    (item_set_slot, itm_priest_cap_1, 76, 26),
    (item_set_slot, itm_priest_cap_1, 79, 4),
    (item_set_slot, itm_priest_cap_1, 80, 0),
    (item_set_slot, itm_priest_cap_1, 81, 0),
    (item_set_slot, itm_priest_cap_2, 69, 50),
    (item_set_slot, itm_priest_cap_2, 68, 0),
    (item_set_slot, itm_priest_cap_2, 70, 0),
    (item_set_slot, itm_priest_cap_2, 76, 26),
    (item_set_slot, itm_priest_cap_2, 79, 4),
    (item_set_slot, itm_priest_cap_2, 80, 0),
    (item_set_slot, itm_priest_cap_2, 81, 0),
    (item_set_slot, itm_byzantine_crown, 69, 50),
    (item_set_slot, itm_byzantine_crown, 68, 0),
    (item_set_slot, itm_byzantine_crown, 70, 2),
    (item_set_slot, itm_byzantine_crown, 76, 29),
    (item_set_slot, itm_byzantine_crown, 79, 4),
    (item_set_slot, itm_byzantine_crown, 80, 0),
    (item_set_slot, itm_byzantine_crown, 81, 0),
    (item_set_slot, itm_nordic_fur_cap, 69, 50),
    (item_set_slot, itm_nordic_fur_cap, 68, 0),
    (item_set_slot, itm_nordic_fur_cap, 70, 0),
    (item_set_slot, itm_nordic_fur_cap, 76, 26),
    (item_set_slot, itm_nordic_fur_cap, 79, 8),
    (item_set_slot, itm_nordic_fur_cap, 80, 0),
    (item_set_slot, itm_nordic_fur_cap, 81, 0),
    (item_set_slot, itm_gaelic_crown, 69, 50),
    (item_set_slot, itm_gaelic_crown, 68, 0),
    (item_set_slot, itm_gaelic_crown, 70, 2),
    (item_set_slot, itm_gaelic_crown, 76, 29),
    (item_set_slot, itm_gaelic_crown, 79, 4),
    (item_set_slot, itm_gaelic_crown, 80, 0),
    (item_set_slot, itm_gaelic_crown, 81, 0),
    (item_set_slot, itm_1257_hood_2, 69, 50),
    (item_set_slot, itm_1257_hood_2, 68, 0),
    (item_set_slot, itm_1257_hood_2, 70, 0),
    (item_set_slot, itm_1257_hood_2, 76, 26),
    (item_set_slot, itm_1257_hood_2, 79, 8),
    (item_set_slot, itm_1257_hood_2, 80, 0),
    (item_set_slot, itm_1257_hood_2, 81, 0),
    (item_set_slot, itm_pilgrim_hat, 69, 50),
    (item_set_slot, itm_pilgrim_hat, 68, 0),
    (item_set_slot, itm_pilgrim_hat, 70, 0),
    (item_set_slot, itm_pilgrim_hat, 76, 26),
    (item_set_slot, itm_pilgrim_hat, 79, 8),
    (item_set_slot, itm_pilgrim_hat, 80, 0),
    (item_set_slot, itm_pilgrim_hat, 81, 0),
    (item_set_slot, itm_sarranid_head_cloth, 69, 50),
    (item_set_slot, itm_sarranid_head_cloth, 68, 0),
    (item_set_slot, itm_sarranid_head_cloth, 70, 0),
    (item_set_slot, itm_sarranid_head_cloth, 76, 26),
    (item_set_slot, itm_sarranid_head_cloth, 79, 4),
    (item_set_slot, itm_sarranid_head_cloth, 80, 0),
    (item_set_slot, itm_sarranid_head_cloth, 81, 0),
    (item_set_slot, itm_sarranid_head_cloth_b, 69, 50),
    (item_set_slot, itm_sarranid_head_cloth_b, 68, 0),
    (item_set_slot, itm_sarranid_head_cloth_b, 70, 0),
    (item_set_slot, itm_sarranid_head_cloth_b, 76, 26),
    (item_set_slot, itm_sarranid_head_cloth_b, 79, 4),
    (item_set_slot, itm_sarranid_head_cloth_b, 80, 0),
    (item_set_slot, itm_sarranid_head_cloth_b, 81, 0),
    (item_set_slot, itm_sarranid_felt_head_cloth, 69, 50),
    (item_set_slot, itm_sarranid_felt_head_cloth, 68, 0),
    (item_set_slot, itm_sarranid_felt_head_cloth, 70, 0),
    (item_set_slot, itm_sarranid_felt_head_cloth, 76, 26),
    (item_set_slot, itm_sarranid_felt_head_cloth, 79, 4),
    (item_set_slot, itm_sarranid_felt_head_cloth, 80, 0),
    (item_set_slot, itm_sarranid_felt_head_cloth, 81, 0),
    (item_set_slot, itm_sarranid_felt_head_cloth_b, 69, 50),
    (item_set_slot, itm_sarranid_felt_head_cloth_b, 68, 0),
    (item_set_slot, itm_sarranid_felt_head_cloth_b, 70, 0),
    (item_set_slot, itm_sarranid_felt_head_cloth_b, 76, 26),
    (item_set_slot, itm_sarranid_felt_head_cloth_b, 79, 4),
    (item_set_slot, itm_sarranid_felt_head_cloth_b, 80, 0),
    (item_set_slot, itm_sarranid_felt_head_cloth_b, 81, 0),
    (item_set_slot, itm_sarranid_felt_hat, 69, 50),
    (item_set_slot, itm_sarranid_felt_hat, 68, 0),
    (item_set_slot, itm_sarranid_felt_hat, 70, 0),
    (item_set_slot, itm_sarranid_felt_hat, 76, 26),
    (item_set_slot, itm_sarranid_felt_hat, 79, 8),
    (item_set_slot, itm_sarranid_felt_hat, 80, 0),
    (item_set_slot, itm_sarranid_felt_hat, 81, 0),
    (item_set_slot, itm_desert_turban, 69, 50),
    (item_set_slot, itm_desert_turban, 68, 0),
    (item_set_slot, itm_desert_turban, 70, 0),
    (item_set_slot, itm_desert_turban, 76, 26),
    (item_set_slot, itm_desert_turban, 79, 8),
    (item_set_slot, itm_desert_turban, 80, 0),
    (item_set_slot, itm_desert_turban, 81, 0),
    (item_set_slot, itm_turban_a, 69, 50),
    (item_set_slot, itm_turban_a, 68, 0),
    (item_set_slot, itm_turban_a, 70, 0),
    (item_set_slot, itm_turban_a, 76, 26),
    (item_set_slot, itm_turban_a, 79, 4),
    (item_set_slot, itm_turban_a, 80, 0),
    (item_set_slot, itm_turban_a, 81, 0),
    (item_set_slot, itm_turban_b, 69, 100),
    (item_set_slot, itm_turban_b, 68, 0),
    (item_set_slot, itm_turban_b, 70, 0),
    (item_set_slot, itm_turban_b, 76, 26),
    (item_set_slot, itm_turban_b, 79, 20),
    (item_set_slot, itm_turban_b, 80, 0),
    (item_set_slot, itm_turban_b, 81, 0),
    (item_set_slot, itm_turban_c, 69, 100),
    (item_set_slot, itm_turban_c, 68, 0),
    (item_set_slot, itm_turban_c, 70, 0),
    (item_set_slot, itm_turban_c, 76, 26),
    (item_set_slot, itm_turban_c, 79, 20),
    (item_set_slot, itm_turban_c, 80, 0),
    (item_set_slot, itm_turban_c, 81, 0),
    (item_set_slot, itm_seljuk_archer_cap, 69, 100),
    (item_set_slot, itm_seljuk_archer_cap, 68, 0),
    (item_set_slot, itm_seljuk_archer_cap, 70, 0),
    (item_set_slot, itm_seljuk_archer_cap, 76, 26),
    (item_set_slot, itm_seljuk_archer_cap, 79, 20),
    (item_set_slot, itm_seljuk_archer_cap, 80, 0),
    (item_set_slot, itm_seljuk_archer_cap, 81, 0),
    (item_set_slot, itm_berber_turban, 69, 100),
    (item_set_slot, itm_berber_turban, 68, 0),
    (item_set_slot, itm_berber_turban, 70, 0),
    (item_set_slot, itm_berber_turban, 76, 26),
    (item_set_slot, itm_berber_turban, 79, 20),
    (item_set_slot, itm_berber_turban, 80, 0),
    (item_set_slot, itm_berber_turban, 81, 0),
    (item_set_slot, itm_arab_headcloth, 69, 50),
    (item_set_slot, itm_arab_headcloth, 68, 0),
    (item_set_slot, itm_arab_headcloth, 70, 0),
    (item_set_slot, itm_arab_headcloth, 76, 26),
    (item_set_slot, itm_arab_headcloth, 79, 8),
    (item_set_slot, itm_arab_headcloth, 80, 0),
    (item_set_slot, itm_arab_headcloth, 81, 0),
    (item_set_slot, itm_moorish_hat, 69, 50),
    (item_set_slot, itm_moorish_hat, 68, 0),
    (item_set_slot, itm_moorish_hat, 70, 0),
    (item_set_slot, itm_moorish_hat, 76, 26),
    (item_set_slot, itm_moorish_hat, 79, 4),
    (item_set_slot, itm_moorish_hat, 80, 0),
    (item_set_slot, itm_moorish_hat, 81, 0),
    (item_set_slot, itm_mamluk_cap, 69, 50),
    (item_set_slot, itm_mamluk_cap, 68, 0),
    (item_set_slot, itm_mamluk_cap, 70, 0),
    (item_set_slot, itm_mamluk_cap, 76, 26),
    (item_set_slot, itm_mamluk_cap, 79, 8),
    (item_set_slot, itm_mamluk_cap, 80, 0),
    (item_set_slot, itm_mamluk_cap, 81, 0),
    (item_set_slot, itm_berber_turban_cape, 69, 50),
    (item_set_slot, itm_berber_turban_cape, 68, 0),
    (item_set_slot, itm_berber_turban_cape, 70, 0),
    (item_set_slot, itm_berber_turban_cape, 76, 26),
    (item_set_slot, itm_berber_turban_cape, 79, 8),
    (item_set_slot, itm_berber_turban_cape, 80, 0),
    (item_set_slot, itm_berber_turban_cape, 81, 0),
    (item_set_slot, itm_new_turban_a, 69, 50),
    (item_set_slot, itm_new_turban_a, 68, 0),
    (item_set_slot, itm_new_turban_a, 70, 2),
    (item_set_slot, itm_new_turban_a, 76, 29),
    (item_set_slot, itm_new_turban_a, 79, 8),
    (item_set_slot, itm_new_turban_a, 80, 0),
    (item_set_slot, itm_new_turban_a, 81, 0),
    (item_set_slot, itm_new_turban_b, 69, 50),
    (item_set_slot, itm_new_turban_b, 68, 0),
    (item_set_slot, itm_new_turban_b, 70, 2),
    (item_set_slot, itm_new_turban_b, 76, 29),
    (item_set_slot, itm_new_turban_b, 79, 8),
    (item_set_slot, itm_new_turban_b, 80, 0),
    (item_set_slot, itm_new_turban_b, 81, 0),
    (item_set_slot, itm_seljuk_hair, 69, 100),
    (item_set_slot, itm_seljuk_hair, 68, 0),
    (item_set_slot, itm_seljuk_hair, 70, 0),
    (item_set_slot, itm_seljuk_hair, 76, 26),
    (item_set_slot, itm_seljuk_hair, 79, 2),
    (item_set_slot, itm_seljuk_hair, 80, 0),
    (item_set_slot, itm_seljuk_hair, 81, 0),
    (item_set_slot, itm_arab_helmet_a, 69, 50),
    (item_set_slot, itm_arab_helmet_a, 68, 0),
    (item_set_slot, itm_arab_helmet_a, 70, 2),
    (item_set_slot, itm_arab_helmet_a, 76, 29),
    (item_set_slot, itm_arab_helmet_a, 79, 8),
    (item_set_slot, itm_arab_helmet_a, 80, 0),
    (item_set_slot, itm_arab_helmet_a, 81, 0),
    (item_set_slot, itm_berber_helmet_a, 69, 50),
    (item_set_slot, itm_berber_helmet_a, 68, 0),
    (item_set_slot, itm_berber_helmet_a, 70, 0),
    (item_set_slot, itm_berber_helmet_a, 76, 26),
    (item_set_slot, itm_berber_helmet_a, 79, 8),
    (item_set_slot, itm_berber_helmet_a, 80, 0),
    (item_set_slot, itm_berber_helmet_a, 81, 0),
    (item_set_slot, itm_head_african, 69, 50),
    (item_set_slot, itm_head_african, 68, 0),
    (item_set_slot, itm_head_african, 70, 0),
    (item_set_slot, itm_head_african, 76, 26),
    (item_set_slot, itm_head_african, 79, 0),
    (item_set_slot, itm_head_african, 80, 0),
    (item_set_slot, itm_head_african, 81, 0),
    (item_set_slot, itm_african_hat, 69, 50),
    (item_set_slot, itm_african_hat, 68, 0),
    (item_set_slot, itm_african_hat, 70, 0),
    (item_set_slot, itm_african_hat, 76, 26),
    (item_set_slot, itm_african_hat, 79, 4),
    (item_set_slot, itm_african_hat, 80, 0),
    (item_set_slot, itm_african_hat, 81, 0),
    (item_set_slot, itm_nomad_cap, 69, 100),
    (item_set_slot, itm_nomad_cap, 68, 0),
    (item_set_slot, itm_nomad_cap, 70, 0),
    (item_set_slot, itm_nomad_cap, 76, 26),
    (item_set_slot, itm_nomad_cap, 79, 20),
    (item_set_slot, itm_nomad_cap, 80, 0),
    (item_set_slot, itm_nomad_cap, 81, 0),
    (item_set_slot, itm_nomad_cap_b, 69, 100),
    (item_set_slot, itm_nomad_cap_b, 68, 0),
    (item_set_slot, itm_nomad_cap_b, 70, 0),
    (item_set_slot, itm_nomad_cap_b, 76, 26),
    (item_set_slot, itm_nomad_cap_b, 79, 20),
    (item_set_slot, itm_nomad_cap_b, 80, 0),
    (item_set_slot, itm_nomad_cap_b, 81, 0),
    (item_set_slot, itm_nomad_cap_c, 69, 100),
    (item_set_slot, itm_nomad_cap_c, 68, 0),
    (item_set_slot, itm_nomad_cap_c, 70, 0),
    (item_set_slot, itm_nomad_cap_c, 76, 26),
    (item_set_slot, itm_nomad_cap_c, 79, 20),
    (item_set_slot, itm_nomad_cap_c, 80, 0),
    (item_set_slot, itm_nomad_cap_c, 81, 0),
    (item_set_slot, itm_steppe_cap, 69, 100),
    (item_set_slot, itm_steppe_cap, 68, 0),
    (item_set_slot, itm_steppe_cap, 70, 0),
    (item_set_slot, itm_steppe_cap, 76, 26),
    (item_set_slot, itm_steppe_cap, 79, 20),
    (item_set_slot, itm_steppe_cap, 80, 0),
    (item_set_slot, itm_steppe_cap, 81, 0),
    (item_set_slot, itm_female_hood, 69, 50),
    (item_set_slot, itm_female_hood, 68, 0),
    (item_set_slot, itm_female_hood, 70, 0),
    (item_set_slot, itm_female_hood, 76, 26),
    (item_set_slot, itm_female_hood, 79, 8),
    (item_set_slot, itm_female_hood, 80, 0),
    (item_set_slot, itm_female_hood, 81, 0),
    (item_set_slot, itm_leather_steppe_cap_a, 69, 100),
    (item_set_slot, itm_leather_steppe_cap_a, 68, 0),
    (item_set_slot, itm_leather_steppe_cap_a, 70, 0),
    (item_set_slot, itm_leather_steppe_cap_a, 76, 26),
    (item_set_slot, itm_leather_steppe_cap_a, 79, 20),
    (item_set_slot, itm_leather_steppe_cap_a, 80, 0),
    (item_set_slot, itm_leather_steppe_cap_a, 81, 0),
    (item_set_slot, itm_leather_steppe_cap_b, 69, 100),
    (item_set_slot, itm_leather_steppe_cap_b, 68, 0),
    (item_set_slot, itm_leather_steppe_cap_b, 70, 0),
    (item_set_slot, itm_leather_steppe_cap_b, 76, 26),
    (item_set_slot, itm_leather_steppe_cap_b, 79, 20),
    (item_set_slot, itm_leather_steppe_cap_b, 80, 0),
    (item_set_slot, itm_leather_steppe_cap_b, 81, 0),
    (item_set_slot, itm_leather_steppe_cap_c, 69, 100),
    (item_set_slot, itm_leather_steppe_cap_c, 68, 0),
    (item_set_slot, itm_leather_steppe_cap_c, 70, 0),
    (item_set_slot, itm_leather_steppe_cap_c, 76, 26),
    (item_set_slot, itm_leather_steppe_cap_c, 79, 20),
    (item_set_slot, itm_leather_steppe_cap_c, 80, 0),
    (item_set_slot, itm_leather_steppe_cap_c, 81, 0),
    (item_set_slot, itm_khergit_lady_hat, 69, 50),
    (item_set_slot, itm_khergit_lady_hat, 68, 0),
    (item_set_slot, itm_khergit_lady_hat, 70, 0),
    (item_set_slot, itm_khergit_lady_hat, 76, 26),
    (item_set_slot, itm_khergit_lady_hat, 79, 4),
    (item_set_slot, itm_khergit_lady_hat, 80, 0),
    (item_set_slot, itm_khergit_lady_hat, 81, 0),
    (item_set_slot, itm_khergit_lady_hat_b, 69, 50),
    (item_set_slot, itm_khergit_lady_hat_b, 68, 0),
    (item_set_slot, itm_khergit_lady_hat_b, 70, 0),
    (item_set_slot, itm_khergit_lady_hat_b, 76, 26),
    (item_set_slot, itm_khergit_lady_hat_b, 79, 4),
    (item_set_slot, itm_khergit_lady_hat_b, 80, 0),
    (item_set_slot, itm_khergit_lady_hat_b, 81, 0),
    (item_set_slot, itm_cuman_cap_a, 69, 100),
    (item_set_slot, itm_cuman_cap_a, 68, 0),
    (item_set_slot, itm_cuman_cap_a, 70, 1),
    (item_set_slot, itm_cuman_cap_a, 76, 29),
    (item_set_slot, itm_cuman_cap_a, 79, 20),
    (item_set_slot, itm_cuman_cap_a, 80, 0),
    (item_set_slot, itm_cuman_cap_a, 81, 0),
    (item_set_slot, itm_cuman_cap_b, 69, 150),
    (item_set_slot, itm_cuman_cap_b, 68, 0),
    (item_set_slot, itm_cuman_cap_b, 70, 1),
    (item_set_slot, itm_cuman_cap_b, 76, 29),
    (item_set_slot, itm_cuman_cap_b, 79, 40),
    (item_set_slot, itm_cuman_cap_b, 80, 0),
    (item_set_slot, itm_cuman_cap_b, 81, 0),
    (item_set_slot, itm_cuman_cap_c, 69, 100),
    (item_set_slot, itm_cuman_cap_c, 68, 0),
    (item_set_slot, itm_cuman_cap_c, 70, 1),
    (item_set_slot, itm_cuman_cap_c, 76, 29),
    (item_set_slot, itm_cuman_cap_c, 79, 20),
    (item_set_slot, itm_cuman_cap_c, 80, 0),
    (item_set_slot, itm_cuman_cap_c, 81, 0),
    (item_set_slot, itm_ilkhanate_cap, 69, 100),
    (item_set_slot, itm_ilkhanate_cap, 68, 0),
    (item_set_slot, itm_ilkhanate_cap, 70, 0),
    (item_set_slot, itm_ilkhanate_cap, 76, 26),
    (item_set_slot, itm_ilkhanate_cap, 79, 20),
    (item_set_slot, itm_ilkhanate_cap, 80, 0),
    (item_set_slot, itm_ilkhanate_cap, 81, 0),
    (item_set_slot, itm_cuman_cap_d, 69, 150),
    (item_set_slot, itm_cuman_cap_d, 68, 0),
    (item_set_slot, itm_cuman_cap_d, 70, 1),
    (item_set_slot, itm_cuman_cap_d, 76, 29),
    (item_set_slot, itm_cuman_cap_d, 79, 40),
    (item_set_slot, itm_cuman_cap_d, 80, 0),
    (item_set_slot, itm_cuman_cap_d, 81, 0),
    (item_set_slot, itm_rus_hat_with_padding, 69, 100),
    (item_set_slot, itm_rus_hat_with_padding, 68, 0),
    (item_set_slot, itm_rus_hat_with_padding, 70, 0),
    (item_set_slot, itm_rus_hat_with_padding, 76, 26),
    (item_set_slot, itm_rus_hat_with_padding, 79, 20),
    (item_set_slot, itm_rus_hat_with_padding, 80, 0),
    (item_set_slot, itm_rus_hat_with_padding, 81, 0),
    (item_set_slot, itm_mongol_fur_hat, 69, 100),
    (item_set_slot, itm_mongol_fur_hat, 68, 0),
    (item_set_slot, itm_mongol_fur_hat, 70, 0),
    (item_set_slot, itm_mongol_fur_hat, 76, 26),
    (item_set_slot, itm_mongol_fur_hat, 79, 20),
    (item_set_slot, itm_mongol_fur_hat, 80, 0),
    (item_set_slot, itm_mongol_fur_hat, 81, 0),
    (item_set_slot, itm_wooden_shield, 69, 200),
    (item_set_slot, itm_wooden_shield, 68, 0),
    (item_set_slot, itm_wooden_shield, 76, 27),
    (item_set_slot, itm_wooden_shield, 82, 50),
    (item_set_slot, itm_wooden_shield, 80, 35),
    (item_set_slot, itm_wooden_shield, 83, 100),
    (item_set_slot, itm_nordic_shield, 69, 200),
    (item_set_slot, itm_nordic_shield, 68, 0),
    (item_set_slot, itm_nordic_shield, 76, 27),
    (item_set_slot, itm_nordic_shield, 82, 50),
    (item_set_slot, itm_nordic_shield, 80, 38),
    (item_set_slot, itm_nordic_shield, 83, 100),
    (item_set_slot, itm_leather_covered_round_shield, 69, 250),
    (item_set_slot, itm_leather_covered_round_shield, 68, 0),
    (item_set_slot, itm_leather_covered_round_shield, 76, 27),
    (item_set_slot, itm_leather_covered_round_shield, 82, 40),
    (item_set_slot, itm_leather_covered_round_shield, 80, 34),
    (item_set_slot, itm_leather_covered_round_shield, 83, 41),
    (item_set_slot, itm_hide_covered_round_shield, 69, 200),
    (item_set_slot, itm_hide_covered_round_shield, 68, 0),
    (item_set_slot, itm_hide_covered_round_shield, 76, 27),
    (item_set_slot, itm_hide_covered_round_shield, 82, 40),
    (item_set_slot, itm_hide_covered_round_shield, 80, 32),
    (item_set_slot, itm_hide_covered_round_shield, 83, 100),
    (item_set_slot, itm_tab_shield_small_round_n, 69, 200),
    (item_set_slot, itm_tab_shield_small_round_n, 68, 0),
    (item_set_slot, itm_tab_shield_small_round_n, 76, 27),
    (item_set_slot, itm_tab_shield_small_round_n, 82, 40),
    (item_set_slot, itm_tab_shield_small_round_n, 80, 35),
    (item_set_slot, itm_tab_shield_small_round_n, 83, 105),
    (item_set_slot, itm_tab_shield_round_a, 69, 250),
    (item_set_slot, itm_tab_shield_round_a, 68, 0),
    (item_set_slot, itm_tab_shield_round_a, 76, 27),
    (item_set_slot, itm_tab_shield_round_a, 82, 50),
    (item_set_slot, itm_tab_shield_round_a, 80, 48),
    (item_set_slot, itm_tab_shield_round_a, 83, 93),
    (item_set_slot, itm_tab_shield_round_b, 69, 300),
    (item_set_slot, itm_tab_shield_round_b, 68, 0),
    (item_set_slot, itm_tab_shield_round_b, 76, 27),
    (item_set_slot, itm_tab_shield_round_b, 82, 50),
    (item_set_slot, itm_tab_shield_round_b, 80, 55),
    (item_set_slot, itm_tab_shield_round_b, 83, 90),
    (item_set_slot, itm_tab_shield_round_c, 69, 350),
    (item_set_slot, itm_tab_shield_round_c, 68, 0),
    (item_set_slot, itm_tab_shield_round_c, 76, 27),
    (item_set_slot, itm_tab_shield_round_c, 82, 50),
    (item_set_slot, itm_tab_shield_round_c, 80, 61),
    (item_set_slot, itm_tab_shield_round_c, 83, 87),
    (item_set_slot, itm_tab_shield_round_d, 69, 400),
    (item_set_slot, itm_tab_shield_round_d, 68, 0),
    (item_set_slot, itm_tab_shield_round_d, 76, 27),
    (item_set_slot, itm_tab_shield_round_d, 82, 50),
    (item_set_slot, itm_tab_shield_round_d, 80, 67),
    (item_set_slot, itm_tab_shield_round_d, 83, 84),
    (item_set_slot, itm_tab_shield_round_e, 69, 450),
    (item_set_slot, itm_tab_shield_round_e, 68, 0),
    (item_set_slot, itm_tab_shield_round_e, 76, 27),
    (item_set_slot, itm_tab_shield_round_e, 82, 50),
    (item_set_slot, itm_tab_shield_round_e, 80, 69),
    (item_set_slot, itm_tab_shield_round_e, 83, 81),
    (item_set_slot, itm_tab_shield_kite_c, 69, 300),
    (item_set_slot, itm_tab_shield_kite_c, 68, 0),
    (item_set_slot, itm_tab_shield_kite_c, 76, 27),
    (item_set_slot, itm_tab_shield_kite_c, 82, 36),
    (item_set_slot, itm_tab_shield_kite_c, 80, 61),
    (item_set_slot, itm_tab_shield_kite_c, 83, 90),
    (item_set_slot, itm_tab_shield_kite_cav_a, 69, 200),
    (item_set_slot, itm_tab_shield_kite_cav_a, 68, 0),
    (item_set_slot, itm_tab_shield_kite_cav_a, 76, 27),
    (item_set_slot, itm_tab_shield_kite_cav_a, 82, 30),
    (item_set_slot, itm_tab_shield_kite_cav_a, 80, 67),
    (item_set_slot, itm_tab_shield_kite_cav_a, 83, 103),
    (item_set_slot, itm_tab_shield_heater_c, 69, 300),
    (item_set_slot, itm_tab_shield_heater_c, 68, 0),
    (item_set_slot, itm_tab_shield_heater_c, 76, 27),
    (item_set_slot, itm_tab_shield_heater_c, 82, 36),
    (item_set_slot, itm_tab_shield_heater_c, 80, 61),
    (item_set_slot, itm_tab_shield_heater_c, 83, 90),
    (item_set_slot, itm_tab_shield_heater_cav_a, 69, 200),
    (item_set_slot, itm_tab_shield_heater_cav_a, 68, 0),
    (item_set_slot, itm_tab_shield_heater_cav_a, 76, 27),
    (item_set_slot, itm_tab_shield_heater_cav_a, 82, 30),
    (item_set_slot, itm_tab_shield_heater_cav_a, 80, 67),
    (item_set_slot, itm_tab_shield_heater_cav_a, 83, 103),
    (item_set_slot, itm_tab_shield_kite_cav_b, 69, 250),
    (item_set_slot, itm_tab_shield_kite_cav_b, 68, 0),
    (item_set_slot, itm_tab_shield_kite_cav_b, 76, 27),
    (item_set_slot, itm_tab_shield_kite_cav_b, 82, 30),
    (item_set_slot, itm_tab_shield_kite_cav_b, 80, 70),
    (item_set_slot, itm_tab_shield_kite_cav_b, 83, 100),
    (item_set_slot, itm_tab_shield_heater_cav_b, 69, 250),
    (item_set_slot, itm_tab_shield_heater_cav_b, 68, 0),
    (item_set_slot, itm_tab_shield_heater_cav_b, 76, 27),
    (item_set_slot, itm_tab_shield_heater_cav_b, 82, 30),
    (item_set_slot, itm_tab_shield_heater_cav_b, 80, 70),
    (item_set_slot, itm_tab_shield_heater_cav_b, 83, 100),
    (item_set_slot, itm_tab_shield_pavise_d, 69, 500),
    (item_set_slot, itm_tab_shield_pavise_d, 68, 0),
    (item_set_slot, itm_tab_shield_pavise_d, 76, 27),
    (item_set_slot, itm_tab_shield_pavise_d, 73, 1),
    (item_set_slot, itm_tab_shield_pavise_d, 82, 43),
    (item_set_slot, itm_tab_shield_pavise_d, 80, 67),
    (item_set_slot, itm_tab_shield_pavise_d, 83, 78),
    (item_set_slot, itm_tab_shield_small_round_a, 69, 200),
    (item_set_slot, itm_tab_shield_small_round_a, 68, 0),
    (item_set_slot, itm_tab_shield_small_round_a, 76, 27),
    (item_set_slot, itm_tab_shield_small_round_a, 82, 40),
    (item_set_slot, itm_tab_shield_small_round_a, 80, 61),
    (item_set_slot, itm_tab_shield_small_round_a, 83, 105),
    (item_set_slot, itm_tab_shield_small_round_b, 69, 250),
    (item_set_slot, itm_tab_shield_small_round_b, 68, 0),
    (item_set_slot, itm_tab_shield_small_round_b, 76, 27),
    (item_set_slot, itm_tab_shield_small_round_b, 82, 40),
    (item_set_slot, itm_tab_shield_small_round_b, 80, 67),
    (item_set_slot, itm_tab_shield_small_round_b, 83, 103),
    (item_set_slot, itm_tab_shield_small_round_c, 69, 300),
    (item_set_slot, itm_tab_shield_small_round_c, 68, 0),
    (item_set_slot, itm_tab_shield_small_round_c, 76, 27),
    (item_set_slot, itm_tab_shield_small_round_c, 82, 40),
    (item_set_slot, itm_tab_shield_small_round_c, 80, 70),
    (item_set_slot, itm_tab_shield_small_round_c, 83, 100),
    (item_set_slot, itm_reiforced_shield_horse, 69, 250),
    (item_set_slot, itm_reiforced_shield_horse, 68, 0),
    (item_set_slot, itm_reiforced_shield_horse, 76, 27),
    (item_set_slot, itm_reiforced_shield_horse, 82, 30),
    (item_set_slot, itm_reiforced_shield_horse, 80, 67),
    (item_set_slot, itm_reiforced_shield_horse, 83, 100),
    (item_set_slot, itm_reiforced_shield_infantry, 69, 250),
    (item_set_slot, itm_reiforced_shield_infantry, 68, 0),
    (item_set_slot, itm_reiforced_shield_infantry, 76, 27),
    (item_set_slot, itm_reiforced_shield_infantry, 82, 30),
    (item_set_slot, itm_reiforced_shield_infantry, 80, 67),
    (item_set_slot, itm_reiforced_shield_infantry, 83, 100),
    (item_set_slot, itm_1257_pavise, 69, 300),
    (item_set_slot, itm_1257_pavise, 68, 0),
    (item_set_slot, itm_1257_pavise, 76, 27),
    (item_set_slot, itm_1257_pavise, 82, 40),
    (item_set_slot, itm_1257_pavise, 80, 61),
    (item_set_slot, itm_1257_pavise, 83, 90),
    (item_set_slot, itm_lit_pavise_a_3, 69, 550),
    (item_set_slot, itm_lit_pavise_a_3, 68, 0),
    (item_set_slot, itm_lit_pavise_a_3, 76, 27),
    (item_set_slot, itm_lit_pavise_a_3, 82, 40),
    (item_set_slot, itm_lit_pavise_a_3, 80, 61),
    (item_set_slot, itm_lit_pavise_a_3, 83, 81),
    (item_set_slot, itm_lit_pavise_b_3, 69, 550),
    (item_set_slot, itm_lit_pavise_b_3, 68, 0),
    (item_set_slot, itm_lit_pavise_b_3, 76, 27),
    (item_set_slot, itm_lit_pavise_b_3, 82, 40),
    (item_set_slot, itm_lit_pavise_b_3, 80, 61),
    (item_set_slot, itm_lit_pavise_b_3, 83, 81),
    (item_set_slot, itm_lit_pavise_c_3, 69, 550),
    (item_set_slot, itm_lit_pavise_c_3, 68, 0),
    (item_set_slot, itm_lit_pavise_c_3, 76, 27),
    (item_set_slot, itm_lit_pavise_c_3, 82, 40),
    (item_set_slot, itm_lit_pavise_c_3, 80, 61),
    (item_set_slot, itm_lit_pavise_c_3, 83, 81),
    (item_set_slot, itm_lit_pavise_d_3, 69, 550),
    (item_set_slot, itm_lit_pavise_d_3, 68, 0),
    (item_set_slot, itm_lit_pavise_d_3, 76, 27),
    (item_set_slot, itm_lit_pavise_d_3, 82, 40),
    (item_set_slot, itm_lit_pavise_d_3, 80, 61),
    (item_set_slot, itm_lit_pavise_d_3, 83, 81),
    (item_set_slot, itm_lit_pavise_e_3, 69, 550),
    (item_set_slot, itm_lit_pavise_e_3, 68, 0),
    (item_set_slot, itm_lit_pavise_e_3, 76, 27),
    (item_set_slot, itm_lit_pavise_e_3, 82, 40),
    (item_set_slot, itm_lit_pavise_e_3, 80, 61),
    (item_set_slot, itm_lit_pavise_e_3, 83, 81),
    (item_set_slot, itm_lit_pavise_f_3, 69, 550),
    (item_set_slot, itm_lit_pavise_f_3, 68, 0),
    (item_set_slot, itm_lit_pavise_f_3, 76, 27),
    (item_set_slot, itm_lit_pavise_f_3, 82, 40),
    (item_set_slot, itm_lit_pavise_f_3, 80, 61),
    (item_set_slot, itm_lit_pavise_f_3, 83, 81),
    (item_set_slot, itm_lit_pavise_g_3, 69, 550),
    (item_set_slot, itm_lit_pavise_g_3, 68, 0),
    (item_set_slot, itm_lit_pavise_g_3, 76, 27),
    (item_set_slot, itm_lit_pavise_g_3, 82, 40),
    (item_set_slot, itm_lit_pavise_g_3, 80, 61),
    (item_set_slot, itm_lit_pavise_g_3, 83, 81),
    (item_set_slot, itm_lit_pavise_h_3, 69, 550),
    (item_set_slot, itm_lit_pavise_h_3, 68, 0),
    (item_set_slot, itm_lit_pavise_h_3, 76, 27),
    (item_set_slot, itm_lit_pavise_h_3, 82, 40),
    (item_set_slot, itm_lit_pavise_h_3, 80, 61),
    (item_set_slot, itm_lit_pavise_h_3, 83, 81),
    (item_set_slot, itm_lithuanian_shield9, 69, 550),
    (item_set_slot, itm_lithuanian_shield9, 68, 0),
    (item_set_slot, itm_lithuanian_shield9, 76, 27),
    (item_set_slot, itm_lithuanian_shield9, 82, 40),
    (item_set_slot, itm_lithuanian_shield9, 80, 67),
    (item_set_slot, itm_lithuanian_shield9, 83, 81),
    (item_set_slot, itm_arab_shield_a_3, 69, 350),
    (item_set_slot, itm_arab_shield_a_3, 68, 0),
    (item_set_slot, itm_arab_shield_a_3, 76, 27),
    (item_set_slot, itm_arab_shield_a_3, 82, 50),
    (item_set_slot, itm_arab_shield_a_3, 80, 61),
    (item_set_slot, itm_arab_shield_a_3, 83, 87),
    (item_set_slot, itm_arab_shield_b_3, 69, 350),
    (item_set_slot, itm_arab_shield_b_3, 68, 0),
    (item_set_slot, itm_arab_shield_b_3, 76, 27),
    (item_set_slot, itm_arab_shield_b_3, 82, 50),
    (item_set_slot, itm_arab_shield_b_3, 80, 61),
    (item_set_slot, itm_arab_shield_b_3, 83, 87),
    (item_set_slot, itm_arab_shield_c_3, 69, 350),
    (item_set_slot, itm_arab_shield_c_3, 68, 0),
    (item_set_slot, itm_arab_shield_c_3, 76, 27),
    (item_set_slot, itm_arab_shield_c_3, 82, 50),
    (item_set_slot, itm_arab_shield_c_3, 80, 61),
    (item_set_slot, itm_arab_shield_c_3, 83, 87),
    (item_set_slot, itm_arab_shield_d_3, 69, 350),
    (item_set_slot, itm_arab_shield_d_3, 68, 0),
    (item_set_slot, itm_arab_shield_d_3, 76, 27),
    (item_set_slot, itm_arab_shield_d_3, 82, 50),
    (item_set_slot, itm_arab_shield_d_3, 80, 61),
    (item_set_slot, itm_arab_shield_d_3, 83, 87),
    (item_set_slot, itm_arab_shield_e_3, 69, 350),
    (item_set_slot, itm_arab_shield_e_3, 68, 0),
    (item_set_slot, itm_arab_shield_e_3, 76, 27),
    (item_set_slot, itm_arab_shield_e_3, 82, 50),
    (item_set_slot, itm_arab_shield_e_3, 80, 61),
    (item_set_slot, itm_arab_shield_e_3, 83, 87),
    (item_set_slot, itm_arab_shield_f_3, 69, 350),
    (item_set_slot, itm_arab_shield_f_3, 68, 0),
    (item_set_slot, itm_arab_shield_f_3, 76, 27),
    (item_set_slot, itm_arab_shield_f_3, 82, 50),
    (item_set_slot, itm_arab_shield_f_3, 80, 61),
    (item_set_slot, itm_arab_shield_f_3, 83, 87),
    (item_set_slot, itm_arab_shield_g_3, 69, 350),
    (item_set_slot, itm_arab_shield_g_3, 68, 0),
    (item_set_slot, itm_arab_shield_g_3, 76, 27),
    (item_set_slot, itm_arab_shield_g_3, 82, 50),
    (item_set_slot, itm_arab_shield_g_3, 80, 61),
    (item_set_slot, itm_arab_shield_g_3, 83, 87),
    (item_set_slot, itm_arab_shield_h_3, 69, 350),
    (item_set_slot, itm_arab_shield_h_3, 68, 0),
    (item_set_slot, itm_arab_shield_h_3, 76, 27),
    (item_set_slot, itm_arab_shield_h_3, 82, 50),
    (item_set_slot, itm_arab_shield_h_3, 80, 61),
    (item_set_slot, itm_arab_shield_h_3, 83, 87),
    (item_set_slot, itm_arab_shield_i_3, 69, 350),
    (item_set_slot, itm_arab_shield_i_3, 68, 0),
    (item_set_slot, itm_arab_shield_i_3, 76, 27),
    (item_set_slot, itm_arab_shield_i_3, 82, 50),
    (item_set_slot, itm_arab_shield_i_3, 80, 61),
    (item_set_slot, itm_arab_shield_i_3, 83, 87),
    (item_set_slot, itm_cuman_shield_a_3, 69, 350),
    (item_set_slot, itm_cuman_shield_a_3, 68, 0),
    (item_set_slot, itm_cuman_shield_a_3, 76, 27),
    (item_set_slot, itm_cuman_shield_a_3, 82, 50),
    (item_set_slot, itm_cuman_shield_a_3, 80, 61),
    (item_set_slot, itm_cuman_shield_a_3, 83, 87),
    (item_set_slot, itm_cuman_shield_b_3, 69, 350),
    (item_set_slot, itm_cuman_shield_b_3, 68, 0),
    (item_set_slot, itm_cuman_shield_b_3, 76, 27),
    (item_set_slot, itm_cuman_shield_b_3, 82, 50),
    (item_set_slot, itm_cuman_shield_b_3, 80, 61),
    (item_set_slot, itm_cuman_shield_b_3, 83, 87),
    (item_set_slot, itm_cuman_shield_c_3, 69, 350),
    (item_set_slot, itm_cuman_shield_c_3, 68, 0),
    (item_set_slot, itm_cuman_shield_c_3, 76, 27),
    (item_set_slot, itm_cuman_shield_c_3, 82, 50),
    (item_set_slot, itm_cuman_shield_c_3, 80, 61),
    (item_set_slot, itm_cuman_shield_c_3, 83, 87),
    (item_set_slot, itm_talak_buckler, 69, 100),
    (item_set_slot, itm_talak_buckler, 68, 0),
    (item_set_slot, itm_talak_buckler, 76, 27),
    (item_set_slot, itm_talak_buckler, 82, 32),
    (item_set_slot, itm_talak_buckler, 80, 24),
    (item_set_slot, itm_talak_buckler, 83, 140),
    (item_set_slot, itm_tab_shield_iberia_c, 69, 300),
    (item_set_slot, itm_tab_shield_iberia_c, 68, 0),
    (item_set_slot, itm_tab_shield_iberia_c, 76, 27),
    (item_set_slot, itm_tab_shield_iberia_c, 82, 36),
    (item_set_slot, itm_tab_shield_iberia_c, 80, 61),
    (item_set_slot, itm_tab_shield_iberia_c, 83, 90),
    (item_set_slot, itm_berber_shield_3, 69, 250),
    (item_set_slot, itm_berber_shield_3, 68, 0),
    (item_set_slot, itm_berber_shield_3, 76, 27),
    (item_set_slot, itm_berber_shield_3, 82, 30),
    (item_set_slot, itm_berber_shield_3, 80, 61),
    (item_set_slot, itm_berber_shield_3, 83, 100),
    (item_set_slot, itm_adarga_a, 69, 300),
    (item_set_slot, itm_adarga_a, 68, 0),
    (item_set_slot, itm_adarga_a, 76, 27),
    (item_set_slot, itm_adarga_a, 82, 36),
    (item_set_slot, itm_adarga_a, 80, 61),
    (item_set_slot, itm_adarga_a, 83, 90),
    (item_set_slot, itm_adarga_b, 69, 300),
    (item_set_slot, itm_adarga_b, 68, 0),
    (item_set_slot, itm_adarga_b, 76, 27),
    (item_set_slot, itm_adarga_b, 82, 36),
    (item_set_slot, itm_adarga_b, 80, 61),
    (item_set_slot, itm_adarga_b, 83, 90),
    (item_set_slot, itm_byz_shield_1, 69, 450),
    (item_set_slot, itm_byz_shield_1, 68, 0),
    (item_set_slot, itm_byz_shield_1, 76, 27),
    (item_set_slot, itm_byz_shield_1, 82, 50),
    (item_set_slot, itm_byz_shield_1, 80, 69),
    (item_set_slot, itm_byz_shield_1, 83, 81),
    (item_set_slot, itm_byz_shield_2, 69, 450),
    (item_set_slot, itm_byz_shield_2, 68, 0),
    (item_set_slot, itm_byz_shield_2, 76, 27),
    (item_set_slot, itm_byz_shield_2, 82, 50),
    (item_set_slot, itm_byz_shield_2, 80, 69),
    (item_set_slot, itm_byz_shield_2, 83, 81),
    (item_set_slot, itm_byz_shield_3, 69, 450),
    (item_set_slot, itm_byz_shield_3, 68, 0),
    (item_set_slot, itm_byz_shield_3, 76, 27),
    (item_set_slot, itm_byz_shield_3, 82, 50),
    (item_set_slot, itm_byz_shield_3, 80, 69),
    (item_set_slot, itm_byz_shield_3, 83, 81),
    (item_set_slot, itm_byz_shield_4, 69, 450),
    (item_set_slot, itm_byz_shield_4, 68, 0),
    (item_set_slot, itm_byz_shield_4, 76, 27),
    (item_set_slot, itm_byz_shield_4, 82, 50),
    (item_set_slot, itm_byz_shield_4, 80, 69),
    (item_set_slot, itm_byz_shield_4, 83, 81),
    (item_set_slot, itm_byz_shield_5, 69, 450),
    (item_set_slot, itm_byz_shield_5, 68, 0),
    (item_set_slot, itm_byz_shield_5, 76, 27),
    (item_set_slot, itm_byz_shield_5, 82, 50),
    (item_set_slot, itm_byz_shield_5, 80, 69),
    (item_set_slot, itm_byz_shield_5, 83, 81),
    (item_set_slot, itm_byz_shield, 69, 250),
    (item_set_slot, itm_byz_shield, 68, 0),
    (item_set_slot, itm_byz_shield, 76, 27),
    (item_set_slot, itm_byz_shield, 82, 36),
    (item_set_slot, itm_byz_shield, 80, 67),
    (item_set_slot, itm_byz_shield, 83, 93),
    (item_set_slot, itm_byz_shield_kite, 69, 550),
    (item_set_slot, itm_byz_shield_kite, 68, 0),
    (item_set_slot, itm_byz_shield_kite, 76, 27),
    (item_set_slot, itm_byz_shield_kite, 82, 40),
    (item_set_slot, itm_byz_shield_kite, 80, 67),
    (item_set_slot, itm_byz_shield_kite, 83, 85),
    (item_set_slot, itm_byz_shield_round, 69, 500),
    (item_set_slot, itm_byz_shield_round, 68, 0),
    (item_set_slot, itm_byz_shield_round, 76, 27),
    (item_set_slot, itm_byz_shield_round, 82, 30),
    (item_set_slot, itm_byz_shield_round, 80, 61),
    (item_set_slot, itm_byz_shield_round, 83, 90),
    (item_set_slot, itm_rus_shield_1, 69, 250),
    (item_set_slot, itm_rus_shield_1, 68, 0),
    (item_set_slot, itm_rus_shield_1, 76, 27),
    (item_set_slot, itm_rus_shield_1, 82, 30),
    (item_set_slot, itm_rus_shield_1, 80, 67),
    (item_set_slot, itm_rus_shield_1, 83, 100),
    (item_set_slot, itm_rus_shield_2, 69, 250),
    (item_set_slot, itm_rus_shield_2, 68, 0),
    (item_set_slot, itm_rus_shield_2, 76, 27),
    (item_set_slot, itm_rus_shield_2, 82, 30),
    (item_set_slot, itm_rus_shield_2, 80, 67),
    (item_set_slot, itm_rus_shield_2, 83, 100),
    (item_set_slot, itm_andalusian_shield_1, 69, 200),
    (item_set_slot, itm_andalusian_shield_1, 68, 0),
    (item_set_slot, itm_andalusian_shield_1, 76, 27),
    (item_set_slot, itm_andalusian_shield_1, 82, 36),
    (item_set_slot, itm_andalusian_shield_1, 80, 48),
    (item_set_slot, itm_andalusian_shield_1, 83, 96),
    (item_set_slot, itm_andalusian_shield_2, 69, 250),
    (item_set_slot, itm_andalusian_shield_2, 68, 0),
    (item_set_slot, itm_andalusian_shield_2, 76, 27),
    (item_set_slot, itm_andalusian_shield_2, 82, 36),
    (item_set_slot, itm_andalusian_shield_2, 80, 55),
    (item_set_slot, itm_andalusian_shield_2, 83, 93),
    (item_set_slot, itm_andalusian_shield_3, 69, 300),
    (item_set_slot, itm_andalusian_shield_3, 68, 0),
    (item_set_slot, itm_andalusian_shield_3, 76, 27),
    (item_set_slot, itm_andalusian_shield_3, 82, 36),
    (item_set_slot, itm_andalusian_shield_3, 80, 61),
    (item_set_slot, itm_andalusian_shield_3, 83, 90),
    (item_set_slot, itm_andalusian_shield_4, 69, 350),
    (item_set_slot, itm_andalusian_shield_4, 68, 0),
    (item_set_slot, itm_andalusian_shield_4, 76, 27),
    (item_set_slot, itm_andalusian_shield_4, 82, 36),
    (item_set_slot, itm_andalusian_shield_4, 80, 67),
    (item_set_slot, itm_andalusian_shield_4, 83, 87),
    (item_set_slot, itm_targe_2, 69, 200),
    (item_set_slot, itm_targe_2, 68, 0),
    (item_set_slot, itm_targe_2, 76, 27),
    (item_set_slot, itm_targe_2, 82, 50),
    (item_set_slot, itm_targe_2, 80, 35),
    (item_set_slot, itm_targe_2, 83, 100),
    (item_set_slot, itm_targe_3, 69, 200),
    (item_set_slot, itm_targe_3, 68, 0),
    (item_set_slot, itm_targe_3, 76, 27),
    (item_set_slot, itm_targe_3, 82, 50),
    (item_set_slot, itm_targe_3, 80, 35),
    (item_set_slot, itm_targe_3, 83, 100),
    (item_set_slot, itm_targe_4, 69, 200),
    (item_set_slot, itm_targe_4, 68, 0),
    (item_set_slot, itm_targe_4, 76, 27),
    (item_set_slot, itm_targe_4, 82, 50),
    (item_set_slot, itm_targe_4, 80, 35),
    (item_set_slot, itm_targe_4, 83, 100),
    (item_set_slot, itm_targe_5, 69, 200),
    (item_set_slot, itm_targe_5, 68, 0),
    (item_set_slot, itm_targe_5, 76, 27),
    (item_set_slot, itm_targe_5, 82, 50),
    (item_set_slot, itm_targe_5, 80, 35),
    (item_set_slot, itm_targe_5, 83, 100),
    (item_set_slot, itm_targe_6, 69, 200),
    (item_set_slot, itm_targe_6, 68, 0),
    (item_set_slot, itm_targe_6, 76, 27),
    (item_set_slot, itm_targe_6, 82, 50),
    (item_set_slot, itm_targe_6, 80, 35),
    (item_set_slot, itm_targe_6, 83, 100),
    (item_set_slot, itm_varangian_shield_a, 69, 450),
    (item_set_slot, itm_varangian_shield_a, 68, 0),
    (item_set_slot, itm_varangian_shield_a, 76, 27),
    (item_set_slot, itm_varangian_shield_a, 82, 50),
    (item_set_slot, itm_varangian_shield_a, 80, 69),
    (item_set_slot, itm_varangian_shield_a, 83, 81),
    (item_set_slot, itm_varangian_shield_b, 69, 450),
    (item_set_slot, itm_varangian_shield_b, 68, 0),
    (item_set_slot, itm_varangian_shield_b, 76, 27),
    (item_set_slot, itm_varangian_shield_b, 82, 50),
    (item_set_slot, itm_varangian_shield_b, 80, 69),
    (item_set_slot, itm_varangian_shield_b, 83, 81),
    (item_set_slot, itm_varangian_shield_c, 69, 450),
    (item_set_slot, itm_varangian_shield_c, 68, 0),
    (item_set_slot, itm_varangian_shield_c, 76, 27),
    (item_set_slot, itm_varangian_shield_c, 82, 50),
    (item_set_slot, itm_varangian_shield_c, 80, 69),
    (item_set_slot, itm_varangian_shield_c, 83, 81),
    (item_set_slot, itm_rus_shield_a_3, 69, 250),
    (item_set_slot, itm_rus_shield_a_3, 68, 0),
    (item_set_slot, itm_rus_shield_a_3, 76, 27),
    (item_set_slot, itm_rus_shield_a_3, 82, 30),
    (item_set_slot, itm_rus_shield_a_3, 80, 61),
    (item_set_slot, itm_rus_shield_a_3, 83, 100),
    (item_set_slot, itm_rus_shield_b_3, 69, 250),
    (item_set_slot, itm_rus_shield_b_3, 68, 0),
    (item_set_slot, itm_rus_shield_b_3, 76, 27),
    (item_set_slot, itm_rus_shield_b_3, 82, 30),
    (item_set_slot, itm_rus_shield_b_3, 80, 61),
    (item_set_slot, itm_rus_shield_b_3, 83, 100),
    (item_set_slot, itm_rus_shield_c_3, 69, 250),
    (item_set_slot, itm_rus_shield_c_3, 68, 0),
    (item_set_slot, itm_rus_shield_c_3, 76, 27),
    (item_set_slot, itm_rus_shield_c_3, 82, 30),
    (item_set_slot, itm_rus_shield_c_3, 80, 61),
    (item_set_slot, itm_rus_shield_c_3, 83, 100),
    (item_set_slot, itm_rus_shield_d_3, 69, 250),
    (item_set_slot, itm_rus_shield_d_3, 68, 0),
    (item_set_slot, itm_rus_shield_d_3, 76, 27),
    (item_set_slot, itm_rus_shield_d_3, 82, 30),
    (item_set_slot, itm_rus_shield_d_3, 80, 61),
    (item_set_slot, itm_rus_shield_d_3, 83, 100),
    (item_set_slot, itm_gaelic_shield_a, 69, 450),
    (item_set_slot, itm_gaelic_shield_a, 68, 0),
    (item_set_slot, itm_gaelic_shield_a, 76, 27),
    (item_set_slot, itm_gaelic_shield_a, 82, 50),
    (item_set_slot, itm_gaelic_shield_a, 80, 69),
    (item_set_slot, itm_gaelic_shield_a, 83, 81),
    (item_set_slot, itm_gaelic_shield_b, 69, 250),
    (item_set_slot, itm_gaelic_shield_b, 68, 0),
    (item_set_slot, itm_gaelic_shield_b, 76, 27),
    (item_set_slot, itm_gaelic_shield_b, 82, 30),
    (item_set_slot, itm_gaelic_shield_b, 80, 67),
    (item_set_slot, itm_gaelic_shield_b, 83, 100),
    (item_set_slot, itm_gaelic_shield_c, 69, 250),
    (item_set_slot, itm_gaelic_shield_c, 68, 0),
    (item_set_slot, itm_gaelic_shield_c, 76, 27),
    (item_set_slot, itm_gaelic_shield_c, 82, 30),
    (item_set_slot, itm_gaelic_shield_c, 80, 67),
    (item_set_slot, itm_gaelic_shield_c, 83, 100),
    (item_set_slot, itm_targe_1, 69, 200),
    (item_set_slot, itm_targe_1, 68, 0),
    (item_set_slot, itm_targe_1, 76, 27),
    (item_set_slot, itm_targe_1, 82, 50),
    (item_set_slot, itm_targe_1, 80, 35),
    (item_set_slot, itm_targe_1, 83, 100),
    (item_set_slot, itm_sumpter_horse, 69, 0),
    (item_set_slot, itm_sumpter_horse, 68, 1),
    (item_set_slot, itm_sumpter_horse, 76, 36),
    (item_set_slot, itm_sumpter_horse, 79, 40),
    (item_set_slot, itm_sumpter_horse, 80, 17),
    (item_set_slot, itm_sumpter_horse, 82, 9),
    (item_set_slot, itm_saddle_horse, 69, 0),
    (item_set_slot, itm_saddle_horse, 68, 1),
    (item_set_slot, itm_saddle_horse, 76, 36),
    (item_set_slot, itm_saddle_horse, 79, 42),
    (item_set_slot, itm_saddle_horse, 80, 14),
    (item_set_slot, itm_saddle_horse, 82, 10),
    (item_set_slot, itm_courser, 69, 0),
    (item_set_slot, itm_courser, 68, 2),
    (item_set_slot, itm_courser, 76, 36),
    (item_set_slot, itm_courser, 79, 48),
    (item_set_slot, itm_courser, 80, 12),
    (item_set_slot, itm_courser, 82, 22),
    (item_set_slot, itm_hunter, 69, 0),
    (item_set_slot, itm_hunter, 68, 3),
    (item_set_slot, itm_hunter, 76, 36),
    (item_set_slot, itm_hunter, 79, 45),
    (item_set_slot, itm_hunter, 80, 18),
    (item_set_slot, itm_hunter, 82, 28),
    (item_set_slot, itm_horse_d, 69, 0),
    (item_set_slot, itm_horse_d, 68, 3),
    (item_set_slot, itm_horse_d, 76, 36),
    (item_set_slot, itm_horse_d, 79, 45),
    (item_set_slot, itm_horse_d, 80, 18),
    (item_set_slot, itm_horse_d, 82, 28),
    (item_set_slot, itm_horse_e, 69, 0),
    (item_set_slot, itm_horse_e, 68, 3),
    (item_set_slot, itm_horse_e, 76, 36),
    (item_set_slot, itm_horse_e, 79, 45),
    (item_set_slot, itm_horse_e, 80, 18),
    (item_set_slot, itm_horse_e, 82, 28),
    (item_set_slot, itm_warhorse, 69, 0),
    (item_set_slot, itm_warhorse, 68, 4),
    (item_set_slot, itm_warhorse, 76, 36),
    (item_set_slot, itm_warhorse, 79, 38),
    (item_set_slot, itm_warhorse, 80, 45),
    (item_set_slot, itm_warhorse, 82, 38),
    (item_set_slot, itm_arabian_horse_a, 69, 0),
    (item_set_slot, itm_arabian_horse_a, 68, 2),
    (item_set_slot, itm_arabian_horse_a, 76, 36),
    (item_set_slot, itm_arabian_horse_a, 79, 48),
    (item_set_slot, itm_arabian_horse_a, 80, 15),
    (item_set_slot, itm_arabian_horse_a, 82, 12),
    (item_set_slot, itm_arabian_horse_b, 69, 0),
    (item_set_slot, itm_arabian_horse_b, 68, 3),
    (item_set_slot, itm_arabian_horse_b, 76, 36),
    (item_set_slot, itm_arabian_horse_b, 79, 44),
    (item_set_slot, itm_arabian_horse_b, 80, 15),
    (item_set_slot, itm_arabian_horse_b, 82, 16),
    (item_set_slot, itm_steppe_horse, 69, 0),
    (item_set_slot, itm_steppe_horse, 68, 2),
    (item_set_slot, itm_steppe_horse, 76, 36),
    (item_set_slot, itm_steppe_horse, 79, 44),
    (item_set_slot, itm_steppe_horse, 80, 15),
    (item_set_slot, itm_steppe_horse, 82, 8),
    (item_set_slot, itm_little_samogitian, 69, 0),
    (item_set_slot, itm_little_samogitian, 68, 3),
    (item_set_slot, itm_little_samogitian, 76, 36),
    (item_set_slot, itm_little_samogitian, 79, 45),
    (item_set_slot, itm_little_samogitian, 80, 17),
    (item_set_slot, itm_little_samogitian, 82, 10),
    (item_set_slot, itm_warhorse_player, 69, 0),
    (item_set_slot, itm_warhorse_player, 68, 4),
    (item_set_slot, itm_warhorse_player, 76, 36),
    (item_set_slot, itm_warhorse_player, 79, 38),
    (item_set_slot, itm_warhorse_player, 80, 45),
    (item_set_slot, itm_warhorse_player, 82, 38),
    (item_set_slot, itm_warhorse_white, 69, 0),
    (item_set_slot, itm_warhorse_white, 68, 4),
    (item_set_slot, itm_warhorse_white, 76, 36),
    (item_set_slot, itm_warhorse_white, 79, 38),
    (item_set_slot, itm_warhorse_white, 80, 45),
    (item_set_slot, itm_warhorse_white, 82, 38),
    (item_set_slot, itm_warhorse_red, 69, 0),
    (item_set_slot, itm_warhorse_red, 68, 4),
    (item_set_slot, itm_warhorse_red, 76, 36),
    (item_set_slot, itm_warhorse_red, 79, 38),
    (item_set_slot, itm_warhorse_red, 80, 45),
    (item_set_slot, itm_warhorse_red, 82, 38),
    (item_set_slot, itm_warhorse_blue, 69, 0),
    (item_set_slot, itm_warhorse_blue, 68, 4),
    (item_set_slot, itm_warhorse_blue, 76, 36),
    (item_set_slot, itm_warhorse_blue, 79, 38),
    (item_set_slot, itm_warhorse_blue, 80, 45),
    (item_set_slot, itm_warhorse_blue, 82, 38),
    (item_set_slot, itm_warhorse_yellow, 69, 0),
    (item_set_slot, itm_warhorse_yellow, 68, 4),
    (item_set_slot, itm_warhorse_yellow, 76, 36),
    (item_set_slot, itm_warhorse_yellow, 79, 38),
    (item_set_slot, itm_warhorse_yellow, 80, 45),
    (item_set_slot, itm_warhorse_yellow, 82, 38),
    (item_set_slot, itm_warhorse_lionel, 69, 0),
    (item_set_slot, itm_warhorse_lionel, 68, 4),
    (item_set_slot, itm_warhorse_lionel, 76, 36),
    (item_set_slot, itm_warhorse_lionel, 79, 38),
    (item_set_slot, itm_warhorse_lionel, 80, 45),
    (item_set_slot, itm_warhorse_lionel, 82, 38),
    (item_set_slot, itm_warhorse_lethwin, 69, 0),
    (item_set_slot, itm_warhorse_lethwin, 68, 4),
    (item_set_slot, itm_warhorse_lethwin, 76, 36),
    (item_set_slot, itm_warhorse_lethwin, 79, 38),
    (item_set_slot, itm_warhorse_lethwin, 80, 45),
    (item_set_slot, itm_warhorse_lethwin, 82, 38),
    (item_set_slot, itm_rnd_horse_01, 69, 0),
    (item_set_slot, itm_rnd_horse_01, 68, 4),
    (item_set_slot, itm_rnd_horse_01, 76, 36),
    (item_set_slot, itm_rnd_horse_01, 79, 38),
    (item_set_slot, itm_rnd_horse_01, 80, 45),
    (item_set_slot, itm_rnd_horse_01, 82, 38),
    (item_set_slot, itm_rnd_horse_02, 69, 0),
    (item_set_slot, itm_rnd_horse_02, 68, 4),
    (item_set_slot, itm_rnd_horse_02, 76, 36),
    (item_set_slot, itm_rnd_horse_02, 79, 38),
    (item_set_slot, itm_rnd_horse_02, 80, 45),
    (item_set_slot, itm_rnd_horse_02, 82, 38),
    (item_set_slot, itm_rnd_horse_03, 69, 0),
    (item_set_slot, itm_rnd_horse_03, 68, 4),
    (item_set_slot, itm_rnd_horse_03, 76, 36),
    (item_set_slot, itm_rnd_horse_03, 79, 38),
    (item_set_slot, itm_rnd_horse_03, 80, 45),
    (item_set_slot, itm_rnd_horse_03, 82, 38),
    (item_set_slot, itm_rnd_horse_04, 69, 0),
    (item_set_slot, itm_rnd_horse_04, 68, 4),
    (item_set_slot, itm_rnd_horse_04, 76, 36),
    (item_set_slot, itm_rnd_horse_04, 79, 38),
    (item_set_slot, itm_rnd_horse_04, 80, 45),
    (item_set_slot, itm_rnd_horse_04, 82, 38),
    (item_set_slot, itm_rnd_horse_05, 69, 0),
    (item_set_slot, itm_rnd_horse_05, 68, 4),
    (item_set_slot, itm_rnd_horse_05, 76, 36),
    (item_set_slot, itm_rnd_horse_05, 79, 38),
    (item_set_slot, itm_rnd_horse_05, 80, 45),
    (item_set_slot, itm_rnd_horse_05, 82, 38),
    (item_set_slot, itm_rnd_horse_06, 69, 0),
    (item_set_slot, itm_rnd_horse_06, 68, 4),
    (item_set_slot, itm_rnd_horse_06, 76, 36),
    (item_set_slot, itm_rnd_horse_06, 79, 38),
    (item_set_slot, itm_rnd_horse_06, 80, 45),
    (item_set_slot, itm_rnd_horse_06, 82, 38),
    (item_set_slot, itm_rnd_horse_07, 69, 0),
    (item_set_slot, itm_rnd_horse_07, 68, 4),
    (item_set_slot, itm_rnd_horse_07, 76, 36),
    (item_set_slot, itm_rnd_horse_07, 79, 38),
    (item_set_slot, itm_rnd_horse_07, 80, 45),
    (item_set_slot, itm_rnd_horse_07, 82, 38),
    (item_set_slot, itm_rnd_horse_08, 69, 0),
    (item_set_slot, itm_rnd_horse_08, 68, 4),
    (item_set_slot, itm_rnd_horse_08, 76, 36),
    (item_set_slot, itm_rnd_horse_08, 79, 38),
    (item_set_slot, itm_rnd_horse_08, 80, 45),
    (item_set_slot, itm_rnd_horse_08, 82, 38),
    (item_set_slot, itm_rnd_horse_09, 69, 0),
    (item_set_slot, itm_rnd_horse_09, 68, 4),
    (item_set_slot, itm_rnd_horse_09, 76, 36),
    (item_set_slot, itm_rnd_horse_09, 79, 38),
    (item_set_slot, itm_rnd_horse_09, 80, 45),
    (item_set_slot, itm_rnd_horse_09, 82, 38),
    (item_set_slot, itm_rnd_horse_10, 69, 0),
    (item_set_slot, itm_rnd_horse_10, 68, 4),
    (item_set_slot, itm_rnd_horse_10, 76, 36),
    (item_set_slot, itm_rnd_horse_10, 79, 38),
    (item_set_slot, itm_rnd_horse_10, 80, 45),
    (item_set_slot, itm_rnd_horse_10, 82, 38),
    (item_set_slot, itm_rnd_horse_11, 69, 0),
    (item_set_slot, itm_rnd_horse_11, 68, 4),
    (item_set_slot, itm_rnd_horse_11, 76, 36),
    (item_set_slot, itm_rnd_horse_11, 79, 38),
    (item_set_slot, itm_rnd_horse_11, 80, 45),
    (item_set_slot, itm_rnd_horse_11, 82, 38),
    (item_set_slot, itm_rnd_horse_12, 69, 0),
    (item_set_slot, itm_rnd_horse_12, 68, 4),
    (item_set_slot, itm_rnd_horse_12, 76, 36),
    (item_set_slot, itm_rnd_horse_12, 79, 38),
    (item_set_slot, itm_rnd_horse_12, 80, 45),
    (item_set_slot, itm_rnd_horse_12, 82, 38),
    (item_set_slot, itm_rnd_horse_13, 69, 0),
    (item_set_slot, itm_rnd_horse_13, 68, 4),
    (item_set_slot, itm_rnd_horse_13, 76, 36),
    (item_set_slot, itm_rnd_horse_13, 79, 38),
    (item_set_slot, itm_rnd_horse_13, 80, 45),
    (item_set_slot, itm_rnd_horse_13, 82, 38),
    (item_set_slot, itm_rnd_horse_14, 69, 0),
    (item_set_slot, itm_rnd_horse_14, 68, 4),
    (item_set_slot, itm_rnd_horse_14, 76, 36),
    (item_set_slot, itm_rnd_horse_14, 79, 38),
    (item_set_slot, itm_rnd_horse_14, 80, 45),
    (item_set_slot, itm_rnd_horse_14, 82, 38),
    (item_set_slot, itm_rnd_horse_15, 69, 0),
    (item_set_slot, itm_rnd_horse_15, 68, 4),
    (item_set_slot, itm_rnd_horse_15, 76, 36),
    (item_set_slot, itm_rnd_horse_15, 79, 38),
    (item_set_slot, itm_rnd_horse_15, 80, 45),
    (item_set_slot, itm_rnd_horse_15, 82, 38),
    (item_set_slot, itm_rnd_horse_16, 69, 0),
    (item_set_slot, itm_rnd_horse_16, 68, 4),
    (item_set_slot, itm_rnd_horse_16, 76, 36),
    (item_set_slot, itm_rnd_horse_16, 79, 38),
    (item_set_slot, itm_rnd_horse_16, 80, 45),
    (item_set_slot, itm_rnd_horse_16, 82, 38),
    (item_set_slot, itm_rnd_horse_17, 69, 0),
    (item_set_slot, itm_rnd_horse_17, 68, 4),
    (item_set_slot, itm_rnd_horse_17, 76, 36),
    (item_set_slot, itm_rnd_horse_17, 79, 38),
    (item_set_slot, itm_rnd_horse_17, 80, 45),
    (item_set_slot, itm_rnd_horse_17, 82, 38),
    (item_set_slot, itm_rnd_horse_18, 69, 0),
    (item_set_slot, itm_rnd_horse_18, 68, 4),
    (item_set_slot, itm_rnd_horse_18, 76, 36),
    (item_set_slot, itm_rnd_horse_18, 79, 38),
    (item_set_slot, itm_rnd_horse_18, 80, 45),
    (item_set_slot, itm_rnd_horse_18, 82, 38),
    (item_set_slot, itm_rnd_horse_19, 69, 0),
    (item_set_slot, itm_rnd_horse_19, 68, 4),
    (item_set_slot, itm_rnd_horse_19, 76, 36),
    (item_set_slot, itm_rnd_horse_19, 79, 38),
    (item_set_slot, itm_rnd_horse_19, 80, 45),
    (item_set_slot, itm_rnd_horse_19, 82, 38),
    (item_set_slot, itm_rnd_horse_20, 69, 0),
    (item_set_slot, itm_rnd_horse_20, 68, 4),
    (item_set_slot, itm_rnd_horse_20, 76, 36),
    (item_set_slot, itm_rnd_horse_20, 79, 38),
    (item_set_slot, itm_rnd_horse_20, 80, 45),
    (item_set_slot, itm_rnd_horse_20, 82, 38),
    (item_set_slot, itm_rnd_horse_21, 69, 0),
    (item_set_slot, itm_rnd_horse_21, 68, 4),
    (item_set_slot, itm_rnd_horse_21, 76, 36),
    (item_set_slot, itm_rnd_horse_21, 79, 38),
    (item_set_slot, itm_rnd_horse_21, 80, 45),
    (item_set_slot, itm_rnd_horse_21, 82, 38),
    (item_set_slot, itm_rnd_horse_22, 69, 0),
    (item_set_slot, itm_rnd_horse_22, 68, 4),
    (item_set_slot, itm_rnd_horse_22, 76, 36),
    (item_set_slot, itm_rnd_horse_22, 79, 38),
    (item_set_slot, itm_rnd_horse_22, 80, 45),
    (item_set_slot, itm_rnd_horse_22, 82, 38),
    (item_set_slot, itm_rnd_horse_23, 69, 0),
    (item_set_slot, itm_rnd_horse_23, 68, 4),
    (item_set_slot, itm_rnd_horse_23, 76, 36),
    (item_set_slot, itm_rnd_horse_23, 79, 38),
    (item_set_slot, itm_rnd_horse_23, 80, 45),
    (item_set_slot, itm_rnd_horse_23, 82, 38),
    (item_set_slot, itm_warhorse_denmark_a, 69, 0),
    (item_set_slot, itm_warhorse_denmark_a, 68, 4),
    (item_set_slot, itm_warhorse_denmark_a, 76, 36),
    (item_set_slot, itm_warhorse_denmark_a, 79, 38),
    (item_set_slot, itm_warhorse_denmark_a, 80, 45),
    (item_set_slot, itm_warhorse_denmark_a, 82, 38),
    (item_set_slot, itm_warhorse_england_a, 69, 0),
    (item_set_slot, itm_warhorse_england_a, 68, 4),
    (item_set_slot, itm_warhorse_england_a, 76, 36),
    (item_set_slot, itm_warhorse_england_a, 79, 38),
    (item_set_slot, itm_warhorse_england_a, 80, 45),
    (item_set_slot, itm_warhorse_england_a, 82, 38),
    (item_set_slot, itm_warhorse_devalence, 69, 0),
    (item_set_slot, itm_warhorse_devalence, 68, 4),
    (item_set_slot, itm_warhorse_devalence, 76, 36),
    (item_set_slot, itm_warhorse_devalence, 79, 38),
    (item_set_slot, itm_warhorse_devalence, 80, 45),
    (item_set_slot, itm_warhorse_devalence, 82, 38),
    (item_set_slot, itm_warhorse_demontfort, 69, 0),
    (item_set_slot, itm_warhorse_demontfort, 68, 4),
    (item_set_slot, itm_warhorse_demontfort, 76, 36),
    (item_set_slot, itm_warhorse_demontfort, 79, 38),
    (item_set_slot, itm_warhorse_demontfort, 80, 45),
    (item_set_slot, itm_warhorse_demontfort, 82, 38),
    (item_set_slot, itm_warhorse_mortimer, 69, 0),
    (item_set_slot, itm_warhorse_mortimer, 68, 4),
    (item_set_slot, itm_warhorse_mortimer, 76, 36),
    (item_set_slot, itm_warhorse_mortimer, 79, 38),
    (item_set_slot, itm_warhorse_mortimer, 80, 45),
    (item_set_slot, itm_warhorse_mortimer, 82, 38),
    (item_set_slot, itm_warhorse_bigod, 69, 0),
    (item_set_slot, itm_warhorse_bigod, 68, 4),
    (item_set_slot, itm_warhorse_bigod, 76, 36),
    (item_set_slot, itm_warhorse_bigod, 79, 38),
    (item_set_slot, itm_warhorse_bigod, 80, 45),
    (item_set_slot, itm_warhorse_bigod, 82, 38),
    (item_set_slot, itm_warhorse_dewarenne, 69, 0),
    (item_set_slot, itm_warhorse_dewarenne, 68, 4),
    (item_set_slot, itm_warhorse_dewarenne, 76, 36),
    (item_set_slot, itm_warhorse_dewarenne, 79, 38),
    (item_set_slot, itm_warhorse_dewarenne, 80, 45),
    (item_set_slot, itm_warhorse_dewarenne, 82, 38),
    (item_set_slot, itm_warhorse_france_a, 69, 0),
    (item_set_slot, itm_warhorse_france_a, 68, 4),
    (item_set_slot, itm_warhorse_france_a, 76, 36),
    (item_set_slot, itm_warhorse_france_a, 79, 38),
    (item_set_slot, itm_warhorse_france_a, 80, 45),
    (item_set_slot, itm_warhorse_france_a, 82, 38),
    (item_set_slot, itm_warhorse_hre_a, 69, 0),
    (item_set_slot, itm_warhorse_hre_a, 68, 4),
    (item_set_slot, itm_warhorse_hre_a, 76, 36),
    (item_set_slot, itm_warhorse_hre_a, 79, 38),
    (item_set_slot, itm_warhorse_hre_a, 80, 45),
    (item_set_slot, itm_warhorse_hre_a, 82, 38),
    (item_set_slot, itm_warhorse_bohemia, 69, 0),
    (item_set_slot, itm_warhorse_bohemia, 68, 4),
    (item_set_slot, itm_warhorse_bohemia, 76, 36),
    (item_set_slot, itm_warhorse_bohemia, 79, 38),
    (item_set_slot, itm_warhorse_bohemia, 80, 45),
    (item_set_slot, itm_warhorse_bohemia, 82, 38),
    (item_set_slot, itm_warhorse_hungary_a, 69, 0),
    (item_set_slot, itm_warhorse_hungary_a, 68, 4),
    (item_set_slot, itm_warhorse_hungary_a, 76, 36),
    (item_set_slot, itm_warhorse_hungary_a, 79, 38),
    (item_set_slot, itm_warhorse_hungary_a, 80, 45),
    (item_set_slot, itm_warhorse_hungary_a, 82, 38),
    (item_set_slot, itm_warhorse_ireland_a, 69, 0),
    (item_set_slot, itm_warhorse_ireland_a, 68, 4),
    (item_set_slot, itm_warhorse_ireland_a, 76, 36),
    (item_set_slot, itm_warhorse_ireland_a, 79, 38),
    (item_set_slot, itm_warhorse_ireland_a, 80, 45),
    (item_set_slot, itm_warhorse_ireland_a, 82, 38),
    (item_set_slot, itm_warhorse_lithuania_a, 69, 0),
    (item_set_slot, itm_warhorse_lithuania_a, 68, 4),
    (item_set_slot, itm_warhorse_lithuania_a, 76, 36),
    (item_set_slot, itm_warhorse_lithuania_a, 79, 38),
    (item_set_slot, itm_warhorse_lithuania_a, 80, 45),
    (item_set_slot, itm_warhorse_lithuania_a, 82, 38),
    (item_set_slot, itm_warhorse_norway_a, 69, 0),
    (item_set_slot, itm_warhorse_norway_a, 68, 4),
    (item_set_slot, itm_warhorse_norway_a, 76, 36),
    (item_set_slot, itm_warhorse_norway_a, 79, 38),
    (item_set_slot, itm_warhorse_norway_a, 80, 45),
    (item_set_slot, itm_warhorse_norway_a, 82, 38),
    (item_set_slot, itm_warhorse_novgorod_a, 69, 0),
    (item_set_slot, itm_warhorse_novgorod_a, 68, 4),
    (item_set_slot, itm_warhorse_novgorod_a, 76, 36),
    (item_set_slot, itm_warhorse_novgorod_a, 79, 38),
    (item_set_slot, itm_warhorse_novgorod_a, 80, 45),
    (item_set_slot, itm_warhorse_novgorod_a, 82, 38),
    (item_set_slot, itm_warhorse_scotland_a, 69, 0),
    (item_set_slot, itm_warhorse_scotland_a, 68, 4),
    (item_set_slot, itm_warhorse_scotland_a, 76, 36),
    (item_set_slot, itm_warhorse_scotland_a, 79, 38),
    (item_set_slot, itm_warhorse_scotland_a, 80, 45),
    (item_set_slot, itm_warhorse_scotland_a, 82, 38),
    (item_set_slot, itm_warhorse_sweden_a, 69, 0),
    (item_set_slot, itm_warhorse_sweden_a, 68, 4),
    (item_set_slot, itm_warhorse_sweden_a, 76, 36),
    (item_set_slot, itm_warhorse_sweden_a, 79, 38),
    (item_set_slot, itm_warhorse_sweden_a, 80, 45),
    (item_set_slot, itm_warhorse_sweden_a, 82, 38),
    (item_set_slot, itm_warhorse_przemysl2, 69, 0),
    (item_set_slot, itm_warhorse_przemysl2, 68, 4),
    (item_set_slot, itm_warhorse_przemysl2, 76, 36),
    (item_set_slot, itm_warhorse_przemysl2, 79, 38),
    (item_set_slot, itm_warhorse_przemysl2, 80, 45),
    (item_set_slot, itm_warhorse_przemysl2, 82, 38),
    (item_set_slot, itm_warhorse_czersk, 69, 0),
    (item_set_slot, itm_warhorse_czersk, 68, 4),
    (item_set_slot, itm_warhorse_czersk, 76, 36),
    (item_set_slot, itm_warhorse_czersk, 79, 38),
    (item_set_slot, itm_warhorse_czersk, 80, 45),
    (item_set_slot, itm_warhorse_czersk, 82, 38),
    (item_set_slot, itm_warhorse_slask_a, 69, 0),
    (item_set_slot, itm_warhorse_slask_a, 68, 4),
    (item_set_slot, itm_warhorse_slask_a, 76, 36),
    (item_set_slot, itm_warhorse_slask_a, 79, 38),
    (item_set_slot, itm_warhorse_slask_a, 80, 45),
    (item_set_slot, itm_warhorse_slask_a, 82, 38),
    (item_set_slot, itm_warhorse_siemowit_a, 69, 0),
    (item_set_slot, itm_warhorse_siemowit_a, 68, 4),
    (item_set_slot, itm_warhorse_siemowit_a, 76, 36),
    (item_set_slot, itm_warhorse_siemowit_a, 79, 38),
    (item_set_slot, itm_warhorse_siemowit_a, 80, 45),
    (item_set_slot, itm_warhorse_siemowit_a, 82, 38),
    (item_set_slot, itm_warhorse_poland_a, 69, 0),
    (item_set_slot, itm_warhorse_poland_a, 68, 4),
    (item_set_slot, itm_warhorse_poland_a, 76, 36),
    (item_set_slot, itm_warhorse_poland_a, 79, 38),
    (item_set_slot, itm_warhorse_poland_a, 80, 45),
    (item_set_slot, itm_warhorse_poland_a, 82, 38),
    (item_set_slot, itm_warhorse_poland_b, 69, 0),
    (item_set_slot, itm_warhorse_poland_b, 68, 4),
    (item_set_slot, itm_warhorse_poland_b, 76, 36),
    (item_set_slot, itm_warhorse_poland_b, 79, 38),
    (item_set_slot, itm_warhorse_poland_b, 80, 45),
    (item_set_slot, itm_warhorse_poland_b, 82, 38),
    (item_set_slot, itm_warhorse_kaliskie_a, 69, 0),
    (item_set_slot, itm_warhorse_kaliskie_a, 68, 4),
    (item_set_slot, itm_warhorse_kaliskie_a, 76, 36),
    (item_set_slot, itm_warhorse_kaliskie_a, 79, 38),
    (item_set_slot, itm_warhorse_kaliskie_a, 80, 45),
    (item_set_slot, itm_warhorse_kaliskie_a, 82, 38),
    (item_set_slot, itm_warhorse_gslask, 69, 0),
    (item_set_slot, itm_warhorse_gslask, 68, 4),
    (item_set_slot, itm_warhorse_gslask, 76, 36),
    (item_set_slot, itm_warhorse_gslask, 79, 38),
    (item_set_slot, itm_warhorse_gslask, 80, 45),
    (item_set_slot, itm_warhorse_gslask, 82, 38),
    (item_set_slot, itm_warhorse_swietopelk, 69, 0),
    (item_set_slot, itm_warhorse_swietopelk, 68, 4),
    (item_set_slot, itm_warhorse_swietopelk, 76, 36),
    (item_set_slot, itm_warhorse_swietopelk, 79, 38),
    (item_set_slot, itm_warhorse_swietopelk, 80, 45),
    (item_set_slot, itm_warhorse_swietopelk, 82, 38),
    (item_set_slot, itm_warhorse_pol_a, 69, 0),
    (item_set_slot, itm_warhorse_pol_a, 68, 4),
    (item_set_slot, itm_warhorse_pol_a, 76, 36),
    (item_set_slot, itm_warhorse_pol_a, 79, 38),
    (item_set_slot, itm_warhorse_pol_a, 80, 45),
    (item_set_slot, itm_warhorse_pol_a, 82, 38),
    (item_set_slot, itm_warhorse_pol_b, 69, 0),
    (item_set_slot, itm_warhorse_pol_b, 68, 4),
    (item_set_slot, itm_warhorse_pol_b, 76, 36),
    (item_set_slot, itm_warhorse_pol_b, 79, 38),
    (item_set_slot, itm_warhorse_pol_b, 80, 45),
    (item_set_slot, itm_warhorse_pol_b, 82, 38),
    (item_set_slot, itm_warhorse_pol_c, 69, 0),
    (item_set_slot, itm_warhorse_pol_c, 68, 4),
    (item_set_slot, itm_warhorse_pol_c, 76, 36),
    (item_set_slot, itm_warhorse_pol_c, 79, 38),
    (item_set_slot, itm_warhorse_pol_c, 80, 45),
    (item_set_slot, itm_warhorse_pol_c, 82, 38),
    (item_set_slot, itm_warhorse_pol_d, 69, 0),
    (item_set_slot, itm_warhorse_pol_d, 68, 4),
    (item_set_slot, itm_warhorse_pol_d, 76, 36),
    (item_set_slot, itm_warhorse_pol_d, 79, 38),
    (item_set_slot, itm_warhorse_pol_d, 80, 45),
    (item_set_slot, itm_warhorse_pol_d, 82, 38),
    (item_set_slot, itm_warhorse_pol_e, 69, 0),
    (item_set_slot, itm_warhorse_pol_e, 68, 4),
    (item_set_slot, itm_warhorse_pol_e, 76, 36),
    (item_set_slot, itm_warhorse_pol_e, 79, 38),
    (item_set_slot, itm_warhorse_pol_e, 80, 45),
    (item_set_slot, itm_warhorse_pol_e, 82, 38),
    (item_set_slot, itm_warhorse_pol_g, 69, 0),
    (item_set_slot, itm_warhorse_pol_g, 68, 4),
    (item_set_slot, itm_warhorse_pol_g, 76, 36),
    (item_set_slot, itm_warhorse_pol_g, 79, 38),
    (item_set_slot, itm_warhorse_pol_g, 80, 45),
    (item_set_slot, itm_warhorse_pol_g, 82, 38),
    (item_set_slot, itm_warhorse_swidnica, 69, 0),
    (item_set_slot, itm_warhorse_swidnica, 68, 4),
    (item_set_slot, itm_warhorse_swidnica, 76, 36),
    (item_set_slot, itm_warhorse_swidnica, 79, 38),
    (item_set_slot, itm_warhorse_swidnica, 80, 45),
    (item_set_slot, itm_warhorse_swidnica, 82, 38),
    (item_set_slot, itm_mon_lamellar_horse_a, 69, 0),
    (item_set_slot, itm_mon_lamellar_horse_a, 68, 4),
    (item_set_slot, itm_mon_lamellar_horse_a, 76, 36),
    (item_set_slot, itm_mon_lamellar_horse_a, 79, 38),
    (item_set_slot, itm_mon_lamellar_horse_a, 80, 45),
    (item_set_slot, itm_mon_lamellar_horse_a, 82, 38),
    (item_set_slot, itm_mon_lamellar_horse_b, 69, 0),
    (item_set_slot, itm_mon_lamellar_horse_b, 68, 4),
    (item_set_slot, itm_mon_lamellar_horse_b, 76, 36),
    (item_set_slot, itm_mon_lamellar_horse_b, 79, 38),
    (item_set_slot, itm_mon_lamellar_horse_b, 80, 45),
    (item_set_slot, itm_mon_lamellar_horse_b, 82, 38),
    (item_set_slot, itm_mon_lamellar_horse_c, 69, 0),
    (item_set_slot, itm_mon_lamellar_horse_c, 68, 4),
    (item_set_slot, itm_mon_lamellar_horse_c, 76, 36),
    (item_set_slot, itm_mon_lamellar_horse_c, 79, 38),
    (item_set_slot, itm_mon_lamellar_horse_c, 80, 45),
    (item_set_slot, itm_mon_lamellar_horse_c, 82, 38),
    (item_set_slot, itm_kau_montcada_horse, 69, 0),
    (item_set_slot, itm_kau_montcada_horse, 68, 4),
    (item_set_slot, itm_kau_montcada_horse, 76, 36),
    (item_set_slot, itm_kau_montcada_horse, 79, 38),
    (item_set_slot, itm_kau_montcada_horse, 80, 45),
    (item_set_slot, itm_kau_montcada_horse, 82, 38),
    (item_set_slot, itm_kau_alego_horse, 69, 0),
    (item_set_slot, itm_kau_alego_horse, 68, 4),
    (item_set_slot, itm_kau_alego_horse, 76, 36),
    (item_set_slot, itm_kau_alego_horse, 79, 38),
    (item_set_slot, itm_kau_alego_horse, 80, 45),
    (item_set_slot, itm_kau_alego_horse, 82, 38),
    (item_set_slot, itm_kau_cervello_horse, 69, 0),
    (item_set_slot, itm_kau_cervello_horse, 68, 4),
    (item_set_slot, itm_kau_cervello_horse, 76, 36),
    (item_set_slot, itm_kau_cervello_horse, 79, 38),
    (item_set_slot, itm_kau_cervello_horse, 80, 45),
    (item_set_slot, itm_kau_cervello_horse, 82, 38),
    (item_set_slot, itm_kau_cruilles_horse, 69, 0),
    (item_set_slot, itm_kau_cruilles_horse, 68, 4),
    (item_set_slot, itm_kau_cruilles_horse, 76, 36),
    (item_set_slot, itm_kau_cruilles_horse, 79, 38),
    (item_set_slot, itm_kau_cruilles_horse, 80, 45),
    (item_set_slot, itm_kau_cruilles_horse, 82, 38),
    (item_set_slot, itm_kau_epyres_horse, 69, 0),
    (item_set_slot, itm_kau_epyres_horse, 68, 4),
    (item_set_slot, itm_kau_epyres_horse, 76, 36),
    (item_set_slot, itm_kau_epyres_horse, 79, 38),
    (item_set_slot, itm_kau_epyres_horse, 80, 45),
    (item_set_slot, itm_kau_epyres_horse, 82, 38),
    (item_set_slot, itm_kau_luna_horse, 69, 0),
    (item_set_slot, itm_kau_luna_horse, 68, 4),
    (item_set_slot, itm_kau_luna_horse, 76, 36),
    (item_set_slot, itm_kau_luna_horse, 79, 38),
    (item_set_slot, itm_kau_luna_horse, 80, 45),
    (item_set_slot, itm_kau_luna_horse, 82, 38),
    (item_set_slot, itm_kau_reino_horse, 69, 0),
    (item_set_slot, itm_kau_reino_horse, 68, 4),
    (item_set_slot, itm_kau_reino_horse, 76, 36),
    (item_set_slot, itm_kau_reino_horse, 79, 38),
    (item_set_slot, itm_kau_reino_horse, 80, 45),
    (item_set_slot, itm_kau_reino_horse, 82, 38),
    (item_set_slot, itm_kau_urgell_horse, 69, 0),
    (item_set_slot, itm_kau_urgell_horse, 68, 4),
    (item_set_slot, itm_kau_urgell_horse, 76, 36),
    (item_set_slot, itm_kau_urgell_horse, 79, 38),
    (item_set_slot, itm_kau_urgell_horse, 80, 45),
    (item_set_slot, itm_kau_urgell_horse, 82, 38),
    (item_set_slot, itm_templar_warhorse_a, 69, 0),
    (item_set_slot, itm_templar_warhorse_a, 68, 4),
    (item_set_slot, itm_templar_warhorse_a, 76, 36),
    (item_set_slot, itm_templar_warhorse_a, 79, 38),
    (item_set_slot, itm_templar_warhorse_a, 80, 45),
    (item_set_slot, itm_templar_warhorse_a, 82, 38),
    (item_set_slot, itm_hospitaller_warhorse_a, 69, 0),
    (item_set_slot, itm_hospitaller_warhorse_a, 68, 4),
    (item_set_slot, itm_hospitaller_warhorse_a, 76, 36),
    (item_set_slot, itm_hospitaller_warhorse_a, 79, 38),
    (item_set_slot, itm_hospitaller_warhorse_a, 80, 45),
    (item_set_slot, itm_hospitaller_warhorse_a, 82, 38),
    (item_set_slot, itm_hospitaller_warhorse_b, 69, 0),
    (item_set_slot, itm_hospitaller_warhorse_b, 68, 4),
    (item_set_slot, itm_hospitaller_warhorse_b, 76, 36),
    (item_set_slot, itm_hospitaller_warhorse_b, 79, 38),
    (item_set_slot, itm_hospitaller_warhorse_b, 80, 45),
    (item_set_slot, itm_hospitaller_warhorse_b, 82, 38),
    (item_set_slot, itm_teu_warhorse_c, 69, 0),
    (item_set_slot, itm_teu_warhorse_c, 68, 4),
    (item_set_slot, itm_teu_warhorse_c, 76, 36),
    (item_set_slot, itm_teu_warhorse_c, 79, 38),
    (item_set_slot, itm_teu_warhorse_c, 80, 45),
    (item_set_slot, itm_teu_warhorse_c, 82, 38),
    (item_set_slot, itm_teu_warhorse_b, 69, 0),
    (item_set_slot, itm_teu_warhorse_b, 68, 4),
    (item_set_slot, itm_teu_warhorse_b, 76, 36),
    (item_set_slot, itm_teu_warhorse_b, 79, 38),
    (item_set_slot, itm_teu_warhorse_b, 80, 45),
    (item_set_slot, itm_teu_warhorse_b, 82, 38),
    (item_set_slot, itm_teu_warhorse_a, 69, 0),
    (item_set_slot, itm_teu_warhorse_a, 68, 4),
    (item_set_slot, itm_teu_warhorse_a, 76, 36),
    (item_set_slot, itm_teu_warhorse_a, 79, 38),
    (item_set_slot, itm_teu_warhorse_a, 80, 45),
    (item_set_slot, itm_teu_warhorse_a, 82, 38),
    (item_set_slot, itm_warhorse_sarranid, 69, 0),
    (item_set_slot, itm_warhorse_sarranid, 68, 4),
    (item_set_slot, itm_warhorse_sarranid, 76, 36),
    (item_set_slot, itm_warhorse_sarranid, 79, 38),
    (item_set_slot, itm_warhorse_sarranid, 80, 45),
    (item_set_slot, itm_warhorse_sarranid, 82, 38),
    (item_set_slot, itm_warhorse_steppe, 69, 0),
    (item_set_slot, itm_warhorse_steppe, 68, 4),
    (item_set_slot, itm_warhorse_steppe, 76, 36),
    (item_set_slot, itm_warhorse_steppe, 79, 38),
    (item_set_slot, itm_warhorse_steppe, 80, 45),
    (item_set_slot, itm_warhorse_steppe, 82, 38),
    (item_set_slot, itm_byz_warhorse, 69, 0),
    (item_set_slot, itm_byz_warhorse, 68, 4),
    (item_set_slot, itm_byz_warhorse, 76, 36),
    (item_set_slot, itm_byz_warhorse, 79, 38),
    (item_set_slot, itm_byz_warhorse, 80, 45),
    (item_set_slot, itm_byz_warhorse, 82, 38),
    (item_set_slot, itm_jerusalem_horse, 69, 0),
    (item_set_slot, itm_jerusalem_horse, 68, 4),
    (item_set_slot, itm_jerusalem_horse, 76, 36),
    (item_set_slot, itm_jerusalem_horse, 79, 38),
    (item_set_slot, itm_jerusalem_horse, 80, 45),
    (item_set_slot, itm_jerusalem_horse, 82, 38),
    (item_set_slot, itm_tripoli_horse, 69, 0),
    (item_set_slot, itm_tripoli_horse, 68, 4),
    (item_set_slot, itm_tripoli_horse, 76, 36),
    (item_set_slot, itm_tripoli_horse, 79, 38),
    (item_set_slot, itm_tripoli_horse, 80, 45),
    (item_set_slot, itm_tripoli_horse, 82, 38),
    (item_set_slot, itm_portugal_horse, 69, 0),
    (item_set_slot, itm_portugal_horse, 68, 4),
    (item_set_slot, itm_portugal_horse, 76, 36),
    (item_set_slot, itm_portugal_horse, 79, 38),
    (item_set_slot, itm_portugal_horse, 80, 45),
    (item_set_slot, itm_portugal_horse, 82, 38),
    (item_set_slot, itm_castile_horse, 69, 0),
    (item_set_slot, itm_castile_horse, 68, 4),
    (item_set_slot, itm_castile_horse, 76, 36),
    (item_set_slot, itm_castile_horse, 79, 38),
    (item_set_slot, itm_castile_horse, 80, 45),
    (item_set_slot, itm_castile_horse, 82, 38),
    (item_set_slot, itm_seljuk_horse, 69, 0),
    (item_set_slot, itm_seljuk_horse, 68, 4),
    (item_set_slot, itm_seljuk_horse, 76, 36),
    (item_set_slot, itm_seljuk_horse, 79, 38),
    (item_set_slot, itm_seljuk_horse, 80, 45),
    (item_set_slot, itm_seljuk_horse, 82, 38),
    (item_set_slot, itm_practice_bow_2, 69, 150),
    (item_set_slot, itm_practice_bow_2, 68, 0),
    (item_set_slot, itm_practice_bow_2, 76, 17),
    (item_set_slot, itm_practice_bow_2, 79, 533),
    (item_set_slot, itm_practice_bow_2, 80, 0),
    (item_set_slot, itm_practice_bow_2, 83, 90),
    (item_set_slot, itm_practice_bow_2, 82, 0),
    (item_set_slot, itm_hunting_bow, 69, 100),
    (item_set_slot, itm_hunting_bow, 68, 0),
    (item_set_slot, itm_hunting_bow, 76, 17),
    (item_set_slot, itm_hunting_bow, 79, 5),
    (item_set_slot, itm_hunting_bow, 80, 0),
    (item_set_slot, itm_hunting_bow, 83, 90),
    (item_set_slot, itm_hunting_bow, 82, 0),
    (item_set_slot, itm_short_bow, 69, 100),
    (item_set_slot, itm_short_bow, 68, 1),
    (item_set_slot, itm_short_bow, 76, 17),
    (item_set_slot, itm_short_bow, 79, 7),
    (item_set_slot, itm_short_bow, 80, 0),
    (item_set_slot, itm_short_bow, 83, 70),
    (item_set_slot, itm_short_bow, 82, 0),
    (item_set_slot, itm_nomad_bow, 69, 125),
    (item_set_slot, itm_nomad_bow, 68, 3),
    (item_set_slot, itm_nomad_bow, 76, 17),
    (item_set_slot, itm_nomad_bow, 79, 8),
    (item_set_slot, itm_nomad_bow, 80, 0),
    (item_set_slot, itm_nomad_bow, 83, 60),
    (item_set_slot, itm_nomad_bow, 82, 0),
    (item_set_slot, itm_long_bow, 69, 175),
    (item_set_slot, itm_long_bow, 68, 4),
    (item_set_slot, itm_long_bow, 76, 17),
    (item_set_slot, itm_long_bow, 73, 1),
    (item_set_slot, itm_long_bow, 79, 266),
    (item_set_slot, itm_long_bow, 80, 0),
    (item_set_slot, itm_long_bow, 83, 45),
    (item_set_slot, itm_long_bow, 82, 0),
    (item_set_slot, itm_khergit_bow, 69, 125),
    (item_set_slot, itm_khergit_bow, 68, 3),
    (item_set_slot, itm_khergit_bow, 76, 17),
    (item_set_slot, itm_khergit_bow, 79, 6),
    (item_set_slot, itm_khergit_bow, 80, 0),
    (item_set_slot, itm_khergit_bow, 83, 65),
    (item_set_slot, itm_khergit_bow, 82, 0),
    (item_set_slot, itm_strong_bow, 69, 125),
    (item_set_slot, itm_strong_bow, 68, 2),
    (item_set_slot, itm_strong_bow, 76, 17),
    (item_set_slot, itm_strong_bow, 79, 9),
    (item_set_slot, itm_strong_bow, 80, 0),
    (item_set_slot, itm_strong_bow, 83, 60),
    (item_set_slot, itm_strong_bow, 82, 0),
    (item_set_slot, itm_hunting_crossbow, 69, 225),
    (item_set_slot, itm_hunting_crossbow, 68, 0),
    (item_set_slot, itm_hunting_crossbow, 76, 17),
    (item_set_slot, itm_hunting_crossbow, 79, 286),
    (item_set_slot, itm_hunting_crossbow, 80, 0),
    (item_set_slot, itm_hunting_crossbow, 83, 45),
    (item_set_slot, itm_hunting_crossbow, 82, 0),
    (item_set_slot, itm_light_crossbow, 69, 250),
    (item_set_slot, itm_light_crossbow, 68, 7),
    (item_set_slot, itm_light_crossbow, 76, 17),
    (item_set_slot, itm_light_crossbow, 79, 290),
    (item_set_slot, itm_light_crossbow, 80, 0),
    (item_set_slot, itm_light_crossbow, 83, 35),
    (item_set_slot, itm_light_crossbow, 82, 0),
    (item_set_slot, itm_crossbow, 69, 300),
    (item_set_slot, itm_crossbow, 68, 8),
    (item_set_slot, itm_crossbow, 76, 17),
    (item_set_slot, itm_crossbow, 79, 295),
    (item_set_slot, itm_crossbow, 80, 0),
    (item_set_slot, itm_crossbow, 83, 35),
    (item_set_slot, itm_crossbow, 82, 0),
    (item_set_slot, itm_heavy_crossbow, 69, 350),
    (item_set_slot, itm_heavy_crossbow, 68, 9),
    (item_set_slot, itm_heavy_crossbow, 76, 17),
    (item_set_slot, itm_heavy_crossbow, 79, 300),
    (item_set_slot, itm_heavy_crossbow, 80, 0),
    (item_set_slot, itm_heavy_crossbow, 83, 28),
    (item_set_slot, itm_heavy_crossbow, 82, 0),
    (item_set_slot, itm_sniper_crossbow, 69, 375),
    (item_set_slot, itm_sniper_crossbow, 68, 10),
    (item_set_slot, itm_sniper_crossbow, 76, 17),
    (item_set_slot, itm_sniper_crossbow, 79, 306),
    (item_set_slot, itm_sniper_crossbow, 80, 0),
    (item_set_slot, itm_sniper_crossbow, 83, 22),
    (item_set_slot, itm_sniper_crossbow, 82, 0),
    (item_set_slot, itm_arrows, 69, 300),
    (item_set_slot, itm_arrows, 68, 0),
    (item_set_slot, itm_arrows, 76, 42),
    (item_set_slot, itm_arrows, 79, 28),
    (item_set_slot, itm_arrows, 80, 0),
    (item_set_slot, itm_arrows, 83, 0),
    (item_set_slot, itm_arrows, 82, 95),
    (item_set_slot, itm_khergit_arrows, 69, 350),
    (item_set_slot, itm_khergit_arrows, 68, 0),
    (item_set_slot, itm_khergit_arrows, 76, 42),
    (item_set_slot, itm_khergit_arrows, 79, 34),
    (item_set_slot, itm_khergit_arrows, 80, 0),
    (item_set_slot, itm_khergit_arrows, 83, 0),
    (item_set_slot, itm_khergit_arrows, 82, 95),
    (item_set_slot, itm_barbed_arrows, 69, 300),
    (item_set_slot, itm_barbed_arrows, 68, 0),
    (item_set_slot, itm_barbed_arrows, 76, 42),
    (item_set_slot, itm_barbed_arrows, 79, 31),
    (item_set_slot, itm_barbed_arrows, 80, 0),
    (item_set_slot, itm_barbed_arrows, 83, 0),
    (item_set_slot, itm_barbed_arrows, 82, 95),
    (item_set_slot, itm_bodkin_arrows, 69, 300),
    (item_set_slot, itm_bodkin_arrows, 68, 0),
    (item_set_slot, itm_bodkin_arrows, 76, 42),
    (item_set_slot, itm_bodkin_arrows, 79, 32),
    (item_set_slot, itm_bodkin_arrows, 80, 0),
    (item_set_slot, itm_bodkin_arrows, 83, 0),
    (item_set_slot, itm_bodkin_arrows, 82, 91),
    (item_set_slot, itm_strely, 69, 300),
    (item_set_slot, itm_strely, 68, 0),
    (item_set_slot, itm_strely, 76, 42),
    (item_set_slot, itm_strely, 79, 30),
    (item_set_slot, itm_strely, 80, 0),
    (item_set_slot, itm_strely, 83, 0),
    (item_set_slot, itm_strely, 82, 95),
    (item_set_slot, itm_practice_arrows_2, 69, 150),
    (item_set_slot, itm_practice_arrows_2, 68, 0),
    (item_set_slot, itm_practice_arrows_2, 76, 42),
    (item_set_slot, itm_practice_arrows_2, 79, 0),
    (item_set_slot, itm_practice_arrows_2, 80, 0),
    (item_set_slot, itm_practice_arrows_2, 83, 0),
    (item_set_slot, itm_practice_arrows_2, 82, 95),
    (item_set_slot, itm_bolts, 69, 225),
    (item_set_slot, itm_bolts, 68, 0),
    (item_set_slot, itm_bolts, 76, 42),
    (item_set_slot, itm_bolts, 79, 278),
    (item_set_slot, itm_bolts, 80, 0),
    (item_set_slot, itm_bolts, 83, 0),
    (item_set_slot, itm_bolts, 82, 63),
    (item_set_slot, itm_steel_bolts, 69, 250),
    (item_set_slot, itm_steel_bolts, 68, 0),
    (item_set_slot, itm_steel_bolts, 76, 42),
    (item_set_slot, itm_steel_bolts, 79, 281),
    (item_set_slot, itm_steel_bolts, 80, 0),
    (item_set_slot, itm_steel_bolts, 83, 0),
    (item_set_slot, itm_steel_bolts, 82, 63),
    (item_set_slot, itm_cartridges, 69, 225),
    (item_set_slot, itm_cartridges, 68, 0),
    (item_set_slot, itm_cartridges, 76, 42),
    (item_set_slot, itm_cartridges, 79, 257),
    (item_set_slot, itm_cartridges, 80, 0),
    (item_set_slot, itm_cartridges, 83, 0),
    (item_set_slot, itm_cartridges, 82, 3),
    (item_set_slot, itm_pickaxe, 69, 125),
    (item_set_slot, itm_pickaxe, 68, 0),
    (item_set_slot, itm_pickaxe, 76, 13),
    (item_set_slot, itm_pickaxe, 79, 256),
    (item_set_slot, itm_pickaxe, 80, 281),
    (item_set_slot, itm_pickaxe, 83, 97),
    (item_set_slot, itm_pickaxe, 82, 68),
    (item_set_slot, itm_spiked_club, 69, 150),
    (item_set_slot, itm_spiked_club, 68, 0),
    (item_set_slot, itm_spiked_club, 76, 18),
    (item_set_slot, itm_spiked_club, 79, 256),
    (item_set_slot, itm_spiked_club, 80, 272),
    (item_set_slot, itm_spiked_club, 83, 95),
    (item_set_slot, itm_spiked_club, 82, 79),
    (item_set_slot, itm_fighting_pick, 69, 125),
    (item_set_slot, itm_fighting_pick, 68, 0),
    (item_set_slot, itm_fighting_pick, 76, 13),
    (item_set_slot, itm_fighting_pick, 79, 256),
    (item_set_slot, itm_fighting_pick, 80, 281),
    (item_set_slot, itm_fighting_pick, 83, 97),
    (item_set_slot, itm_fighting_pick, 82, 68),
    (item_set_slot, itm_military_pick, 69, 125),
    (item_set_slot, itm_military_pick, 68, 0),
    (item_set_slot, itm_military_pick, 76, 13),
    (item_set_slot, itm_military_pick, 79, 256),
    (item_set_slot, itm_military_pick, 80, 283),
    (item_set_slot, itm_military_pick, 83, 97),
    (item_set_slot, itm_military_pick, 82, 64),
    (item_set_slot, itm_sickle, 69, 150),
    (item_set_slot, itm_sickle, 68, 0),
    (item_set_slot, itm_sickle, 76, 0),
    (item_set_slot, itm_sickle, 79, 256),
    (item_set_slot, itm_sickle, 80, 22),
    (item_set_slot, itm_sickle, 83, 99),
    (item_set_slot, itm_sickle, 82, 53),
    (item_set_slot, itm_cleaver, 69, 150),
    (item_set_slot, itm_cleaver, 68, 0),
    (item_set_slot, itm_cleaver, 76, 0),
    (item_set_slot, itm_cleaver, 79, 256),
    (item_set_slot, itm_cleaver, 80, 24),
    (item_set_slot, itm_cleaver, 83, 103),
    (item_set_slot, itm_cleaver, 82, 29),
    (item_set_slot, itm_knife, 69, 50),
    (item_set_slot, itm_knife, 68, 0),
    (item_set_slot, itm_knife, 76, 14),
    (item_set_slot, itm_knife, 79, 276),
    (item_set_slot, itm_knife, 80, 22),
    (item_set_slot, itm_knife, 83, 110),
    (item_set_slot, itm_knife, 82, 40),
    (item_set_slot, itm_butchering_knife, 69, 75),
    (item_set_slot, itm_butchering_knife, 68, 0),
    (item_set_slot, itm_butchering_knife, 76, 14),
    (item_set_slot, itm_butchering_knife, 79, 286),
    (item_set_slot, itm_butchering_knife, 80, 25),
    (item_set_slot, itm_butchering_knife, 83, 108),
    (item_set_slot, itm_butchering_knife, 82, 61),
    (item_set_slot, itm_dagger, 69, 75),
    (item_set_slot, itm_dagger, 68, 0),
    (item_set_slot, itm_dagger, 76, 17),
    (item_set_slot, itm_dagger, 79, 291),
    (item_set_slot, itm_dagger, 80, 22),
    (item_set_slot, itm_dagger, 83, 109),
    (item_set_slot, itm_dagger, 82, 47),
    (item_set_slot, itm_falchion, 69, 125),
    (item_set_slot, itm_falchion, 68, 8),
    (item_set_slot, itm_falchion, 76, 14),
    (item_set_slot, itm_falchion, 79, 261),
    (item_set_slot, itm_falchion, 80, 41),
    (item_set_slot, itm_falchion, 83, 101),
    (item_set_slot, itm_falchion, 82, 71),
    (item_set_slot, itm_scimitar, 69, 150),
    (item_set_slot, itm_scimitar, 68, 0),
    (item_set_slot, itm_scimitar, 76, 17),
    (item_set_slot, itm_scimitar, 79, 256),
    (item_set_slot, itm_scimitar, 80, 38),
    (item_set_slot, itm_scimitar, 83, 98),
    (item_set_slot, itm_scimitar, 82, 97),
    (item_set_slot, itm_scimitar_b, 69, 175),
    (item_set_slot, itm_scimitar_b, 68, 0),
    (item_set_slot, itm_scimitar_b, 76, 17),
    (item_set_slot, itm_scimitar_b, 79, 256),
    (item_set_slot, itm_scimitar_b, 80, 39),
    (item_set_slot, itm_scimitar_b, 83, 97),
    (item_set_slot, itm_scimitar_b, 82, 100),
    (item_set_slot, itm_arabian_sword_a, 69, 150),
    (item_set_slot, itm_arabian_sword_a, 68, 0),
    (item_set_slot, itm_arabian_sword_a, 76, 17),
    (item_set_slot, itm_arabian_sword_a, 79, 275),
    (item_set_slot, itm_arabian_sword_a, 80, 36),
    (item_set_slot, itm_arabian_sword_a, 83, 98),
    (item_set_slot, itm_arabian_sword_a, 82, 97),
    (item_set_slot, itm_arabian_sword_b, 69, 150),
    (item_set_slot, itm_arabian_sword_b, 68, 0),
    (item_set_slot, itm_arabian_sword_b, 76, 17),
    (item_set_slot, itm_arabian_sword_b, 79, 281),
    (item_set_slot, itm_arabian_sword_b, 80, 30),
    (item_set_slot, itm_arabian_sword_b, 83, 98),
    (item_set_slot, itm_arabian_sword_b, 82, 97),
    (item_set_slot, itm_sarranid_cavalry_sword, 69, 175),
    (item_set_slot, itm_sarranid_cavalry_sword, 68, 0),
    (item_set_slot, itm_sarranid_cavalry_sword, 76, 17),
    (item_set_slot, itm_sarranid_cavalry_sword, 79, 265),
    (item_set_slot, itm_sarranid_cavalry_sword, 80, 39),
    (item_set_slot, itm_sarranid_cavalry_sword, 83, 96),
    (item_set_slot, itm_sarranid_cavalry_sword, 82, 105),
    (item_set_slot, itm_arabian_sword_d, 69, 150),
    (item_set_slot, itm_arabian_sword_d, 68, 0),
    (item_set_slot, itm_arabian_sword_d, 76, 17),
    (item_set_slot, itm_arabian_sword_d, 79, 276),
    (item_set_slot, itm_arabian_sword_d, 80, 37),
    (item_set_slot, itm_arabian_sword_d, 83, 98),
    (item_set_slot, itm_arabian_sword_d, 82, 97),
    (item_set_slot, itm_andalusian_sword, 69, 150),
    (item_set_slot, itm_andalusian_sword, 68, 0),
    (item_set_slot, itm_andalusian_sword, 76, 17),
    (item_set_slot, itm_andalusian_sword, 79, 274),
    (item_set_slot, itm_andalusian_sword, 80, 35),
    (item_set_slot, itm_andalusian_sword, 83, 98),
    (item_set_slot, itm_andalusian_sword, 82, 96),
    (item_set_slot, itm_hatchet, 69, 100),
    (item_set_slot, itm_hatchet, 68, 9),
    (item_set_slot, itm_hatchet, 76, 13),
    (item_set_slot, itm_hatchet, 79, 0),
    (item_set_slot, itm_hatchet, 80, 276),
    (item_set_slot, itm_hatchet, 83, 98),
    (item_set_slot, itm_hatchet, 82, 48),
    (item_set_slot, itm_talak_warhammer, 69, 225),
    (item_set_slot, itm_talak_warhammer, 68, 9),
    (item_set_slot, itm_talak_warhammer, 76, 19),
    (item_set_slot, itm_talak_warhammer, 79, 0),
    (item_set_slot, itm_talak_warhammer, 80, 319),
    (item_set_slot, itm_talak_warhammer, 83, 84),
    (item_set_slot, itm_talak_warhammer, 82, 60),
    (item_set_slot, itm_raf_one_handed_axe_a, 69, 150),
    (item_set_slot, itm_raf_one_handed_axe_a, 68, 9),
    (item_set_slot, itm_raf_one_handed_axe_a, 76, 13),
    (item_set_slot, itm_raf_one_handed_axe_a, 79, 0),
    (item_set_slot, itm_raf_one_handed_axe_a, 80, 35),
    (item_set_slot, itm_raf_one_handed_axe_a, 83, 95),
    (item_set_slot, itm_raf_one_handed_axe_a, 82, 67),
    (item_set_slot, itm_raf_one_handed_axe_b, 69, 175),
    (item_set_slot, itm_raf_one_handed_axe_b, 68, 9),
    (item_set_slot, itm_raf_one_handed_axe_b, 76, 13),
    (item_set_slot, itm_raf_one_handed_axe_b, 79, 0),
    (item_set_slot, itm_raf_one_handed_axe_b, 80, 38),
    (item_set_slot, itm_raf_one_handed_axe_b, 83, 95),
    (item_set_slot, itm_raf_one_handed_axe_b, 82, 70),
    (item_set_slot, itm_raf_one_handed_axe_c, 69, 150),
    (item_set_slot, itm_raf_one_handed_axe_c, 68, 9),
    (item_set_slot, itm_raf_one_handed_axe_c, 76, 13),
    (item_set_slot, itm_raf_one_handed_axe_c, 79, 0),
    (item_set_slot, itm_raf_one_handed_axe_c, 80, 35),
    (item_set_slot, itm_raf_one_handed_axe_c, 83, 95),
    (item_set_slot, itm_raf_one_handed_axe_c, 82, 67),
    (item_set_slot, itm_raf_one_handed_axe_d, 69, 125),
    (item_set_slot, itm_raf_one_handed_axe_d, 68, 9),
    (item_set_slot, itm_raf_one_handed_axe_d, 76, 13),
    (item_set_slot, itm_raf_one_handed_axe_d, 79, 0),
    (item_set_slot, itm_raf_one_handed_axe_d, 80, 30),
    (item_set_slot, itm_raf_one_handed_axe_d, 83, 98),
    (item_set_slot, itm_raf_one_handed_axe_d, 82, 52),
    (item_set_slot, itm_raf_one_handed_axe_e, 69, 150),
    (item_set_slot, itm_raf_one_handed_axe_e, 68, 9),
    (item_set_slot, itm_raf_one_handed_axe_e, 76, 13),
    (item_set_slot, itm_raf_one_handed_axe_e, 79, 0),
    (item_set_slot, itm_raf_one_handed_axe_e, 80, 35),
    (item_set_slot, itm_raf_one_handed_axe_e, 83, 95),
    (item_set_slot, itm_raf_one_handed_axe_e, 82, 67),
    (item_set_slot, itm_raf_one_handed_axe_f, 69, 125),
    (item_set_slot, itm_raf_one_handed_axe_f, 68, 9),
    (item_set_slot, itm_raf_one_handed_axe_f, 76, 13),
    (item_set_slot, itm_raf_one_handed_axe_f, 79, 0),
    (item_set_slot, itm_raf_one_handed_axe_f, 80, 29),
    (item_set_slot, itm_raf_one_handed_axe_f, 83, 98),
    (item_set_slot, itm_raf_one_handed_axe_f, 82, 50),
    (item_set_slot, itm_raf_one_handed_axe_g, 69, 100),
    (item_set_slot, itm_raf_one_handed_axe_g, 68, 9),
    (item_set_slot, itm_raf_one_handed_axe_g, 76, 13),
    (item_set_slot, itm_raf_one_handed_axe_g, 79, 0),
    (item_set_slot, itm_raf_one_handed_axe_g, 80, 33),
    (item_set_slot, itm_raf_one_handed_axe_g, 83, 98),
    (item_set_slot, itm_raf_one_handed_axe_g, 82, 48),
    (item_set_slot, itm_raf_one_handed_axe_h, 69, 125),
    (item_set_slot, itm_raf_one_handed_axe_h, 68, 7),
    (item_set_slot, itm_raf_one_handed_axe_h, 76, 13),
    (item_set_slot, itm_raf_one_handed_axe_h, 79, 0),
    (item_set_slot, itm_raf_one_handed_axe_h, 80, 30),
    (item_set_slot, itm_raf_one_handed_axe_h, 83, 97),
    (item_set_slot, itm_raf_one_handed_axe_h, 82, 55),
    (item_set_slot, itm_sarranid_axe_a, 69, 175),
    (item_set_slot, itm_sarranid_axe_a, 68, 9),
    (item_set_slot, itm_sarranid_axe_a, 76, 18),
    (item_set_slot, itm_sarranid_axe_a, 79, 256),
    (item_set_slot, itm_sarranid_axe_a, 80, 34),
    (item_set_slot, itm_sarranid_axe_a, 83, 94),
    (item_set_slot, itm_sarranid_axe_a, 82, 71),
    (item_set_slot, itm_sarranid_axe_b, 69, 175),
    (item_set_slot, itm_sarranid_axe_b, 68, 9),
    (item_set_slot, itm_sarranid_axe_b, 76, 18),
    (item_set_slot, itm_sarranid_axe_b, 79, 256),
    (item_set_slot, itm_sarranid_axe_b, 80, 33),
    (item_set_slot, itm_sarranid_axe_b, 83, 95),
    (item_set_slot, itm_sarranid_axe_b, 82, 70),
    (item_set_slot, itm_spatha, 69, 125),
    (item_set_slot, itm_spatha, 68, 8),
    (item_set_slot, itm_spatha, 76, 17),
    (item_set_slot, itm_spatha, 79, 288),
    (item_set_slot, itm_spatha, 80, 33),
    (item_set_slot, itm_spatha, 83, 100),
    (item_set_slot, itm_spatha, 82, 81),
    (item_set_slot, itm_bb_serbian_sword_1, 69, 150),
    (item_set_slot, itm_bb_serbian_sword_1, 68, 8),
    (item_set_slot, itm_bb_serbian_sword_1, 76, 17),
    (item_set_slot, itm_bb_serbian_sword_1, 79, 276),
    (item_set_slot, itm_bb_serbian_sword_1, 80, 34),
    (item_set_slot, itm_bb_serbian_sword_1, 83, 99),
    (item_set_slot, itm_bb_serbian_sword_1, 82, 90),
    (item_set_slot, itm_bb_serbian_sword_5, 69, 150),
    (item_set_slot, itm_bb_serbian_sword_5, 68, 8),
    (item_set_slot, itm_bb_serbian_sword_5, 76, 17),
    (item_set_slot, itm_bb_serbian_sword_5, 79, 276),
    (item_set_slot, itm_bb_serbian_sword_5, 80, 34),
    (item_set_slot, itm_bb_serbian_sword_5, 83, 99),
    (item_set_slot, itm_bb_serbian_sword_5, 82, 90),
    (item_set_slot, itm_cp391_sword, 69, 150),
    (item_set_slot, itm_cp391_sword, 68, 8),
    (item_set_slot, itm_cp391_sword, 76, 17),
    (item_set_slot, itm_cp391_sword, 79, 282),
    (item_set_slot, itm_cp391_sword, 80, 37),
    (item_set_slot, itm_cp391_sword, 83, 99),
    (item_set_slot, itm_cp391_sword, 82, 88),
    (item_set_slot, itm_sword_type_xii, 69, 150),
    (item_set_slot, itm_sword_type_xii, 68, 8),
    (item_set_slot, itm_sword_type_xii, 76, 17),
    (item_set_slot, itm_sword_type_xii, 79, 278),
    (item_set_slot, itm_sword_type_xii, 80, 36),
    (item_set_slot, itm_sword_type_xii, 83, 98),
    (item_set_slot, itm_sword_type_xii, 82, 95),
    (item_set_slot, itm_sword_type_xiia, 69, 175),
    (item_set_slot, itm_sword_type_xiia, 68, 8),
    (item_set_slot, itm_sword_type_xiia, 76, 17),
    (item_set_slot, itm_sword_type_xiia, 78, 1),
    (item_set_slot, itm_sword_type_xiia, 79, 281),
    (item_set_slot, itm_sword_type_xiia, 80, 43),
    (item_set_slot, itm_sword_type_xiia, 83, 93),
    (item_set_slot, itm_sword_type_xiia, 82, 103),
    (item_set_slot, itm_sword_type_xiii, 69, 150),
    (item_set_slot, itm_sword_type_xiii, 68, 8),
    (item_set_slot, itm_sword_type_xiii, 76, 17),
    (item_set_slot, itm_sword_type_xiii, 79, 278),
    (item_set_slot, itm_sword_type_xiii, 80, 36),
    (item_set_slot, itm_sword_type_xiii, 83, 98),
    (item_set_slot, itm_sword_type_xiii, 82, 95),
    (item_set_slot, itm_sword_type_xiiia, 69, 175),
    (item_set_slot, itm_sword_type_xiiia, 68, 8),
    (item_set_slot, itm_sword_type_xiiia, 76, 17),
    (item_set_slot, itm_sword_type_xiiia, 78, 1),
    (item_set_slot, itm_sword_type_xiiia, 79, 281),
    (item_set_slot, itm_sword_type_xiiia, 80, 44),
    (item_set_slot, itm_sword_type_xiiia, 83, 92),
    (item_set_slot, itm_sword_type_xiiia, 82, 105),
    (item_set_slot, itm_sword_type_xiiib, 69, 150),
    (item_set_slot, itm_sword_type_xiiib, 68, 8),
    (item_set_slot, itm_sword_type_xiiib, 76, 17),
    (item_set_slot, itm_sword_type_xiiib, 79, 278),
    (item_set_slot, itm_sword_type_xiiib, 80, 36),
    (item_set_slot, itm_sword_type_xiiib, 83, 98),
    (item_set_slot, itm_sword_type_xiiib, 82, 95),
    (item_set_slot, itm_sword_type_xiv, 69, 125),
    (item_set_slot, itm_sword_type_xiv, 68, 8),
    (item_set_slot, itm_sword_type_xiv, 76, 17),
    (item_set_slot, itm_sword_type_xiv, 79, 292),
    (item_set_slot, itm_sword_type_xiv, 80, 25),
    (item_set_slot, itm_sword_type_xiv, 83, 100),
    (item_set_slot, itm_sword_type_xiv, 82, 80),
    (item_set_slot, itm_bb_rus_sword_1, 69, 150),
    (item_set_slot, itm_bb_rus_sword_1, 68, 8),
    (item_set_slot, itm_bb_rus_sword_1, 76, 17),
    (item_set_slot, itm_bb_rus_sword_1, 79, 276),
    (item_set_slot, itm_bb_rus_sword_1, 80, 34),
    (item_set_slot, itm_bb_rus_sword_1, 83, 99),
    (item_set_slot, itm_bb_rus_sword_1, 82, 90),
    (item_set_slot, itm_bb_rus_sword_3, 69, 150),
    (item_set_slot, itm_bb_rus_sword_3, 68, 8),
    (item_set_slot, itm_bb_rus_sword_3, 76, 17),
    (item_set_slot, itm_bb_rus_sword_3, 79, 276),
    (item_set_slot, itm_bb_rus_sword_3, 80, 34),
    (item_set_slot, itm_bb_rus_sword_3, 83, 99),
    (item_set_slot, itm_bb_rus_sword_3, 82, 90),
    (item_set_slot, itm_bb_rus_sword_6, 69, 150),
    (item_set_slot, itm_bb_rus_sword_6, 68, 8),
    (item_set_slot, itm_bb_rus_sword_6, 76, 17),
    (item_set_slot, itm_bb_rus_sword_6, 79, 276),
    (item_set_slot, itm_bb_rus_sword_6, 80, 34),
    (item_set_slot, itm_bb_rus_sword_6, 83, 99),
    (item_set_slot, itm_bb_rus_sword_6, 82, 90),
    (item_set_slot, itm_military_cleaver_b, 69, 225),
    (item_set_slot, itm_military_cleaver_b, 68, 0),
    (item_set_slot, itm_military_cleaver_b, 76, 17),
    (item_set_slot, itm_military_cleaver_b, 79, 256),
    (item_set_slot, itm_military_cleaver_b, 80, 34),
    (item_set_slot, itm_military_cleaver_b, 83, 88),
    (item_set_slot, itm_military_cleaver_b, 82, 91),
    (item_set_slot, itm_military_cleaver_c, 69, 225),
    (item_set_slot, itm_military_cleaver_c, 68, 0),
    (item_set_slot, itm_military_cleaver_c, 76, 17),
    (item_set_slot, itm_military_cleaver_c, 79, 256),
    (item_set_slot, itm_military_cleaver_c, 80, 35),
    (item_set_slot, itm_military_cleaver_c, 83, 88),
    (item_set_slot, itm_military_cleaver_c, 82, 91),
    (item_set_slot, itm_military_sickle_a, 69, 125),
    (item_set_slot, itm_military_sickle_a, 68, 9),
    (item_set_slot, itm_military_sickle_a, 76, 18),
    (item_set_slot, itm_military_sickle_a, 79, 256),
    (item_set_slot, itm_military_sickle_a, 80, 287),
    (item_set_slot, itm_military_sickle_a, 83, 101),
    (item_set_slot, itm_military_sickle_a, 82, 75),
    (item_set_slot, itm_sword_viking_1, 69, 150),
    (item_set_slot, itm_sword_viking_1, 68, 0),
    (item_set_slot, itm_sword_viking_1, 76, 17),
    (item_set_slot, itm_sword_viking_1, 79, 277),
    (item_set_slot, itm_sword_viking_1, 80, 33),
    (item_set_slot, itm_sword_viking_1, 83, 98),
    (item_set_slot, itm_sword_viking_1, 82, 96),
    (item_set_slot, itm_sword_viking_2, 69, 150),
    (item_set_slot, itm_sword_viking_2, 68, 0),
    (item_set_slot, itm_sword_viking_2, 76, 17),
    (item_set_slot, itm_sword_viking_2, 79, 277),
    (item_set_slot, itm_sword_viking_2, 80, 34),
    (item_set_slot, itm_sword_viking_2, 83, 98),
    (item_set_slot, itm_sword_viking_2, 82, 95),
    (item_set_slot, itm_sword_viking_2_small, 69, 125),
    (item_set_slot, itm_sword_viking_2_small, 68, 0),
    (item_set_slot, itm_sword_viking_2_small, 76, 17),
    (item_set_slot, itm_sword_viking_2_small, 79, 277),
    (item_set_slot, itm_sword_viking_2_small, 80, 31),
    (item_set_slot, itm_sword_viking_2_small, 83, 100),
    (item_set_slot, itm_sword_viking_2_small, 82, 82),
    (item_set_slot, itm_sword_viking_3, 69, 150),
    (item_set_slot, itm_sword_viking_3, 68, 0),
    (item_set_slot, itm_sword_viking_3, 76, 17),
    (item_set_slot, itm_sword_viking_3, 79, 277),
    (item_set_slot, itm_sword_viking_3, 80, 36),
    (item_set_slot, itm_sword_viking_3, 83, 98),
    (item_set_slot, itm_sword_viking_3, 82, 95),
    (item_set_slot, itm_sword_viking_3_small, 69, 125),
    (item_set_slot, itm_sword_viking_3_small, 68, 0),
    (item_set_slot, itm_sword_viking_3_small, 76, 17),
    (item_set_slot, itm_sword_viking_3_small, 79, 289),
    (item_set_slot, itm_sword_viking_3_small, 80, 29),
    (item_set_slot, itm_sword_viking_3_small, 83, 100),
    (item_set_slot, itm_sword_viking_3_small, 82, 82),
    (item_set_slot, itm_sword_khergit_1, 69, 150),
    (item_set_slot, itm_sword_khergit_1, 68, 0),
    (item_set_slot, itm_sword_khergit_1, 76, 17),
    (item_set_slot, itm_sword_khergit_1, 79, 0),
    (item_set_slot, itm_sword_khergit_1, 80, 39),
    (item_set_slot, itm_sword_khergit_1, 83, 99),
    (item_set_slot, itm_sword_khergit_1, 82, 86),
    (item_set_slot, itm_sword_khergit_2, 69, 150),
    (item_set_slot, itm_sword_khergit_2, 68, 0),
    (item_set_slot, itm_sword_khergit_2, 76, 17),
    (item_set_slot, itm_sword_khergit_2, 79, 0),
    (item_set_slot, itm_sword_khergit_2, 80, 40),
    (item_set_slot, itm_sword_khergit_2, 83, 99),
    (item_set_slot, itm_sword_khergit_2, 82, 88),
    (item_set_slot, itm_sword_khergit_3, 69, 150),
    (item_set_slot, itm_sword_khergit_3, 68, 0),
    (item_set_slot, itm_sword_khergit_3, 76, 17),
    (item_set_slot, itm_sword_khergit_3, 79, 0),
    (item_set_slot, itm_sword_khergit_3, 80, 41),
    (item_set_slot, itm_sword_khergit_3, 83, 99),
    (item_set_slot, itm_sword_khergit_3, 82, 87),
    (item_set_slot, itm_sword_khergit_4, 69, 150),
    (item_set_slot, itm_sword_khergit_4, 68, 0),
    (item_set_slot, itm_sword_khergit_4, 76, 17),
    (item_set_slot, itm_sword_khergit_4, 79, 0),
    (item_set_slot, itm_sword_khergit_4, 80, 42),
    (item_set_slot, itm_sword_khergit_4, 83, 99),
    (item_set_slot, itm_sword_khergit_4, 82, 88),
    (item_set_slot, itm_military_hammer, 69, 125),
    (item_set_slot, itm_military_hammer, 68, 0),
    (item_set_slot, itm_military_hammer, 76, 18),
    (item_set_slot, itm_military_hammer, 79, 256),
    (item_set_slot, itm_military_hammer, 80, 539),
    (item_set_slot, itm_military_hammer, 83, 98),
    (item_set_slot, itm_military_hammer, 82, 58),
    (item_set_slot, itm_wooden_stick, 69, 125),
    (item_set_slot, itm_wooden_stick, 68, 0),
    (item_set_slot, itm_wooden_stick, 76, 0),
    (item_set_slot, itm_wooden_stick, 79, 256),
    (item_set_slot, itm_wooden_stick, 80, 521),
    (item_set_slot, itm_wooden_stick, 83, 97),
    (item_set_slot, itm_wooden_stick, 82, 62),
    (item_set_slot, itm_cudgel, 69, 125),
    (item_set_slot, itm_cudgel, 68, 0),
    (item_set_slot, itm_cudgel, 76, 0),
    (item_set_slot, itm_cudgel, 79, 256),
    (item_set_slot, itm_cudgel, 80, 530),
    (item_set_slot, itm_cudgel, 83, 97),
    (item_set_slot, itm_cudgel, 82, 68),
    (item_set_slot, itm_hammer, 69, 125),
    (item_set_slot, itm_hammer, 68, 0),
    (item_set_slot, itm_hammer, 76, 18),
    (item_set_slot, itm_hammer, 79, 256),
    (item_set_slot, itm_hammer, 80, 525),
    (item_set_slot, itm_hammer, 83, 98),
    (item_set_slot, itm_hammer, 82, 58),
    (item_set_slot, itm_club, 69, 125),
    (item_set_slot, itm_club, 68, 0),
    (item_set_slot, itm_club, 76, 0),
    (item_set_slot, itm_club, 79, 256),
    (item_set_slot, itm_club, 80, 530),
    (item_set_slot, itm_club, 83, 97),
    (item_set_slot, itm_club, 82, 68),
    (item_set_slot, itm_winged_mace, 69, 125),
    (item_set_slot, itm_winged_mace, 68, 0),
    (item_set_slot, itm_winged_mace, 76, 18),
    (item_set_slot, itm_winged_mace, 79, 256),
    (item_set_slot, itm_winged_mace, 80, 534),
    (item_set_slot, itm_winged_mace, 83, 97),
    (item_set_slot, itm_winged_mace, 82, 68),
    (item_set_slot, itm_spiked_mace, 69, 150),
    (item_set_slot, itm_spiked_mace, 68, 0),
    (item_set_slot, itm_spiked_mace, 76, 13),
    (item_set_slot, itm_spiked_mace, 79, 256),
    (item_set_slot, itm_spiked_mace, 80, 536),
    (item_set_slot, itm_spiked_mace, 83, 96),
    (item_set_slot, itm_spiked_mace, 82, 73),
    (item_set_slot, itm_sarranid_mace_1, 69, 150),
    (item_set_slot, itm_sarranid_mace_1, 68, 0),
    (item_set_slot, itm_sarranid_mace_1, 76, 18),
    (item_set_slot, itm_sarranid_mace_1, 79, 256),
    (item_set_slot, itm_sarranid_mace_1, 80, 543),
    (item_set_slot, itm_sarranid_mace_1, 83, 96),
    (item_set_slot, itm_sarranid_mace_1, 82, 71),
    (item_set_slot, itm_mace_1, 69, 150),
    (item_set_slot, itm_mace_1, 68, 0),
    (item_set_slot, itm_mace_1, 76, 18),
    (item_set_slot, itm_mace_1, 79, 256),
    (item_set_slot, itm_mace_1, 80, 279),
    (item_set_slot, itm_mace_1, 83, 96),
    (item_set_slot, itm_mace_1, 82, 70),
    (item_set_slot, itm_mace_2, 69, 150),
    (item_set_slot, itm_mace_2, 68, 0),
    (item_set_slot, itm_mace_2, 76, 18),
    (item_set_slot, itm_mace_2, 79, 256),
    (item_set_slot, itm_mace_2, 80, 540),
    (item_set_slot, itm_mace_2, 83, 96),
    (item_set_slot, itm_mace_2, 82, 70),
    (item_set_slot, itm_mace_3, 69, 150),
    (item_set_slot, itm_mace_3, 68, 0),
    (item_set_slot, itm_mace_3, 76, 18),
    (item_set_slot, itm_mace_3, 79, 256),
    (item_set_slot, itm_mace_3, 80, 541),
    (item_set_slot, itm_mace_3, 83, 96),
    (item_set_slot, itm_mace_3, 82, 70),
    (item_set_slot, itm_mace_4, 69, 150),
    (item_set_slot, itm_mace_4, 68, 0),
    (item_set_slot, itm_mace_4, 76, 18),
    (item_set_slot, itm_mace_4, 79, 256),
    (item_set_slot, itm_mace_4, 80, 543),
    (item_set_slot, itm_mace_4, 83, 96),
    (item_set_slot, itm_mace_4, 82, 71),
    (item_set_slot, itm_baltic_sword, 69, 150),
    (item_set_slot, itm_baltic_sword, 68, 0),
    (item_set_slot, itm_baltic_sword, 76, 17),
    (item_set_slot, itm_baltic_sword, 79, 0),
    (item_set_slot, itm_baltic_sword, 80, 34),
    (item_set_slot, itm_baltic_sword, 83, 99),
    (item_set_slot, itm_baltic_sword, 82, 91),
    (item_set_slot, itm_baltic_sword_b, 69, 150),
    (item_set_slot, itm_baltic_sword_b, 68, 0),
    (item_set_slot, itm_baltic_sword_b, 76, 17),
    (item_set_slot, itm_baltic_sword_b, 79, 0),
    (item_set_slot, itm_baltic_sword_b, 80, 36),
    (item_set_slot, itm_baltic_sword_b, 83, 98),
    (item_set_slot, itm_baltic_sword_b, 82, 94),
    (item_set_slot, itm_byzantine_sabre, 69, 150),
    (item_set_slot, itm_byzantine_sabre, 68, 0),
    (item_set_slot, itm_byzantine_sabre, 76, 17),
    (item_set_slot, itm_byzantine_sabre, 79, 0),
    (item_set_slot, itm_byzantine_sabre, 80, 39),
    (item_set_slot, itm_byzantine_sabre, 83, 98),
    (item_set_slot, itm_byzantine_sabre, 82, 93),
    (item_set_slot, itm_byzantine_sword, 69, 150),
    (item_set_slot, itm_byzantine_sword, 68, 8),
    (item_set_slot, itm_byzantine_sword, 76, 17),
    (item_set_slot, itm_byzantine_sword, 79, 279),
    (item_set_slot, itm_byzantine_sword, 80, 38),
    (item_set_slot, itm_byzantine_sword, 83, 98),
    (item_set_slot, itm_byzantine_sword, 82, 93),
    (item_set_slot, itm_byzantine_sword_1, 69, 150),
    (item_set_slot, itm_byzantine_sword_1, 68, 8),
    (item_set_slot, itm_byzantine_sword_1, 76, 17),
    (item_set_slot, itm_byzantine_sword_1, 79, 279),
    (item_set_slot, itm_byzantine_sword_1, 80, 39),
    (item_set_slot, itm_byzantine_sword_1, 83, 98),
    (item_set_slot, itm_byzantine_sword_1, 82, 95),
    (item_set_slot, itm_byzantine_sword_3, 69, 150),
    (item_set_slot, itm_byzantine_sword_3, 68, 8),
    (item_set_slot, itm_byzantine_sword_3, 76, 17),
    (item_set_slot, itm_byzantine_sword_3, 79, 279),
    (item_set_slot, itm_byzantine_sword_3, 80, 38),
    (item_set_slot, itm_byzantine_sword_3, 83, 97),
    (item_set_slot, itm_byzantine_sword_3, 82, 94),
    (item_set_slot, itm_byzantine_sword_4, 69, 150),
    (item_set_slot, itm_byzantine_sword_4, 68, 8),
    (item_set_slot, itm_byzantine_sword_4, 76, 17),
    (item_set_slot, itm_byzantine_sword_4, 79, 279),
    (item_set_slot, itm_byzantine_sword_4, 80, 40),
    (item_set_slot, itm_byzantine_sword_4, 83, 98),
    (item_set_slot, itm_byzantine_sword_4, 82, 95),
    (item_set_slot, itm_byzantine_sword_5, 69, 150),
    (item_set_slot, itm_byzantine_sword_5, 68, 8),
    (item_set_slot, itm_byzantine_sword_5, 76, 17),
    (item_set_slot, itm_byzantine_sword_5, 79, 279),
    (item_set_slot, itm_byzantine_sword_5, 80, 38),
    (item_set_slot, itm_byzantine_sword_5, 83, 97),
    (item_set_slot, itm_byzantine_sword_5, 82, 94),
    (item_set_slot, itm_byzantine_sword_7, 69, 150),
    (item_set_slot, itm_byzantine_sword_7, 68, 8),
    (item_set_slot, itm_byzantine_sword_7, 76, 17),
    (item_set_slot, itm_byzantine_sword_7, 79, 280),
    (item_set_slot, itm_byzantine_sword_7, 80, 39),
    (item_set_slot, itm_byzantine_sword_7, 83, 97),
    (item_set_slot, itm_byzantine_sword_7, 82, 95),
    (item_set_slot, itm_byzantine_sword_extra, 69, 150),
    (item_set_slot, itm_byzantine_sword_extra, 68, 8),
    (item_set_slot, itm_byzantine_sword_extra, 76, 17),
    (item_set_slot, itm_byzantine_sword_extra, 79, 281),
    (item_set_slot, itm_byzantine_sword_extra, 80, 38),
    (item_set_slot, itm_byzantine_sword_extra, 83, 98),
    (item_set_slot, itm_byzantine_sword_extra, 82, 93),
    (item_set_slot, itm_iberian_cleaver, 69, 175),
    (item_set_slot, itm_iberian_cleaver, 68, 0),
    (item_set_slot, itm_iberian_cleaver, 76, 17),
    (item_set_slot, itm_iberian_cleaver, 79, 256),
    (item_set_slot, itm_iberian_cleaver, 80, 35),
    (item_set_slot, itm_iberian_cleaver, 83, 93),
    (item_set_slot, itm_iberian_cleaver, 82, 77),
    (item_set_slot, itm_moorish_axe, 69, 175),
    (item_set_slot, itm_moorish_axe, 68, 9),
    (item_set_slot, itm_moorish_axe, 76, 13),
    (item_set_slot, itm_moorish_axe, 79, 0),
    (item_set_slot, itm_moorish_axe, 80, 290),
    (item_set_slot, itm_moorish_axe, 83, 94),
    (item_set_slot, itm_moorish_axe, 82, 74),
    (item_set_slot, itm_alsacian_sword, 69, 150),
    (item_set_slot, itm_alsacian_sword, 68, 8),
    (item_set_slot, itm_alsacian_sword, 76, 17),
    (item_set_slot, itm_alsacian_sword, 79, 276),
    (item_set_slot, itm_alsacian_sword, 80, 34),
    (item_set_slot, itm_alsacian_sword, 83, 99),
    (item_set_slot, itm_alsacian_sword, 82, 90),
    (item_set_slot, itm_jineta_sword, 69, 150),
    (item_set_slot, itm_jineta_sword, 68, 8),
    (item_set_slot, itm_jineta_sword, 76, 17),
    (item_set_slot, itm_jineta_sword, 79, 279),
    (item_set_slot, itm_jineta_sword, 80, 37),
    (item_set_slot, itm_jineta_sword, 83, 98),
    (item_set_slot, itm_jineta_sword, 82, 96),
    (item_set_slot, itm_almogavar_sword, 69, 75),
    (item_set_slot, itm_almogavar_sword, 68, 8),
    (item_set_slot, itm_almogavar_sword, 76, 14),
    (item_set_slot, itm_almogavar_sword, 79, 15),
    (item_set_slot, itm_almogavar_sword, 80, 39),
    (item_set_slot, itm_almogavar_sword, 83, 102),
    (item_set_slot, itm_almogavar_sword, 82, 51),
    (item_set_slot, itm_modded_templar_arming_sword, 69, 225),
    (item_set_slot, itm_modded_templar_arming_sword, 68, 9),
    (item_set_slot, itm_modded_templar_arming_sword, 76, 17),
    (item_set_slot, itm_modded_templar_arming_sword, 79, 288),
    (item_set_slot, itm_modded_templar_arming_sword, 80, 46),
    (item_set_slot, itm_modded_templar_arming_sword, 83, 95),
    (item_set_slot, itm_modded_templar_arming_sword, 82, 95),
    (item_set_slot, itm_modded_euro_longsword_1, 69, 275),
    (item_set_slot, itm_modded_euro_longsword_1, 68, 9),
    (item_set_slot, itm_modded_euro_longsword_1, 76, 17),
    (item_set_slot, itm_modded_euro_longsword_1, 79, 291),
    (item_set_slot, itm_modded_euro_longsword_1, 80, 43),
    (item_set_slot, itm_modded_euro_longsword_1, 83, 90),
    (item_set_slot, itm_modded_euro_longsword_1, 82, 104),
    (item_set_slot, itm_modded_euro_longsword_2, 69, 275),
    (item_set_slot, itm_modded_euro_longsword_2, 68, 9),
    (item_set_slot, itm_modded_euro_longsword_2, 76, 17),
    (item_set_slot, itm_modded_euro_longsword_2, 79, 292),
    (item_set_slot, itm_modded_euro_longsword_2, 80, 39),
    (item_set_slot, itm_modded_euro_longsword_2, 83, 90),
    (item_set_slot, itm_modded_euro_longsword_2, 82, 102),
    (item_set_slot, itm_modded_euro_sidesword_1, 69, 225),
    (item_set_slot, itm_modded_euro_sidesword_1, 68, 9),
    (item_set_slot, itm_modded_euro_sidesword_1, 76, 17),
    (item_set_slot, itm_modded_euro_sidesword_1, 79, 286),
    (item_set_slot, itm_modded_euro_sidesword_1, 80, 39),
    (item_set_slot, itm_modded_euro_sidesword_1, 83, 95),
    (item_set_slot, itm_modded_euro_sidesword_1, 82, 87),
    (item_set_slot, itm_modded_euro_sidesword_2, 69, 225),
    (item_set_slot, itm_modded_euro_sidesword_2, 68, 9),
    (item_set_slot, itm_modded_euro_sidesword_2, 76, 17),
    (item_set_slot, itm_modded_euro_sidesword_2, 79, 290),
    (item_set_slot, itm_modded_euro_sidesword_2, 80, 47),
    (item_set_slot, itm_modded_euro_sidesword_2, 83, 95),
    (item_set_slot, itm_modded_euro_sidesword_2, 82, 87),
    (item_set_slot, itm_modded_euro_armingsword_1, 69, 225),
    (item_set_slot, itm_modded_euro_armingsword_1, 68, 9),
    (item_set_slot, itm_modded_euro_armingsword_1, 76, 17),
    (item_set_slot, itm_modded_euro_armingsword_1, 79, 288),
    (item_set_slot, itm_modded_euro_armingsword_1, 80, 46),
    (item_set_slot, itm_modded_euro_armingsword_1, 83, 95),
    (item_set_slot, itm_modded_euro_armingsword_1, 82, 96),
    (item_set_slot, itm_modded_euro_armingsword_2, 69, 225),
    (item_set_slot, itm_modded_euro_armingsword_2, 68, 9),
    (item_set_slot, itm_modded_euro_armingsword_2, 76, 17),
    (item_set_slot, itm_modded_euro_armingsword_2, 79, 288),
    (item_set_slot, itm_modded_euro_armingsword_2, 80, 29),
    (item_set_slot, itm_modded_euro_armingsword_2, 83, 95),
    (item_set_slot, itm_modded_euro_armingsword_2, 82, 96),
    (item_set_slot, itm_modded_euro_armingsword_3, 69, 225),
    (item_set_slot, itm_modded_euro_armingsword_3, 68, 9),
    (item_set_slot, itm_modded_euro_armingsword_3, 76, 17),
    (item_set_slot, itm_modded_euro_armingsword_3, 79, 288),
    (item_set_slot, itm_modded_euro_armingsword_3, 80, 46),
    (item_set_slot, itm_modded_euro_armingsword_3, 83, 95),
    (item_set_slot, itm_modded_euro_armingsword_3, 82, 87),
    (item_set_slot, itm_modded_euro_shortsword_1, 69, 200),
    (item_set_slot, itm_modded_euro_shortsword_1, 68, 6),
    (item_set_slot, itm_modded_euro_shortsword_1, 76, 17),
    (item_set_slot, itm_modded_euro_shortsword_1, 79, 286),
    (item_set_slot, itm_modded_euro_shortsword_1, 80, 27),
    (item_set_slot, itm_modded_euro_shortsword_1, 83, 100),
    (item_set_slot, itm_modded_euro_shortsword_1, 82, 78),
    (item_set_slot, itm_modded_euro_shortsword_2, 69, 200),
    (item_set_slot, itm_modded_euro_shortsword_2, 68, 6),
    (item_set_slot, itm_modded_euro_shortsword_2, 76, 17),
    (item_set_slot, itm_modded_euro_shortsword_2, 79, 286),
    (item_set_slot, itm_modded_euro_shortsword_2, 80, 27),
    (item_set_slot, itm_modded_euro_shortsword_2, 83, 100),
    (item_set_slot, itm_modded_euro_shortsword_2, 82, 77),
    (item_set_slot, itm_modded_euro_shortsword_3, 69, 200),
    (item_set_slot, itm_modded_euro_shortsword_3, 68, 6),
    (item_set_slot, itm_modded_euro_shortsword_3, 76, 17),
    (item_set_slot, itm_modded_euro_shortsword_3, 79, 286),
    (item_set_slot, itm_modded_euro_shortsword_3, 80, 27),
    (item_set_slot, itm_modded_euro_shortsword_3, 83, 100),
    (item_set_slot, itm_modded_euro_shortsword_3, 82, 76),
    (item_set_slot, itm_modded_scandinavian_sword_1, 69, 200),
    (item_set_slot, itm_modded_scandinavian_sword_1, 68, 6),
    (item_set_slot, itm_modded_scandinavian_sword_1, 76, 17),
    (item_set_slot, itm_modded_scandinavian_sword_1, 79, 280),
    (item_set_slot, itm_modded_scandinavian_sword_1, 80, 47),
    (item_set_slot, itm_modded_scandinavian_sword_1, 83, 100),
    (item_set_slot, itm_modded_scandinavian_sword_1, 82, 82),
    (item_set_slot, itm_modded_scandinavian_sword_2, 69, 225),
    (item_set_slot, itm_modded_scandinavian_sword_2, 68, 9),
    (item_set_slot, itm_modded_scandinavian_sword_2, 76, 17),
    (item_set_slot, itm_modded_scandinavian_sword_2, 79, 288),
    (item_set_slot, itm_modded_scandinavian_sword_2, 80, 29),
    (item_set_slot, itm_modded_scandinavian_sword_2, 83, 95),
    (item_set_slot, itm_modded_scandinavian_sword_2, 82, 94),
    (item_set_slot, itm_modded_scandinavian_sword_3, 69, 225),
    (item_set_slot, itm_modded_scandinavian_sword_3, 68, 9),
    (item_set_slot, itm_modded_scandinavian_sword_3, 76, 17),
    (item_set_slot, itm_modded_scandinavian_sword_3, 79, 288),
    (item_set_slot, itm_modded_scandinavian_sword_3, 80, 29),
    (item_set_slot, itm_modded_scandinavian_sword_3, 83, 95),
    (item_set_slot, itm_modded_scandinavian_sword_3, 82, 94),
    (item_set_slot, itm_modded_rus_sword_1, 69, 250),
    (item_set_slot, itm_modded_rus_sword_1, 68, 9),
    (item_set_slot, itm_modded_rus_sword_1, 76, 17),
    (item_set_slot, itm_modded_rus_sword_1, 79, 284),
    (item_set_slot, itm_modded_rus_sword_1, 80, 34),
    (item_set_slot, itm_modded_rus_sword_1, 83, 95),
    (item_set_slot, itm_modded_rus_sword_1, 82, 86),
    (item_set_slot, itm_modded_damascus_sword, 69, 250),
    (item_set_slot, itm_modded_damascus_sword, 68, 9),
    (item_set_slot, itm_modded_damascus_sword, 76, 17),
    (item_set_slot, itm_modded_damascus_sword, 79, 284),
    (item_set_slot, itm_modded_damascus_sword, 80, 39),
    (item_set_slot, itm_modded_damascus_sword, 83, 95),
    (item_set_slot, itm_modded_damascus_sword, 82, 90),
    (item_set_slot, itm_modded_baltic_falchion_1, 69, 225),
    (item_set_slot, itm_modded_baltic_falchion_1, 68, 9),
    (item_set_slot, itm_modded_baltic_falchion_1, 76, 17),
    (item_set_slot, itm_modded_baltic_falchion_1, 79, 28),
    (item_set_slot, itm_modded_baltic_falchion_1, 80, 36),
    (item_set_slot, itm_modded_baltic_falchion_1, 83, 95),
    (item_set_slot, itm_modded_baltic_falchion_1, 82, 92),
    (item_set_slot, itm_modded_baltic_falchion_2, 69, 275),
    (item_set_slot, itm_modded_baltic_falchion_2, 68, 6),
    (item_set_slot, itm_modded_baltic_falchion_2, 76, 17),
    (item_set_slot, itm_modded_baltic_falchion_2, 79, 24),
    (item_set_slot, itm_modded_baltic_falchion_2, 80, 34),
    (item_set_slot, itm_modded_baltic_falchion_2, 83, 90),
    (item_set_slot, itm_modded_baltic_falchion_2, 82, 69),
    (item_set_slot, itm_modded_baltic_sword_1, 69, 225),
    (item_set_slot, itm_modded_baltic_sword_1, 68, 6),
    (item_set_slot, itm_modded_baltic_sword_1, 76, 17),
    (item_set_slot, itm_modded_baltic_sword_1, 79, 278),
    (item_set_slot, itm_modded_baltic_sword_1, 80, 46),
    (item_set_slot, itm_modded_baltic_sword_1, 83, 95),
    (item_set_slot, itm_modded_baltic_sword_1, 82, 86),
    (item_set_slot, itm_modded_baltic_sword_2, 69, 225),
    (item_set_slot, itm_modded_baltic_sword_2, 68, 6),
    (item_set_slot, itm_modded_baltic_sword_2, 76, 17),
    (item_set_slot, itm_modded_baltic_sword_2, 79, 278),
    (item_set_slot, itm_modded_baltic_sword_2, 80, 46),
    (item_set_slot, itm_modded_baltic_sword_2, 83, 95),
    (item_set_slot, itm_modded_baltic_sword_2, 82, 86),
    (item_set_slot, itm_modded_baltic_sword_3, 69, 225),
    (item_set_slot, itm_modded_baltic_sword_3, 68, 9),
    (item_set_slot, itm_modded_baltic_sword_3, 76, 17),
    (item_set_slot, itm_modded_baltic_sword_3, 79, 282),
    (item_set_slot, itm_modded_baltic_sword_3, 80, 31),
    (item_set_slot, itm_modded_baltic_sword_3, 83, 95),
    (item_set_slot, itm_modded_baltic_sword_3, 82, 93),
    (item_set_slot, itm_modded_baltic_sword_4, 69, 225),
    (item_set_slot, itm_modded_baltic_sword_4, 68, 9),
    (item_set_slot, itm_modded_baltic_sword_4, 76, 17),
    (item_set_slot, itm_modded_baltic_sword_4, 79, 282),
    (item_set_slot, itm_modded_baltic_sword_4, 80, 31),
    (item_set_slot, itm_modded_baltic_sword_4, 83, 95),
    (item_set_slot, itm_modded_baltic_sword_4, 82, 93),
    (item_set_slot, itm_modded_baltic_sword_5, 69, 200),
    (item_set_slot, itm_modded_baltic_sword_5, 68, 6),
    (item_set_slot, itm_modded_baltic_sword_5, 76, 17),
    (item_set_slot, itm_modded_baltic_sword_5, 79, 278),
    (item_set_slot, itm_modded_baltic_sword_5, 80, 45),
    (item_set_slot, itm_modded_baltic_sword_5, 83, 100),
    (item_set_slot, itm_modded_baltic_sword_5, 82, 75),
    (item_set_slot, itm_modded_falchion_1, 69, 225),
    (item_set_slot, itm_modded_falchion_1, 68, 9),
    (item_set_slot, itm_modded_falchion_1, 76, 17),
    (item_set_slot, itm_modded_falchion_1, 79, 28),
    (item_set_slot, itm_modded_falchion_1, 80, 36),
    (item_set_slot, itm_modded_falchion_1, 83, 95),
    (item_set_slot, itm_modded_falchion_1, 82, 92),
    (item_set_slot, itm_modded_falchion_2, 69, 225),
    (item_set_slot, itm_modded_falchion_2, 68, 9),
    (item_set_slot, itm_modded_falchion_2, 76, 17),
    (item_set_slot, itm_modded_falchion_2, 79, 28),
    (item_set_slot, itm_modded_falchion_2, 80, 36),
    (item_set_slot, itm_modded_falchion_2, 83, 95),
    (item_set_slot, itm_modded_falchion_2, 82, 92),
    (item_set_slot, itm_modded_falchion_3, 69, 225),
    (item_set_slot, itm_modded_falchion_3, 68, 9),
    (item_set_slot, itm_modded_falchion_3, 76, 17),
    (item_set_slot, itm_modded_falchion_3, 79, 28),
    (item_set_slot, itm_modded_falchion_3, 80, 36),
    (item_set_slot, itm_modded_falchion_3, 83, 95),
    (item_set_slot, itm_modded_falchion_3, 82, 102),
    (item_set_slot, itm_modded_arab_sword_1, 69, 225),
    (item_set_slot, itm_modded_arab_sword_1, 68, 9),
    (item_set_slot, itm_modded_arab_sword_1, 76, 17),
    (item_set_slot, itm_modded_arab_sword_1, 79, 288),
    (item_set_slot, itm_modded_arab_sword_1, 80, 46),
    (item_set_slot, itm_modded_arab_sword_1, 83, 95),
    (item_set_slot, itm_modded_arab_sword_1, 82, 96),
    (item_set_slot, itm_modded_arab_sword_2, 69, 225),
    (item_set_slot, itm_modded_arab_sword_2, 68, 9),
    (item_set_slot, itm_modded_arab_sword_2, 76, 17),
    (item_set_slot, itm_modded_arab_sword_2, 79, 288),
    (item_set_slot, itm_modded_arab_sword_2, 80, 46),
    (item_set_slot, itm_modded_arab_sword_2, 83, 95),
    (item_set_slot, itm_modded_arab_sword_2, 82, 96),
    (item_set_slot, itm_modded_arab_sword_3, 69, 225),
    (item_set_slot, itm_modded_arab_sword_3, 68, 9),
    (item_set_slot, itm_modded_arab_sword_3, 76, 17),
    (item_set_slot, itm_modded_arab_sword_3, 79, 288),
    (item_set_slot, itm_modded_arab_sword_3, 80, 46),
    (item_set_slot, itm_modded_arab_sword_3, 83, 95),
    (item_set_slot, itm_modded_arab_sword_3, 82, 96),
    (item_set_slot, itm_modded_arab_sword_4, 69, 225),
    (item_set_slot, itm_modded_arab_sword_4, 68, 9),
    (item_set_slot, itm_modded_arab_sword_4, 76, 17),
    (item_set_slot, itm_modded_arab_sword_4, 79, 288),
    (item_set_slot, itm_modded_arab_sword_4, 80, 46),
    (item_set_slot, itm_modded_arab_sword_4, 83, 95),
    (item_set_slot, itm_modded_arab_sword_4, 82, 96),
    (item_set_slot, itm_modded_arab_sword_5, 69, 225),
    (item_set_slot, itm_modded_arab_sword_5, 68, 9),
    (item_set_slot, itm_modded_arab_sword_5, 76, 17),
    (item_set_slot, itm_modded_arab_sword_5, 79, 288),
    (item_set_slot, itm_modded_arab_sword_5, 80, 46),
    (item_set_slot, itm_modded_arab_sword_5, 83, 95),
    (item_set_slot, itm_modded_arab_sword_5, 82, 96),
    (item_set_slot, itm_modded_arab_sword_6, 69, 225),
    (item_set_slot, itm_modded_arab_sword_6, 68, 9),
    (item_set_slot, itm_modded_arab_sword_6, 76, 17),
    (item_set_slot, itm_modded_arab_sword_6, 79, 288),
    (item_set_slot, itm_modded_arab_sword_6, 80, 46),
    (item_set_slot, itm_modded_arab_sword_6, 83, 95),
    (item_set_slot, itm_modded_arab_sword_6, 82, 96),
    (item_set_slot, itm_modded_club, 69, 150),
    (item_set_slot, itm_modded_club, 68, 0),
    (item_set_slot, itm_modded_club, 76, 0),
    (item_set_slot, itm_modded_club, 79, 0),
    (item_set_slot, itm_modded_club, 80, 539),
    (item_set_slot, itm_modded_club, 83, 95),
    (item_set_slot, itm_modded_club, 82, 50),
    (item_set_slot, itm_modded_mace_1, 69, 350),
    (item_set_slot, itm_modded_mace_1, 68, 9),
    (item_set_slot, itm_modded_mace_1, 76, 19),
    (item_set_slot, itm_modded_mace_1, 79, 0),
    (item_set_slot, itm_modded_mace_1, 80, 543),
    (item_set_slot, itm_modded_mace_1, 83, 85),
    (item_set_slot, itm_modded_mace_1, 82, 81),
    (item_set_slot, itm_modded_mace_2, 69, 350),
    (item_set_slot, itm_modded_mace_2, 68, 12),
    (item_set_slot, itm_modded_mace_2, 76, 19),
    (item_set_slot, itm_modded_mace_2, 79, 0),
    (item_set_slot, itm_modded_mace_2, 80, 543),
    (item_set_slot, itm_modded_mace_2, 83, 85),
    (item_set_slot, itm_modded_mace_2, 82, 90),
    (item_set_slot, itm_stones, 69, 400),
    (item_set_slot, itm_stones, 68, 0),
    (item_set_slot, itm_stones, 76, 42),
    (item_set_slot, itm_stones, 79, 516),
    (item_set_slot, itm_stones, 80, 0),
    (item_set_slot, itm_stones, 83, 97),
    (item_set_slot, itm_stones, 82, 8),
    (item_set_slot, itm_throwing_knives, 69, 350),
    (item_set_slot, itm_throwing_knives, 68, 0),
    (item_set_slot, itm_throwing_knives, 76, 42),
    (item_set_slot, itm_throwing_knives, 79, 13),
    (item_set_slot, itm_throwing_knives, 80, 0),
    (item_set_slot, itm_throwing_knives, 83, 110),
    (item_set_slot, itm_throwing_knives, 82, 0),
    (item_set_slot, itm_throwing_daggers, 69, 350),
    (item_set_slot, itm_throwing_daggers, 68, 0),
    (item_set_slot, itm_throwing_daggers, 76, 42),
    (item_set_slot, itm_throwing_daggers, 79, 15),
    (item_set_slot, itm_throwing_daggers, 80, 0),
    (item_set_slot, itm_throwing_daggers, 83, 102),
    (item_set_slot, itm_throwing_daggers, 82, 0),
    (item_set_slot, itm_throwing_spears, 69, 400),
    (item_set_slot, itm_throwing_spears, 68, 3),
    (item_set_slot, itm_throwing_spears, 76, 42),
    (item_set_slot, itm_throwing_spears, 79, 301),
    (item_set_slot, itm_throwing_spears, 80, 0),
    (item_set_slot, itm_throwing_spears, 83, 87),
    (item_set_slot, itm_throwing_spears, 82, 65),
    (item_set_slot, itm_throwing_spears_melee, 69, 100),
    (item_set_slot, itm_throwing_spears_melee, 68, 3),
    (item_set_slot, itm_throwing_spears_melee, 76, 42),
    (item_set_slot, itm_throwing_spears_melee, 79, 274),
    (item_set_slot, itm_throwing_spears_melee, 80, 16),
    (item_set_slot, itm_throwing_spears_melee, 83, 91),
    (item_set_slot, itm_throwing_spears_melee, 82, 75),
    (item_set_slot, itm_war_darts, 69, 500),
    (item_set_slot, itm_war_darts, 68, 0),
    (item_set_slot, itm_war_darts, 76, 42),
    (item_set_slot, itm_war_darts, 79, 283),
    (item_set_slot, itm_war_darts, 80, 0),
    (item_set_slot, itm_war_darts, 83, 93),
    (item_set_slot, itm_war_darts, 82, 45),
    (item_set_slot, itm_javelin, 69, 500),
    (item_set_slot, itm_javelin, 68, 2),
    (item_set_slot, itm_javelin, 76, 42),
    (item_set_slot, itm_javelin, 79, 294),
    (item_set_slot, itm_javelin, 80, 0),
    (item_set_slot, itm_javelin, 83, 89),
    (item_set_slot, itm_javelin, 82, 75),
    (item_set_slot, itm_balt_javelin, 69, 600),
    (item_set_slot, itm_balt_javelin, 68, 2),
    (item_set_slot, itm_balt_javelin, 76, 42),
    (item_set_slot, itm_balt_javelin, 79, 294),
    (item_set_slot, itm_balt_javelin, 80, 0),
    (item_set_slot, itm_balt_javelin, 83, 89),
    (item_set_slot, itm_balt_javelin, 82, 75),
    (item_set_slot, itm_jarid, 69, 400),
    (item_set_slot, itm_jarid, 68, 1),
    (item_set_slot, itm_jarid, 76, 42),
    (item_set_slot, itm_jarid, 79, 289),
    (item_set_slot, itm_jarid, 80, 0),
    (item_set_slot, itm_jarid, 83, 91),
    (item_set_slot, itm_jarid, 82, 65),
    (item_set_slot, itm_light_throwing_axes, 69, 500),
    (item_set_slot, itm_light_throwing_axes, 68, 2),
    (item_set_slot, itm_light_throwing_axes, 76, 42),
    (item_set_slot, itm_light_throwing_axes, 79, 286),
    (item_set_slot, itm_light_throwing_axes, 80, 0),
    (item_set_slot, itm_light_throwing_axes, 83, 90),
    (item_set_slot, itm_light_throwing_axes, 82, 53),
    (item_set_slot, itm_light_throwing_axes_melee, 69, 100),
    (item_set_slot, itm_light_throwing_axes_melee, 68, 2),
    (item_set_slot, itm_light_throwing_axes_melee, 76, 42),
    (item_set_slot, itm_light_throwing_axes_melee, 79, 0),
    (item_set_slot, itm_light_throwing_axes_melee, 80, 26),
    (item_set_slot, itm_light_throwing_axes_melee, 83, 99),
    (item_set_slot, itm_light_throwing_axes_melee, 82, 53),
    (item_set_slot, itm_hafted_blade_b, 69, 225),
    (item_set_slot, itm_hafted_blade_b, 68, 0),
    (item_set_slot, itm_hafted_blade_b, 76, 13),
    (item_set_slot, itm_hafted_blade_b, 79, 271),
    (item_set_slot, itm_hafted_blade_b, 80, 51),
    (item_set_slot, itm_hafted_blade_b, 83, 83),
    (item_set_slot, itm_hafted_blade_b, 82, 130),
    (item_set_slot, itm_hafted_blade_a, 69, 275),
    (item_set_slot, itm_hafted_blade_a, 68, 0),
    (item_set_slot, itm_hafted_blade_a, 76, 13),
    (item_set_slot, itm_hafted_blade_a, 79, 272),
    (item_set_slot, itm_hafted_blade_a, 80, 54),
    (item_set_slot, itm_hafted_blade_a, 83, 75),
    (item_set_slot, itm_hafted_blade_a, 82, 153),
    (item_set_slot, itm_long_spiked_club, 69, 275),
    (item_set_slot, itm_long_spiked_club, 68, 0),
    (item_set_slot, itm_long_spiked_club, 76, 18),
    (item_set_slot, itm_long_spiked_club, 79, 524),
    (item_set_slot, itm_long_spiked_club, 80, 315),
    (item_set_slot, itm_long_spiked_club, 83, 79),
    (item_set_slot, itm_long_spiked_club, 82, 126),
    (item_set_slot, itm_long_hafted_knobbed_mace, 69, 275),
    (item_set_slot, itm_long_hafted_knobbed_mace, 68, 0),
    (item_set_slot, itm_long_hafted_knobbed_mace, 76, 18),
    (item_set_slot, itm_long_hafted_knobbed_mace, 79, 519),
    (item_set_slot, itm_long_hafted_knobbed_mace, 80, 574),
    (item_set_slot, itm_long_hafted_knobbed_mace, 83, 79),
    (item_set_slot, itm_long_hafted_knobbed_mace, 82, 133),
    (item_set_slot, itm_long_hafted_spiked_mace, 69, 300),
    (item_set_slot, itm_long_hafted_spiked_mace, 68, 0),
    (item_set_slot, itm_long_hafted_spiked_mace, 76, 18),
    (item_set_slot, itm_long_hafted_spiked_mace, 79, 520),
    (item_set_slot, itm_long_hafted_spiked_mace, 80, 578),
    (item_set_slot, itm_long_hafted_spiked_mace, 83, 71),
    (item_set_slot, itm_long_hafted_spiked_mace, 82, 140),
    (item_set_slot, itm_scythe, 69, 300),
    (item_set_slot, itm_scythe, 68, 0),
    (item_set_slot, itm_scythe, 76, 13),
    (item_set_slot, itm_scythe, 79, 25),
    (item_set_slot, itm_scythe, 80, 30),
    (item_set_slot, itm_scythe, 83, 88),
    (item_set_slot, itm_scythe, 82, 182),
    (item_set_slot, itm_pitch_fork, 69, 350),
    (item_set_slot, itm_pitch_fork, 68, 0),
    (item_set_slot, itm_pitch_fork, 76, 13),
    (item_set_slot, itm_pitch_fork, 79, 279),
    (item_set_slot, itm_pitch_fork, 80, 512),
    (item_set_slot, itm_pitch_fork, 83, 91),
    (item_set_slot, itm_pitch_fork, 82, 154),
    (item_set_slot, itm_military_fork, 69, 450),
    (item_set_slot, itm_military_fork, 68, 0),
    (item_set_slot, itm_military_fork, 76, 13),
    (item_set_slot, itm_military_fork, 79, 284),
    (item_set_slot, itm_military_fork, 80, 512),
    (item_set_slot, itm_military_fork, 83, 91),
    (item_set_slot, itm_military_fork, 82, 135),
    (item_set_slot, itm_battle_fork, 69, 450),
    (item_set_slot, itm_battle_fork, 68, 0),
    (item_set_slot, itm_battle_fork, 76, 13),
    (item_set_slot, itm_battle_fork, 79, 291),
    (item_set_slot, itm_battle_fork, 80, 512),
    (item_set_slot, itm_battle_fork, 83, 93),
    (item_set_slot, itm_battle_fork, 82, 142),
    (item_set_slot, itm_glaive, 69, 275),
    (item_set_slot, itm_glaive, 68, 0),
    (item_set_slot, itm_glaive, 76, 13),
    (item_set_slot, itm_glaive, 79, 35),
    (item_set_slot, itm_glaive, 80, 52),
    (item_set_slot, itm_glaive, 83, 72),
    (item_set_slot, itm_glaive, 82, 160),
    (item_set_slot, itm_military_scythe, 69, 250),
    (item_set_slot, itm_military_scythe, 68, 10),
    (item_set_slot, itm_military_scythe, 76, 13),
    (item_set_slot, itm_military_scythe, 79, 284),
    (item_set_slot, itm_military_scythe, 80, 41),
    (item_set_slot, itm_military_scythe, 83, 89),
    (item_set_slot, itm_military_scythe, 82, 153),
    (item_set_slot, itm_bill, 69, 225),
    (item_set_slot, itm_bill, 68, 8),
    (item_set_slot, itm_bill, 76, 13),
    (item_set_slot, itm_bill, 79, 0),
    (item_set_slot, itm_bill, 80, 43),
    (item_set_slot, itm_bill, 83, 84),
    (item_set_slot, itm_bill, 82, 128),
    (item_set_slot, itm_light_lance, 69, 450),
    (item_set_slot, itm_light_lance, 68, 0),
    (item_set_slot, itm_light_lance, 76, 13),
    (item_set_slot, itm_light_lance, 79, 284),
    (item_set_slot, itm_light_lance, 80, 10),
    (item_set_slot, itm_light_lance, 83, 86),
    (item_set_slot, itm_light_lance, 82, 250),
    (item_set_slot, itm_lance, 69, 475),
    (item_set_slot, itm_lance, 68, 0),
    (item_set_slot, itm_lance, 76, 13),
    (item_set_slot, itm_lance, 79, 286),
    (item_set_slot, itm_lance, 80, 10),
    (item_set_slot, itm_lance, 83, 85),
    (item_set_slot, itm_lance, 82, 255),
    (item_set_slot, itm_heavy_lance, 69, 500),
    (item_set_slot, itm_heavy_lance, 68, 10),
    (item_set_slot, itm_heavy_lance, 76, 13),
    (item_set_slot, itm_heavy_lance, 79, 290),
    (item_set_slot, itm_heavy_lance, 80, 10),
    (item_set_slot, itm_heavy_lance, 83, 82),
    (item_set_slot, itm_heavy_lance, 82, 260),
    (item_set_slot, itm_muslim_lance, 69, 500),
    (item_set_slot, itm_muslim_lance, 68, 10),
    (item_set_slot, itm_muslim_lance, 76, 13),
    (item_set_slot, itm_muslim_lance, 79, 292),
    (item_set_slot, itm_muslim_lance, 80, 11),
    (item_set_slot, itm_muslim_lance, 83, 80),
    (item_set_slot, itm_muslim_lance, 82, 262),
    (item_set_slot, itm_heraldic_lance, 69, 525),
    (item_set_slot, itm_heraldic_lance, 68, 10),
    (item_set_slot, itm_heraldic_lance, 76, 13),
    (item_set_slot, itm_heraldic_lance, 79, 296),
    (item_set_slot, itm_heraldic_lance, 80, 10),
    (item_set_slot, itm_heraldic_lance, 83, 82),
    (item_set_slot, itm_heraldic_lance, 82, 260),
    (item_set_slot, itm_bamboo_spear, 69, 200),
    (item_set_slot, itm_bamboo_spear, 68, 0),
    (item_set_slot, itm_bamboo_spear, 76, 13),
    (item_set_slot, itm_bamboo_spear, 79, 286),
    (item_set_slot, itm_bamboo_spear, 80, 12),
    (item_set_slot, itm_bamboo_spear, 83, 87),
    (item_set_slot, itm_bamboo_spear, 82, 200),
    (item_set_slot, itm_berber_spear, 69, 200),
    (item_set_slot, itm_berber_spear, 68, 0),
    (item_set_slot, itm_berber_spear, 76, 13),
    (item_set_slot, itm_berber_spear, 79, 286),
    (item_set_slot, itm_berber_spear, 80, 12),
    (item_set_slot, itm_berber_spear, 83, 87),
    (item_set_slot, itm_berber_spear, 82, 200),
    (item_set_slot, itm_spear_a, 69, 225),
    (item_set_slot, itm_spear_a, 68, 0),
    (item_set_slot, itm_spear_a, 76, 13),
    (item_set_slot, itm_spear_a, 79, 302),
    (item_set_slot, itm_spear_a, 80, 29),
    (item_set_slot, itm_spear_a, 83, 99),
    (item_set_slot, itm_spear_a, 82, 103),
    (item_set_slot, itm_spear_b, 69, 125),
    (item_set_slot, itm_spear_b, 68, 0),
    (item_set_slot, itm_spear_b, 76, 13),
    (item_set_slot, itm_spear_b, 79, 307),
    (item_set_slot, itm_spear_b, 80, 33),
    (item_set_slot, itm_spear_b, 83, 98),
    (item_set_slot, itm_spear_b, 82, 76),
    (item_set_slot, itm_spear_c, 69, 225),
    (item_set_slot, itm_spear_c, 68, 0),
    (item_set_slot, itm_spear_c, 76, 13),
    (item_set_slot, itm_spear_c, 79, 301),
    (item_set_slot, itm_spear_c, 80, 28),
    (item_set_slot, itm_spear_c, 83, 99),
    (item_set_slot, itm_spear_c, 82, 105),
    (item_set_slot, itm_spear_d, 69, 275),
    (item_set_slot, itm_spear_d, 68, 0),
    (item_set_slot, itm_spear_d, 76, 13),
    (item_set_slot, itm_spear_d, 79, 297),
    (item_set_slot, itm_spear_d, 80, 23),
    (item_set_slot, itm_spear_d, 83, 91),
    (item_set_slot, itm_spear_d, 82, 124),
    (item_set_slot, itm_spear_e, 69, 275),
    (item_set_slot, itm_spear_e, 68, 0),
    (item_set_slot, itm_spear_e, 76, 13),
    (item_set_slot, itm_spear_e, 79, 297),
    (item_set_slot, itm_spear_e, 80, 23),
    (item_set_slot, itm_spear_e, 83, 91),
    (item_set_slot, itm_spear_e, 82, 121),
    (item_set_slot, itm_spear_f, 69, 225),
    (item_set_slot, itm_spear_f, 68, 0),
    (item_set_slot, itm_spear_f, 76, 13),
    (item_set_slot, itm_spear_f, 79, 288),
    (item_set_slot, itm_spear_f, 80, 29),
    (item_set_slot, itm_spear_f, 83, 89),
    (item_set_slot, itm_spear_f, 82, 155),
    (item_set_slot, itm_spear_g, 69, 225),
    (item_set_slot, itm_spear_g, 68, 0),
    (item_set_slot, itm_spear_g, 76, 13),
    (item_set_slot, itm_spear_g, 79, 302),
    (item_set_slot, itm_spear_g, 80, 29),
    (item_set_slot, itm_spear_g, 83, 95),
    (item_set_slot, itm_spear_g, 82, 105),
    (item_set_slot, itm_spear_h, 69, 275),
    (item_set_slot, itm_spear_h, 68, 0),
    (item_set_slot, itm_spear_h, 76, 13),
    (item_set_slot, itm_spear_h, 79, 289),
    (item_set_slot, itm_spear_h, 80, 22),
    (item_set_slot, itm_spear_h, 83, 90),
    (item_set_slot, itm_spear_h, 82, 152),
    (item_set_slot, itm_spear_i, 69, 250),
    (item_set_slot, itm_spear_i, 68, 0),
    (item_set_slot, itm_spear_i, 76, 13),
    (item_set_slot, itm_spear_i, 79, 297),
    (item_set_slot, itm_spear_i, 80, 25),
    (item_set_slot, itm_spear_i, 83, 91),
    (item_set_slot, itm_spear_i, 82, 126),
    (item_set_slot, itm_spear_j, 69, 350),
    (item_set_slot, itm_spear_j, 68, 0),
    (item_set_slot, itm_spear_j, 76, 13),
    (item_set_slot, itm_spear_j, 79, 286),
    (item_set_slot, itm_spear_j, 80, 17),
    (item_set_slot, itm_spear_j, 83, 91),
    (item_set_slot, itm_spear_j, 82, 192),
    (item_set_slot, itm_spear_k, 69, 350),
    (item_set_slot, itm_spear_k, 68, 0),
    (item_set_slot, itm_spear_k, 76, 13),
    (item_set_slot, itm_spear_k, 79, 288),
    (item_set_slot, itm_spear_k, 80, 18),
    (item_set_slot, itm_spear_k, 83, 92),
    (item_set_slot, itm_spear_k, 82, 187),
    (item_set_slot, itm_spear_l, 69, 375),
    (item_set_slot, itm_spear_l, 68, 0),
    (item_set_slot, itm_spear_l, 76, 13),
    (item_set_slot, itm_spear_l, 79, 284),
    (item_set_slot, itm_spear_l, 80, 16),
    (item_set_slot, itm_spear_l, 83, 91),
    (item_set_slot, itm_spear_l, 82, 195),
    (item_set_slot, itm_spear_m, 69, 275),
    (item_set_slot, itm_spear_m, 68, 0),
    (item_set_slot, itm_spear_m, 76, 13),
    (item_set_slot, itm_spear_m, 79, 297),
    (item_set_slot, itm_spear_m, 80, 24),
    (item_set_slot, itm_spear_m, 83, 93),
    (item_set_slot, itm_spear_m, 82, 119),
    (item_set_slot, itm_spear_n, 69, 375),
    (item_set_slot, itm_spear_n, 68, 0),
    (item_set_slot, itm_spear_n, 76, 13),
    (item_set_slot, itm_spear_n, 79, 285),
    (item_set_slot, itm_spear_n, 80, 16),
    (item_set_slot, itm_spear_n, 83, 88),
    (item_set_slot, itm_spear_n, 82, 193),
    (item_set_slot, itm_spear_o, 69, 275),
    (item_set_slot, itm_spear_o, 68, 0),
    (item_set_slot, itm_spear_o, 76, 13),
    (item_set_slot, itm_spear_o, 79, 297),
    (item_set_slot, itm_spear_o, 80, 23),
    (item_set_slot, itm_spear_o, 83, 112),
    (item_set_slot, itm_spear_o, 82, 120),
    (item_set_slot, itm_spear_p, 69, 225),
    (item_set_slot, itm_spear_p, 68, 0),
    (item_set_slot, itm_spear_p, 76, 13),
    (item_set_slot, itm_spear_p, 79, 299),
    (item_set_slot, itm_spear_p, 80, 27),
    (item_set_slot, itm_spear_p, 83, 94),
    (item_set_slot, itm_spear_p, 82, 108),
    (item_set_slot, itm_rohatyna, 69, 250),
    (item_set_slot, itm_rohatyna, 68, 8),
    (item_set_slot, itm_rohatyna, 76, 13),
    (item_set_slot, itm_rohatyna, 79, 295),
    (item_set_slot, itm_rohatyna, 80, 32),
    (item_set_slot, itm_rohatyna, 83, 95),
    (item_set_slot, itm_rohatyna, 82, 155),
    (item_set_slot, itm_staff, 69, 150),
    (item_set_slot, itm_staff, 68, 0),
    (item_set_slot, itm_staff, 76, 13),
    (item_set_slot, itm_staff, 79, 520),
    (item_set_slot, itm_staff, 80, 522),
    (item_set_slot, itm_staff, 83, 94),
    (item_set_slot, itm_staff, 82, 128),
    (item_set_slot, itm_quarter_staff, 69, 200),
    (item_set_slot, itm_quarter_staff, 68, 0),
    (item_set_slot, itm_quarter_staff, 76, 13),
    (item_set_slot, itm_quarter_staff, 79, 522),
    (item_set_slot, itm_quarter_staff, 80, 525),
    (item_set_slot, itm_quarter_staff, 83, 93),
    (item_set_slot, itm_quarter_staff, 82, 137),
    (item_set_slot, itm_iron_staff, 69, 200),
    (item_set_slot, itm_iron_staff, 68, 0),
    (item_set_slot, itm_iron_staff, 76, 13),
    (item_set_slot, itm_iron_staff, 79, 524),
    (item_set_slot, itm_iron_staff, 80, 529),
    (item_set_slot, itm_iron_staff, 83, 89),
    (item_set_slot, itm_iron_staff, 82, 128),
    (item_set_slot, itm_bishop_staff, 69, 350),
    (item_set_slot, itm_bishop_staff, 68, 0),
    (item_set_slot, itm_bishop_staff, 76, 0),
    (item_set_slot, itm_bishop_staff, 79, 512),
    (item_set_slot, itm_bishop_staff, 80, 512),
    (item_set_slot, itm_bishop_staff, 83, 120),
    (item_set_slot, itm_bishop_staff, 82, 115),
    (item_set_slot, itm_modded_billhook_fork_1, 69, 575),
    (item_set_slot, itm_modded_billhook_fork_1, 68, 12),
    (item_set_slot, itm_modded_billhook_fork_1, 76, 13),
    (item_set_slot, itm_modded_billhook_fork_1, 73, 1),
    (item_set_slot, itm_modded_billhook_fork_1, 79, 295),
    (item_set_slot, itm_modded_billhook_fork_1, 80, 29),
    (item_set_slot, itm_modded_billhook_fork_1, 83, 71),
    (item_set_slot, itm_modded_billhook_fork_1, 82, 198),
    (item_set_slot, itm_modded_billhook_fork_2, 69, 575),
    (item_set_slot, itm_modded_billhook_fork_2, 68, 12),
    (item_set_slot, itm_modded_billhook_fork_2, 76, 13),
    (item_set_slot, itm_modded_billhook_fork_2, 73, 1),
    (item_set_slot, itm_modded_billhook_fork_2, 79, 295),
    (item_set_slot, itm_modded_billhook_fork_2, 80, 29),
    (item_set_slot, itm_modded_billhook_fork_2, 83, 71),
    (item_set_slot, itm_modded_billhook_fork_2, 82, 198),
    (item_set_slot, itm_modded_fauchard_1, 69, 550),
    (item_set_slot, itm_modded_fauchard_1, 68, 12),
    (item_set_slot, itm_modded_fauchard_1, 76, 13),
    (item_set_slot, itm_modded_fauchard_1, 73, 1),
    (item_set_slot, itm_modded_fauchard_1, 79, 294),
    (item_set_slot, itm_modded_fauchard_1, 80, 28),
    (item_set_slot, itm_modded_fauchard_1, 83, 72),
    (item_set_slot, itm_modded_fauchard_1, 82, 186),
    (item_set_slot, itm_modded_fauchard_2, 69, 525),
    (item_set_slot, itm_modded_fauchard_2, 68, 12),
    (item_set_slot, itm_modded_fauchard_2, 76, 13),
    (item_set_slot, itm_modded_fauchard_2, 73, 1),
    (item_set_slot, itm_modded_fauchard_2, 79, 293),
    (item_set_slot, itm_modded_fauchard_2, 80, 31),
    (item_set_slot, itm_modded_fauchard_2, 83, 73),
    (item_set_slot, itm_modded_fauchard_2, 82, 171),
    (item_set_slot, itm_modded_fauchard_3, 69, 575),
    (item_set_slot, itm_modded_fauchard_3, 68, 12),
    (item_set_slot, itm_modded_fauchard_3, 76, 13),
    (item_set_slot, itm_modded_fauchard_3, 73, 1),
    (item_set_slot, itm_modded_fauchard_3, 79, 295),
    (item_set_slot, itm_modded_fauchard_3, 80, 29),
    (item_set_slot, itm_modded_fauchard_3, 83, 71),
    (item_set_slot, itm_modded_fauchard_3, 82, 197),
    (item_set_slot, itm_modded_fauchard_4, 69, 600),
    (item_set_slot, itm_modded_fauchard_4, 68, 12),
    (item_set_slot, itm_modded_fauchard_4, 76, 13),
    (item_set_slot, itm_modded_fauchard_4, 73, 1),
    (item_set_slot, itm_modded_fauchard_4, 79, 296),
    (item_set_slot, itm_modded_fauchard_4, 80, 31),
    (item_set_slot, itm_modded_fauchard_4, 83, 70),
    (item_set_slot, itm_modded_fauchard_4, 82, 200),
    (item_set_slot, itm_modded_glaive_1, 69, 500),
    (item_set_slot, itm_modded_glaive_1, 68, 12),
    (item_set_slot, itm_modded_glaive_1, 76, 13),
    (item_set_slot, itm_modded_glaive_1, 73, 1),
    (item_set_slot, itm_modded_glaive_1, 79, 292),
    (item_set_slot, itm_modded_glaive_1, 80, 56),
    (item_set_slot, itm_modded_glaive_1, 83, 74),
    (item_set_slot, itm_modded_glaive_1, 82, 169),
    (item_set_slot, itm_modded_glaive_fork_1, 69, 650),
    (item_set_slot, itm_modded_glaive_fork_1, 68, 12),
    (item_set_slot, itm_modded_glaive_fork_1, 76, 13),
    (item_set_slot, itm_modded_glaive_fork_1, 73, 1),
    (item_set_slot, itm_modded_glaive_fork_1, 79, 299),
    (item_set_slot, itm_modded_glaive_fork_1, 80, 29),
    (item_set_slot, itm_modded_glaive_fork_1, 83, 67),
    (item_set_slot, itm_modded_glaive_fork_1, 82, 230),
    (item_set_slot, itm_modded_glaive_fork_2, 69, 550),
    (item_set_slot, itm_modded_glaive_fork_2, 68, 12),
    (item_set_slot, itm_modded_glaive_fork_2, 76, 13),
    (item_set_slot, itm_modded_glaive_fork_2, 73, 1),
    (item_set_slot, itm_modded_glaive_fork_2, 79, 294),
    (item_set_slot, itm_modded_glaive_fork_2, 80, 29),
    (item_set_slot, itm_modded_glaive_fork_2, 83, 72),
    (item_set_slot, itm_modded_glaive_fork_2, 82, 188),
    (item_set_slot, itm_modded_glaive_roundel, 69, 475),
    (item_set_slot, itm_modded_glaive_roundel, 68, 12),
    (item_set_slot, itm_modded_glaive_roundel, 76, 13),
    (item_set_slot, itm_modded_glaive_roundel, 73, 1),
    (item_set_slot, itm_modded_glaive_roundel, 79, 290),
    (item_set_slot, itm_modded_glaive_roundel, 80, 63),
    (item_set_slot, itm_modded_glaive_roundel, 83, 76),
    (item_set_slot, itm_modded_glaive_roundel, 82, 149),
    (item_set_slot, itm_modded_bill_1, 69, 600),
    (item_set_slot, itm_modded_bill_1, 68, 12),
    (item_set_slot, itm_modded_bill_1, 76, 13),
    (item_set_slot, itm_modded_bill_1, 73, 1),
    (item_set_slot, itm_modded_bill_1, 79, 297),
    (item_set_slot, itm_modded_bill_1, 80, 63),
    (item_set_slot, itm_modded_bill_1, 83, 69),
    (item_set_slot, itm_modded_bill_1, 82, 215),
    (item_set_slot, itm_modded_bill_2, 69, 650),
    (item_set_slot, itm_modded_bill_2, 68, 12),
    (item_set_slot, itm_modded_bill_2, 76, 13),
    (item_set_slot, itm_modded_bill_2, 73, 1),
    (item_set_slot, itm_modded_bill_2, 79, 299),
    (item_set_slot, itm_modded_bill_2, 80, 63),
    (item_set_slot, itm_modded_bill_2, 83, 67),
    (item_set_slot, itm_modded_bill_2, 82, 231),
    (item_set_slot, itm_modded_billhook_1, 69, 600),
    (item_set_slot, itm_modded_billhook_1, 68, 12),
    (item_set_slot, itm_modded_billhook_1, 76, 19),
    (item_set_slot, itm_modded_billhook_1, 73, 1),
    (item_set_slot, itm_modded_billhook_1, 79, 537),
    (item_set_slot, itm_modded_billhook_1, 80, 29),
    (item_set_slot, itm_modded_billhook_1, 83, 70),
    (item_set_slot, itm_modded_billhook_1, 82, 207),
    (item_set_slot, itm_modded_billhook_2, 69, 525),
    (item_set_slot, itm_modded_billhook_2, 68, 12),
    (item_set_slot, itm_modded_billhook_2, 76, 19),
    (item_set_slot, itm_modded_billhook_2, 73, 1),
    (item_set_slot, itm_modded_billhook_2, 79, 535),
    (item_set_slot, itm_modded_billhook_2, 80, 29),
    (item_set_slot, itm_modded_billhook_2, 83, 73),
    (item_set_slot, itm_modded_billhook_2, 82, 172),
    (item_set_slot, itm_modded_billhook_3, 69, 500),
    (item_set_slot, itm_modded_billhook_3, 68, 12),
    (item_set_slot, itm_modded_billhook_3, 76, 19),
    (item_set_slot, itm_modded_billhook_3, 73, 1),
    (item_set_slot, itm_modded_billhook_3, 79, 534),
    (item_set_slot, itm_modded_billhook_3, 80, 31),
    (item_set_slot, itm_modded_billhook_3, 83, 75),
    (item_set_slot, itm_modded_billhook_3, 82, 152),
    (item_set_slot, itm_modded_voulge, 69, 600),
    (item_set_slot, itm_modded_voulge, 68, 12),
    (item_set_slot, itm_modded_voulge, 76, 13),
    (item_set_slot, itm_modded_voulge, 73, 1),
    (item_set_slot, itm_modded_voulge, 79, 296),
    (item_set_slot, itm_modded_voulge, 80, 59),
    (item_set_slot, itm_modded_voulge, 83, 70),
    (item_set_slot, itm_modded_voulge, 82, 200),
    (item_set_slot, itm_modded_spiked_voulge, 69, 550),
    (item_set_slot, itm_modded_spiked_voulge, 68, 12),
    (item_set_slot, itm_modded_spiked_voulge, 76, 13),
    (item_set_slot, itm_modded_spiked_voulge, 73, 1),
    (item_set_slot, itm_modded_spiked_voulge, 79, 294),
    (item_set_slot, itm_modded_spiked_voulge, 80, 59),
    (item_set_slot, itm_modded_spiked_voulge, 83, 72),
    (item_set_slot, itm_modded_spiked_voulge, 82, 182),
    (item_set_slot, itm_modded_cleaving_voulge, 69, 500),
    (item_set_slot, itm_modded_cleaving_voulge, 68, 12),
    (item_set_slot, itm_modded_cleaving_voulge, 76, 19),
    (item_set_slot, itm_modded_cleaving_voulge, 73, 1),
    (item_set_slot, itm_modded_cleaving_voulge, 79, 45),
    (item_set_slot, itm_modded_cleaving_voulge, 80, 31),
    (item_set_slot, itm_modded_cleaving_voulge, 83, 75),
    (item_set_slot, itm_modded_cleaving_voulge, 82, 152),
    (item_set_slot, itm_modded_hooked_voulge_1, 69, 575),
    (item_set_slot, itm_modded_hooked_voulge_1, 68, 12),
    (item_set_slot, itm_modded_hooked_voulge_1, 76, 13),
    (item_set_slot, itm_modded_hooked_voulge_1, 73, 1),
    (item_set_slot, itm_modded_hooked_voulge_1, 79, 295),
    (item_set_slot, itm_modded_hooked_voulge_1, 80, 56),
    (item_set_slot, itm_modded_hooked_voulge_1, 83, 71),
    (item_set_slot, itm_modded_hooked_voulge_1, 82, 192),
    (item_set_slot, itm_modded_hooked_voulge_2, 69, 550),
    (item_set_slot, itm_modded_hooked_voulge_2, 68, 12),
    (item_set_slot, itm_modded_hooked_voulge_2, 76, 19),
    (item_set_slot, itm_modded_hooked_voulge_2, 73, 1),
    (item_set_slot, itm_modded_hooked_voulge_2, 79, 536),
    (item_set_slot, itm_modded_hooked_voulge_2, 80, 56),
    (item_set_slot, itm_modded_hooked_voulge_2, 83, 72),
    (item_set_slot, itm_modded_hooked_voulge_2, 82, 186),
    (item_set_slot, itm_modded_hooked_voulge_3, 69, 525),
    (item_set_slot, itm_modded_hooked_voulge_3, 68, 12),
    (item_set_slot, itm_modded_hooked_voulge_3, 76, 19),
    (item_set_slot, itm_modded_hooked_voulge_3, 73, 1),
    (item_set_slot, itm_modded_hooked_voulge_3, 79, 535),
    (item_set_slot, itm_modded_hooked_voulge_3, 80, 63),
    (item_set_slot, itm_modded_hooked_voulge_3, 83, 73),
    (item_set_slot, itm_modded_hooked_voulge_3, 82, 192),
    (item_set_slot, itm_modded_couteau_1, 69, 475),
    (item_set_slot, itm_modded_couteau_1, 68, 12),
    (item_set_slot, itm_modded_couteau_1, 76, 13),
    (item_set_slot, itm_modded_couteau_1, 73, 1),
    (item_set_slot, itm_modded_couteau_1, 79, 293),
    (item_set_slot, itm_modded_couteau_1, 80, 29),
    (item_set_slot, itm_modded_couteau_1, 83, 73),
    (item_set_slot, itm_modded_couteau_1, 82, 177),
    (item_set_slot, itm_modded_couteau_2, 69, 575),
    (item_set_slot, itm_modded_couteau_2, 68, 12),
    (item_set_slot, itm_modded_couteau_2, 76, 13),
    (item_set_slot, itm_modded_couteau_2, 73, 1),
    (item_set_slot, itm_modded_couteau_2, 79, 295),
    (item_set_slot, itm_modded_couteau_2, 80, 29),
    (item_set_slot, itm_modded_couteau_2, 83, 71),
    (item_set_slot, itm_modded_couteau_2, 82, 196),
    (item_set_slot, itm_modded_guisarme, 69, 650),
    (item_set_slot, itm_modded_guisarme, 68, 12),
    (item_set_slot, itm_modded_guisarme, 76, 13),
    (item_set_slot, itm_modded_guisarme, 73, 1),
    (item_set_slot, itm_modded_guisarme, 79, 299),
    (item_set_slot, itm_modded_guisarme, 80, 60),
    (item_set_slot, itm_modded_guisarme, 83, 67),
    (item_set_slot, itm_modded_guisarme, 82, 232),
    (item_set_slot, itm_modded_assegai, 69, 325),
    (item_set_slot, itm_modded_assegai, 68, 9),
    (item_set_slot, itm_modded_assegai, 76, 13),
    (item_set_slot, itm_modded_assegai, 79, 43),
    (item_set_slot, itm_modded_assegai, 80, 543),
    (item_set_slot, itm_modded_assegai, 83, 87),
    (item_set_slot, itm_modded_assegai, 82, 231),
    (item_set_slot, itm_modded_pike, 69, 500),
    (item_set_slot, itm_modded_pike, 68, 12),
    (item_set_slot, itm_modded_pike, 76, 13),
    (item_set_slot, itm_modded_pike, 73, 1),
    (item_set_slot, itm_modded_pike, 79, 306),
    (item_set_slot, itm_modded_pike, 80, 527),
    (item_set_slot, itm_modded_pike, 83, 70),
    (item_set_slot, itm_modded_pike, 82, 300),
    (item_set_slot, itm_modded_war_spear, 69, 300),
    (item_set_slot, itm_modded_war_spear, 68, 9),
    (item_set_slot, itm_modded_war_spear, 76, 13),
    (item_set_slot, itm_modded_war_spear, 79, 297),
    (item_set_slot, itm_modded_war_spear, 80, 552),
    (item_set_slot, itm_modded_war_spear, 83, 89),
    (item_set_slot, itm_modded_war_spear, 82, 211),
    (item_set_slot, itm_maul, 69, 600),
    (item_set_slot, itm_maul, 68, 11),
    (item_set_slot, itm_maul, 76, 18),
    (item_set_slot, itm_maul, 79, 256),
    (item_set_slot, itm_maul, 80, 548),
    (item_set_slot, itm_maul, 83, 87),
    (item_set_slot, itm_maul, 82, 69),
    (item_set_slot, itm_sledgehammer, 69, 700),
    (item_set_slot, itm_sledgehammer, 68, 12),
    (item_set_slot, itm_sledgehammer, 76, 18),
    (item_set_slot, itm_sledgehammer, 79, 256),
    (item_set_slot, itm_sledgehammer, 80, 553),
    (item_set_slot, itm_sledgehammer, 83, 86),
    (item_set_slot, itm_sledgehammer, 82, 69),
    (item_set_slot, itm_warhammer, 69, 900),
    (item_set_slot, itm_warhammer, 68, 14),
    (item_set_slot, itm_warhammer, 76, 18),
    (item_set_slot, itm_warhammer, 79, 256),
    (item_set_slot, itm_warhammer, 80, 557),
    (item_set_slot, itm_warhammer, 83, 83),
    (item_set_slot, itm_warhammer, 82, 68),
    (item_set_slot, itm_morningstar, 69, 175),
    (item_set_slot, itm_morningstar, 68, 13),
    (item_set_slot, itm_morningstar, 76, 18),
    (item_set_slot, itm_morningstar, 78, 1),
    (item_set_slot, itm_morningstar, 79, 256),
    (item_set_slot, itm_morningstar, 80, 287),
    (item_set_slot, itm_morningstar, 83, 93),
    (item_set_slot, itm_morningstar, 82, 87),
    (item_set_slot, itm_two_handed_cleaver, 69, 225),
    (item_set_slot, itm_two_handed_cleaver, 68, 10),
    (item_set_slot, itm_two_handed_cleaver, 76, 17),
    (item_set_slot, itm_two_handed_cleaver, 79, 0),
    (item_set_slot, itm_two_handed_cleaver, 80, 45),
    (item_set_slot, itm_two_handed_cleaver, 83, 85),
    (item_set_slot, itm_two_handed_cleaver, 82, 97),
    (item_set_slot, itm_shortened_voulge, 69, 175),
    (item_set_slot, itm_shortened_voulge, 68, 10),
    (item_set_slot, itm_shortened_voulge, 76, 18),
    (item_set_slot, itm_shortened_voulge, 79, 256),
    (item_set_slot, itm_shortened_voulge, 80, 46),
    (item_set_slot, itm_shortened_voulge, 83, 93),
    (item_set_slot, itm_shortened_voulge, 82, 99),
    (item_set_slot, itm_bardiche, 69, 250),
    (item_set_slot, itm_bardiche, 68, 10),
    (item_set_slot, itm_bardiche, 76, 18),
    (item_set_slot, itm_bardiche, 79, 256),
    (item_set_slot, itm_bardiche, 80, 46),
    (item_set_slot, itm_bardiche, 83, 83),
    (item_set_slot, itm_bardiche, 82, 101),
    (item_set_slot, itm_shortened_military_scythe, 69, 200),
    (item_set_slot, itm_shortened_military_scythe, 68, 10),
    (item_set_slot, itm_shortened_military_scythe, 76, 18),
    (item_set_slot, itm_shortened_military_scythe, 79, 256),
    (item_set_slot, itm_shortened_military_scythe, 80, 48),
    (item_set_slot, itm_shortened_military_scythe, 83, 90),
    (item_set_slot, itm_shortened_military_scythe, 82, 114),
    (item_set_slot, itm_talak_bastard_sword, 69, 175),
    (item_set_slot, itm_talak_bastard_sword, 68, 9),
    (item_set_slot, itm_talak_bastard_sword, 76, 17),
    (item_set_slot, itm_talak_bastard_sword, 78, 1),
    (item_set_slot, itm_talak_bastard_sword, 79, 277),
    (item_set_slot, itm_talak_bastard_sword, 80, 42),
    (item_set_slot, itm_talak_bastard_sword, 83, 93),
    (item_set_slot, itm_talak_bastard_sword, 82, 100),
    (item_set_slot, itm_raf_two_handed_axe_a, 69, 225),
    (item_set_slot, itm_raf_two_handed_axe_a, 68, 10),
    (item_set_slot, itm_raf_two_handed_axe_a, 76, 13),
    (item_set_slot, itm_raf_two_handed_axe_a, 79, 0),
    (item_set_slot, itm_raf_two_handed_axe_a, 80, 298),
    (item_set_slot, itm_raf_two_handed_axe_a, 83, 86),
    (item_set_slot, itm_raf_two_handed_axe_a, 82, 94),
    (item_set_slot, itm_raf_two_handed_axe_b, 69, 225),
    (item_set_slot, itm_raf_two_handed_axe_b, 68, 10),
    (item_set_slot, itm_raf_two_handed_axe_b, 76, 13),
    (item_set_slot, itm_raf_two_handed_axe_b, 79, 0),
    (item_set_slot, itm_raf_two_handed_axe_b, 80, 298),
    (item_set_slot, itm_raf_two_handed_axe_b, 83, 86),
    (item_set_slot, itm_raf_two_handed_axe_b, 82, 94),
    (item_set_slot, itm_raf_two_handed_axe_c, 69, 225),
    (item_set_slot, itm_raf_two_handed_axe_c, 68, 12),
    (item_set_slot, itm_raf_two_handed_axe_c, 76, 13),
    (item_set_slot, itm_raf_two_handed_axe_c, 79, 0),
    (item_set_slot, itm_raf_two_handed_axe_c, 80, 300),
    (item_set_slot, itm_raf_two_handed_axe_c, 83, 84),
    (item_set_slot, itm_raf_two_handed_axe_c, 82, 98),
    (item_set_slot, itm_long_axe, 69, 275),
    (item_set_slot, itm_long_axe, 68, 10),
    (item_set_slot, itm_long_axe, 76, 18),
    (item_set_slot, itm_long_axe, 79, 531),
    (item_set_slot, itm_long_axe, 80, 53),
    (item_set_slot, itm_long_axe, 83, 75),
    (item_set_slot, itm_long_axe, 82, 115),
    (item_set_slot, itm_long_axe_alt, 69, 275),
    (item_set_slot, itm_long_axe_alt, 68, 10),
    (item_set_slot, itm_long_axe_alt, 76, 18),
    (item_set_slot, itm_long_axe_alt, 79, 256),
    (item_set_slot, itm_long_axe_alt, 80, 53),
    (item_set_slot, itm_long_axe_alt, 83, 75),
    (item_set_slot, itm_long_axe_alt, 82, 115),
    (item_set_slot, itm_long_axe_b, 69, 300),
    (item_set_slot, itm_long_axe_b, 68, 10),
    (item_set_slot, itm_long_axe_b, 76, 18),
    (item_set_slot, itm_long_axe_b, 79, 530),
    (item_set_slot, itm_long_axe_b, 80, 57),
    (item_set_slot, itm_long_axe_b, 83, 71),
    (item_set_slot, itm_long_axe_b, 82, 122),
    (item_set_slot, itm_long_axe_b_alt, 69, 300),
    (item_set_slot, itm_long_axe_b_alt, 68, 10),
    (item_set_slot, itm_long_axe_b_alt, 76, 18),
    (item_set_slot, itm_long_axe_b_alt, 79, 256),
    (item_set_slot, itm_long_axe_b_alt, 80, 57),
    (item_set_slot, itm_long_axe_b_alt, 83, 71),
    (item_set_slot, itm_long_axe_b_alt, 82, 122),
    (item_set_slot, itm_club_with_spike_head, 69, 250),
    (item_set_slot, itm_club_with_spike_head, 68, 9),
    (item_set_slot, itm_club_with_spike_head, 76, 18),
    (item_set_slot, itm_club_with_spike_head, 78, 1),
    (item_set_slot, itm_club_with_spike_head, 79, 280),
    (item_set_slot, itm_club_with_spike_head, 80, 533),
    (item_set_slot, itm_club_with_spike_head, 83, 72),
    (item_set_slot, itm_club_with_spike_head, 82, 115),
    (item_set_slot, itm_studded_club, 69, 200),
    (item_set_slot, itm_studded_club, 68, 8),
    (item_set_slot, itm_studded_club, 76, 18),
    (item_set_slot, itm_studded_club, 79, 526),
    (item_set_slot, itm_studded_club, 80, 548),
    (item_set_slot, itm_studded_club, 83, 92),
    (item_set_slot, itm_studded_club, 82, 92),
    (item_set_slot, itm_modded_club_1, 69, 300),
    (item_set_slot, itm_modded_club_1, 68, 6),
    (item_set_slot, itm_modded_club_1, 76, 19),
    (item_set_slot, itm_modded_club_1, 73, 1),
    (item_set_slot, itm_modded_club_1, 79, 536),
    (item_set_slot, itm_modded_club_1, 80, 539),
    (item_set_slot, itm_modded_club_1, 83, 82),
    (item_set_slot, itm_modded_club_1, 82, 87),
    (item_set_slot, itm_red_hose, 69, 100),
    (item_set_slot, itm_red_hose, 68, 0),
    (item_set_slot, itm_red_hose, 70, 0),
    (item_set_slot, itm_red_hose, 76, 26),
    (item_set_slot, itm_red_hose, 79, 0),
    (item_set_slot, itm_red_hose, 80, 0),
    (item_set_slot, itm_red_hose, 81, 2),
    (item_set_slot, itm_green_hose, 69, 100),
    (item_set_slot, itm_green_hose, 68, 0),
    (item_set_slot, itm_green_hose, 70, 0),
    (item_set_slot, itm_green_hose, 76, 26),
    (item_set_slot, itm_green_hose, 79, 0),
    (item_set_slot, itm_green_hose, 80, 0),
    (item_set_slot, itm_green_hose, 81, 2),
    (item_set_slot, itm_grey_hose, 69, 100),
    (item_set_slot, itm_grey_hose, 68, 0),
    (item_set_slot, itm_grey_hose, 70, 0),
    (item_set_slot, itm_grey_hose, 76, 26),
    (item_set_slot, itm_grey_hose, 79, 0),
    (item_set_slot, itm_grey_hose, 80, 0),
    (item_set_slot, itm_grey_hose, 81, 2),
    (item_set_slot, itm_dark_grey_hose, 69, 100),
    (item_set_slot, itm_dark_grey_hose, 68, 0),
    (item_set_slot, itm_dark_grey_hose, 70, 0),
    (item_set_slot, itm_dark_grey_hose, 76, 26),
    (item_set_slot, itm_dark_grey_hose, 79, 0),
    (item_set_slot, itm_dark_grey_hose, 80, 0),
    (item_set_slot, itm_dark_grey_hose, 81, 2),
    (item_set_slot, itm_yellow_hose, 69, 100),
    (item_set_slot, itm_yellow_hose, 68, 0),
    (item_set_slot, itm_yellow_hose, 70, 0),
    (item_set_slot, itm_yellow_hose, 76, 26),
    (item_set_slot, itm_yellow_hose, 79, 0),
    (item_set_slot, itm_yellow_hose, 80, 0),
    (item_set_slot, itm_yellow_hose, 81, 2),
    (item_set_slot, itm_green_hose_b, 69, 100),
    (item_set_slot, itm_green_hose_b, 68, 0),
    (item_set_slot, itm_green_hose_b, 70, 0),
    (item_set_slot, itm_green_hose_b, 76, 26),
    (item_set_slot, itm_green_hose_b, 79, 0),
    (item_set_slot, itm_green_hose_b, 80, 0),
    (item_set_slot, itm_green_hose_b, 81, 2),
    (item_set_slot, itm_tied_up_shoes, 69, 100),
    (item_set_slot, itm_tied_up_shoes, 68, 0),
    (item_set_slot, itm_tied_up_shoes, 70, 0),
    (item_set_slot, itm_tied_up_shoes, 76, 26),
    (item_set_slot, itm_tied_up_shoes, 79, 0),
    (item_set_slot, itm_tied_up_shoes, 80, 0),
    (item_set_slot, itm_tied_up_shoes, 81, 2),
    (item_set_slot, itm_blue_hose_mod, 69, 100),
    (item_set_slot, itm_blue_hose_mod, 68, 0),
    (item_set_slot, itm_blue_hose_mod, 70, 0),
    (item_set_slot, itm_blue_hose_mod, 76, 26),
    (item_set_slot, itm_blue_hose_mod, 79, 0),
    (item_set_slot, itm_blue_hose_mod, 80, 0),
    (item_set_slot, itm_blue_hose_mod, 81, 2),
    (item_set_slot, itm_blue_hose, 69, 100),
    (item_set_slot, itm_blue_hose, 68, 0),
    (item_set_slot, itm_blue_hose, 70, 0),
    (item_set_slot, itm_blue_hose, 76, 26),
    (item_set_slot, itm_blue_hose, 79, 0),
    (item_set_slot, itm_blue_hose, 80, 0),
    (item_set_slot, itm_blue_hose, 81, 2),
    (item_set_slot, itm_berber_shoes, 69, 100),
    (item_set_slot, itm_berber_shoes, 68, 0),
    (item_set_slot, itm_berber_shoes, 70, 0),
    (item_set_slot, itm_berber_shoes, 76, 26),
    (item_set_slot, itm_berber_shoes, 79, 0),
    (item_set_slot, itm_berber_shoes, 80, 0),
    (item_set_slot, itm_berber_shoes, 81, 0),
    (item_set_slot, itm_legs_with_shoes, 69, 100),
    (item_set_slot, itm_legs_with_shoes, 68, 0),
    (item_set_slot, itm_legs_with_shoes, 70, 0),
    (item_set_slot, itm_legs_with_shoes, 76, 26),
    (item_set_slot, itm_legs_with_shoes, 79, 0),
    (item_set_slot, itm_legs_with_shoes, 80, 0),
    (item_set_slot, itm_legs_with_shoes, 81, 0),
    (item_set_slot, itm_bare_legs, 69, 100),
    (item_set_slot, itm_bare_legs, 68, 0),
    (item_set_slot, itm_bare_legs, 70, 0),
    (item_set_slot, itm_bare_legs, 76, 26),
    (item_set_slot, itm_bare_legs, 79, 0),
    (item_set_slot, itm_bare_legs, 80, 0),
    (item_set_slot, itm_bare_legs, 81, 0),
    (item_set_slot, itm_shoes, 69, 100),
    (item_set_slot, itm_shoes, 68, 0),
    (item_set_slot, itm_shoes, 70, 0),
    (item_set_slot, itm_shoes, 76, 26),
    (item_set_slot, itm_shoes, 79, 0),
    (item_set_slot, itm_shoes, 80, 0),
    (item_set_slot, itm_shoes, 81, 0),
    (item_set_slot, itm_highlander_boots_1, 69, 125),
    (item_set_slot, itm_highlander_boots_1, 68, 0),
    (item_set_slot, itm_highlander_boots_1, 70, 0),
    (item_set_slot, itm_highlander_boots_1, 76, 26),
    (item_set_slot, itm_highlander_boots_1, 79, 0),
    (item_set_slot, itm_highlander_boots_1, 80, 0),
    (item_set_slot, itm_highlander_boots_1, 81, 8),
    (item_set_slot, itm_leather_fur_boots, 69, 100),
    (item_set_slot, itm_leather_fur_boots, 68, 0),
    (item_set_slot, itm_leather_fur_boots, 70, 0),
    (item_set_slot, itm_leather_fur_boots, 76, 26),
    (item_set_slot, itm_leather_fur_boots, 79, 0),
    (item_set_slot, itm_leather_fur_boots, 80, 0),
    (item_set_slot, itm_leather_fur_boots, 81, 4),
    (item_set_slot, itm_rus_cav_boots, 69, 125),
    (item_set_slot, itm_rus_cav_boots, 68, 0),
    (item_set_slot, itm_rus_cav_boots, 70, 0),
    (item_set_slot, itm_rus_cav_boots, 76, 26),
    (item_set_slot, itm_rus_cav_boots, 79, 0),
    (item_set_slot, itm_rus_cav_boots, 80, 0),
    (item_set_slot, itm_rus_cav_boots, 81, 8),
    (item_set_slot, itm_rus_boots_a, 69, 125),
    (item_set_slot, itm_rus_boots_a, 68, 0),
    (item_set_slot, itm_rus_boots_a, 70, 0),
    (item_set_slot, itm_rus_boots_a, 76, 26),
    (item_set_slot, itm_rus_boots_a, 79, 0),
    (item_set_slot, itm_rus_boots_a, 80, 0),
    (item_set_slot, itm_rus_boots_a, 81, 8),
    (item_set_slot, itm_rus_boots_b, 69, 125),
    (item_set_slot, itm_rus_boots_b, 68, 0),
    (item_set_slot, itm_rus_boots_b, 70, 0),
    (item_set_slot, itm_rus_boots_b, 76, 26),
    (item_set_slot, itm_rus_boots_b, 79, 0),
    (item_set_slot, itm_rus_boots_b, 80, 0),
    (item_set_slot, itm_rus_boots_b, 81, 8),
    (item_set_slot, itm_byz_boots_c, 69, 125),
    (item_set_slot, itm_byz_boots_c, 68, 0),
    (item_set_slot, itm_byz_boots_c, 70, 0),
    (item_set_slot, itm_byz_boots_c, 76, 26),
    (item_set_slot, itm_byz_boots_c, 79, 0),
    (item_set_slot, itm_byz_boots_c, 80, 0),
    (item_set_slot, itm_byz_boots_c, 81, 8),
    (item_set_slot, itm_wrapping_boots, 69, 100),
    (item_set_slot, itm_wrapping_boots, 68, 0),
    (item_set_slot, itm_wrapping_boots, 70, 0),
    (item_set_slot, itm_wrapping_boots, 76, 26),
    (item_set_slot, itm_wrapping_boots, 79, 0),
    (item_set_slot, itm_wrapping_boots, 80, 0),
    (item_set_slot, itm_wrapping_boots, 81, 2),
    (item_set_slot, itm_woolen_hose, 69, 100),
    (item_set_slot, itm_woolen_hose, 68, 0),
    (item_set_slot, itm_woolen_hose, 70, 0),
    (item_set_slot, itm_woolen_hose, 76, 26),
    (item_set_slot, itm_woolen_hose, 79, 0),
    (item_set_slot, itm_woolen_hose, 80, 0),
    (item_set_slot, itm_woolen_hose, 81, 2),
    (item_set_slot, itm_hunter_boots, 69, 125),
    (item_set_slot, itm_hunter_boots, 68, 0),
    (item_set_slot, itm_hunter_boots, 70, 0),
    (item_set_slot, itm_hunter_boots, 76, 26),
    (item_set_slot, itm_hunter_boots, 79, 0),
    (item_set_slot, itm_hunter_boots, 80, 0),
    (item_set_slot, itm_hunter_boots, 81, 9),
    (item_set_slot, itm_hide_boots, 69, 100),
    (item_set_slot, itm_hide_boots, 68, 0),
    (item_set_slot, itm_hide_boots, 70, 0),
    (item_set_slot, itm_hide_boots, 76, 26),
    (item_set_slot, itm_hide_boots, 79, 0),
    (item_set_slot, itm_hide_boots, 80, 0),
    (item_set_slot, itm_hide_boots, 81, 8),
    (item_set_slot, itm_ankle_boots, 69, 100),
    (item_set_slot, itm_ankle_boots, 68, 0),
    (item_set_slot, itm_ankle_boots, 70, 0),
    (item_set_slot, itm_ankle_boots, 76, 26),
    (item_set_slot, itm_ankle_boots, 79, 0),
    (item_set_slot, itm_ankle_boots, 80, 0),
    (item_set_slot, itm_ankle_boots, 81, 6),
    (item_set_slot, itm_leather_boots, 69, 125),
    (item_set_slot, itm_leather_boots, 68, 0),
    (item_set_slot, itm_leather_boots, 70, 0),
    (item_set_slot, itm_leather_boots, 76, 26),
    (item_set_slot, itm_leather_boots, 79, 0),
    (item_set_slot, itm_leather_boots, 80, 0),
    (item_set_slot, itm_leather_boots, 81, 10),
    (item_set_slot, itm_cuman_boots, 69, 125),
    (item_set_slot, itm_cuman_boots, 68, 0),
    (item_set_slot, itm_cuman_boots, 70, 0),
    (item_set_slot, itm_cuman_boots, 76, 26),
    (item_set_slot, itm_cuman_boots, 79, 0),
    (item_set_slot, itm_cuman_boots, 80, 0),
    (item_set_slot, itm_cuman_boots, 81, 8),
    (item_set_slot, itm_lapcie, 69, 125),
    (item_set_slot, itm_lapcie, 68, 0),
    (item_set_slot, itm_lapcie, 70, 0),
    (item_set_slot, itm_lapcie, 76, 26),
    (item_set_slot, itm_lapcie, 79, 0),
    (item_set_slot, itm_lapcie, 80, 0),
    (item_set_slot, itm_lapcie, 81, 8),
    (item_set_slot, itm_legs_african, 69, 100),
    (item_set_slot, itm_legs_african, 68, 0),
    (item_set_slot, itm_legs_african, 70, 0),
    (item_set_slot, itm_legs_african, 76, 26),
    (item_set_slot, itm_legs_african, 79, 0),
    (item_set_slot, itm_legs_african, 80, 0),
    (item_set_slot, itm_legs_african, 81, 2),
    (item_set_slot, itm_african_trousers, 69, 100),
    (item_set_slot, itm_african_trousers, 68, 0),
    (item_set_slot, itm_african_trousers, 70, 0),
    (item_set_slot, itm_african_trousers, 76, 26),
    (item_set_slot, itm_african_trousers, 79, 0),
    (item_set_slot, itm_african_trousers, 80, 0),
    (item_set_slot, itm_african_trousers, 81, 2),
    (item_set_slot, itm_bride_shoes, 69, 100),
    (item_set_slot, itm_bride_shoes, 68, 0),
    (item_set_slot, itm_bride_shoes, 70, 0),
    (item_set_slot, itm_bride_shoes, 76, 26),
    (item_set_slot, itm_bride_shoes, 79, 0),
    (item_set_slot, itm_bride_shoes, 80, 0),
    (item_set_slot, itm_bride_shoes, 81, 8),
    (item_set_slot, itm_flag_pole_1, 69, 1650),
    (item_set_slot, itm_flag_pole_1, 68, 0),
    (item_set_slot, itm_flag_pole_1, 76, 0),
    (item_set_slot, itm_flag_pole_1, 79, 512),
    (item_set_slot, itm_flag_pole_1, 80, 512),
    (item_set_slot, itm_flag_pole_1, 83, 60),
    (item_set_slot, itm_flag_pole_1, 82, 155),
    (item_set_slot, itm_flag_pole_2, 69, 1650),
    (item_set_slot, itm_flag_pole_2, 68, 0),
    (item_set_slot, itm_flag_pole_2, 76, 0),
    (item_set_slot, itm_flag_pole_2, 79, 512),
    (item_set_slot, itm_flag_pole_2, 80, 512),
    (item_set_slot, itm_flag_pole_2, 83, 60),
    (item_set_slot, itm_flag_pole_2, 82, 155),
    (item_set_slot, itm_flag_pole_3, 69, 1650),
    (item_set_slot, itm_flag_pole_3, 68, 0),
    (item_set_slot, itm_flag_pole_3, 76, 0),
    (item_set_slot, itm_flag_pole_3, 79, 512),
    (item_set_slot, itm_flag_pole_3, 80, 512),
    (item_set_slot, itm_flag_pole_3, 83, 60),
    (item_set_slot, itm_flag_pole_3, 82, 155),
    (item_set_slot, itm_cross, 69, 1650),
    (item_set_slot, itm_cross, 68, 0),
    (item_set_slot, itm_cross, 76, 0),
    (item_set_slot, itm_cross, 79, 512),
    (item_set_slot, itm_cross, 80, 512),
    (item_set_slot, itm_cross, 83, 60),
    (item_set_slot, itm_cross, 82, 155),
    (item_set_slot, itm_torch, 69, 250),
    (item_set_slot, itm_torch, 68, 0),
    (item_set_slot, itm_torch, 76, 0),
    (item_set_slot, itm_torch, 79, 256),
    (item_set_slot, itm_torch, 80, 523),
    (item_set_slot, itm_torch, 83, 95),
    (item_set_slot, itm_torch, 82, 95),
    (item_set_slot, itm_lyre, 69, 250),
    (item_set_slot, itm_lyre, 68, 0),
    (item_set_slot, itm_lyre, 76, 0),
    (item_set_slot, itm_lyre, 82, 90),
    (item_set_slot, itm_lyre, 80, 1),
    (item_set_slot, itm_lyre, 83, 82),
    (item_set_slot, itm_lute, 69, 250),
    (item_set_slot, itm_lute, 68, 0),
    (item_set_slot, itm_lute, 76, 0),
    (item_set_slot, itm_lute, 82, 90),
    (item_set_slot, itm_lute, 80, 1),
    (item_set_slot, itm_lute, 83, 82),
    (item_set_slot, itm_keys, 69, 500),
    (item_set_slot, itm_keys, 68, 0),
    (item_set_slot, itm_keys, 76, 42),
    (item_set_slot, itm_keys, 79, 0),
    (item_set_slot, itm_keys, 80, 29),
    (item_set_slot, itm_keys, 83, 98),
    (item_set_slot, itm_keys, 82, 53),
    (item_set_slot, itm_heraldic_mail_with_surcoat_for_tableau, 69, 2200),
    (item_set_slot, itm_heraldic_mail_with_surcoat_for_tableau, 68, 0),
    (item_set_slot, itm_heraldic_mail_with_surcoat_for_tableau, 70, 1),
    (item_set_slot, itm_heraldic_mail_with_surcoat_for_tableau, 76, 29),
    (item_set_slot, itm_heraldic_mail_with_surcoat_for_tableau, 79, 0),
    (item_set_slot, itm_heraldic_mail_with_surcoat_for_tableau, 80, 1),
    (item_set_slot, itm_heraldic_mail_with_surcoat_for_tableau, 81, 1),
    (item_set_slot, itm_european_horse_bandits_a, 69, 0),
    (item_set_slot, itm_european_horse_bandits_a, 68, 1),
    (item_set_slot, itm_european_horse_bandits_a, 76, 36),
    (item_set_slot, itm_european_horse_bandits_a, 79, 40),
    (item_set_slot, itm_european_horse_bandits_a, 80, 14),
    (item_set_slot, itm_european_horse_bandits_a, 82, 9),
    (item_set_slot, itm_european_horse_bandits_b, 69, 0),
    (item_set_slot, itm_european_horse_bandits_b, 68, 1),
    (item_set_slot, itm_european_horse_bandits_b, 76, 36),
    (item_set_slot, itm_european_horse_bandits_b, 79, 40),
    (item_set_slot, itm_european_horse_bandits_b, 80, 14),
    (item_set_slot, itm_european_horse_bandits_b, 82, 9),
    (item_set_slot, itm_european_horse_bandits_c, 69, 0),
    (item_set_slot, itm_european_horse_bandits_c, 68, 1),
    (item_set_slot, itm_european_horse_bandits_c, 76, 36),
    (item_set_slot, itm_european_horse_bandits_c, 79, 40),
    (item_set_slot, itm_european_horse_bandits_c, 80, 14),
    (item_set_slot, itm_european_horse_bandits_c, 82, 9),
    (item_set_slot, itm_european_horse_bandits_d, 69, 0),
    (item_set_slot, itm_european_horse_bandits_d, 68, 1),
    (item_set_slot, itm_european_horse_bandits_d, 76, 36),
    (item_set_slot, itm_european_horse_bandits_d, 79, 40),
    (item_set_slot, itm_european_horse_bandits_d, 80, 14),
    (item_set_slot, itm_european_horse_bandits_d, 82, 9),
    (item_set_slot, itm_bandits_horse_a, 69, 0),
    (item_set_slot, itm_bandits_horse_a, 68, 1),
    (item_set_slot, itm_bandits_horse_a, 76, 36),
    (item_set_slot, itm_bandits_horse_a, 79, 40),
    (item_set_slot, itm_bandits_horse_a, 80, 14),
    (item_set_slot, itm_bandits_horse_a, 82, 9),
    (item_set_slot, itm_bandits_horse_b, 69, 0),
    (item_set_slot, itm_bandits_horse_b, 68, 1),
    (item_set_slot, itm_bandits_horse_b, 76, 36),
    (item_set_slot, itm_bandits_horse_b, 79, 40),
    (item_set_slot, itm_bandits_horse_b, 80, 14),
    (item_set_slot, itm_bandits_horse_b, 82, 9),
    (item_set_slot, itm_bandits_horse_c, 69, 0),
    (item_set_slot, itm_bandits_horse_c, 68, 1),
    (item_set_slot, itm_bandits_horse_c, 76, 36),
    (item_set_slot, itm_bandits_horse_c, 79, 40),
    (item_set_slot, itm_bandits_horse_c, 80, 14),
    (item_set_slot, itm_bandits_horse_c, 82, 9),
    (item_set_slot, itm_bandits_horse_d, 69, 0),
    (item_set_slot, itm_bandits_horse_d, 68, 1),
    (item_set_slot, itm_bandits_horse_d, 76, 36),
    (item_set_slot, itm_bandits_horse_d, 79, 40),
    (item_set_slot, itm_bandits_horse_d, 80, 14),
    (item_set_slot, itm_bandits_horse_d, 82, 9),
    (item_set_slot, itm_horse_light_a, 69, 0),
    (item_set_slot, itm_horse_light_a, 68, 1),
    (item_set_slot, itm_horse_light_a, 76, 36),
    (item_set_slot, itm_horse_light_a, 79, 40),
    (item_set_slot, itm_horse_light_a, 80, 14),
    (item_set_slot, itm_horse_light_a, 82, 9),
    (item_set_slot, itm_horse_light_b, 69, 0),
    (item_set_slot, itm_horse_light_b, 68, 1),
    (item_set_slot, itm_horse_light_b, 76, 36),
    (item_set_slot, itm_horse_light_b, 79, 40),
    (item_set_slot, itm_horse_light_b, 80, 14),
    (item_set_slot, itm_horse_light_b, 82, 9),
    (item_set_slot, itm_horse_light_c, 69, 0),
    (item_set_slot, itm_horse_light_c, 68, 1),
    (item_set_slot, itm_horse_light_c, 76, 36),
    (item_set_slot, itm_horse_light_c, 79, 40),
    (item_set_slot, itm_horse_light_c, 80, 14),
    (item_set_slot, itm_horse_light_c, 82, 9),
    (item_set_slot, itm_european_horse_a, 69, 0),
    (item_set_slot, itm_european_horse_a, 68, 3),
    (item_set_slot, itm_european_horse_a, 76, 36),
    (item_set_slot, itm_european_horse_a, 79, 45),
    (item_set_slot, itm_european_horse_a, 80, 18),
    (item_set_slot, itm_european_horse_a, 82, 28),
    (item_set_slot, itm_european_horse_b, 69, 0),
    (item_set_slot, itm_european_horse_b, 68, 3),
    (item_set_slot, itm_european_horse_b, 76, 36),
    (item_set_slot, itm_european_horse_b, 79, 45),
    (item_set_slot, itm_european_horse_b, 80, 18),
    (item_set_slot, itm_european_horse_b, 82, 28),
    (item_set_slot, itm_european_horse_c, 69, 0),
    (item_set_slot, itm_european_horse_c, 68, 3),
    (item_set_slot, itm_european_horse_c, 76, 36),
    (item_set_slot, itm_european_horse_c, 79, 45),
    (item_set_slot, itm_european_horse_c, 80, 18),
    (item_set_slot, itm_european_horse_c, 82, 28),
    (item_set_slot, itm_european_horse_d, 69, 0),
    (item_set_slot, itm_european_horse_d, 68, 3),
    (item_set_slot, itm_european_horse_d, 76, 36),
    (item_set_slot, itm_european_horse_d, 79, 45),
    (item_set_slot, itm_european_horse_d, 80, 18),
    (item_set_slot, itm_european_horse_d, 82, 28),
    (item_set_slot, itm_european_horse_e, 69, 0),
    (item_set_slot, itm_european_horse_e, 68, 3),
    (item_set_slot, itm_european_horse_e, 76, 36),
    (item_set_slot, itm_european_horse_e, 79, 45),
    (item_set_slot, itm_european_horse_e, 80, 18),
    (item_set_slot, itm_european_horse_e, 82, 28),
    (item_set_slot, itm_european_horse_f, 69, 0),
    (item_set_slot, itm_european_horse_f, 68, 3),
    (item_set_slot, itm_european_horse_f, 76, 36),
    (item_set_slot, itm_european_horse_f, 79, 45),
    (item_set_slot, itm_european_horse_f, 80, 18),
    (item_set_slot, itm_european_horse_f, 82, 28),
    (item_set_slot, itm_arabs_horse_a, 69, 0),
    (item_set_slot, itm_arabs_horse_a, 68, 3),
    (item_set_slot, itm_arabs_horse_a, 76, 36),
    (item_set_slot, itm_arabs_horse_a, 79, 44),
    (item_set_slot, itm_arabs_horse_a, 80, 15),
    (item_set_slot, itm_arabs_horse_a, 82, 16),
    (item_set_slot, itm_arabs_horse_d, 69, 0),
    (item_set_slot, itm_arabs_horse_d, 68, 3),
    (item_set_slot, itm_arabs_horse_d, 76, 36),
    (item_set_slot, itm_arabs_horse_d, 79, 44),
    (item_set_slot, itm_arabs_horse_d, 80, 15),
    (item_set_slot, itm_arabs_horse_d, 82, 16),
    (item_set_slot, itm_arabs_horse_c, 69, 0),
    (item_set_slot, itm_arabs_horse_c, 68, 3),
    (item_set_slot, itm_arabs_horse_c, 76, 36),
    (item_set_slot, itm_arabs_horse_c, 79, 44),
    (item_set_slot, itm_arabs_horse_c, 80, 15),
    (item_set_slot, itm_arabs_horse_c, 82, 16),
    (item_set_slot, itm_arabs_horse_b, 69, 0),
    (item_set_slot, itm_arabs_horse_b, 68, 3),
    (item_set_slot, itm_arabs_horse_b, 76, 36),
    (item_set_slot, itm_arabs_horse_b, 79, 44),
    (item_set_slot, itm_arabs_horse_b, 80, 15),
    (item_set_slot, itm_arabs_horse_b, 82, 16),
    (item_set_slot, itm_bedyin_camel_a, 69, 0),
    (item_set_slot, itm_bedyin_camel_a, 68, 4),
    (item_set_slot, itm_bedyin_camel_a, 76, 36),
    (item_set_slot, itm_bedyin_camel_a, 79, 35),
    (item_set_slot, itm_bedyin_camel_a, 80, 18),
    (item_set_slot, itm_bedyin_camel_a, 82, 40),
    (item_set_slot, itm_horse_tyrk_a, 69, 0),
    (item_set_slot, itm_horse_tyrk_a, 68, 3),
    (item_set_slot, itm_horse_tyrk_a, 76, 36),
    (item_set_slot, itm_horse_tyrk_a, 79, 43),
    (item_set_slot, itm_horse_tyrk_a, 80, 17),
    (item_set_slot, itm_horse_tyrk_a, 82, 24),
    (item_set_slot, itm_horse_tyrk_b, 69, 0),
    (item_set_slot, itm_horse_tyrk_b, 68, 3),
    (item_set_slot, itm_horse_tyrk_b, 76, 36),
    (item_set_slot, itm_horse_tyrk_b, 79, 43),
    (item_set_slot, itm_horse_tyrk_b, 80, 17),
    (item_set_slot, itm_horse_tyrk_b, 82, 24),
    (item_set_slot, itm_horse_tyrk_c, 69, 0),
    (item_set_slot, itm_horse_tyrk_c, 68, 3),
    (item_set_slot, itm_horse_tyrk_c, 76, 36),
    (item_set_slot, itm_horse_tyrk_c, 79, 43),
    (item_set_slot, itm_horse_tyrk_c, 80, 17),
    (item_set_slot, itm_horse_tyrk_c, 82, 24),
    (item_set_slot, itm_horse_tyrk_d, 69, 0),
    (item_set_slot, itm_horse_tyrk_d, 68, 3),
    (item_set_slot, itm_horse_tyrk_d, 76, 36),
    (item_set_slot, itm_horse_tyrk_d, 79, 43),
    (item_set_slot, itm_horse_tyrk_d, 80, 17),
    (item_set_slot, itm_horse_tyrk_d, 82, 24),
    (item_set_slot, itm_horse_tyrk_e, 69, 0),
    (item_set_slot, itm_horse_tyrk_e, 68, 3),
    (item_set_slot, itm_horse_tyrk_e, 76, 36),
    (item_set_slot, itm_horse_tyrk_e, 79, 43),
    (item_set_slot, itm_horse_tyrk_e, 80, 17),
    (item_set_slot, itm_horse_tyrk_e, 82, 24),
    (item_set_slot, itm_jerusalem_knight_horse_a, 69, 0),
    (item_set_slot, itm_jerusalem_knight_horse_a, 68, 4),
    (item_set_slot, itm_jerusalem_knight_horse_a, 76, 36),
    (item_set_slot, itm_jerusalem_knight_horse_a, 79, 38),
    (item_set_slot, itm_jerusalem_knight_horse_a, 80, 45),
    (item_set_slot, itm_jerusalem_knight_horse_a, 82, 38),
    (item_set_slot, itm_jerusalem_knight_horse_b, 69, 0),
    (item_set_slot, itm_jerusalem_knight_horse_b, 68, 4),
    (item_set_slot, itm_jerusalem_knight_horse_b, 76, 36),
    (item_set_slot, itm_jerusalem_knight_horse_b, 79, 38),
    (item_set_slot, itm_jerusalem_knight_horse_b, 80, 45),
    (item_set_slot, itm_jerusalem_knight_horse_b, 82, 38),
    (item_set_slot, itm_jerusalem_knight_horse_c, 69, 0),
    (item_set_slot, itm_jerusalem_knight_horse_c, 68, 4),
    (item_set_slot, itm_jerusalem_knight_horse_c, 76, 36),
    (item_set_slot, itm_jerusalem_knight_horse_c, 79, 38),
    (item_set_slot, itm_jerusalem_knight_horse_c, 80, 45),
    (item_set_slot, itm_jerusalem_knight_horse_c, 82, 38),
    (item_set_slot, itm_jerusalem_king_horse, 69, 0),
    (item_set_slot, itm_jerusalem_king_horse, 68, 5),
    (item_set_slot, itm_jerusalem_king_horse, 76, 36),
    (item_set_slot, itm_jerusalem_king_horse, 79, 38),
    (item_set_slot, itm_jerusalem_king_horse, 80, 50),
    (item_set_slot, itm_jerusalem_king_horse, 82, 45),
    (item_set_slot, itm_ibelin_knight_horse_a, 69, 0),
    (item_set_slot, itm_ibelin_knight_horse_a, 68, 4),
    (item_set_slot, itm_ibelin_knight_horse_a, 76, 36),
    (item_set_slot, itm_ibelin_knight_horse_a, 79, 38),
    (item_set_slot, itm_ibelin_knight_horse_a, 80, 45),
    (item_set_slot, itm_ibelin_knight_horse_a, 82, 38),
    (item_set_slot, itm_ibelin_knight_horse_b, 69, 0),
    (item_set_slot, itm_ibelin_knight_horse_b, 68, 4),
    (item_set_slot, itm_ibelin_knight_horse_b, 76, 36),
    (item_set_slot, itm_ibelin_knight_horse_b, 79, 38),
    (item_set_slot, itm_ibelin_knight_horse_b, 80, 45),
    (item_set_slot, itm_ibelin_knight_horse_b, 82, 38),
    (item_set_slot, itm_ibelin_knight_horse_c, 69, 0),
    (item_set_slot, itm_ibelin_knight_horse_c, 68, 4),
    (item_set_slot, itm_ibelin_knight_horse_c, 76, 36),
    (item_set_slot, itm_ibelin_knight_horse_c, 79, 38),
    (item_set_slot, itm_ibelin_knight_horse_c, 80, 45),
    (item_set_slot, itm_ibelin_knight_horse_c, 82, 38),
    (item_set_slot, itm_hospitaller_knight_horse_a, 69, 0),
    (item_set_slot, itm_hospitaller_knight_horse_a, 68, 4),
    (item_set_slot, itm_hospitaller_knight_horse_a, 76, 36),
    (item_set_slot, itm_hospitaller_knight_horse_a, 79, 38),
    (item_set_slot, itm_hospitaller_knight_horse_a, 80, 45),
    (item_set_slot, itm_hospitaller_knight_horse_a, 82, 38),
    (item_set_slot, itm_hospitaller_knight_horse_b, 69, 0),
    (item_set_slot, itm_hospitaller_knight_horse_b, 68, 4),
    (item_set_slot, itm_hospitaller_knight_horse_b, 76, 36),
    (item_set_slot, itm_hospitaller_knight_horse_b, 79, 38),
    (item_set_slot, itm_hospitaller_knight_horse_b, 80, 45),
    (item_set_slot, itm_hospitaller_knight_horse_b, 82, 38),
    (item_set_slot, itm_hospitaller_knight_horse_c, 69, 0),
    (item_set_slot, itm_hospitaller_knight_horse_c, 68, 4),
    (item_set_slot, itm_hospitaller_knight_horse_c, 76, 36),
    (item_set_slot, itm_hospitaller_knight_horse_c, 79, 38),
    (item_set_slot, itm_hospitaller_knight_horse_c, 80, 45),
    (item_set_slot, itm_hospitaller_knight_horse_c, 82, 38),
    (item_set_slot, itm_hospitaller_knight_horse_d, 69, 0),
    (item_set_slot, itm_hospitaller_knight_horse_d, 68, 4),
    (item_set_slot, itm_hospitaller_knight_horse_d, 76, 36),
    (item_set_slot, itm_hospitaller_knight_horse_d, 79, 38),
    (item_set_slot, itm_hospitaller_knight_horse_d, 80, 45),
    (item_set_slot, itm_hospitaller_knight_horse_d, 82, 38),
    (item_set_slot, itm_horse_master_order_hospitaller, 69, 0),
    (item_set_slot, itm_horse_master_order_hospitaller, 68, 5),
    (item_set_slot, itm_horse_master_order_hospitaller, 76, 36),
    (item_set_slot, itm_horse_master_order_hospitaller, 79, 38),
    (item_set_slot, itm_horse_master_order_hospitaller, 80, 50),
    (item_set_slot, itm_horse_master_order_hospitaller, 82, 45),
    (item_set_slot, itm_antioch_knight_horse_a, 69, 0),
    (item_set_slot, itm_antioch_knight_horse_a, 68, 4),
    (item_set_slot, itm_antioch_knight_horse_a, 76, 36),
    (item_set_slot, itm_antioch_knight_horse_a, 79, 38),
    (item_set_slot, itm_antioch_knight_horse_a, 80, 45),
    (item_set_slot, itm_antioch_knight_horse_a, 82, 38),
    (item_set_slot, itm_antioch_knight_horse_b, 69, 0),
    (item_set_slot, itm_antioch_knight_horse_b, 68, 4),
    (item_set_slot, itm_antioch_knight_horse_b, 76, 36),
    (item_set_slot, itm_antioch_knight_horse_b, 79, 38),
    (item_set_slot, itm_antioch_knight_horse_b, 80, 45),
    (item_set_slot, itm_antioch_knight_horse_b, 82, 38),
    (item_set_slot, itm_tripoli_knight_horse_a, 69, 0),
    (item_set_slot, itm_tripoli_knight_horse_a, 68, 4),
    (item_set_slot, itm_tripoli_knight_horse_a, 76, 36),
    (item_set_slot, itm_tripoli_knight_horse_a, 79, 38),
    (item_set_slot, itm_tripoli_knight_horse_a, 80, 45),
    (item_set_slot, itm_tripoli_knight_horse_a, 82, 38),
    (item_set_slot, itm_tripoli_knight_horse_b, 69, 0),
    (item_set_slot, itm_tripoli_knight_horse_b, 68, 4),
    (item_set_slot, itm_tripoli_knight_horse_b, 76, 36),
    (item_set_slot, itm_tripoli_knight_horse_b, 79, 38),
    (item_set_slot, itm_tripoli_knight_horse_b, 80, 45),
    (item_set_slot, itm_tripoli_knight_horse_b, 82, 38),
    (item_set_slot, itm_tripoli_knight_horse_c, 69, 0),
    (item_set_slot, itm_tripoli_knight_horse_c, 68, 4),
    (item_set_slot, itm_tripoli_knight_horse_c, 76, 36),
    (item_set_slot, itm_tripoli_knight_horse_c, 79, 38),
    (item_set_slot, itm_tripoli_knight_horse_c, 80, 45),
    (item_set_slot, itm_tripoli_knight_horse_c, 82, 38),
    (item_set_slot, itm_templar_knight_horse_a, 69, 0),
    (item_set_slot, itm_templar_knight_horse_a, 68, 4),
    (item_set_slot, itm_templar_knight_horse_a, 76, 36),
    (item_set_slot, itm_templar_knight_horse_a, 79, 38),
    (item_set_slot, itm_templar_knight_horse_a, 80, 45),
    (item_set_slot, itm_templar_knight_horse_a, 82, 38),
    (item_set_slot, itm_templar_knight_horse_b, 69, 0),
    (item_set_slot, itm_templar_knight_horse_b, 68, 4),
    (item_set_slot, itm_templar_knight_horse_b, 76, 36),
    (item_set_slot, itm_templar_knight_horse_b, 79, 38),
    (item_set_slot, itm_templar_knight_horse_b, 80, 45),
    (item_set_slot, itm_templar_knight_horse_b, 82, 38),
    (item_set_slot, itm_templar_knight_horse_c, 69, 0),
    (item_set_slot, itm_templar_knight_horse_c, 68, 4),
    (item_set_slot, itm_templar_knight_horse_c, 76, 36),
    (item_set_slot, itm_templar_knight_horse_c, 79, 38),
    (item_set_slot, itm_templar_knight_horse_c, 80, 45),
    (item_set_slot, itm_templar_knight_horse_c, 82, 38),
    (item_set_slot, itm_templar_knight_horse_d, 69, 0),
    (item_set_slot, itm_templar_knight_horse_d, 68, 4),
    (item_set_slot, itm_templar_knight_horse_d, 76, 36),
    (item_set_slot, itm_templar_knight_horse_d, 79, 38),
    (item_set_slot, itm_templar_knight_horse_d, 80, 45),
    (item_set_slot, itm_templar_knight_horse_d, 82, 38),
    (item_set_slot, itm_templar_knight_horse_e, 69, 0),
    (item_set_slot, itm_templar_knight_horse_e, 68, 4),
    (item_set_slot, itm_templar_knight_horse_e, 76, 36),
    (item_set_slot, itm_templar_knight_horse_e, 79, 38),
    (item_set_slot, itm_templar_knight_horse_e, 80, 45),
    (item_set_slot, itm_templar_knight_horse_e, 82, 38),
    (item_set_slot, itm_horse_master_order_templar, 69, 0),
    (item_set_slot, itm_horse_master_order_templar, 68, 5),
    (item_set_slot, itm_horse_master_order_templar, 76, 36),
    (item_set_slot, itm_horse_master_order_templar, 79, 38),
    (item_set_slot, itm_horse_master_order_templar, 80, 50),
    (item_set_slot, itm_horse_master_order_templar, 82, 45),
    (item_set_slot, itm_tevton_knight_horse_a, 69, 0),
    (item_set_slot, itm_tevton_knight_horse_a, 68, 4),
    (item_set_slot, itm_tevton_knight_horse_a, 76, 36),
    (item_set_slot, itm_tevton_knight_horse_a, 79, 38),
    (item_set_slot, itm_tevton_knight_horse_a, 80, 45),
    (item_set_slot, itm_tevton_knight_horse_a, 82, 38),
    (item_set_slot, itm_tevton_knight_horse_b, 69, 0),
    (item_set_slot, itm_tevton_knight_horse_b, 68, 4),
    (item_set_slot, itm_tevton_knight_horse_b, 76, 36),
    (item_set_slot, itm_tevton_knight_horse_b, 79, 38),
    (item_set_slot, itm_tevton_knight_horse_b, 80, 45),
    (item_set_slot, itm_tevton_knight_horse_b, 82, 38),
    (item_set_slot, itm_tevton_knight_horse_c, 69, 0),
    (item_set_slot, itm_tevton_knight_horse_c, 68, 4),
    (item_set_slot, itm_tevton_knight_horse_c, 76, 36),
    (item_set_slot, itm_tevton_knight_horse_c, 79, 38),
    (item_set_slot, itm_tevton_knight_horse_c, 80, 45),
    (item_set_slot, itm_tevton_knight_horse_c, 82, 38),
    (item_set_slot, itm_tevton_knight_horse_d, 69, 0),
    (item_set_slot, itm_tevton_knight_horse_d, 68, 4),
    (item_set_slot, itm_tevton_knight_horse_d, 76, 36),
    (item_set_slot, itm_tevton_knight_horse_d, 79, 38),
    (item_set_slot, itm_tevton_knight_horse_d, 80, 45),
    (item_set_slot, itm_tevton_knight_horse_d, 82, 38),
    (item_set_slot, itm_horse_master_order_tevton, 69, 0),
    (item_set_slot, itm_horse_master_order_tevton, 68, 5),
    (item_set_slot, itm_horse_master_order_tevton, 76, 36),
    (item_set_slot, itm_horse_master_order_tevton, 79, 38),
    (item_set_slot, itm_horse_master_order_tevton, 80, 50),
    (item_set_slot, itm_horse_master_order_tevton, 82, 45),
    (item_set_slot, itm_saracin_hard_horses_a, 69, 0),
    (item_set_slot, itm_saracin_hard_horses_a, 68, 4),
    (item_set_slot, itm_saracin_hard_horses_a, 76, 36),
    (item_set_slot, itm_saracin_hard_horses_a, 79, 38),
    (item_set_slot, itm_saracin_hard_horses_a, 80, 45),
    (item_set_slot, itm_saracin_hard_horses_a, 82, 38),
    (item_set_slot, itm_saracin_hard_horses_b, 69, 0),
    (item_set_slot, itm_saracin_hard_horses_b, 68, 4),
    (item_set_slot, itm_saracin_hard_horses_b, 76, 36),
    (item_set_slot, itm_saracin_hard_horses_b, 79, 38),
    (item_set_slot, itm_saracin_hard_horses_b, 80, 45),
    (item_set_slot, itm_saracin_hard_horses_b, 82, 38),
    (item_set_slot, itm_saracin_hard_horses_c, 69, 0),
    (item_set_slot, itm_saracin_hard_horses_c, 68, 4),
    (item_set_slot, itm_saracin_hard_horses_c, 76, 36),
    (item_set_slot, itm_saracin_hard_horses_c, 79, 38),
    (item_set_slot, itm_saracin_hard_horses_c, 80, 45),
    (item_set_slot, itm_saracin_hard_horses_c, 82, 38),
    (item_set_slot, itm_saracin_hard_horses_d, 69, 0),
    (item_set_slot, itm_saracin_hard_horses_d, 68, 4),
    (item_set_slot, itm_saracin_hard_horses_d, 76, 36),
    (item_set_slot, itm_saracin_hard_horses_d, 79, 38),
    (item_set_slot, itm_saracin_hard_horses_d, 80, 45),
    (item_set_slot, itm_saracin_hard_horses_d, 82, 38),
    (item_set_slot, itm_saracin_hard_horses_a_v1, 69, 0),
    (item_set_slot, itm_saracin_hard_horses_a_v1, 68, 4),
    (item_set_slot, itm_saracin_hard_horses_a_v1, 76, 36),
    (item_set_slot, itm_saracin_hard_horses_a_v1, 79, 38),
    (item_set_slot, itm_saracin_hard_horses_a_v1, 80, 45),
    (item_set_slot, itm_saracin_hard_horses_a_v1, 82, 38),
    (item_set_slot, itm_saracin_hard_horses_b_v1, 69, 0),
    (item_set_slot, itm_saracin_hard_horses_b_v1, 68, 4),
    (item_set_slot, itm_saracin_hard_horses_b_v1, 76, 36),
    (item_set_slot, itm_saracin_hard_horses_b_v1, 79, 38),
    (item_set_slot, itm_saracin_hard_horses_b_v1, 80, 45),
    (item_set_slot, itm_saracin_hard_horses_b_v1, 82, 38),
    (item_set_slot, itm_saracin_hard_horses_c_v1, 69, 0),
    (item_set_slot, itm_saracin_hard_horses_c_v1, 68, 4),
    (item_set_slot, itm_saracin_hard_horses_c_v1, 76, 36),
    (item_set_slot, itm_saracin_hard_horses_c_v1, 79, 38),
    (item_set_slot, itm_saracin_hard_horses_c_v1, 80, 45),
    (item_set_slot, itm_saracin_hard_horses_c_v1, 82, 38),
    (item_set_slot, itm_saracin_hard_horses_d_v1, 69, 0),
    (item_set_slot, itm_saracin_hard_horses_d_v1, 68, 4),
    (item_set_slot, itm_saracin_hard_horses_d_v1, 76, 36),
    (item_set_slot, itm_saracin_hard_horses_d_v1, 79, 38),
    (item_set_slot, itm_saracin_hard_horses_d_v1, 80, 45),
    (item_set_slot, itm_saracin_hard_horses_d_v1, 82, 38),
    (item_set_slot, itm_saracen_horse_sultan, 69, 0),
    (item_set_slot, itm_saracen_horse_sultan, 68, 5),
    (item_set_slot, itm_saracen_horse_sultan, 76, 36),
    (item_set_slot, itm_saracen_horse_sultan, 79, 38),
    (item_set_slot, itm_saracen_horse_sultan, 80, 50),
    (item_set_slot, itm_saracen_horse_sultan, 82, 45),
    (item_set_slot, itm_sa_horse_end, 69, 0),
    (item_set_slot, itm_sa_horse_end, 68, 3),
    (item_set_slot, itm_sa_horse_end, 76, 36),
    (item_set_slot, itm_sa_horse_end, 79, 41),
    (item_set_slot, itm_sa_horse_end, 80, 18),
    (item_set_slot, itm_sa_horse_end, 82, 24),
    (item_set_slot, itm_sa_weapons_begin, 69, 200),
    (item_set_slot, itm_sa_weapons_begin, 68, 9),
    (item_set_slot, itm_sa_weapons_begin, 76, 0),
    (item_set_slot, itm_sa_weapons_begin, 79, 256),
    (item_set_slot, itm_sa_weapons_begin, 80, 37),
    (item_set_slot, itm_sa_weapons_begin, 83, 98),
    (item_set_slot, itm_sa_weapons_begin, 82, 76),
    (item_set_slot, itm_crusader_knight_spear_a, 69, 500),
    (item_set_slot, itm_crusader_knight_spear_a, 68, 11),
    (item_set_slot, itm_crusader_knight_spear_a, 76, 13),
    (item_set_slot, itm_crusader_knight_spear_a, 79, 277),
    (item_set_slot, itm_crusader_knight_spear_a, 80, 0),
    (item_set_slot, itm_crusader_knight_spear_a, 83, 55),
    (item_set_slot, itm_crusader_knight_spear_a, 82, 265),
    (item_set_slot, itm_crusader_knight_spear_a_2, 69, 400),
    (item_set_slot, itm_crusader_knight_spear_a_2, 68, 11),
    (item_set_slot, itm_crusader_knight_spear_a_2, 76, 13),
    (item_set_slot, itm_crusader_knight_spear_a_2, 79, 277),
    (item_set_slot, itm_crusader_knight_spear_a_2, 80, 0),
    (item_set_slot, itm_crusader_knight_spear_a_2, 83, 55),
    (item_set_slot, itm_crusader_knight_spear_a_2, 82, 170),
    (item_set_slot, itm_crusader_knight_spear_b, 69, 500),
    (item_set_slot, itm_crusader_knight_spear_b, 68, 11),
    (item_set_slot, itm_crusader_knight_spear_b, 76, 13),
    (item_set_slot, itm_crusader_knight_spear_b, 79, 277),
    (item_set_slot, itm_crusader_knight_spear_b, 80, 0),
    (item_set_slot, itm_crusader_knight_spear_b, 83, 55),
    (item_set_slot, itm_crusader_knight_spear_b, 82, 285),
    (item_set_slot, itm_crusader_knight_spear_b_2, 69, 400),
    (item_set_slot, itm_crusader_knight_spear_b_2, 68, 11),
    (item_set_slot, itm_crusader_knight_spear_b_2, 76, 13),
    (item_set_slot, itm_crusader_knight_spear_b_2, 79, 277),
    (item_set_slot, itm_crusader_knight_spear_b_2, 80, 0),
    (item_set_slot, itm_crusader_knight_spear_b_2, 83, 55),
    (item_set_slot, itm_crusader_knight_spear_b_2, 82, 170),
    (item_set_slot, itm_mameluk_spears_c_v_1, 69, 500),
    (item_set_slot, itm_mameluk_spears_c_v_1, 68, 0),
    (item_set_slot, itm_mameluk_spears_c_v_1, 76, 13),
    (item_set_slot, itm_mameluk_spears_c_v_1, 79, 296),
    (item_set_slot, itm_mameluk_spears_c_v_1, 80, 0),
    (item_set_slot, itm_mameluk_spears_c_v_1, 83, 80),
    (item_set_slot, itm_mameluk_spears_c_v_1, 82, 200),
    (item_set_slot, itm_crusader_spear_a, 69, 250),
    (item_set_slot, itm_crusader_spear_a, 68, 0),
    (item_set_slot, itm_crusader_spear_a, 76, 13),
    (item_set_slot, itm_crusader_spear_a, 79, 292),
    (item_set_slot, itm_crusader_spear_a, 80, 532),
    (item_set_slot, itm_crusader_spear_a, 83, 110),
    (item_set_slot, itm_crusader_spear_a, 82, 180),
    (item_set_slot, itm_crusader_spear_b, 69, 250),
    (item_set_slot, itm_crusader_spear_b, 68, 0),
    (item_set_slot, itm_crusader_spear_b, 76, 13),
    (item_set_slot, itm_crusader_spear_b, 79, 291),
    (item_set_slot, itm_crusader_spear_b, 80, 532),
    (item_set_slot, itm_crusader_spear_b, 83, 110),
    (item_set_slot, itm_crusader_spear_b, 82, 175),
    (item_set_slot, itm_crusader_spear_c, 69, 250),
    (item_set_slot, itm_crusader_spear_c, 68, 0),
    (item_set_slot, itm_crusader_spear_c, 76, 13),
    (item_set_slot, itm_crusader_spear_c, 79, 290),
    (item_set_slot, itm_crusader_spear_c, 80, 532),
    (item_set_slot, itm_crusader_spear_c, 83, 100),
    (item_set_slot, itm_crusader_spear_c, 82, 170),
    (item_set_slot, itm_crusader_spear_inf_a, 69, 250),
    (item_set_slot, itm_crusader_spear_inf_a, 68, 0),
    (item_set_slot, itm_crusader_spear_inf_a, 76, 13),
    (item_set_slot, itm_crusader_spear_inf_a, 79, 283),
    (item_set_slot, itm_crusader_spear_inf_a, 80, 532),
    (item_set_slot, itm_crusader_spear_inf_a, 83, 100),
    (item_set_slot, itm_crusader_spear_inf_a, 82, 155),
    (item_set_slot, itm_crusader_spear_inf_b, 69, 250),
    (item_set_slot, itm_crusader_spear_inf_b, 68, 0),
    (item_set_slot, itm_crusader_spear_inf_b, 76, 13),
    (item_set_slot, itm_crusader_spear_inf_b, 79, 288),
    (item_set_slot, itm_crusader_spear_inf_b, 80, 532),
    (item_set_slot, itm_crusader_spear_inf_b, 83, 100),
    (item_set_slot, itm_crusader_spear_inf_b, 82, 160),
    (item_set_slot, itm_crusader_spear_inf_c, 69, 250),
    (item_set_slot, itm_crusader_spear_inf_c, 68, 0),
    (item_set_slot, itm_crusader_spear_inf_c, 76, 13),
    (item_set_slot, itm_crusader_spear_inf_c, 79, 288),
    (item_set_slot, itm_crusader_spear_inf_c, 80, 532),
    (item_set_slot, itm_crusader_spear_inf_c, 83, 100),
    (item_set_slot, itm_crusader_spear_inf_c, 82, 175),
    (item_set_slot, itm_saracin_spears_a, 69, 300),
    (item_set_slot, itm_saracin_spears_a, 68, 0),
    (item_set_slot, itm_saracin_spears_a, 76, 13),
    (item_set_slot, itm_saracin_spears_a, 79, 283),
    (item_set_slot, itm_saracin_spears_a, 80, 0),
    (item_set_slot, itm_saracin_spears_a, 83, 85),
    (item_set_slot, itm_saracin_spears_a, 82, 165),
    (item_set_slot, itm_saracin_spears_a_v_1, 69, 200),
    (item_set_slot, itm_saracin_spears_a_v_1, 68, 0),
    (item_set_slot, itm_saracin_spears_a_v_1, 76, 13),
    (item_set_slot, itm_saracin_spears_a_v_1, 79, 281),
    (item_set_slot, itm_saracin_spears_a_v_1, 80, 531),
    (item_set_slot, itm_saracin_spears_a_v_1, 83, 102),
    (item_set_slot, itm_saracin_spears_a_v_1, 82, 125),
    (item_set_slot, itm_mameluk_spears_a, 69, 350),
    (item_set_slot, itm_mameluk_spears_a, 68, 0),
    (item_set_slot, itm_mameluk_spears_a, 76, 13),
    (item_set_slot, itm_mameluk_spears_a, 79, 293),
    (item_set_slot, itm_mameluk_spears_a, 80, 532),
    (item_set_slot, itm_mameluk_spears_a, 83, 90),
    (item_set_slot, itm_mameluk_spears_a, 82, 185),
    (item_set_slot, itm_mameluk_spears_b, 69, 250),
    (item_set_slot, itm_mameluk_spears_b, 68, 0),
    (item_set_slot, itm_mameluk_spears_b, 76, 13),
    (item_set_slot, itm_mameluk_spears_b, 79, 293),
    (item_set_slot, itm_mameluk_spears_b, 80, 532),
    (item_set_slot, itm_mameluk_spears_b, 83, 90),
    (item_set_slot, itm_mameluk_spears_b, 82, 185),
    (item_set_slot, itm_mameluk_spears_c, 69, 350),
    (item_set_slot, itm_mameluk_spears_c, 68, 0),
    (item_set_slot, itm_mameluk_spears_c, 76, 13),
    (item_set_slot, itm_mameluk_spears_c, 79, 293),
    (item_set_slot, itm_mameluk_spears_c, 80, 0),
    (item_set_slot, itm_mameluk_spears_c, 83, 80),
    (item_set_slot, itm_mameluk_spears_c, 82, 185),
    (item_set_slot, itm_mace_6, 69, 250),
    (item_set_slot, itm_mace_6, 68, 0),
    (item_set_slot, itm_mace_6, 76, 13),
    (item_set_slot, itm_mace_6, 79, 256),
    (item_set_slot, itm_mace_6, 80, 536),
    (item_set_slot, itm_mace_6, 83, 98),
    (item_set_slot, itm_mace_6, 82, 70),
    (item_set_slot, itm_axe_crusader_a, 69, 200),
    (item_set_slot, itm_axe_crusader_a, 68, 9),
    (item_set_slot, itm_axe_crusader_a, 76, 13),
    (item_set_slot, itm_axe_crusader_a, 79, 256),
    (item_set_slot, itm_axe_crusader_a, 80, 36),
    (item_set_slot, itm_axe_crusader_a, 83, 95),
    (item_set_slot, itm_axe_crusader_a, 82, 80),
    (item_set_slot, itm_axe_crusader_b, 69, 200),
    (item_set_slot, itm_axe_crusader_b, 68, 9),
    (item_set_slot, itm_axe_crusader_b, 76, 13),
    (item_set_slot, itm_axe_crusader_b, 79, 256),
    (item_set_slot, itm_axe_crusader_b, 80, 34),
    (item_set_slot, itm_axe_crusader_b, 83, 98),
    (item_set_slot, itm_axe_crusader_b, 82, 73),
    (item_set_slot, itm_axe_crusader_c, 69, 200),
    (item_set_slot, itm_axe_crusader_c, 68, 9),
    (item_set_slot, itm_axe_crusader_c, 76, 13),
    (item_set_slot, itm_axe_crusader_c, 79, 256),
    (item_set_slot, itm_axe_crusader_c, 80, 38),
    (item_set_slot, itm_axe_crusader_c, 83, 90),
    (item_set_slot, itm_axe_crusader_c, 82, 85),
    (item_set_slot, itm_axe_crusader_d, 69, 475),
    (item_set_slot, itm_axe_crusader_d, 68, 9),
    (item_set_slot, itm_axe_crusader_d, 76, 13),
    (item_set_slot, itm_axe_crusader_d, 79, 256),
    (item_set_slot, itm_axe_crusader_d, 80, 44),
    (item_set_slot, itm_axe_crusader_d, 83, 90),
    (item_set_slot, itm_axe_crusader_d, 82, 90),
    (item_set_slot, itm_axe_crusader_1, 69, 425),
    (item_set_slot, itm_axe_crusader_1, 68, 9),
    (item_set_slot, itm_axe_crusader_1, 76, 13),
    (item_set_slot, itm_axe_crusader_1, 79, 256),
    (item_set_slot, itm_axe_crusader_1, 80, 48),
    (item_set_slot, itm_axe_crusader_1, 83, 88),
    (item_set_slot, itm_axe_crusader_1, 82, 88),
    (item_set_slot, itm_falshion_1, 69, 200),
    (item_set_slot, itm_falshion_1, 68, 8),
    (item_set_slot, itm_falshion_1, 76, 17),
    (item_set_slot, itm_falshion_1, 79, 256),
    (item_set_slot, itm_falshion_1, 80, 28),
    (item_set_slot, itm_falshion_1, 83, 100),
    (item_set_slot, itm_falshion_1, 82, 63),
    (item_set_slot, itm_crusader_long_sword_a, 69, 400),
    (item_set_slot, itm_crusader_long_sword_a, 68, 0),
    (item_set_slot, itm_crusader_long_sword_a, 76, 17),
    (item_set_slot, itm_crusader_long_sword_a, 79, 0),
    (item_set_slot, itm_crusader_long_sword_a, 80, 30),
    (item_set_slot, itm_crusader_long_sword_a, 83, 100),
    (item_set_slot, itm_crusader_long_sword_a, 82, 100),
    (item_set_slot, itm_crusader_long_sword_b, 69, 400),
    (item_set_slot, itm_crusader_long_sword_b, 68, 0),
    (item_set_slot, itm_crusader_long_sword_b, 76, 17),
    (item_set_slot, itm_crusader_long_sword_b, 79, 0),
    (item_set_slot, itm_crusader_long_sword_b, 80, 30),
    (item_set_slot, itm_crusader_long_sword_b, 83, 100),
    (item_set_slot, itm_crusader_long_sword_b, 82, 100),
    (item_set_slot, itm_crusader_long_sword_c, 69, 400),
    (item_set_slot, itm_crusader_long_sword_c, 68, 0),
    (item_set_slot, itm_crusader_long_sword_c, 76, 17),
    (item_set_slot, itm_crusader_long_sword_c, 79, 0),
    (item_set_slot, itm_crusader_long_sword_c, 80, 30),
    (item_set_slot, itm_crusader_long_sword_c, 83, 100),
    (item_set_slot, itm_crusader_long_sword_c, 82, 100),
    (item_set_slot, itm_k_long_sword_a, 69, 400),
    (item_set_slot, itm_k_long_sword_a, 68, 0),
    (item_set_slot, itm_k_long_sword_a, 76, 17),
    (item_set_slot, itm_k_long_sword_a, 79, 0),
    (item_set_slot, itm_k_long_sword_a, 80, 30),
    (item_set_slot, itm_k_long_sword_a, 83, 100),
    (item_set_slot, itm_k_long_sword_a, 82, 100),
    (item_set_slot, itm_k_long_sword_b, 69, 400),
    (item_set_slot, itm_k_long_sword_b, 68, 0),
    (item_set_slot, itm_k_long_sword_b, 76, 17),
    (item_set_slot, itm_k_long_sword_b, 79, 0),
    (item_set_slot, itm_k_long_sword_b, 80, 30),
    (item_set_slot, itm_k_long_sword_b, 83, 100),
    (item_set_slot, itm_k_long_sword_b, 82, 100),
    (item_set_slot, itm_k_long_sword_c, 69, 400),
    (item_set_slot, itm_k_long_sword_c, 68, 0),
    (item_set_slot, itm_k_long_sword_c, 76, 17),
    (item_set_slot, itm_k_long_sword_c, 79, 0),
    (item_set_slot, itm_k_long_sword_c, 80, 30),
    (item_set_slot, itm_k_long_sword_c, 83, 100),
    (item_set_slot, itm_k_long_sword_c, 82, 100),
    (item_set_slot, itm_crusader_sword_a, 69, 150),
    (item_set_slot, itm_crusader_sword_a, 68, 0),
    (item_set_slot, itm_crusader_sword_a, 76, 17),
    (item_set_slot, itm_crusader_sword_a, 79, 276),
    (item_set_slot, itm_crusader_sword_a, 80, 28),
    (item_set_slot, itm_crusader_sword_a, 83, 105),
    (item_set_slot, itm_crusader_sword_a, 82, 75),
    (item_set_slot, itm_crusader_sword_b, 69, 150),
    (item_set_slot, itm_crusader_sword_b, 68, 0),
    (item_set_slot, itm_crusader_sword_b, 76, 17),
    (item_set_slot, itm_crusader_sword_b, 79, 276),
    (item_set_slot, itm_crusader_sword_b, 80, 28),
    (item_set_slot, itm_crusader_sword_b, 83, 102),
    (item_set_slot, itm_crusader_sword_b, 82, 86),
    (item_set_slot, itm_crusader_sword_c, 69, 150),
    (item_set_slot, itm_crusader_sword_c, 68, 0),
    (item_set_slot, itm_crusader_sword_c, 76, 17),
    (item_set_slot, itm_crusader_sword_c, 79, 276),
    (item_set_slot, itm_crusader_sword_c, 80, 28),
    (item_set_slot, itm_crusader_sword_c, 83, 102),
    (item_set_slot, itm_crusader_sword_c, 82, 86),
    (item_set_slot, itm_saracin_sword_a, 69, 125),
    (item_set_slot, itm_saracin_sword_a, 68, 0),
    (item_set_slot, itm_saracin_sword_a, 76, 17),
    (item_set_slot, itm_saracin_sword_a, 79, 0),
    (item_set_slot, itm_saracin_sword_a, 80, 30),
    (item_set_slot, itm_saracin_sword_a, 83, 100),
    (item_set_slot, itm_saracin_sword_a, 82, 100),
    (item_set_slot, itm_saracin_sword_b, 69, 125),
    (item_set_slot, itm_saracin_sword_b, 68, 0),
    (item_set_slot, itm_saracin_sword_b, 76, 17),
    (item_set_slot, itm_saracin_sword_b, 79, 0),
    (item_set_slot, itm_saracin_sword_b, 80, 30),
    (item_set_slot, itm_saracin_sword_b, 83, 100),
    (item_set_slot, itm_saracin_sword_b, 82, 90),
    (item_set_slot, itm_saracin_sword_d, 69, 125),
    (item_set_slot, itm_saracin_sword_d, 68, 0),
    (item_set_slot, itm_saracin_sword_d, 76, 17),
    (item_set_slot, itm_saracin_sword_d, 79, 0),
    (item_set_slot, itm_saracin_sword_d, 80, 30),
    (item_set_slot, itm_saracin_sword_d, 83, 100),
    (item_set_slot, itm_saracin_sword_d, 82, 103),
    (item_set_slot, itm_saracin_sword_c, 69, 125),
    (item_set_slot, itm_saracin_sword_c, 68, 0),
    (item_set_slot, itm_saracin_sword_c, 76, 17),
    (item_set_slot, itm_saracin_sword_c, 79, 0),
    (item_set_slot, itm_saracin_sword_c, 80, 30),
    (item_set_slot, itm_saracin_sword_c, 83, 100),
    (item_set_slot, itm_saracin_sword_c, 82, 103),
    (item_set_slot, itm_saracin_sword_e, 69, 125),
    (item_set_slot, itm_saracin_sword_e, 68, 0),
    (item_set_slot, itm_saracin_sword_e, 76, 17),
    (item_set_slot, itm_saracin_sword_e, 79, 0),
    (item_set_slot, itm_saracin_sword_e, 80, 30),
    (item_set_slot, itm_saracin_sword_e, 83, 100),
    (item_set_slot, itm_saracin_sword_e, 82, 103),
    (item_set_slot, itm_falshion_2, 69, 250),
    (item_set_slot, itm_falshion_2, 68, 8),
    (item_set_slot, itm_falshion_2, 76, 17),
    (item_set_slot, itm_falshion_2, 79, 256),
    (item_set_slot, itm_falshion_2, 80, 28),
    (item_set_slot, itm_falshion_2, 83, 96),
    (item_set_slot, itm_falshion_2, 82, 73),
    (item_set_slot, itm_sa_ranged_weapons_begin, 69, 400),
    (item_set_slot, itm_sa_ranged_weapons_begin, 68, 0),
    (item_set_slot, itm_sa_ranged_weapons_begin, 76, 42),
    (item_set_slot, itm_sa_ranged_weapons_begin, 79, 523),
    (item_set_slot, itm_sa_ranged_weapons_begin, 80, 0),
    (item_set_slot, itm_sa_ranged_weapons_begin, 83, 97),
    (item_set_slot, itm_sa_ranged_weapons_begin, 82, 8),
    (item_set_slot, itm_crusaders_crossbows_a, 69, 300),
    (item_set_slot, itm_crusaders_crossbows_a, 68, 8),
    (item_set_slot, itm_crusaders_crossbows_a, 76, 17),
    (item_set_slot, itm_crusaders_crossbows_a, 79, 295),
    (item_set_slot, itm_crusaders_crossbows_a, 80, 0),
    (item_set_slot, itm_crusaders_crossbows_a, 83, 35),
    (item_set_slot, itm_crusaders_crossbows_a, 82, 0),
    (item_set_slot, itm_crusaders_crossbows_c, 69, 300),
    (item_set_slot, itm_crusaders_crossbows_c, 68, 8),
    (item_set_slot, itm_crusaders_crossbows_c, 76, 17),
    (item_set_slot, itm_crusaders_crossbows_c, 79, 295),
    (item_set_slot, itm_crusaders_crossbows_c, 80, 0),
    (item_set_slot, itm_crusaders_crossbows_c, 83, 35),
    (item_set_slot, itm_crusaders_crossbows_c, 82, 0),
    (item_set_slot, itm_crusaders_crossbows_b, 69, 300),
    (item_set_slot, itm_crusaders_crossbows_b, 68, 8),
    (item_set_slot, itm_crusaders_crossbows_b, 76, 17),
    (item_set_slot, itm_crusaders_crossbows_b, 79, 295),
    (item_set_slot, itm_crusaders_crossbows_b, 80, 0),
    (item_set_slot, itm_crusaders_crossbows_b, 83, 35),
    (item_set_slot, itm_crusaders_crossbows_b, 82, 0),
    (item_set_slot, itm_crusade_bolt, 69, 225),
    (item_set_slot, itm_crusade_bolt, 68, 0),
    (item_set_slot, itm_crusade_bolt, 76, 42),
    (item_set_slot, itm_crusade_bolt, 79, 278),
    (item_set_slot, itm_crusade_bolt, 80, 0),
    (item_set_slot, itm_crusade_bolt, 83, 0),
    (item_set_slot, itm_crusade_bolt, 82, 65),
    (item_set_slot, itm_crusade_bolt_heavy, 69, 225),
    (item_set_slot, itm_crusade_bolt_heavy, 68, 0),
    (item_set_slot, itm_crusade_bolt_heavy, 76, 42),
    (item_set_slot, itm_crusade_bolt_heavy, 79, 281),
    (item_set_slot, itm_crusade_bolt_heavy, 80, 0),
    (item_set_slot, itm_crusade_bolt_heavy, 83, 0),
    (item_set_slot, itm_crusade_bolt_heavy, 82, 65),
    (item_set_slot, itm_crusade_bolt_heavy_pierce, 69, 225),
    (item_set_slot, itm_crusade_bolt_heavy_pierce, 68, 0),
    (item_set_slot, itm_crusade_bolt_heavy_pierce, 76, 42),
    (item_set_slot, itm_crusade_bolt_heavy_pierce, 79, 284),
    (item_set_slot, itm_crusade_bolt_heavy_pierce, 80, 0),
    (item_set_slot, itm_crusade_bolt_heavy_pierce, 83, 0),
    (item_set_slot, itm_crusade_bolt_heavy_pierce, 82, 65),
    (item_set_slot, itm_saracin_bow_a, 69, 125),
    (item_set_slot, itm_saracin_bow_a, 68, 3),
    (item_set_slot, itm_saracin_bow_a, 76, 17),
    (item_set_slot, itm_saracin_bow_a, 79, 8),
    (item_set_slot, itm_saracin_bow_a, 80, 0),
    (item_set_slot, itm_saracin_bow_a, 83, 70),
    (item_set_slot, itm_saracin_bow_a, 82, 0),
    (item_set_slot, itm_saracin_bow_b, 69, 125),
    (item_set_slot, itm_saracin_bow_b, 68, 3),
    (item_set_slot, itm_saracin_bow_b, 76, 17),
    (item_set_slot, itm_saracin_bow_b, 79, 8),
    (item_set_slot, itm_saracin_bow_b, 80, 0),
    (item_set_slot, itm_saracin_bow_b, 83, 70),
    (item_set_slot, itm_saracin_bow_b, 82, 0),
    (item_set_slot, itm_saracin_bow_c, 69, 125),
    (item_set_slot, itm_saracin_bow_c, 68, 3),
    (item_set_slot, itm_saracin_bow_c, 76, 17),
    (item_set_slot, itm_saracin_bow_c, 79, 8),
    (item_set_slot, itm_saracin_bow_c, 80, 0),
    (item_set_slot, itm_saracin_bow_c, 83, 70),
    (item_set_slot, itm_saracin_bow_c, 82, 0),
    (item_set_slot, itm_saracin_bow_a_1, 69, 125),
    (item_set_slot, itm_saracin_bow_a_1, 68, 3),
    (item_set_slot, itm_saracin_bow_a_1, 76, 17),
    (item_set_slot, itm_saracin_bow_a_1, 79, 8),
    (item_set_slot, itm_saracin_bow_a_1, 80, 0),
    (item_set_slot, itm_saracin_bow_a_1, 83, 70),
    (item_set_slot, itm_saracin_bow_a_1, 82, 0),
    (item_set_slot, itm_saracin_bow_b_1, 69, 125),
    (item_set_slot, itm_saracin_bow_b_1, 68, 3),
    (item_set_slot, itm_saracin_bow_b_1, 76, 17),
    (item_set_slot, itm_saracin_bow_b_1, 79, 8),
    (item_set_slot, itm_saracin_bow_b_1, 80, 0),
    (item_set_slot, itm_saracin_bow_b_1, 83, 70),
    (item_set_slot, itm_saracin_bow_b_1, 82, 0),
    (item_set_slot, itm_saracin_bow_c_1, 69, 125),
    (item_set_slot, itm_saracin_bow_c_1, 68, 3),
    (item_set_slot, itm_saracin_bow_c_1, 76, 17),
    (item_set_slot, itm_saracin_bow_c_1, 79, 8),
    (item_set_slot, itm_saracin_bow_c_1, 80, 0),
    (item_set_slot, itm_saracin_bow_c_1, 83, 70),
    (item_set_slot, itm_saracin_bow_c_1, 82, 0),
    (item_set_slot, itm_arrow_tyrk_a, 69, 300),
    (item_set_slot, itm_arrow_tyrk_a, 68, 0),
    (item_set_slot, itm_arrow_tyrk_a, 76, 42),
    (item_set_slot, itm_arrow_tyrk_a, 79, 29),
    (item_set_slot, itm_arrow_tyrk_a, 80, 0),
    (item_set_slot, itm_arrow_tyrk_a, 83, 0),
    (item_set_slot, itm_arrow_tyrk_a, 82, 100),
    (item_set_slot, itm_arrow_tyrk_b, 69, 300),
    (item_set_slot, itm_arrow_tyrk_b, 68, 0),
    (item_set_slot, itm_arrow_tyrk_b, 76, 42),
    (item_set_slot, itm_arrow_tyrk_b, 79, 29),
    (item_set_slot, itm_arrow_tyrk_b, 80, 0),
    (item_set_slot, itm_arrow_tyrk_b, 83, 0),
    (item_set_slot, itm_arrow_tyrk_b, 82, 100),
    (item_set_slot, itm_arrow_tyrk_c, 69, 300),
    (item_set_slot, itm_arrow_tyrk_c, 68, 0),
    (item_set_slot, itm_arrow_tyrk_c, 76, 42),
    (item_set_slot, itm_arrow_tyrk_c, 79, 29),
    (item_set_slot, itm_arrow_tyrk_c, 80, 0),
    (item_set_slot, itm_arrow_tyrk_c, 83, 0),
    (item_set_slot, itm_arrow_tyrk_c, 82, 100),
    (item_set_slot, itm_sa_ranged_weapons_end, 69, 400),
    (item_set_slot, itm_sa_ranged_weapons_end, 68, 0),
    (item_set_slot, itm_sa_ranged_weapons_end, 76, 42),
    (item_set_slot, itm_sa_ranged_weapons_end, 79, 523),
    (item_set_slot, itm_sa_ranged_weapons_end, 80, 0),
    (item_set_slot, itm_sa_ranged_weapons_end, 83, 97),
    (item_set_slot, itm_sa_ranged_weapons_end, 82, 8),
    (item_set_slot, itm_sa_weapons_end, 69, 200),
    (item_set_slot, itm_sa_weapons_end, 68, 9),
    (item_set_slot, itm_sa_weapons_end, 76, 0),
    (item_set_slot, itm_sa_weapons_end, 79, 256),
    (item_set_slot, itm_sa_weapons_end, 80, 37),
    (item_set_slot, itm_sa_weapons_end, 83, 98),
    (item_set_slot, itm_sa_weapons_end, 82, 76),
    (item_set_slot, itm_darts, 69, 500),
    (item_set_slot, itm_darts, 68, 0),
    (item_set_slot, itm_darts, 76, 42),
    (item_set_slot, itm_darts, 79, 281),
    (item_set_slot, itm_darts, 80, 0),
    (item_set_slot, itm_darts, 83, 95),
    (item_set_slot, itm_darts, 82, 32),
    (item_set_slot, itm_sa_armors_begin, 69, 2200),
    (item_set_slot, itm_sa_armors_begin, 68, 7),
    (item_set_slot, itm_sa_armors_begin, 76, 0),
    (item_set_slot, itm_sa_armors_begin, 79, 0),
    (item_set_slot, itm_sa_armors_begin, 80, 42),
    (item_set_slot, itm_sa_armors_begin, 81, 14),
    (item_set_slot, itm_monie_a, 69, 2200),
    (item_set_slot, itm_monie_a, 68, 7),
    (item_set_slot, itm_monie_a, 76, 29),
    (item_set_slot, itm_monie_a, 79, 0),
    (item_set_slot, itm_monie_a, 80, 45),
    (item_set_slot, itm_monie_a, 81, 25),
    (item_set_slot, itm_monie_b, 69, 2200),
    (item_set_slot, itm_monie_b, 68, 7),
    (item_set_slot, itm_monie_b, 76, 29),
    (item_set_slot, itm_monie_b, 79, 0),
    (item_set_slot, itm_monie_b, 80, 45),
    (item_set_slot, itm_monie_b, 81, 25),
    (item_set_slot, itm_armor_medium_tyrk_a, 69, 2100),
    (item_set_slot, itm_armor_medium_tyrk_a, 68, 9),
    (item_set_slot, itm_armor_medium_tyrk_a, 70, 1),
    (item_set_slot, itm_armor_medium_tyrk_a, 76, 29),
    (item_set_slot, itm_armor_medium_tyrk_a, 79, 0),
    (item_set_slot, itm_armor_medium_tyrk_a, 80, 41),
    (item_set_slot, itm_armor_medium_tyrk_a, 81, 17),
    (item_set_slot, itm_armor_medium_tyrk_b, 69, 2100),
    (item_set_slot, itm_armor_medium_tyrk_b, 68, 9),
    (item_set_slot, itm_armor_medium_tyrk_b, 70, 1),
    (item_set_slot, itm_armor_medium_tyrk_b, 76, 29),
    (item_set_slot, itm_armor_medium_tyrk_b, 79, 0),
    (item_set_slot, itm_armor_medium_tyrk_b, 80, 41),
    (item_set_slot, itm_armor_medium_tyrk_b, 81, 17),
    (item_set_slot, itm_armor_medium_tyrk_c, 69, 2100),
    (item_set_slot, itm_armor_medium_tyrk_c, 68, 9),
    (item_set_slot, itm_armor_medium_tyrk_c, 70, 1),
    (item_set_slot, itm_armor_medium_tyrk_c, 76, 29),
    (item_set_slot, itm_armor_medium_tyrk_c, 79, 0),
    (item_set_slot, itm_armor_medium_tyrk_c, 80, 41),
    (item_set_slot, itm_armor_medium_tyrk_c, 81, 17),
    (item_set_slot, itm_armor_medium_tyrk_d, 69, 2100),
    (item_set_slot, itm_armor_medium_tyrk_d, 68, 9),
    (item_set_slot, itm_armor_medium_tyrk_d, 70, 1),
    (item_set_slot, itm_armor_medium_tyrk_d, 76, 29),
    (item_set_slot, itm_armor_medium_tyrk_d, 79, 0),
    (item_set_slot, itm_armor_medium_tyrk_d, 80, 41),
    (item_set_slot, itm_armor_medium_tyrk_d, 81, 17),
    (item_set_slot, itm_armor_medium_tyrk_e, 69, 2100),
    (item_set_slot, itm_armor_medium_tyrk_e, 68, 9),
    (item_set_slot, itm_armor_medium_tyrk_e, 70, 1),
    (item_set_slot, itm_armor_medium_tyrk_e, 76, 29),
    (item_set_slot, itm_armor_medium_tyrk_e, 79, 0),
    (item_set_slot, itm_armor_medium_tyrk_e, 80, 41),
    (item_set_slot, itm_armor_medium_tyrk_e, 81, 17),
    (item_set_slot, itm_armor_medium_tyrk_f, 69, 2100),
    (item_set_slot, itm_armor_medium_tyrk_f, 68, 9),
    (item_set_slot, itm_armor_medium_tyrk_f, 70, 1),
    (item_set_slot, itm_armor_medium_tyrk_f, 76, 29),
    (item_set_slot, itm_armor_medium_tyrk_f, 79, 0),
    (item_set_slot, itm_armor_medium_tyrk_f, 80, 41),
    (item_set_slot, itm_armor_medium_tyrk_f, 81, 17),
    (item_set_slot, itm_tyrk_armor_heavi_a, 69, 3100),
    (item_set_slot, itm_tyrk_armor_heavi_a, 68, 12),
    (item_set_slot, itm_tyrk_armor_heavi_a, 70, 1),
    (item_set_slot, itm_tyrk_armor_heavi_a, 76, 29),
    (item_set_slot, itm_tyrk_armor_heavi_a, 79, 0),
    (item_set_slot, itm_tyrk_armor_heavi_a, 80, 64),
    (item_set_slot, itm_tyrk_armor_heavi_a, 81, 24),
    (item_set_slot, itm_tyrk_armor_heavi_b, 69, 3100),
    (item_set_slot, itm_tyrk_armor_heavi_b, 68, 12),
    (item_set_slot, itm_tyrk_armor_heavi_b, 70, 1),
    (item_set_slot, itm_tyrk_armor_heavi_b, 76, 29),
    (item_set_slot, itm_tyrk_armor_heavi_b, 79, 0),
    (item_set_slot, itm_tyrk_armor_heavi_b, 80, 64),
    (item_set_slot, itm_tyrk_armor_heavi_b, 81, 24),
    (item_set_slot, itm_tyrk_armor_heavi_c, 69, 3100),
    (item_set_slot, itm_tyrk_armor_heavi_c, 68, 12),
    (item_set_slot, itm_tyrk_armor_heavi_c, 70, 1),
    (item_set_slot, itm_tyrk_armor_heavi_c, 76, 29),
    (item_set_slot, itm_tyrk_armor_heavi_c, 79, 0),
    (item_set_slot, itm_tyrk_armor_heavi_c, 80, 64),
    (item_set_slot, itm_tyrk_armor_heavi_c, 81, 24),
    (item_set_slot, itm_sa_novici_ibelin_armor, 69, 1400),
    (item_set_slot, itm_sa_novici_ibelin_armor, 68, 5),
    (item_set_slot, itm_sa_novici_ibelin_armor, 70, 1),
    (item_set_slot, itm_sa_novici_ibelin_armor, 76, 29),
    (item_set_slot, itm_sa_novici_ibelin_armor, 79, 0),
    (item_set_slot, itm_sa_novici_ibelin_armor, 80, 26),
    (item_set_slot, itm_sa_novici_ibelin_armor, 81, 12),
    (item_set_slot, itm_sa_archer_ibelin_armor, 69, 1800),
    (item_set_slot, itm_sa_archer_ibelin_armor, 68, 8),
    (item_set_slot, itm_sa_archer_ibelin_armor, 70, 1),
    (item_set_slot, itm_sa_archer_ibelin_armor, 76, 29),
    (item_set_slot, itm_sa_archer_ibelin_armor, 79, 0),
    (item_set_slot, itm_sa_archer_ibelin_armor, 80, 33),
    (item_set_slot, itm_sa_archer_ibelin_armor, 81, 14),
    (item_set_slot, itm_sa_armor_infantry_ibelin, 69, 1800),
    (item_set_slot, itm_sa_armor_infantry_ibelin, 68, 8),
    (item_set_slot, itm_sa_armor_infantry_ibelin, 70, 1),
    (item_set_slot, itm_sa_armor_infantry_ibelin, 76, 29),
    (item_set_slot, itm_sa_armor_infantry_ibelin, 79, 0),
    (item_set_slot, itm_sa_armor_infantry_ibelin, 80, 33),
    (item_set_slot, itm_sa_armor_infantry_ibelin, 81, 14),
    (item_set_slot, itm_sa_sergeant_ibelin_armor, 69, 2600),
    (item_set_slot, itm_sa_sergeant_ibelin_armor, 68, 10),
    (item_set_slot, itm_sa_sergeant_ibelin_armor, 70, 1),
    (item_set_slot, itm_sa_sergeant_ibelin_armor, 76, 29),
    (item_set_slot, itm_sa_sergeant_ibelin_armor, 79, 0),
    (item_set_slot, itm_sa_sergeant_ibelin_armor, 80, 51),
    (item_set_slot, itm_sa_sergeant_ibelin_armor, 81, 20),
    (item_set_slot, itm_sa_knight_armor_ibelin_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_ibelin_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_ibelin_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_ibelin_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_ibelin_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_ibelin_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_ibelin_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_ibelin_1_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_ibelin_1_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_ibelin_1_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_ibelin_1_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_ibelin_1_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_ibelin_1_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_ibelin_1_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_ibelin_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_ibelin_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_ibelin_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_ibelin_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_ibelin_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_ibelin_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_ibelin_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_ibelin_2_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_ibelin_2_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_ibelin_2_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_ibelin_2_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_ibelin_2_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_ibelin_2_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_ibelin_2_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_ibelin_3, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_ibelin_3, 68, 12),
    (item_set_slot, itm_sa_knight_armor_ibelin_3, 70, 1),
    (item_set_slot, itm_sa_knight_armor_ibelin_3, 76, 29),
    (item_set_slot, itm_sa_knight_armor_ibelin_3, 79, 0),
    (item_set_slot, itm_sa_knight_armor_ibelin_3, 80, 64),
    (item_set_slot, itm_sa_knight_armor_ibelin_3, 81, 24),
    (item_set_slot, itm_sa_knight_armor_ibelin_3_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_ibelin_3_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_ibelin_3_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_ibelin_3_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_ibelin_3_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_ibelin_3_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_ibelin_3_cloak, 81, 24),
    (item_set_slot, itm_sa_novici_jerusalem_armor, 69, 1400),
    (item_set_slot, itm_sa_novici_jerusalem_armor, 68, 5),
    (item_set_slot, itm_sa_novici_jerusalem_armor, 70, 1),
    (item_set_slot, itm_sa_novici_jerusalem_armor, 76, 29),
    (item_set_slot, itm_sa_novici_jerusalem_armor, 79, 0),
    (item_set_slot, itm_sa_novici_jerusalem_armor, 80, 26),
    (item_set_slot, itm_sa_novici_jerusalem_armor, 81, 12),
    (item_set_slot, itm_sa_archer_jerusalem_armor_1, 69, 1800),
    (item_set_slot, itm_sa_archer_jerusalem_armor_1, 68, 8),
    (item_set_slot, itm_sa_archer_jerusalem_armor_1, 70, 1),
    (item_set_slot, itm_sa_archer_jerusalem_armor_1, 76, 29),
    (item_set_slot, itm_sa_archer_jerusalem_armor_1, 79, 0),
    (item_set_slot, itm_sa_archer_jerusalem_armor_1, 80, 33),
    (item_set_slot, itm_sa_archer_jerusalem_armor_1, 81, 14),
    (item_set_slot, itm_sa_armor_infantry_jerusalem_1, 69, 1800),
    (item_set_slot, itm_sa_armor_infantry_jerusalem_1, 68, 8),
    (item_set_slot, itm_sa_armor_infantry_jerusalem_1, 70, 1),
    (item_set_slot, itm_sa_armor_infantry_jerusalem_1, 76, 29),
    (item_set_slot, itm_sa_armor_infantry_jerusalem_1, 79, 0),
    (item_set_slot, itm_sa_armor_infantry_jerusalem_1, 80, 33),
    (item_set_slot, itm_sa_armor_infantry_jerusalem_1, 81, 14),
    (item_set_slot, itm_sa_sergeant_jerusalem_armor_1, 69, 2600),
    (item_set_slot, itm_sa_sergeant_jerusalem_armor_1, 68, 10),
    (item_set_slot, itm_sa_sergeant_jerusalem_armor_1, 70, 1),
    (item_set_slot, itm_sa_sergeant_jerusalem_armor_1, 76, 29),
    (item_set_slot, itm_sa_sergeant_jerusalem_armor_1, 79, 0),
    (item_set_slot, itm_sa_sergeant_jerusalem_armor_1, 80, 51),
    (item_set_slot, itm_sa_sergeant_jerusalem_armor_1, 81, 20),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_1_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_2_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3, 81, 24),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_jerusalem_3_cloak_1, 81, 24),
    (item_set_slot, itm_sa_armor_king_jerusalem, 69, 3100),
    (item_set_slot, itm_sa_armor_king_jerusalem, 68, 13),
    (item_set_slot, itm_sa_armor_king_jerusalem, 70, 1),
    (item_set_slot, itm_sa_armor_king_jerusalem, 76, 29),
    (item_set_slot, itm_sa_armor_king_jerusalem, 79, 0),
    (item_set_slot, itm_sa_armor_king_jerusalem, 80, 72),
    (item_set_slot, itm_sa_armor_king_jerusalem, 81, 30),
    (item_set_slot, itm_sa_novici_templar_armor, 69, 1400),
    (item_set_slot, itm_sa_novici_templar_armor, 68, 5),
    (item_set_slot, itm_sa_novici_templar_armor, 70, 1),
    (item_set_slot, itm_sa_novici_templar_armor, 76, 29),
    (item_set_slot, itm_sa_novici_templar_armor, 79, 0),
    (item_set_slot, itm_sa_novici_templar_armor, 80, 26),
    (item_set_slot, itm_sa_novici_templar_armor, 81, 12),
    (item_set_slot, itm_sa_archer_templar_armor_1, 69, 1800),
    (item_set_slot, itm_sa_archer_templar_armor_1, 68, 8),
    (item_set_slot, itm_sa_archer_templar_armor_1, 70, 1),
    (item_set_slot, itm_sa_archer_templar_armor_1, 76, 29),
    (item_set_slot, itm_sa_archer_templar_armor_1, 79, 0),
    (item_set_slot, itm_sa_archer_templar_armor_1, 80, 33),
    (item_set_slot, itm_sa_archer_templar_armor_1, 81, 14),
    (item_set_slot, itm_armor_infantry_templar_a, 69, 1800),
    (item_set_slot, itm_armor_infantry_templar_a, 68, 8),
    (item_set_slot, itm_armor_infantry_templar_a, 70, 1),
    (item_set_slot, itm_armor_infantry_templar_a, 76, 29),
    (item_set_slot, itm_armor_infantry_templar_a, 79, 0),
    (item_set_slot, itm_armor_infantry_templar_a, 80, 33),
    (item_set_slot, itm_armor_infantry_templar_a, 81, 14),
    (item_set_slot, itm_armor_infantry_templar_b, 69, 1800),
    (item_set_slot, itm_armor_infantry_templar_b, 68, 8),
    (item_set_slot, itm_armor_infantry_templar_b, 70, 1),
    (item_set_slot, itm_armor_infantry_templar_b, 76, 29),
    (item_set_slot, itm_armor_infantry_templar_b, 79, 0),
    (item_set_slot, itm_armor_infantry_templar_b, 80, 33),
    (item_set_slot, itm_armor_infantry_templar_b, 81, 14),
    (item_set_slot, itm_sa_sergeant_templar_armor, 69, 2600),
    (item_set_slot, itm_sa_sergeant_templar_armor, 68, 10),
    (item_set_slot, itm_sa_sergeant_templar_armor, 70, 1),
    (item_set_slot, itm_sa_sergeant_templar_armor, 76, 29),
    (item_set_slot, itm_sa_sergeant_templar_armor, 79, 0),
    (item_set_slot, itm_sa_sergeant_templar_armor, 80, 51),
    (item_set_slot, itm_sa_sergeant_templar_armor, 81, 20),
    (item_set_slot, itm_sa_armor_monie_templar_a, 69, 2600),
    (item_set_slot, itm_sa_armor_monie_templar_a, 68, 10),
    (item_set_slot, itm_sa_armor_monie_templar_a, 70, 1),
    (item_set_slot, itm_sa_armor_monie_templar_a, 76, 29),
    (item_set_slot, itm_sa_armor_monie_templar_a, 79, 0),
    (item_set_slot, itm_sa_armor_monie_templar_a, 80, 51),
    (item_set_slot, itm_sa_armor_monie_templar_a, 81, 20),
    (item_set_slot, itm_sa_armor_monie_templar_b, 69, 2600),
    (item_set_slot, itm_sa_armor_monie_templar_b, 68, 10),
    (item_set_slot, itm_sa_armor_monie_templar_b, 70, 1),
    (item_set_slot, itm_sa_armor_monie_templar_b, 76, 29),
    (item_set_slot, itm_sa_armor_monie_templar_b, 79, 0),
    (item_set_slot, itm_sa_armor_monie_templar_b, 80, 51),
    (item_set_slot, itm_sa_armor_monie_templar_b, 81, 20),
    (item_set_slot, itm_sa_knight_armor_templar_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_1_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_1_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_1_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_1_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_1_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_1_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_1_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_2_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_2_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_2_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_2_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_2_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_2_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_2_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_3, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_3, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_3, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_3, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_3, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_3, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_3, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_3_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_3_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_3_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_3_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_3_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_3_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_3_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_4, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_4, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_4, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_4, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_4, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_4, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_4, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_4_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_4_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_4_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_4_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_4_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_4_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_4_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_6, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_6, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_6, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_6, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_6, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_6, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_6, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_6_cloak_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_5, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_5, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_5, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_5, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_5, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_5, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_5, 81, 24),
    (item_set_slot, itm_sa_knight_armor_templar_5_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_templar_5_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_templar_5_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_templar_5_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_templar_5_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_templar_5_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_templar_5_cloak, 81, 24),
    (item_set_slot, itm_monie_templar_a, 69, 3100),
    (item_set_slot, itm_monie_templar_a, 68, 12),
    (item_set_slot, itm_monie_templar_a, 70, 1),
    (item_set_slot, itm_monie_templar_a, 76, 29),
    (item_set_slot, itm_monie_templar_a, 79, 0),
    (item_set_slot, itm_monie_templar_a, 80, 64),
    (item_set_slot, itm_monie_templar_a, 81, 24),
    (item_set_slot, itm_monie_templar_b, 69, 3100),
    (item_set_slot, itm_monie_templar_b, 68, 12),
    (item_set_slot, itm_monie_templar_b, 70, 1),
    (item_set_slot, itm_monie_templar_b, 76, 29),
    (item_set_slot, itm_monie_templar_b, 79, 0),
    (item_set_slot, itm_monie_templar_b, 80, 64),
    (item_set_slot, itm_monie_templar_b, 81, 24),
    (item_set_slot, itm_bishop_templar, 69, 3100),
    (item_set_slot, itm_bishop_templar, 68, 12),
    (item_set_slot, itm_bishop_templar, 70, 1),
    (item_set_slot, itm_bishop_templar, 76, 29),
    (item_set_slot, itm_bishop_templar, 79, 0),
    (item_set_slot, itm_bishop_templar, 80, 64),
    (item_set_slot, itm_bishop_templar, 81, 24),
    (item_set_slot, itm_archbishop_templar, 69, 3100),
    (item_set_slot, itm_archbishop_templar, 68, 13),
    (item_set_slot, itm_archbishop_templar, 70, 1),
    (item_set_slot, itm_archbishop_templar, 76, 29),
    (item_set_slot, itm_archbishop_templar, 79, 0),
    (item_set_slot, itm_archbishop_templar, 80, 72),
    (item_set_slot, itm_archbishop_templar, 81, 30),
    (item_set_slot, itm_armor_master_order_templar, 69, 3100),
    (item_set_slot, itm_armor_master_order_templar, 68, 13),
    (item_set_slot, itm_armor_master_order_templar, 70, 1),
    (item_set_slot, itm_armor_master_order_templar, 76, 29),
    (item_set_slot, itm_armor_master_order_templar, 79, 0),
    (item_set_slot, itm_armor_master_order_templar, 80, 72),
    (item_set_slot, itm_armor_master_order_templar, 81, 30),
    (item_set_slot, itm_sa_novici_hospitaller_armor, 69, 1400),
    (item_set_slot, itm_sa_novici_hospitaller_armor, 68, 5),
    (item_set_slot, itm_sa_novici_hospitaller_armor, 70, 1),
    (item_set_slot, itm_sa_novici_hospitaller_armor, 76, 29),
    (item_set_slot, itm_sa_novici_hospitaller_armor, 79, 0),
    (item_set_slot, itm_sa_novici_hospitaller_armor, 80, 26),
    (item_set_slot, itm_sa_novici_hospitaller_armor, 81, 12),
    (item_set_slot, itm_sa_archer_hospitaller_armor_1, 69, 1800),
    (item_set_slot, itm_sa_archer_hospitaller_armor_1, 68, 8),
    (item_set_slot, itm_sa_archer_hospitaller_armor_1, 70, 1),
    (item_set_slot, itm_sa_archer_hospitaller_armor_1, 76, 29),
    (item_set_slot, itm_sa_archer_hospitaller_armor_1, 79, 0),
    (item_set_slot, itm_sa_archer_hospitaller_armor_1, 80, 33),
    (item_set_slot, itm_sa_archer_hospitaller_armor_1, 81, 14),
    (item_set_slot, itm_sa_armor_infantry_hospitaller_1, 69, 1800),
    (item_set_slot, itm_sa_armor_infantry_hospitaller_1, 68, 8),
    (item_set_slot, itm_sa_armor_infantry_hospitaller_1, 70, 1),
    (item_set_slot, itm_sa_armor_infantry_hospitaller_1, 76, 29),
    (item_set_slot, itm_sa_armor_infantry_hospitaller_1, 79, 0),
    (item_set_slot, itm_sa_armor_infantry_hospitaller_1, 80, 33),
    (item_set_slot, itm_sa_armor_infantry_hospitaller_1, 81, 14),
    (item_set_slot, itm_sa_sergeant_hospitaller_armor_1, 69, 2600),
    (item_set_slot, itm_sa_sergeant_hospitaller_armor_1, 68, 10),
    (item_set_slot, itm_sa_sergeant_hospitaller_armor_1, 70, 1),
    (item_set_slot, itm_sa_sergeant_hospitaller_armor_1, 76, 29),
    (item_set_slot, itm_sa_sergeant_hospitaller_armor_1, 79, 0),
    (item_set_slot, itm_sa_sergeant_hospitaller_armor_1, 80, 51),
    (item_set_slot, itm_sa_sergeant_hospitaller_armor_1, 81, 20),
    (item_set_slot, itm_sa_armor_monie_hospitaller_a, 69, 2600),
    (item_set_slot, itm_sa_armor_monie_hospitaller_a, 68, 10),
    (item_set_slot, itm_sa_armor_monie_hospitaller_a, 70, 1),
    (item_set_slot, itm_sa_armor_monie_hospitaller_a, 76, 29),
    (item_set_slot, itm_sa_armor_monie_hospitaller_a, 79, 0),
    (item_set_slot, itm_sa_armor_monie_hospitaller_a, 80, 51),
    (item_set_slot, itm_sa_armor_monie_hospitaller_a, 81, 20),
    (item_set_slot, itm_sa_armor_monie_hospitaller_b, 69, 2600),
    (item_set_slot, itm_sa_armor_monie_hospitaller_b, 68, 10),
    (item_set_slot, itm_sa_armor_monie_hospitaller_b, 70, 1),
    (item_set_slot, itm_sa_armor_monie_hospitaller_b, 76, 29),
    (item_set_slot, itm_sa_armor_monie_hospitaller_b, 79, 0),
    (item_set_slot, itm_sa_armor_monie_hospitaller_b, 80, 51),
    (item_set_slot, itm_sa_armor_monie_hospitaller_b, 81, 20),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_1_cloak_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_2_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_3_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_hospitaller_4_cloak_2, 81, 24),
    (item_set_slot, itm_monie_hospitaller_a, 69, 3100),
    (item_set_slot, itm_monie_hospitaller_a, 68, 12),
    (item_set_slot, itm_monie_hospitaller_a, 70, 1),
    (item_set_slot, itm_monie_hospitaller_a, 76, 29),
    (item_set_slot, itm_monie_hospitaller_a, 79, 0),
    (item_set_slot, itm_monie_hospitaller_a, 80, 64),
    (item_set_slot, itm_monie_hospitaller_a, 81, 24),
    (item_set_slot, itm_monie_hospitaller_b, 69, 3100),
    (item_set_slot, itm_monie_hospitaller_b, 68, 12),
    (item_set_slot, itm_monie_hospitaller_b, 70, 1),
    (item_set_slot, itm_monie_hospitaller_b, 76, 29),
    (item_set_slot, itm_monie_hospitaller_b, 79, 0),
    (item_set_slot, itm_monie_hospitaller_b, 80, 64),
    (item_set_slot, itm_monie_hospitaller_b, 81, 24),
    (item_set_slot, itm_bishop_hospitaller, 69, 3100),
    (item_set_slot, itm_bishop_hospitaller, 68, 12),
    (item_set_slot, itm_bishop_hospitaller, 70, 1),
    (item_set_slot, itm_bishop_hospitaller, 76, 29),
    (item_set_slot, itm_bishop_hospitaller, 79, 0),
    (item_set_slot, itm_bishop_hospitaller, 80, 64),
    (item_set_slot, itm_bishop_hospitaller, 81, 24),
    (item_set_slot, itm_archbishop_hospitaller, 69, 3100),
    (item_set_slot, itm_archbishop_hospitaller, 68, 12),
    (item_set_slot, itm_archbishop_hospitaller, 70, 1),
    (item_set_slot, itm_archbishop_hospitaller, 76, 29),
    (item_set_slot, itm_archbishop_hospitaller, 79, 0),
    (item_set_slot, itm_archbishop_hospitaller, 80, 64),
    (item_set_slot, itm_archbishop_hospitaller, 81, 24),
    (item_set_slot, itm_armor_master_order_hospitaller, 69, 3100),
    (item_set_slot, itm_armor_master_order_hospitaller, 68, 13),
    (item_set_slot, itm_armor_master_order_hospitaller, 70, 1),
    (item_set_slot, itm_armor_master_order_hospitaller, 76, 29),
    (item_set_slot, itm_armor_master_order_hospitaller, 79, 0),
    (item_set_slot, itm_armor_master_order_hospitaller, 80, 72),
    (item_set_slot, itm_armor_master_order_hospitaller, 81, 30),
    (item_set_slot, itm_sa_novici_tevton_armor, 69, 1400),
    (item_set_slot, itm_sa_novici_tevton_armor, 68, 5),
    (item_set_slot, itm_sa_novici_tevton_armor, 70, 1),
    (item_set_slot, itm_sa_novici_tevton_armor, 76, 29),
    (item_set_slot, itm_sa_novici_tevton_armor, 79, 0),
    (item_set_slot, itm_sa_novici_tevton_armor, 80, 26),
    (item_set_slot, itm_sa_novici_tevton_armor, 81, 12),
    (item_set_slot, itm_sa_archer_tevton_armor, 69, 1800),
    (item_set_slot, itm_sa_archer_tevton_armor, 68, 8),
    (item_set_slot, itm_sa_archer_tevton_armor, 70, 1),
    (item_set_slot, itm_sa_archer_tevton_armor, 76, 29),
    (item_set_slot, itm_sa_archer_tevton_armor, 79, 0),
    (item_set_slot, itm_sa_archer_tevton_armor, 80, 33),
    (item_set_slot, itm_sa_archer_tevton_armor, 81, 14),
    (item_set_slot, itm_sa_armor_infantry_tevton, 69, 1800),
    (item_set_slot, itm_sa_armor_infantry_tevton, 68, 8),
    (item_set_slot, itm_sa_armor_infantry_tevton, 70, 1),
    (item_set_slot, itm_sa_armor_infantry_tevton, 76, 29),
    (item_set_slot, itm_sa_armor_infantry_tevton, 79, 0),
    (item_set_slot, itm_sa_armor_infantry_tevton, 80, 33),
    (item_set_slot, itm_sa_armor_infantry_tevton, 81, 14),
    (item_set_slot, itm_sa_sergeant_tevton_armor, 69, 2600),
    (item_set_slot, itm_sa_sergeant_tevton_armor, 68, 10),
    (item_set_slot, itm_sa_sergeant_tevton_armor, 70, 1),
    (item_set_slot, itm_sa_sergeant_tevton_armor, 76, 29),
    (item_set_slot, itm_sa_sergeant_tevton_armor, 79, 0),
    (item_set_slot, itm_sa_sergeant_tevton_armor, 80, 51),
    (item_set_slot, itm_sa_sergeant_tevton_armor, 81, 20),
    (item_set_slot, itm_sa_armor_monie_tevton_a, 69, 2600),
    (item_set_slot, itm_sa_armor_monie_tevton_a, 68, 10),
    (item_set_slot, itm_sa_armor_monie_tevton_a, 70, 1),
    (item_set_slot, itm_sa_armor_monie_tevton_a, 76, 29),
    (item_set_slot, itm_sa_armor_monie_tevton_a, 79, 0),
    (item_set_slot, itm_sa_armor_monie_tevton_a, 80, 51),
    (item_set_slot, itm_sa_armor_monie_tevton_a, 81, 20),
    (item_set_slot, itm_sa_armor_monie_tevton_b, 69, 2600),
    (item_set_slot, itm_sa_armor_monie_tevton_b, 68, 10),
    (item_set_slot, itm_sa_armor_monie_tevton_b, 70, 1),
    (item_set_slot, itm_sa_armor_monie_tevton_b, 76, 29),
    (item_set_slot, itm_sa_armor_monie_tevton_b, 79, 0),
    (item_set_slot, itm_sa_armor_monie_tevton_b, 80, 51),
    (item_set_slot, itm_sa_armor_monie_tevton_b, 81, 20),
    (item_set_slot, itm_sa_knight_armor_tevton_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_1_cloak_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_2_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_3, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_3, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_3, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_3, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_3, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_3, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_3, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_3_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_4, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_4, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_4, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_4, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_4, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_4, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_4, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_3, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_3, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_3, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_3, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_3, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_3, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tevton_4_cloak_3, 81, 24),
    (item_set_slot, itm_monie_tevton_a, 69, 3100),
    (item_set_slot, itm_monie_tevton_a, 68, 12),
    (item_set_slot, itm_monie_tevton_a, 70, 1),
    (item_set_slot, itm_monie_tevton_a, 76, 29),
    (item_set_slot, itm_monie_tevton_a, 79, 0),
    (item_set_slot, itm_monie_tevton_a, 80, 64),
    (item_set_slot, itm_monie_tevton_a, 81, 24),
    (item_set_slot, itm_monie_tevton_b, 69, 3100),
    (item_set_slot, itm_monie_tevton_b, 68, 12),
    (item_set_slot, itm_monie_tevton_b, 70, 1),
    (item_set_slot, itm_monie_tevton_b, 76, 29),
    (item_set_slot, itm_monie_tevton_b, 79, 0),
    (item_set_slot, itm_monie_tevton_b, 80, 64),
    (item_set_slot, itm_monie_tevton_b, 81, 24),
    (item_set_slot, itm_bishop_tevton, 69, 3100),
    (item_set_slot, itm_bishop_tevton, 68, 12),
    (item_set_slot, itm_bishop_tevton, 70, 1),
    (item_set_slot, itm_bishop_tevton, 76, 29),
    (item_set_slot, itm_bishop_tevton, 79, 0),
    (item_set_slot, itm_bishop_tevton, 80, 64),
    (item_set_slot, itm_bishop_tevton, 81, 24),
    (item_set_slot, itm_archbishop_tevton, 69, 3100),
    (item_set_slot, itm_archbishop_tevton, 68, 12),
    (item_set_slot, itm_archbishop_tevton, 70, 1),
    (item_set_slot, itm_archbishop_tevton, 76, 29),
    (item_set_slot, itm_archbishop_tevton, 79, 0),
    (item_set_slot, itm_archbishop_tevton, 80, 64),
    (item_set_slot, itm_archbishop_tevton, 81, 24),
    (item_set_slot, itm_armor_master_order_tevton, 69, 3100),
    (item_set_slot, itm_armor_master_order_tevton, 68, 13),
    (item_set_slot, itm_armor_master_order_tevton, 70, 1),
    (item_set_slot, itm_armor_master_order_tevton, 76, 29),
    (item_set_slot, itm_armor_master_order_tevton, 79, 0),
    (item_set_slot, itm_armor_master_order_tevton, 80, 72),
    (item_set_slot, itm_armor_master_order_tevton, 81, 30),
    (item_set_slot, itm_sa_novici_antioch_armor, 69, 1400),
    (item_set_slot, itm_sa_novici_antioch_armor, 68, 5),
    (item_set_slot, itm_sa_novici_antioch_armor, 70, 1),
    (item_set_slot, itm_sa_novici_antioch_armor, 76, 29),
    (item_set_slot, itm_sa_novici_antioch_armor, 79, 0),
    (item_set_slot, itm_sa_novici_antioch_armor, 80, 26),
    (item_set_slot, itm_sa_novici_antioch_armor, 81, 12),
    (item_set_slot, itm_sa_archer_antioch_armor, 69, 1800),
    (item_set_slot, itm_sa_archer_antioch_armor, 68, 8),
    (item_set_slot, itm_sa_archer_antioch_armor, 70, 1),
    (item_set_slot, itm_sa_archer_antioch_armor, 76, 29),
    (item_set_slot, itm_sa_archer_antioch_armor, 79, 0),
    (item_set_slot, itm_sa_archer_antioch_armor, 80, 33),
    (item_set_slot, itm_sa_archer_antioch_armor, 81, 14),
    (item_set_slot, itm_sa_armor_infantry_antioch, 69, 1800),
    (item_set_slot, itm_sa_armor_infantry_antioch, 68, 8),
    (item_set_slot, itm_sa_armor_infantry_antioch, 70, 1),
    (item_set_slot, itm_sa_armor_infantry_antioch, 76, 29),
    (item_set_slot, itm_sa_armor_infantry_antioch, 79, 0),
    (item_set_slot, itm_sa_armor_infantry_antioch, 80, 33),
    (item_set_slot, itm_sa_armor_infantry_antioch, 81, 14),
    (item_set_slot, itm_sa_sergeant_armor_antioch, 69, 2600),
    (item_set_slot, itm_sa_sergeant_armor_antioch, 68, 10),
    (item_set_slot, itm_sa_sergeant_armor_antioch, 70, 1),
    (item_set_slot, itm_sa_sergeant_armor_antioch, 76, 29),
    (item_set_slot, itm_sa_sergeant_armor_antioch, 79, 0),
    (item_set_slot, itm_sa_sergeant_armor_antioch, 80, 51),
    (item_set_slot, itm_sa_sergeant_armor_antioch, 81, 20),
    (item_set_slot, itm_sa_knight_armor_antioch_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_antioch_1_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_1_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_1_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_1_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_1_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_1_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_1_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_antioch_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_antioch_2_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_2_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_2_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_2_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_2_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_2_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_2_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_antioch_3, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_3, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_3, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_3, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_3, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_3, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_3, 81, 24),
    (item_set_slot, itm_sa_knight_armor_antioch_3_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_3_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_3_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_3_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_3_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_3_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_3_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_antioch_4, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_4, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_4, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_4, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_4, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_4, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_4, 81, 24),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_antioch_4_cloak_1, 81, 24),
    (item_set_slot, itm_sa_novici_tripoli_armor, 69, 1400),
    (item_set_slot, itm_sa_novici_tripoli_armor, 68, 5),
    (item_set_slot, itm_sa_novici_tripoli_armor, 70, 1),
    (item_set_slot, itm_sa_novici_tripoli_armor, 76, 29),
    (item_set_slot, itm_sa_novici_tripoli_armor, 79, 0),
    (item_set_slot, itm_sa_novici_tripoli_armor, 80, 26),
    (item_set_slot, itm_sa_novici_tripoli_armor, 81, 12),
    (item_set_slot, itm_sa_archer_tripoli_armor, 69, 1800),
    (item_set_slot, itm_sa_archer_tripoli_armor, 68, 8),
    (item_set_slot, itm_sa_archer_tripoli_armor, 70, 1),
    (item_set_slot, itm_sa_archer_tripoli_armor, 76, 29),
    (item_set_slot, itm_sa_archer_tripoli_armor, 79, 0),
    (item_set_slot, itm_sa_archer_tripoli_armor, 80, 33),
    (item_set_slot, itm_sa_archer_tripoli_armor, 81, 14),
    (item_set_slot, itm_sa_armor_infantry_tripoli, 69, 1800),
    (item_set_slot, itm_sa_armor_infantry_tripoli, 68, 8),
    (item_set_slot, itm_sa_armor_infantry_tripoli, 70, 1),
    (item_set_slot, itm_sa_armor_infantry_tripoli, 76, 29),
    (item_set_slot, itm_sa_armor_infantry_tripoli, 79, 0),
    (item_set_slot, itm_sa_armor_infantry_tripoli, 80, 33),
    (item_set_slot, itm_sa_armor_infantry_tripoli, 81, 14),
    (item_set_slot, itm_sa_sergeant_armor_tripoli, 69, 2600),
    (item_set_slot, itm_sa_sergeant_armor_tripoli, 68, 10),
    (item_set_slot, itm_sa_sergeant_armor_tripoli, 70, 1),
    (item_set_slot, itm_sa_sergeant_armor_tripoli, 76, 29),
    (item_set_slot, itm_sa_sergeant_armor_tripoli, 79, 0),
    (item_set_slot, itm_sa_sergeant_armor_tripoli, 80, 51),
    (item_set_slot, itm_sa_sergeant_armor_tripoli, 81, 20),
    (item_set_slot, itm_sa_knight_armor_tripolli_1, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tripolli_1, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tripolli_1, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tripolli_1, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tripolli_1, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tripolli_1, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tripolli_1, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tripolli_1_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tripolli_1_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tripolli_1_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tripolli_1_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tripolli_1_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tripolli_1_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tripolli_1_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tripolli_2, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tripolli_2, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tripolli_2, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tripolli_2, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tripolli_2, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tripolli_2, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tripolli_2, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tripolli_2_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tripolli_2_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tripolli_2_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tripolli_2_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tripolli_2_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tripolli_2_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tripolli_2_cloak, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tripolli_3, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tripolli_3, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tripolli_3, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tripolli_3, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tripolli_3, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tripolli_3, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tripolli_3, 81, 24),
    (item_set_slot, itm_sa_knight_armor_tripolli_3_cloak, 69, 3100),
    (item_set_slot, itm_sa_knight_armor_tripolli_3_cloak, 68, 12),
    (item_set_slot, itm_sa_knight_armor_tripolli_3_cloak, 70, 1),
    (item_set_slot, itm_sa_knight_armor_tripolli_3_cloak, 76, 29),
    (item_set_slot, itm_sa_knight_armor_tripolli_3_cloak, 79, 0),
    (item_set_slot, itm_sa_knight_armor_tripolli_3_cloak, 80, 64),
    (item_set_slot, itm_sa_knight_armor_tripolli_3_cloak, 81, 24),
    (item_set_slot, itm_sa_arabian_light_armor, 69, 1400),
    (item_set_slot, itm_sa_arabian_light_armor, 68, 5),
    (item_set_slot, itm_sa_arabian_light_armor, 70, 1),
    (item_set_slot, itm_sa_arabian_light_armor, 76, 29),
    (item_set_slot, itm_sa_arabian_light_armor, 79, 0),
    (item_set_slot, itm_sa_arabian_light_armor, 80, 26),
    (item_set_slot, itm_sa_arabian_light_armor, 81, 12),
    (item_set_slot, itm_sa_arabian_light_armor_2, 69, 1400),
    (item_set_slot, itm_sa_arabian_light_armor_2, 68, 5),
    (item_set_slot, itm_sa_arabian_light_armor_2, 70, 1),
    (item_set_slot, itm_sa_arabian_light_armor_2, 76, 29),
    (item_set_slot, itm_sa_arabian_light_armor_2, 79, 0),
    (item_set_slot, itm_sa_arabian_light_armor_2, 80, 26),
    (item_set_slot, itm_sa_arabian_light_armor_2, 81, 12),
    (item_set_slot, itm_sa_arabian_light_armor_3, 69, 1400),
    (item_set_slot, itm_sa_arabian_light_armor_3, 68, 5),
    (item_set_slot, itm_sa_arabian_light_armor_3, 70, 1),
    (item_set_slot, itm_sa_arabian_light_armor_3, 76, 29),
    (item_set_slot, itm_sa_arabian_light_armor_3, 79, 0),
    (item_set_slot, itm_sa_arabian_light_armor_3, 80, 26),
    (item_set_slot, itm_sa_arabian_light_armor_3, 81, 12),
    (item_set_slot, itm_sa_arabian_light_armor_4, 69, 1400),
    (item_set_slot, itm_sa_arabian_light_armor_4, 68, 5),
    (item_set_slot, itm_sa_arabian_light_armor_4, 70, 1),
    (item_set_slot, itm_sa_arabian_light_armor_4, 76, 29),
    (item_set_slot, itm_sa_arabian_light_armor_4, 79, 0),
    (item_set_slot, itm_sa_arabian_light_armor_4, 80, 26),
    (item_set_slot, itm_sa_arabian_light_armor_4, 81, 12),
    (item_set_slot, itm_sa_armor_archer_saracin_1, 69, 1800),
    (item_set_slot, itm_sa_armor_archer_saracin_1, 68, 8),
    (item_set_slot, itm_sa_armor_archer_saracin_1, 70, 1),
    (item_set_slot, itm_sa_armor_archer_saracin_1, 76, 29),
    (item_set_slot, itm_sa_armor_archer_saracin_1, 79, 0),
    (item_set_slot, itm_sa_armor_archer_saracin_1, 80, 33),
    (item_set_slot, itm_sa_armor_archer_saracin_1, 81, 14),
    (item_set_slot, itm_sa_armor_archer_saracin_2, 69, 1800),
    (item_set_slot, itm_sa_armor_archer_saracin_2, 68, 8),
    (item_set_slot, itm_sa_armor_archer_saracin_2, 70, 1),
    (item_set_slot, itm_sa_armor_archer_saracin_2, 76, 29),
    (item_set_slot, itm_sa_armor_archer_saracin_2, 79, 0),
    (item_set_slot, itm_sa_armor_archer_saracin_2, 80, 33),
    (item_set_slot, itm_sa_armor_archer_saracin_2, 81, 14),
    (item_set_slot, itm_sa_armor_archer_saracin_3, 69, 1800),
    (item_set_slot, itm_sa_armor_archer_saracin_3, 68, 8),
    (item_set_slot, itm_sa_armor_archer_saracin_3, 70, 1),
    (item_set_slot, itm_sa_armor_archer_saracin_3, 76, 29),
    (item_set_slot, itm_sa_armor_archer_saracin_3, 79, 0),
    (item_set_slot, itm_sa_armor_archer_saracin_3, 80, 33),
    (item_set_slot, itm_sa_armor_archer_saracin_3, 81, 14),
    (item_set_slot, itm_sa_armor_archer_saracin_4, 69, 1800),
    (item_set_slot, itm_sa_armor_archer_saracin_4, 68, 8),
    (item_set_slot, itm_sa_armor_archer_saracin_4, 70, 1),
    (item_set_slot, itm_sa_armor_archer_saracin_4, 76, 29),
    (item_set_slot, itm_sa_armor_archer_saracin_4, 79, 0),
    (item_set_slot, itm_sa_armor_archer_saracin_4, 80, 33),
    (item_set_slot, itm_sa_armor_archer_saracin_4, 81, 14),
    (item_set_slot, itm_sa_armor_archer_saracin_5, 69, 1800),
    (item_set_slot, itm_sa_armor_archer_saracin_5, 68, 8),
    (item_set_slot, itm_sa_armor_archer_saracin_5, 70, 1),
    (item_set_slot, itm_sa_armor_archer_saracin_5, 76, 29),
    (item_set_slot, itm_sa_armor_archer_saracin_5, 79, 0),
    (item_set_slot, itm_sa_armor_archer_saracin_5, 80, 33),
    (item_set_slot, itm_sa_armor_archer_saracin_5, 81, 14),
    (item_set_slot, itm_sa_armor_archer_saracin_6, 69, 1800),
    (item_set_slot, itm_sa_armor_archer_saracin_6, 68, 8),
    (item_set_slot, itm_sa_armor_archer_saracin_6, 70, 1),
    (item_set_slot, itm_sa_armor_archer_saracin_6, 76, 29),
    (item_set_slot, itm_sa_armor_archer_saracin_6, 79, 0),
    (item_set_slot, itm_sa_armor_archer_saracin_6, 80, 33),
    (item_set_slot, itm_sa_armor_archer_saracin_6, 81, 14),
    (item_set_slot, itm_sa_heavy_armor_arabs_1, 69, 2100),
    (item_set_slot, itm_sa_heavy_armor_arabs_1, 68, 9),
    (item_set_slot, itm_sa_heavy_armor_arabs_1, 70, 1),
    (item_set_slot, itm_sa_heavy_armor_arabs_1, 76, 29),
    (item_set_slot, itm_sa_heavy_armor_arabs_1, 79, 0),
    (item_set_slot, itm_sa_heavy_armor_arabs_1, 80, 41),
    (item_set_slot, itm_sa_heavy_armor_arabs_1, 81, 17),
    (item_set_slot, itm_sa_heavy_armor_arabs_2, 69, 2100),
    (item_set_slot, itm_sa_heavy_armor_arabs_2, 68, 9),
    (item_set_slot, itm_sa_heavy_armor_arabs_2, 70, 1),
    (item_set_slot, itm_sa_heavy_armor_arabs_2, 76, 29),
    (item_set_slot, itm_sa_heavy_armor_arabs_2, 79, 0),
    (item_set_slot, itm_sa_heavy_armor_arabs_2, 80, 41),
    (item_set_slot, itm_sa_heavy_armor_arabs_2, 81, 17),
    (item_set_slot, itm_sa_heavy_armor_arabs_3, 69, 2100),
    (item_set_slot, itm_sa_heavy_armor_arabs_3, 68, 9),
    (item_set_slot, itm_sa_heavy_armor_arabs_3, 70, 1),
    (item_set_slot, itm_sa_heavy_armor_arabs_3, 76, 29),
    (item_set_slot, itm_sa_heavy_armor_arabs_3, 79, 0),
    (item_set_slot, itm_sa_heavy_armor_arabs_3, 80, 41),
    (item_set_slot, itm_sa_heavy_armor_arabs_3, 81, 17),
    (item_set_slot, itm_sa_heavy_armor_arabs_4, 69, 2100),
    (item_set_slot, itm_sa_heavy_armor_arabs_4, 68, 9),
    (item_set_slot, itm_sa_heavy_armor_arabs_4, 70, 1),
    (item_set_slot, itm_sa_heavy_armor_arabs_4, 76, 29),
    (item_set_slot, itm_sa_heavy_armor_arabs_4, 79, 0),
    (item_set_slot, itm_sa_heavy_armor_arabs_4, 80, 41),
    (item_set_slot, itm_sa_heavy_armor_arabs_4, 81, 17),
    (item_set_slot, itm_sa_heavy_armor_arabs_5, 69, 2100),
    (item_set_slot, itm_sa_heavy_armor_arabs_5, 68, 9),
    (item_set_slot, itm_sa_heavy_armor_arabs_5, 70, 1),
    (item_set_slot, itm_sa_heavy_armor_arabs_5, 76, 29),
    (item_set_slot, itm_sa_heavy_armor_arabs_5, 79, 0),
    (item_set_slot, itm_sa_heavy_armor_arabs_5, 80, 41),
    (item_set_slot, itm_sa_heavy_armor_arabs_5, 81, 17),
    (item_set_slot, itm_sa_heavy_armor_arabs_6, 69, 2100),
    (item_set_slot, itm_sa_heavy_armor_arabs_6, 68, 9),
    (item_set_slot, itm_sa_heavy_armor_arabs_6, 70, 1),
    (item_set_slot, itm_sa_heavy_armor_arabs_6, 76, 29),
    (item_set_slot, itm_sa_heavy_armor_arabs_6, 79, 0),
    (item_set_slot, itm_sa_heavy_armor_arabs_6, 80, 41),
    (item_set_slot, itm_sa_heavy_armor_arabs_6, 81, 17),
    (item_set_slot, itm_sa_heavy_armor_arabs_7, 69, 2100),
    (item_set_slot, itm_sa_heavy_armor_arabs_7, 68, 9),
    (item_set_slot, itm_sa_heavy_armor_arabs_7, 70, 1),
    (item_set_slot, itm_sa_heavy_armor_arabs_7, 76, 29),
    (item_set_slot, itm_sa_heavy_armor_arabs_7, 79, 0),
    (item_set_slot, itm_sa_heavy_armor_arabs_7, 80, 41),
    (item_set_slot, itm_sa_heavy_armor_arabs_7, 81, 17),
    (item_set_slot, itm_sa_heavy_armor_arabs_8, 69, 2100),
    (item_set_slot, itm_sa_heavy_armor_arabs_8, 68, 9),
    (item_set_slot, itm_sa_heavy_armor_arabs_8, 70, 1),
    (item_set_slot, itm_sa_heavy_armor_arabs_8, 76, 29),
    (item_set_slot, itm_sa_heavy_armor_arabs_8, 79, 0),
    (item_set_slot, itm_sa_heavy_armor_arabs_8, 80, 41),
    (item_set_slot, itm_sa_heavy_armor_arabs_8, 81, 17),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_1, 69, 3100),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_1, 68, 12),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_1, 70, 1),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_1, 76, 29),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_1, 79, 0),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_1, 80, 64),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_1, 81, 24),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_2, 69, 3100),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_2, 68, 12),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_2, 70, 1),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_2, 76, 29),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_2, 79, 0),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_2, 80, 64),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_2, 81, 24),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_3, 69, 3100),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_3, 68, 12),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_3, 70, 1),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_3, 76, 29),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_3, 79, 0),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_3, 80, 64),
    (item_set_slot, itm_sa_ghulam_heavy_cavalryman_3, 81, 24),
    (item_set_slot, itm_armor_sultan_saracens, 69, 3100),
    (item_set_slot, itm_armor_sultan_saracens, 68, 13),
    (item_set_slot, itm_armor_sultan_saracens, 70, 1),
    (item_set_slot, itm_armor_sultan_saracens, 76, 29),
    (item_set_slot, itm_armor_sultan_saracens, 79, 0),
    (item_set_slot, itm_armor_sultan_saracens, 80, 72),
    (item_set_slot, itm_armor_sultan_saracens, 81, 30),
    (item_set_slot, itm_turk_bandit_1, 69, 1400),
    (item_set_slot, itm_turk_bandit_1, 68, 5),
    (item_set_slot, itm_turk_bandit_1, 70, 1),
    (item_set_slot, itm_turk_bandit_1, 76, 29),
    (item_set_slot, itm_turk_bandit_1, 79, 0),
    (item_set_slot, itm_turk_bandit_1, 80, 26),
    (item_set_slot, itm_turk_bandit_1, 81, 12),
    (item_set_slot, itm_turk_bandit_2, 69, 2100),
    (item_set_slot, itm_turk_bandit_2, 68, 9),
    (item_set_slot, itm_turk_bandit_2, 70, 1),
    (item_set_slot, itm_turk_bandit_2, 76, 29),
    (item_set_slot, itm_turk_bandit_2, 79, 0),
    (item_set_slot, itm_turk_bandit_2, 80, 41),
    (item_set_slot, itm_turk_bandit_2, 81, 17),
    (item_set_slot, itm_turk_bandit_3, 69, 2100),
    (item_set_slot, itm_turk_bandit_3, 68, 9),
    (item_set_slot, itm_turk_bandit_3, 70, 1),
    (item_set_slot, itm_turk_bandit_3, 76, 29),
    (item_set_slot, itm_turk_bandit_3, 79, 0),
    (item_set_slot, itm_turk_bandit_3, 80, 41),
    (item_set_slot, itm_turk_bandit_3, 81, 17),
    (item_set_slot, itm_turk_bandit_4, 69, 1800),
    (item_set_slot, itm_turk_bandit_4, 68, 8),
    (item_set_slot, itm_turk_bandit_4, 70, 1),
    (item_set_slot, itm_turk_bandit_4, 76, 29),
    (item_set_slot, itm_turk_bandit_4, 79, 0),
    (item_set_slot, itm_turk_bandit_4, 80, 33),
    (item_set_slot, itm_turk_bandit_4, 81, 14),
    (item_set_slot, itm_caravan_armor_1, 69, 1100),
    (item_set_slot, itm_caravan_armor_1, 68, 3),
    (item_set_slot, itm_caravan_armor_1, 70, 1),
    (item_set_slot, itm_caravan_armor_1, 76, 29),
    (item_set_slot, itm_caravan_armor_1, 79, 0),
    (item_set_slot, itm_caravan_armor_1, 80, 21),
    (item_set_slot, itm_caravan_armor_1, 81, 10),
    (item_set_slot, itm_beduin_armor_a, 69, 1100),
    (item_set_slot, itm_beduin_armor_a, 68, 3),
    (item_set_slot, itm_beduin_armor_a, 70, 1),
    (item_set_slot, itm_beduin_armor_a, 76, 29),
    (item_set_slot, itm_beduin_armor_a, 79, 0),
    (item_set_slot, itm_beduin_armor_a, 80, 21),
    (item_set_slot, itm_beduin_armor_a, 81, 10),
    (item_set_slot, itm_beduin_armor_b, 69, 1100),
    (item_set_slot, itm_beduin_armor_b, 68, 3),
    (item_set_slot, itm_beduin_armor_b, 70, 1),
    (item_set_slot, itm_beduin_armor_b, 76, 29),
    (item_set_slot, itm_beduin_armor_b, 79, 0),
    (item_set_slot, itm_beduin_armor_b, 80, 21),
    (item_set_slot, itm_beduin_armor_b, 81, 10),
    (item_set_slot, itm_beduin_armor_c, 69, 1400),
    (item_set_slot, itm_beduin_armor_c, 68, 5),
    (item_set_slot, itm_beduin_armor_c, 70, 1),
    (item_set_slot, itm_beduin_armor_c, 76, 29),
    (item_set_slot, itm_beduin_armor_c, 79, 0),
    (item_set_slot, itm_beduin_armor_c, 80, 26),
    (item_set_slot, itm_beduin_armor_c, 81, 12),
    (item_set_slot, itm_arab_bandit_1, 69, 1400),
    (item_set_slot, itm_arab_bandit_1, 68, 5),
    (item_set_slot, itm_arab_bandit_1, 70, 1),
    (item_set_slot, itm_arab_bandit_1, 76, 29),
    (item_set_slot, itm_arab_bandit_1, 79, 0),
    (item_set_slot, itm_arab_bandit_1, 80, 26),
    (item_set_slot, itm_arab_bandit_1, 81, 12),
    (item_set_slot, itm_arab_bandit_2, 69, 2100),
    (item_set_slot, itm_arab_bandit_2, 68, 9),
    (item_set_slot, itm_arab_bandit_2, 70, 1),
    (item_set_slot, itm_arab_bandit_2, 76, 29),
    (item_set_slot, itm_arab_bandit_2, 79, 0),
    (item_set_slot, itm_arab_bandit_2, 80, 41),
    (item_set_slot, itm_arab_bandit_2, 81, 17),
    (item_set_slot, itm_arab_bandit_3, 69, 1800),
    (item_set_slot, itm_arab_bandit_3, 68, 8),
    (item_set_slot, itm_arab_bandit_3, 70, 1),
    (item_set_slot, itm_arab_bandit_3, 76, 29),
    (item_set_slot, itm_arab_bandit_3, 79, 0),
    (item_set_slot, itm_arab_bandit_3, 80, 33),
    (item_set_slot, itm_arab_bandit_3, 81, 14),
    (item_set_slot, itm_arab_bandit_4, 69, 1400),
    (item_set_slot, itm_arab_bandit_4, 68, 5),
    (item_set_slot, itm_arab_bandit_4, 70, 1),
    (item_set_slot, itm_arab_bandit_4, 76, 29),
    (item_set_slot, itm_arab_bandit_4, 79, 0),
    (item_set_slot, itm_arab_bandit_4, 80, 26),
    (item_set_slot, itm_arab_bandit_4, 81, 12),
    (item_set_slot, itm_dethertir_armor_1, 69, 2600),
    (item_set_slot, itm_dethertir_armor_1, 68, 10),
    (item_set_slot, itm_dethertir_armor_1, 70, 1),
    (item_set_slot, itm_dethertir_armor_1, 76, 29),
    (item_set_slot, itm_dethertir_armor_1, 79, 0),
    (item_set_slot, itm_dethertir_armor_1, 80, 51),
    (item_set_slot, itm_dethertir_armor_1, 81, 20),
    (item_set_slot, itm_dethertir_armor_2, 69, 2600),
    (item_set_slot, itm_dethertir_armor_2, 68, 10),
    (item_set_slot, itm_dethertir_armor_2, 70, 1),
    (item_set_slot, itm_dethertir_armor_2, 76, 29),
    (item_set_slot, itm_dethertir_armor_2, 79, 0),
    (item_set_slot, itm_dethertir_armor_2, 80, 51),
    (item_set_slot, itm_dethertir_armor_2, 81, 20),
    (item_set_slot, itm_dethertir_armor_3, 69, 2100),
    (item_set_slot, itm_dethertir_armor_3, 68, 9),
    (item_set_slot, itm_dethertir_armor_3, 70, 1),
    (item_set_slot, itm_dethertir_armor_3, 76, 29),
    (item_set_slot, itm_dethertir_armor_3, 79, 0),
    (item_set_slot, itm_dethertir_armor_3, 80, 41),
    (item_set_slot, itm_dethertir_armor_3, 81, 17),
    (item_set_slot, itm_dethertir_armor_4, 69, 2100),
    (item_set_slot, itm_dethertir_armor_4, 68, 9),
    (item_set_slot, itm_dethertir_armor_4, 70, 1),
    (item_set_slot, itm_dethertir_armor_4, 76, 29),
    (item_set_slot, itm_dethertir_armor_4, 79, 0),
    (item_set_slot, itm_dethertir_armor_4, 80, 41),
    (item_set_slot, itm_dethertir_armor_4, 81, 17),
    (item_set_slot, itm_securiti_caravan_crusader, 69, 2100),
    (item_set_slot, itm_securiti_caravan_crusader, 68, 9),
    (item_set_slot, itm_securiti_caravan_crusader, 70, 1),
    (item_set_slot, itm_securiti_caravan_crusader, 76, 29),
    (item_set_slot, itm_securiti_caravan_crusader, 79, 0),
    (item_set_slot, itm_securiti_caravan_crusader, 80, 41),
    (item_set_slot, itm_securiti_caravan_crusader, 81, 17),
    (item_set_slot, itm_securiti_caravan_cloak_crusader, 69, 2100),
    (item_set_slot, itm_securiti_caravan_cloak_crusader, 68, 9),
    (item_set_slot, itm_securiti_caravan_cloak_crusader, 70, 1),
    (item_set_slot, itm_securiti_caravan_cloak_crusader, 76, 29),
    (item_set_slot, itm_securiti_caravan_cloak_crusader, 79, 0),
    (item_set_slot, itm_securiti_caravan_cloak_crusader, 80, 41),
    (item_set_slot, itm_securiti_caravan_cloak_crusader, 81, 17),
    (item_set_slot, itm_beduin_turban_1, 69, 50),
    (item_set_slot, itm_beduin_turban_1, 68, 0),
    (item_set_slot, itm_beduin_turban_1, 70, 2),
    (item_set_slot, itm_beduin_turban_1, 76, 29),
    (item_set_slot, itm_beduin_turban_1, 79, 8),
    (item_set_slot, itm_beduin_turban_1, 80, 0),
    (item_set_slot, itm_beduin_turban_1, 81, 0),
    (item_set_slot, itm_beduin_turban_2, 69, 50),
    (item_set_slot, itm_beduin_turban_2, 68, 0),
    (item_set_slot, itm_beduin_turban_2, 70, 2),
    (item_set_slot, itm_beduin_turban_2, 76, 29),
    (item_set_slot, itm_beduin_turban_2, 79, 8),
    (item_set_slot, itm_beduin_turban_2, 80, 0),
    (item_set_slot, itm_beduin_turban_2, 81, 0),
    (item_set_slot, itm_beduin_turban_3, 69, 50),
    (item_set_slot, itm_beduin_turban_3, 68, 0),
    (item_set_slot, itm_beduin_turban_3, 70, 2),
    (item_set_slot, itm_beduin_turban_3, 76, 29),
    (item_set_slot, itm_beduin_turban_3, 79, 8),
    (item_set_slot, itm_beduin_turban_3, 80, 0),
    (item_set_slot, itm_beduin_turban_3, 81, 0),
    (item_set_slot, itm_beduin_turban_4, 69, 50),
    (item_set_slot, itm_beduin_turban_4, 68, 0),
    (item_set_slot, itm_beduin_turban_4, 70, 2),
    (item_set_slot, itm_beduin_turban_4, 76, 29),
    (item_set_slot, itm_beduin_turban_4, 79, 8),
    (item_set_slot, itm_beduin_turban_4, 80, 0),
    (item_set_slot, itm_beduin_turban_4, 81, 0),
    (item_set_slot, itm_securiti_crysader_helm_a, 69, 200),
    (item_set_slot, itm_securiti_crysader_helm_a, 68, 0),
    (item_set_slot, itm_securiti_crysader_helm_a, 70, 2),
    (item_set_slot, itm_securiti_crysader_helm_a, 76, 29),
    (item_set_slot, itm_securiti_crysader_helm_a, 79, 60),
    (item_set_slot, itm_securiti_crysader_helm_a, 80, 0),
    (item_set_slot, itm_securiti_crysader_helm_a, 81, 0),
    (item_set_slot, itm_securiti_crysader_helm_b, 69, 200),
    (item_set_slot, itm_securiti_crysader_helm_b, 68, 0),
    (item_set_slot, itm_securiti_crysader_helm_b, 70, 2),
    (item_set_slot, itm_securiti_crysader_helm_b, 76, 29),
    (item_set_slot, itm_securiti_crysader_helm_b, 79, 60),
    (item_set_slot, itm_securiti_crysader_helm_b, 80, 0),
    (item_set_slot, itm_securiti_crysader_helm_b, 81, 0),
    (item_set_slot, itm_dethertir_helm_a, 69, 200),
    (item_set_slot, itm_dethertir_helm_a, 68, 0),
    (item_set_slot, itm_dethertir_helm_a, 70, 2),
    (item_set_slot, itm_dethertir_helm_a, 76, 29),
    (item_set_slot, itm_dethertir_helm_a, 79, 60),
    (item_set_slot, itm_dethertir_helm_a, 80, 0),
    (item_set_slot, itm_dethertir_helm_a, 81, 0),
    (item_set_slot, itm_dethertir_helm_b, 69, 200),
    (item_set_slot, itm_dethertir_helm_b, 68, 0),
    (item_set_slot, itm_dethertir_helm_b, 70, 2),
    (item_set_slot, itm_dethertir_helm_b, 76, 29),
    (item_set_slot, itm_dethertir_helm_b, 79, 60),
    (item_set_slot, itm_dethertir_helm_b, 80, 0),
    (item_set_slot, itm_dethertir_helm_b, 81, 0),
    (item_set_slot, itm_dethertir_helm_c, 69, 200),
    (item_set_slot, itm_dethertir_helm_c, 68, 0),
    (item_set_slot, itm_dethertir_helm_c, 70, 2),
    (item_set_slot, itm_dethertir_helm_c, 76, 29),
    (item_set_slot, itm_dethertir_helm_c, 79, 60),
    (item_set_slot, itm_dethertir_helm_c, 80, 0),
    (item_set_slot, itm_dethertir_helm_c, 81, 0),
    (item_set_slot, itm_koif_monie_a, 69, 100),
    (item_set_slot, itm_koif_monie_a, 68, 2),
    (item_set_slot, itm_koif_monie_a, 70, 1),
    (item_set_slot, itm_koif_monie_a, 76, 29),
    (item_set_slot, itm_koif_monie_a, 79, 15),
    (item_set_slot, itm_koif_monie_a, 80, 0),
    (item_set_slot, itm_koif_monie_a, 81, 0),
    (item_set_slot, itm_koif_monie_b, 69, 100),
    (item_set_slot, itm_koif_monie_b, 68, 2),
    (item_set_slot, itm_koif_monie_b, 70, 1),
    (item_set_slot, itm_koif_monie_b, 76, 29),
    (item_set_slot, itm_koif_monie_b, 79, 15),
    (item_set_slot, itm_koif_monie_b, 80, 0),
    (item_set_slot, itm_koif_monie_b, 81, 0),
    (item_set_slot, itm_bishop_koif_templar, 69, 100),
    (item_set_slot, itm_bishop_koif_templar, 68, 2),
    (item_set_slot, itm_bishop_koif_templar, 70, 1),
    (item_set_slot, itm_bishop_koif_templar, 76, 29),
    (item_set_slot, itm_bishop_koif_templar, 79, 15),
    (item_set_slot, itm_bishop_koif_templar, 80, 0),
    (item_set_slot, itm_bishop_koif_templar, 81, 0),
    (item_set_slot, itm_mithras_archbishop_templar, 69, 100),
    (item_set_slot, itm_mithras_archbishop_templar, 68, 2),
    (item_set_slot, itm_mithras_archbishop_templar, 70, 1),
    (item_set_slot, itm_mithras_archbishop_templar, 76, 29),
    (item_set_slot, itm_mithras_archbishop_templar, 79, 15),
    (item_set_slot, itm_mithras_archbishop_templar, 80, 0),
    (item_set_slot, itm_mithras_archbishop_templar, 81, 0),
    (item_set_slot, itm_bishop_koif_hospitaller, 69, 100),
    (item_set_slot, itm_bishop_koif_hospitaller, 68, 2),
    (item_set_slot, itm_bishop_koif_hospitaller, 70, 1),
    (item_set_slot, itm_bishop_koif_hospitaller, 76, 29),
    (item_set_slot, itm_bishop_koif_hospitaller, 79, 15),
    (item_set_slot, itm_bishop_koif_hospitaller, 80, 0),
    (item_set_slot, itm_bishop_koif_hospitaller, 81, 0),
    (item_set_slot, itm_mithras_archbishop_hospitaller, 69, 100),
    (item_set_slot, itm_mithras_archbishop_hospitaller, 68, 2),
    (item_set_slot, itm_mithras_archbishop_hospitaller, 70, 1),
    (item_set_slot, itm_mithras_archbishop_hospitaller, 76, 29),
    (item_set_slot, itm_mithras_archbishop_hospitaller, 79, 15),
    (item_set_slot, itm_mithras_archbishop_hospitaller, 80, 0),
    (item_set_slot, itm_mithras_archbishop_hospitaller, 81, 0),
    (item_set_slot, itm_bishop_koif_tevton, 69, 100),
    (item_set_slot, itm_bishop_koif_tevton, 68, 2),
    (item_set_slot, itm_bishop_koif_tevton, 70, 1),
    (item_set_slot, itm_bishop_koif_tevton, 76, 29),
    (item_set_slot, itm_bishop_koif_tevton, 79, 15),
    (item_set_slot, itm_bishop_koif_tevton, 80, 0),
    (item_set_slot, itm_bishop_koif_tevton, 81, 0),
    (item_set_slot, itm_mithras_archbishop_tevton, 69, 100),
    (item_set_slot, itm_mithras_archbishop_tevton, 68, 2),
    (item_set_slot, itm_mithras_archbishop_tevton, 70, 1),
    (item_set_slot, itm_mithras_archbishop_tevton, 76, 29),
    (item_set_slot, itm_mithras_archbishop_tevton, 79, 15),
    (item_set_slot, itm_mithras_archbishop_tevton, 80, 0),
    (item_set_slot, itm_mithras_archbishop_tevton, 81, 0),
    (item_set_slot, itm_sa_crusader_koif_a, 69, 150),
    (item_set_slot, itm_sa_crusader_koif_a, 68, 0),
    (item_set_slot, itm_sa_crusader_koif_a, 70, 1),
    (item_set_slot, itm_sa_crusader_koif_a, 76, 29),
    (item_set_slot, itm_sa_crusader_koif_a, 79, 40),
    (item_set_slot, itm_sa_crusader_koif_a, 80, 0),
    (item_set_slot, itm_sa_crusader_koif_a, 81, 0),
    (item_set_slot, itm_light_capelina_crusader, 69, 150),
    (item_set_slot, itm_light_capelina_crusader, 68, 0),
    (item_set_slot, itm_light_capelina_crusader, 70, 1),
    (item_set_slot, itm_light_capelina_crusader, 76, 29),
    (item_set_slot, itm_light_capelina_crusader, 79, 40),
    (item_set_slot, itm_light_capelina_crusader, 80, 0),
    (item_set_slot, itm_light_capelina_crusader, 81, 0),
    (item_set_slot, itm_light_crusader_helm_1, 69, 150),
    (item_set_slot, itm_light_crusader_helm_1, 68, 0),
    (item_set_slot, itm_light_crusader_helm_1, 70, 1),
    (item_set_slot, itm_light_crusader_helm_1, 76, 29),
    (item_set_slot, itm_light_crusader_helm_1, 79, 40),
    (item_set_slot, itm_light_crusader_helm_1, 80, 0),
    (item_set_slot, itm_light_crusader_helm_1, 81, 0),
    (item_set_slot, itm_light_crusader_helm_2, 69, 150),
    (item_set_slot, itm_light_crusader_helm_2, 68, 0),
    (item_set_slot, itm_light_crusader_helm_2, 70, 1),
    (item_set_slot, itm_light_crusader_helm_2, 76, 29),
    (item_set_slot, itm_light_crusader_helm_2, 79, 40),
    (item_set_slot, itm_light_crusader_helm_2, 80, 0),
    (item_set_slot, itm_light_crusader_helm_2, 81, 0),
    (item_set_slot, itm_light_crusader_helm_3, 69, 150),
    (item_set_slot, itm_light_crusader_helm_3, 68, 0),
    (item_set_slot, itm_light_crusader_helm_3, 70, 1),
    (item_set_slot, itm_light_crusader_helm_3, 76, 29),
    (item_set_slot, itm_light_crusader_helm_3, 79, 40),
    (item_set_slot, itm_light_crusader_helm_3, 80, 0),
    (item_set_slot, itm_light_crusader_helm_3, 81, 0),
    (item_set_slot, itm_capelina_crusader, 69, 200),
    (item_set_slot, itm_capelina_crusader, 68, 0),
    (item_set_slot, itm_capelina_crusader, 70, 1),
    (item_set_slot, itm_capelina_crusader, 76, 29),
    (item_set_slot, itm_capelina_crusader, 79, 60),
    (item_set_slot, itm_capelina_crusader, 80, 0),
    (item_set_slot, itm_capelina_crusader, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_1, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_1, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_1, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_1, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_1, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_1, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_1, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_2, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_2, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_2, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_2, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_2, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_2, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_2, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_3, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_3, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_3, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_3, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_3, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_3, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_3, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_4, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_4, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_4, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_4, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_4, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_4, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_4, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_5, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_5, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_5, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_5, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_5, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_5, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_5, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_6, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_6, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_6, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_6, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_6, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_6, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_6, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_7, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_7, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_7, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_7, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_7, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_7, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_7, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_8, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_8, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_8, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_8, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_8, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_8, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_8, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_9, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_9, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_9, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_9, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_9, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_9, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_9, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_10, 69, 200),
    (item_set_slot, itm_sa_crusader_helm_10, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_10, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_10, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_10, 79, 60),
    (item_set_slot, itm_sa_crusader_helm_10, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_10, 81, 0),
    (item_set_slot, itm_sa_crusader_helm_11, 69, 250),
    (item_set_slot, itm_sa_crusader_helm_11, 68, 0),
    (item_set_slot, itm_sa_crusader_helm_11, 70, 1),
    (item_set_slot, itm_sa_crusader_helm_11, 76, 29),
    (item_set_slot, itm_sa_crusader_helm_11, 79, 75),
    (item_set_slot, itm_sa_crusader_helm_11, 80, 0),
    (item_set_slot, itm_sa_crusader_helm_11, 81, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_1, 69, 250),
    (item_set_slot, itm_sa_crusader_hard_helm_1, 68, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_1, 70, 1),
    (item_set_slot, itm_sa_crusader_hard_helm_1, 76, 29),
    (item_set_slot, itm_sa_crusader_hard_helm_1, 79, 75),
    (item_set_slot, itm_sa_crusader_hard_helm_1, 80, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_1, 81, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_2, 69, 250),
    (item_set_slot, itm_sa_crusader_hard_helm_2, 68, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_2, 70, 1),
    (item_set_slot, itm_sa_crusader_hard_helm_2, 76, 29),
    (item_set_slot, itm_sa_crusader_hard_helm_2, 79, 75),
    (item_set_slot, itm_sa_crusader_hard_helm_2, 80, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_2, 81, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_3, 69, 250),
    (item_set_slot, itm_sa_crusader_hard_helm_3, 68, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_3, 70, 1),
    (item_set_slot, itm_sa_crusader_hard_helm_3, 76, 29),
    (item_set_slot, itm_sa_crusader_hard_helm_3, 79, 75),
    (item_set_slot, itm_sa_crusader_hard_helm_3, 80, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_3, 81, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_4, 69, 250),
    (item_set_slot, itm_sa_crusader_hard_helm_4, 68, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_4, 70, 1),
    (item_set_slot, itm_sa_crusader_hard_helm_4, 76, 29),
    (item_set_slot, itm_sa_crusader_hard_helm_4, 79, 75),
    (item_set_slot, itm_sa_crusader_hard_helm_4, 80, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_4, 81, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_5, 69, 250),
    (item_set_slot, itm_sa_crusader_hard_helm_5, 68, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_5, 70, 1),
    (item_set_slot, itm_sa_crusader_hard_helm_5, 76, 29),
    (item_set_slot, itm_sa_crusader_hard_helm_5, 79, 75),
    (item_set_slot, itm_sa_crusader_hard_helm_5, 80, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_5, 81, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_6, 69, 250),
    (item_set_slot, itm_sa_crusader_hard_helm_6, 68, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_6, 70, 1),
    (item_set_slot, itm_sa_crusader_hard_helm_6, 76, 29),
    (item_set_slot, itm_sa_crusader_hard_helm_6, 79, 75),
    (item_set_slot, itm_sa_crusader_hard_helm_6, 80, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_6, 81, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_6_namet, 69, 250),
    (item_set_slot, itm_sa_crusader_hard_helm_6_namet, 68, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_6_namet, 70, 1),
    (item_set_slot, itm_sa_crusader_hard_helm_6_namet, 76, 29),
    (item_set_slot, itm_sa_crusader_hard_helm_6_namet, 79, 75),
    (item_set_slot, itm_sa_crusader_hard_helm_6_namet, 80, 0),
    (item_set_slot, itm_sa_crusader_hard_helm_6_namet, 81, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm, 69, 250),
    (item_set_slot, itm_sa_jerusalem_hard_helm, 68, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm, 70, 1),
    (item_set_slot, itm_sa_jerusalem_hard_helm, 76, 29),
    (item_set_slot, itm_sa_jerusalem_hard_helm, 79, 75),
    (item_set_slot, itm_sa_jerusalem_hard_helm, 80, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm, 81, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet, 69, 250),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet, 68, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet, 70, 1),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet, 76, 29),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet, 79, 75),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet, 80, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet, 81, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_1, 69, 250),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_1, 68, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_1, 70, 1),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_1, 76, 29),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_1, 79, 75),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_1, 80, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_1, 81, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_2, 69, 250),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_2, 68, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_2, 70, 1),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_2, 76, 29),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_2, 79, 75),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_2, 80, 0),
    (item_set_slot, itm_sa_jerusalem_hard_helm_namet_2, 81, 0),
    (item_set_slot, itm_sa_fracia_helmet_1, 69, 250),
    (item_set_slot, itm_sa_fracia_helmet_1, 68, 0),
    (item_set_slot, itm_sa_fracia_helmet_1, 70, 1),
    (item_set_slot, itm_sa_fracia_helmet_1, 76, 29),
    (item_set_slot, itm_sa_fracia_helmet_1, 79, 75),
    (item_set_slot, itm_sa_fracia_helmet_1, 80, 0),
    (item_set_slot, itm_sa_fracia_helmet_1, 81, 0),
    (item_set_slot, itm_sa_fracia_helmet_jerusalem, 69, 250),
    (item_set_slot, itm_sa_fracia_helmet_jerusalem, 68, 0),
    (item_set_slot, itm_sa_fracia_helmet_jerusalem, 70, 1),
    (item_set_slot, itm_sa_fracia_helmet_jerusalem, 76, 29),
    (item_set_slot, itm_sa_fracia_helmet_jerusalem, 79, 75),
    (item_set_slot, itm_sa_fracia_helmet_jerusalem, 80, 0),
    (item_set_slot, itm_sa_fracia_helmet_jerusalem, 81, 0),
    (item_set_slot, itm_sa_fracia_helmet_2, 69, 250),
    (item_set_slot, itm_sa_fracia_helmet_2, 68, 0),
    (item_set_slot, itm_sa_fracia_helmet_2, 70, 1),
    (item_set_slot, itm_sa_fracia_helmet_2, 76, 29),
    (item_set_slot, itm_sa_fracia_helmet_2, 79, 75),
    (item_set_slot, itm_sa_fracia_helmet_2, 80, 0),
    (item_set_slot, itm_sa_fracia_helmet_2, 81, 0),
    (item_set_slot, itm_sa_helm_king_jerusalem, 69, 250),
    (item_set_slot, itm_sa_helm_king_jerusalem, 68, 0),
    (item_set_slot, itm_sa_helm_king_jerusalem, 70, 1),
    (item_set_slot, itm_sa_helm_king_jerusalem, 76, 29),
    (item_set_slot, itm_sa_helm_king_jerusalem, 79, 75),
    (item_set_slot, itm_sa_helm_king_jerusalem, 80, 0),
    (item_set_slot, itm_sa_helm_king_jerusalem, 81, 0),
    (item_set_slot, itm_sa_tevton_hard_helm, 69, 250),
    (item_set_slot, itm_sa_tevton_hard_helm, 68, 0),
    (item_set_slot, itm_sa_tevton_hard_helm, 70, 1),
    (item_set_slot, itm_sa_tevton_hard_helm, 76, 29),
    (item_set_slot, itm_sa_tevton_hard_helm, 79, 75),
    (item_set_slot, itm_sa_tevton_hard_helm, 80, 0),
    (item_set_slot, itm_sa_tevton_hard_helm, 81, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet, 69, 250),
    (item_set_slot, itm_sa_tevton_hard_helm_namet, 68, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet, 70, 1),
    (item_set_slot, itm_sa_tevton_hard_helm_namet, 76, 29),
    (item_set_slot, itm_sa_tevton_hard_helm_namet, 79, 75),
    (item_set_slot, itm_sa_tevton_hard_helm_namet, 80, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet, 81, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_1, 69, 250),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_1, 68, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_1, 70, 1),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_1, 76, 29),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_1, 79, 75),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_1, 80, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_1, 81, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_2, 69, 250),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_2, 68, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_2, 70, 1),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_2, 76, 29),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_2, 79, 75),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_2, 80, 0),
    (item_set_slot, itm_sa_tevton_hard_helm_namet_2, 81, 0),
    (item_set_slot, itm_sa_templiers_hard_helm, 69, 250),
    (item_set_slot, itm_sa_templiers_hard_helm, 68, 0),
    (item_set_slot, itm_sa_templiers_hard_helm, 70, 1),
    (item_set_slot, itm_sa_templiers_hard_helm, 76, 29),
    (item_set_slot, itm_sa_templiers_hard_helm, 79, 75),
    (item_set_slot, itm_sa_templiers_hard_helm, 80, 0),
    (item_set_slot, itm_sa_templiers_hard_helm, 81, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet, 69, 250),
    (item_set_slot, itm_sa_templiers_hard_helm_namet, 68, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet, 70, 1),
    (item_set_slot, itm_sa_templiers_hard_helm_namet, 76, 29),
    (item_set_slot, itm_sa_templiers_hard_helm_namet, 79, 75),
    (item_set_slot, itm_sa_templiers_hard_helm_namet, 80, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet, 81, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_1, 69, 250),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_1, 68, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_1, 70, 1),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_1, 76, 29),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_1, 79, 75),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_1, 80, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_1, 81, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_2, 69, 250),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_2, 68, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_2, 70, 1),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_2, 76, 29),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_2, 79, 75),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_2, 80, 0),
    (item_set_slot, itm_sa_templiers_hard_helm_namet_2, 81, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm, 69, 250),
    (item_set_slot, itm_sa_hospitaller_hard_helm, 68, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm, 70, 1),
    (item_set_slot, itm_sa_hospitaller_hard_helm, 76, 29),
    (item_set_slot, itm_sa_hospitaller_hard_helm, 79, 75),
    (item_set_slot, itm_sa_hospitaller_hard_helm, 80, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm, 81, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet, 69, 250),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet, 68, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet, 70, 1),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet, 76, 29),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet, 79, 75),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet, 80, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet, 81, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_1, 69, 250),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_1, 68, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_1, 70, 1),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_1, 76, 29),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_1, 79, 75),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_1, 80, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_1, 81, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_2, 69, 250),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_2, 68, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_2, 70, 1),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_2, 76, 29),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_2, 79, 75),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_2, 80, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_2, 81, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_3, 69, 250),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_3, 68, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_3, 70, 1),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_3, 76, 29),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_3, 79, 75),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_3, 80, 0),
    (item_set_slot, itm_sa_hospitaller_hard_helm_namet_3, 81, 0),
    (item_set_slot, itm_helm_tyrk_1, 69, 250),
    (item_set_slot, itm_helm_tyrk_1, 68, 0),
    (item_set_slot, itm_helm_tyrk_1, 70, 1),
    (item_set_slot, itm_helm_tyrk_1, 76, 29),
    (item_set_slot, itm_helm_tyrk_1, 79, 75),
    (item_set_slot, itm_helm_tyrk_1, 80, 0),
    (item_set_slot, itm_helm_tyrk_1, 81, 0),
    (item_set_slot, itm_helm_tyrk_2, 69, 250),
    (item_set_slot, itm_helm_tyrk_2, 68, 0),
    (item_set_slot, itm_helm_tyrk_2, 70, 1),
    (item_set_slot, itm_helm_tyrk_2, 76, 29),
    (item_set_slot, itm_helm_tyrk_2, 79, 75),
    (item_set_slot, itm_helm_tyrk_2, 80, 0),
    (item_set_slot, itm_helm_tyrk_2, 81, 0),
    (item_set_slot, itm_helm_tyrk_3, 69, 250),
    (item_set_slot, itm_helm_tyrk_3, 68, 0),
    (item_set_slot, itm_helm_tyrk_3, 70, 1),
    (item_set_slot, itm_helm_tyrk_3, 76, 29),
    (item_set_slot, itm_helm_tyrk_3, 79, 75),
    (item_set_slot, itm_helm_tyrk_3, 80, 0),
    (item_set_slot, itm_helm_tyrk_3, 81, 0),
    (item_set_slot, itm_helm_tyrk_4, 69, 250),
    (item_set_slot, itm_helm_tyrk_4, 68, 0),
    (item_set_slot, itm_helm_tyrk_4, 70, 1),
    (item_set_slot, itm_helm_tyrk_4, 76, 29),
    (item_set_slot, itm_helm_tyrk_4, 79, 75),
    (item_set_slot, itm_helm_tyrk_4, 80, 0),
    (item_set_slot, itm_helm_tyrk_4, 81, 0),
    (item_set_slot, itm_helm_tyrk_5, 69, 250),
    (item_set_slot, itm_helm_tyrk_5, 68, 0),
    (item_set_slot, itm_helm_tyrk_5, 70, 1),
    (item_set_slot, itm_helm_tyrk_5, 76, 29),
    (item_set_slot, itm_helm_tyrk_5, 79, 75),
    (item_set_slot, itm_helm_tyrk_5, 80, 0),
    (item_set_slot, itm_helm_tyrk_5, 81, 0),
    (item_set_slot, itm_helm_tyrk_6, 69, 250),
    (item_set_slot, itm_helm_tyrk_6, 68, 0),
    (item_set_slot, itm_helm_tyrk_6, 70, 1),
    (item_set_slot, itm_helm_tyrk_6, 76, 29),
    (item_set_slot, itm_helm_tyrk_6, 79, 75),
    (item_set_slot, itm_helm_tyrk_6, 80, 0),
    (item_set_slot, itm_helm_tyrk_6, 81, 0),
    (item_set_slot, itm_helm_tyrk_heavi_a, 69, 250),
    (item_set_slot, itm_helm_tyrk_heavi_a, 68, 0),
    (item_set_slot, itm_helm_tyrk_heavi_a, 70, 1),
    (item_set_slot, itm_helm_tyrk_heavi_a, 76, 29),
    (item_set_slot, itm_helm_tyrk_heavi_a, 79, 75),
    (item_set_slot, itm_helm_tyrk_heavi_a, 80, 0),
    (item_set_slot, itm_helm_tyrk_heavi_a, 81, 0),
    (item_set_slot, itm_helm_tyrk_heavi_b, 69, 250),
    (item_set_slot, itm_helm_tyrk_heavi_b, 68, 0),
    (item_set_slot, itm_helm_tyrk_heavi_b, 70, 1),
    (item_set_slot, itm_helm_tyrk_heavi_b, 76, 29),
    (item_set_slot, itm_helm_tyrk_heavi_b, 79, 75),
    (item_set_slot, itm_helm_tyrk_heavi_b, 80, 0),
    (item_set_slot, itm_helm_tyrk_heavi_b, 81, 0),
    (item_set_slot, itm_helm_tyrk_heavi_c, 69, 250),
    (item_set_slot, itm_helm_tyrk_heavi_c, 68, 0),
    (item_set_slot, itm_helm_tyrk_heavi_c, 70, 1),
    (item_set_slot, itm_helm_tyrk_heavi_c, 76, 29),
    (item_set_slot, itm_helm_tyrk_heavi_c, 79, 75),
    (item_set_slot, itm_helm_tyrk_heavi_c, 80, 0),
    (item_set_slot, itm_helm_tyrk_heavi_c, 81, 0),
    (item_set_slot, itm_saracin_turban_a, 69, 175),
    (item_set_slot, itm_saracin_turban_a, 68, 0),
    (item_set_slot, itm_saracin_turban_a, 70, 1),
    (item_set_slot, itm_saracin_turban_a, 76, 29),
    (item_set_slot, itm_saracin_turban_a, 79, 50),
    (item_set_slot, itm_saracin_turban_a, 80, 0),
    (item_set_slot, itm_saracin_turban_a, 81, 0),
    (item_set_slot, itm_saracin_turban_b, 69, 175),
    (item_set_slot, itm_saracin_turban_b, 68, 0),
    (item_set_slot, itm_saracin_turban_b, 70, 1),
    (item_set_slot, itm_saracin_turban_b, 76, 29),
    (item_set_slot, itm_saracin_turban_b, 79, 50),
    (item_set_slot, itm_saracin_turban_b, 80, 0),
    (item_set_slot, itm_saracin_turban_b, 81, 0),
    (item_set_slot, itm_saracin_turban_c, 69, 175),
    (item_set_slot, itm_saracin_turban_c, 68, 0),
    (item_set_slot, itm_saracin_turban_c, 70, 1),
    (item_set_slot, itm_saracin_turban_c, 76, 29),
    (item_set_slot, itm_saracin_turban_c, 79, 50),
    (item_set_slot, itm_saracin_turban_c, 80, 0),
    (item_set_slot, itm_saracin_turban_c, 81, 0),
    (item_set_slot, itm_helm_saracin_3, 69, 100),
    (item_set_slot, itm_helm_saracin_3, 68, 0),
    (item_set_slot, itm_helm_saracin_3, 70, 1),
    (item_set_slot, itm_helm_saracin_3, 76, 29),
    (item_set_slot, itm_helm_saracin_3, 79, 20),
    (item_set_slot, itm_helm_saracin_3, 80, 0),
    (item_set_slot, itm_helm_saracin_3, 81, 0),
    (item_set_slot, itm_helm_saracin_b, 69, 150),
    (item_set_slot, itm_helm_saracin_b, 68, 0),
    (item_set_slot, itm_helm_saracin_b, 70, 1),
    (item_set_slot, itm_helm_saracin_b, 76, 29),
    (item_set_slot, itm_helm_saracin_b, 79, 40),
    (item_set_slot, itm_helm_saracin_b, 80, 0),
    (item_set_slot, itm_helm_saracin_b, 81, 0),
    (item_set_slot, itm_sa_helm_saracin_1, 69, 150),
    (item_set_slot, itm_sa_helm_saracin_1, 68, 0),
    (item_set_slot, itm_sa_helm_saracin_1, 70, 1),
    (item_set_slot, itm_sa_helm_saracin_1, 76, 29),
    (item_set_slot, itm_sa_helm_saracin_1, 79, 40),
    (item_set_slot, itm_sa_helm_saracin_1, 80, 0),
    (item_set_slot, itm_sa_helm_saracin_1, 81, 0),
    (item_set_slot, itm_sa_helm_saracin_2, 69, 150),
    (item_set_slot, itm_sa_helm_saracin_2, 68, 0),
    (item_set_slot, itm_sa_helm_saracin_2, 70, 1),
    (item_set_slot, itm_sa_helm_saracin_2, 76, 29),
    (item_set_slot, itm_sa_helm_saracin_2, 79, 40),
    (item_set_slot, itm_sa_helm_saracin_2, 80, 0),
    (item_set_slot, itm_sa_helm_saracin_2, 81, 0),
    (item_set_slot, itm_sa_helm_saracin_3, 69, 150),
    (item_set_slot, itm_sa_helm_saracin_3, 68, 0),
    (item_set_slot, itm_sa_helm_saracin_3, 70, 1),
    (item_set_slot, itm_sa_helm_saracin_3, 76, 29),
    (item_set_slot, itm_sa_helm_saracin_3, 79, 40),
    (item_set_slot, itm_sa_helm_saracin_3, 80, 0),
    (item_set_slot, itm_sa_helm_saracin_3, 81, 0),
    (item_set_slot, itm_sa_helm_saracin_4, 69, 175),
    (item_set_slot, itm_sa_helm_saracin_4, 68, 0),
    (item_set_slot, itm_sa_helm_saracin_4, 70, 1),
    (item_set_slot, itm_sa_helm_saracin_4, 76, 29),
    (item_set_slot, itm_sa_helm_saracin_4, 79, 50),
    (item_set_slot, itm_sa_helm_saracin_4, 80, 0),
    (item_set_slot, itm_sa_helm_saracin_4, 81, 0),
    (item_set_slot, itm_sa_helm_saracin_5, 69, 175),
    (item_set_slot, itm_sa_helm_saracin_5, 68, 0),
    (item_set_slot, itm_sa_helm_saracin_5, 70, 1),
    (item_set_slot, itm_sa_helm_saracin_5, 76, 29),
    (item_set_slot, itm_sa_helm_saracin_5, 79, 50),
    (item_set_slot, itm_sa_helm_saracin_5, 80, 0),
    (item_set_slot, itm_sa_helm_saracin_5, 81, 0),
    (item_set_slot, itm_sa_helm_saracin_6, 69, 200),
    (item_set_slot, itm_sa_helm_saracin_6, 68, 0),
    (item_set_slot, itm_sa_helm_saracin_6, 70, 1),
    (item_set_slot, itm_sa_helm_saracin_6, 76, 29),
    (item_set_slot, itm_sa_helm_saracin_6, 79, 60),
    (item_set_slot, itm_sa_helm_saracin_6, 80, 0),
    (item_set_slot, itm_sa_helm_saracin_6, 81, 0),
    (item_set_slot, itm_sa_helm_saracin_7, 69, 200),
    (item_set_slot, itm_sa_helm_saracin_7, 68, 0),
    (item_set_slot, itm_sa_helm_saracin_7, 70, 1),
    (item_set_slot, itm_sa_helm_saracin_7, 76, 29),
    (item_set_slot, itm_sa_helm_saracin_7, 79, 60),
    (item_set_slot, itm_sa_helm_saracin_7, 80, 0),
    (item_set_slot, itm_sa_helm_saracin_7, 81, 0),
    (item_set_slot, itm_sa_helm_saracin_8, 69, 200),
    (item_set_slot, itm_sa_helm_saracin_8, 68, 0),
    (item_set_slot, itm_sa_helm_saracin_8, 70, 1),
    (item_set_slot, itm_sa_helm_saracin_8, 76, 29),
    (item_set_slot, itm_sa_helm_saracin_8, 79, 60),
    (item_set_slot, itm_sa_helm_saracin_8, 80, 0),
    (item_set_slot, itm_sa_helm_saracin_8, 81, 0),
    (item_set_slot, itm_gulam_helm_a, 69, 200),
    (item_set_slot, itm_gulam_helm_a, 68, 0),
    (item_set_slot, itm_gulam_helm_a, 70, 1),
    (item_set_slot, itm_gulam_helm_a, 76, 29),
    (item_set_slot, itm_gulam_helm_a, 79, 60),
    (item_set_slot, itm_gulam_helm_a, 80, 0),
    (item_set_slot, itm_gulam_helm_a, 81, 0),
    (item_set_slot, itm_gulam_helm_b, 69, 150),
    (item_set_slot, itm_gulam_helm_b, 68, 0),
    (item_set_slot, itm_gulam_helm_b, 70, 1),
    (item_set_slot, itm_gulam_helm_b, 76, 29),
    (item_set_slot, itm_gulam_helm_b, 79, 40),
    (item_set_slot, itm_gulam_helm_b, 80, 0),
    (item_set_slot, itm_gulam_helm_b, 81, 0),
    (item_set_slot, itm_gulam_helm_c, 69, 150),
    (item_set_slot, itm_gulam_helm_c, 68, 0),
    (item_set_slot, itm_gulam_helm_c, 70, 1),
    (item_set_slot, itm_gulam_helm_c, 76, 29),
    (item_set_slot, itm_gulam_helm_c, 79, 40),
    (item_set_slot, itm_gulam_helm_c, 80, 0),
    (item_set_slot, itm_gulam_helm_c, 81, 0),
    (item_set_slot, itm_gulam_helm_d, 69, 150),
    (item_set_slot, itm_gulam_helm_d, 68, 0),
    (item_set_slot, itm_gulam_helm_d, 70, 1),
    (item_set_slot, itm_gulam_helm_d, 76, 29),
    (item_set_slot, itm_gulam_helm_d, 79, 40),
    (item_set_slot, itm_gulam_helm_d, 80, 0),
    (item_set_slot, itm_gulam_helm_d, 81, 0),
    (item_set_slot, itm_gulam_helm_f, 69, 200),
    (item_set_slot, itm_gulam_helm_f, 68, 0),
    (item_set_slot, itm_gulam_helm_f, 70, 1),
    (item_set_slot, itm_gulam_helm_f, 76, 29),
    (item_set_slot, itm_gulam_helm_f, 79, 60),
    (item_set_slot, itm_gulam_helm_f, 80, 0),
    (item_set_slot, itm_gulam_helm_f, 81, 0),
    (item_set_slot, itm_helm_sultan_saracens, 69, 200),
    (item_set_slot, itm_helm_sultan_saracens, 68, 12),
    (item_set_slot, itm_helm_sultan_saracens, 70, 1),
    (item_set_slot, itm_helm_sultan_saracens, 76, 29),
    (item_set_slot, itm_helm_sultan_saracens, 79, 80),
    (item_set_slot, itm_helm_sultan_saracens, 80, 0),
    (item_set_slot, itm_helm_sultan_saracens, 81, 0),
    (item_set_slot, itm_boots_tyrk_a, 69, 100),
    (item_set_slot, itm_boots_tyrk_a, 68, 0),
    (item_set_slot, itm_boots_tyrk_a, 70, 0),
    (item_set_slot, itm_boots_tyrk_a, 76, 26),
    (item_set_slot, itm_boots_tyrk_a, 79, 0),
    (item_set_slot, itm_boots_tyrk_a, 80, 0),
    (item_set_slot, itm_boots_tyrk_a, 81, 15),
    (item_set_slot, itm_boots_tyrk_b, 69, 100),
    (item_set_slot, itm_boots_tyrk_b, 68, 0),
    (item_set_slot, itm_boots_tyrk_b, 70, 0),
    (item_set_slot, itm_boots_tyrk_b, 76, 26),
    (item_set_slot, itm_boots_tyrk_b, 79, 0),
    (item_set_slot, itm_boots_tyrk_b, 80, 0),
    (item_set_slot, itm_boots_tyrk_b, 81, 15),
    (item_set_slot, itm_boots_tyrk_c, 69, 100),
    (item_set_slot, itm_boots_tyrk_c, 68, 0),
    (item_set_slot, itm_boots_tyrk_c, 70, 0),
    (item_set_slot, itm_boots_tyrk_c, 76, 26),
    (item_set_slot, itm_boots_tyrk_c, 79, 0),
    (item_set_slot, itm_boots_tyrk_c, 80, 0),
    (item_set_slot, itm_boots_tyrk_c, 81, 15),
    (item_set_slot, itm_sa_boot_light_crusader, 69, 100),
    (item_set_slot, itm_sa_boot_light_crusader, 68, 0),
    (item_set_slot, itm_sa_boot_light_crusader, 70, 0),
    (item_set_slot, itm_sa_boot_light_crusader, 76, 26),
    (item_set_slot, itm_sa_boot_light_crusader, 79, 0),
    (item_set_slot, itm_sa_boot_light_crusader, 80, 0),
    (item_set_slot, itm_sa_boot_light_crusader, 81, 5),
    (item_set_slot, itm_sa_boot_light_crusader_1, 69, 100),
    (item_set_slot, itm_sa_boot_light_crusader_1, 68, 0),
    (item_set_slot, itm_sa_boot_light_crusader_1, 70, 0),
    (item_set_slot, itm_sa_boot_light_crusader_1, 76, 26),
    (item_set_slot, itm_sa_boot_light_crusader_1, 79, 0),
    (item_set_slot, itm_sa_boot_light_crusader_1, 80, 0),
    (item_set_slot, itm_sa_boot_light_crusader_1, 81, 5),
    (item_set_slot, itm_sa_boot_average_crusader, 69, 200),
    (item_set_slot, itm_sa_boot_average_crusader, 68, 0),
    (item_set_slot, itm_sa_boot_average_crusader, 70, 1),
    (item_set_slot, itm_sa_boot_average_crusader, 76, 29),
    (item_set_slot, itm_sa_boot_average_crusader, 79, 0),
    (item_set_slot, itm_sa_boot_average_crusader, 80, 0),
    (item_set_slot, itm_sa_boot_average_crusader, 81, 12),
    (item_set_slot, itm_sa_boot_average_crusader_1, 69, 200),
    (item_set_slot, itm_sa_boot_average_crusader_1, 68, 0),
    (item_set_slot, itm_sa_boot_average_crusader_1, 70, 1),
    (item_set_slot, itm_sa_boot_average_crusader_1, 76, 29),
    (item_set_slot, itm_sa_boot_average_crusader_1, 79, 0),
    (item_set_slot, itm_sa_boot_average_crusader_1, 80, 0),
    (item_set_slot, itm_sa_boot_average_crusader_1, 81, 12),
    (item_set_slot, itm_sa_shoes_crusader, 69, 200),
    (item_set_slot, itm_sa_shoes_crusader, 68, 0),
    (item_set_slot, itm_sa_shoes_crusader, 70, 1),
    (item_set_slot, itm_sa_shoes_crusader, 76, 29),
    (item_set_slot, itm_sa_shoes_crusader, 79, 0),
    (item_set_slot, itm_sa_shoes_crusader, 80, 0),
    (item_set_slot, itm_sa_shoes_crusader, 81, 25),
    (item_set_slot, itm_sa_vizantia_greaves, 69, 200),
    (item_set_slot, itm_sa_vizantia_greaves, 68, 0),
    (item_set_slot, itm_sa_vizantia_greaves, 70, 1),
    (item_set_slot, itm_sa_vizantia_greaves, 76, 29),
    (item_set_slot, itm_sa_vizantia_greaves, 79, 0),
    (item_set_slot, itm_sa_vizantia_greaves, 80, 0),
    (item_set_slot, itm_sa_vizantia_greaves, 81, 25),
    (item_set_slot, itm_sa_saracin_light_boot_1, 69, 100),
    (item_set_slot, itm_sa_saracin_light_boot_1, 68, 0),
    (item_set_slot, itm_sa_saracin_light_boot_1, 70, 0),
    (item_set_slot, itm_sa_saracin_light_boot_1, 76, 26),
    (item_set_slot, itm_sa_saracin_light_boot_1, 79, 0),
    (item_set_slot, itm_sa_saracin_light_boot_1, 80, 0),
    (item_set_slot, itm_sa_saracin_light_boot_1, 81, 7),
    (item_set_slot, itm_sa_saracin_light_boot_2, 69, 100),
    (item_set_slot, itm_sa_saracin_light_boot_2, 68, 0),
    (item_set_slot, itm_sa_saracin_light_boot_2, 70, 0),
    (item_set_slot, itm_sa_saracin_light_boot_2, 76, 26),
    (item_set_slot, itm_sa_saracin_light_boot_2, 79, 0),
    (item_set_slot, itm_sa_saracin_light_boot_2, 80, 0),
    (item_set_slot, itm_sa_saracin_light_boot_2, 81, 7),
    (item_set_slot, itm_sa_saracin_medium_boot_1, 69, 100),
    (item_set_slot, itm_sa_saracin_medium_boot_1, 68, 0),
    (item_set_slot, itm_sa_saracin_medium_boot_1, 70, 1),
    (item_set_slot, itm_sa_saracin_medium_boot_1, 76, 29),
    (item_set_slot, itm_sa_saracin_medium_boot_1, 79, 0),
    (item_set_slot, itm_sa_saracin_medium_boot_1, 80, 0),
    (item_set_slot, itm_sa_saracin_medium_boot_1, 81, 12),
    (item_set_slot, itm_sa_saracin_medium_boot_2, 69, 100),
    (item_set_slot, itm_sa_saracin_medium_boot_2, 68, 0),
    (item_set_slot, itm_sa_saracin_medium_boot_2, 70, 1),
    (item_set_slot, itm_sa_saracin_medium_boot_2, 76, 29),
    (item_set_slot, itm_sa_saracin_medium_boot_2, 79, 0),
    (item_set_slot, itm_sa_saracin_medium_boot_2, 80, 0),
    (item_set_slot, itm_sa_saracin_medium_boot_2, 81, 12),
    (item_set_slot, itm_sa_saracin_hard_boot_1, 69, 100),
    (item_set_slot, itm_sa_saracin_hard_boot_1, 68, 0),
    (item_set_slot, itm_sa_saracin_hard_boot_1, 70, 1),
    (item_set_slot, itm_sa_saracin_hard_boot_1, 76, 29),
    (item_set_slot, itm_sa_saracin_hard_boot_1, 79, 0),
    (item_set_slot, itm_sa_saracin_hard_boot_1, 80, 0),
    (item_set_slot, itm_sa_saracin_hard_boot_1, 81, 20),
    (item_set_slot, itm_sa_saracin_hard_boot_2, 69, 100),
    (item_set_slot, itm_sa_saracin_hard_boot_2, 68, 0),
    (item_set_slot, itm_sa_saracin_hard_boot_2, 70, 1),
    (item_set_slot, itm_sa_saracin_hard_boot_2, 76, 29),
    (item_set_slot, itm_sa_saracin_hard_boot_2, 79, 0),
    (item_set_slot, itm_sa_saracin_hard_boot_2, 80, 0),
    (item_set_slot, itm_sa_saracin_hard_boot_2, 81, 20),
    (item_set_slot, itm_civil_poor_boots_a, 69, 100),
    (item_set_slot, itm_civil_poor_boots_a, 68, 0),
    (item_set_slot, itm_civil_poor_boots_a, 70, 0),
    (item_set_slot, itm_civil_poor_boots_a, 76, 26),
    (item_set_slot, itm_civil_poor_boots_a, 79, 0),
    (item_set_slot, itm_civil_poor_boots_a, 80, 0),
    (item_set_slot, itm_civil_poor_boots_a, 81, 1),
    (item_set_slot, itm_civil_rich_boots_a, 69, 100),
    (item_set_slot, itm_civil_rich_boots_a, 68, 0),
    (item_set_slot, itm_civil_rich_boots_a, 70, 0),
    (item_set_slot, itm_civil_rich_boots_a, 76, 26),
    (item_set_slot, itm_civil_rich_boots_a, 79, 0),
    (item_set_slot, itm_civil_rich_boots_a, 80, 0),
    (item_set_slot, itm_civil_rich_boots_a, 81, 10),
    (item_set_slot, itm_civil_rich_boots_b, 69, 100),
    (item_set_slot, itm_civil_rich_boots_b, 68, 0),
    (item_set_slot, itm_civil_rich_boots_b, 70, 0),
    (item_set_slot, itm_civil_rich_boots_b, 76, 26),
    (item_set_slot, itm_civil_rich_boots_b, 79, 0),
    (item_set_slot, itm_civil_rich_boots_b, 80, 0),
    (item_set_slot, itm_civil_rich_boots_b, 81, 10),
    (item_set_slot, itm_sa_gauntlets_arabs_1, 69, 75),
    (item_set_slot, itm_sa_gauntlets_arabs_1, 68, 0),
    (item_set_slot, itm_sa_gauntlets_arabs_1, 70, 1),
    (item_set_slot, itm_sa_gauntlets_arabs_1, 76, 29),
    (item_set_slot, itm_sa_gauntlets_arabs_1, 79, 0),
    (item_set_slot, itm_sa_gauntlets_arabs_1, 80, 10),
    (item_set_slot, itm_sa_gauntlets_arabs_1, 81, 0),
    (item_set_slot, itm_sa_gauntlets_arabs_2, 69, 75),
    (item_set_slot, itm_sa_gauntlets_arabs_2, 68, 0),
    (item_set_slot, itm_sa_gauntlets_arabs_2, 70, 1),
    (item_set_slot, itm_sa_gauntlets_arabs_2, 76, 29),
    (item_set_slot, itm_sa_gauntlets_arabs_2, 79, 0),
    (item_set_slot, itm_sa_gauntlets_arabs_2, 80, 12),
    (item_set_slot, itm_sa_gauntlets_arabs_2, 81, 0),
    (item_set_slot, itm_sa_gloves_a, 69, 75),
    (item_set_slot, itm_sa_gloves_a, 68, 0),
    (item_set_slot, itm_sa_gloves_a, 70, 1),
    (item_set_slot, itm_sa_gloves_a, 76, 29),
    (item_set_slot, itm_sa_gloves_a, 79, 0),
    (item_set_slot, itm_sa_gloves_a, 80, 2),
    (item_set_slot, itm_sa_gloves_a, 81, 0),
    (item_set_slot, itm_sa_gloves_b, 69, 75),
    (item_set_slot, itm_sa_gloves_b, 68, 0),
    (item_set_slot, itm_sa_gloves_b, 70, 1),
    (item_set_slot, itm_sa_gloves_b, 76, 29),
    (item_set_slot, itm_sa_gloves_b, 79, 0),
    (item_set_slot, itm_sa_gloves_b, 80, 3),
    (item_set_slot, itm_sa_gloves_b, 81, 0),
    (item_set_slot, itm_sa_gloves_c, 69, 75),
    (item_set_slot, itm_sa_gloves_c, 68, 0),
    (item_set_slot, itm_sa_gloves_c, 70, 1),
    (item_set_slot, itm_sa_gloves_c, 76, 29),
    (item_set_slot, itm_sa_gloves_c, 79, 0),
    (item_set_slot, itm_sa_gloves_c, 80, 4),
    (item_set_slot, itm_sa_gloves_c, 81, 0),
    (item_set_slot, itm_gauntlets_crysader, 69, 75),
    (item_set_slot, itm_gauntlets_crysader, 68, 0),
    (item_set_slot, itm_gauntlets_crysader, 70, 1),
    (item_set_slot, itm_gauntlets_crysader, 76, 29),
    (item_set_slot, itm_gauntlets_crysader, 79, 0),
    (item_set_slot, itm_gauntlets_crysader, 80, 6),
    (item_set_slot, itm_gauntlets_crysader, 81, 0),
    (item_set_slot, itm_dethertir_gloves, 69, 75),
    (item_set_slot, itm_dethertir_gloves, 68, 0),
    (item_set_slot, itm_dethertir_gloves, 70, 1),
    (item_set_slot, itm_dethertir_gloves, 76, 29),
    (item_set_slot, itm_dethertir_gloves, 79, 0),
    (item_set_slot, itm_dethertir_gloves, 80, 2),
    (item_set_slot, itm_dethertir_gloves, 81, 0),
    (item_set_slot, itm_dethertir_gauntlets, 69, 75),
    (item_set_slot, itm_dethertir_gauntlets, 68, 0),
    (item_set_slot, itm_dethertir_gauntlets, 70, 1),
    (item_set_slot, itm_dethertir_gauntlets, 76, 29),
    (item_set_slot, itm_dethertir_gauntlets, 79, 0),
    (item_set_slot, itm_dethertir_gauntlets, 80, 6),
    (item_set_slot, itm_dethertir_gauntlets, 81, 0),
    (item_set_slot, itm_sa_armors_end, 69, 2100),
    (item_set_slot, itm_sa_armors_end, 68, 9),
    (item_set_slot, itm_sa_armors_end, 70, 1),
    (item_set_slot, itm_sa_armors_end, 76, 29),
    (item_set_slot, itm_sa_armors_end, 79, 0),
    (item_set_slot, itm_sa_armors_end, 80, 41),
    (item_set_slot, itm_sa_armors_end, 81, 17),
    (item_set_slot, itm_sa_shield_begin, 69, 200),
    (item_set_slot, itm_sa_shield_begin, 68, 0),
    (item_set_slot, itm_sa_shield_begin, 76, 27),
    (item_set_slot, itm_sa_shield_begin, 82, 36),
    (item_set_slot, itm_sa_shield_begin, 80, 5),
    (item_set_slot, itm_sa_shield_begin, 83, 96),
    (item_set_slot, itm_sa_securiti_caravan_crusader_shield, 69, 250),
    (item_set_slot, itm_sa_securiti_caravan_crusader_shield, 68, 0),
    (item_set_slot, itm_sa_securiti_caravan_crusader_shield, 76, 27),
    (item_set_slot, itm_sa_securiti_caravan_crusader_shield, 82, 30),
    (item_set_slot, itm_sa_securiti_caravan_crusader_shield, 80, 55),
    (item_set_slot, itm_sa_securiti_caravan_crusader_shield, 83, 95),
    (item_set_slot, itm_sa_shields_archer_jerusalem_1, 69, 200),
    (item_set_slot, itm_sa_shields_archer_jerusalem_1, 68, 0),
    (item_set_slot, itm_sa_shields_archer_jerusalem_1, 76, 27),
    (item_set_slot, itm_sa_shields_archer_jerusalem_1, 82, 35),
    (item_set_slot, itm_sa_shields_archer_jerusalem_1, 80, 35),
    (item_set_slot, itm_sa_shields_archer_jerusalem_1, 83, 100),
    (item_set_slot, itm_sa_shields_archer_jerusalem_2, 69, 200),
    (item_set_slot, itm_sa_shields_archer_jerusalem_2, 68, 0),
    (item_set_slot, itm_sa_shields_archer_jerusalem_2, 76, 27),
    (item_set_slot, itm_sa_shields_archer_jerusalem_2, 82, 35),
    (item_set_slot, itm_sa_shields_archer_jerusalem_2, 80, 35),
    (item_set_slot, itm_sa_shields_archer_jerusalem_2, 83, 100),
    (item_set_slot, itm_sa_jerusalem_shield_1, 69, 300),
    (item_set_slot, itm_sa_jerusalem_shield_1, 68, 0),
    (item_set_slot, itm_sa_jerusalem_shield_1, 76, 27),
    (item_set_slot, itm_sa_jerusalem_shield_1, 82, 30),
    (item_set_slot, itm_sa_jerusalem_shield_1, 80, 61),
    (item_set_slot, itm_sa_jerusalem_shield_1, 83, 90),
    (item_set_slot, itm_sa_jerusalem_shield_2, 69, 300),
    (item_set_slot, itm_sa_jerusalem_shield_2, 68, 0),
    (item_set_slot, itm_sa_jerusalem_shield_2, 76, 27),
    (item_set_slot, itm_sa_jerusalem_shield_2, 82, 30),
    (item_set_slot, itm_sa_jerusalem_shield_2, 80, 61),
    (item_set_slot, itm_sa_jerusalem_shield_2, 83, 90),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_1, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_1, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_1, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_1, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_1, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_1, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_2, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_2, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_2, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_2, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_2, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_2, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_3, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_3, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_3, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_3, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_3, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_3, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_4, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_4, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_4, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_4, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_4, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_jerusalem_4, 83, 70),
    (item_set_slot, itm_sa_jerusalem_shield_knight_1, 69, 300),
    (item_set_slot, itm_sa_jerusalem_shield_knight_1, 68, 0),
    (item_set_slot, itm_sa_jerusalem_shield_knight_1, 76, 27),
    (item_set_slot, itm_sa_jerusalem_shield_knight_1, 82, 32),
    (item_set_slot, itm_sa_jerusalem_shield_knight_1, 80, 71),
    (item_set_slot, itm_sa_jerusalem_shield_knight_1, 83, 95),
    (item_set_slot, itm_sa_jerusalem_shield_knight_2, 69, 300),
    (item_set_slot, itm_sa_jerusalem_shield_knight_2, 68, 0),
    (item_set_slot, itm_sa_jerusalem_shield_knight_2, 76, 27),
    (item_set_slot, itm_sa_jerusalem_shield_knight_2, 82, 32),
    (item_set_slot, itm_sa_jerusalem_shield_knight_2, 80, 71),
    (item_set_slot, itm_sa_jerusalem_shield_knight_2, 83, 95),
    (item_set_slot, itm_sa_shields_archer_ibelin_1, 69, 200),
    (item_set_slot, itm_sa_shields_archer_ibelin_1, 68, 0),
    (item_set_slot, itm_sa_shields_archer_ibelin_1, 76, 27),
    (item_set_slot, itm_sa_shields_archer_ibelin_1, 82, 35),
    (item_set_slot, itm_sa_shields_archer_ibelin_1, 80, 35),
    (item_set_slot, itm_sa_shields_archer_ibelin_1, 83, 100),
    (item_set_slot, itm_sa_shields_archer_ibelin_2, 69, 200),
    (item_set_slot, itm_sa_shields_archer_ibelin_2, 68, 0),
    (item_set_slot, itm_sa_shields_archer_ibelin_2, 76, 27),
    (item_set_slot, itm_sa_shields_archer_ibelin_2, 82, 35),
    (item_set_slot, itm_sa_shields_archer_ibelin_2, 80, 35),
    (item_set_slot, itm_sa_shields_archer_ibelin_2, 83, 100),
    (item_set_slot, itm_sa_ibelin_shield, 69, 300),
    (item_set_slot, itm_sa_ibelin_shield, 68, 0),
    (item_set_slot, itm_sa_ibelin_shield, 76, 27),
    (item_set_slot, itm_sa_ibelin_shield, 82, 30),
    (item_set_slot, itm_sa_ibelin_shield, 80, 61),
    (item_set_slot, itm_sa_ibelin_shield, 83, 90),
    (item_set_slot, itm_sa_shield_veteran_ibelin_1, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_ibelin_1, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_ibelin_1, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_ibelin_1, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_ibelin_1, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_ibelin_1, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_ibelin_2, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_ibelin_2, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_ibelin_2, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_ibelin_2, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_ibelin_2, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_ibelin_2, 83, 70),
    (item_set_slot, itm_sa_ibelin_shield_knight, 69, 300),
    (item_set_slot, itm_sa_ibelin_shield_knight, 68, 0),
    (item_set_slot, itm_sa_ibelin_shield_knight, 76, 27),
    (item_set_slot, itm_sa_ibelin_shield_knight, 82, 32),
    (item_set_slot, itm_sa_ibelin_shield_knight, 80, 71),
    (item_set_slot, itm_sa_ibelin_shield_knight, 83, 95),
    (item_set_slot, itm_sa_shields_archer_antioch_1, 69, 200),
    (item_set_slot, itm_sa_shields_archer_antioch_1, 68, 0),
    (item_set_slot, itm_sa_shields_archer_antioch_1, 76, 27),
    (item_set_slot, itm_sa_shields_archer_antioch_1, 82, 35),
    (item_set_slot, itm_sa_shields_archer_antioch_1, 80, 35),
    (item_set_slot, itm_sa_shields_archer_antioch_1, 83, 100),
    (item_set_slot, itm_sa_shields_archer_antioch_2, 69, 200),
    (item_set_slot, itm_sa_shields_archer_antioch_2, 68, 0),
    (item_set_slot, itm_sa_shields_archer_antioch_2, 76, 27),
    (item_set_slot, itm_sa_shields_archer_antioch_2, 82, 35),
    (item_set_slot, itm_sa_shields_archer_antioch_2, 80, 35),
    (item_set_slot, itm_sa_shields_archer_antioch_2, 83, 100),
    (item_set_slot, itm_sa_antioch_shield_1, 69, 300),
    (item_set_slot, itm_sa_antioch_shield_1, 68, 0),
    (item_set_slot, itm_sa_antioch_shield_1, 76, 27),
    (item_set_slot, itm_sa_antioch_shield_1, 82, 30),
    (item_set_slot, itm_sa_antioch_shield_1, 80, 61),
    (item_set_slot, itm_sa_antioch_shield_1, 83, 90),
    (item_set_slot, itm_sa_antioch_shield_2, 69, 300),
    (item_set_slot, itm_sa_antioch_shield_2, 68, 0),
    (item_set_slot, itm_sa_antioch_shield_2, 76, 27),
    (item_set_slot, itm_sa_antioch_shield_2, 82, 30),
    (item_set_slot, itm_sa_antioch_shield_2, 80, 61),
    (item_set_slot, itm_sa_antioch_shield_2, 83, 90),
    (item_set_slot, itm_sa_shield_veteran_antioch_1, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_antioch_1, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_antioch_1, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_antioch_1, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_antioch_1, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_antioch_1, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_antioch_2, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_antioch_2, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_antioch_2, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_antioch_2, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_antioch_2, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_antioch_2, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_antioch_3, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_antioch_3, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_antioch_3, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_antioch_3, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_antioch_3, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_antioch_3, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_antioch_4, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_antioch_4, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_antioch_4, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_antioch_4, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_antioch_4, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_antioch_4, 83, 70),
    (item_set_slot, itm_sa_shield_knight_antioch_1, 69, 300),
    (item_set_slot, itm_sa_shield_knight_antioch_1, 68, 0),
    (item_set_slot, itm_sa_shield_knight_antioch_1, 76, 27),
    (item_set_slot, itm_sa_shield_knight_antioch_1, 82, 32),
    (item_set_slot, itm_sa_shield_knight_antioch_1, 80, 71),
    (item_set_slot, itm_sa_shield_knight_antioch_1, 83, 95),
    (item_set_slot, itm_sa_shield_knight_antioch_2, 69, 300),
    (item_set_slot, itm_sa_shield_knight_antioch_2, 68, 0),
    (item_set_slot, itm_sa_shield_knight_antioch_2, 76, 27),
    (item_set_slot, itm_sa_shield_knight_antioch_2, 82, 32),
    (item_set_slot, itm_sa_shield_knight_antioch_2, 80, 71),
    (item_set_slot, itm_sa_shield_knight_antioch_2, 83, 95),
    (item_set_slot, itm_sa_shields_archer_tripoli_1, 69, 200),
    (item_set_slot, itm_sa_shields_archer_tripoli_1, 68, 0),
    (item_set_slot, itm_sa_shields_archer_tripoli_1, 76, 27),
    (item_set_slot, itm_sa_shields_archer_tripoli_1, 82, 35),
    (item_set_slot, itm_sa_shields_archer_tripoli_1, 80, 35),
    (item_set_slot, itm_sa_shields_archer_tripoli_1, 83, 100),
    (item_set_slot, itm_sa_shields_archer_tripoli_2, 69, 200),
    (item_set_slot, itm_sa_shields_archer_tripoli_2, 68, 0),
    (item_set_slot, itm_sa_shields_archer_tripoli_2, 76, 27),
    (item_set_slot, itm_sa_shields_archer_tripoli_2, 82, 35),
    (item_set_slot, itm_sa_shields_archer_tripoli_2, 80, 35),
    (item_set_slot, itm_sa_shields_archer_tripoli_2, 83, 100),
    (item_set_slot, itm_sa_tripoli_shield_1, 69, 300),
    (item_set_slot, itm_sa_tripoli_shield_1, 68, 0),
    (item_set_slot, itm_sa_tripoli_shield_1, 76, 27),
    (item_set_slot, itm_sa_tripoli_shield_1, 82, 30),
    (item_set_slot, itm_sa_tripoli_shield_1, 80, 61),
    (item_set_slot, itm_sa_tripoli_shield_1, 83, 90),
    (item_set_slot, itm_sa_tripoli_shield_2, 69, 300),
    (item_set_slot, itm_sa_tripoli_shield_2, 68, 0),
    (item_set_slot, itm_sa_tripoli_shield_2, 76, 27),
    (item_set_slot, itm_sa_tripoli_shield_2, 82, 30),
    (item_set_slot, itm_sa_tripoli_shield_2, 80, 61),
    (item_set_slot, itm_sa_tripoli_shield_2, 83, 90),
    (item_set_slot, itm_sa_shield_veteran_tripoli_1, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_tripoli_1, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_tripoli_1, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_tripoli_1, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_tripoli_1, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_tripoli_1, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_tripoli_2, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_tripoli_2, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_tripoli_2, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_tripoli_2, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_tripoli_2, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_tripoli_2, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_tripoli_3, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_tripoli_3, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_tripoli_3, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_tripoli_3, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_tripoli_3, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_tripoli_3, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_tripoli_4, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_tripoli_4, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_tripoli_4, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_tripoli_4, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_tripoli_4, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_tripoli_4, 83, 70),
    (item_set_slot, itm_sa_shield_knight_tripoli_1, 69, 300),
    (item_set_slot, itm_sa_shield_knight_tripoli_1, 68, 0),
    (item_set_slot, itm_sa_shield_knight_tripoli_1, 76, 27),
    (item_set_slot, itm_sa_shield_knight_tripoli_1, 82, 32),
    (item_set_slot, itm_sa_shield_knight_tripoli_1, 80, 71),
    (item_set_slot, itm_sa_shield_knight_tripoli_1, 83, 95),
    (item_set_slot, itm_sa_shield_knight_tripoli_2, 69, 300),
    (item_set_slot, itm_sa_shield_knight_tripoli_2, 68, 0),
    (item_set_slot, itm_sa_shield_knight_tripoli_2, 76, 27),
    (item_set_slot, itm_sa_shield_knight_tripoli_2, 82, 32),
    (item_set_slot, itm_sa_shield_knight_tripoli_2, 80, 71),
    (item_set_slot, itm_sa_shield_knight_tripoli_2, 83, 95),
    (item_set_slot, itm_sa_shields_archer_tevton_1, 69, 200),
    (item_set_slot, itm_sa_shields_archer_tevton_1, 68, 0),
    (item_set_slot, itm_sa_shields_archer_tevton_1, 76, 27),
    (item_set_slot, itm_sa_shields_archer_tevton_1, 82, 35),
    (item_set_slot, itm_sa_shields_archer_tevton_1, 80, 35),
    (item_set_slot, itm_sa_shields_archer_tevton_1, 83, 100),
    (item_set_slot, itm_sa_shields_archer_tevton_2, 69, 200),
    (item_set_slot, itm_sa_shields_archer_tevton_2, 68, 0),
    (item_set_slot, itm_sa_shields_archer_tevton_2, 76, 27),
    (item_set_slot, itm_sa_shields_archer_tevton_2, 82, 35),
    (item_set_slot, itm_sa_shields_archer_tevton_2, 80, 35),
    (item_set_slot, itm_sa_shields_archer_tevton_2, 83, 100),
    (item_set_slot, itm_sa_tevton_shield, 69, 300),
    (item_set_slot, itm_sa_tevton_shield, 68, 0),
    (item_set_slot, itm_sa_tevton_shield, 76, 27),
    (item_set_slot, itm_sa_tevton_shield, 82, 30),
    (item_set_slot, itm_sa_tevton_shield, 80, 61),
    (item_set_slot, itm_sa_tevton_shield, 83, 90),
    (item_set_slot, itm_sa_tevton_shield_1, 69, 300),
    (item_set_slot, itm_sa_tevton_shield_1, 68, 0),
    (item_set_slot, itm_sa_tevton_shield_1, 76, 27),
    (item_set_slot, itm_sa_tevton_shield_1, 82, 30),
    (item_set_slot, itm_sa_tevton_shield_1, 80, 61),
    (item_set_slot, itm_sa_tevton_shield_1, 83, 90),
    (item_set_slot, itm_sa_shield_veteran_tevton_1, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_tevton_1, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_tevton_1, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_tevton_1, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_tevton_1, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_tevton_1, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_tevton_2, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_tevton_2, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_tevton_2, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_tevton_2, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_tevton_2, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_tevton_2, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_tevton_3, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_tevton_3, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_tevton_3, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_tevton_3, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_tevton_3, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_tevton_3, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_tevton_4, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_tevton_4, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_tevton_4, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_tevton_4, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_tevton_4, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_tevton_4, 83, 70),
    (item_set_slot, itm_sa_shield_knight_tevton_1, 69, 300),
    (item_set_slot, itm_sa_shield_knight_tevton_1, 68, 0),
    (item_set_slot, itm_sa_shield_knight_tevton_1, 76, 27),
    (item_set_slot, itm_sa_shield_knight_tevton_1, 82, 32),
    (item_set_slot, itm_sa_shield_knight_tevton_1, 80, 71),
    (item_set_slot, itm_sa_shield_knight_tevton_1, 83, 96),
    (item_set_slot, itm_sa_shield_knight_tevton_2, 69, 300),
    (item_set_slot, itm_sa_shield_knight_tevton_2, 68, 0),
    (item_set_slot, itm_sa_shield_knight_tevton_2, 76, 27),
    (item_set_slot, itm_sa_shield_knight_tevton_2, 82, 32),
    (item_set_slot, itm_sa_shield_knight_tevton_2, 80, 71),
    (item_set_slot, itm_sa_shield_knight_tevton_2, 83, 95),
    (item_set_slot, itm_sa_shield_knight_tevton_3, 69, 300),
    (item_set_slot, itm_sa_shield_knight_tevton_3, 68, 0),
    (item_set_slot, itm_sa_shield_knight_tevton_3, 76, 27),
    (item_set_slot, itm_sa_shield_knight_tevton_3, 82, 32),
    (item_set_slot, itm_sa_shield_knight_tevton_3, 80, 71),
    (item_set_slot, itm_sa_shield_knight_tevton_3, 83, 95),
    (item_set_slot, itm_sa_shields_archer_hospitaller_1, 69, 200),
    (item_set_slot, itm_sa_shields_archer_hospitaller_1, 68, 0),
    (item_set_slot, itm_sa_shields_archer_hospitaller_1, 76, 27),
    (item_set_slot, itm_sa_shields_archer_hospitaller_1, 82, 35),
    (item_set_slot, itm_sa_shields_archer_hospitaller_1, 80, 35),
    (item_set_slot, itm_sa_shields_archer_hospitaller_1, 83, 100),
    (item_set_slot, itm_sa_shields_archer_hospitaller_2, 69, 200),
    (item_set_slot, itm_sa_shields_archer_hospitaller_2, 68, 0),
    (item_set_slot, itm_sa_shields_archer_hospitaller_2, 76, 27),
    (item_set_slot, itm_sa_shields_archer_hospitaller_2, 82, 35),
    (item_set_slot, itm_sa_shields_archer_hospitaller_2, 80, 35),
    (item_set_slot, itm_sa_shields_archer_hospitaller_2, 83, 100),
    (item_set_slot, itm_sa_hospitaller_shield, 69, 300),
    (item_set_slot, itm_sa_hospitaller_shield, 68, 0),
    (item_set_slot, itm_sa_hospitaller_shield, 76, 27),
    (item_set_slot, itm_sa_hospitaller_shield, 82, 30),
    (item_set_slot, itm_sa_hospitaller_shield, 80, 61),
    (item_set_slot, itm_sa_hospitaller_shield, 83, 90),
    (item_set_slot, itm_sa_hospitaller_shield_1, 69, 300),
    (item_set_slot, itm_sa_hospitaller_shield_1, 68, 0),
    (item_set_slot, itm_sa_hospitaller_shield_1, 76, 27),
    (item_set_slot, itm_sa_hospitaller_shield_1, 82, 30),
    (item_set_slot, itm_sa_hospitaller_shield_1, 80, 61),
    (item_set_slot, itm_sa_hospitaller_shield_1, 83, 90),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_1, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_1, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_1, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_1, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_1, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_1, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_2, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_2, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_2, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_2, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_2, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_2, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_3, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_3, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_3, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_3, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_3, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_3, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_4, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_4, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_4, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_4, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_4, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_hospitaller_4, 83, 70),
    (item_set_slot, itm_sa_hospitaller_shield_knight_1, 69, 300),
    (item_set_slot, itm_sa_hospitaller_shield_knight_1, 68, 0),
    (item_set_slot, itm_sa_hospitaller_shield_knight_1, 76, 27),
    (item_set_slot, itm_sa_hospitaller_shield_knight_1, 82, 32),
    (item_set_slot, itm_sa_hospitaller_shield_knight_1, 80, 71),
    (item_set_slot, itm_sa_hospitaller_shield_knight_1, 83, 95),
    (item_set_slot, itm_sa_hospitaller_shield_knight_2, 69, 300),
    (item_set_slot, itm_sa_hospitaller_shield_knight_2, 68, 0),
    (item_set_slot, itm_sa_hospitaller_shield_knight_2, 76, 27),
    (item_set_slot, itm_sa_hospitaller_shield_knight_2, 82, 32),
    (item_set_slot, itm_sa_hospitaller_shield_knight_2, 80, 71),
    (item_set_slot, itm_sa_hospitaller_shield_knight_2, 83, 95),
    (item_set_slot, itm_sa_shields_archer_templar_1, 69, 200),
    (item_set_slot, itm_sa_shields_archer_templar_1, 68, 0),
    (item_set_slot, itm_sa_shields_archer_templar_1, 76, 27),
    (item_set_slot, itm_sa_shields_archer_templar_1, 82, 35),
    (item_set_slot, itm_sa_shields_archer_templar_1, 80, 35),
    (item_set_slot, itm_sa_shields_archer_templar_1, 83, 100),
    (item_set_slot, itm_sa_shields_archer_templar_2, 69, 200),
    (item_set_slot, itm_sa_shields_archer_templar_2, 68, 0),
    (item_set_slot, itm_sa_shields_archer_templar_2, 76, 27),
    (item_set_slot, itm_sa_shields_archer_templar_2, 82, 35),
    (item_set_slot, itm_sa_shields_archer_templar_2, 80, 35),
    (item_set_slot, itm_sa_shields_archer_templar_2, 83, 100),
    (item_set_slot, itm_sa_templar_shield, 69, 300),
    (item_set_slot, itm_sa_templar_shield, 68, 0),
    (item_set_slot, itm_sa_templar_shield, 76, 27),
    (item_set_slot, itm_sa_templar_shield, 82, 30),
    (item_set_slot, itm_sa_templar_shield, 80, 61),
    (item_set_slot, itm_sa_templar_shield, 83, 90),
    (item_set_slot, itm_sa_templar_shield_1, 69, 300),
    (item_set_slot, itm_sa_templar_shield_1, 68, 0),
    (item_set_slot, itm_sa_templar_shield_1, 76, 27),
    (item_set_slot, itm_sa_templar_shield_1, 82, 30),
    (item_set_slot, itm_sa_templar_shield_1, 80, 61),
    (item_set_slot, itm_sa_templar_shield_1, 83, 90),
    (item_set_slot, itm_sa_shield_veteran_templar, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_templar, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_templar, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_templar, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_templar, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_templar, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_templar_1, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_templar_1, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_templar_1, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_templar_1, 82, 39),
    (item_set_slot, itm_sa_shield_veteran_templar_1, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_templar_1, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_templar_2, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_templar_2, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_templar_2, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_templar_2, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_templar_2, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_templar_2, 83, 70),
    (item_set_slot, itm_sa_shield_veteran_templar_3, 69, 450),
    (item_set_slot, itm_sa_shield_veteran_templar_3, 68, 0),
    (item_set_slot, itm_sa_shield_veteran_templar_3, 76, 27),
    (item_set_slot, itm_sa_shield_veteran_templar_3, 82, 35),
    (item_set_slot, itm_sa_shield_veteran_templar_3, 80, 67),
    (item_set_slot, itm_sa_shield_veteran_templar_3, 83, 70),
    (item_set_slot, itm_sa_templar_shield_knight, 69, 300),
    (item_set_slot, itm_sa_templar_shield_knight, 68, 0),
    (item_set_slot, itm_sa_templar_shield_knight, 76, 27),
    (item_set_slot, itm_sa_templar_shield_knight, 82, 32),
    (item_set_slot, itm_sa_templar_shield_knight, 80, 71),
    (item_set_slot, itm_sa_templar_shield_knight, 83, 96),
    (item_set_slot, itm_sa_templar_shield_knight_1, 69, 300),
    (item_set_slot, itm_sa_templar_shield_knight_1, 68, 0),
    (item_set_slot, itm_sa_templar_shield_knight_1, 76, 27),
    (item_set_slot, itm_sa_templar_shield_knight_1, 82, 32),
    (item_set_slot, itm_sa_templar_shield_knight_1, 80, 71),
    (item_set_slot, itm_sa_templar_shield_knight_1, 83, 95),
    (item_set_slot, itm_sa_templar_shield_knight_2, 69, 300),
    (item_set_slot, itm_sa_templar_shield_knight_2, 68, 0),
    (item_set_slot, itm_sa_templar_shield_knight_2, 76, 27),
    (item_set_slot, itm_sa_templar_shield_knight_2, 82, 32),
    (item_set_slot, itm_sa_templar_shield_knight_2, 80, 71),
    (item_set_slot, itm_sa_templar_shield_knight_2, 83, 95),
    (item_set_slot, itm_sa_saracin_shield, 69, 200),
    (item_set_slot, itm_sa_saracin_shield, 68, 0),
    (item_set_slot, itm_sa_saracin_shield, 76, 27),
    (item_set_slot, itm_sa_saracin_shield, 82, 36),
    (item_set_slot, itm_sa_saracin_shield, 80, 61),
    (item_set_slot, itm_sa_saracin_shield, 83, 96),
    (item_set_slot, itm_sa_saracin_shield_1, 69, 250),
    (item_set_slot, itm_sa_saracin_shield_1, 68, 0),
    (item_set_slot, itm_sa_saracin_shield_1, 76, 27),
    (item_set_slot, itm_sa_saracin_shield_1, 82, 36),
    (item_set_slot, itm_sa_saracin_shield_1, 80, 61),
    (item_set_slot, itm_sa_saracin_shield_1, 83, 90),
    (item_set_slot, itm_saracin_shield_r_1, 69, 250),
    (item_set_slot, itm_saracin_shield_r_1, 68, 0),
    (item_set_slot, itm_saracin_shield_r_1, 76, 27),
    (item_set_slot, itm_saracin_shield_r_1, 82, 36),
    (item_set_slot, itm_saracin_shield_r_1, 80, 61),
    (item_set_slot, itm_saracin_shield_r_1, 83, 90),
    (item_set_slot, itm_saracin_shield_r_2, 69, 250),
    (item_set_slot, itm_saracin_shield_r_2, 68, 0),
    (item_set_slot, itm_saracin_shield_r_2, 76, 27),
    (item_set_slot, itm_saracin_shield_r_2, 82, 36),
    (item_set_slot, itm_saracin_shield_r_2, 80, 61),
    (item_set_slot, itm_saracin_shield_r_2, 83, 90),
    (item_set_slot, itm_saracin_shield_r_3, 69, 250),
    (item_set_slot, itm_saracin_shield_r_3, 68, 0),
    (item_set_slot, itm_saracin_shield_r_3, 76, 27),
    (item_set_slot, itm_saracin_shield_r_3, 82, 36),
    (item_set_slot, itm_saracin_shield_r_3, 80, 61),
    (item_set_slot, itm_saracin_shield_r_3, 83, 90),
    (item_set_slot, itm_saracin_shield_r_4, 69, 250),
    (item_set_slot, itm_saracin_shield_r_4, 68, 0),
    (item_set_slot, itm_saracin_shield_r_4, 76, 27),
    (item_set_slot, itm_saracin_shield_r_4, 82, 36),
    (item_set_slot, itm_saracin_shield_r_4, 80, 61),
    (item_set_slot, itm_saracin_shield_r_4, 83, 90),
    (item_set_slot, itm_saracin_shield_r_5, 69, 250),
    (item_set_slot, itm_saracin_shield_r_5, 68, 0),
    (item_set_slot, itm_saracin_shield_r_5, 76, 27),
    (item_set_slot, itm_saracin_shield_r_5, 82, 36),
    (item_set_slot, itm_saracin_shield_r_5, 80, 61),
    (item_set_slot, itm_saracin_shield_r_5, 83, 90),
    (item_set_slot, itm_saracin_shield_r_6, 69, 250),
    (item_set_slot, itm_saracin_shield_r_6, 68, 0),
    (item_set_slot, itm_saracin_shield_r_6, 76, 27),
    (item_set_slot, itm_saracin_shield_r_6, 82, 36),
    (item_set_slot, itm_saracin_shield_r_6, 80, 61),
    (item_set_slot, itm_saracin_shield_r_6, 83, 90),
    (item_set_slot, itm_saracin_shield_r_7, 69, 250),
    (item_set_slot, itm_saracin_shield_r_7, 68, 0),
    (item_set_slot, itm_saracin_shield_r_7, 76, 27),
    (item_set_slot, itm_saracin_shield_r_7, 82, 36),
    (item_set_slot, itm_saracin_shield_r_7, 80, 61),
    (item_set_slot, itm_saracin_shield_r_7, 83, 90),
    (item_set_slot, itm_saracin_shield_sultan, 69, 200),
    (item_set_slot, itm_saracin_shield_sultan, 68, 0),
    (item_set_slot, itm_saracin_shield_sultan, 76, 27),
    (item_set_slot, itm_saracin_shield_sultan, 82, 36),
    (item_set_slot, itm_saracin_shield_sultan, 80, 75),
    (item_set_slot, itm_saracin_shield_sultan, 83, 95),
    (item_set_slot, itm_shield_vostoka_a, 69, 200),
    (item_set_slot, itm_shield_vostoka_a, 68, 0),
    (item_set_slot, itm_shield_vostoka_a, 76, 27),
    (item_set_slot, itm_shield_vostoka_a, 82, 36),
    (item_set_slot, itm_shield_vostoka_a, 80, 32),
    (item_set_slot, itm_shield_vostoka_a, 83, 96),
    (item_set_slot, itm_shield_vostoka_b, 69, 200),
    (item_set_slot, itm_shield_vostoka_b, 68, 0),
    (item_set_slot, itm_shield_vostoka_b, 76, 27),
    (item_set_slot, itm_shield_vostoka_b, 82, 36),
    (item_set_slot, itm_shield_vostoka_b, 80, 32),
    (item_set_slot, itm_shield_vostoka_b, 83, 96),
    (item_set_slot, itm_shield_vostoka_c, 69, 200),
    (item_set_slot, itm_shield_vostoka_c, 68, 0),
    (item_set_slot, itm_shield_vostoka_c, 76, 27),
    (item_set_slot, itm_shield_vostoka_c, 82, 36),
    (item_set_slot, itm_shield_vostoka_c, 80, 32),
    (item_set_slot, itm_shield_vostoka_c, 83, 96),
    (item_set_slot, itm_bandit_shield_1, 69, 200),
    (item_set_slot, itm_bandit_shield_1, 68, 0),
    (item_set_slot, itm_bandit_shield_1, 76, 27),
    (item_set_slot, itm_bandit_shield_1, 82, 36),
    (item_set_slot, itm_bandit_shield_1, 80, 32),
    (item_set_slot, itm_bandit_shield_1, 83, 96),
    (item_set_slot, itm_bandit_shield_2, 69, 200),
    (item_set_slot, itm_bandit_shield_2, 68, 0),
    (item_set_slot, itm_bandit_shield_2, 76, 27),
    (item_set_slot, itm_bandit_shield_2, 82, 36),
    (item_set_slot, itm_bandit_shield_2, 80, 32),
    (item_set_slot, itm_bandit_shield_2, 83, 96),
    (item_set_slot, itm_bandit_shield_3, 69, 200),
    (item_set_slot, itm_bandit_shield_3, 68, 0),
    (item_set_slot, itm_bandit_shield_3, 76, 27),
    (item_set_slot, itm_bandit_shield_3, 82, 36),
    (item_set_slot, itm_bandit_shield_3, 80, 32),
    (item_set_slot, itm_bandit_shield_3, 83, 96),
    (item_set_slot, itm_small_shield_a, 69, 100),
    (item_set_slot, itm_small_shield_a, 68, 0),
    (item_set_slot, itm_small_shield_a, 76, 27),
    (item_set_slot, itm_small_shield_a, 82, 15),
    (item_set_slot, itm_small_shield_a, 80, 28),
    (item_set_slot, itm_small_shield_a, 83, 130),
    (item_set_slot, itm_small_shield_b, 69, 100),
    (item_set_slot, itm_small_shield_b, 68, 0),
    (item_set_slot, itm_small_shield_b, 76, 27),
    (item_set_slot, itm_small_shield_b, 82, 15),
    (item_set_slot, itm_small_shield_b, 80, 28),
    (item_set_slot, itm_small_shield_b, 83, 130),
    (item_set_slot, itm_small_shield_end, 69, 200),
    (item_set_slot, itm_small_shield_end, 68, 0),
    (item_set_slot, itm_small_shield_end, 76, 27),
    (item_set_slot, itm_small_shield_end, 82, 36),
    (item_set_slot, itm_small_shield_end, 80, 32),
    (item_set_slot, itm_small_shield_end, 83, 110),
    (item_set_slot, itm_sa_shield_end, 69, 200),
    (item_set_slot, itm_sa_shield_end, 68, 0),
    (item_set_slot, itm_sa_shield_end, 76, 0),
    (item_set_slot, itm_sa_shield_end, 82, 36),
    (item_set_slot, itm_sa_shield_end, 80, 32),
    (item_set_slot, itm_sa_shield_end, 83, 96),
    (item_set_slot, itm_invisiblegloves, 69, 0),
    (item_set_slot, itm_invisiblegloves, 68, 0),
    (item_set_slot, itm_invisiblegloves, 70, 1),
    (item_set_slot, itm_invisiblegloves, 76, 29),
    (item_set_slot, itm_invisiblegloves, 79, 0),
    (item_set_slot, itm_invisiblegloves, 80, 0),
    (item_set_slot, itm_invisiblegloves, 81, 0),
    (item_set_slot, itm_looter_bully_handless_body, 69, 200),
    (item_set_slot, itm_looter_bully_handless_body, 68, 0),
    (item_set_slot, itm_looter_bully_handless_body, 76, 0),
    (item_set_slot, itm_looter_bully_handless_body, 79, 0),
    (item_set_slot, itm_looter_bully_handless_body, 80, 27),
    (item_set_slot, itm_looter_bully_handless_body, 81, 10),
    (item_set_slot, itm_looter_thug_armless_body, 69, 200),
    (item_set_slot, itm_looter_thug_armless_body, 68, 0),
    (item_set_slot, itm_looter_thug_armless_body, 76, 0),
    (item_set_slot, itm_looter_thug_armless_body, 79, 0),
    (item_set_slot, itm_looter_thug_armless_body, 80, 27),
    (item_set_slot, itm_looter_thug_armless_body, 81, 10),
    (item_set_slot, itm_thin_looter_armless_body, 69, 200),
    (item_set_slot, itm_thin_looter_armless_body, 68, 0),
    (item_set_slot, itm_thin_looter_armless_body, 76, 0),
    (item_set_slot, itm_thin_looter_armless_body, 79, 0),
    (item_set_slot, itm_thin_looter_armless_body, 80, 17),
    (item_set_slot, itm_thin_looter_armless_body, 81, 6),
    (item_set_slot, itm_fat_peasant_handless_body, 69, 200),
    (item_set_slot, itm_fat_peasant_handless_body, 68, 0),
    (item_set_slot, itm_fat_peasant_handless_body, 76, 0),
    (item_set_slot, itm_fat_peasant_handless_body, 79, 0),
    (item_set_slot, itm_fat_peasant_handless_body, 80, 18),
    (item_set_slot, itm_fat_peasant_handless_body, 81, 8),
    (item_set_slot, itm_severedhand, 69, 200),
    (item_set_slot, itm_severedhand, 68, 0),
    (item_set_slot, itm_severedhand, 76, 0),
    (item_set_slot, itm_severedhand, 82, 3),
    (item_set_slot, itm_severedhand, 80, 20),
    (item_set_slot, itm_severedhand, 83, 100),
    (item_set_slot, itm_fatseveredarm, 69, 200),
    (item_set_slot, itm_fatseveredarm, 68, 0),
    (item_set_slot, itm_fatseveredarm, 76, 0),
    (item_set_slot, itm_fatseveredarm, 82, 8),
    (item_set_slot, itm_fatseveredarm, 80, 25),
    (item_set_slot, itm_fatseveredarm, 83, 100),
    (item_set_slot, itm_severedarm, 69, 200),
    (item_set_slot, itm_severedarm, 68, 0),
    (item_set_slot, itm_severedarm, 76, 0),
    (item_set_slot, itm_severedarm, 82, 8),
    (item_set_slot, itm_severedarm, 80, 15),
    (item_set_slot, itm_severedarm, 83, 100),
    (item_set_slot, itm_invisible_head, 69, 400),
    (item_set_slot, itm_invisible_head, 68, 0),
    (item_set_slot, itm_invisible_head, 70, 2),
    (item_set_slot, itm_invisible_head, 76, 29),
    (item_set_slot, itm_invisible_head, 79, 0),
    (item_set_slot, itm_invisible_head, 80, 0),
    (item_set_slot, itm_invisible_head, 81, 0),
    (item_set_slot, itm_cut_off_head_male, 69, 400),
    (item_set_slot, itm_cut_off_head_male, 68, 0),
    (item_set_slot, itm_cut_off_head_male, 70, 2),
    (item_set_slot, itm_cut_off_head_male, 76, 29),
    (item_set_slot, itm_cut_off_head_male, 79, 0),
    (item_set_slot, itm_cut_off_head_male, 80, 0),
    (item_set_slot, itm_cut_off_head_male, 81, 0),
    (item_set_slot, itm_cut_off_head_female, 69, 400),
    (item_set_slot, itm_cut_off_head_female, 68, 0),
    (item_set_slot, itm_cut_off_head_female, 70, 2),
    (item_set_slot, itm_cut_off_head_female, 76, 29),
    (item_set_slot, itm_cut_off_head_female, 79, 0),
    (item_set_slot, itm_cut_off_head_female, 80, 0),
    (item_set_slot, itm_cut_off_head_female, 81, 0),
    (item_set_slot, itm_default_male_no_right_arm, 69, 0),
    (item_set_slot, itm_default_male_no_right_arm, 68, 0),
    (item_set_slot, itm_default_male_no_right_arm, 76, 0),
    (item_set_slot, itm_default_male_no_right_arm, 79, 0),
    (item_set_slot, itm_default_male_no_right_arm, 80, 0),
    (item_set_slot, itm_default_male_no_right_arm, 81, 0),
    (item_set_slot, itm_default_male_no_left_arm, 69, 0),
    (item_set_slot, itm_default_male_no_left_arm, 68, 0),
    (item_set_slot, itm_default_male_no_left_arm, 76, 0),
    (item_set_slot, itm_default_male_no_left_arm, 79, 0),
    (item_set_slot, itm_default_male_no_left_arm, 80, 0),
    (item_set_slot, itm_default_male_no_left_arm, 81, 0),
    (item_set_slot, itm_default_male_no_arms, 69, 0),
    (item_set_slot, itm_default_male_no_arms, 68, 0),
    (item_set_slot, itm_default_male_no_arms, 76, 0),
    (item_set_slot, itm_default_male_no_arms, 79, 0),
    (item_set_slot, itm_default_male_no_arms, 80, 0),
    (item_set_slot, itm_default_male_no_arms, 81, 0),
    (item_set_slot, itm_supercrossbow, 69, 300),
    (item_set_slot, itm_supercrossbow, 68, 0),
    (item_set_slot, itm_supercrossbow, 76, 17),
    (item_set_slot, itm_supercrossbow, 79, 326),
    (item_set_slot, itm_supercrossbow, 80, 0),
    (item_set_slot, itm_supercrossbow, 83, 68),
    (item_set_slot, itm_supercrossbow, 82, 0),
    (item_set_slot, itm_super_bolts, 69, 200),
    (item_set_slot, itm_super_bolts, 68, 0),
    (item_set_slot, itm_super_bolts, 76, 42),
    (item_set_slot, itm_super_bolts, 79, 316),
    (item_set_slot, itm_super_bolts, 80, 0),
    (item_set_slot, itm_super_bolts, 83, 0),
    (item_set_slot, itm_super_bolts, 82, 63),
    (item_set_slot, itm_supersledge, 69, 1000),
    (item_set_slot, itm_supersledge, 68, 0),
    (item_set_slot, itm_supersledge, 76, 18),
    (item_set_slot, itm_supersledge, 79, 256),
    (item_set_slot, itm_supersledge, 80, 662),
    (item_set_slot, itm_supersledge, 83, 100),
    (item_set_slot, itm_supersledge, 82, 90),
    (item_set_slot, itm_items_end, 69, 0),
    (item_set_slot, itm_items_end, 68, 0),
    (item_set_slot, itm_items_end, 76, 0),
    (item_set_slot, itm_no_item, 75, 100),
    (item_set_slot, itm_no_item, 72, 0),
    (item_set_slot, itm_tutorial_spear, 75, 50),
    (item_set_slot, itm_tutorial_spear, 72, -1),
    (item_set_slot, itm_tutorial_club, 75, 55),
    (item_set_slot, itm_tutorial_club, 72, -1),
    (item_set_slot, itm_tutorial_battle_axe, 75, 65),
    (item_set_slot, itm_tutorial_battle_axe, 72, -1),
    (item_set_slot, itm_tutorial_arrows, 75, 72),
    (item_set_slot, itm_tutorial_arrows, 72, -1),
    (item_set_slot, itm_tutorial_bolts, 75, 75),
    (item_set_slot, itm_tutorial_bolts, 72, -1),
    (item_set_slot, itm_tutorial_short_bow, 75, 80),
    (item_set_slot, itm_tutorial_short_bow, 72, -1),
    (item_set_slot, itm_tutorial_crossbow, 75, 83),
    (item_set_slot, itm_tutorial_crossbow, 72, -1),
    (item_set_slot, itm_tutorial_throwing_daggers, 75, 86),
    (item_set_slot, itm_tutorial_throwing_daggers, 72, -1),
    (item_set_slot, itm_tutorial_saddle_horse, 75, 90),
    (item_set_slot, itm_tutorial_saddle_horse, 72, -1),
    (item_set_slot, itm_tutorial_shield, 75, 190),
    (item_set_slot, itm_tutorial_shield, 72, 1),
    (item_set_slot, itm_tutorial_staff_no_attack, 75, 250),
    (item_set_slot, itm_tutorial_staff_no_attack, 72, 1),
    (item_set_slot, itm_tutorial_staff, 75, 160),
    (item_set_slot, itm_tutorial_staff, 72, 1),
    (item_set_slot, itm_tutorial_sword, 75, 350),
    (item_set_slot, itm_tutorial_sword, 72, 1),
    (item_set_slot, itm_tutorial_axe, 75, 670),
    (item_set_slot, itm_tutorial_axe, 72, 1),
    (item_set_slot, itm_tutorial_dagger, 75, 850),
    (item_set_slot, itm_tutorial_dagger, 72, 1),
    (item_set_slot, itm_horse_meat, 75, 1450),
    (item_set_slot, itm_horse_meat, 72, 1),
    (item_set_slot, itm_practice_sword, 75, 1750),
    (item_set_slot, itm_practice_sword, 72, 1),
    (item_set_slot, itm_heavy_practice_sword, 75, 190),
    (item_set_slot, itm_heavy_practice_sword, 72, 1),
    (item_set_slot, itm_practice_dagger, 75, 490),
    (item_set_slot, itm_practice_dagger, 72, 1),
    (item_set_slot, itm_practice_axe, 75, 320),
    (item_set_slot, itm_practice_axe, 72, 1),
    (item_set_slot, itm_arena_axe, 75, 50),
    (item_set_slot, itm_arena_axe, 72, -1),
    (item_set_slot, itm_arena_sword, 75, 70),
    (item_set_slot, itm_arena_sword, 72, -1),
    (item_set_slot, itm_arena_sword_two_handed, 75, 60),
    (item_set_slot, itm_arena_sword_two_handed, 72, -1),
    (item_set_slot, itm_arena_lance, 75, 170),
    (item_set_slot, itm_arena_lance, 72, 1),
    (item_set_slot, itm_practice_staff, 75, 260),
    (item_set_slot, itm_practice_staff, 72, 1),
    (item_set_slot, itm_practice_lance, 75, 390),
    (item_set_slot, itm_practice_lance, 72, 1),
    (item_set_slot, itm_practice_shield, 75, 650),
    (item_set_slot, itm_practice_shield, 72, 1),
    (item_set_slot, itm_practice_bow, 75, 250),
    (item_set_slot, itm_practice_bow, 72, 1),
    (item_set_slot, itm_practice_crossbow, 75, 1150),
    (item_set_slot, itm_practice_crossbow, 72, 1),
    (item_set_slot, itm_practice_javelin, 75, 40),
    (item_set_slot, itm_practice_javelin, 72, -1),
    (item_set_slot, itm_practice_javelin_melee, 75, 60),
    (item_set_slot, itm_practice_javelin_melee, 72, -1),
    (item_set_slot, itm_practice_throwing_daggers, 75, 90),
    (item_set_slot, itm_practice_throwing_daggers, 72, 1),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 75, 180),
    (item_set_slot, itm_practice_throwing_daggers_100_amount, 72, 1),
    (item_set_slot, itm_practice_horse, 75, 180),
    (item_set_slot, itm_practice_horse, 72, -1),
    (item_set_slot, itm_practice_arrows, 75, 650),
    (item_set_slot, itm_practice_arrows, 72, 1),
    (item_set_slot, itm_practice_bolts, 75, 1450),
    (item_set_slot, itm_practice_bolts, 72, 1),
    (item_set_slot, itm_practice_arrows_10_amount, 75, 100),
    (item_set_slot, itm_practice_arrows_10_amount, 72, 1),
    (item_set_slot, itm_practice_arrows_100_amount, 75, 100),
    (item_set_slot, itm_practice_arrows_100_amount, 72, -1),
    (item_set_slot, itm_practice_bolts_9_amount, 75, 90),
    (item_set_slot, itm_practice_bolts_9_amount, 72, -1),
    (item_set_slot, itm_practice_boots, 75, 40),
    (item_set_slot, itm_practice_boots, 72, -1),
    (item_set_slot, itm_book_tactics, 75, 5),
    (item_set_slot, itm_book_tactics, 72, -1),
    (item_set_slot, itm_book_persuasion, 75, 190),
    (item_set_slot, itm_book_persuasion, 72, 1),
  ]),

  ("get_inventory_weight_of_whole_party",
  [
    (assign, ":var0", 0),
    (party_get_num_companion_stacks, ":var1", "p_main_party"),
    (try_for_range, ":var2", 0, ":var1"),
      (party_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
      (is_between, ":var3", "trp_npc1", "trp_kingdom_1_lord"),
      (troop_get_inventory_capacity, ":var4", ":var3"),
      (try_for_range, ":var5", 10, ":var4"),
        (troop_get_inventory_slot, ":var6", ":var3", ":var5"),
        (ge, ":var6", 0),
        (item_get_slot, ":var7", ":var6", 69),
        (val_add, ":var0", ":var7"),
      (try_end),
    (try_end),
    (val_div, ":var0", 100),
    (assign, reg0, ":var0"),
  ]),

  ("sort_food",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (try_for_range, ":var3", 10, ":var2"),
      (troop_get_inventory_slot, ":var4", ":var0", ":var3"),
      (troop_get_inventory_slot_modifier, ":var5", ":var0", ":var3"),
      (gt, ":var4", -1),
      (is_between, ":var4", "itm_smoked_fish", "itm_siege_supply"),
      (try_for_range, ":var6", ":var3", ":var2"),
        (neq, ":var6", ":var3"),
        (troop_get_inventory_slot, ":var7", ":var0", ":var6"),
        (troop_get_inventory_slot_modifier, ":var8", ":var0", ":var6"),
        (gt, ":var7", -1),
        (eq, ":var7", ":var4"),
        (eq, ":var8", ":var5"),
        (troop_inventory_slot_get_item_max_amount, ":var1", ":var0", ":var3"),
        (troop_inventory_slot_get_item_amount, ":var9", ":var0", ":var3"),
        (troop_inventory_slot_get_item_amount, ":var10", ":var0", ":var6"),
        (store_add, ":var11", ":var9", ":var10"),
        (store_sub, ":var12", ":var11", ":var1"),
        (try_begin),
          (gt, ":var12", 0),
          (troop_inventory_slot_set_item_amount, ":var0", ":var3", ":var1"),
          (troop_inventory_slot_set_item_amount, ":var0", ":var6", ":var12"),
          (assign, ":var6", 0),
        (else_try),
          (troop_inventory_slot_set_item_amount, ":var0", ":var3", ":var11"),
          (troop_set_inventory_slot, ":var0", ":var6", -1),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("auto_sell",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_free_inventory_capacity, ":var2", ":var1"),
    (troop_sort_inventory, ":var0"),
    (troop_get_inventory_capacity, ":var3", ":var0"),
    (try_for_range_backwards, ":var4", 10, ":var3"),
      (troop_get_inventory_slot, ":var5", ":var0", ":var4"),
      (troop_get_inventory_slot_modifier, ":var6", ":var0", ":var4"),
      (gt, ":var5", -1),
      (item_get_type, ":var7", ":var5"),
      (item_slot_eq, ":var7", 74, 0),
      (call_script, "script_get_item_value_with_imod", ":var5", ":var6"),
      (assign, ":var8", reg0),
      (val_div, ":var8", 100),
      (call_script, "script_game_get_item_sell_price_factor", ":var5"),
      (assign, ":var9", reg0),
      (val_mul, ":var8", ":var9"),
      (val_div, ":var8", 100),
      (val_max, ":var8", 1),
      (le, ":var8", "$g_auto_sell_price_limit"),
      (store_troop_gold, ":var10", ":var1"),
      (le, ":var8", ":var10"),
      (gt, ":var2", 0),
      (troop_add_item, ":var1", ":var5", ":var6"),
      (val_sub, ":var2", 1),
      (troop_set_inventory_slot, ":var0", ":var4", -1),
      (troop_remove_gold, ":var1", ":var8"),
      (troop_add_gold, ":var0", ":var8"),
    (try_end),
  ]),

  ("start_town_conversation",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, ":var0", 23),
      (assign, ":var2", 14),
    (else_try),
      (eq, ":var0", 20),
      (assign, ":var2", 13),
    (else_try),
      (assign, ":var2", 10),
      (assign, ":var2", 13),
    (try_end),
    (party_get_slot, ":var3", "$current_town", ":var2"),
    (modify_visitors_at_site, ":var3"),
    (reset_visitors),
    (set_visitor, 0, "trp_player"),
    (party_get_slot, ":var4", "$current_town", ":var0"),
    (set_visitor, ":var1", ":var4"),
    (set_jump_mission, "mt_conversation_encounter"),
    (jump_to_scene, ":var3"),
    (change_screen_map_conversation, ":var4"),
  ]),

  ("get_book_read_slot",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_sub, ":var2", "trp_kingdom_1_lord", "trp_npc1"),
    (store_sub, ":var3", ":var1", "itm_book_tactics"),
    (store_sub, ":var4", ":var0", "trp_npc1"),
    (store_mul, ":var5", ":var3", ":var2"),
    (val_add, ":var5", ":var4"),
    (assign, reg0, ":var5"),
  ]),

  ("get_troop_max_hp",
  [
    (store_script_param_1, ":var0"),
    (store_skill_level, ":var1", 36, ":var0"),
    (store_attribute_level, ":var2", ":var0", ca_strength),
    (val_mul, ":var1", 2),
    (val_add, ":var1", ":var2"),
    (val_add, ":var1", 35),
    (assign, reg0, ":var1"),
  ]),

  ("get_current_item_for_autoloot",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (eq, ":var0", 0),
      (assign, ":var2", ":var1"),
      (troop_get_inventory_slot, ":var3", "$temp", ":var2"),
    (else_try),
      (store_sub, ":var2", "$temp", "trp_npc1"),
      (val_mul, ":var2", 4),
      (val_add, ":var2", 10),
      (val_add, ":var2", ":var1"),
      (troop_get_inventory_slot, ":var3", "trp_merchants_end", ":var2"),
    (try_end),
    (try_begin),
      (ge, ":var3", 0),
      (str_store_item_name, s10, ":var3"),
    (else_try),
      (str_store_string, s10, "str_none"),
    (try_end),
  ]),

  ("prsnt_lines",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (val_mul, ":var0", 50),
    (val_mul, ":var1", 50),
    (call_script, "script_gpu_create_mesh_overlay", "mesh_white_plane", ":var2", ":var3", ":var0", ":var1"),
    (overlay_set_color, reg1, ":var4"),
  ]),

  ("copy_inventory",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_clear_inventory, ":var1"),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (troop_get_inventory_slot, ":var4", ":var0", ":var3"),
      (troop_set_inventory_slot, ":var1", ":var3", ":var4"),
      (troop_get_inventory_slot_modifier, ":var5", ":var0", ":var3"),
      (troop_set_inventory_slot_modifier, ":var1", ":var3", ":var5"),
      (troop_inventory_slot_get_item_amount, ":var6", ":var0", ":var3"),
      (gt, ":var6", 0),
      (troop_inventory_slot_set_item_amount, ":var1", ":var3", ":var6"),
    (try_end),
  ]),

  ("sell_all_prisoners",
  [
    (assign, ":var0", 0),
    (party_get_num_prisoner_stacks, ":var1", "p_main_party"),
    (try_for_range_backwards, ":var2", 0, ":var1"),
      (party_prisoner_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
      (neg|troop_is_hero, ":var3"),
      (party_prisoner_stack_get_size, ":var4", "p_main_party", ":var2"),
      (call_script, "script_game_get_prisoner_price", ":var3"),
      (assign, ":var5", reg0),
      (store_mul, ":var6", ":var5", ":var4"),
      (val_add, ":var0", ":var6"),
      (party_remove_prisoners, "p_main_party", ":var3", ":var4"),
    (try_end),
    (troop_add_gold, "trp_player", ":var0"),
  ]),

  ("get_dest_color_from_rgb",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 4278190080),
    (val_mul, ":var1", 256),
    (val_mul, ":var0", 65536),
    (val_add, ":var3", ":var2"),
    (val_add, ":var3", ":var1"),
    (val_add, ":var3", ":var0"),
    (assign, reg0, ":var3"),
  ]),

  ("convert_rgb_code_to_html_code",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (str_store_string, s0, "@#"),
    (store_div, ":var3", ":var0", 16),
    (store_add, ":var4", "str_key_0", ":var3"),
    (str_store_string, s1, ":var4"),
    (str_store_string, s0, "@{s0}{s1}"),
    (store_mod, ":var5", ":var0", 16),
    (store_add, ":var4", "str_key_0", ":var5"),
    (str_store_string, s1, ":var4"),
    (str_store_string, s0, "@{s0}{s1}"),
    (store_div, ":var6", ":var1", 16),
    (store_add, ":var4", "str_key_0", ":var6"),
    (str_store_string, s1, ":var4"),
    (str_store_string, s0, "@{s0}{s1}"),
    (store_mod, ":var7", ":var1", 16),
    (store_add, ":var4", "str_key_0", ":var7"),
    (str_store_string, s1, ":var4"),
    (str_store_string, s0, "@{s0}{s1}"),
    (store_div, ":var8", ":var2", 16),
    (store_add, ":var4", "str_key_0", ":var8"),
    (str_store_string, s1, ":var4"),
    (str_store_string, s0, "@{s0}{s1}"),
    (store_mod, ":var9", ":var2", 16),
    (store_add, ":var4", "str_key_0", ":var9"),
    (str_store_string, s1, ":var4"),
    (str_store_string, s0, "@{s0}{s1}"),
  ]),

  ("convert_slot_no_to_color",
  [
    (store_script_param, ":var0", 1),
    (store_mod, ":var1", ":var0", 6),
    (val_div, ":var0", 6),
    (store_mod, ":var2", ":var0", 6),
    (val_div, ":var0", 6),
    (store_mod, ":var3", ":var0", 6),
    (val_mul, ":var1", 51),
    (val_mul, ":var2", 51),
    (val_mul, ":var3", 51),
    (assign, ":var4", 4278190080),
    (val_mul, ":var2", 256),
    (val_mul, ":var3", 65536),
    (val_add, ":var4", ":var1"),
    (val_add, ":var4", ":var2"),
    (val_add, ":var4", ":var3"),
    (assign, reg0, ":var4"),
  ]),

  ("raf_send_messenger_to_companion",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (set_spawn_radius, 1),
    (spawn_around_party, "$current_town", "pt_messenger_party"),
    (assign, ":var2", reg0),
    (party_add_members, ":var2", "trp_raf_messenger", 1),
    (try_begin),
      (gt, "$players_kingdom", 0),
      (party_set_faction, ":var2", "$players_kingdom"),
      (party_set_slot, ":var2", 61, "$players_kingdom"),
    (else_try),
      (party_set_faction, ":var2", "fac_player_faction"),
      (party_set_slot, ":var2", 61, "fac_player_faction"),
    (try_end),
    (party_set_slot, ":var2", 0, 26),
    (val_add, "$g_raf_spt_messenger", 1),
    (party_set_slot, ":var2", 123, "$current_town"),
    (party_set_ai_behavior, ":var2", ai_bhvr_travel_to_party),
    (party_set_ai_object, ":var2", ":var0"),
    (party_set_slot, ":var2", 5, ":var0"),
    (party_set_slot, ":var2", 246, ":var1"),
    (troop_set_slot, ":var1", 159, 1),
  ]),

  ("raf_troop_get_religion",
  [
    (store_script_param, ":var0", 1),
    (assign, reg0, -1),
    (store_faction_of_troop, ":var1", ":var0"),
    (try_begin),
      (eq, ":var1", "fac_kingdom_1"),
      (assign, reg0, 0),
    (else_try),
      (eq, ":var1", "fac_kingdom_2"),
      (assign, reg0, 3),
    (else_try),
      (eq, ":var1", "fac_kingdom_20"),
      (assign, reg0, 2),
    (else_try),
      (eq, ":var1", "fac_kingdom_3"),
      (assign, reg0, 4),
    (else_try),
      (eq, ":var1", "fac_kingdom_8"),
      (assign, reg0, 1),
    (try_end),
  ]),

  ("prsnt_upgrade_tree_switch",
  [
    (store_trigger_param_1, ":var0"),
    (store_trigger_param_2, ":var1"),
    (try_begin),
      (eq, ":var0", "$g_presentation_obj_5"),
      (presentation_set_duration, 0),
    (try_end),
  ]),

  ("prsnt_upgrade_tree_ready",
  [
    (assign, "$g_presentation_next_presentation", -1),
    (create_game_button_overlay, "$g_presentation_obj_5", "@Done"),
    (position_set_x, pos1, 900),
    (position_set_y, pos1, 25),
    (overlay_set_position, "$g_presentation_obj_5", pos1),
  ]),

  ("prsnt_upgrade_tree_troop_and_name",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (str_store_troop_name, s1, ":var1"),
    (create_text_overlay, reg1, "@{s1}", tf_center_justify|tf_vertical_align_center),
    (position_set_x, pos1, 800),
    (position_set_y, pos1, 800),
    (overlay_set_size, reg1, pos1),
    (position_set_x, pos1, ":var2"),
    (position_set_y, pos1, ":var3"),
    (overlay_set_position, reg1, pos1),
    (val_sub, ":var2", 70),
    (val_add, ":var3", 5),
    (store_mul, ":var4", ":var1", 2),
    (create_image_button_overlay_with_tableau_material, reg1, -1, "tableau_game_party_window", ":var4"),
    (position_set_x, pos1, 450),
    (position_set_y, pos1, 450),
    (overlay_set_size, reg1, pos1),
    (position_set_x, pos1, ":var2"),
    (position_set_y, pos1, ":var3"),
    (overlay_set_position, reg1, pos1),
    (troop_set_slot, "trp_temp_array_a", ":var0", reg1),
    (troop_set_slot, "trp_temp_array_b", ":var0", ":var1"),
  ]),

  ("prsnt_upgrade_tree_troop_cost",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (call_script, "script_game_get_upgrade_cost", ":var0"),
    (create_text_overlay, reg1, "@{reg0}", tf_center_justify|tf_vertical_align_center),
    (position_set_x, pos1, 800),
    (position_set_y, pos1, 800),
    (overlay_set_size, reg1, pos1),
    (position_set_x, pos1, ":var1"),
    (position_set_y, pos1, ":var2"),
    (overlay_set_position, reg1, pos1),
  ]),

  ("raf_religion_to_s11",
  [
    (store_script_param, ":var0", 1),
    (faction_get_slot, ":var1", ":var0", 102),
    (try_begin),
      (eq, ":var1", 0),
      (str_store_string, s11, "str_religion_catholic"),
    (else_try),
      (eq, ":var1", 3),
      (str_store_string, s11, "str_religion_pagan_balt"),
    (else_try),
      (eq, ":var1", 4),
      (str_store_string, s11, "str_religion_pagan_mongol"),
    (else_try),
      (eq, ":var1", 2),
      (str_store_string, s11, "str_religion_muslim"),
    (else_try),
      (eq, ":var1", 1),
      (str_store_string, s11, "str_religion_orthodox"),
    (try_end),
  ]),

  ("division_reset_places",
  [
    (assign, "$next_cavalry_place", 200),
    (assign, "$next_archer_place", 1000),
    (assign, "$next_infantry_place", -200),
  ]),

  ("battlegroup_place_around_leader",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (team_get_leader, ":var2", ":var0"),
    (try_begin),
      (gt, ":var2", -1),
      (agent_get_position, pos1, ":var2"),
      (try_begin),
        (eq, "$autorotate_at_player", 1),
        (call_script, "script_team_get_position_of_enemies", 60, ":var0", 9),
        (neq, reg0, 0),
        (call_script, "script_point_y_toward_position", 1, 60),
      (try_end),
      (store_add, ":var3", 84, ":var1"),
      (team_get_slot, ":var4", ":var0", ":var3"),
      (store_add, ":var3", 12, ":var1"),
      (team_get_slot, ":var5", ":var0", ":var3"),
      (store_add, ":var3", 93, ":var1"),
      (team_get_slot, ":var6", ":var0", ":var3"),
      (store_add, ":var3", 102, ":var1"),
      (team_get_slot, ":var7", ":var0", ":var3"),
      (try_begin),
        (this_or_next|eq, ":var4", 2),
        (eq, ":var4", 5),
        (position_move_x, 1, "$next_cavalry_place", 0),
        (try_begin),
          (eq, ":var6", 0),
          (try_begin),
            (ge, ":var7", 0),
            (store_mul, ":var8", ":var7", 133),
            (val_add, ":var8", 150),
          (else_try),
            (assign, ":var8", 200),
            (val_mul, ":var7", -1),
            (val_add, ":var7", 1),
            (val_div, ":var5", ":var7"),
          (try_end),
          (store_mul, ":var9", ":var5", ":var8"),
          (store_div, reg0, ":var9", 2),
          (position_move_x, 1, reg0, 0),
          (copy_position, 61, 1),
        (else_try),
          (store_mul, ":var8", ":var7", 50),
          (val_add, ":var8", 200),
          (convert_to_fixed_point, ":var5"),
          (store_sqrt, ":var9", ":var5"),
          (val_mul, ":var9", ":var8"),
          (convert_from_fixed_point, ":var9"),
          (val_sub, ":var9", ":var8"),
          (store_div, reg0, ":var9", 2),
          (position_move_x, 1, reg0, 0),
          (copy_position, 61, 1),
          (call_script, "script_form_cavalry", ":var0", ":var1", ":var2", ":var7"),
        (try_end),
        (val_add, "$next_cavalry_place", ":var9"),
        (val_add, "$next_cavalry_place", 200),
      (else_try),
        (eq, ":var4", 1),
        (position_move_y, pos1, "$next_archer_place"),
        (copy_position, 61, 1),
        (try_begin),
          (neq, ":var6", 0),
          (call_script, "script_get_centering_amount", 1, ":var5", ":var7"),
          (val_mul, reg0, -1),
          (position_move_x, 1, reg0, 0),
          (call_script, "script_form_archers", ":var0", ":var1", ":var2", ":var7", ":var6"),
        (try_end),
        (val_add, "$next_archer_place", 500),
      (else_try),
        (eq, ":var4", 4),
        (position_move_y, pos1, "$next_archer_place"),
        (copy_position, 61, 1),
        (try_begin),
          (neq, ":var6", 0),
          (call_script, "script_get_centering_amount", ":var6", ":var5", ":var7"),
          (position_move_x, 1, reg0, 0),
          (call_script, "script_form_infantry", ":var0", ":var1", ":var2", ":var7", ":var6"),
        (try_end),
        (val_add, "$next_archer_place", 500),
      (else_try),
        (position_move_x, 1, "$next_infantry_place", 0),
        (copy_position, 61, 1),
        (try_begin),
          (eq, ":var6", 0),
          (try_begin),
            (ge, ":var7", 0),
            (store_mul, ":var8", ":var7", 75),
            (val_add, ":var8", 100),
          (else_try),
            (assign, ":var8", 150),
            (val_mul, ":var7", -1),
            (val_add, ":var7", 1),
            (val_div, ":var5", ":var7"),
          (try_end),
          (store_mul, ":var9", ":var5", ":var8"),
          (store_div, reg0, ":var9", 2),
          (val_mul, reg0, -1),
          (position_move_x, 61, reg0, 0),
        (else_try),
          (call_script, "script_form_infantry", ":var0", ":var1", ":var2", ":var7", ":var6"),
          (call_script, "script_get_centering_amount", ":var6", ":var5", ":var7"),
          (store_mul, ":var9", 2, reg0),
          (store_mul, ":var8", ":var7", 50),
          (val_add, ":var8", 67),
          (val_add, ":var9", ":var8"),
          (val_mul, reg0, -1),
          (position_move_x, 61, reg0, 0),
        (try_end),
        (val_sub, "$next_infantry_place", ":var9"),
        (val_sub, "$next_infantry_place", 100),
      (try_end),
      (store_add, ":var3", 111, ":var1"),
      (team_set_slot, ":var0", ":var3", 0),
      (set_show_messages, 0),
      (team_get_movement_order, reg0, ":var0", ":var1"),
      (try_begin),
        (neq, reg0, 0),
        (team_give_order, ":var0", ":var1", 0),
      (try_end),
      (call_script, "script_set_formation_position", ":var0", ":var1", 61),
      (set_show_messages, 1),
    (try_end),
  ]),

  ("form_cavalry",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_mul, ":var4", ":var3", 50),
    (store_add, ":var5", 200, ":var4"),
    (store_add, ":var6", 300, ":var4"),
    (assign, ":var7", 0),
    (try_for_agents, ":var8"),
      (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var8"),
      (agent_get_troop_id, ":var9", ":var8"),
      (store_character_level, ":var10", ":var9"),
      (gt, ":var10", ":var7"),
      (assign, ":var7", ":var10"),
    (try_end),
    (assign, ":var11", 1),
    (assign, ":var12", 1),
    (store_mul, ":var13", ":var6", -1),
    (store_mul, ":var14", ":var5", -1),
    (store_div, ":var15", ":var5", 2),
    (store_div, ":var16", ":var14", 2),
    (val_add, ":var7", 1),
    (assign, ":var17", 1),
    (try_for_range_backwards, ":var18", 0, ":var7"),
      (try_for_agents, ":var8"),
        (agent_get_troop_id, ":var9", ":var8"),
        (store_character_level, ":var10", ":var9"),
        (eq, ":var10", ":var18"),
        (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var8"),
        (agent_set_scripted_destination, ":var8", pos1, 1),
        (try_begin),
          (eq, ":var17", 1),
          (position_move_x, 1, ":var14", 0),
        (else_try),
          (position_move_x, 1, ":var5", 0),
        (try_end),
        (val_add, ":var11", 1),
        (gt, ":var11", ":var12"),
        (position_move_y, pos1, ":var13", 0),
        (try_begin),
          (neq, ":var17", 1),
          (assign, ":var17", 1),
          (position_move_x, 1, ":var16", 0),
        (else_try),
          (assign, ":var17", 0),
          (position_move_x, 1, ":var15", 0),
        (try_end),
        (assign, ":var11", 1),
        (val_add, ":var12", 1),
      (try_end),
    (try_end),
  ]),

  ("form_archers",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_mul, ":var5", ":var3", 50),
    (store_add, ":var6", 67, ":var5"),
    (assign, ":var7", 0),
    (try_for_agents, ":var8"),
      (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var8"),
      (agent_set_scripted_destination, ":var8", pos1, 1),
      (position_move_x, 1, ":var6", 0),
      (try_begin),
        (eq, ":var4", 2),
        (val_add, ":var7", 75),
        (try_begin),
          (le, ":var7", 150),
          (position_move_y, pos1, 75, 0),
        (else_try),
          (position_move_y, pos1, -150, 0),
          (assign, ":var7", 0),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("form_infantry",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_mul, ":var5", ":var3", 50),
    (store_add, ":var6", 67, ":var5"),
    (store_mul, ":var7", ":var6", -1),
    (store_add, ":var8", 12, ":var1"),
    (team_get_slot, ":var9", ":var0", ":var8"),
    (try_begin),
      (eq, ":var4", 1),
      (call_script, "script_get_default_formation", ":var0"),
      (assign, ":var4", reg0),
    (try_end),
    (team_get_weapon_usage_order, ":var10", ":var0", 0),
    (assign, ":var11", 1),
    (assign, ":var12", 1),
    (assign, ":var13", 1),
    (try_begin),
      (eq, ":var4", 5),
      (convert_to_fixed_point, ":var9"),
      (store_sqrt, ":var14", ":var9"),
      (convert_from_fixed_point, ":var14"),
      (val_add, ":var14", 1),
      (try_for_agents, ":var15"),
        (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var15"),
        (agent_set_scripted_destination, ":var15", pos1, 1),
        (try_begin),
          (eq, 0, 1),
          (eq, ":var10", 0),
          (try_begin),
            (this_or_next|eq, ":var13", 1),
            (this_or_next|ge, ":var13", ":var14"),
            (this_or_next|eq, ":var12", 1),
            (ge, ":var12", ":var14"),
            (call_script, "script_equip_best_melee_weapon", ":var15", 0, 0),
          (else_try),
            (call_script, "script_equip_best_melee_weapon", ":var15", 0, 1),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var11", 1),
          (position_move_x, 1, ":var7", 0),
        (else_try),
          (position_move_x, 1, ":var6", 0),
        (try_end),
        (val_add, ":var12", 1),
        (gt, ":var12", ":var14"),
        (position_move_y, pos1, ":var7", 0),
        (try_begin),
          (neq, ":var11", 1),
          (assign, ":var11", 1),
          (position_move_x, 1, ":var7", 0),
        (else_try),
          (assign, ":var11", 0),
          (position_move_x, 1, ":var6", 0),
        (try_end),
        (assign, ":var12", 1),
        (val_add, ":var13", 1),
      (try_end),
    (else_try),
      (eq, ":var4", 4),
      (assign, ":var16", 0),
      (try_for_agents, ":var15"),
        (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var15"),
        (agent_get_troop_id, ":var17", ":var15"),
        (store_character_level, ":var18", ":var17"),
        (gt, ":var18", ":var16"),
        (assign, ":var16", ":var18"),
      (try_end),
      (assign, ":var19", 1),
      (store_div, ":var20", ":var6", 2),
      (store_div, ":var21", ":var7", 2),
      (val_add, ":var16", 1),
      (try_for_range_backwards, ":var22", 0, ":var16"),
        (try_for_agents, ":var15"),
          (agent_get_troop_id, ":var17", ":var15"),
          (store_character_level, ":var18", ":var17"),
          (eq, ":var18", ":var22"),
          (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var15"),
          (agent_set_scripted_destination, ":var15", pos1, 1),
          (try_begin),
            (eq, 0, 1),
            (eq, ":var10", 0),
            (try_begin),
              (this_or_next|eq, ":var12", 1),
              (ge, ":var12", ":var19"),
              (call_script, "script_equip_best_melee_weapon", ":var15", 0, 0),
            (else_try),
              (call_script, "script_equip_best_melee_weapon", ":var15", 0, 1),
            (try_end),
          (try_end),
          (try_begin),
            (eq, ":var11", 1),
            (position_move_x, 1, ":var7", 0),
          (else_try),
            (position_move_x, 1, ":var6", 0),
          (try_end),
          (val_add, ":var12", 1),
          (gt, ":var12", ":var19"),
          (position_move_y, pos1, ":var7", 0),
          (try_begin),
            (neq, ":var11", 1),
            (assign, ":var11", 1),
            (position_move_x, 1, ":var21", 0),
          (else_try),
            (assign, ":var11", 0),
            (position_move_x, 1, ":var20", 0),
          (try_end),
          (assign, ":var12", 1),
          (val_add, ":var19", 1),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var4", 2),
      (store_div, ":var19", ":var9", 3),
      (val_add, ":var19", 1),
      (assign, ":var16", 0),
      (try_for_agents, ":var15"),
        (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var15"),
        (agent_get_troop_id, ":var17", ":var15"),
        (store_character_level, ":var18", ":var17"),
        (gt, ":var18", ":var16"),
        (assign, ":var16", ":var18"),
      (try_end),
      (val_add, ":var16", 1),
      (try_for_range_backwards, ":var22", 0, ":var16"),
        (try_for_agents, ":var15"),
          (agent_get_troop_id, ":var17", ":var15"),
          (store_character_level, ":var18", ":var17"),
          (eq, ":var18", ":var22"),
          (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var15"),
          (agent_set_scripted_destination, ":var15", pos1, 1),
          (try_begin),
            (eq, 0, 1),
            (eq, ":var10", 0),
            (try_begin),
              (eq, ":var13", 1),
              (call_script, "script_equip_best_melee_weapon", ":var15", 0, 0),
            (else_try),
              (call_script, "script_equip_best_melee_weapon", ":var15", 0, 1),
            (try_end),
          (try_end),
          (try_begin),
            (eq, ":var11", 1),
            (position_move_x, 1, ":var7", 0),
          (else_try),
            (position_move_x, 1, ":var6", 0),
          (try_end),
          (val_add, ":var12", 1),
          (gt, ":var12", ":var19"),
          (position_move_y, pos1, ":var7", 0),
          (try_begin),
            (neq, ":var11", 1),
            (assign, ":var11", 1),
            (position_move_x, 1, ":var7", 0),
          (else_try),
            (assign, ":var11", 0),
            (position_move_x, 1, ":var6", 0),
          (try_end),
          (assign, ":var12", 1),
          (val_add, ":var13", 1),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var4", 3),
      (store_div, ":var19", ":var9", 3),
      (val_add, ":var19", 1),
      (assign, ":var23", -1),
      (assign, ":var24", -1),
      (try_for_range, ":var25", 0, 3),
        (store_mul, ":var26", ":var25", 83),
        (store_add, ":var27", ":var26", 83),
        (try_begin),
          (gt, ":var24", -1),
          (assign, ":var24", ":var26"),
        (try_end),
        (try_for_agents, ":var15"),
          (call_script, "script_cf_valid_formation_member", ":var0", ":var1", ":var2", ":var15"),
          (agent_get_wielded_item, ":var28", ":var15", 0),
          (try_begin),
            (gt, ":var28", 0),
            (item_get_slot, ":var29", ":var28", 82),
          (else_try),
            (assign, ":var29", 0),
          (try_end),
          (try_begin),
            (gt, ":var13", 1),
            (try_begin),
              (eq, ":var23", ":var15"),
              (assign, ":var24", ":var26"),
            (else_try),
              (eq, ":var23", -1),
              (assign, ":var23", ":var15"),
            (try_end),
            (eq, 0, 1),
            (eq, ":var10", 0),
            (ge, ":var29", ":var26"),
            (eq, ":var24", -1),
            (call_script, "script_equip_best_melee_weapon", ":var15", 0, 1),
            (agent_get_wielded_item, ":var28", ":var15", 0),
            (try_begin),
              (gt, ":var28", 0),
              (item_get_slot, ":var29", ":var28", 82),
            (else_try),
              (assign, ":var29", 0),
            (try_end),
          (try_end),
          (assign, ":var30", 0),
          (agent_get_wielded_item, ":var31", ":var15", 1),
          (try_begin),
            (gt, ":var31", 0),
            (item_get_type, reg0, ":var31"),
            (eq, reg0, 7),
            (try_begin),
              (is_between, ":var29", ":var26", ":var27"),
              (assign, ":var30", 1),
            (try_end),
          (else_try),
            (gt, ":var13", 1),
            (is_between, ":var29", ":var24", ":var27"),
            (assign, ":var30", 1),
          (try_end),
          (eq, ":var30", 1),
          (agent_set_scripted_destination, ":var15", pos1, 1),
          (try_begin),
            (eq, 0, 1),
            (eq, ":var10", 0),
            (eq, ":var13", 1),
            (call_script, "script_equip_best_melee_weapon", ":var15", 1, 0),
          (try_end),
          (try_begin),
            (eq, ":var11", 1),
            (position_move_x, 1, ":var7", 0),
          (else_try),
            (position_move_x, 1, ":var6", 0),
          (try_end),
          (val_add, ":var12", 1),
          (gt, ":var12", ":var19"),
          (position_move_y, pos1, ":var7", 0),
          (try_begin),
            (neq, ":var11", 1),
            (assign, ":var11", 1),
            (position_move_x, 1, ":var7", 0),
          (else_try),
            (assign, ":var11", 0),
            (position_move_x, 1, ":var6", 0),
          (try_end),
          (assign, ":var12", 1),
          (val_add, ":var13", 1),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("get_default_formation",
  [
    (store_script_param, ":var0", 1),
    (team_get_slot, ":var1", ":var0", 1),
    (try_begin),
      (this_or_next|eq, ":var1", 41),
      (eq, ":var1", 40),
      (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neq, "$players_kingdom", 41),
      (assign, ":var1", "$players_kingdom"),
    (try_end),
    (faction_get_slot, ":var2", ":var1", 10),
    (try_begin),
      (this_or_next|eq, ":var2", "fac_culture_finnish"),
      (this_or_next|eq, ":var2", "fac_culture_mazovian"),
      (this_or_next|eq, ":var2", "fac_culture_welsh"),
      (this_or_next|eq, ":var2", "fac_culture_rus"),
      (this_or_next|eq, ":var2", "fac_culture_nordic"),
      (this_or_next|eq, ":var2", "fac_culture_baltic"),
      (this_or_next|eq, ":var2", "fac_culture_gaelic"),
      (eq, ":var2", "fac_culture_scotish"),
      (assign, reg0, 3),
    (else_try),
      (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
      (this_or_next|is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (is_between, ":var2", 6, 27),
      (assign, reg0, 2),
    (try_end),
  ]),

  ("equip_best_melee_weapon",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (try_for_range, ":var5", 0, 4),
      (agent_get_item_slot, ":var6", ":var0", ":var5"),
      (gt, ":var6", 0),
      (item_get_type, ":var7", ":var6"),
      (try_begin),
        (eq, ":var7", 7),
        (assign, ":var3", ":var6"),
      (else_try),
        (eq, ":var7", 10),
        (assign, ":var4", ":var6"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var4", 0),
      (assign, ":var8", 0),
      (try_for_range, ":var5", 0, 4),
        (agent_get_item_slot, ":var6", ":var0", ":var5"),
        (gt, ":var6", 0),
        (item_get_type, ":var7", ":var6"),
        (neq, ":var7", 7),
        (item_get_slot, reg0, ":var6", 62),
        (this_or_next|eq, reg0, 0),
        (this_or_next|eq, ":var1", 0),
        (eq, ":var3", 0),
        (try_begin),
          (neq, ":var2", 0),
          (item_get_slot, ":var9", ":var6", 82),
          (try_begin),
            (lt, ":var8", ":var9"),
            (assign, ":var8", ":var9"),
            (assign, ":var4", ":var6"),
          (try_end),
        (else_try),
          (assign, ":var10", 1),
          (agent_get_troop_id, ":var11", ":var0"),
          (try_begin),
            (troop_is_hero, ":var11"),
            (try_for_range, ":var12", 0, 4),
              (troop_get_inventory_slot, reg0, ":var11", ":var12"),
              (eq, reg0, ":var6"),
              (troop_get_inventory_slot_modifier, ":var10", ":var11", ":var12"),
            (try_end),
          (try_end),
          (call_script, "script_get_item_score_with_imod", ":var6", ":var10"),
          (lt, ":var8", reg0),
          (assign, ":var8", reg0),
          (assign, ":var4", ":var6"),
        (try_end),
      (try_end),
    (try_end),
    (agent_get_wielded_item, reg0, ":var0", 0),
    (try_begin),
      (neq, reg0, ":var4"),
      (try_begin),
        (gt, ":var3", 0),
        (agent_get_wielded_item, reg0, ":var0", 1),
        (neq, reg0, ":var3"),
        (agent_set_wielded_item, ":var0", ":var3"),
      (try_end),
      (gt, ":var4", 0),
      (agent_set_wielded_item, ":var0", ":var4"),
    (try_end),
  ]),

  ("formation_current_position",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_add, ":var3", 120, ":var2"),
    (team_get_slot, ":var4", ":var1", ":var3"),
    (call_script, "script_get_formation_position", 0, ":var1", ":var2"),
    (try_begin),
      (eq, ":var4", -1),
      (copy_position, ":var0", 0),
    (else_try),
      (agent_get_position, ":var0", ":var4"),
      (position_copy_rotation, ":var0", pos0),
      (store_add, ":var3", 12, ":var2"),
      (team_get_slot, ":var5", ":var1", ":var3"),
      (store_add, ":var3", 102, ":var2"),
      (team_get_slot, ":var6", ":var1", ":var3"),
      (try_begin),
        (store_add, ":var3", 84, ":var2"),
        (team_slot_eq, ":var1", ":var3", 1),
        (call_script, "script_get_centering_amount", 1, ":var5", ":var6"),
      (else_try),
        (store_add, ":var3", 93, ":var2"),
        (team_get_slot, ":var7", ":var1", ":var3"),
        (call_script, "script_get_centering_amount", ":var7", ":var5", ":var6"),
        (val_mul, reg0, -1),
      (try_end),
      (position_move_x, ":var0", reg0, 0),
    (try_end),
  ]),

  ("get_centering_amount",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_mul, ":var3", ":var2", 50),
    (val_add, ":var3", 67),
    (assign, reg0, 0),
    (try_begin),
      (eq, ":var0", 5),
      (convert_to_fixed_point, ":var1"),
      (store_sqrt, reg0, ":var1"),
      (val_mul, reg0, ":var3"),
      (convert_from_fixed_point, reg0),
      (val_sub, reg0, ":var3"),
    (else_try),
      (this_or_next|eq, ":var0", 2),
      (eq, ":var0", 3),
      (store_div, reg0, ":var1", 3),
      (try_begin),
        (store_mod, reg1, ":var1", 3),
        (eq, reg1, 0),
        (val_sub, reg0, 1),
      (try_end),
      (val_mul, reg0, ":var3"),
    (else_try),
      (eq, ":var0", 1),
      (store_mul, reg0, ":var1", ":var3"),
    (try_end),
    (val_div, reg0, 2),
  ]),

  ("formation_end",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (store_add, ":var2", 93, ":var1"),
      (neg|team_slot_eq, ":var0", ":var2", 0),
      (team_set_slot, ":var0", ":var2", 0),
      (team_get_leader, ":var3", ":var0"),
      (try_for_agents, ":var4"),
        (agent_is_alive, ":var4"),
        (agent_is_human, ":var4"),
        (agent_get_team, ":var5", ":var4"),
        (eq, ":var5", ":var0"),
        (neq, ":var3", ":var4"),
        (agent_get_division, ":var6", ":var4"),
        (eq, ":var6", ":var1"),
        (agent_clear_scripted_mode, ":var4"),
      (try_end),
      (try_begin),
        (eq, ":var0", "$fplayer_team_no"),
        (store_add, ":var2", 102, ":var1"),
        (team_get_slot, ":var7", "$fplayer_team_no", ":var2"),
        (set_show_messages, 0),
        (try_begin),
          (gt, ":var7", 3),
          (assign, ":var7", 2),
        (else_try),
          (gt, ":var7", 0),
          (team_give_order, "$fplayer_team_no", ":var1", 7),
          (try_begin),
            (gt, ":var7", 1),
            (assign, ":var7", 1),
          (else_try),
            (assign, ":var7", 0),
          (try_end),
        (try_end),
        (set_show_messages, 1),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var7"),
      (try_end),
    (try_end),
  ]),

  ("formation_move_position",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (copy_position, 1, ":var2"),
    (call_script, "script_team_get_position_of_enemies", 60, ":var0", 9),
    (try_begin),
      (neq, reg0, 0),
      (copy_position, 1, ":var2"),
      (call_script, "script_point_y_toward_position", 1, 60),
      (assign, ":var4", reg0),
      (call_script, "script_get_formation_position", 61, ":var0", ":var1"),
      (get_distance_between_positions, ":var5", pos1, pos61),
      (val_add, ":var5", 1000),
      (try_begin),
        (gt, ":var3", 0),
        (gt, ":var5", ":var4"),
        (assign, ":var5", ":var4"),
      (try_end),
      (val_mul, ":var5", ":var3"),
      (position_move_y, pos1, ":var5", 0),
      (try_begin),
        (lt, ":var4", 1000),
        (position_copy_rotation, pos1, pos61),
      (try_end),
      (call_script, "script_set_formation_position", ":var0", ":var1", 1),
      (store_add, ":var6", 12, ":var1"),
      (team_get_slot, ":var7", ":var0", ":var6"),
      (store_add, ":var6", 102, ":var1"),
      (team_get_slot, ":var8", ":var0", ":var6"),
      (try_begin),
        (store_add, ":var6", 84, ":var1"),
        (neg|team_slot_eq, ":var0", ":var6", 1),
        (store_add, ":var6", 93, ":var1"),
        (team_get_slot, ":var9", ":var0", ":var6"),
        (call_script, "script_get_centering_amount", ":var9", ":var7", ":var8"),
      (else_try),
        (call_script, "script_get_centering_amount", 1, ":var7", ":var8"),
        (val_mul, reg0, -1),
      (try_end),
      (position_move_x, 1, reg0, 0),
    (try_end),
  ]),

  ("set_formation_position",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (position_get_x, ":var3", ":var2"),
    (position_get_y, ":var4", ":var2"),
    (position_get_rotation_around_z, ":var5", ":var2"),
    (store_add, ":var6", 129, ":var1"),
    (team_set_slot, ":var0", ":var6", ":var3"),
    (store_add, ":var6", 138, ":var1"),
    (team_set_slot, ":var0", ":var6", ":var4"),
    (store_add, ":var6", 147, ":var1"),
    (team_set_slot, ":var0", ":var6", ":var5"),
    (team_set_order_position, ":var0", ":var1", ":var2"),
  ]),

  ("get_formation_position",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (init_position, ":var0"),
    (try_begin),
      (is_between, ":var1", 0, 4),
      (store_add, ":var3", 129, ":var2"),
      (team_get_slot, ":var4", ":var1", ":var3"),
      (store_add, ":var3", 138, ":var2"),
      (team_get_slot, ":var5", ":var1", ":var3"),
      (store_add, ":var3", 147, ":var2"),
      (team_get_slot, ":var6", ":var1", ":var3"),
      (position_set_x, ":var0", ":var4"),
      (position_set_y, ":var0", ":var5"),
      (position_rotate_z, ":var0", ":var6"),
    (else_try),
      (store_add, ":var3", 120, ":var2"),
      (team_get_slot, reg0, ":var1", ":var3"),
      (try_begin),
        (gt, reg0, -1),
        (team_get_order_position, ":var0", ":var1", ":var2"),
        (agent_get_position, pos0, reg0),
        (agent_set_position, reg0, ":var0"),
        (agent_get_position, ":var0", reg0),
        (agent_set_position, reg0, pos0),
      (try_end),
    (try_end),
    (position_set_z_to_ground_level, ":var0"),
  ]),

  ("cf_battlegroup_valid_formation",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (store_add, ":var4", 84, ":var1"),
    (team_get_slot, ":var5", ":var0", ":var4"),
    (try_begin),
      (this_or_next|eq, ":var5", 2),
      (eq, ":var5", 5),
      (assign, ":var6", 5),
      (try_begin),
        (eq, ":var2", 4),
        (assign, ":var3", 1),
      (try_end),
    (else_try),
      (eq, ":var5", 1),
      (assign, ":var6", 12),
      (try_begin),
        (this_or_next|eq, ":var2", 2),
        (eq, ":var2", 1),
        (assign, ":var3", 1),
      (try_end),
    (else_try),
      (assign, ":var6", 12),
      (neq, ":var2", 0),
      (assign, ":var3", 1),
    (try_end),
    (try_begin),
      (eq, ":var3", 0),
      (assign, ":var7", 0),
    (else_try),
      (store_add, ":var4", 12, ":var1"),
      (team_get_slot, ":var7", ":var0", ":var4"),
      (le, ":var7", ":var6"),
      (assign, ":var7", 1),
    (try_end),
    (assign, reg0, ":var7"),
    (gt, ":var7", 1),
  ]),

  ("cf_valid_formation_member",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (neq, ":var2", ":var3"),
    (agent_get_division, ":var4", ":var3"),
    (eq, ":var4", ":var1"),
    (agent_get_team, ":var5", ":var3"),
    (eq, ":var5", ":var0"),
    (agent_is_alive, ":var3"),
    (agent_is_human, ":var3"),
    (agent_slot_eq, ":var3", 15, 0),
  ]),

  ("player_attempt_formation",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (set_fixed_point_multiplier, 100),
    (try_begin),
      (eq, ":var1", 2),
      (str_store_string, s1, "@ranks"),
    (else_try),
      (eq, ":var1", 3),
      (str_store_string, s1, "@shield wall"),
    (else_try),
      (eq, ":var1", 4),
      (str_store_string, s1, "@wedge"),
    (else_try),
      (eq, ":var1", 5),
      (str_store_string, s1, "@square"),
    (else_try),
      (str_store_string, s1, "@up"),
    (try_end),
    (str_store_class_name, 2, ":var0"),
    (try_begin),
      (call_script, "script_cf_battlegroup_valid_formation", "$fplayer_team_no", ":var0", ":var1"),
      (try_begin),
        (store_add, ":var2", 93, ":var0"),
        (neg|team_slot_eq, "$fplayer_team_no", ":var2", ":var1"),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var1"),
        (display_message, "@{!}{s2} forming {s1}."),
        (store_add, ":var2", 102, ":var0"),
        (team_get_slot, ":var3", "$fplayer_team_no", ":var2"),
        (set_show_messages, 0),
        (assign, reg0, ":var3"),
        (try_for_range, reg1, reg0, 2),
          (team_give_order, "$fplayer_team_no", ":var0", 8),
          (val_add, ":var3", 1),
        (try_end),
        (set_show_messages, 1),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var3"),
      (try_end),
    (else_try),
      (assign, ":var4", reg0),
      (call_script, "script_formation_end", "$fplayer_team_no", ":var0"),
      (neq, ":var1", 0),
      (try_begin),
        (gt, ":var4", 0),
        (display_message, "@Not enough troops in {s2} to form {s1}, but holding."),
      (else_try),
        (store_add, ":var2", 84, ":var0"),
        (team_get_slot, reg0, "$fplayer_team_no", ":var2"),
        (call_script, "script_str_store_division_type_name", 3, reg0),
        (display_message, "@{!}{s2} is an {s3} division and cannot form {s1}, so is holding."),
      (try_end),
    (try_end),
    (call_script, "script_battlegroup_place_around_leader", "$fplayer_team_no", ":var0"),
  ]),

  ("str_store_division_type_name",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, ":var1", 0),
      (str_store_string, ":var0", "@infantry"),
    (else_try),
      (eq, ":var1", 1),
      (str_store_string, ":var0", "@archer"),
    (else_try),
      (eq, ":var1", 2),
      (str_store_string, ":var0", "@cavalry"),
    (else_try),
      (eq, ":var1", 3),
      (str_store_string, ":var0", "@polearm"),
    (else_try),
      (eq, ":var1", 4),
      (str_store_string, ":var0", "@skirmisher"),
    (else_try),
      (eq, ":var1", 5),
      (str_store_string, ":var0", "@mounted archer"),
    (else_try),
      (eq, ":var1", 6),
      (str_store_string, ":var0", "@support"),
    (else_try),
      (eq, ":var1", 7),
      (str_store_string, ":var0", "@bodyguard"),
    (else_try),
      (str_store_string, ":var0", "@undetermined type of"),
    (try_end),
  ]),

  ("player_order_formations",
  [
    (store_script_param, ":var0", 1),
    (set_fixed_point_multiplier, 100),
    (try_begin),
      (eq, ":var0", 0),
      (call_script, "script_division_reset_places"),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 12, ":var1"),
        (team_slot_ge, "$fplayer_team_no", ":var2", 1),
        (store_add, ":var2", 93, ":var1"),
        (team_get_slot, ":var3", "$fplayer_team_no", ":var2"),
        (call_script, "script_player_attempt_formation", ":var1", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var0", 1),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 12, ":var1"),
        (team_slot_ge, "$fplayer_team_no", ":var2", 1),
        (store_add, ":var2", 93, ":var1"),
        (team_get_slot, ":var3", "$fplayer_team_no", ":var2"),
        (call_script, "script_player_attempt_formation", ":var1", ":var3"),
        (store_add, ":var2", 111, ":var1"),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var0"),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var0", 2),
      (eq, ":var0", 14),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 111, ":var1"),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var0"),
        (store_add, ":var2", 93, ":var1"),
        (neg|team_slot_eq, "$fplayer_team_no", ":var2", 0),
        (call_script, "script_formation_end", "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 84, ":var1"),
        (store_add, reg0, ":var1", 1),
        (try_begin),
          (this_or_next|team_slot_eq, "$fplayer_team_no", ":var2", 0),
          (team_slot_eq, "$fplayer_team_no", ":var2", 3),
          (display_message, "@Division {reg0}: infantry formation disassembled."),
        (else_try),
          (team_slot_eq, "$fplayer_team_no", ":var2", 1),
          (display_message, "@Division {reg0}: archer formation disassembled."),
        (else_try),
          (team_slot_eq, "$fplayer_team_no", ":var2", 4),
          (display_message, "@Division {reg0}: skirmisher formation disassembled."),
        (else_try),
          (this_or_next|team_slot_eq, "$fplayer_team_no", ":var2", 2),
          (team_slot_eq, "$fplayer_team_no", ":var2", 5),
          (display_message, "@Division {reg0}: cavalry formation disassembled."),
        (else_try),
          (display_message, "@Division {reg0}: formation disassembled."),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var0", 4),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 84, ":var1"),
        (this_or_next|team_slot_eq, "$fplayer_team_no", ":var2", 2),
        (team_slot_eq, "$fplayer_team_no", ":var2", 5),
        (store_add, ":var2", 93, ":var1"),
        (neg|team_slot_eq, "$fplayer_team_no", ":var2", 0),
        (call_script, "script_formation_end", "$fplayer_team_no", ":var1"),
        (display_message, "@Cavalry formation disassembled."),
      (try_end),
    (else_try),
      (eq, ":var0", 5),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 111, ":var1"),
        (team_get_slot, ":var4", "$fplayer_team_no", ":var2"),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var0"),
        (store_add, ":var2", 93, ":var1"),
        (team_get_slot, ":var3", "$fplayer_team_no", ":var2"),
        (neq, ":var3", 0),
        (call_script, "script_formation_current_position", 63, "$fplayer_team_no", ":var1"),
        (try_begin),
          (neq, ":var4", 5),
          (call_script, "script_set_formation_position", "$fplayer_team_no", ":var1", 63),
        (try_end),
        (call_script, "script_formation_move_position", "$fplayer_team_no", ":var1", 63, 1),
        (store_add, ":var2", 102, ":var1"),
        (team_get_slot, ":var5", "$fplayer_team_no", ":var2"),
        (store_add, ":var2", 84, ":var1"),
        (try_begin),
          (team_slot_eq, "$fplayer_team_no", ":var2", 1),
          (call_script, "script_form_archers", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
        (else_try),
          (this_or_next|team_slot_eq, "$fplayer_team_no", ":var2", 2),
          (team_slot_eq, "$fplayer_team_no", ":var2", 5),
          (call_script, "script_form_cavalry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5"),
        (else_try),
          (call_script, "script_form_infantry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var0", 6),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 111, ":var1"),
        (team_get_slot, ":var4", "$fplayer_team_no", ":var2"),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var0"),
        (store_add, ":var2", 93, ":var1"),
        (team_get_slot, ":var3", "$fplayer_team_no", ":var2"),
        (neq, ":var3", 0),
        (call_script, "script_formation_current_position", 63, "$fplayer_team_no", ":var1"),
        (try_begin),
          (neq, ":var4", 6),
          (call_script, "script_set_formation_position", "$fplayer_team_no", ":var1", 63),
        (try_end),
        (call_script, "script_formation_move_position", "$fplayer_team_no", ":var1", 63, -1),
        (store_add, ":var2", 102, ":var1"),
        (team_get_slot, ":var5", "$fplayer_team_no", ":var2"),
        (store_add, ":var2", 84, ":var1"),
        (try_begin),
          (team_slot_eq, "$fplayer_team_no", ":var2", 1),
          (call_script, "script_form_archers", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
        (else_try),
          (this_or_next|team_slot_eq, "$fplayer_team_no", ":var2", 2),
          (team_slot_eq, "$fplayer_team_no", ":var2", 5),
          (call_script, "script_form_cavalry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5"),
        (else_try),
          (call_script, "script_form_infantry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var0", 7),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 102, ":var1"),
        (team_get_slot, ":var5", "$fplayer_team_no", ":var2"),
        (gt, ":var5", -3),
        (val_sub, ":var5", 1),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var5"),
        (store_add, ":var2", 93, ":var1"),
        (team_get_slot, ":var3", "$fplayer_team_no", ":var2"),
        (neq, ":var3", 0),
        (try_begin),
          (lt, ":var5", 0),
          (set_show_messages, 0),
          (assign, reg0, ":var5"),
          (try_for_range, reg1, reg0, 0),
            (team_give_order, "$fplayer_team_no", ":var1", 8),
            (val_add, ":var5", 1),
          (try_end),
          (set_show_messages, 1),
          (store_add, ":var2", 102, ":var1"),
          (team_set_slot, "$fplayer_team_no", ":var2", ":var5"),
        (else_try),
          (call_script, "script_get_formation_position", 1, "$fplayer_team_no", ":var1"),
          (store_add, ":var2", 84, ":var1"),
          (try_begin),
            (team_slot_eq, "$fplayer_team_no", ":var2", 1),
            (store_add, ":var2", 12, ":var1"),
            (team_get_slot, ":var6", "$fplayer_team_no", ":var2"),
            (call_script, "script_get_centering_amount", 1, ":var6", ":var5"),
            (val_mul, reg0, -1),
            (position_move_x, 1, reg0),
            (call_script, "script_form_archers", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
          (else_try),
            (this_or_next|team_slot_eq, "$fplayer_team_no", ":var2", 2),
            (team_slot_eq, "$fplayer_team_no", ":var2", 5),
            (call_script, "script_form_cavalry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5"),
          (else_try),
            (store_add, ":var2", 12, ":var1"),
            (team_get_slot, ":var6", "$fplayer_team_no", ":var2"),
            (call_script, "script_get_centering_amount", ":var3", ":var6", ":var5"),
            (position_move_x, 1, reg0),
            (call_script, "script_form_infantry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
          (try_end),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var0", 8),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 93, ":var1"),
        (team_get_slot, ":var3", "$fplayer_team_no", ":var2"),
        (store_add, ":var2", 102, ":var1"),
        (team_get_slot, ":var5", "$fplayer_team_no", ":var2"),
        (try_begin),
          (this_or_next|neq, ":var3", 0),
          (lt, ":var5", 2),
          (val_add, ":var5", 1),
        (try_end),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var5"),
        (neq, ":var3", 0),
        (set_show_messages, 0),
        (assign, reg0, ":var5"),
        (try_for_range, reg1, reg0, 1),
          (team_give_order, "$fplayer_team_no", ":var1", 8),
          (val_add, ":var5", 1),
        (try_end),
        (set_show_messages, 1),
        (store_add, ":var2", 102, ":var1"),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var5"),
        (call_script, "script_get_formation_position", 1, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 84, ":var1"),
        (try_begin),
          (team_slot_eq, "$fplayer_team_no", ":var2", 1),
          (store_add, ":var2", 12, ":var1"),
          (team_get_slot, ":var6", "$fplayer_team_no", ":var2"),
          (call_script, "script_get_centering_amount", 1, ":var6", ":var5"),
          (val_mul, reg0, -1),
          (position_move_x, 1, reg0),
          (call_script, "script_form_archers", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
        (else_try),
          (this_or_next|team_slot_eq, "$fplayer_team_no", ":var2", 2),
          (team_slot_eq, "$fplayer_team_no", ":var2", 5),
          (call_script, "script_form_cavalry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5"),
        (else_try),
          (store_add, ":var2", 12, ":var1"),
          (team_get_slot, ":var6", "$fplayer_team_no", ":var2"),
          (call_script, "script_get_centering_amount", ":var3", ":var6", ":var5"),
          (position_move_x, 1, reg0),
          (call_script, "script_form_infantry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
        (try_end),
      (try_end),
    (else_try),
      (eq, ":var0", 11),
      (try_for_range, ":var1", 0, 9),
        (class_is_listening_order, "$fplayer_team_no", ":var1"),
        (store_add, ":var2", 111, ":var1"),
        (team_set_slot, "$fplayer_team_no", ":var2", ":var0"),
        (store_add, ":var2", 93, ":var1"),
        (team_get_slot, ":var3", "$fplayer_team_no", ":var2"),
        (neq, ":var3", 0),
        (call_script, "script_formation_current_position", 63, "$fplayer_team_no", ":var1"),
        (copy_position, 1, 63),
        (store_add, ":var2", 102, ":var1"),
        (team_get_slot, ":var5", "$fplayer_team_no", ":var2"),
        (store_add, ":var2", 84, ":var1"),
        (try_begin),
          (team_slot_eq, "$fplayer_team_no", ":var2", 1),
          (store_add, ":var2", 12, ":var1"),
          (team_get_slot, ":var6", "$fplayer_team_no", ":var2"),
          (call_script, "script_get_centering_amount", 1, ":var6", ":var5"),
          (val_mul, reg0, -1),
          (position_move_x, 1, reg0),
          (call_script, "script_form_archers", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
        (else_try),
          (this_or_next|team_slot_eq, "$fplayer_team_no", ":var2", 2),
          (team_slot_eq, "$fplayer_team_no", ":var2", 5),
          (call_script, "script_form_cavalry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5"),
        (else_try),
          (store_add, ":var2", 12, ":var1"),
          (team_get_slot, ":var6", "$fplayer_team_no", ":var2"),
          (call_script, "script_get_centering_amount", ":var3", ":var6", ":var5"),
          (position_move_x, 1, reg0),
          (call_script, "script_form_infantry", "$fplayer_team_no", ":var1", "$fplayer_agent_no", ":var5", ":var3"),
        (try_end),
        (call_script, "script_set_formation_position", "$fplayer_team_no", ":var1", 63),
      (try_end),
    (try_end),
  ]),

  ("point_y_toward_position",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (position_get_x, ":var2", ":var1"),
    (position_get_x, ":var3", ":var0"),
    (val_sub, ":var2", ":var3"),
    (store_mul, ":var4", ":var2", ":var2"),
    (position_get_y, ":var5", ":var1"),
    (position_get_y, ":var3", ":var0"),
    (val_sub, ":var5", ":var3"),
    (store_mul, reg0, ":var5", ":var5"),
    (val_add, ":var4", reg0),
    (convert_from_fixed_point, ":var4"),
    (store_sqrt, ":var6", ":var4"),
    (convert_to_fixed_point, ":var2"),
    (val_div, ":var2", ":var6"),
    (convert_to_fixed_point, ":var5"),
    (val_div, ":var5", ":var6"),
    (try_begin),
      (lt, ":var2", 0),
      (assign, ":var7", 90),
      (assign, ":var8", 270),
      (assign, ":var9", 180),
    (else_try),
      (assign, ":var7", 90),
      (assign, ":var8", -90),
      (assign, ":var9", 0),
    (try_end),
    (assign, ":var10", 0),
    (convert_to_fixed_point, ":var9"),
    (convert_to_fixed_point, ":var7"),
    (convert_to_fixed_point, ":var8"),
    (try_for_range, reg0, 0, 6),
      (store_sin, ":var10", ":var9"),
      (try_begin),
        (gt, ":var10", ":var5"),
        (assign, ":var7", ":var9"),
      (else_try),
        (lt, ":var10", ":var5"),
        (assign, ":var8", ":var9"),
      (try_end),
      (store_add, ":var11", ":var8", ":var7"),
      (store_div, ":var9", ":var11", 2),
    (try_end),
    (convert_from_fixed_point, ":var9"),
    (position_get_rotation_around_z, reg0, ":var0"),
    (val_sub, ":var9", reg0),
    (val_sub, ":var9", 90),
    (position_rotate_z, ":var0", ":var9"),
    (assign, reg0, ":var6"),
  ]),

  ("store_battlegroup_type",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (eq, ":var1", 0),
      (assign, ":var2", 0),
    (else_try),
      (eq, ":var1", 1),
      (assign, ":var2", 1),
    (else_try),
      (eq, ":var1", 2),
      (assign, ":var2", 2),
    (else_try),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (assign, ":var5", 0),
      (assign, ":var6", 0),
      (assign, ":var7", 0),
      (assign, ":var8", 0),
      (assign, ":var9", 0),
      (assign, ":var10", 0),
      (try_for_agents, ":var11"),
        (agent_is_alive, ":var11"),
        (agent_is_human, ":var11"),
        (agent_slot_eq, ":var11", 15, 0),
        (agent_get_team, ":var12", ":var11"),
        (eq, ":var12", ":var0"),
        (team_get_leader, ":var13", ":var0"),
        (neq, ":var13", ":var11"),
        (agent_get_division, ":var14", ":var11"),
        (eq, ":var14", ":var1"),
        (agent_get_troop_id, ":var15", ":var11"),
        (agent_get_ammo, ":var16", ":var11", 0),
        (agent_get_wielded_item, reg0, ":var11", 0),
        (try_begin),
          (lt, reg0, 0),
          (assign, ":var17", 0),
        (else_try),
          (item_get_type, ":var17", reg0),
        (try_end),
        (try_begin),
          (neg|troop_is_hero, ":var15"),
          (try_begin),
            (agent_get_horse, reg0, ":var11"),
            (ge, reg0, 0),
            (try_begin),
              (gt, ":var16", 0),
              (val_add, ":var6", 1),
            (else_try),
              (val_add, ":var5", 1),
            (try_end),
          (else_try),
            (gt, ":var16", 0),
            (try_begin),
              (eq, ":var17", 10),
              (val_add, ":var8", 1),
            (else_try),
              (val_add, ":var4", 1),
            (try_end),
          (else_try),
            (try_begin),
              (eq, ":var17", 4),
              (val_add, ":var7", 1),
            (else_try),
              (val_add, ":var3", 1),
            (try_end),
          (try_end),
        (else_try),
          (assign, ":var18", 0),
          (store_skill_level, reg0, 8, ":var15"),
          (val_add, ":var18", reg0),
          (store_skill_level, reg0, 9, ":var15"),
          (val_add, ":var18", reg0),
          (store_skill_level, reg0, 10, ":var15"),
          (val_add, ":var18", reg0),
          (store_skill_level, reg0, 11, ":var15"),
          (val_add, ":var18", reg0),
          (try_begin),
            (gt, ":var18", 5),
            (val_add, ":var9", 1),
          (else_try),
            (val_add, ":var10", 1),
          (try_end),
        (try_end),
      (try_end),
      (assign, ":var19", 84),
      (team_set_slot, 7, ":var19", ":var3"),
      (val_add, ":var19", 1),
      (team_set_slot, 7, ":var19", ":var4"),
      (val_add, ":var19", 1),
      (team_set_slot, 7, ":var19", ":var5"),
      (val_add, ":var19", 1),
      (team_set_slot, 7, ":var19", ":var7"),
      (val_add, ":var19", 1),
      (team_set_slot, 7, ":var19", ":var8"),
      (val_add, ":var19", 1),
      (team_set_slot, 7, ":var19", ":var6"),
      (val_add, ":var19", 1),
      (team_set_slot, 7, ":var19", ":var9"),
      (val_add, ":var19", 1),
      (team_set_slot, 7, ":var19", ":var10"),
      (assign, ":var20", 0),
      (assign, ":var21", 0),
      (try_for_range, ":var22", 0, 8),
        (store_add, ":var19", 84, ":var22"),
        (team_get_slot, ":var23", 7, ":var19"),
        (val_add, ":var21", ":var23"),
        (lt, ":var20", ":var23"),
        (assign, ":var20", ":var23"),
        (assign, ":var2", ":var22"),
      (try_end),
      (val_mul, ":var20", 2),
      (try_begin),
        (lt, ":var20", ":var21"),
        (assign, ":var20", 0),
        (assign, ":var2", -1),
        (try_for_range, ":var22", 0, 3),
          (store_add, ":var19", 84, ":var22"),
          (team_get_slot, ":var23", 7, ":var19"),
          (val_add, ":var19", 3),
          (team_get_slot, reg0, 7, ":var19"),
          (val_add, ":var23", reg0),
          (lt, ":var20", ":var23"),
          (assign, ":var20", ":var23"),
          (assign, ":var2", ":var22"),
        (try_end),
        (val_mul, ":var20", 2),
        (lt, ":var20", ":var21"),
        (assign, ":var2", -1),
      (try_end),
    (try_end),
    (store_add, ":var19", 84, ":var1"),
    (team_set_slot, ":var0", ":var19", ":var2"),
    (assign, reg0, ":var2"),
  ]),

  ("store_battlegroup_data",
  [
    (assign, ":var0", 0),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (assign, ":var8", 0),
    (assign, ":var9", 0),
    (assign, ":var10", 0),
    (assign, ":var11", 0),
    (assign, ":var12", 0),
    (assign, ":var13", 0),
    (assign, ":var14", 0),
    (assign, ":var15", 0),
    (try_for_range, ":var16", 0, 4),
      (try_for_range, ":var17", 4, 84),
        (team_set_slot, ":var16", ":var17", 0),
      (try_end),
      (try_for_range, ":var18", 0, 9),
        (store_add, ":var17", 120, ":var18"),
        (team_set_slot, ":var16", ":var17", -1),
      (try_end),
    (try_end),
    (try_for_agents, ":var19"),
      (agent_is_alive, ":var19"),
      (agent_is_human, ":var19"),
      (agent_slot_eq, ":var19", 15, 0),
      (agent_get_team, ":var20", ":var19"),
      (agent_get_division, ":var18", ":var19"),
      (try_begin),
        (team_get_leader, ":var21", ":var20"),
        (eq, ":var21", ":var19"),
        (assign, ":var18", -1),
      (try_end),
      (agent_get_troop_id, ":var22", ":var19"),
      (store_character_level, ":var23", ":var22"),
      (agent_get_ammo, ":var24", ":var19", 0),
      (assign, ":var25", 0),
      (assign, ":var26", 0),
      (agent_get_wielded_item, reg0, ":var19", 0),
      (try_begin),
        (gt, reg0, 0),
        (item_get_type, ":var25", reg0),
        (this_or_next|eq, ":var25", 2),
        (this_or_next|eq, ":var25", 3),
        (this_or_next|eq, ":var25", 4),
        (eq, ":var25", 10),
        (item_get_slot, ":var26", reg0, 82),
      (try_end),
      (agent_get_position, pos1, ":var19"),
      (position_get_x, ":var27", pos1),
      (position_get_y, ":var28", pos1),
      (try_begin),
        (eq, ":var18", -1),
        (try_begin),
          (eq, ":var20", 0),
          (assign, ":var0", 1),
          (assign, ":var1", ":var27"),
          (assign, ":var2", ":var28"),
          (assign, ":var3", ":var23"),
        (else_try),
          (eq, ":var20", 1),
          (assign, ":var4", 1),
          (assign, ":var5", ":var27"),
          (assign, ":var6", ":var28"),
          (assign, ":var7", ":var23"),
        (else_try),
          (eq, ":var20", 2),
          (assign, ":var8", 1),
          (assign, ":var9", ":var27"),
          (assign, ":var10", ":var28"),
          (assign, ":var11", ":var23"),
        (else_try),
          (eq, ":var20", 3),
          (assign, ":var12", 1),
          (assign, ":var13", ":var27"),
          (assign, ":var14", ":var28"),
          (assign, ":var15", ":var23"),
        (try_end),
      (else_try),
        (try_begin),
          (store_add, ":var17", 120, ":var18"),
          (neg|team_slot_ge, ":var20", ":var17", 0),
          (team_set_slot, ":var20", ":var17", ":var19"),
        (try_end),
        (store_add, ":var17", 12, ":var18"),
        (team_get_slot, ":var29", ":var20", ":var17"),
        (val_add, ":var29", 1),
        (team_set_slot, ":var20", ":var17", ":var29"),
        (try_begin),
          (gt, ":var24", 0),
          (store_add, ":var17", 21, ":var18"),
          (team_get_slot, ":var29", ":var20", ":var17"),
          (val_add, ":var29", 1),
          (team_set_slot, ":var20", ":var17", ":var29"),
        (else_try),
          (store_add, ":var17", 39, ":var18"),
          (team_set_slot, ":var20", ":var17", 1),
        (try_end),
        (try_begin),
          (eq, ":var25", 10),
          (store_add, ":var17", 30, ":var18"),
          (team_get_slot, ":var29", ":var20", ":var17"),
          (val_add, ":var29", 1),
          (team_set_slot, ":var20", ":var17", ":var29"),
        (try_end),
        (store_add, ":var17", 48, ":var18"),
        (team_get_slot, ":var29", ":var20", ":var17"),
        (val_add, ":var29", ":var23"),
        (team_set_slot, ":var20", ":var17", ":var29"),
        (store_add, ":var17", 57, ":var18"),
        (team_get_slot, ":var29", ":var20", ":var17"),
        (val_add, ":var29", ":var26"),
        (team_set_slot, ":var20", ":var17", ":var29"),
        (store_add, ":var17", 66, ":var18"),
        (team_get_slot, ":var29", ":var20", ":var17"),
        (val_add, ":var29", ":var27"),
        (team_set_slot, ":var20", ":var17", ":var29"),
        (store_add, ":var17", 75, ":var18"),
        (team_get_slot, ":var29", ":var20", ":var17"),
        (val_add, ":var29", ":var28"),
        (team_set_slot, ":var20", ":var17", ":var29"),
      (try_end),
    (try_end),
    (try_for_range, ":var16", 0, 4),
      (assign, ":var30", 0),
      (assign, ":var31", 0),
      (assign, ":var32", 0),
      (assign, ":var33", 0),
      (assign, ":var34", 0),
      (assign, ":var35", 0),
      (assign, ":var36", 0),
      (try_for_range, ":var37", 0, 9),
        (store_add, ":var17", 12, ":var37"),
        (team_get_slot, ":var38", ":var16", ":var17"),
        (gt, ":var38", 0),
        (val_add, ":var30", ":var38"),
        (store_add, ":var17", 48, ":var37"),
        (team_get_slot, ":var39", ":var16", ":var17"),
        (val_add, ":var31", ":var39"),
        (store_add, ":var17", 66, ":var37"),
        (team_get_slot, ":var40", ":var16", ":var17"),
        (val_add, ":var32", ":var40"),
        (store_add, ":var17", 75, ":var37"),
        (team_get_slot, ":var41", ":var16", ":var17"),
        (val_add, ":var33", ":var41"),
        (store_add, ":var17", 48, ":var37"),
        (val_div, ":var39", ":var38"),
        (team_set_slot, ":var16", ":var17", ":var39"),
        (store_add, ":var17", 21, ":var37"),
        (team_get_slot, ":var29", ":var16", ":var17"),
        (val_mul, ":var29", 100),
        (val_div, ":var29", ":var38"),
        (team_set_slot, ":var16", ":var17", ":var29"),
        (store_add, ":var17", 30, ":var37"),
        (team_get_slot, ":var29", ":var16", ":var17"),
        (val_mul, ":var29", 100),
        (val_div, ":var29", ":var38"),
        (team_set_slot, ":var16", ":var17", ":var29"),
        (store_add, ":var17", 57, ":var37"),
        (team_get_slot, ":var29", ":var16", ":var17"),
        (val_div, ":var29", ":var38"),
        (team_set_slot, ":var16", ":var17", ":var29"),
        (store_add, ":var17", 66, ":var37"),
        (val_div, ":var40", ":var38"),
        (team_set_slot, ":var16", ":var17", ":var40"),
        (store_add, ":var17", 75, ":var37"),
        (val_div, ":var41", ":var38"),
        (team_set_slot, ":var16", ":var17", ":var41"),
        (store_add, ":var17", 84, ":var37"),
        (team_get_slot, reg0, ":var16", ":var17"),
        (try_begin),
          (neg|is_between, reg0, 0, 8),
          (call_script, "script_store_battlegroup_type", ":var16", ":var37"),
        (try_end),
        (try_begin),
          (this_or_next|eq, reg0, 0),
          (eq, reg0, 3),
          (val_add, ":var34", ":var38"),
        (else_try),
          (this_or_next|eq, reg0, 1),
          (eq, reg0, 4),
          (val_add, ":var35", ":var38"),
        (else_try),
          (this_or_next|eq, reg0, 2),
          (eq, reg0, 5),
          (val_add, ":var36", ":var38"),
        (try_end),
      (try_end),
      (team_set_slot, ":var16", 7, ":var34"),
      (team_set_slot, ":var16", 8, ":var35"),
      (team_set_slot, ":var16", 9, ":var36"),
      (try_begin),
        (eq, ":var16", 0),
        (val_add, ":var30", ":var0"),
        (val_add, ":var31", ":var3"),
        (val_add, ":var32", ":var1"),
        (val_add, ":var33", ":var2"),
      (else_try),
        (eq, ":var16", 1),
        (val_add, ":var30", ":var4"),
        (val_add, ":var31", ":var7"),
        (val_add, ":var32", ":var5"),
        (val_add, ":var33", ":var6"),
      (else_try),
        (eq, ":var16", 2),
        (val_add, ":var30", ":var8"),
        (val_add, ":var31", ":var11"),
        (val_add, ":var32", ":var9"),
        (val_add, ":var33", ":var10"),
      (else_try),
        (eq, ":var16", 3),
        (val_add, ":var30", ":var12"),
        (val_add, ":var31", ":var15"),
        (val_add, ":var32", ":var13"),
        (val_add, ":var33", ":var14"),
      (try_end),
      (gt, ":var30", 0),
      (team_set_slot, ":var16", 4, ":var30"),
      (val_div, ":var31", ":var30"),
      (team_set_slot, ":var16", 6, ":var31"),
      (val_div, ":var32", ":var30"),
      (team_set_slot, ":var16", 10, ":var32"),
      (val_div, ":var33", ":var30"),
      (team_set_slot, ":var16", 11, ":var33"),
    (try_end),
  ]),

  ("team_get_position_of_enemies",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (try_for_range, ":var6", 0, 4),
      (teams_are_enemies, ":var6", ":var1"),
      (try_begin),
        (eq, ":var2", 9),
        (team_get_slot, ":var7", ":var6", 4),
        (try_begin),
          (gt, ":var7", 0),
          (call_script, "script_battlegroup_get_position", ":var0", ":var6", 9),
          (position_get_x, reg0, ":var0"),
          (val_mul, reg0, ":var7"),
          (val_add, ":var3", reg0),
          (position_get_y, reg0, ":var0"),
          (val_mul, reg0, ":var7"),
          (val_add, ":var4", reg0),
        (try_end),
      (else_try),
        (assign, ":var7", 0),
        (try_for_range, ":var8", 0, 9),
          (eq, ":var8", ":var2"),
          (store_add, ":var9", 12, ":var2"),
          (team_get_slot, ":var10", ":var6", ":var9"),
          (gt, ":var10", 0),
          (val_add, ":var7", ":var10"),
          (call_script, "script_battlegroup_get_position", ":var0", ":var6", ":var2"),
          (position_get_x, reg0, ":var0"),
          (val_mul, reg0, ":var7"),
          (val_add, ":var3", reg0),
          (position_get_y, reg0, ":var0"),
          (val_mul, reg0, ":var7"),
          (val_add, ":var4", reg0),
        (try_end),
      (try_end),
      (val_add, ":var5", ":var7"),
    (try_end),
    (try_begin),
      (eq, ":var5", 0),
      (init_position, ":var0"),
    (else_try),
      (val_div, ":var3", ":var5"),
      (position_set_x, ":var0", ":var3"),
      (val_div, ":var4", ":var5"),
      (position_set_y, ":var0", ":var4"),
      (position_set_z_to_ground_level, ":var0"),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("formation_battle_tactic_init_aux",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (team_get_leader, ":var2", ":var0"),
    (try_begin),
      (eq, ":var1", 1),
      (agent_get_position, pos1, ":var2"),
      (call_script, "script_find_high_ground_around_pos1", ":var0", 30),
      (copy_position, 1, 52),
      (call_script, "script_find_high_ground_around_pos1", ":var0", 30),
      (copy_position, 1, 52),
      (call_script, "script_find_high_ground_around_pos1", ":var0", 30),
      (team_give_order, ":var0", 9, 0),
      (team_set_order_position, ":var0", 9, pos52),
      (team_give_order, ":var0", 1, 5),
      (team_give_order, ":var0", 1, 5),
    (else_try),
      (eq, ":var1", 2),
      (team_get_leader, ":var2", ":var0"),
      (ge, ":var2", 0),
      (agent_set_speed_limit, ":var2", 8),
      (agent_get_position, pos60, ":var2"),
      (team_give_order, ":var0", 9, 0),
      (team_set_order_position, ":var0", 9, pos60),
    (try_end),
    (call_script, "script_division_reset_places"),
    (call_script, "script_get_default_formation", ":var0"),
    (assign, ":var3", reg0),
    (try_begin),
      (call_script, "script_cf_battlegroup_valid_formation", ":var0", 0, ":var3"),
      (store_add, ":var4", 93, 0),
      (team_set_slot, ":var0", ":var4", ":var3"),
      (store_add, ":var4", 102, 0),
      (team_set_slot, ":var0", ":var4", 0),
    (else_try),
      (call_script, "script_formation_end", ":var0", 0),
    (try_end),
    (call_script, "script_battlegroup_place_around_leader", ":var0", 0),
    (try_begin),
      (call_script, "script_cf_battlegroup_valid_formation", ":var0", 1, 1),
      (store_add, ":var4", 93, 1),
      (team_set_slot, ":var0", ":var4", 1),
      (store_add, ":var4", 102, 1),
      (team_set_slot, ":var0", ":var4", 2),
    (else_try),
      (call_script, "script_formation_end", ":var0", 1),
    (try_end),
    (call_script, "script_battlegroup_place_around_leader", ":var0", 1),
    (try_begin),
      (call_script, "script_cf_battlegroup_valid_formation", ":var0", 2, 4),
      (store_add, ":var4", 93, 2),
      (team_set_slot, ":var0", ":var4", 4),
      (store_add, ":var4", 102, 2),
      (team_set_slot, ":var0", ":var4", 0),
    (else_try),
      (call_script, "script_formation_end", ":var0", 2),
    (try_end),
    (call_script, "script_battlegroup_place_around_leader", ":var0", 2),
    (team_give_order, ":var0", 1, 8),
    (team_give_order, ":var0", 1, 8),
  ]),

  ("formation_battle_tactic_apply_aux",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_mission_timer_a, ":var2"),
    (try_begin),
      (eq, ":var1", 1),
      (copy_position, 1, 52),
      (call_script, "script_get_closest3_distance_of_enemies_at_pos1", ":var0", 1),
      (assign, ":var3", reg0),
      (assign, ":var4", reg1),
      (try_begin),
        (this_or_next|lt, ":var4", 1000),
        (lt, ":var3", 4000),
        (assign, ":var1", 0),
        (call_script, "script_formation_end", ":var0", 0),
        (call_script, "script_formation_end", ":var0", 1),
        (call_script, "script_formation_end", ":var0", 2),
        (team_give_order, ":var0", 9, 2),
      (try_end),
    (else_try),
      (eq, ":var1", 2),
      (team_get_leader, ":var5", ":var0"),
      (try_begin),
        (agent_is_alive, ":var5"),
        (agent_set_speed_limit, ":var5", 9),
        (call_script, "script_team_get_average_position_of_enemies", ":var0"),
        (copy_position, 60, 0),
        (ge, ":var5", 0),
        (agent_get_position, pos61, ":var5"),
        (position_transform_position_to_local, pos62, pos61, pos60),
        (position_normalize_origin, ":var6", pos62),
        (convert_from_fixed_point, ":var6"),
        (assign, reg17, ":var6"),
        (position_get_x, ":var7", pos62),
        (position_get_y, ":var8", pos62),
        (val_mul, ":var7", 23),
        (val_mul, ":var8", 23),
        (position_set_x, pos62, ":var7"),
        (position_set_y, pos62, ":var8"),
        (position_transform_position_to_parent, pos63, pos61, pos62),
        (position_set_z_to_ground_level, pos63),
        (team_give_order, ":var0", 9, 0),
        (team_set_order_position, ":var0", 9, pos63),
        (call_script, "script_point_y_toward_position", 63, 60),
        (agent_get_position, pos49, ":var5"),
        (agent_set_position, ":var5", pos63),
        (call_script, "script_division_reset_places"),
        (call_script, "script_get_default_formation", ":var0"),
        (assign, ":var9", reg0),
        (try_begin),
          (call_script, "script_cf_battlegroup_valid_formation", ":var0", 0, ":var9"),
          (store_add, ":var10", 93, 0),
          (team_set_slot, ":var0", ":var10", ":var9"),
          (store_add, ":var10", 102, 0),
          (team_set_slot, ":var0", ":var10", 0),
        (else_try),
          (call_script, "script_formation_end", ":var0", 0),
        (try_end),
        (call_script, "script_battlegroup_place_around_leader", ":var0", 0),
        (try_begin),
          (call_script, "script_cf_battlegroup_valid_formation", ":var0", 1, 1),
          (store_add, ":var10", 93, 1),
          (team_set_slot, ":var0", ":var10", 1),
          (store_add, ":var10", 102, 1),
          (team_set_slot, ":var0", ":var10", 2),
        (else_try),
          (call_script, "script_formation_end", ":var0", 1),
        (try_end),
        (call_script, "script_battlegroup_place_around_leader", ":var0", 1),
        (try_begin),
          (call_script, "script_cf_battlegroup_valid_formation", ":var0", 2, 4),
          (store_add, ":var10", 93, 2),
          (team_set_slot, ":var0", ":var10", 4),
          (store_add, ":var10", 102, 2),
          (team_set_slot, ":var0", ":var10", 0),
        (else_try),
          (call_script, "script_formation_end", ":var0", 2),
        (try_end),
        (call_script, "script_battlegroup_place_around_leader", ":var0", 2),
        (agent_set_position, ":var5", pos49),
        (agent_get_position, pos1, ":var5"),
        (try_begin),
          (lt, ":var6", 50),
          (ge, ":var2", 30),
          (assign, ":var1", 0),
          (call_script, "script_formation_end", ":var0", 0),
          (call_script, "script_formation_end", ":var0", 1),
          (call_script, "script_formation_end", ":var0", 2),
          (team_give_order, ":var0", 9, 2),
          (agent_set_speed_limit, ":var5", 60),
        (try_end),
      (else_try),
        (assign, ":var1", 0),
        (call_script, "script_formation_end", ":var0", 0),
        (call_script, "script_formation_end", ":var0", 1),
        (call_script, "script_formation_end", ":var0", 2),
        (team_give_order, ":var0", 9, 2),
      (try_end),
    (try_end),
    (try_begin),
      (neq, ":var1", 0),
      (ge, ":var2", 300),
      (assign, ":var1", 0),
      (call_script, "script_formation_end", ":var0", 0),
      (call_script, "script_formation_end", ":var0", 1),
      (call_script, "script_formation_end", ":var0", 2),
      (team_give_order, ":var0", 9, 2),
      (team_get_leader, ":var5", ":var0"),
      (agent_set_speed_limit, ":var5", 60),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("battle_tactic_init_aux",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, 1, 1),
      (call_script, "script_formation_battle_tactic_init_aux", ":var0", ":var1"),
    (else_try),
      (call_script, "script_orig_battle_tactic_init_aux", ":var0", ":var1"),
    (try_end),
  ]),

  ("battle_tactic_apply_aux",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, 1, 1),
      (call_script, "script_formation_battle_tactic_apply_aux", ":var0", ":var1"),
    (else_try),
      (call_script, "script_orig_battle_tactic_apply_aux", ":var0", ":var1"),
    (try_end),
  ]),

  ("calculate_decision_numbers",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (team_get_slot, reg0, ":var0", 6),
      (store_div, reg1, reg0, 3),
      (store_add, reg0, ":var1", reg1),
    (try_end),
  ]),

  ("team_field_ranged_tactics",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 1),
    (assign, ":var4", 37),
    (store_add, ":var5", 12, ":var3"),
    (try_begin),
      (team_slot_ge, ":var0", ":var5", 1),
      (call_script, "script_battlegroup_get_position", ":var4", ":var0", ":var3"),
      (call_script, "script_team_get_position_of_enemies", 39, ":var0", 9),
      (call_script, "script_point_y_toward_position", ":var4", 39),
      (call_script, "script_get_nearest_enemy_battlegroup_location", 40, ":var0", ":var4"),
      (assign, ":var6", reg0),
      (call_script, "script_calculate_decision_numbers", ":var0", ":var2"),
      (assign, ":var7", reg0),
      (assign, ":var8", reg1),
      (try_begin),
        (gt, ":var7", 86),
        (team_get_movement_order, reg0, ":var0", ":var3"),
        (try_begin),
          (neq, reg0, 2),
          (team_give_order, ":var0", ":var3", 2),
        (try_end),
      (else_try),
        (ge, "$battle_phase", 2),
        (store_add, ":var5", 39, ":var3"),
        (team_slot_ge, ":var0", ":var5", 1),
        (team_get_movement_order, reg0, ":var0", ":var3"),
        (try_begin),
          (neq, reg0, 2),
          (team_give_order, ":var0", ":var3", 2),
        (try_end),
      (else_try),
        (gt, "$cur_casualties", 0),
        (eq, "$cur_casualties", "$prev_casualties"),
        (gt, ":var7", 50),
        (le, ":var6", 13000),
        (team_give_order, ":var0", ":var3", 5),
      (else_try),
        (store_add, ":var7", ":var1", ":var8"),
        (assign, ":var9", 0),
        (try_begin),
          (eq, "$battle_phase", 1),
          (assign, ":var9", 1),
        (else_try),
          (ge, "$battle_phase", 3),
          (try_begin),
            (neg|is_between, ":var6", 2000, 13000),
            (assign, ":var9", 1),
          (else_try),
            (lt, ":var7", 100),
            (gt, ":var6", 6500),
            (assign, ":var9", 1),
          (try_end),
        (else_try),
          (ge, ":var7", 100),
          (store_add, ":var5", 12, 0),
          (team_get_slot, reg0, ":var0", ":var5"),
          (try_begin),
            (this_or_next|eq, reg0, 0),
            (gt, ":var6", 13000),
            (assign, ":var9", 1),
          (else_try),
            (call_script, "script_battlegroup_get_position", 36, ":var0", 0),
            (get_distance_between_positions, ":var10", pos36, pos40),
            (val_sub, ":var10", ":var6"),
            (le, ":var10", 1500),
            (assign, ":var9", 1),
          (try_end),
        (try_end),
        (try_begin),
          (gt, ":var9", 0),
          (try_begin),
            (eq, ":var0", 0),
            (assign, ":var11", 45),
          (else_try),
            (eq, ":var0", 1),
            (assign, ":var11", 46),
          (else_try),
            (eq, ":var0", 2),
            (assign, ":var11", 47),
          (else_try),
            (eq, ":var0", 3),
            (assign, ":var11", 48),
          (try_end),
          (try_begin),
            (lt, ":var7", 100),
            (lt, "$battle_phase", 3),
            (store_div, ":var12", ":var6", 6),
            (assign, ":var13", ":var12"),
          (else_try),
            (assign, ":var14", 0),
            (try_begin),
              (ge, "$battle_phase", 3),
              (assign, ":var14", 1),
            (else_try),
              (gt, "$battle_phase", 1),
              (call_script, "script_point_y_toward_position", ":var11", ":var4"),
              (position_get_rotation_around_z, reg0, ":var11"),
              (position_get_rotation_around_z, reg1, ":var4"),
              (val_sub, reg0, reg1),
              (neg|is_between, reg0, -45, 45),
              (assign, ":var14", 1),
            (try_end),
            (try_begin),
              (gt, ":var14", 0),
              (copy_position, ":var4", ":var11"),
              (call_script, "script_point_y_toward_position", ":var4", 39),
              (call_script, "script_get_nearest_enemy_battlegroup_location", 40, ":var0", ":var4"),
              (assign, ":var6", reg0),
            (try_end),
            (try_begin),
              (eq, "$battle_phase", 1),
              (assign, ":var15", 13000),
            (else_try),
              (assign, ":var15", 6500),
              (store_sub, reg1, 6500, 2000),
              (val_sub, reg1, 200),
              (store_add, ":var5", 30, ":var3"),
              (team_get_slot, reg0, ":var0", ":var5"),
              (val_mul, reg1, reg0),
              (val_div, reg1, 100),
              (val_sub, ":var15", reg1),
            (try_end),
            (store_sub, ":var12", ":var6", ":var15"),
            (store_div, ":var13", ":var15", 3),
            (try_begin),
              (lt, "$battle_phase", 3),
              (try_begin),
                (this_or_next|eq, "$battle_phase", 1),
                (lt, ":var2", 50),
                (val_div, ":var12", 2),
              (try_end),
            (try_end),
          (try_end),
          (position_move_y, ":var4", ":var12", 0),
          (try_begin),
            (lt, "$battle_phase", 3),
            (copy_position, 1, ":var4"),
            (store_div, reg0, ":var13", 100),
            (call_script, "script_find_high_ground_around_pos1_corrected", ":var4", reg0),
          (try_end),
        (try_end),
        (team_get_movement_order, reg0, ":var0", ":var3"),
        (try_begin),
          (neq, reg0, 0),
          (team_give_order, ":var0", ":var3", 0),
        (try_end),
        (team_set_order_position, ":var0", ":var3", ":var4"),
      (try_end),
    (try_end),
  ]),

  ("team_field_melee_tactics",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 3),
    (call_script, "script_calculate_decision_numbers", ":var0", ":var1"),
    (try_begin),
      (gt, reg0, 86),
      (try_for_range, ":var2", 0, 9),
        (store_add, ":var3", 12, ":var2"),
        (team_slot_ge, ":var0", ":var3", 1),
        (store_add, ":var3", 84, ":var2"),
        (neg|team_slot_eq, ":var0", ":var3", 1),
        (neg|team_slot_eq, ":var0", ":var3", 4),
        (call_script, "script_formation_end", ":var0", ":var2"),
        (team_get_movement_order, reg0, ":var0", ":var2"),
        (try_begin),
          (neq, reg0, 2),
          (team_give_order, ":var0", ":var2", 2),
        (try_end),
      (try_end),
    (else_try),
      (assign, ":var4", 1000000),
      (assign, ":var5", 1000000),
      (assign, ":var6", 1000000),
      (assign, ":var7", 0),
      (assign, ":var8", 0),
      (assign, ":var9", 0),
      (assign, ":var10", 0),
      (assign, ":var11", 0),
      (assign, ":var12", 0),
      (assign, ":var13", 0),
      (assign, ":var14", 0),
      (try_for_agents, ":var15"),
        (agent_is_alive, ":var15"),
        (agent_is_human, ":var15"),
        (agent_get_team, ":var16", ":var15"),
        (teams_are_enemies, ":var16", ":var0"),
        (agent_slot_eq, ":var15", 15, 0),
        (agent_get_class, ":var17", ":var15"),
        (try_begin),
          (eq, ":var17", 0),
          (val_add, ":var9", 1),
          (agent_get_troop_id, ":var18", ":var15"),
          (store_character_level, ":var19", ":var18"),
          (val_add, ":var12", ":var19"),
        (else_try),
          (eq, ":var17", 2),
          (val_add, ":var10", 1),
        (else_try),
          (val_add, ":var11", 1),
        (try_end),
        (agent_get_position, pos0, ":var15"),
        (position_get_x, ":var20", pos0),
        (val_add, ":var13", ":var20"),
        (position_get_y, ":var20", pos0),
        (val_add, ":var14", ":var20"),
        (assign, ":var21", 0),
        (assign, ":var22", 0),
        (try_for_agents, ":var23"),
          (agent_is_alive, ":var23"),
          (agent_is_human, ":var23"),
          (agent_get_team, ":var24", ":var23"),
          (eq, ":var24", ":var0"),
          (agent_slot_eq, ":var23", 15, 0),
          (agent_get_class, ":var25", ":var23"),
          (try_begin),
            (eq, ":var25", 0),
            (agent_get_position, pos1, ":var23"),
            (get_distance_between_positions, ":var26", pos0, pos1),
            (try_begin),
              (gt, ":var4", ":var26"),
              (assign, ":var4", ":var26"),
              (copy_position, 32, 0),
              (assign, ":var27", ":var26"),
              (assign, ":var28", ":var15"),
            (try_end),
            (try_begin),
              (neq, ":var17", 2),
              (gt, ":var5", ":var26"),
              (assign, ":var5", ":var26"),
              (copy_position, 33, 0),
              (assign, ":var29", ":var26"),
              (assign, ":var30", ":var15"),
            (try_end),
            (try_begin),
              (lt, ":var26", 150),
              (assign, ":var21", 1),
            (try_end),
            (try_begin),
              (lt, ":var26", 350),
              (assign, ":var22", 1),
            (try_end),
          (else_try),
            (eq, ":var25", 2),
            (agent_get_position, pos1, ":var23"),
            (get_distance_between_positions, ":var26", pos0, pos1),
            (try_begin),
              (gt, ":var6", ":var26"),
              (assign, ":var6", ":var26"),
            (try_end),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var21", 1),
          (val_add, ":var7", 1),
        (try_end),
        (try_begin),
          (eq, ":var22", 1),
          (val_add, ":var8", 1),
        (try_end),
      (try_end),
      (store_add, ":var31", ":var9", ":var10"),
      (val_add, ":var31", ":var11"),
      (gt, ":var31", 0),
      (init_position, pos39),
      (val_div, ":var13", ":var31"),
      (position_set_x, pos39, ":var13"),
      (val_div, ":var14", ":var31"),
      (position_set_y, pos39, ":var14"),
      (position_set_z_to_ground_level, pos39),
      (store_add, ":var3", 12, 1),
      (team_get_slot, ":var32", ":var0", ":var3"),
      (try_begin),
        (eq, ":var32", 0),
        (assign, ":var33", 1000000),
        (assign, ":var34", 2),
      (else_try),
        (call_script, "script_battlegroup_get_position", 37, ":var0", 1),
        (call_script, "script_point_y_toward_position", 37, 39),
        (call_script, "script_get_nearest_enemy_battlegroup_location", 0, ":var0", 37),
        (assign, ":var33", reg0),
        (team_get_movement_order, ":var34", ":var0", 1),
      (try_end),
      (store_add, ":var3", 12, 0),
      (team_get_slot, ":var35", ":var0", ":var3"),
      (try_begin),
        (eq, ":var35", 0),
        (assign, ":var36", 1000000),
      (else_try),
        (call_script, "script_battlegroup_get_position", 36, ":var0", 0),
        (call_script, "script_get_nearest_enemy_battlegroup_location", 0, ":var0", 36),
        (assign, ":var36", reg0),
      (try_end),
      (store_add, ":var3", 12, 2),
      (team_get_slot, ":var37", ":var0", ":var3"),
      (try_begin),
        (eq, ":var37", 0),
        (assign, ":var38", 1000000),
      (else_try),
        (call_script, "script_battlegroup_get_position", 38, ":var0", 2),
        (call_script, "script_get_nearest_enemy_battlegroup_location", 0, ":var0", 38),
        (assign, ":var38", reg0),
      (try_end),
      (try_begin),
        (lt, "$battle_phase", 3),
        (this_or_next|le, ":var36", 2000),
        (this_or_next|le, ":var38", 2000),
        (le, ":var33", 2000),
        (assign, "$battle_phase", 3),
      (else_try),
        (lt, "$battle_phase", 2),
        (this_or_next|le, ":var4", 13000),
        (le, ":var6", 13000),
        (assign, "$battle_phase", 2),
      (try_end),
      (team_get_leader, ":var39", ":var0"),
      (assign, ":var40", 0),
      (try_begin),
        (le, ":var35", 0),
        (assign, ":var41", ":var34"),
        (team_get_movement_order, reg0, ":var0", 0),
        (try_begin),
          (neq, reg0, ":var41"),
          (team_give_order, ":var0", 0, ":var41"),
        (try_end),
        (try_begin),
          (gt, ":var32", 0),
          (copy_position, 1, 37),
          (position_move_y, pos1, 1000, 0),
          (team_set_order_position, ":var0", 0, pos1),
        (else_try),
          (team_set_order_position, ":var0", 0, pos38),
        (try_end),
      (else_try),
        (store_mul, ":var42", ":var12", 100),
        (val_div, ":var42", ":var31"),
        (try_begin),
          (teams_are_enemies, ":var0", "$fplayer_team_no"),
          (assign, ":var43", 0),
          (assign, ":var44", 0),
          (assign, ":var45", ":var35"),
        (else_try),
          (store_add, ":var3", 48, 0),
          (team_get_slot, ":var43", "$fplayer_team_no", ":var3"),
          (team_get_slot, ":var44", "$fplayer_team_no", 4),
          (store_add, ":var3", 12, 0),
          (team_get_slot, ":var45", "$fplayer_team_no", ":var3"),
          (val_add, ":var45", ":var35"),
        (try_end),
        (store_mul, ":var46", ":var45", 100),
        (store_add, ":var3", 48, 0),
        (team_get_slot, ":var47", ":var0", ":var3"),
        (val_add, ":var43", ":var47"),
        (val_mul, ":var46", ":var43"),
        (team_get_slot, reg0, ":var0", 4),
        (val_add, ":var44", reg0),
        (val_div, ":var46", ":var44"),
        (assign, ":var41", 2),
        (try_begin),
          (gt, ":var33", 2000),
          (gt, ":var4", 2000),
          (neq, ":var34", 2),
          (try_begin),
            (this_or_next|le, "$battle_phase", 2),
            (lt, ":var46", ":var42"),
            (assign, ":var41", 0),
          (try_end),
        (try_end),
        (try_begin),
          (le, ":var47", 12),
          (gt, ":var7", 0),
          (store_mul, reg0, ":var8", 2),
          (is_between, reg0, 1, ":var35"),
          (get_distance_between_positions, reg0, pos36, pos32),
          (le, reg0, 2000),
          (call_script, "script_formation_end", ":var0", 0),
          (team_get_movement_order, reg0, ":var0", 0),
          (try_begin),
            (neq, reg0, 2),
            (team_give_order, ":var0", 0, 2),
          (try_end),
        (else_try),
          (team_get_slot, ":var48", ":var0", 2),
          (try_begin),
            (eq, ":var48", 1),
            (call_script, "script_get_default_formation", ":var0"),
            (assign, ":var48", reg0),
            (team_set_slot, ":var0", 2, ":var48"),
          (try_end),
          (agent_get_division, ":var49", ":var28"),
          (agent_get_class, ":var50", ":var28"),
          (agent_get_team, ":var51", ":var28"),
          (team_get_leader, ":var52", ":var51"),
          (store_mul, ":var53", ":var10", 100),
          (val_div, ":var53", ":var31"),
          (try_begin),
            (neq, ":var48", 0),
            (try_begin),
              (gt, ":var53", 66),
              (assign, ":var48", 5),
            (else_try),
              (neq, ":var50", 2),
              (neq, ":var50", 1),
              (neq, ":var28", ":var52"),
              (store_add, ":var3", 12, ":var49"),
              (team_get_slot, reg0, ":var51", ":var3"),
              (gt, reg0, ":var35"),
              (store_add, ":var3", 48, 0),
              (team_get_slot, ":var54", ":var0", ":var3"),
              (store_add, ":var3", 48, ":var49"),
              (team_get_slot, reg0, ":var51", ":var3"),
              (gt, ":var54", reg0),
              (assign, ":var48", 4),
            (try_end),
          (try_end),
          (try_begin),
            (eq, ":var41", 0),
            (gt, ":var32", 0),
            (copy_position, 1, 37),
            (position_move_x, 1, -100, 0),
            (try_begin),
              (this_or_next|eq, ":var49", 2),
              (gt, ":var46", ":var42"),
              (position_move_y, pos1, 1000, 0),
            (else_try),
              (position_move_y, pos1, -1000, 0),
            (try_end),
            (assign, ":var55", 1),
          (else_try),
            (assign, ":var56", -1),
            (assign, ":var57", 1),
            (try_begin),
              (eq, ":var7", 0),
              (gt, ":var33", 2000),
              (lt, ":var53", 100),
              (assign, ":var58", ":var29"),
              (copy_position, 60, 33),
              (agent_get_team, ":var59", ":var30"),
              (assign, ":var60", ":var59"),
              (team_get_leader, reg0, ":var59"),
              (try_begin),
                (eq, ":var30", reg0),
                (assign, ":var61", 1000000),
              (else_try),
                (agent_get_division, ":var56", ":var30"),
                (call_script, "script_battlegroup_get_position", 0, ":var59", ":var56"),
                (get_distance_between_positions, ":var61", pos36, pos0),
                (store_add, ":var3", 12, ":var56"),
                (team_get_slot, ":var57", ":var59", ":var3"),
              (try_end),
            (else_try),
              (assign, ":var58", ":var27"),
              (copy_position, 60, 32),
              (assign, ":var60", ":var51"),
              (try_begin),
                (eq, ":var28", ":var52"),
                (assign, ":var61", 1000000),
              (else_try),
                (assign, ":var56", ":var49"),
                (call_script, "script_battlegroup_get_position", 0, ":var51", ":var56"),
                (get_distance_between_positions, ":var61", pos36, pos0),
                (store_add, ":var3", 12, ":var56"),
                (team_get_slot, ":var57", ":var51", ":var3"),
              (try_end),
            (try_end),
            (store_sub, reg0, ":var61", ":var58"),
            (try_begin),
              (gt, reg0, 2000),
              (copy_position, 0, 60),
              (assign, ":var62", ":var58"),
            (else_try),
              (assign, ":var62", ":var61"),
              (try_begin),
                (eq, ":var48", 4),
                (val_sub, ":var62", 67),
              (else_try),
                (store_mul, reg0, 67, 1),
                (val_sub, ":var62", reg0),
                (eq, ":var56", 0),
                (ge, ":var57", 12),
                (try_begin),
                  (neq, ":var60", "$fplayer_team_no"),
                  (val_sub, ":var62", 67),
                (else_try),
                  (neg|team_slot_eq, "$fplayer_team_no", 93, 0),
                  (val_sub, ":var62", 67),
                (try_end),
              (try_end),
            (try_end),
            (try_begin),
              (lt, ":var35", 12),
              (assign, ":var63", 0),
            (else_try),
              (eq, ":var48", 5),
              (assign, reg0, ":var35"),
              (convert_to_fixed_point, reg0),
              (store_sqrt, ":var63", reg0),
              (val_mul, ":var63", 67),
              (val_div, ":var63", 2),
              (convert_from_fixed_point, ":var63"),
            (else_try),
              (eq, ":var48", 4),
              (assign, reg0, ":var35"),
              (convert_to_fixed_point, reg0),
              (store_sqrt, ":var63", reg0),
              (val_mul, ":var63", 67),
              (val_mul, ":var63", 2),
              (val_div, ":var63", 3),
              (convert_from_fixed_point, ":var63"),
            (else_try),
              (assign, ":var63", 67),
            (try_end),
            (try_begin),
              (le, ":var62", 2000),
              (val_add, ":var63", 600),
            (else_try),
              (le, ":var62", 6500),
              (val_add, ":var63", 1200),
            (else_try),
              (le, ":var62", 13000),
              (val_add, ":var63", 1800),
            (try_end),
            (try_begin),
              (le, ":var62", 13000),
              (val_min, ":var62", ":var63"),
            (try_end),
            (copy_position, 1, 36),
            (try_begin),
              (eq, ":var7", 0),
              (call_script, "script_point_y_toward_position", 1, 0),
              (position_move_y, pos1, ":var62"),
            (else_try),
              (call_script, "script_get_formation_position", 2, ":var0", 0),
              (position_copy_rotation, pos1, pos2),
              (position_move_y, pos1, -2000),
              (call_script, "script_point_y_toward_position", 1, 0),
              (position_move_y, pos1, 2000),
              (position_move_y, pos1, ":var62"),
            (try_end),
            (assign, ":var55", 0),
          (try_end),
          (copy_position, 61, 1),
          (call_script, "script_get_centering_amount", ":var48", ":var35", 0),
          (assign, ":var64", reg0),
          (try_begin),
            (call_script, "script_cf_battlegroup_valid_formation", ":var0", 0, ":var48"),
            (position_move_x, 1, ":var64"),
            (call_script, "script_form_infantry", ":var0", 0, ":var39", ":var55", ":var48"),
            (store_add, ":var3", 93, 0),
            (team_set_slot, ":var0", ":var3", ":var48"),
            (assign, ":var40", 1),
          (else_try),
            (call_script, "script_formation_end", ":var0", 0),
            (team_get_movement_order, reg0, ":var0", 0),
            (try_begin),
              (neq, reg0, ":var41"),
              (team_give_order, ":var0", 0, ":var41"),
            (try_end),
            (eq, ":var41", 0),
            (assign, ":var40", 1),
          (try_end),
          (call_script, "script_set_formation_position", ":var0", 0, 61),
          (position_move_x, 61, ":var64"),
        (try_end),
      (try_end),
      (try_begin),
        (gt, ":var37", 0),
        (store_add, ":var3", 48, 2),
        (team_get_slot, ":var54", ":var0", ":var3"),
        (assign, ":var65", 1000000),
        (assign, ":var66", 1000000),
        (assign, ":var67", 0),
        (try_for_range, ":var16", 0, 4),
          (team_slot_ge, ":var16", 4, 1),
          (teams_are_enemies, ":var16", ":var0"),
          (try_for_range, ":var68", 0, 9),
            (store_add, ":var3", 12, ":var68"),
            (team_get_slot, ":var69", ":var16", ":var3"),
            (gt, ":var69", 0),
            (call_script, "script_battlegroup_get_position", 0, ":var16", ":var68"),
            (get_distance_between_positions, ":var26", pos38, pos0),
            (try_begin),
              (store_add, ":var3", 57, ":var68"),
              (team_get_slot, reg0, ":var16", ":var3"),
              (assign, ":var70", reg0),
              (store_add, ":var3", 48, ":var68"),
              (team_get_slot, reg0, ":var16", ":var3"),
              (val_mul, ":var70", reg0),
              (val_mul, ":var70", ":var69"),
              (val_div, ":var70", ":var54"),
              (val_div, ":var70", ":var37"),
              (try_begin),
                (neq, ":var68", 2),
                (val_div, ":var70", 2),
              (try_end),
              (gt, ":var70", 100),
              (try_begin),
                (gt, ":var65", ":var26"),
                (copy_position, 34, 0),
                (assign, ":var65", ":var26"),
              (try_end),
            (else_try),
              (val_add, ":var67", 1),
              (gt, ":var66", ":var26"),
              (copy_position, 35, 0),
              (assign, ":var66", ":var26"),
            (try_end),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var65", 1000000),
          (assign, ":var71", 0),
        (else_try),
          (eq, ":var66", 1000000),
          (assign, ":var71", 1),
        (else_try),
          (get_distance_between_positions, reg0, pos35, pos34),
          (store_div, reg1, 2000, 2),
          (try_begin),
            (le, reg0, reg1),
            (assign, ":var71", 1),
          (else_try),
            (assign, ":var71", 0),
          (try_end),
        (try_end),
        (assign, ":var72", 2),
        (try_begin),
          (teams_are_enemies, ":var0", 0),
          (neg|team_slot_ge, 1, 3, 2),
          (neg|team_slot_eq, 1, 3, "$attacker_reinforcement_stage"),
          (assign, ":var72", 0),
        (else_try),
          (teams_are_enemies, ":var0", 1),
          (neg|team_slot_ge, 0, 3, 2),
          (neg|team_slot_eq, 0, 3, "$defender_reinforcement_stage"),
          (assign, ":var72", 0),
        (else_try),
          (neq, ":var41", 2),
          (try_begin),
            (le, "$battle_phase", 2),
            (assign, ":var72", 0),
          (else_try),
            (eq, ":var66", 1000000),
            (try_begin),
              (eq, ":var32", 0),
              (assign, ":var73", 0),
            (else_try),
              (get_distance_between_positions, ":var73", pos38, pos37),
            (try_end),
            (try_begin),
              (this_or_next|gt, ":var6", 2000),
              (gt, ":var73", 2000),
              (assign, ":var72", 0),
            (try_end),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var0", 0),
          (assign, ":var74", 41),
        (else_try),
          (eq, ":var0", 1),
          (assign, ":var74", 42),
        (else_try),
          (eq, ":var0", 2),
          (assign, ":var74", 43),
        (else_try),
          (eq, ":var0", 3),
          (assign, ":var74", 44),
        (try_end),
        (store_add, ":var3", 21, 2),
        (team_get_slot, reg0, ":var0", ":var3"),
        (try_begin),
          (ge, reg0, 50),
          (call_script, "script_formation_end", ":var0", 2),
          (try_begin),
            (eq, ":var32", 0),
            (team_get_movement_order, reg0, ":var0", 2),
            (try_begin),
              (neq, reg0, 2),
              (team_give_order, ":var0", 2, 2),
            (try_end),
          (else_try),
            (team_get_movement_order, reg0, ":var0", 2),
            (try_begin),
              (neq, reg0, ":var72"),
              (team_give_order, ":var0", 2, ":var72"),
            (try_end),
            (copy_position, ":var74", 37),
            (position_move_y, ":var74", -500, 0),
            (team_set_order_position, ":var0", 2, ":var74"),
          (try_end),
        (else_try),
          (eq, ":var72", 2),
          (le, ":var6", 2000),
          (try_begin),
            (eq, ":var67", 1),
            (eq, ":var71", 0),
            (gt, ":var66", ":var65"),
            (assign, reg0, 0),
          (else_try),
            (ge, ":var67", 2),
            (eq, ":var71", 1),
            (assign, reg0, 0),
          (else_try),
            (assign, reg0, 1),
          (try_end),
          (eq, reg0, 1),
          (call_script, "script_formation_end", ":var0", 2),
          (team_get_movement_order, reg0, ":var0", 2),
          (try_begin),
            (neq, reg0, 2),
            (team_give_order, ":var0", 2, 2),
          (try_end),
        (else_try),
          (lt, ":var66", ":var65"),
          (eq, ":var71", 0),
          (call_script, "script_formation_end", ":var0", 2),
          (team_get_movement_order, reg0, ":var0", 2),
          (try_begin),
            (neq, reg0, 0),
            (team_give_order, ":var0", 2, 0),
          (try_end),
          (try_begin),
            (gt, ":var66", 6500),
            (eq, ":var72", 0),
            (try_begin),
              (eq, ":var32", 0),
              (copy_position, ":var74", 38),
            (else_try),
              (copy_position, ":var74", 37),
              (position_move_y, ":var74", 2000, 0),
            (try_end),
          (else_try),
            (copy_position, ":var74", 38),
            (call_script, "script_point_y_toward_position", ":var74", 35),
            (position_move_y, ":var74", ":var66", 0),
          (try_end),
          (team_set_order_position, ":var0", 2, ":var74"),
        (else_try),
          (try_begin),
            (eq, ":var72", 2),
            (neq, ":var66", 1000000),
            (copy_position, ":var74", 38),
            (call_script, "script_point_y_toward_position", ":var74", 35),
            (position_move_y, ":var74", ":var66", 0),
            (position_move_y, ":var74", 2000, 0),
          (else_try),
            (neq, ":var72", 2),
            (eq, ":var32", 0),
            (copy_position, ":var74", 38),
          (else_try),
            (copy_position, ":var74", 37),
            (position_move_x, ":var74", 500, 0),
            (position_move_y, ":var74", -1000, 0),
          (try_end),
          (try_begin),
            (neq, ":var65", 1000000),
            (call_script, "script_point_y_toward_position", 38, 34),
            (call_script, "script_point_y_toward_position", 34, ":var74"),
            (position_get_rotation_around_z, reg0, pos38),
            (position_get_rotation_around_z, reg1, pos34),
            (store_sub, ":var75", reg0, reg1),
            (try_begin),
              (lt, ":var75", -180),
              (val_add, ":var75", 360),
            (else_try),
              (gt, ":var75", 180),
              (val_sub, ":var75", 360),
            (try_end),
            (try_begin),
              (is_between, ":var75", -135, 136),
              (copy_position, ":var74", 38),
              (assign, ":var62", 6500),
              (try_begin),
                (is_between, ":var75", -135, 0),
                (val_mul, ":var62", -1),
              (try_end),
              (position_move_x, ":var74", ":var62", 0),
              (store_sub, ":var62", ":var65", 6500),
              (position_move_y, ":var74", ":var62", 0),
              (call_script, "script_point_y_toward_position", ":var74", 38),
              (position_rotate_z, ":var74", 180),
            (try_end),
          (try_end),
          (get_scene_boundaries, pos0, pos1),
          (position_get_x, reg0, ":var74"),
          (position_get_x, reg1, pos0),
          (val_max, reg0, reg1),
          (position_get_x, reg1, pos1),
          (val_min, reg0, reg1),
          (position_set_x, ":var74", reg0),
          (position_get_y, reg0, ":var74"),
          (position_get_y, reg1, pos0),
          (val_max, reg0, reg1),
          (position_get_y, reg1, pos1),
          (val_min, reg0, reg1),
          (position_set_y, ":var74", reg0),
          (position_set_z_to_ground_level, ":var74"),
          (try_begin),
            (call_script, "script_cf_battlegroup_valid_formation", ":var0", 2, 4),
            (copy_position, 1, ":var74"),
            (call_script, "script_form_cavalry", ":var0", 2, ":var39", 0),
            (store_add, ":var3", 93, 2),
            (team_set_slot, ":var0", ":var3", 4),
          (else_try),
            (call_script, "script_formation_end", ":var0", 2),
            (team_get_movement_order, reg0, ":var0", 2),
            (try_begin),
              (neq, reg0, ":var72"),
              (team_give_order, ":var0", 2, ":var72"),
            (try_end),
          (try_end),
          (call_script, "script_set_formation_position", ":var0", 2, ":var74"),
        (try_end),
      (try_end),
      (try_begin),
        (ge, ":var39", 0),
        (agent_is_alive, ":var39"),
        (try_begin),
          (le, ":var35", 0),
          (try_begin),
            (eq, ":var34", 2),
            (agent_clear_scripted_mode, ":var39"),
          (else_try),
            (copy_position, 1, 37),
            (position_move_y, pos1, -1000, 0),
            (agent_set_scripted_destination, ":var39", pos1, 1),
          (try_end),
        (else_try),
          (neq, ":var40", 0),
          (agent_slot_eq, ":var39", 15, 0),
          (position_move_x, 61, 100, 0),
          (agent_set_scripted_destination, ":var39", pos61, 1),
        (else_try),
          (agent_clear_scripted_mode, ":var39"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("field_tactics",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 0, 4),
      (team_get_slot, ":var5", ":var4", 4),
      (gt, ":var5", 0),
      (team_get_slot, ":var6", ":var4", 9),
      (store_add, ":var7", ":var5", ":var6"),
      (val_add, ":var2", 1),
      (val_add, ":var3", ":var7"),
      (try_begin),
        (neq, ":var4", "$fplayer_team_no"),
        (neg|teams_are_enemies, ":var4", "$fplayer_team_no"),
        (team_get_slot, ":var8", "$fplayer_team_no", 5),
        (val_add, ":var7", ":var8"),
      (try_end),
      (team_set_slot, ":var4", 5, ":var7"),
      (lt, ":var1", ":var7"),
      (assign, ":var1", ":var7"),
    (try_end),
    (set_show_messages, 0),
    (try_for_range, ":var9", 0, 4),
      (team_get_slot, ":var10", ":var9", 5),
      (gt, ":var10", 0),
      (assign, ":var11", 0),
      (try_begin),
        (neq, ":var9", "$fplayer_team_no"),
        (assign, ":var11", 1),
      (else_try),
        (main_hero_fallen),
        (eq, "$enable_deahtcam", 1),
        (eq, 1, 1),
        (assign, ":var11", 1),
      (try_end),
      (eq, ":var11", 1),
      (team_get_slot, ":var12", ":var9", 1),
      (try_begin),
        (this_or_next|eq, 0, 0),
        (this_or_next|eq, ":var12", 117),
        (is_between, ":var12", 42, 114),
        (val_mul, ":var10", 100),
        (store_div, ":var13", ":var10", ":var1"),
        (store_div, ":var14", ":var10", ":var3"),
        (try_begin),
          (eq, ":var0", 1),
          (call_script, "script_team_field_ranged_tactics", ":var9", ":var13", ":var14"),
        (try_end),
        (call_script, "script_team_field_melee_tactics", ":var9", ":var13", ":var14"),
      (try_end),
    (try_end),
    (set_show_messages, 1),
    (try_begin),
      (eq, ":var0", 1),
      (assign, "$prev_casualties", "$cur_casualties"),
    (try_end),
  ]),

  ("find_high_ground_around_pos1_corrected",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 1),
    (convert_to_fixed_point, ":var2"),
    (set_fixed_point_multiplier, 1),
    (position_get_x, ":var3", pos1),
    (position_get_y, ":var4", pos1),
    (store_sub, ":var5", ":var3", ":var1"),
    (store_sub, ":var6", ":var4", ":var1"),
    (store_add, ":var7", ":var3", ":var1"),
    (store_add, ":var8", ":var4", ":var1"),
    (get_scene_boundaries, ":var0", pos0),
    (position_get_x, ":var9", ":var0"),
    (position_get_x, ":var10", pos0),
    (position_get_y, ":var11", ":var0"),
    (position_get_y, ":var12", pos0),
    (val_max, ":var5", ":var9"),
    (val_max, ":var6", ":var11"),
    (val_min, ":var7", ":var10"),
    (val_min, ":var8", ":var12"),
    (assign, ":var13", -100),
    (copy_position, ":var0", 1),
    (init_position, pos0),
    (try_for_range, ":var14", ":var5", ":var7"),
      (try_for_range, ":var15", ":var6", ":var8"),
        (position_set_x, pos0, ":var14"),
        (position_set_y, pos0, ":var15"),
        (position_set_z_to_ground_level, pos0),
        (position_get_z, ":var16", pos0),
        (try_begin),
          (gt, ":var16", ":var13"),
          (copy_position, ":var0", 0),
          (assign, ":var13", ":var16"),
        (try_end),
      (try_end),
    (try_end),
    (set_fixed_point_multiplier, ":var2"),
  ]),

  ("cf_count_casualties",
  [
    (assign, ":var0", 0),
    (try_for_agents, ":var1"),
      (try_begin),
        (this_or_next|agent_is_wounded, ":var1"),
        (this_or_next|agent_slot_eq, ":var1", 15, 1),
        (neg|agent_is_alive, ":var1"),
        (val_add, ":var0", 1),
      (try_end),
    (try_end),
    (assign, reg0, ":var0"),
    (gt, ":var0", 0),
  ]),

  ("battlegroup_get_position",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (init_position, ":var0"),
    (try_begin),
      (neg|is_between, ":var2", 0, 9),
      (team_slot_ge, ":var1", 4, 1),
      (team_get_slot, ":var3", ":var1", 10),
      (team_get_slot, ":var4", ":var1", 11),
    (else_try),
      (is_between, ":var2", 0, 9),
      (store_add, ":var5", 12, ":var2"),
      (team_slot_ge, ":var1", ":var5", 1),
      (store_add, ":var5", 66, ":var2"),
      (team_get_slot, ":var3", ":var1", ":var5"),
      (store_add, ":var5", 75, ":var2"),
      (team_get_slot, ":var4", ":var1", ":var5"),
    (try_end),
    (position_set_x, ":var0", ":var3"),
    (position_set_y, ":var0", ":var4"),
    (position_set_z_to_ground_level, ":var0"),
  ]),

  ("get_nearest_enemy_battlegroup_location",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 1000000),
    (try_for_range, ":var4", 0, 4),
      (team_slot_ge, ":var4", 4, 1),
      (teams_are_enemies, ":var4", ":var1"),
      (try_for_range, ":var5", 0, 9),
        (store_add, ":var6", 12, ":var5"),
        (team_slot_ge, ":var4", ":var6", 1),
        (call_script, "script_battlegroup_get_position", 0, ":var4", ":var5"),
        (get_distance_between_positions, reg0, pos0, ":var2"),
        (try_begin),
          (gt, ":var3", reg0),
          (assign, ":var3", reg0),
          (copy_position, ":var0", 0),
        (try_end),
      (try_end),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("tom_process_player_enterprise",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", ":var2"),
    (try_for_range, ":var4", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var5", ":var4", 137),
      (eq, ":var5", ":var0"),
      (val_add, ":var3", 1),
    (try_end),
    (try_begin),
      (eq, "$tom_difficulty_enterprise", 0),
      (assign, ":var6", 25),
    (else_try),
      (eq, "$tom_difficulty_enterprise", 1),
      (assign, ":var6", 20),
    (else_try),
      (eq, "$tom_difficulty_enterprise", 2),
      (assign, ":var6", 15),
    (try_end),
    (store_skill_level, ":var7", "skl_trade", "trp_player"),
    (val_sub, ":var6", ":var7"),
    (call_script, "script_process_player_enterprise", ":var0", ":var1"),
    (assign, ":var8", 0),
    (assign, ":var9", reg0),
    (try_for_range, reg1, 0, ":var3"),
      (store_sub, ":var9", reg0, ":var8"),
      (val_mul, ":var9", ":var6"),
      (val_div, ":var9", 100),
      (val_abs, ":var9"),
      (val_add, ":var8", ":var9"),
    (try_end),
    (val_sub, reg0, ":var8"),
  ]),

  ("raf_process_alarm",
  [
    (store_script_param, ":var0", 1),
    (party_set_slot, ":var0", 55, -1),
    (party_set_slot, ":var0", 66, 0),
    (party_set_slot, ":var0", 67, 0),
    (assign, ":var1", 3),
    (try_begin),
      (is_currently_night),
      (assign, ":var1", 2),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var0", 132, 1),
      (val_mul, ":var1", 2),
    (else_try),
      (neg|is_between, ":var0", "p_village_1_1", "p_salt_mine"),
      (val_add, ":var1", 1),
      (val_mul, ":var1", 2),
    (try_end),
    (store_faction_of_party, ":var2", ":var0"),
    (try_for_parties, ":var3"),
      (this_or_next|party_slot_eq, ":var3", 0, 13),
      (eq, ":var3", "p_main_party"),
      (store_faction_of_party, ":var4", ":var3"),
      (try_begin),
        (eq, ":var3", "p_main_party"),
        (assign, ":var4", "$players_kingdom"),
      (try_end),
      (try_begin),
        (eq, ":var4", ":var2"),
        (store_distance_to_party_from_party, ":var5", ":var3", ":var0"),
        (le, ":var5", ":var1"),
        (party_get_slot, ":var6", ":var3", 56),
        (party_get_slot, ":var7", ":var0", 66),
        (val_add, ":var7", ":var6"),
        (party_set_slot, ":var0", 66, ":var7"),
      (else_try),
        (neq, ":var4", ":var2"),
        (store_distance_to_party_from_party, ":var5", ":var3", ":var0"),
        (try_begin),
          (lt, ":var5", 10),
          (store_current_hours, ":var8"),
          (store_sub, ":var9", ":var4", "fac_player_supporters_faction"),
          (val_add, ":var9", 380),
          (party_set_slot, ":var0", ":var9", ":var8"),
        (try_end),
        (store_relation, ":var10", ":var2", ":var4"),
        (lt, ":var10", 0),
        (try_begin),
          (le, ":var5", ":var1"),
          (party_get_slot, ":var6", ":var3", 56),
          (party_get_slot, ":var11", ":var0", 67),
          (val_add, ":var11", ":var6"),
          (party_set_slot, ":var0", 67, ":var11"),
          (party_set_slot, ":var0", 55, ":var3"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("game_get_troop_wage",
  [
    (try_begin),
      (eq, "$native_wages", 0),
      (store_script_param, ":var0", 1),
      (store_script_param_2, ":var1"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (assign, ":var5", 0),
      (assign, ":var6", 1),
      (try_begin),
        (neg|troop_is_hero, ":var0"),
        (troop_get_inventory_capacity, ":var7", ":var0"),
        (try_for_range, ":var8", 0, ":var7"),
          (troop_get_inventory_slot, ":var9", ":var0", ":var8"),
          (gt, ":var9", 0),
          (item_get_type, ":var10", ":var9"),
          (try_begin),
            (eq, ":var10", 12),
            (item_get_slot, ":var2", ":var9", 79),
            (gt, ":var2", ":var3"),
            (assign, ":var3", ":var2"),
          (else_try),
            (eq, ":var10", 13),
            (item_get_slot, ":var2", ":var9", 80),
            (gt, ":var2", ":var4"),
            (assign, ":var4", ":var2"),
          (else_try),
            (eq, ":var10", 14),
            (item_get_slot, ":var2", ":var9", 81),
            (gt, ":var2", ":var5"),
            (assign, ":var5", ":var2"),
          (else_try),
            (eq, ":var10", 1),
            (assign, ":var6", 2),
          (try_end),
        (try_end),
        (store_add, ":var11", ":var3", ":var4"),
        (val_div, ":var11", 4),
        (try_begin),
          (store_character_level, ":var12", ":var0"),
          (lt, ":var12", 6),
          (val_div, ":var11", 3),
          (val_mul, ":var11", 2),
        (else_try),
          (val_sub, ":var11", 3),
        (try_end),
        (try_begin),
          (store_character_level, ":var12", ":var0"),
          (ge, ":var12", 19),
          (val_add, ":var11", 3),
          (val_mul, ":var11", 2),
          (try_begin),
            (ge, ":var12", 35),
            (val_add, ":var11", 300),
          (else_try),
            (ge, ":var12", 30),
            (val_add, ":var11", 210),
          (else_try),
            (ge, ":var12", 27),
            (val_add, ":var11", 110),
          (else_try),
            (ge, ":var12", 24),
            (val_add, ":var11", 10),
          (try_end),
        (try_end),
        (try_begin),
          (eq, ":var6", 2),
          (val_mul, ":var11", 5),
          (val_div, ":var11", 4),
        (try_end),
      (try_end),
      (try_begin),
        (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
        (store_character_level, ":var13", ":var0"),
        (store_mul, ":var14", ":var13", 3),
        (val_add, ":var14", 50),
        (store_mul, ":var15", ":var13", 2),
        (val_add, ":var15", 20),
        (store_add, ":var11", ":var14", ":var15"),
        (val_div, ":var11", 2),
        (val_max, ":var11", 1),
        (val_sub, ":var11", 31),
        (val_max, ":var11", 1),
        (store_mul, reg0, ":var11", ":var11"),
        (assign, ":var11", reg0),
        (val_div, ":var11", 200),
        (try_begin),
          (lt, ":var11", 80),
          (val_mul, ":var11", 3),
        (try_end),
        (val_mul, ":var11", 2),
        (val_div, ":var11", 3),
      (try_end),
      (party_get_template_id, ":var16", ":var1"),
      (try_begin),
        (eq, "$use_feudal_lance", 1),
        (this_or_next|gt, "$g_player_crusading", 0),
        (eq, "$use_feudal_lance", 1),
        (eq, ":var16", "p_main_party"),
        (assign, ":var17", 0),
        (try_for_range, ":var18", "p_town_1_1", "p_salt_mine"),
          (party_slot_eq, ":var18", 7, "trp_player"),
          (assign, ":var17", 1),
          (assign, ":var18", -1),
        (try_end),
        (eq, ":var17", 0),
        (val_mul, ":var11", 2),
        (val_div, ":var11", 3),
        (val_max, ":var11", 3),
      (else_try),
        (eq, "$use_feudal_lance", 1),
        (this_or_next|gt, "$g_player_crusading", 0),
        (eq, "$use_feudal_lance", 1),
        (eq, ":var16", "p_main_party"),
        (assign, ":var19", 0),
        (try_for_range, ":var18", "p_town_1_1", "p_salt_mine"),
          (party_slot_eq, ":var18", 7, "trp_player"),
          (assign, ":var19", 1),
          (store_faction_of_party, ":var20", ":var18"),
          (assign, ":var18", -1),
        (try_end),
        (eq, ":var19", 1),
        (call_script, "script_check_if_faction_is_at_war", ":var20"),
        (eq, reg0, 0),
        (val_mul, ":var11", 3),
        (val_div, ":var11", 2),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var1", "p_main_party"),
        (eq, ":var16", "pt_merc_party"),
        (try_begin),
          (eq, "$tom_difficulty_wages", 0),
          (val_mul, ":var11", 3),
          (val_div, ":var11", 2),
        (else_try),
          (eq, "$tom_difficulty_wages", 1),
        (else_try),
          (eq, "$tom_difficulty_wages", 2),
          (val_div, ":var11", 2),
        (try_end),
        (val_max, ":var11", 3),
      (try_end),
      (try_begin),
        (neq, ":var0", "trp_player"),
        (neq, ":var0", "trp_kidnapped_girl"),
        (neg|is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
        (val_max, ":var11", 1),
      (try_end),
      (assign, ":var21", -1),
      (try_begin),
        (ge, ":var1", 0),
        (try_begin),
          (this_or_next|party_slot_eq, ":var1", 0, 3),
          (party_slot_eq, ":var1", 0, 2),
          (party_get_slot, ":var21", ":var1", 7),
        (else_try),
          (eq, ":var1", "p_main_party"),
          (assign, ":var21", "trp_player"),
        (else_try),
          (party_stack_get_troop_id, ":var21", ":var1", 0),
        (try_end),
      (try_end),
      (try_begin),
        (ge, ":var21", 0),
        (store_skill_level, ":var22", "skl_leadership", ":var21"),
        (store_mul, ":var23", 5, ":var22"),
        (store_sub, ":var24", 100, ":var23"),
        (val_mul, ":var11", ":var24"),
        (val_div, ":var11", 100),
      (try_end),
      (assign, reg0, ":var11"),
      (set_trigger_result, reg0),
    (else_try),
      (eq, "$native_wages", 1),
      (store_script_param_1, ":var25"),
      (store_script_param_2, ":var26"),
      (assign, ":var27", 0),
      (try_begin),
        (this_or_next|eq, ":var25", "trp_player"),
        (eq, ":var25", "trp_finn_veteran_spearman"),
      (else_try),
        (is_between, ":var25", "trp_bedouin_skirmisher", "trp_bedouin_javelin_1"),
      (else_try),
        (store_character_level, ":var28", ":var25"),
        (assign, ":var27", ":var28"),
        (val_add, ":var27", 3),
        (val_mul, ":var27", ":var27"),
        (val_div, ":var27", 25),
      (try_end),
      (try_begin),
        (troop_is_mounted, ":var25"),
        (val_mul, ":var27", 5),
        (val_div, ":var27", 3),
      (try_end),
      (try_begin),
        (is_between, ":var25", "trp_merc_euro_guisarmer", "trp_merc_mamluke_spearman"),
        (val_mul, ":var27", 3),
        (val_div, ":var27", 2),
      (try_end),
      (try_begin),
        (is_between, ":var25", "trp_welsh_spearman_2", "trp_teu_town_3_2"),
        (val_mul, ":var27", 2),
      (try_end),
      (store_skill_level, ":var29", "skl_leadership", "trp_player"),
      (store_mul, ":var30", 5, ":var29"),
      (store_sub, ":var31", 100, ":var30"),
      (val_mul, ":var27", ":var31"),
      (val_div, ":var27", 100),
      (try_begin),
        (neq, ":var25", "trp_player"),
        (neq, ":var25", "trp_finn_veteran_spearman"),
        (neg|is_between, ":var25", "trp_bedouin_skirmisher", "trp_bedouin_javelin_1"),
        (val_max, ":var27", 1),
      (try_end),
      (assign, reg0, ":var27"),
      (set_trigger_result, reg0),
    (try_end),
  ]),

  ("get_closest_enemy_distance",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 100000),
    (assign, ":var2", -1),
    (agent_get_position, pos1, ":var0"),
    (agent_get_team, ":var3", ":var0"),
    (try_for_agents, ":var4"),
      (agent_is_alive, ":var4"),
      (agent_is_active, ":var4"),
      (agent_is_human, ":var4"),
      (agent_get_team, ":var5", ":var4"),
      (teams_are_enemies, ":var5", ":var3"),
      (agent_get_position, pos2, ":var4"),
      (get_distance_between_positions, ":var6", pos2, pos1),
      (lt, ":var6", ":var1"),
      (assign, ":var1", ":var6"),
      (assign, ":var2", ":var4"),
    (try_end),
    (assign, reg1, ":var1"),
    (assign, reg4, ":var2"),
  ]),

  ("get_first_closest_enemy_distance",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 100000),
    (assign, ":var4", -1),
    (agent_get_position, pos1, ":var0"),
    (try_for_agents, ":var5"),
      (gt, ":var3", ":var2"),
      (agent_is_alive, ":var5"),
      (agent_is_active, ":var5"),
      (agent_is_human, ":var5"),
      (agent_get_team, ":var6", ":var5"),
      (teams_are_enemies, ":var6", ":var1"),
      (agent_get_position, pos2, ":var5"),
      (get_distance_between_positions, ":var7", pos2, pos1),
      (lt, ":var7", ":var3"),
      (assign, ":var4", ":var5"),
      (assign, ":var3", ":var7"),
    (try_end),
    (assign, reg1, ":var3"),
    (assign, reg4, ":var4"),
  ]),

  ("get_closest_enemy_distance_new",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 100000),
    (agent_get_position, pos1, ":var0"),
    (try_for_agents, ":var4"),
      (gt, ":var3", ":var2"),
      (agent_is_alive, ":var4"),
      (agent_is_active, ":var4"),
      (agent_is_human, ":var4"),
      (agent_get_team, ":var5", ":var4"),
      (teams_are_enemies, ":var5", ":var1"),
      (agent_get_position, pos2, ":var4"),
      (get_distance_between_positions, ":var6", pos2, pos1),
      (lt, ":var6", ":var3"),
      (assign, ":var3", ":var6"),
    (try_end),
    (assign, reg1, ":var3"),
  ]),

  ("tom_agent_skirmish",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_script_param, ":var5", 6),
    (try_begin),
      (assign, ":var6", ":var3"),
      (gt, ":var1", 0),
      (agent_get_position, pos0, ":var0"),
      (agent_get_position, pos1, ":var1"),
      (agent_get_slot, ":var7", ":var0", 39),
      (agent_get_slot, ":var8", ":var0", 38),
      (try_begin),
        (eq, ":var7", 0),
        (store_random_in_range, ":var7", 1, 3),
        (agent_set_slot, ":var0", 39, ":var7"),
      (try_end),
      (try_begin),
        (le, ":var2", ":var4"),
        (val_add, ":var8", ":var5"),
        (try_begin),
          (ge, ":var8", 360),
          (assign, ":var8", 0),
        (try_end),
        (agent_set_slot, ":var0", 38, ":var8"),
        (try_begin),
          (eq, ":var7", 1),
          (val_mul, ":var8", -1),
          (val_sub, ":var6", 1500),
        (try_end),
        (position_get_rotation_around_z, reg1, pos1),
        (store_sub, reg0, 360, reg1),
        (val_add, ":var8", reg0),
        (position_rotate_z, pos1, ":var8"),
        (position_move_x, 1, ":var6", 0),
        (agent_set_scripted_destination, ":var0", pos1, 1),
        (agent_set_slot, ":var0", 37, 1),
      (else_try),
        (agent_clear_scripted_mode, ":var0"),
        (agent_set_slot, ":var0", 37, 0),
      (try_end),
    (try_end),
  ]),

  ("raf_set_troop_classes",
  [
    (troop_set_class, "trp_euro_spearman_1", 0),
    (troop_set_class, "trp_euro_spearman_2", 0),
    (troop_set_class, "trp_euro_spearman_3", 0),
    (troop_set_class, "trp_teu_town_2_1", 0),
    (troop_set_class, "trp_teu_town_3_1", 0),
    (troop_set_class, "trp_teu_town_4_1", 0),
    (troop_set_class, "trp_rus_town_3_2", 0),
    (troop_set_class, "trp_nordic_spearman", 0),
    (troop_set_class, "trp_nordic_veteran_spearman", 0),
    (troop_set_class, "trp_balt_spearman", 0),
    (troop_set_class, "trp_balt_veteran_spearman", 0),
    (troop_set_class, "trp_marinid_levy_spearman", 0),
    (troop_set_class, "trp_merc_mamluke_spearman", 0),
    (troop_set_class, "trp_merc_veteran_mamluke_spearman", 0),
    (troop_set_class, "trp_merc_elite_mamluke_spearman", 0),
    (troop_set_class, "trp_iberian_veteran_spearman", 0),
    (troop_set_class, "trp_andalus_spearman_1", 0),
    (troop_set_class, "trp_andalus_spearman_2", 0),
    (troop_set_class, "trp_andalus_spearman_3", 0),
    (troop_set_class, "trp_merc_gaelic_spearman", 0),
    (troop_set_class, "trp_merc_veteran_gaelic_spearman", 0),
    (troop_set_class, "trp_merc_elite_gaelic_spearman", 0),
    (troop_set_class, "trp_anatolian_christian_spearman_1", 0),
    (troop_set_class, "trp_anatolian_christian_spearman_2", 0),
    (troop_set_class, "trp_scottish_forinsec_spearman", 0),
    (troop_set_class, "trp_scottish_forinsec_spearman", 0),
    (troop_set_class, "trp_tatar_veteran_horse_archer", 3),
    (troop_set_class, "trp_tatar_horse_archer", 3),
    (troop_set_class, "trp_tatar_horseman", 3),
    (troop_set_class, "trp_tatar_skirmisher", 3),
    (troop_set_class, "trp_cuman_veteran_horse_archer", 3),
    (troop_set_class, "trp_cuman_horse_archer", 3),
    (troop_set_class, "trp_cuman_horseman", 3),
    (troop_set_class, "trp_cuman_skirmisher", 3),
    (troop_set_class, "trp_cuman_tribesman", 3),
    (troop_set_class, "trp_rus_horse_1", 3),
    (troop_set_class, "trp_byz_castle_2", 3),
    (troop_set_class, "trp_andalus_horse_1", 3),
    (troop_set_class, "trp_andalus_horse_1", 3),
    (troop_set_class, "trp_anatolian_turkoman_1", 3),
    (troop_set_class, "trp_anatolian_turkoman_2", 3),
    (troop_set_class, "trp_crusader_turkopole", 3),
    (troop_set_class, "trp_merc_sicily_horse_archer_1", 3),
    (troop_set_class, "trp_merc_sicily_horse_archer_2", 3),
    (troop_set_class, "trp_tatar_tribesman", 3),
    (troop_set_class, "trp_kwarezmian_light_horse", 3),
    (troop_set_class, "trp_kwarezmian_medium_horse", 3),
    (troop_set_class, "trp_kipchak_range", 3),
    (troop_set_class, "trp_kipchak_light_horse", 3),
    (troop_set_class, "trp_kipchak_medium_horse", 3),
    (troop_set_class, "trp_halqa_cavalry_1", 3),
    (troop_set_class, "trp_halqa_cavalry_2", 3),
    (troop_set_class, "trp_halqa_cavalry_3", 3),
    (troop_set_class, "trp_mamluk_cavalry_1", 3),
    (troop_set_class, "trp_mamluk_cavalry_2", 3),
    (troop_set_class, "trp_mamluk_cavalry_3", 3),
    (troop_set_class, "trp_bedouin_skirmisher", 0),
    (troop_set_class, "trp_bedouin_javelin_1", 0),
    (troop_set_class, "trp_bedouin_javelin_2", 0),
    (troop_set_class, "trp_ghulam_cavalry_1", 2),
    (troop_set_class, "trp_ghulam_cavalry_2", 2),
    (troop_set_class, "trp_ghulam_cavalry_3", 2),
    (troop_set_class, "trp_bedouin_cavalry_1", 2),
    (troop_set_class, "trp_bedouin_cavalry_2", 2),
    (troop_set_class, "trp_bedouin_cavalry_3", 2),
    (troop_set_class, "trp_mamluke_turkoman_1", 3),
    (troop_set_class, "trp_mamluke_turkoman_2", 3),
    (troop_set_class, "trp_mamluke_turkoman_3", 3),
    (troop_set_class, "trp_mamluke_light_horse_archer", 3),
    (troop_set_class, "trp_mamluke_medium_horse_archer", 3),
    (troop_set_class, "trp_mamluke_heavy_horse_archer", 3),
    (troop_set_class, "trp_mamluke_elite_horse_archer", 3),
    (troop_set_class, "trp_anatolian_turkoman_1", 3),
    (troop_set_class, "trp_anatolian_turkoman_2", 3),
    (troop_set_class, "trp_anatolian_turkoman_3", 3),
    (troop_set_class, "trp_merc_mamluke_syrian", 3),
    (troop_set_class, "trp_merc_veteran_mamluke_syrian", 3),
    (troop_set_class, "trp_merc_elite_mamluke_syrian", 3),
    (troop_set_class, "trp_crusader_turkopole", 3),
    (troop_set_class, "trp_crusader_turkopole_veteran", 3),
    (troop_set_class, "trp_crusader_turkopole_elite", 3),
    (str_store_string, s21, "@Horse Archers"),
    (class_set_name, 3, s21),
    (troop_set_class, "trp_marinid_village_rabble", 0),
    (troop_set_class, "trp_marinid_skirmishers", 0),
    (troop_set_class, "trp_marinid_javelin_infantry", 0),
    (troop_set_class, "trp_byz_village_2", 0),
    (troop_set_class, "trp_iberian_village_skirmisher", 0),
    (troop_set_class, "trp_teu_balt_1", 0),
    (troop_set_class, "trp_teu_balt_2", 0),
    (troop_set_class, "trp_balkan_vil_3_1_1", 0),
    (troop_set_class, "trp_balt_skirmisher", 0),
    (troop_set_class, "trp_balt_jav", 0),
    (troop_set_class, "trp_balt_veteran_jav", 0),
    (troop_set_class, "trp_merc_almogavar_1", 0),
    (troop_set_class, "trp_merc_almogavar_2", 0),
    (troop_set_class, "trp_merc_almogavar_3", 0),
    (troop_set_class, "trp_byz_village_3_1", 0),
    (troop_set_class, "trp_byz_village_4_1", 0),
    (troop_set_class, "trp_balkan_vil_4_1_1", 0),
    (troop_set_class, "trp_balkan_vil_4_1_1", 0),
    (troop_set_class, "trp_merc_latin_light", 0),
    (troop_set_class, "trp_merc_veteran_latin_light", 0),
    (troop_set_class, "trp_merc_elite_latin_light", 0),
    (troop_set_class, "trp_marinid_mounted_skirmisher_1", 2),
    (troop_set_class, "trp_marinid_mounted_skirmisher_2", 2),
    (troop_set_class, "trp_marinid_mounted_skirmisher_3", 2),
    (troop_set_class, "trp_balt_mounted_skirmisher", 2),
    (troop_set_class, "trp_balt_light_cavalry", 2),
    (troop_set_class, "trp_balt_medium_cavalry", 2),
    (try_for_range, ":var0", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
      (troop_set_class, ":var0", 2),
    (try_end),
  ]),

  ("change_rain_or_snow",
  [
    (party_get_current_terrain, ":var0", "p_main_party"),
    (try_begin),
      (this_or_next|eq, ":var0", 4),
      (eq, ":var0", 12),
      (assign, ":var1", 2),
    (else_try),
      (assign, ":var1", 1),
    (try_end),
    (get_global_cloud_amount, ":var2"),
    (assign, ":var3", 0),
    (try_begin),
      (neq, ":var0", 5),
      (neq, ":var0", 13),
      (gt, ":var2", 67),
      (store_random_in_range, ":var4", 30, 101),
      (set_rain, ":var1", ":var4"),
      (assign, ":var3", 1),
      (store_random_in_range, ":var5", 30, 101),
      (set_global_haze_amount, ":var5"),
    (try_end),
    (store_random_in_range, ":var6", 1, 100),
    (try_begin),
      (eq, ":var3", 1),
      (eq, ":var1", 2),
      (neq, "$tom_sand_storm_chance", 0),
      (lt, ":var6", "$tom_sand_storm_chance"),
      (set_rain, 2, 100),
      (assign, "$tom_sand_storm", 2),
      (set_global_haze_amount, 100),
    (else_try),
      (eq, ":var3", 1),
      (eq, ":var1", 1),
      (neq, "$tom_sand_storm_chance", 0),
      (lt, ":var6", "$tom_sand_storm_chance"),
      (set_rain, 1, 100),
      (assign, "$tom_sand_storm", 3),
      (set_global_haze_amount, 100),
    (else_try),
      (this_or_next|eq, ":var0", 5),
      (eq, ":var0", 13),
      (lt, ":var6", "$tom_sand_storm_chance"),
      (assign, "$tom_sand_storm", 1),
      (set_global_haze_amount, 0),
    (try_end),
  ]),

  ("vector_length",
  [
    (store_script_param, ":var0", 1),
    (set_fixed_point_multiplier, 10),
    (position_get_x, ":var1", ":var0"),
    (position_get_y, ":var2", ":var0"),
    (store_mul, ":var3", ":var1", ":var1"),
    (store_mul, ":var4", ":var2", ":var2"),
    (store_add, ":var5", ":var3", ":var4"),
    (store_pow, reg0, ":var5", 5),
    (val_div, reg0, 10),
  ]),

  ("maintain_broken_items",
  [
    (troop_get_inventory_capacity, ":var0", "trp_player"),
    (troop_get_inventory_capacity, ":var1", "trp_broken_items"),
    (try_for_range, ":var2", 0, ":var1"),
      (assign, ":var3", 0),
      (troop_get_inventory_slot, ":var4", "trp_broken_items", ":var2"),
      (try_for_range, ":var5", 0, ":var0"),
        (troop_get_inventory_slot, ":var6", "trp_player", ":var5"),
        (troop_get_inventory_slot_modifier, ":var7", "trp_player", ":var5"),
        (eq, ":var7", 6),
        (eq, ":var6", ":var4"),
        (assign, ":var3", 1),
      (try_end),
      (eq, ":var3", 0),
      (troop_remove_item, "trp_broken_items", ":var4"),
    (try_end),
  ]),

  ("first_formation_member_sound_horn",
  [
    (get_player_agent_no, ":var0"),
    (agent_get_team, ":var1", ":var0"),
    (try_for_range, ":var2", 0, 9),
      (class_is_listening_order, ":var1", ":var2"),
      (assign, ":var3", -1),
      (try_for_agents, ":var4"),
        (neq, ":var4", ":var0"),
        (agent_is_alive, ":var4"),
        (agent_is_human, ":var4"),
        (agent_get_division, ":var5", ":var4"),
        (eq, ":var5", ":var2"),
        (agent_get_team, ":var6", ":var4"),
        (eq, ":var6", ":var1"),
        (assign, ":var3", ":var4"),
      (try_end),
      (try_begin),
        (gt, ":var3", -1),
        (agent_play_sound, ":var3", "snd_horn"),
      (try_end),
    (try_end),
  ]),

  ("set_flag_carriers",
  [
    (try_for_range, ":var0", 0, 4),
      (team_get_slot, ":var1", ":var0", 4),
      (gt, ":var1", 0),
      (neq, "$fplayer_team_no", 0),
      (store_div, ":var2", ":var1", 35),
      (gt, ":var2", 0),
      (assign, ":var2", 1),
      (try_for_agents, ":var3"),
        (agent_is_human, ":var3"),
        (agent_is_non_player, ":var3"),
        (agent_get_troop_id, ":var4", ":var3"),
        (neg|troop_is_guarantee_ranged, ":var4"),
        (neg|troop_is_guarantee_horse, ":var4"),
        (neg|troop_is_hero, ":var4"),
        (agent_get_team, ":var5", ":var3"),
        (eq, ":var5", 0),
        (gt, ":var2", 0),
        (try_begin),
          (agent_get_party_id, ":var6", ":var3"),
          (gt, ":var6", 0),
          (store_faction_of_party, ":var7", ":var6"),
          (eq, ":var7", "fac_kingdom_23"),
          (party_stack_get_troop_id, ":var8", ":var6", 0),
          (eq, ":var8", "trp_kingdom_23_lord"),
          (assign, ":var9", "itm_cross"),
        (else_try),
          (store_random_in_range, ":var9", "itm_flag_pole_1", "itm_cross"),
        (try_end),
        (agent_equip_item, ":var3", ":var9"),
        (agent_set_wielded_item, ":var3", ":var9"),
        (agent_set_slot, ":var3", 40, 1),
        (val_sub, ":var2", 1),
      (try_end),
    (try_end),
    (assign, ":var10", 0),
    (assign, ":var11", 0),
    (assign, ":var12", 0),
    (assign, ":var13", 0),
    (assign, ":var14", 0),
    (assign, ":var15", 0),
    (assign, ":var16", 0),
    (assign, ":var17", 0),
    (assign, ":var18", 0),
    (try_for_agents, ":var3"),
      (agent_is_human, ":var3"),
      (agent_is_non_player, ":var3"),
      (agent_get_team, ":var5", ":var3"),
      (eq, ":var5", "$fplayer_team_no"),
      (agent_get_division, ":var19", ":var3"),
      (try_begin),
        (eq, ":var19", 0),
        (val_add, ":var10", 1),
      (else_try),
        (eq, ":var19", 1),
        (val_add, ":var11", 1),
      (else_try),
        (eq, ":var19", 2),
        (val_add, ":var12", 1),
      (else_try),
        (eq, ":var19", 3),
        (val_add, ":var13", 1),
      (else_try),
        (eq, ":var19", 4),
        (val_add, ":var14", 1),
      (else_try),
        (eq, ":var19", 5),
        (val_add, ":var15", 1),
      (else_try),
        (eq, ":var19", 6),
        (val_add, ":var16", 1),
      (else_try),
        (eq, ":var19", 7),
        (val_add, ":var17", 1),
      (else_try),
        (eq, ":var19", 8),
        (val_add, ":var18", 1),
      (try_end),
    (try_end),
    (try_for_range, reg1, 0, 9),
      (assign, ":var20", 0),
      (assign, ":var21", reg1),
      (try_begin),
        (eq, reg1, 0),
        (val_add, ":var20", ":var10"),
      (else_try),
        (eq, reg1, 1),
        (val_add, ":var20", ":var11"),
      (else_try),
        (eq, reg1, 2),
        (val_add, ":var20", ":var12"),
      (else_try),
        (eq, reg1, 3),
        (val_add, ":var20", ":var13"),
      (else_try),
        (eq, reg1, 4),
        (val_add, ":var20", ":var14"),
      (else_try),
        (eq, reg1, 5),
        (val_add, ":var20", ":var15"),
      (else_try),
        (eq, reg1, 6),
        (val_add, ":var20", ":var16"),
      (else_try),
        (eq, reg1, 7),
        (val_add, ":var20", ":var17"),
      (else_try),
        (eq, reg1, 8),
        (val_add, ":var20", ":var18"),
      (try_end),
      (store_div, ":var2", ":var20", 20),
      (gt, ":var2", 0),
      (assign, ":var2", 1),
      (try_for_agents, ":var3"),
        (agent_is_human, ":var3"),
        (agent_is_non_player, ":var3"),
        (agent_get_troop_id, ":var4", ":var3"),
        (neg|is_between, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
        (neg|troop_is_guarantee_ranged, ":var4"),
        (neg|troop_is_guarantee_horse, ":var4"),
        (neg|troop_is_hero, ":var4"),
        (agent_get_team, ":var5", ":var3"),
        (eq, ":var5", "$fplayer_team_no"),
        (agent_get_division, ":var19", ":var3"),
        (eq, ":var19", ":var21"),
        (gt, ":var2", 0),
        (agent_get_position, pos8, ":var3"),
        (set_spawn_position, pos8),
        (assign, ":var22", ":var3"),
        (agent_set_team, ":var22", ":var5"),
        (store_random_in_range, ":var9", "itm_flag_pole_1", "itm_cross"),
        (agent_equip_item, ":var22", ":var9"),
        (agent_equip_item, ":var22", ":var9"),
        (agent_equip_item, ":var22", ":var9"),
        (agent_set_wielded_item, ":var22", ":var9"),
        (agent_set_slot, ":var22", 40, 1),
        (val_sub, ":var2", 1),
      (try_end),
    (try_end),
  ]),

  ("freelancer_get_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (eq, ":var0", "trp_knight_23_6"),
      (assign, reg1, "trp_teu_town_1"),
      (try_begin),
        (troop_slot_ge, "trp_player", 7, 120),
        (assign, reg1, "trp_teu_horse_1"),
      (try_end),
    (else_try),
      (eq, ":var0", "trp_knight_23_1"),
      (assign, reg1, "trp_hospitaller_half_brother"),
      (try_begin),
        (troop_slot_ge, "trp_player", 7, 120),
        (assign, reg1, "trp_hospitaller_knight"),
      (try_end),
    (else_try),
      (eq, ":var0", "trp_knight_23_2"),
      (assign, reg1, "trp_templar_half_brother"),
      (try_begin),
        (troop_slot_ge, "trp_player", 7, 120),
        (assign, reg1, "trp_templar_knight"),
      (try_end),
    (else_try),
      (eq, ":var0", "trp_knight_16_1"),
      (assign, reg1, "trp_santiago_half_brother"),
      (try_begin),
        (troop_slot_ge, "trp_player", 7, 120),
        (assign, reg1, "trp_santiago_knight"),
      (try_end),
    (else_try),
      (eq, ":var0", "trp_knight_18_9"),
      (assign, reg1, "trp_calatrava_half_brother"),
      (try_begin),
        (troop_slot_ge, "trp_player", 7, 120),
        (assign, reg1, "trp_calatrava_knight"),
      (try_end),
    (else_try),
      (try_begin),
        (neg|faction_slot_eq, ":var1", 148, 0),
        (faction_get_slot, reg1, ":var1", 148),
      (else_try),
        (faction_get_slot, reg1, ":var1", ":var2"),
      (try_end),
    (try_end),
  ]),

  ("pass_all_posetions_from_lord_to_lord",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_troop_gold, ":var2", ":var0"),
    (troop_remove_gold, ":var0", ":var2"),
    (troop_add_gold, ":var1", ":var2"),
    (troop_clear_inventory, ":var0"),
    (try_for_range, reg1, 0, "itm_items_end"),
      (troop_has_item_equipped, ":var0", reg1),
      (troop_remove_item, ":var0", reg1),
    (try_end),
    (troop_clear_inventory, ":var0"),
  ]),

  ("desert_order",
  [
    (try_begin),
      (eq, "$crusader_order_joined", 1),
      (display_message, "@Deserting the grandmaster of your order had brought you much dishonor"),
      (call_script, "script_change_player_honor", -50),
      (call_script, "script_change_troop_renown", "trp_player", -50),
    (try_end),
  ]),

  ("refresh_center_inventories",
  [
    (set_merchandise_modifier_quality, 150),
    (reset_item_probabilities, 100),
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (party_get_slot, ":var1", ":var0", 23),
      (reset_item_probabilities, 100),
      (assign, ":var2", 0),
      (try_for_range, ":var3", "itm_spice", "itm_siege_supply"),
        (call_script, "script_center_get_production", ":var0", ":var3"),
        (assign, ":var4", reg0),
        (try_for_range, ":var5", "p_village_1_1", "p_salt_mine"),
          (party_slot_eq, ":var5", 120, ":var0"),
          (call_script, "script_center_get_production", ":var5", ":var3"),
          (val_div, reg0, 3),
          (val_add, ":var4", reg0),
        (try_end),
        (val_max, ":var4", 1),
        (val_mul, ":var4", 4),
        (val_add, ":var2", ":var4"),
      (try_end),
      (party_get_slot, ":var6", ":var0", 50),
      (assign, ":var7", "$g_misc_merchant_itp_type_goods"),
      (try_begin),
        (ge, ":var6", 50),
        (store_sub, ":var8", ":var6", 50),
        (val_mul, ":var8", 2),
        (val_add, ":var8", 100),
        (val_mul, ":var7", ":var8"),
        (val_div, ":var7", 100),
      (else_try),
        (store_sub, ":var8", ":var6", 50),
        (val_add, ":var8", 100),
        (val_mul, ":var7", ":var8"),
        (val_div, ":var7", 100),
      (try_end),
      (val_clamp, ":var7", 10, 40),
      (try_begin),
        (is_between, ":var0", "p_castle_1_1", "p_village_1_1"),
        (val_div, ":var7", 2),
      (try_end),
      (try_for_range, ":var3", "itm_spice", "itm_siege_supply"),
        (call_script, "script_center_get_production", ":var0", ":var3"),
        (assign, ":var4", reg0),
        (try_for_range, ":var5", "p_village_1_1", "p_salt_mine"),
          (party_slot_eq, ":var5", 120, ":var0"),
          (call_script, "script_center_get_production", ":var5", ":var3"),
          (val_div, reg0, 3),
          (val_add, ":var4", reg0),
        (try_end),
        (val_max, ":var4", 1),
        (val_mul, ":var4", 4),
        (val_mul, ":var4", ":var7"),
        (val_mul, ":var4", 100),
        (val_div, ":var4", ":var2"),
        (set_item_probability_in_merchandise, ":var3", ":var4"),
      (try_end),
      (troop_clear_inventory, ":var1"),
      (troop_add_merchandise, ":var1", itp_type_goods, ":var7"),
      (troop_ensure_inventory_space, ":var1", 20),
      (troop_sort_inventory, ":var1"),
      (store_troop_gold, ":var9", ":var1"),
      (party_get_slot, ":var10", ":var0", 50),
      (try_begin),
        (ge, ":var10", 75),
        (lt, ":var9", 8000),
        (store_random_in_range, ":var11", 2000, 4000),
        (call_script, "script_troop_add_gold", ":var1", ":var11"),
      (else_try),
        (ge, ":var10", 50),
        (lt, ":var9", 5000),
        (store_random_in_range, ":var11", 1000, 2000),
        (call_script, "script_troop_add_gold", ":var1", ":var11"),
      (else_try),
        (ge, ":var10", 30),
        (lt, ":var9", 2500),
        (store_random_in_range, ":var11", 800, 1200),
        (call_script, "script_troop_add_gold", ":var1", ":var11"),
      (else_try),
        (ge, ":var10", 0),
        (lt, ":var9", 800),
        (store_random_in_range, ":var11", 300, 500),
        (call_script, "script_troop_add_gold", ":var1", ":var11"),
      (try_end),
      (try_begin),
        (party_slot_eq, ":var0", 494, 1),
        (call_script, "script_troop_add_gold", ":var1", 1500),
      (else_try),
        (party_slot_eq, ":var0", 494, 2),
        (call_script, "script_troop_add_gold", ":var1", 3000),
      (else_try),
        (party_slot_eq, ":var0", 494, 3),
        (call_script, "script_troop_add_gold", ":var1", 5000),
      (try_end),
    (try_end),
  ]),

  ("refresh_center_armories",
  [
    (reset_item_probabilities, 100),
    (set_merchandise_modifier_quality, 150),
    (try_for_range, ":var0", "trp_town_1_armorer", "trp_town_1_weaponsmith"),
      (store_sub, ":var1", ":var0", "trp_town_1_armorer"),
      (val_add, ":var1", "p_town_1_1"),
      (troop_clear_inventory, ":var0"),
      (party_get_slot, ":var2", ":var1", 19),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_body_armor, "$g_misc_merchant_itp_type_body_armor"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_head_armor, "$g_misc_merchant_itp_type_head_armor"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_foot_armor, "$g_misc_merchant_itp_type_foot_armor"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_hand_armor, "$g_misc_merchant_itp_type_hand_armor"),
      (faction_get_slot, ":var3", ":var2", 10),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_body_armor, "$g_misc_merchant_faction_itp_type_body_armor"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_head_armor, "$g_misc_merchant_faction_itp_type_head_armor"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_foot_armor, "$g_misc_merchant_faction_itp_type_foot_armor"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_hand_armor, "$g_misc_merchant_faction_itp_type_hand_armo"),
      (troop_ensure_inventory_space, ":var0", 18),
      (troop_sort_inventory, ":var0"),
      (store_troop_gold, ":var4", ":var0"),
      (party_get_slot, ":var5", ":var1", 50),
      (try_begin),
        (ge, ":var5", 75),
        (lt, ":var4", 8000),
        (store_random_in_range, ":var6", 2000, 4000),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 50),
        (lt, ":var4", 5000),
        (store_random_in_range, ":var6", 1000, 2000),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 30),
        (lt, ":var4", 2500),
        (store_random_in_range, ":var6", 800, 1200),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 0),
        (lt, ":var4", 800),
        (store_random_in_range, ":var6", 300, 500),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (try_end),
      (try_begin),
        (party_slot_eq, ":var1", 494, 1),
        (call_script, "script_troop_add_gold", ":var0", 1500),
      (else_try),
        (party_slot_eq, ":var1", 494, 2),
        (call_script, "script_troop_add_gold", ":var0", 3000),
      (else_try),
        (party_slot_eq, ":var1", 494, 3),
        (call_script, "script_troop_add_gold", ":var0", 5000),
      (try_end),
    (try_end),
  ]),

  ("refresh_center_weaponsmiths",
  [
    (reset_item_probabilities, 100),
    (set_merchandise_modifier_quality, 150),
    (try_for_range, ":var0", "trp_town_1_weaponsmith", "trp_town_1_tavernkeeper"),
      (store_sub, ":var1", ":var0", "trp_town_1_weaponsmith"),
      (val_add, ":var1", "p_town_1_1"),
      (troop_clear_inventory, ":var0"),
      (party_get_slot, ":var2", ":var1", 19),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_one_handed_wpn, "$g_misc_merchant_itp_type_one_handed_wpn"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_two_handed_wpn, "$g_misc_merchant_itp_type_two_handed_wpn"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_polearm, "$g_misc_merchant_itp_type_polearm"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_shield, "$g_misc_merchant_itp_type_shield"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_bow, "$g_misc_merchant_itp_type_bow"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_crossbow, "$g_misc_merchant_itp_type_crossbow"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_thrown, "$g_misc_merchant_itp_type_thrown"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_arrows, "$g_misc_merchant_itp_type_arrows"),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_bolts, "$g_misc_merchant_itp_type_bolts"),
      (faction_get_slot, ":var3", ":var2", 10),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_one_handed_wpn, "$g_misc_merchant_faction_itp_type_one_handed_wpn"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_two_handed_wpn, "$g_misc_merchant_faction_itp_type_two_handed_wpn"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_polearm, "$g_misc_merchant_faction_itp_type_polearm"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_shield, "$g_misc_merchant_faction_itp_type_shield"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_bow, "$g_misc_merchant_faction_itp_type_bow"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_crossbow, "$g_misc_merchant_faction_itp_type_crossbow"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_thrown, "$g_misc_merchant_faction_itp_type_thrown"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_arrows, "$g_misc_merchant_faction_itp_type_arrows"),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_bolts, "$g_misc_merchant_faction_itp_type_bolts"),
      (troop_ensure_inventory_space, ":var0", 18),
      (troop_sort_inventory, ":var0"),
      (store_troop_gold, reg6, ":var0"),
      (store_troop_gold, ":var4", ":var0"),
      (party_get_slot, ":var5", ":var1", 50),
      (try_begin),
        (ge, ":var5", 75),
        (lt, ":var4", 8000),
        (store_random_in_range, ":var6", 2000, 4000),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 50),
        (lt, ":var4", 5000),
        (store_random_in_range, ":var6", 1000, 2000),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 30),
        (lt, ":var4", 2500),
        (store_random_in_range, ":var6", 800, 1200),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 0),
        (lt, ":var4", 800),
        (store_random_in_range, ":var6", 300, 500),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (try_end),
      (try_begin),
        (party_slot_eq, ":var1", 494, 1),
        (call_script, "script_troop_add_gold", ":var0", 1500),
      (else_try),
        (party_slot_eq, ":var1", 494, 2),
        (call_script, "script_troop_add_gold", ":var0", 3000),
      (else_try),
        (party_slot_eq, ":var1", 494, 3),
        (call_script, "script_troop_add_gold", ":var0", 5000),
      (try_end),
    (try_end),
  ]),

  ("refresh_center_stables",
  [
    (reset_item_probabilities, 100),
    (set_merchandise_modifier_quality, 150),
    (try_for_range, ":var0", "trp_town_1_horse_merchant", "trp_town_1_mayor"),
      (troop_clear_inventory, ":var0"),
      (store_sub, ":var1", ":var0", "trp_town_1_horse_merchant"),
      (val_add, ":var1", "p_town_1_1"),
      (party_get_slot, ":var2", ":var1", 19),
      (troop_add_merchandise_with_faction, ":var0", ":var2", itp_type_horse, "$g_misc_merchant_itp_type_horse"),
      (faction_get_slot, ":var3", ":var2", 10),
      (troop_add_merchandise_with_faction, ":var0", ":var3", itp_type_horse, "$g_misc_merchant_faction_itp_type_horse"),
      (troop_ensure_inventory_space, ":var0", 65),
      (troop_sort_inventory, ":var0"),
      (store_troop_gold, ":var4", ":var0"),
      (party_get_slot, ":var5", ":var1", 50),
      (try_begin),
        (ge, ":var5", 75),
        (lt, ":var4", 8000),
        (store_random_in_range, ":var6", 2000, 4000),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 50),
        (lt, ":var4", 5000),
        (store_random_in_range, ":var6", 1000, 2000),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 30),
        (lt, ":var4", 2500),
        (store_random_in_range, ":var6", 800, 1200),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (else_try),
        (ge, ":var5", 0),
        (lt, ":var4", 800),
        (store_random_in_range, ":var6", 300, 500),
        (call_script, "script_troop_add_gold", ":var0", ":var6"),
      (try_end),
      (try_begin),
        (party_slot_eq, ":var1", 494, 1),
        (call_script, "script_troop_add_gold", ":var0", 1500),
      (else_try),
        (party_slot_eq, ":var1", 494, 2),
        (call_script, "script_troop_add_gold", ":var0", 3000),
      (else_try),
        (party_slot_eq, ":var1", 494, 3),
        (call_script, "script_troop_add_gold", ":var0", 5000),
      (try_end),
    (try_end),
  ]),

  ("tom_command_cheer",
  [
    (get_player_agent_no, ":var0"),
    (agent_get_team, ":var1", ":var0"),
    (try_for_range, ":var2", 0, 9),
      (try_begin),
        (class_is_listening_order, ":var1", ":var2"),
        (try_for_agents, ":var3"),
          (agent_is_alive, ":var3"),
          (agent_is_human, ":var3"),
          (agent_get_class, ":var4", ":var3"),
          (eq, ":var4", ":var2"),
          (agent_get_simple_behavior, ":var5", ":var3"),
          (neq, ":var5", 4),
          (agent_play_sound, ":var3", "snd_man_victory"),
        (try_end),
        (assign, ":var2", 11),
      (try_end),
    (try_end),
  ]),

  ("update_manor_infested_by_bandits",
  [
    (troop_get_slot, ":var0", "trp_manor_array", 0),
    (try_for_range, ":var1", 1, ":var0"),
      (troop_get_slot, ":var2", "trp_manor_array", ":var1"),
      (party_clear, ":var2"),
      (party_set_slot, ":var2", 35, 0),
      (store_random_in_range, ":var3", 0, 100),
      (party_clear_particle_systems, ":var2"),
      (try_begin),
        (party_slot_eq, ":var2", 327, 1),
        (assign, ":var3", 0),
      (try_end),
      (try_begin),
        (party_get_template_id, ":var4", ":var2"),
        (eq, ":var4", "pt_monastery"),
        (assign, ":var3", 0),
      (try_end),
      (try_begin),
        (lt, ":var3", 80),
        (party_set_slot, ":var2", 39, 0),
        (party_clear_particle_systems, ":var2"),
      (else_try),
        (store_random_in_range, ":var3", 1, 3),
        (party_set_slot, ":var2", 39, ":var3"),
        (party_add_particle_system, ":var2", "psys_map_village_fire_smoke"),
      (try_end),
    (try_end),
  ]),

  ("get_mercenary_troop_for_manor",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", "trp_merc_euro_spearman"),
    (try_begin),
      (call_script, "script_cf_select_random_town_with_faction", ":var0"),
      (assign, ":var2", reg0),
      (gt, ":var2", 0),
      (assign, ":var3", 260),
      (try_begin),
        (party_slot_eq, ":var2", ":var3", 1),
        (store_random_in_range, ":var1", "trp_merc_euro_spearman", "trp_merc_balt_spearman"),
      (else_try),
        (party_slot_eq, ":var2", ":var3", 2),
        (store_random_in_range, ":var1", "trp_merc_balt_spearman", "trp_merc_mamluke_spearman"),
      (else_try),
        (party_slot_eq, ":var2", ":var3", 4),
        (store_random_in_range, ":var1", "trp_merc_maghreb_spearman", "trp_merc_rus_spearman"),
      (else_try),
        (party_slot_eq, ":var2", ":var3", 5),
        (store_random_in_range, ":var1", "trp_merc_rus_spearman", "trp_merc_latin_spearman"),
      (else_try),
        (party_slot_eq, ":var2", ":var3", 6),
        (store_random_in_range, ":var1", "trp_merc_latin_spearman", "trp_merc_balkan_spearman"),
      (else_try),
        (party_slot_eq, ":var2", ":var3", 7),
        (store_random_in_range, ":var1", "trp_merc_balkan_spearman", "trp_merc_scan_spearman"),
      (else_try),
        (party_slot_eq, ":var2", ":var3", 8),
        (store_random_in_range, ":var1", "trp_merc_scan_spearman", "trp_merc_gaelic_spearman"),
      (else_try),
        (party_slot_eq, ":var2", ":var3", 9),
        (store_random_in_range, ":var1", "trp_merc_gaelic_spearman", "trp_genoese_crossbowman"),
      (else_try),
        (party_slot_eq, ":var2", ":var3", 10),
        (store_random_in_range, ":var1", "trp_merc_mamluke_spearman", "trp_merc_maghreb_spearman"),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("init_manor_agents",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 120),
    (party_get_slot, ":var2", ":var1", 7),
    (store_faction_of_party, ":var3", ":var0"),
    (try_begin),
      (eq, ":var3", "fac_player_supporters_faction"),
      (assign, ":var3", "$g_player_culture"),
    (try_end),
    (party_get_slot, ":var4", ":var0", 342),
    (try_begin),
      (le, ":var4", 200),
      (assign, ":var5", 1),
      (assign, ":var6", 0),
      (assign, ":var7", 0),
    (else_try),
      (le, ":var4", 400),
      (assign, ":var5", 2),
      (try_begin),
        (party_slot_eq, ":var0", 303, 1),
        (assign, ":var6", 1),
        (assign, ":var7", 0),
      (try_end),
    (else_try),
      (le, ":var4", 600),
      (assign, ":var5", 3),
      (try_begin),
        (party_slot_eq, ":var0", 303, 1),
        (assign, ":var6", 2),
        (assign, ":var7", 0),
      (try_end),
    (else_try),
      (le, ":var4", 800),
      (assign, ":var5", 4),
      (try_begin),
        (party_slot_eq, ":var0", 303, 1),
        (assign, ":var6", 3),
        (assign, ":var7", 0),
      (try_end),
    (else_try),
      (gt, ":var4", 800),
      (assign, ":var5", 4),
      (try_begin),
        (party_slot_eq, ":var0", 303, 1),
        (assign, ":var6", 4),
        (assign, ":var7", 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var2", "trp_player"),
      (set_visitor, 10, "trp_manor_seneschal"),
      (set_visitor, 11, "trp_manor_storage"),
      (set_visitor, 12, "trp_manor_marshal"),
    (try_end),
    (try_begin),
      (eq, "$town_nighttime", 0),
      (faction_get_slot, ":var8", ":var3", 10),
      (faction_get_slot, ":var9", ":var8", 55),
      (faction_get_slot, ":var10", ":var8", 56),
      (try_for_range, ":var11", 31, 40),
        (try_for_range, reg0, 0, ":var5"),
          (store_random_in_range, ":var12", ":var9", ":var10"),
          (gt, ":var12", 0),
          (set_visitor, ":var11", ":var12"),
        (try_end),
      (try_end),
      (faction_get_slot, ":var8", ":var3", 10),
      (faction_get_slot, ":var9", ":var8", 53),
      (faction_get_slot, ":var10", ":var8", 54),
      (try_for_range, ":var11", 20, 25),
        (try_for_range, reg0, 0, ":var6"),
          (store_random_in_range, ":var12", ":var9", ":var10"),
          (gt, ":var12", 0),
          (set_visitor, ":var11", ":var12"),
        (try_end),
      (try_end),
      (try_for_range, ":var11", 25, 30),
        (try_for_range, reg0, 0, ":var7"),
          (store_add, ":var13", "trp_manor_noble2", 1),
          (store_random_in_range, ":var12", "trp_manor_noble", ":var13"),
          (set_visitor, ":var11", ":var12"),
        (try_end),
      (try_end),
      (try_for_range, ":var14", 0, 14),
        (store_add, ":var15", ":var14", 308),
        (store_add, ":var16", ":var14", 41),
        (store_add, ":var12", ":var14", "trp_manor_grain"),
        (party_slot_eq, "$g_encountered_party", ":var15", 1),
        (set_visitor, ":var16", ":var12"),
        (party_slot_eq, "$g_encountered_party", 303, 1),
        (store_add, ":var16", ":var14", 81),
        (set_visitor, ":var16", "trp_manor_seller"),
      (try_end),
      (faction_get_slot, ":var17", ":var3", 102),
      (try_begin),
        (eq, ":var2", "trp_player"),
        (party_slot_eq, "$g_encountered_party", 306, 1),
        (store_add, ":var12", ":var17", "trp_priest_catholic"),
        (set_visitor, 71, ":var12"),
      (try_end),
      (try_for_range, ":var14", 0, 4),
        (eq, ":var2", "trp_player"),
        (store_add, ":var15", ":var14", 323),
        (store_add, ":var12", ":var14", "trp_manor_armorsmith"),
        (store_add, ":var16", ":var14", 13),
        (party_slot_eq, "$g_encountered_party", ":var15", 1),
        (set_visitor, ":var16", ":var12"),
      (try_end),
      (try_begin),
        (eq, ":var2", "trp_player"),
        (party_get_slot, ":var12", "$g_encountered_party", 344),
        (gt, ":var12", 0),
        (set_visitor, 72, ":var12"),
      (try_end),
      (try_begin),
        (eq, ":var2", "trp_player"),
        (party_slot_eq, "$g_encountered_party", 340, 1),
        (set_visitor, 73, "trp_manor_trader_book"),
      (try_end),
    (try_end),
    (try_begin),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 305, 1),
        (set_visitor, 70, "trp_whore"),
      (try_end),
      (try_for_range, ":var16", 66, 70),
        (party_slot_eq, "$g_encountered_party", 304, 1),
        (store_random_in_range, ":var18", "trp_tavern_minstrel_1", "trp_kingdom_heroes_including_player_begin"),
        (set_visitor, ":var16", ":var18"),
      (try_end),
      (faction_get_slot, ":var12", ":var3", 42),
      (try_for_range, ":var16", 60, 66),
        (party_slot_eq, "$g_encountered_party", 327, 1),
        (set_visitor, ":var16", ":var12"),
      (try_end),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 322, 1),
        (store_random_in_range, ":var12", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
        (set_visitor, 17, ":var12"),
      (try_end),
    (try_end),
  ]),

  ("manor_refresh_inventories",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 120),
    (party_get_slot, ":var2", ":var1", 61),
    (reset_item_probabilities, 100),
    (set_merchandise_modifier_quality, 150),
    (try_begin),
      (party_slot_eq, ":var0", 323, 1),
      (troop_clear_inventory, "trp_manor_armorsmith"),
      (troop_add_merchandise_with_faction, "trp_manor_armorsmith", ":var2", itp_type_body_armor, 16),
      (troop_add_merchandise_with_faction, "trp_manor_armorsmith", ":var2", itp_type_head_armor, 16),
      (troop_add_merchandise_with_faction, "trp_manor_armorsmith", ":var2", itp_type_foot_armor, 8),
      (troop_add_merchandise_with_faction, "trp_manor_armorsmith", ":var2", itp_type_hand_armor, 4),
      (troop_ensure_inventory_space, "trp_manor_armorsmith", 30),
      (troop_sort_inventory, "trp_manor_armorsmith"),
      (store_troop_gold, reg6, "trp_manor_armorsmith"),
      (troop_remove_gold, "trp_manor_armorsmith", reg6),
      (store_random_in_range, ":var3", 250, 500),
      (call_script, "script_troop_add_gold", "trp_manor_armorsmith", ":var3"),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var0", 324, 1),
      (troop_clear_inventory, "trp_manor_weaponsmith"),
      (troop_add_merchandise_with_faction, "trp_manor_weaponsmith", ":var2", itp_type_one_handed_wpn, 5),
      (troop_add_merchandise_with_faction, "trp_manor_weaponsmith", ":var2", itp_type_two_handed_wpn, 5),
      (troop_add_merchandise_with_faction, "trp_manor_weaponsmith", ":var2", itp_type_polearm, 5),
      (troop_add_merchandise_with_faction, "trp_manor_weaponsmith", ":var2", itp_type_shield, 6),
      (troop_ensure_inventory_space, "trp_manor_weaponsmith", 30),
      (troop_sort_inventory, "trp_manor_weaponsmith"),
      (store_troop_gold, reg6, "trp_manor_weaponsmith"),
      (troop_remove_gold, "trp_manor_weaponsmith", reg6),
      (store_random_in_range, ":var3", 250, 500),
      (call_script, "script_troop_add_gold", "trp_manor_weaponsmith", ":var3"),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var0", 325, 1),
      (troop_clear_inventory, "trp_manor_fletcher"),
      (troop_add_merchandise_with_faction, "trp_manor_fletcher", ":var2", itp_type_bow, 4),
      (troop_add_merchandise_with_faction, "trp_manor_fletcher", ":var2", itp_type_crossbow, 3),
      (troop_add_merchandise_with_faction, "trp_manor_fletcher", ":var2", itp_type_thrown, 5),
      (troop_add_merchandise_with_faction, "trp_manor_fletcher", ":var2", itp_type_arrows, 2),
      (troop_add_merchandise_with_faction, "trp_manor_fletcher", ":var2", itp_type_bolts, 2),
      (troop_ensure_inventory_space, "trp_manor_fletcher", 30),
      (troop_sort_inventory, "trp_manor_fletcher"),
      (store_troop_gold, reg6, "trp_manor_fletcher"),
      (troop_remove_gold, "trp_manor_fletcher", reg6),
      (store_random_in_range, ":var3", 250, 500),
      (call_script, "script_troop_add_gold", "trp_manor_fletcher", ":var3"),
    (try_end),
    (try_begin),
      (party_slot_eq, ":var0", 326, 1),
      (troop_clear_inventory, "trp_manor_breeder"),
      (troop_add_merchandise_with_faction, "trp_manor_breeder", ":var2", itp_type_horse, 20),
      (troop_ensure_inventory_space, "trp_manor_breeder", 30),
      (troop_sort_inventory, "trp_manor_breeder"),
      (store_troop_gold, reg6, "trp_manor_breeder"),
      (troop_remove_gold, "trp_manor_breeder", reg6),
      (store_random_in_range, ":var3", 250, 500),
      (call_script, "script_troop_add_gold", "trp_manor_breeder", ":var3"),
    (try_end),
    (try_for_range, ":var4", 3445, 3459),
      (troop_get_slot, ":var5", ":var4", 161),
      (troop_clear_inventory, ":var4"),
      (store_random_in_range, ":var6", 2, 5),
      (troop_add_items, ":var4", ":var5", ":var6"),
      (troop_ensure_inventory_space, ":var4", 20),
      (troop_sort_inventory, ":var4"),
      (store_troop_gold, reg6, ":var4"),
      (troop_remove_gold, ":var4", reg6),
      (store_random_in_range, ":var3", 150, 300),
      (call_script, "script_troop_add_gold", ":var4", ":var3"),
    (try_end),
  ]),

  ("init_manor_walker_agents",
  [
    (assign, ":var0", 0),
    (try_for_agents, ":var1"),
      (agent_get_troop_id, ":var2", ":var1"),
      (this_or_next|is_between, ":var2", "trp_town_walker_1", "trp_tournament_master"),
      (this_or_next|is_between, ":var2", "trp_manor_noble", "trp_manor_trader_silk"),
      (is_between, ":var2", "trp_farmer", "trp_kingdom_heroes_including_player_begin"),
      (neg|is_between, ":var2", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
      (val_add, ":var0", 1),
      (agent_get_position, pos1, ":var1"),
      (store_random_in_range, ":var3", 0, 2),
      (try_begin),
        (eq, ":var3", 0),
        (store_random_in_range, ":var4", 20, 72),
      (else_try),
        (store_random_in_range, ":var4", 81, 95),
      (try_end),
      (agent_set_slot, ":var1", 0, ":var4"),
      (call_script, "script_set_town_walker_destination", ":var1"),
    (try_end),
  ]),

  ("tick_manor_walkers",
  [
    (try_for_agents, ":var0"),
      (agent_get_troop_id, ":var1", ":var0"),
      (this_or_next|is_between, ":var1", "trp_town_walker_1", "trp_tournament_master"),
      (this_or_next|is_between, ":var1", "trp_manor_noble", "trp_manor_trader_silk"),
      (is_between, ":var1", "trp_farmer", "trp_kingdom_heroes_including_player_begin"),
      (agent_get_slot, ":var2", ":var0", 0),
      (entry_point_get_position, pos1, ":var2"),
      (try_begin),
        (this_or_next|is_between, ":var2", 41, 61),
        (is_between, ":var2", 80, 95),
        (init_position, pos2),
        (position_set_y, pos2, 250),
        (position_transform_position_to_parent, pos1, pos1, pos2),
      (try_end),
      (agent_get_position, pos2, ":var0"),
      (get_distance_between_positions, ":var3", pos1, pos2),
      (lt, ":var3", 400),
      (assign, ":var4", 0),
      (try_begin),
        (this_or_next|is_between, ":var2", 41, 61),
        (is_between, ":var2", 80, 95),
        (store_random_in_range, ":var4", 0, 100),
      (try_end),
      (lt, ":var4", 20),
      (call_script, "script_set_town_walker_destination", ":var0"),
    (try_end),
  ]),

  ("select_mercenary_troop",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", "trp_merc_euro_spearman"),
    (try_begin),
      (party_slot_eq, ":var0", 260, 1),
      (store_random_in_range, ":var1", "trp_merc_euro_spearman", "trp_merc_balt_spearman"),
    (else_try),
      (party_slot_eq, ":var0", 260, 2),
      (store_random_in_range, ":var1", "trp_merc_balt_spearman", "trp_merc_mamluke_spearman"),
    (else_try),
      (party_slot_eq, ":var0", 260, 4),
      (store_random_in_range, ":var1", "trp_merc_maghreb_spearman", "trp_merc_rus_spearman"),
    (else_try),
      (party_slot_eq, ":var0", 260, 5),
      (store_random_in_range, ":var1", "trp_merc_rus_spearman", "trp_merc_latin_spearman"),
    (else_try),
      (party_slot_eq, ":var0", 260, 6),
      (store_random_in_range, ":var1", "trp_merc_latin_spearman", "trp_merc_balkan_spearman"),
    (else_try),
      (party_slot_eq, ":var0", 260, 7),
      (store_random_in_range, ":var1", "trp_merc_balkan_spearman", "trp_merc_scan_spearman"),
    (else_try),
      (party_slot_eq, ":var0", 260, 8),
      (store_random_in_range, ":var1", "trp_merc_scan_spearman", "trp_merc_veteran_euro_spearman"),
    (else_try),
      (party_slot_eq, ":var0", 260, 9),
      (store_random_in_range, ":var1", "trp_merc_gaelic_spearman", "trp_merc_veteran_gaelic_spearman"),
    (else_try),
      (party_slot_eq, ":var0", 260, 10),
      (store_random_in_range, ":var1", "trp_merc_mamluke_spearman", "trp_merc_maghreb_spearman"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cf_recruit_individual_merc",
  [
    (store_script_param, ":var0", 1),
    (party_get_attached_to, ":var1", ":var0"),
    (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
    (try_begin),
      (store_random_in_range, ":var2", 1, 10),
      (call_script, "script_select_mercenary_troop", ":var1"),
      (assign, ":var3", reg1),
      (gt, ":var3", "trp_player"),
      (party_clear, "p_temp_party_1"),
      (party_add_members, "p_temp_party_1", ":var3", ":var2"),
      (store_party_size, ":var4", "p_temp_party_1"),
      (try_begin),
        (store_faction_of_party, ":var5", ":var0"),
        (faction_slot_eq, ":var5", 21, 0),
        (faction_get_slot, ":var6", ":var5", 129),
        (val_add, ":var6", ":var4"),
        (faction_set_slot, ":var5", 129, ":var6"),
      (try_end),
      (party_get_num_companion_stacks, ":var7", "p_temp_party_1"),
      (try_for_range, ":var8", 0, ":var7"),
        (party_stack_get_troop_id, ":var9", "p_temp_party_1", ":var8"),
        (party_stack_get_size, ":var10", "p_temp_party_1", ":var8"),
        (party_add_members, ":var0", ":var9", ":var10"),
      (try_end),
    (try_end),
  ]),

  ("cf_recruit_merc_lance_for_npc",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_party, ":var1", ":var0"),
    (call_script, "script_cf_select_random_town_with_faction", ":var1"),
    (gt, reg0, 0),
    (assign, ":var2", reg0),
    (party_get_slot, ":var3", ":var2", 260),
    (party_get_slot, ":var4", ":var2", 263),
    (party_get_slot, ":var5", ":var2", 266),
    (party_get_slot, ":var6", ":var2", 269),
    (party_get_slot, ":var7", ":var2", 270),
    (party_get_slot, ":var8", ":var2", 271),
    (assign, ":var9", -1),
    (try_begin),
      (gt, ":var5", 0),
      (gt, ":var8", 0),
      (store_random_in_range, ":var10", 0, 2),
      (eq, ":var10", 0),
      (assign, ":var9", 266),
      (val_sub, ":var8", 1),
      (party_set_slot, ":var2", 269, ":var8"),
    (else_try),
      (gt, ":var4", 0),
      (gt, ":var7", 0),
      (store_random_in_range, ":var10", 0, 2),
      (eq, ":var10", 0),
      (assign, ":var9", 263),
      (val_sub, ":var7", 1),
      (party_set_slot, ":var2", 270, ":var7"),
    (else_try),
      (gt, ":var3", 0),
      (gt, ":var6", 0),
      (assign, ":var9", 260),
      (val_sub, ":var6", 1),
      (party_set_slot, ":var2", 271, ":var6"),
    (try_end),
    (gt, ":var9", -1),
    (call_script, "script_fill_company", ":var2", ":var0", ":var9"),
  ]),

  ("cf_recruit_lance_for_npc",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 0),
    (assign, ":var2", -1),
    (try_begin),
      (eq, ":var1", 13),
      (party_stack_get_troop_id, ":var2", ":var0"),
    (try_end),
    (assign, ":var3", -1),
    (assign, ":var4", 2),
    (assign, ":var5", "p_salt_mine"),
    (try_for_range, ":var6", "p_town_1_1", ":var5"),
      (neg|this_or_next|party_slot_ge, ":var6", 54, 1),
      (neg|party_slot_eq, ":var6", 35, 1),
      (party_get_slot, ":var7", ":var6", 7),
      (eq, ":var7", ":var2"),
      (party_get_slot, ":var8", ":var6", 93),
      (gt, ":var8", 0),
      (call_script, "script_fill_lance", ":var6", ":var0"),
      (val_sub, ":var8", 1),
      (party_set_slot, ":var6", 93, ":var8"),
      (assign, ":var3", ":var6"),
      (val_sub, ":var4", 1),
      (eq, ":var4", 0),
      (assign, ":var5", -1),
    (try_end),
    (try_begin),
      (eq, ":var1", 13),
      (troop_get_slot, ":var9", ":var2", 165),
      (store_sub, ":var10", ":var9", "fac_culture_finnish"),
      (try_begin),
        (eq, ":var10", 0),
        (assign, ":var11", 191),
        (assign, ":var12", 206),
      (else_try),
        (eq, ":var10", 1),
        (assign, ":var11", 206),
        (assign, ":var12", 223),
      (else_try),
        (eq, ":var10", 2),
        (assign, ":var11", 223),
        (assign, ":var12", 240),
      (else_try),
        (eq, ":var10", 3),
        (assign, ":var11", 240),
        (assign, ":var12", 250),
      (else_try),
        (eq, ":var10", 4),
        (assign, ":var11", 250),
        (assign, ":var12", 271),
      (else_try),
        (eq, ":var10", 5),
        (assign, ":var11", 271),
        (assign, ":var12", 290),
      (else_try),
        (eq, ":var10", 6),
        (assign, ":var11", 290),
        (assign, ":var12", 305),
      (else_try),
        (eq, ":var10", 7),
        (assign, ":var11", 305),
        (assign, ":var12", 323),
      (else_try),
        (eq, ":var10", 8),
        (assign, ":var11", 323),
        (assign, ":var12", 342),
      (else_try),
        (eq, ":var10", 9),
        (assign, ":var11", 342),
        (assign, ":var12", 359),
      (else_try),
        (eq, ":var10", 10),
        (assign, ":var11", 359),
        (assign, ":var12", 388),
      (else_try),
        (eq, ":var10", 11),
        (assign, ":var11", 388),
        (assign, ":var12", 404),
      (else_try),
        (eq, ":var10", 12),
        (assign, ":var11", 405),
        (assign, ":var12", 423),
      (else_try),
        (eq, ":var10", 13),
        (assign, ":var11", 423),
        (assign, ":var12", 442),
      (else_try),
        (eq, ":var10", 14),
        (assign, ":var11", 442),
        (assign, ":var12", 462),
      (else_try),
        (eq, ":var10", 15),
        (assign, ":var11", 462),
        (assign, ":var12", 475),
      (else_try),
        (eq, ":var10", 16),
        (assign, ":var11", 475),
        (assign, ":var12", 487),
      (else_try),
        (eq, ":var10", 17),
        (assign, ":var11", 487),
        (assign, ":var12", 501),
      (else_try),
        (eq, ":var10", 18),
        (assign, ":var11", 501),
        (assign, ":var12", 513),
      (else_try),
        (eq, ":var10", 19),
        (assign, ":var11", 513),
        (assign, ":var12", 530),
      (else_try),
        (eq, ":var10", 20),
        (assign, ":var11", 530),
        (assign, ":var12", 537),
      (else_try),
        (eq, ":var10", 21),
        (assign, ":var11", 537),
        (assign, ":var12", 552),
      (else_try),
        (eq, ":var10", 22),
        (assign, ":var11", 552),
        (assign, ":var12", 567),
      (else_try),
        (eq, ":var10", 23),
        (assign, ":var11", 567),
        (assign, ":var12", 584),
      (else_try),
        (eq, ":var10", 24),
        (assign, ":var11", 584),
        (assign, ":var12", 601),
      (else_try),
        (eq, ":var10", 25),
        (assign, ":var11", 601),
        (assign, ":var12", 618),
      (else_try),
        (eq, ":var10", 26),
        (assign, ":var11", 618),
        (assign, ":var12", 635),
      (else_try),
        (eq, ":var10", 27),
        (assign, ":var11", 513),
        (assign, ":var12", 530),
      (else_try),
        (eq, ":var10", 28),
        (assign, ":var11", 148),
        (assign, ":var12", 155),
      (else_try),
        (eq, ":var10", 29),
        (assign, ":var11", 659),
        (assign, ":var12", 673),
      (else_try),
        (eq, ":var10", 30),
        (assign, ":var11", 673),
        (assign, ":var12", 688),
      (else_try),
        (eq, ":var10", 31),
        (assign, ":var11", 688),
        (assign, ":var12", 703),
      (else_try),
        (eq, ":var10", 32),
        (assign, ":var11", 703),
        (assign, ":var12", 717),
      (else_try),
        (eq, ":var10", 33),
        (assign, ":var11", 3597),
        (assign, ":var12", 3609),
      (try_end),
      (store_random_in_range, ":var13", 5, 7),
      (try_for_range, ":var14", 0, ":var13"),
        (store_random_in_range, ":var15", ":var11", ":var12"),
        (party_add_members, ":var0", ":var15", 1),
      (try_end),
    (try_end),
  ]),

  ("get_random_merc_company_from_center",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 260),
    (party_get_slot, ":var2", ":var0", 263),
    (party_get_slot, ":var3", ":var0", 266),
    (try_begin),
      (gt, ":var3", 0),
      (store_random_in_range, ":var4", 0, 2),
      (eq, ":var4", 0),
      (party_get_slot, ":var5", ":var0", 268),
    (else_try),
      (gt, ":var2", 0),
      (store_random_in_range, ":var4", 0, 2),
      (eq, ":var4", 0),
      (party_get_slot, ":var5", ":var0", 265),
    (else_try),
      (gt, ":var1", 0),
      (party_get_slot, ":var5", ":var0", 262),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("get_orig_culture",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (this_or_next|eq, ":var2", "fac_culture_baltic"),
      (eq, ":var2", "fac_culture_finnish"),
      (eq, ":var1", "fac_kingdom_1"),
      (assign, ":var2", "fac_culture_teutonic"),
    (else_try),
      (eq, ":var2", "fac_culture_byzantium"),
      (eq, ":var1", "fac_kingdom_26"),
      (assign, ":var2", "fac_culture_italian"),
    (else_try),
      (eq, ":var1", "fac_kingdom_23"),
      (assign, ":var2", "fac_culture_western"),
    (else_try),
      (eq, ":var0", "fac_kingdom_23"),
      (neq, ":var1", "fac_kingdom_23"),
      (assign, ":var2", "fac_culture_mamluke"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("check_agents_for_lances",
  [
    (get_player_agent_no, ":var0"),
    (try_for_agents, ":var1"),
      (neg|agent_slot_eq, ":var1", 35, 1),
      (neg|agent_is_alive, ":var1"),
      (neg|agent_is_wounded, ":var1"),
      (agent_is_human, ":var1"),
      (agent_get_party_id, ":var2", ":var1"),
      (eq, ":var2", "p_main_party"),
      (neq, ":var0", ":var1"),
      (agent_get_slot, ":var3", ":var1", 102),
      (ge, ":var3", 0),
      (troop_set_slot, "trp_lances_places", ":var3", 0),
      (troop_set_slot, "trp_lances_troops", ":var3", 0),
    (try_end),
    (call_script, "script_balance_lance_storage"),
  ]),

  ("balance_lance_storage",
  [
    (assign, ":var0", 0),
    (try_for_range, ":var1", 0, "$lance_troop_serving"),
      (troop_get_slot, ":var2", "trp_lances_troops", ":var1"),
      (troop_get_slot, ":var3", "trp_lances_places", ":var1"),
      (gt, ":var2", 0),
      (troop_set_slot, "trp_temp_array_a", ":var0", ":var2"),
      (troop_set_slot, "trp_temp_array_b", ":var0", ":var3"),
      (val_add, ":var0", 1),
    (try_end),
    (assign, "$lance_troop_serving", ":var0"),
    (try_for_range, ":var1", 0, "$lance_troop_serving"),
      (troop_get_slot, ":var2", "trp_temp_array_a", ":var1"),
      (troop_get_slot, ":var3", "trp_temp_array_b", ":var1"),
      (troop_set_slot, "trp_lances_troops", ":var1", ":var2"),
      (troop_set_slot, "trp_lances_places", ":var1", ":var3"),
    (try_end),
    (assign, ":var0", 0),
    (try_for_range, ":var1", 0, "$lance_troop_reserve"),
      (troop_get_slot, ":var2", "trp_lances_troops_reserve", ":var1"),
      (troop_get_slot, ":var3", "trp_lances_places_reserve", ":var1"),
      (gt, ":var2", 0),
      (troop_set_slot, "trp_temp_array_a", ":var0", ":var2"),
      (troop_set_slot, "trp_temp_array_b", ":var0", ":var3"),
      (val_add, ":var0", 1),
    (try_end),
    (assign, "$lance_troop_reserve", ":var0"),
    (try_for_range, ":var1", 0, "$lance_troop_reserve"),
      (troop_get_slot, ":var2", "trp_temp_array_a", ":var1"),
      (troop_get_slot, ":var3", "trp_temp_array_b", ":var1"),
      (troop_set_slot, "trp_lances_troops_reserve", ":var1", ":var2"),
      (troop_set_slot, "trp_lances_places_reserve", ":var1", ":var3"),
    (try_end),
  ]),

  ("count_nobles_commoners_for_center",
  [
    (try_for_parties, ":var0"),
      (party_set_slot, ":var0", 272, 0),
      (party_set_slot, ":var0", 273, 0),
      (party_get_slot, ":var1", ":var0", 274),
      (party_set_slot, ":var0", 274, 0),
      (ge, ":var1", 1),
      (val_div, ":var1", 10),
      (party_get_slot, ":var2", ":var0", 93),
      (val_add, ":var2", ":var1"),
      (party_set_slot, ":var0", 93, ":var2"),
    (try_end),
    (try_for_range, ":var3", 0, "$lance_troop_reserve"),
      (troop_get_slot, ":var4", "trp_lances_troops_reserve", ":var3"),
      (troop_get_slot, ":var5", "trp_lances_places_reserve", ":var3"),
      (assign, ":var6", "fac_player_faction"),
      (try_for_range, ":var7", "fac_culture_finnish", ":var6"),
        (call_script, "script_troop_find_culture", ":var4", ":var7"),
        (ge, reg0, 0),
        (try_begin),
          (eq, reg0, 2),
          (party_get_slot, ":var8", ":var5", 273),
          (val_add, ":var8", 1),
          (party_set_slot, ":var5", 273, ":var8"),
        (else_try),
          (party_get_slot, ":var8", ":var5", 272),
          (val_add, ":var8", 1),
          (party_set_slot, ":var5", 272, ":var8"),
        (try_end),
        (assign, ":var6", -1),
      (try_end),
    (try_end),
  ]),

  ("get_noble_troop",
  [
    (store_script_param, ":var0", 1),
    (assign, reg1, -1),
    (assign, ":var1", "$lance_troop_reserve"),
    (try_for_range, ":var2", 0, ":var1"),
      (troop_slot_eq, "trp_lances_places_reserve", ":var2", ":var0"),
      (troop_get_slot, ":var3", "trp_lances_troops_reserve", ":var2"),
      (assign, ":var4", "fac_player_faction"),
      (try_for_range, ":var5", "fac_culture_finnish", ":var4"),
        (call_script, "script_troop_find_culture", ":var3", ":var5"),
        (eq, reg0, 2),
        (assign, ":var4", -1),
      (try_end),
      (eq, reg0, 2),
      (troop_set_slot, "trp_lances_troops_reserve", ":var2", 0),
      (troop_set_slot, "trp_lances_places_reserve", ":var2", 0),
      (assign, reg1, ":var3"),
      (assign, ":var1", -1),
    (try_end),
  ]),

  ("get_commoner_troop",
  [
    (store_script_param, ":var0", 1),
    (assign, reg1, -1),
    (assign, ":var1", "$lance_troop_reserve"),
    (try_for_range, ":var2", 0, ":var1"),
      (troop_slot_eq, "trp_lances_places_reserve", ":var2", ":var0"),
      (troop_get_slot, ":var3", "trp_lances_troops_reserve", ":var2"),
      (assign, ":var4", "fac_player_faction"),
      (try_for_range, ":var5", "fac_culture_finnish", ":var4"),
        (call_script, "script_troop_find_culture", ":var3", ":var5"),
        (is_between, reg0, 0, 2),
        (assign, ":var4", -1),
      (try_end),
      (is_between, reg0, 0, 2),
      (troop_set_slot, "trp_lances_troops_reserve", ":var2", 0),
      (troop_set_slot, "trp_lances_places_reserve", ":var2", 0),
      (assign, reg1, ":var3"),
      (assign, ":var1", -1),
    (try_end),
  ]),

  ("add_lance_troop_to_regulars",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_set_slot, "trp_lances_places", "$lance_troop_serving", ":var1"),
    (troop_set_slot, "trp_lances_troops", "$lance_troop_serving", ":var0"),
    (val_add, "$lance_troop_serving", 1),
  ]),

  ("search_for_troop",
  [
    (store_script_param, ":var0", 1),
    (assign, reg0, -1),
    (assign, ":var1", "$lance_troop_serving"),
    (try_for_range, ":var2", 0, ":var1"),
      (troop_slot_eq, "trp_lances_troop_in_combat", ":var2", 0),
      (troop_slot_eq, "trp_lances_troops", ":var2", ":var0"),
      (assign, reg0, ":var2"),
      (troop_set_slot, "trp_lances_troop_in_combat", ":var2", 1),
      (assign, ":var1", -1),
    (try_end),
  ]),

  ("clear_troop_array",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_for_range, ":var3", ":var1", ":var2"),
      (troop_set_slot, ":var0", ":var3", 0),
    (try_end),
  ]),

  ("fill_lance",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (str_store_party_name, s0, ":var1"),
    (str_store_party_name, s1, ":var0"),
    (party_get_slot, ":var2", ":var0", 19),
    (party_get_slot, ":var3", ":var0", 50),
    (party_get_slot, ":var4", ":var0", 800),
    (party_get_slot, ":var5", ":var0", 801),
    (party_stack_get_troop_id, ":var6", ":var1"),
    (store_faction_of_party, ":var7", ":var0"),
    (try_begin),
      (is_between, ":var7", "fac_player_supporters_faction", "fac_kingdoms_end"),
    (else_try),
      (neg|is_between, ":var7", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (assign, ":var7", "fac_player_supporters_faction"),
    (try_end),
    (try_begin),
      (is_between, ":var2", "fac_culture_finnish", "fac_player_faction"),
    (else_try),
      (neg|is_between, ":var2", "fac_culture_finnish", "fac_player_faction"),
      (faction_get_slot, ":var2", ":var7", 10),
    (try_end),
    (try_begin),
      (is_between, ":var1", "p_town_1_1", "p_village_1_1"),
      (party_slot_ge, ":var1", 7, 0),
      (party_get_slot, ":var6", ":var1", 7),
    (try_end),
    (faction_get_slot, ":var8", ":var2", 41),
    (faction_get_slot, ":var9", ":var2", 101),
    (faction_get_slot, ":var10", ":var2", 100),
    (assign, ":var11", 50),
    (try_begin),
      (is_between, ":var0", "p_castle_1_1", "p_village_1_1"),
      (assign, ":var11", 50),
    (else_try),
      (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
      (assign, ":var11", 70),
    (else_try),
      (assign, ":var11", 30),
    (try_end),
    (store_random_in_range, ":var12", 1, 101),
    (try_begin),
      (le, ":var12", ":var11"),
      (assign, ":var13", ":var8"),
    (else_try),
      (assign, ":var13", ":var10"),
    (try_end),
    (try_begin),
      (eq, ":var6", "trp_knight_23_6"),
      (assign, ":var13", "trp_teu_town_1"),
      (assign, ":var9", "trp_teu_horse_1"),
    (else_try),
      (eq, ":var6", "trp_knight_23_1"),
      (store_random_in_range, ":var9", "trp_hospitaller_half_brother", "trp_saint_lazarus_half_brother"),
    (else_try),
      (eq, ":var6", "trp_knight_23_2"),
      (assign, ":var9", "trp_templar_half_brother", "trp_hospitaller_half_brother"),
    (else_try),
      (eq, ":var6", "trp_knight_16_1"),
      (assign, ":var9", "trp_santiago_half_brother", "trp_calatrava_half_brother"),
    (else_try),
      (eq, ":var6", "trp_knight_18_9"),
      (assign, ":var9", "trp_calatrava_half_brother", "trp_saint_thomas_half_brother"),
    (else_try),
      (eq, ":var6", "trp_knight_7_15"),
      (assign, ":var10", "trp_cuman_tribesman"),
      (assign, ":var9", "trp_cuman_horseman"),
    (else_try),
      (neg|is_between, ":var1", "p_town_1_1", "p_salt_mine"),
      (this_or_next|is_between, ":var6", "trp_knight_3_1", "trp_knight_3_20"),
      (this_or_next|is_between, ":var6", "trp_knight_27_4", "trp_knight_2_1"),
      (this_or_next|eq, ":var6", "trp_kingdom_3_lord"),
      (eq, ":var6", "trp_kingdom_27_lord"),
      (assign, ":var13", "trp_tatar_tribesman"),
      (assign, ":var9", "trp_tatar_horseman"),
    (try_end),
    (try_begin),
      (neg|is_between, ":var4", 1, 4),
      (assign, ":var4", 2),
    (try_end),
    (try_begin),
      (neg|is_between, ":var5", 1, 4),
      (assign, ":var5", 2),
    (try_end),
    (call_script, "script_get_lance_precentage", ":var4", ":var3"),
    (assign, ":var14", reg1),
    (assign, ":var15", reg2),
    (assign, ":var16", reg3),
    (try_for_range, reg10, 0, ":var4"),
      (store_random_in_range, ":var12", 1, 101),
      (try_begin),
        (eq, ":var1", "p_main_party"),
        (party_slot_ge, ":var0", 273, 1),
        (call_script, "script_get_noble_troop", ":var0"),
        (ge, reg1, 0),
        (party_get_slot, ":var17", ":var0", 273),
        (val_sub, ":var17", 1),
        (party_set_slot, ":var0", 273, ":var17"),
      (else_try),
        (lt, ":var12", ":var14"),
        (assign, reg1, ":var9"),
      (else_try),
        (lt, ":var12", ":var15"),
        (call_script, "script_choose_random_troop_for_lance", ":var9", 2),
      (else_try),
        (lt, ":var12", ":var16"),
        (call_script, "script_choose_random_troop_for_lance", ":var9", 3),
      (else_try),
        (store_random_in_range, ":var18", 0, 100),
        (try_begin),
          (lt, ":var18", 50),
          (call_script, "script_choose_random_troop_for_lance", ":var9", 4),
        (else_try),
          (call_script, "script_choose_random_troop_for_lance", ":var9", 5),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var1", "p_main_party"),
        (call_script, "script_add_lance_troop_to_regulars", reg1, ":var0"),
      (try_end),
      (try_begin),
        (store_faction_of_party, ":var19", ":var1"),
        (faction_slot_eq, ":var19", 21, 0),
        (faction_get_slot, ":var20", ":var19", 129),
        (val_add, ":var20", 1),
        (faction_set_slot, ":var19", 129, ":var20"),
      (try_end),
      (party_add_members, ":var1", reg1, 1),
    (try_end),
    (call_script, "script_get_lance_precentage", ":var5", ":var3"),
    (assign, ":var14", reg1),
    (assign, ":var15", reg2),
    (assign, ":var16", reg3),
    (val_mul, ":var5", 4),
    (try_for_range, reg10, 0, ":var5"),
      (store_random_in_range, ":var12", 1, 101),
      (try_begin),
        (eq, ":var1", "p_main_party"),
        (party_slot_ge, ":var0", 272, 1),
        (call_script, "script_get_commoner_troop", ":var0"),
        (ge, reg1, 0),
        (party_get_slot, ":var17", ":var0", 272),
        (val_sub, ":var17", 1),
        (party_set_slot, ":var0", 272, ":var17"),
        (str_store_troop_name, s0, reg1),
      (else_try),
        (lt, ":var12", ":var14"),
        (assign, reg1, ":var13"),
      (else_try),
        (lt, ":var12", ":var15"),
        (call_script, "script_choose_random_troop_for_lance", ":var13", 2),
      (else_try),
        (lt, ":var12", ":var16"),
        (call_script, "script_choose_random_troop_for_lance", ":var13", 3),
      (else_try),
        (store_random_in_range, ":var18", 0, 100),
        (try_begin),
          (lt, ":var18", 50),
          (call_script, "script_choose_random_troop_for_lance", ":var13", 4),
        (else_try),
          (call_script, "script_choose_random_troop_for_lance", ":var13", 5),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var1", "p_main_party"),
        (call_script, "script_add_lance_troop_to_regulars", reg1, ":var0"),
      (try_end),
      (try_begin),
        (store_faction_of_party, ":var19", ":var1"),
        (faction_slot_eq, ":var19", 21, 0),
        (faction_get_slot, ":var20", ":var19", 129),
        (val_add, ":var20", 1),
        (faction_set_slot, ":var19", 129, ":var20"),
      (try_end),
      (party_add_members, ":var1", reg1, 1),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("choose_random_troop_for_lance",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (val_sub, ":var1", 1),
    (assign, reg1, ":var0"),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (troop_get_upgrade_troop, ":var2", ":var0", 0),
    (troop_get_upgrade_troop, ":var3", ":var0", 1),
    (try_begin),
      (gt, ":var2", 0),
      (gt, ":var3", 0),
      (store_random_in_range, ":var4", 0, 101),
      (try_begin),
        (lt, ":var4", 50),
        (assign, reg1, ":var2"),
      (else_try),
        (assign, reg1, ":var3"),
      (try_end),
    (else_try),
      (gt, ":var2", 0),
      (assign, reg1, ":var2"),
    (else_try),
      (gt, ":var3", 0),
      (assign, reg1, ":var3"),
    (try_end),
    (try_begin),
      (gt, ":var1", 1),
      (call_script, "script_choose_random_troop_for_lance", reg1, ":var1"),
    (try_end),
    (assign, reg2, ":var1"),
  ]),

  ("feudal_lance_manpower_update",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (party_get_slot, ":var2", ":var0", 93),
      (try_begin),
        (party_slot_eq, ":var0", 7, "trp_player"),
        (party_get_slot, ":var3", ":var0", 26),
        (val_div, ":var3", 25),
        (val_add, ":var1", ":var3"),
      (try_end),
      (lt, ":var2", ":var1"),
      (store_faction_of_party, ":var4", ":var0"),
      (try_begin),
        (faction_slot_eq, ":var4", 400, 0),
        (val_add, ":var2", 1),
      (try_end),
      (val_add, ":var2", 1),
      (val_clamp, ":var2", 1, ":var1"),
      (party_set_slot, ":var0", 93, ":var2"),
    (try_end),
  ]),

  ("fill_company",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", "pt_generic_euro"),
    (try_begin),
      (eq, ":var2", 260),
      (party_get_slot, ":var3", ":var0", 262),
    (else_try),
      (eq, ":var2", 263),
      (party_get_slot, ":var3", ":var0", 265),
    (else_try),
      (eq, ":var2", 266),
      (party_get_slot, ":var3", ":var0", 268),
    (try_end),
    (party_clear, "p_temp_party_1"),
    (party_add_template, "p_temp_party_1", ":var3"),
    (store_party_size, ":var4", "p_temp_party_1"),
    (try_begin),
      (store_faction_of_party, ":var5", ":var1"),
      (faction_slot_eq, ":var5", 21, 0),
      (faction_get_slot, ":var6", ":var5", 129),
      (val_add, ":var6", ":var4"),
      (faction_set_slot, ":var5", 129, ":var6"),
    (try_end),
    (party_get_num_companion_stacks, ":var7", "p_temp_party_1"),
    (try_for_range, ":var8", 0, ":var7"),
      (party_stack_get_troop_id, ":var9", "p_temp_party_1", ":var8"),
      (party_stack_get_size, ":var10", "p_temp_party_1", ":var8"),
      (party_add_members, ":var1", ":var9", ":var10"),
    (try_end),
  ]),

  ("get_lance_size",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 800),
    (party_get_slot, ":var2", ":var0", 801),
    (val_mul, ":var2", 4),
    (try_begin),
      (le, ":var2", 0),
      (assign, ":var2", 1),
    (try_end),
    (try_begin),
      (le, ":var1", 0),
      (assign, ":var1", 1),
    (try_end),
    (store_add, reg0, ":var2", ":var1"),
    (assign, reg1, ":var1"),
    (assign, reg2, ":var2"),
  ]),

  ("get_lance_precentage",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (le, ":var1", 25),
      (assign, ":var2", 50),
      (assign, ":var3", 90),
      (assign, ":var4", 95),
    (else_try),
      (le, ":var1", 75),
      (assign, ":var2", 30),
      (assign, ":var3", 80),
      (assign, ":var4", 90),
    (else_try),
      (assign, ":var2", 10),
      (assign, ":var3", 70),
      (assign, ":var4", 85),
    (try_end),
    (try_begin),
      (eq, ":var0", 1),
      (val_sub, ":var2", 20),
      (val_sub, ":var3", 10),
      (val_sub, ":var4", 5),
    (else_try),
      (eq, ":var0", 3),
      (val_add, ":var2", 20),
      (val_add, ":var3", 10),
      (val_add, ":var4", 5),
    (try_end),
    (assign, reg1, ":var2"),
    (assign, reg2, ":var3"),
    (assign, reg3, ":var4"),
  ]),

  ("check_if_faction_is_at_war",
  [
    (store_script_param, ":var0", 1),
    (assign, reg0, 0),
    (assign, ":var1", "fac_kingdoms_end"),
    (try_for_range, ":var2", "fac_player_supporters_faction", ":var1"),
      (neq, ":var0", ":var2"),
      (store_relation, ":var3", ":var2", ":var0"),
      (lt, ":var3", 0),
      (assign, reg0, 1),
      (assign, ":var1", -5),
    (try_end),
  ]),

  ("set_sea_icons",
  [
    (try_for_parties, ":var0"),
      (party_get_template_id, ":var1", ":var0"),
      (try_begin),
        (eq, ":var1", "pt_kingdom_hero_party"),
        (party_set_icon, ":var0", "icon_flagbearer_a"),
      (else_try),
        (eq, ":var1", "pt_kingdom_caravan_party"),
        (party_set_icon, ":var0", "icon_mule"),
      (else_try),
        (this_or_next|eq, ":var1", "pt_desert_bandits"),
        (eq, ":var1", "pt_deserters"),
        (party_set_icon, ":var0", "icon_vaegir_knight"),
      (else_try),
        (this_or_next|eq, ":var1", "pt_merc_party"),
        (this_or_next|eq, ":var1", "pt_prisoner_train_party"),
        (this_or_next|eq, ":var1", "pt_patrol_party"),
        (this_or_next|eq, ":var1", "pt_ghibellines"),
        (this_or_next|eq, ":var1", "pt_guelphs"),
        (eq, ":var1", "pt_manhunters"),
        (party_set_icon, ":var0", "icon_gray_knight"),
      (else_try),
        (eq, ":var1", "pt_steppe_bandits"),
        (party_set_icon, ":var0", "icon_khergit"),
      (else_try),
        (this_or_next|eq, ":var1", "pt_peasant_rebels_euro"),
        (eq, ":var1", "pt_village_farmers"),
        (party_set_icon, ":var0", "icon_peasant"),
      (else_try),
        (eq, ":var1", "pt_cattle_herd"),
        (party_set_icon, ":var0", "icon_cattle"),
      (else_try),
        (this_or_next|eq, ":var1", "pt_manhunters"),
        (this_or_next|eq, ":var1", "pt_dplmc_recruiter"),
        (this_or_next|eq, ":var1", "pt_escaped_prisoners_party"),
        (this_or_next|eq, ":var1", "pt_crusaders"),
        (eq, ":var1", "pt_merchant_caravan"),
        (party_set_icon, ":var0", "icon_gray_knight"),
      (else_try),
        (this_or_next|party_slot_eq, ":var0", 0, 69),
        (party_slot_eq, ":var0", 0, 12),
        (party_set_icon, ":var0", "icon_gray_knight"),
      (else_try),
        (this_or_next|eq, ":var1", "pt_looters"),
        (this_or_next|eq, ":var1", "pt_forest_bandits"),
        (this_or_next|eq, ":var1", "pt_mountain_bandits"),
        (this_or_next|eq, ":var1", "pt_taiga_bandits"),
        (this_or_next|eq, ":var1", "pt_curonians"),
        (this_or_next|eq, ":var1", "pt_prussians"),
        (this_or_next|eq, ":var1", "pt_samogitians"),
        (this_or_next|eq, ":var1", "pt_yotvingians"),
        (this_or_next|eq, ":var1", "pt_welsh"),
        (this_or_next|eq, ":var1", "pt_robber_knights"),
        (this_or_next|eq, ":var1", "pt_troublesome_bandits"),
        (this_or_next|eq, ":var1", "pt_bandits_awaiting_ransom"),
        (eq, ":var1", "pt_sea_raiders"),
        (party_set_icon, ":var0", "icon_axeman"),
      (try_end),
    (try_end),
  ]),

  ("get_party_campsite",
  [
    (store_script_param, ":var0", 1),
    (party_get_current_terrain, ":var1", ":var0"),
    (assign, reg0, "scn_campside_plain"),
    (try_begin),
      (this_or_next|eq, ":var1", 3),
      (this_or_next|eq, ":var1", 9),
      (eq, ":var1", 11),
      (assign, reg0, "scn_campside_plain"),
    (else_try),
      (this_or_next|eq, ":var1", 4),
      (eq, ":var1", 12),
      (assign, reg0, "scn_campside_snow"),
    (else_try),
      (this_or_next|eq, ":var1", 2),
      (eq, ":var1", 10),
      (assign, reg0, "scn_campside_steppe"),
    (else_try),
      (this_or_next|eq, ":var1", 5),
      (eq, ":var1", 13),
      (assign, reg0, "scn_campside_desert"),
    (try_end),
  ]),

  ("cf_hire_npc_specialist",
  [
    (store_script_param, ":var0", 1),
    (party_count_members_of_type, reg1, "p_main_party", ":var0"),
    (eq, reg1, 0),
    (assign, ":var1", 0),
    (party_get_free_companions_capacity, reg1, "p_main_party"),
    (try_begin),
      (eq, reg1, 0),
      (assign, ":var1", 1),
      (display_message, "@Not enough space in the party to hire this specialist!"),
    (try_end),
    (eq, ":var1", 0),
    (store_character_level, ":var2", ":var0"),
    (assign, ":var3", 50),
    (val_mul, ":var3", ":var2"),
    (try_begin),
      (troop_slot_ge, ":var0", 8, 0),
      (val_mul, ":var3", 2),
    (try_end),
    (store_troop_gold, ":var4", "trp_player"),
    (try_begin),
      (ge, ":var4", ":var3"),
      (assign, ":var1", 0),
    (else_try),
      (assign, ":var1", 1),
      (display_message, "@Not enough gold!"),
    (try_end),
    (eq, ":var1", 0),
    (troop_remove_gold, "trp_player", ":var3"),
    (party_get_slot, ":var5", "$current_town", 19),
    (try_begin),
      (troop_slot_eq, ":var0", 162, 0),
      (faction_get_slot, ":var6", ":var5", 42),
      (call_script, "script_equip_companion", ":var0", ":var6"),
      (troop_set_slot, ":var0", 162, 1),
    (try_end),
    (party_add_members, "p_main_party", ":var0", 1),
    (troop_set_slot, ":var0", 2, 5),
    (troop_set_slot, ":var0", 5, 1),
    (troop_get_slot, ":var7", ":var0", 8),
    (try_begin),
      (ge, ":var7", 1),
      (party_remove_prisoners, ":var7", ":var0", 1),
    (try_end),
    (troop_set_slot, ":var0", 8, -1),
    (display_message, "@Hired!"),
  ]),

  ("equip_companion",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (assign, ":var3", 25),
    (assign, ":var4", 50),
    (assign, ":var5", 75),
    (assign, ":var6", 100),
    (assign, ":var7", 125),
    (assign, ":var8", 150),
    (assign, ":var9", 175),
    (assign, ":var10", 200),
    (assign, ":var11", 225),
    (assign, ":var12", 250),
    (assign, ":var13", 275),
    (assign, ":var14", 300),
    (assign, ":var15", 325),
    (assign, ":var16", 0),
    (assign, ":var17", 0),
    (assign, ":var18", 0),
    (assign, ":var19", 0),
    (assign, ":var20", 0),
    (assign, ":var21", 0),
    (assign, ":var22", 0),
    (assign, ":var23", 0),
    (assign, ":var24", 0),
    (assign, ":var25", 0),
    (assign, ":var26", 0),
    (assign, ":var27", 0),
    (assign, ":var28", 0),
    (assign, ":var29", 0),
    (troop_clear_inventory, ":var0"),
    (troop_get_inventory_capacity, ":var30", ":var1"),
    (try_for_range, ":var31", 0, ":var30"),
      (troop_get_inventory_slot, ":var32", ":var1", ":var31"),
      (gt, ":var32", 0),
      (item_get_type, ":var33", ":var32"),
      (try_begin),
        (eq, ":var33", 4),
        (val_add, ":var2", 1),
        (troop_set_slot, "trp_items_array", 0, ":var2"),
        (troop_set_slot, "trp_items_array", ":var2", ":var32"),
        (assign, ":var16", 1),
      (else_try),
        (eq, ":var33", 2),
        (val_add, ":var3", 1),
        (troop_set_slot, "trp_items_array", 25, ":var3"),
        (troop_set_slot, "trp_items_array", ":var3", ":var32"),
        (assign, ":var17", 1),
      (else_try),
        (eq, ":var33", 7),
        (val_add, ":var4", 1),
        (troop_set_slot, "trp_items_array", 50, ":var4"),
        (troop_set_slot, "trp_items_array", ":var4", ":var32"),
        (assign, ":var18", 1),
      (else_try),
        (eq, ":var33", 3),
        (val_add, ":var5", 1),
        (troop_set_slot, "trp_items_array", 75, ":var5"),
        (troop_set_slot, "trp_items_array", ":var5", ":var32"),
        (assign, ":var19", 1),
      (else_try),
        (eq, ":var33", 10),
        (val_add, ":var6", 1),
        (troop_set_slot, "trp_items_array", 100, ":var6"),
        (troop_set_slot, "trp_items_array", ":var6", ":var32"),
        (assign, ":var20", 1),
      (else_try),
        (eq, ":var33", 6),
        (val_add, ":var7", 1),
        (troop_set_slot, "trp_items_array", 125, ":var7"),
        (troop_set_slot, "trp_items_array", ":var7", ":var32"),
        (assign, ":var21", 1),
      (else_try),
        (eq, ":var33", 5),
        (val_add, ":var8", 1),
        (troop_set_slot, "trp_items_array", 150, ":var8"),
        (troop_set_slot, "trp_items_array", ":var8", ":var32"),
        (assign, ":var22", 1),
      (else_try),
        (eq, ":var33", 8),
        (val_add, ":var9", 1),
        (troop_set_slot, "trp_items_array", 175, ":var9"),
        (troop_set_slot, "trp_items_array", ":var9", ":var32"),
        (assign, ":var23", 1),
      (else_try),
        (eq, ":var33", 9),
        (val_add, ":var10", 1),
        (troop_set_slot, "trp_items_array", 200, ":var10"),
        (troop_set_slot, "trp_items_array", ":var10", ":var32"),
        (assign, ":var24", 1),
      (else_try),
        (eq, ":var33", 12),
        (val_add, ":var11", 1),
        (troop_set_slot, "trp_items_array", 225, ":var11"),
        (troop_set_slot, "trp_items_array", ":var11", ":var32"),
        (assign, ":var25", 1),
      (else_try),
        (eq, ":var33", 13),
        (val_add, ":var12", 1),
        (troop_set_slot, "trp_items_array", 250, ":var12"),
        (troop_set_slot, "trp_items_array", ":var12", ":var32"),
        (assign, ":var26", 1),
      (else_try),
        (eq, ":var33", 14),
        (val_add, ":var13", 1),
        (troop_set_slot, "trp_items_array", 275, ":var13"),
        (troop_set_slot, "trp_items_array", ":var13", ":var32"),
        (assign, ":var27", 1),
      (else_try),
        (eq, ":var33", 15),
        (val_add, ":var14", 1),
        (troop_set_slot, "trp_items_array", 300, ":var14"),
        (troop_set_slot, "trp_items_array", ":var14", ":var32"),
        (assign, ":var28", 1),
      (else_try),
        (eq, ":var33", 1),
        (val_add, ":var15", 1),
        (troop_set_slot, "trp_items_array", 325, ":var15"),
        (troop_set_slot, "trp_items_array", ":var15", ":var32"),
        (assign, ":var29", 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var16", 1),
      (troop_get_slot, ":var34", "trp_items_array", 0),
      (store_random_in_range, ":var35", 1, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var17", 1),
      (troop_get_slot, ":var34", "trp_items_array", 25),
      (store_random_in_range, ":var35", 26, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var18", 1),
      (troop_get_slot, ":var34", "trp_items_array", 50),
      (store_random_in_range, ":var35", 51, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var19", 1),
      (try_begin),
        (eq, ":var17", 1),
        (store_random_in_range, ":var37", 0, 100),
        (lt, ":var37", 65),
      (else_try),
        (troop_get_slot, ":var34", "trp_items_array", 75),
        (store_random_in_range, ":var35", 76, ":var34"),
        (troop_get_slot, ":var36", "trp_items_array", ":var35"),
        (neq, ":var36", "itm_no_item"),
        (troop_add_item, ":var0", ":var36"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var20", 1),
      (troop_get_slot, ":var34", "trp_items_array", 100),
      (store_random_in_range, ":var35", 101, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var21", 1),
      (troop_get_slot, ":var34", "trp_items_array", 125),
      (store_random_in_range, ":var35", 126, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var22", 1),
      (troop_get_slot, ":var34", "trp_items_array", 150),
      (store_random_in_range, ":var35", 151, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var23", 1),
      (troop_get_slot, ":var34", "trp_items_array", 175),
      (store_random_in_range, ":var35", 176, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var24", 1),
      (troop_get_slot, ":var34", "trp_items_array", 200),
      (store_random_in_range, ":var35", 201, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var25", 1),
      (troop_get_slot, ":var34", "trp_items_array", 225),
      (store_random_in_range, ":var35", 256, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var26", 1),
      (troop_get_slot, ":var34", "trp_items_array", 250),
      (store_random_in_range, ":var35", 251, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var27", 1),
      (troop_get_slot, ":var34", "trp_items_array", 275),
      (store_random_in_range, ":var35", 276, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var28", 1),
      (troop_get_slot, ":var34", "trp_items_array", 300),
      (store_random_in_range, ":var35", 301, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (eq, ":var29", 1),
      (troop_get_slot, ":var34", "trp_items_array", 325),
      (store_random_in_range, ":var35", 326, ":var34"),
      (troop_get_slot, ":var36", "trp_items_array", ":var35"),
      (neq, ":var36", "itm_no_item"),
      (troop_add_item, ":var0", ":var36"),
    (try_end),
    (try_begin),
      (neq, "trp_player", ":var0"),
      (troop_equip_items, ":var0"),
      (troop_clear_inventory, ":var0"),
      (troop_set_auto_equip, ":var0", 0),
    (try_end),
  ]),

  ("set_troop_culture",
  [
    (try_for_range, ":var0", 191, 635),
      (try_begin),
        (is_between, ":var0", 191, 206),
        (troop_set_slot, ":var0", 160, "fac_culture_finnish"),
      (else_try),
        (is_between, ":var0", 206, 223),
        (troop_set_slot, ":var0", 160, "fac_culture_mazovian"),
      (else_try),
        (is_between, ":var0", 223, 240),
        (troop_set_slot, ":var0", 160, "fac_culture_serbian"),
      (else_try),
        (is_between, ":var0", 240, 250),
        (troop_set_slot, ":var0", 160, "fac_culture_welsh"),
      (else_try),
        (is_between, ":var0", 250, 271),
        (troop_set_slot, ":var0", 160, "fac_culture_teutonic"),
      (else_try),
        (is_between, ":var0", 271, 290),
        (troop_set_slot, ":var0", 160, "fac_culture_balkan"),
      (else_try),
        (is_between, ":var0", 290, 305),
        (troop_set_slot, ":var0", 160, "fac_culture_rus"),
      (else_try),
        (is_between, ":var0", 305, 323),
        (troop_set_slot, ":var0", 160, "fac_culture_nordic"),
      (else_try),
        (is_between, ":var0", 323, 342),
        (troop_set_slot, ":var0", 160, "fac_culture_baltic"),
      (else_try),
        (is_between, ":var0", 342, 359),
        (troop_set_slot, ":var0", 160, "fac_culture_marinid"),
      (else_try),
        (is_between, ":var0", 359, 388),
        (troop_set_slot, ":var0", 160, "fac_culture_mamluke"),
      (else_try),
        (is_between, ":var0", 388, 404),
        (troop_set_slot, ":var0", 160, "fac_culture_byzantium"),
      (else_try),
        (is_between, ":var0", 405, 423),
        (troop_set_slot, ":var0", 160, "fac_culture_iberian"),
      (else_try),
        (is_between, ":var0", 423, 442),
        (troop_set_slot, ":var0", 160, "fac_culture_italian"),
      (else_try),
        (is_between, ":var0", 442, 462),
        (troop_set_slot, ":var0", 160, "fac_culture_andalus"),
      (else_try),
        (is_between, ":var0", 462, 475),
        (troop_set_slot, ":var0", 160, "fac_culture_gaelic"),
      (else_try),
        (is_between, ":var0", 487, 501),
        (troop_set_slot, ":var0", 160, "fac_culture_anatolian"),
      (else_try),
        (is_between, ":var0", 475, 487),
        (troop_set_slot, ":var0", 160, "fac_culture_anatolian_christian"),
      (else_try),
        (is_between, ":var0", 501, 513),
        (troop_set_slot, ":var0", 160, "fac_culture_scotish"),
      (else_try),
        (is_between, ":var0", 513, 530),
        (troop_set_slot, ":var0", 160, "fac_culture_western"),
      (else_try),
        (is_between, ":var0", "trp_cstm_custom_troop_1_tier_0_0_0", "trp_cstm_custom_troops_end"),
        (troop_set_slot, ":var0", 160, "fac_culture_player"),
      (else_try),
        (is_between, ":var0", 530, 537),
        (troop_set_slot, ":var0", 160, "fac_culture_mongol"),
      (else_try),
        (is_between, ":var0", 537, 552),
        (troop_set_slot, ":var0", 160, "fac_culture_templar"),
      (else_try),
        (is_between, ":var0", 552, 567),
        (troop_set_slot, ":var0", 160, "fac_culture_hospitaller"),
      (else_try),
        (is_between, ":var0", 567, 584),
        (troop_set_slot, ":var0", 160, "fac_culture_antioch"),
      (else_try),
        (is_between, ":var0", 584, 601),
        (troop_set_slot, ":var0", 160, "fac_culture_antioch"),
      (else_try),
        (is_between, ":var0", 601, 618),
        (troop_set_slot, ":var0", 160, "fac_culture_ibelin"),
      (else_try),
        (is_between, ":var0", 618, 635),
        (troop_set_slot, ":var0", 160, "fac_culture_jerusalem"),
      (else_try),
        (is_between, ":var0", 148, 155),
        (troop_set_slot, ":var0", 160, "fac_culture_cuman"),
      (else_try),
        (is_between, ":var0", 659, 673),
        (troop_set_slot, ":var0", 160, "fac_culture_english"),
      (else_try),
        (is_between, ":var0", 673, 688),
        (troop_set_slot, ":var0", 160, "fac_culture_french"),
      (else_try),
        (is_between, ":var0", 688, 703),
        (troop_set_slot, ":var0", 160, "fac_culture_hungarian"),
      (else_try),
        (is_between, ":var0", 703, 717),
        (troop_set_slot, ":var0", 160, "fac_culture_polish"),
      (try_end),
    (try_end),
  ]),

  ("troop_find_culture",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (faction_get_slot, ":var2", ":var1", 41),
    (faction_get_slot, ":var3", ":var1", 100),
    (faction_get_slot, ":var4", ":var1", 101),
    (assign, reg0, -1),
    (assign, reg10, -1),
    (try_begin),
      (call_script, "script_troop_tree_search", ":var0", ":var4"),
      (eq, reg10, ":var0"),
      (assign, reg0, 2),
    (else_try),
      (call_script, "script_troop_tree_search", ":var0", ":var3"),
      (eq, reg10, ":var0"),
      (assign, reg0, 1),
    (else_try),
      (call_script, "script_troop_tree_search", ":var0", ":var2"),
      (eq, reg10, ":var0"),
      (assign, reg0, 0),
    (try_end),
  ]),

  ("troop_tree_search",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_upgrade_troop, ":var2", ":var1", 0),
    (troop_get_upgrade_troop, ":var3", ":var1", 1),
    (try_begin),
      (eq, ":var1", ":var0"),
      (assign, reg10, ":var0"),
    (else_try),
      (gt, ":var2", 0),
      (call_script, "script_troop_tree_search", ":var0", ":var2"),
      (eq, reg10, ":var0"),
    (else_try),
      (gt, ":var3", 0),
      (call_script, "script_troop_tree_search", ":var0", ":var3"),
    (try_end),
  ]),

  ("init_tournament_participents",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (troop_set_slot, "trp_tournament_participants", 0, "trp_player"),
      (assign, ":var1", 1),
      (party_collect_attachments_to_party, ":var0", "p_temp_party"),
      (party_get_num_companion_stacks, ":var2", "p_temp_party"),
      (try_for_range, ":var3", 0, ":var2"),
        (party_stack_get_troop_id, ":var4", "p_temp_party", ":var3"),
        (troop_is_hero, ":var4"),
        (troop_set_slot, "trp_tournament_participants", ":var1", ":var4"),
        (val_add, ":var1", 1),
      (try_end),
      (try_for_range, ":var4", "trp_Xerina", "trp_tutorial_trainer"),
        (store_random_in_range, ":var5", 0, 100),
        (lt, ":var5", 80),
        (troop_set_slot, "trp_tournament_participants", ":var1", ":var4"),
        (val_add, ":var1", 1),
      (try_end),
      (party_get_num_companion_stacks, ":var2", "p_main_party"),
      (try_for_range, ":var3", 0, ":var2"),
        (eq, "$freelancer_state", 0),
        (eq, "$tournament_type", 0),
        (party_stack_get_troop_id, ":var4", "p_main_party", ":var3"),
        (is_between, ":var4", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_set_slot, "trp_tournament_participants", ":var1", ":var4"),
        (val_add, ":var1", 1),
      (try_end),
      (assign, ":var6", ":var1"),
      (try_for_range, ":var1", ":var6", 64),
        (party_get_slot, ":var7", ":var0", 19),
        (faction_get_slot, ":var8", ":var7", 101),
        (call_script, "script_choose_random_troop_for_lance", ":var8", 4),
        (troop_set_slot, "trp_tournament_participants", ":var1", reg1),
      (try_end),
    (try_end),
    (assign, ":var9", 1),
    (try_begin),
      (eq, "$tournament_type", 1),
      (try_for_range, reg0, 0, 9),
        (troop_get_slot, ":var10", "trp_tournament_participants", reg0),
        (store_mul, ":var11", reg0, 5),
        (store_add, ":var12", ":var11", 5),
        (troop_set_slot, "trp_temp_array_b", ":var11", ":var10"),
        (val_add, ":var11", 1),
        (try_begin),
          (eq, ":var10", "trp_player"),
          (party_get_num_companion_stacks, ":var2", "p_main_party"),
          (gt, ":var2", 0),
          (try_for_range, ":var3", 1, ":var2"),
            (party_stack_get_troop_id, ":var4", "p_main_party", ":var3"),
            (try_begin),
              (is_between, ":var4", "trp_npc1", "trp_kingdom_1_lord"),
              (lt, ":var9", 5),
              (troop_set_slot, "trp_temp_array_b", ":var9", ":var4"),
              (val_add, ":var9", 1),
            (try_end),
          (try_end),
          (try_begin),
            (lt, ":var9", 5),
            (try_for_range, ":var13", ":var9", 5),
              (troop_set_slot, "trp_temp_array_b", ":var13", -1),
            (try_end),
          (try_end),
        (else_try),
          (try_for_range, ":var14", ":var11", ":var12"),
            (party_get_slot, ":var7", ":var0", 19),
            (faction_get_slot, ":var8", ":var7", 101),
            (call_script, "script_choose_random_troop_for_lance", ":var8", 4),
            (troop_set_slot, "trp_temp_array_b", ":var14", reg1),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (try_for_range, ":var14", 0, 10),
      (troop_set_slot, "trp_temp_array_c", ":var14", 0),
    (try_end),
  ]),

  ("end_tournament_fight_new",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", "trp_temp_array_c", 0),
    (troop_get_slot, ":var2", "trp_temp_array_c", "$current_opponent"),
    (try_begin),
      (eq, ":var0", 1),
      (val_add, ":var1", 1),
      (assign, "$g_tournament_player_team_won", 1),
    (else_try),
      (val_add, ":var2", 1),
      (assign, "$g_tournament_player_team_won", 0),
    (try_end),
    (troop_set_slot, "trp_temp_array_c", 0, ":var1"),
    (troop_set_slot, "trp_temp_array_c", "$current_opponent", ":var2"),
    (jump_to_menu, "mnu_town_tournament_new"),
  ]),

  ("simulate_next_battle",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (eq, ":var0", 1),
      (call_script, "script_simulate_next_battle_auxiliary", 3, 4, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 5, 6, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 7, 8, 0),
    (else_try),
      (eq, ":var0", 2),
      (call_script, "script_simulate_next_battle_auxiliary", 2, 4, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 7, 5, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 6, 8, 0),
    (else_try),
      (eq, ":var0", 3),
      (call_script, "script_simulate_next_battle_auxiliary", 2, 3, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 5, 8, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 7, 6, 0),
    (else_try),
      (eq, ":var0", 4),
      (call_script, "script_simulate_next_battle_auxiliary", 2, 6, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 3, 7, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 4, 8, 0),
    (else_try),
      (eq, ":var0", 5),
      (call_script, "script_simulate_next_battle_auxiliary", 2, 5, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 3, 8, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 4, 7, 0),
    (else_try),
      (eq, ":var0", 6),
      (call_script, "script_simulate_next_battle_auxiliary", 2, 8, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 3, 5, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 4, 6, 0),
    (else_try),
      (eq, ":var0", 7),
      (call_script, "script_simulate_next_battle_auxiliary", 2, 7, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 3, 6, 0),
      (call_script, "script_simulate_next_battle_auxiliary", 4, 5, 0),
    (try_end),
  ]),

  ("simulate_next_battle_auxiliary",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (eq, ":var2", 0),
      (val_sub, ":var0", 1),
      (val_sub, ":var1", 1),
    (try_end),
    (store_random_in_range, ":var3", 1, 101),
    (troop_get_slot, ":var4", "trp_temp_array_c", ":var0"),
    (troop_get_slot, ":var5", "trp_temp_array_c", ":var1"),
    (try_begin),
      (le, ":var3", 50),
      (val_add, ":var4", 1),
    (else_try),
      (val_add, ":var5", 1),
    (try_end),
    (troop_set_slot, "trp_temp_array_c", ":var0", ":var4"),
    (troop_set_slot, "trp_temp_array_c", ":var1", ":var5"),
  ]),

  ("get_and_remove_member",
  [
    (store_script_param, ":var0", 1),
    (assign, reg1, -1),
    (party_get_num_companion_stacks, ":var1", ":var0"),
    (try_begin),
      (gt, ":var1", 0),
      (party_stack_get_troop_id, ":var2", ":var0", 0),
      (assign, reg1, ":var2"),
      (party_remove_members, ":var0", ":var2", 1),
    (try_end),
  ]),

  ("set_matching_sexy_boots",
  [
    (store_script_param, ":var0", 1),
    (agent_get_item_slot, ":var1", ":var0", 5),
    (agent_get_item_slot, ":var2", ":var0", 6),
    (agent_get_item_slot, ":var3", ":var0", 4),
    (agent_get_item_slot, ":var4", ":var0", 7),
    (try_begin),
      (is_between, ":var3", "itm_kufia_berber_black", "itm_legs_african"),
      (try_begin),
        (le, ":var2", 0),
        (agent_equip_item, ":var0", "itm_legs_african"),
        (assign, ":var2", "itm_legs_african"),
      (try_end),
      (try_begin),
        (le, ":var4", 0),
        (agent_equip_item, ":var0", "itm_hands_african"),
        (assign, ":var4", "itm_hands_african"),
      (try_end),
    (else_try),
      (try_begin),
        (eq, ":var4", "itm_hands_african"),
        (agent_unequip_item, ":var0", "itm_hands_african"),
        (assign, ":var4", 0),
      (else_try),
        (eq, ":var2", "itm_legs_african"),
        (agent_unequip_item, ":var0", "itm_legs_african"),
        (assign, ":var2", 0),
      (try_end),
    (try_end),
    (try_begin),
      (le, ":var2", 0),
      (neg|is_between, ":var1", "itm_red_dress", "itm_nomad_armor"),
      (neg|is_between, ":var1", "itm_berber_robe_a", 742),
      (neg|is_between, ":var1", "itm_meghrebi_leather_a", 747),
      (agent_equip_item, ":var0", "itm_bare_legs"),
    (else_try),
      (this_or_next|is_between, ":var1", "itm_red_dress", "itm_nomad_armor"),
      (this_or_next|is_between, ":var1", "itm_berber_robe_a", 742),
      (this_or_next|is_between, ":var1", "itm_meghrebi_leather_a", 747),
      (this_or_next|is_between, ":var1", "itm_kau_castile_a", "itm_teu_brother_surcoat_e"),
      (this_or_next|is_between, ":var1", "itm_templar_sarjeant_surcoat", "itm_hirdman_a"),
      (this_or_next|is_between, ":var1", "itm_sarranid_cloth_robe", "itm_skirmisher_armor"),
      (this_or_next|eq, ":var1", "itm_teu_postulant_a"),
      (this_or_next|eq, ":var1", "itm_teu_coat_of_plates"),
      (is_between, ":var1", "itm_veteran_surcoat_a", "itm_kau_aragon_knight"),
      (neq, ":var1", "itm_kau_aragon_knight"),
      (neq, ":var1", "itm_surcoat_lithuania_a"),
      (neq, ":var1", "itm_surcoat_lithuania_b"),
      (neq, ":var1", "itm_surcoat_novgorod"),
      (neq, ":var1", "itm_surcoat_gslask"),
      (neq, ":var1", "itm_surcoat_pol_b"),
      (neq, ":var1", "itm_teu_hochmeister_surcoat"),
      (neq, ":var1", "itm_teu_hbrother_mail"),
      (neq, ":var1", "itm_templar_mail_a"),
      (neq, ":var1", "itm_templar_gambeson_a"),
      (neq, ":var1", "itm_hospitaller_gambeson_a"),
      (this_or_next|eq, ":var2", "itm_sarranid_boots_a_long"),
      (this_or_next|eq, ":var2", "itm_sarranid_boots_b_long"),
      (this_or_next|eq, ":var2", "itm_sarranid_boots_d_long"),
      (this_or_next|eq, ":var2", "itm_byz_lord_boots_long"),
      (this_or_next|eq, ":var2", "itm_cuman_boots"),
      (this_or_next|eq, ":var2", "itm_mail_boots_long"),
      (this_or_next|eq, ":var2", "itm_legs_with_shoes"),
      (this_or_next|eq, ":var2", "itm_rus_boots_a"),
      (this_or_next|eq, ":var2", "itm_blue_hose"),
      (eq, ":var2", "itm_kau_mail_boots_dark_long"),
      (val_sub, ":var2", 1),
      (agent_equip_item, ":var0", ":var2"),
    (else_try),
      (this_or_next|eq, ":var2", "itm_mamluke_boots"),
      (this_or_next|eq, ":var2", "itm_berber_shoes"),
      (eq, ":var2", "itm_rus_cav_boots"),
      (val_add, ":var2", 1),
      (agent_equip_item, ":var0", ":var2"),
    (try_end),
  ]),

  ("set_prsnt_debug",
  [
    (position_set_x, pos1, 50),
    (position_set_y, pos1, 50),
    (create_text_overlay, reg0, "@50----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 100),
    (create_text_overlay, reg0, "@100----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 200),
    (create_text_overlay, reg0, "@200----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 300),
    (create_text_overlay, reg0, "@300----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 400),
    (create_text_overlay, reg0, "@400----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 500),
    (create_text_overlay, reg0, "@500----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 600),
    (create_text_overlay, reg0, "@600----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 660),
    (create_text_overlay, reg0, "@660----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 700),
    (create_text_overlay, reg0, "@700----------------------------------------------------------------------------------------------------------------------------------------------------------------", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_y, pos1, 720),
    (position_set_x, pos1, 50),
    (create_text_overlay, reg0, "@050+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 100),
    (create_text_overlay, reg0, "@100+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 150),
    (create_text_overlay, reg0, "@150+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 200),
    (create_text_overlay, reg0, "@200+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 250),
    (create_text_overlay, reg0, "@250+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 300),
    (create_text_overlay, reg0, "@300+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 350),
    (create_text_overlay, reg0, "@350+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 400),
    (create_text_overlay, reg0, "@400+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 450),
    (create_text_overlay, reg0, "@450+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 500),
    (create_text_overlay, reg0, "@500+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 550),
    (create_text_overlay, reg0, "@550+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 600),
    (create_text_overlay, reg0, "@600+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 650),
    (create_text_overlay, reg0, "@650+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 700),
    (create_text_overlay, reg0, "@700+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 750),
    (create_text_overlay, reg0, "@750+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 800),
    (create_text_overlay, reg0, "@800+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 850),
    (create_text_overlay, reg0, "@850+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
    (position_set_x, pos1, 900),
    (create_text_overlay, reg0, "@900+", tf_vertical_align_center),
    (overlay_set_position, reg0, pos1),
  ]),

  ("economy_get_buildings",
  [
    (party_get_slot, ":var0", "$g_encountered_party", 208),
    (party_get_slot, ":var1", "$g_encountered_party", 205),
    (party_get_slot, ":var2", "$g_encountered_party", 206),
    (party_get_slot, ":var3", "$g_encountered_party", 207),
    (party_get_slot, ":var4", "$g_encountered_party", 209),
    (party_get_slot, ":var5", "$g_encountered_party", 210),
    (party_get_slot, ":var6", "$g_encountered_party", 211),
    (party_get_slot, ":var7", "$g_encountered_party", 212),
    (party_get_slot, ":var8", "$g_encountered_party", 213),
    (party_get_slot, ":var9", "$g_encountered_party", 214),
    (party_get_slot, ":var10", "$g_encountered_party", 215),
    (party_get_slot, ":var11", "$g_encountered_party", 216),
    (party_get_slot, ":var12", "$g_encountered_party", 217),
    (party_get_slot, ":var13", "$g_encountered_party", 218),
    (party_get_slot, ":var14", "$g_encountered_party", 219),
    (party_get_slot, ":var15", "$g_encountered_party", 220),
    (party_get_slot, ":var16", "$g_encountered_party", 232),
    (party_get_slot, ":var17", "$g_encountered_party", 221),
    (party_get_slot, ":var18", "$g_encountered_party", 222),
    (party_get_slot, ":var19", "$g_encountered_party", 223),
    (party_get_slot, ":var20", "$g_encountered_party", 224),
    (party_get_slot, ":var21", "$g_encountered_party", 225),
    (party_get_slot, ":var22", "$g_encountered_party", 226),
    (party_get_slot, ":var23", "$g_encountered_party", 227),
    (party_get_slot, ":var24", "$g_encountered_party", 228),
    (party_get_slot, ":var25", "$g_encountered_party", 229),
    (party_get_slot, ":var26", "$g_encountered_party", 230),
    (party_get_slot, ":var27", "$g_encountered_party", 231),
    (assign, reg1, ":var1"),
    (assign, reg2, ":var2"),
    (assign, reg3, ":var3"),
    (assign, reg4, ":var4"),
    (assign, reg5, ":var5"),
    (assign, reg6, ":var6"),
    (assign, reg7, ":var7"),
    (assign, reg8, ":var8"),
    (assign, reg9, ":var9"),
    (assign, reg10, ":var10"),
    (assign, reg11, ":var11"),
    (assign, reg12, ":var12"),
    (assign, reg13, ":var13"),
    (assign, reg14, ":var14"),
    (assign, reg15, ":var15"),
    (assign, reg16, ":var16"),
    (assign, reg17, ":var17"),
    (assign, reg18, ":var18"),
    (assign, reg19, ":var19"),
    (assign, reg20, ":var20"),
    (assign, reg21, ":var21"),
    (assign, reg22, ":var22"),
    (assign, reg23, ":var23"),
    (assign, reg24, ":var24"),
    (assign, reg25, ":var25"),
    (assign, reg26, ":var26"),
    (assign, reg27, ":var27"),
    (assign, reg0, 1000),
    (str_store_string, s1, "@Cattle farms({reg1})   {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s2, "@Sheep farms({reg2})    {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s3, "@Horse stables({reg3})  {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s4, "@Grain farms({reg4})    {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s5, "@Olive farms({reg5})    {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s6, "@Vineyard farms({reg6}) {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s7, "@Flax farms({reg7})     {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s8, "@Date farms({reg8})     {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s9, "@Fishing fleets({reg9}) {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s10, "@Salt pans({reg10})     {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s11, "@Apiaries({reg11})      {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s12, "@Silk farms({reg12})    {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s13, "@Kirmz famrs({reg13})   {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s14, "@Iron deposits({reg14}) {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s15, "@Fur traps({reg15})     {reg0}"),
    (assign, reg0, 1000),
    (str_store_string, s16, "@Gabbage farms({reg16}) {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s17, "@Mills({reg17})         {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s18, "@Breweries({reg18})     {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s19, "@Wineries({reg19})      {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s20, "@Olive presses({reg20}) {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s21, "@Linen looms({reg21})   {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s22, "@Silk looms({reg22})    {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s23, "@Wool looms({reg23})    {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s24, "@Pottery kilns({reg24}) {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s25, "@Smithies({reg25})      {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s26, "@Tanneries({reg26})     {reg0}"),
    (assign, reg0, 2000),
    (str_store_string, s27, "@Shipyards({reg27})     {reg0}"),
  ]),

  ("script_check_pope_crown",
  [
  ]),

  ("add_item_to_pool",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var1", 0),
    (val_add, ":var2", 1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 1, ":var2"),
      (troop_get_slot, ":var5", ":var1", ":var4"),
      (eq, ":var5", ":var0"),
      (assign, ":var3", 1),
    (try_end),
    (try_begin),
      (eq, ":var3", 0),
      (troop_set_slot, ":var1", ":var2", ":var0"),
      (troop_set_slot, ":var1", 0, ":var2"),
    (try_end),
  ]),

  ("cf_add_item_to_pool",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var1", 0),
    (val_add, ":var2", 1),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 1, ":var2"),
      (troop_get_slot, ":var5", ":var1", ":var4"),
      (eq, ":var5", ":var0"),
      (assign, ":var3", 1),
    (try_end),
    (eq, ":var3", 0),
    (troop_set_slot, ":var1", ":var2", ":var0"),
    (troop_set_slot, ":var1", 0, ":var2"),
  ]),

  ("extract_armor_from_tree",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (gt, ":var0", 0),
      (troop_get_inventory_capacity, ":var2", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (troop_get_inventory_slot, ":var4", ":var0", ":var3"),
        (gt, ":var4", 0),
        (item_get_type, ":var5", ":var4"),
        (try_begin),
          (this_or_next|eq, ":var5", 12),
          (eq, ":var5", 13),
          (call_script, "script_cf_add_item_to_pool", ":var4", ":var1"),
        (try_end),
      (try_end),
      (troop_get_upgrade_troop, ":var6", ":var0", 0),
      (troop_get_upgrade_troop, ":var7", ":var0", 1),
      (try_begin),
        (gt, ":var6", 0),
        (neq, ":var6", "trp_teu_balt_1"),
        (call_script, "script_extract_armor_from_tree", ":var6", ":var1"),
      (try_end),
      (try_begin),
        (gt, ":var7", 0),
        (neq, ":var7", "trp_teu_balt_1"),
        (call_script, "script_extract_armor_from_tree", ":var7", ":var1"),
      (try_end),
    (try_end),
  ]),

  ("fill_pools_by_culture",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (faction_get_slot, ":var3", ":var0", 41),
    (faction_get_slot, ":var4", ":var0", 100),
    (faction_get_slot, ":var5", ":var0", 101),
    (call_script, "script_extract_armor_from_tree", ":var3", ":var1"),
    (call_script, "script_extract_armor_from_tree", ":var4", ":var1"),
    (call_script, "script_extract_armor_from_tree", ":var5", ":var2"),
  ]),

  ("initialize_culture_pools",
  [
    (try_for_range, ":var0", "fac_culture_finnish", "fac_player_faction"),
      (store_sub, ":var1", ":var0", "fac_culture_finnish"),
      (store_add, ":var2", "trp_pool_commoner_finnish", ":var1"),
      (store_add, ":var3", "trp_pool_noble_finnish", ":var1"),
      (neq, ":var0", "fac_culture_scotish"),
      (call_script, "script_fill_pools_by_culture", ":var0", ":var2", ":var3"),
    (try_end),
    (call_script, "script_extract_armor_from_tree", "trp_teu_balt_1", "trp_pool_teutonic_auxiliary"),
    (call_script, "script_extract_armor_from_tree", "trp_scottish_village_recruit", "trp_pool_commoner_scotish"),
    (call_script, "script_add_item_to_pool", "itm_new_turban_a", "trp_pool_commoner_marinid"),
    (call_script, "script_add_item_to_pool", "itm_new_turban_a", "trp_pool_noble_marinid"),
    (call_script, "script_add_item_to_pool", "itm_new_turban_b", "trp_pool_commoner_marinid"),
    (call_script, "script_add_item_to_pool", "itm_new_turban_b", "trp_pool_noble_marinid"),
    (call_script, "script_add_item_to_pool", "itm_megreb_spangen", "trp_pool_commoner_marinid"),
    (call_script, "script_add_item_to_pool", "itm_megreb_spangen", "trp_pool_noble_marinid"),
    (call_script, "script_add_item_to_pool", "itm_berber_white_turban", "trp_pool_commoner_marinid"),
    (call_script, "script_add_item_to_pool", "itm_berber_white_turban", "trp_pool_noble_marinid"),
    (call_script, "script_add_item_to_pool", "itm_teu_monk_surcoat_a", "trp_pool_noble_teutonic"),
    (call_script, "script_add_item_to_pool", "itm_teu_gambeson", "trp_pool_noble_teutonic"),
    (call_script, "script_add_item_to_pool", "itm_liv_sergeant", "trp_pool_noble_teutonic"),
    (call_script, "script_add_item_to_pool", "itm_teu_sergeant", "trp_pool_noble_teutonic"),
    (call_script, "script_add_item_to_pool", "itm_teu_hbrother_mail", "trp_pool_noble_teutonic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_euro_spearman", "trp_pool_commoner_western"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_euro_guisarmer", "trp_pool_commoner_western"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_euro_range", "trp_pool_commoner_western"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_euro_horse", "trp_pool_commoner_western"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_balt_spearman", "trp_pool_commoner_baltic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_balt_guisarmer", "trp_pool_commoner_baltic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_balt_range", "trp_pool_commoner_baltic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_balt_horse", "trp_pool_commoner_baltic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_mamluke_spearman", "trp_pool_commoner_mamluke"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_mamluke_javalin", "trp_pool_commoner_mamluke"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_mamluke_range", "trp_pool_commoner_mamluke"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_mamluke_syrian", "trp_pool_commoner_mamluke"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_maghreb_spearman", "trp_pool_commoner_marinid"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_maghreb_range", "trp_pool_commoner_marinid"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_maghreb_horse", "trp_pool_commoner_marinid"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_rus_spearman", "trp_pool_commoner_rus"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_rus_guisarmer", "trp_pool_commoner_rus"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_rus_range", "trp_pool_commoner_rus"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_rus_horse", "trp_pool_commoner_rus"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_latin_spearman", "trp_pool_commoner_iberian"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_latin_guisarmer", "trp_pool_commoner_iberian"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_latin_range", "trp_pool_commoner_iberian"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_latin_horse", "trp_pool_commoner_iberian"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_latin_light", "trp_pool_commoner_iberian"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_balkan_spearman", "trp_pool_commoner_balkan"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_balkan_guisarmer", "trp_pool_commoner_balkan"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_balkan_range", "trp_pool_commoner_balkan"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_balkan_horse", "trp_pool_commoner_balkan"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_scan_spearman", "trp_pool_commoner_nordic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_scan_guisarmer", "trp_pool_commoner_nordic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_scan_range", "trp_pool_commoner_nordic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_scan_horse", "trp_pool_commoner_nordic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_gaelic_spearman", "trp_pool_commoner_gaelic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_gaelic_axeman", "trp_pool_commoner_gaelic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_veteran_gaelic_spearman", "trp_pool_commoner_gaelic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_veteran_gaelic_axeman", "trp_pool_commoner_gaelic"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_brabantine_spearman", "trp_pool_commoner_western"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_brabantine_xbow", "trp_pool_commoner_western"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_brabantine_guisarm", "trp_pool_commoner_western"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_sicily_foot_archer_1", "trp_pool_sicily_muslims"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_sicily_foot_archer_2", "trp_pool_sicily_muslims"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_sicily_infantry_1", "trp_pool_sicily_muslims"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_sicily_infantry_2", "trp_pool_sicily_muslims"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_sicily_horse_archer_1", "trp_pool_sicily_muslims"),
    (call_script, "script_extract_armor_from_tree", "trp_merc_sicily_horse_archer_2", "trp_pool_sicily_muslims"),
    (call_script, "script_extract_armor_from_tree", "trp_cuman_tribesman", "trp_pool_cuman"),
    (call_script, "script_extract_armor_from_tree", "trp_cuman_horseman", "trp_pool_cuman"),
    (call_script, "script_extract_armor_from_tree", "trp_goergian_horse_archer", "trp_pool_georgian"),
    (call_script, "script_extract_armor_from_tree", "trp_kwarezmian_range", "trp_pool_kwarezmian"),
    (call_script, "script_extract_armor_from_tree", "trp_kwarezmian_light_horse", "trp_pool_kwarezmian"),
    (call_script, "script_extract_armor_from_tree", "trp_kwarezmian_medium_horse", "trp_pool_kwarezmian"),
    (call_script, "script_extract_armor_from_tree", "trp_mordovian_foot", "trp_pool_mordovian"),
    (call_script, "script_extract_armor_from_tree", "trp_mordovian_range", "trp_pool_mordovian"),
    (call_script, "script_extract_armor_from_tree", "trp_mordovian_horse", "trp_pool_mordovian"),
    (call_script, "script_extract_armor_from_tree", "trp_kipchak_range", "trp_pool_kipchak"),
    (call_script, "script_extract_armor_from_tree", "trp_kipchak_light_horse", "trp_pool_kipchak"),
    (call_script, "script_extract_armor_from_tree", "trp_kipchak_medium_horse", "trp_pool_kipchak"),
    (display_message, "@Cultural troop pools initalized"),
  ]),

  ("cf_add_troop_items_armor",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (troop_get_slot, ":var4", ":var1", 0),
    (val_add, ":var4", 1),
    (assign, ":var5", 0),
    (str_store_troop_name, s1, ":var0"),
    (str_store_troop_name, s0, ":var1"),
    (assign, reg0, ":var4"),
    (try_for_range, ":var6", 1, ":var4"),
      (troop_get_slot, ":var7", ":var1", ":var6"),
      (item_get_type, ":var8", ":var7"),
      (item_get_slot, ":var9", ":var7", 80),
      (assign, ":var10", -1),
      (try_begin),
        (eq, ":var8", 13),
        (ge, ":var9", ":var2"),
        (le, ":var9", ":var3"),
        (assign, ":var10", ":var7"),
      (try_end),
      (gt, ":var10", 0),
      (troop_add_item, ":var0", ":var10"),
      (val_add, ":var5", 1),
    (try_end),
    (assign, reg0, ":var5"),
    (gt, ":var5", 0),
  ]),

  ("cf_add_troop_items_helmet",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (troop_get_slot, ":var4", ":var1", 0),
    (val_add, ":var4", 1),
    (assign, ":var5", 0),
    (str_store_troop_name, s1, ":var0"),
    (str_store_troop_name, s0, ":var1"),
    (assign, reg0, ":var4"),
    (try_for_range, ":var6", 1, ":var4"),
      (troop_get_slot, ":var7", ":var1", ":var6"),
      (item_get_type, ":var8", ":var7"),
      (item_get_slot, ":var9", ":var7", 79),
      (assign, ":var10", -1),
      (try_begin),
        (eq, ":var8", 12),
        (ge, ":var9", ":var2"),
        (le, ":var9", ":var3"),
        (assign, ":var10", ":var7"),
      (try_end),
      (gt, ":var10", 0),
      (troop_add_item, ":var0", ":var10"),
      (val_add, ":var5", 1),
    (try_end),
    (assign, reg0, ":var5"),
    (gt, ":var5", 0),
  ]),

  ("equip_troops_by_tier",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (this_or_next|eq, ":var0", "trp_welsh_horse_1"),
      (troop_is_guarantee_ranged, ":var0"),
      (val_sub, ":var2", 1),
    (else_try),
      (this_or_next|troop_is_guarantee_horse, ":var0"),
      (is_between, ":var0", "trp_balt_noble_recruit", "trp_marinid_village_rabble"),
      (neq, ":var0", "trp_tatar_tribesman"),
      (neq, ":var0", "trp_tatar_skirmisher"),
      (neq, ":var0", "trp_tatar_horse_archer"),
      (neq, ":var0", "trp_tatar_veteran_horse_archer"),
      (val_add, ":var2", 1),
    (try_end),
    (try_begin),
      (ge, ":var2", 5),
      (call_script, "script_cf_add_troop_items_armor", ":var0", ":var1", 51, 200),
      (gt, reg0, 2),
    (else_try),
      (ge, ":var2", 4),
      (call_script, "script_cf_add_troop_items_armor", ":var0", ":var1", 41, 200),
      (gt, reg0, 2),
    (else_try),
      (ge, ":var2", 3),
      (call_script, "script_cf_add_troop_items_armor", ":var0", ":var1", 26, 41),
      (gt, reg0, 2),
    (else_try),
      (ge, ":var2", 2),
      (call_script, "script_cf_add_troop_items_armor", ":var0", ":var1", 26, 33),
      (gt, reg0, 2),
    (else_try),
      (call_script, "script_cf_add_troop_items_armor", ":var0", ":var1", 0, 26),
    (try_end),
    (try_begin),
      (ge, ":var2", 5),
      (call_script, "script_cf_add_troop_items_helmet", ":var0", ":var1", 70, 200),
      (gt, reg0, 2),
    (else_try),
      (ge, ":var2", 4),
      (call_script, "script_cf_add_troop_items_helmet", ":var0", ":var1", 60, 70),
      (gt, reg0, 2),
    (else_try),
      (ge, ":var2", 3),
      (call_script, "script_cf_add_troop_items_helmet", ":var0", ":var1", 50, 60),
      (gt, reg0, 2),
    (else_try),
      (ge, ":var2", 2),
      (call_script, "script_cf_add_troop_items_helmet", ":var0", ":var1", 40, 50),
      (gt, reg0, 2),
    (else_try),
      (call_script, "script_cf_add_troop_items_helmet", ":var0", ":var1", 0, 40),
    (try_end),
  ]),

  ("rebalance_troop_trees",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (gt, ":var0", 0),
      (try_for_range, ":var3", "itm_tutorial_spear", "itm_items_end"),
        (item_get_type, ":var4", ":var3"),
        (this_or_next|eq, ":var4", 12),
        (eq, ":var4", 13),
        (troop_remove_item, ":var0", ":var3"),
      (try_end),
      (call_script, "script_equip_troops_by_tier", ":var0", ":var1", ":var2"),
      (troop_equip_items, ":var0"),
      (val_add, ":var2", 1),
      (troop_get_upgrade_troop, ":var5", ":var0", 0),
      (troop_get_upgrade_troop, ":var6", ":var0", 1),
      (try_begin),
        (gt, ":var5", 0),
        (neq, ":var5", "trp_teu_balt_1"),
        (call_script, "script_rebalance_troop_trees", ":var5", ":var1", ":var2"),
      (try_end),
      (try_begin),
        (gt, ":var6", 0),
        (neq, ":var6", "trp_teu_balt_1"),
        (call_script, "script_rebalance_troop_trees", ":var6", ":var1", ":var2"),
      (try_end),
    (try_end),
  ]),

  ("rebalance_troops_by_culture",
  [
    (try_for_range, ":var0", "fac_culture_finnish", "fac_player_faction"),
      (store_sub, ":var1", ":var0", "fac_culture_finnish"),
      (store_add, ":var2", "trp_pool_commoner_finnish", ":var1"),
      (store_add, ":var3", "trp_pool_noble_finnish", ":var1"),
      (neq, ":var0", "fac_culture_scotish"),
      (faction_get_slot, ":var4", ":var0", 41),
      (faction_get_slot, ":var5", ":var0", 100),
      (faction_get_slot, ":var6", ":var0", 101),
      (call_script, "script_rebalance_troop_trees", ":var4", ":var2", 1),
      (call_script, "script_rebalance_troop_trees", ":var5", ":var2", 1),
      (call_script, "script_rebalance_troop_trees", ":var6", ":var3", 1),
    (try_end),
    (call_script, "script_rebalance_troop_trees", "trp_teu_balt_1", "trp_pool_teutonic_auxiliary", 2),
    (call_script, "script_rebalance_troop_trees", "trp_scottish_village_recruit", "trp_pool_commoner_scotish", 1),
    (call_script, "script_rebalance_troop_trees", "trp_merc_euro_spearman", "trp_pool_commoner_western", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_euro_guisarmer", "trp_pool_commoner_western", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_euro_range", "trp_pool_commoner_western", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_euro_horse", "trp_pool_commoner_western", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_balt_spearman", "trp_pool_commoner_baltic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_balt_guisarmer", "trp_pool_commoner_baltic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_balt_range", "trp_pool_commoner_baltic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_balt_horse", "trp_pool_commoner_baltic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_mamluke_spearman", "trp_pool_commoner_mamluke", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_mamluke_javalin", "trp_pool_commoner_mamluke", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_mamluke_range", "trp_pool_commoner_mamluke", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_mamluke_syrian", "trp_pool_commoner_mamluke", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_maghreb_spearman", "trp_pool_commoner_marinid", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_maghreb_range", "trp_pool_commoner_marinid", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_maghreb_horse", "trp_pool_commoner_marinid", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_rus_spearman", "trp_pool_commoner_rus", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_rus_guisarmer", "trp_pool_commoner_rus", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_rus_range", "trp_pool_commoner_rus", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_rus_horse", "trp_pool_commoner_rus", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_latin_spearman", "trp_pool_commoner_iberian", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_latin_guisarmer", "trp_pool_commoner_iberian", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_latin_range", "trp_pool_commoner_iberian", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_latin_horse", "trp_pool_commoner_iberian", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_latin_light", "trp_pool_commoner_iberian", 2),
    (call_script, "script_rebalance_troop_trees", "trp_merc_balkan_spearman", "trp_pool_commoner_balkan", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_balkan_guisarmer", "trp_pool_commoner_balkan", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_balkan_range", "trp_pool_commoner_balkan", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_balkan_horse", "trp_pool_commoner_balkan", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_scan_spearman", "trp_pool_commoner_nordic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_scan_guisarmer", "trp_pool_commoner_nordic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_scan_range", "trp_pool_commoner_nordic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_scan_horse", "trp_pool_commoner_nordic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_gaelic_spearman", "trp_pool_commoner_gaelic", 2),
    (call_script, "script_rebalance_troop_trees", "trp_merc_gaelic_axeman", "trp_pool_commoner_gaelic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_veteran_gaelic_spearman", "trp_pool_commoner_gaelic", 2),
    (call_script, "script_rebalance_troop_trees", "trp_merc_veteran_gaelic_axeman", "trp_pool_commoner_gaelic", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_brabantine_spearman", "trp_pool_commoner_western", 4),
    (call_script, "script_rebalance_troop_trees", "trp_merc_brabantine_xbow", "trp_pool_commoner_western", 4),
    (call_script, "script_rebalance_troop_trees", "trp_merc_brabantine_guisarm", "trp_pool_commoner_western", 4),
    (call_script, "script_rebalance_troop_trees", "trp_merc_sicily_foot_archer_1", "trp_pool_sicily_muslims", 2),
    (call_script, "script_rebalance_troop_trees", "trp_merc_sicily_foot_archer_2", "trp_pool_sicily_muslims", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_sicily_infantry_1", "trp_pool_sicily_muslims", 2),
    (call_script, "script_rebalance_troop_trees", "trp_merc_sicily_infantry_2", "trp_pool_sicily_muslims", 3),
    (call_script, "script_rebalance_troop_trees", "trp_merc_sicily_horse_archer_1", "trp_pool_sicily_muslims", 2),
    (call_script, "script_rebalance_troop_trees", "trp_merc_sicily_horse_archer_2", "trp_pool_sicily_muslims", 3),
    (call_script, "script_rebalance_troop_trees", "trp_cuman_tribesman", "trp_pool_cuman", 1),
    (call_script, "script_rebalance_troop_trees", "trp_cuman_horseman", "trp_pool_cuman", 1),
    (call_script, "script_rebalance_troop_trees", "trp_goergian_horse_archer", "trp_pool_georgian", 2),
    (call_script, "script_rebalance_troop_trees", "trp_kwarezmian_range", "trp_pool_kwarezmian", 2),
    (call_script, "script_rebalance_troop_trees", "trp_kwarezmian_light_horse", "trp_pool_kwarezmian", 2),
    (call_script, "script_rebalance_troop_trees", "trp_kwarezmian_medium_horse", "trp_pool_kwarezmian", 3),
    (call_script, "script_rebalance_troop_trees", "trp_mordovian_foot", "trp_pool_mordovian", 2),
    (call_script, "script_rebalance_troop_trees", "trp_mordovian_range", "trp_pool_mordovian", 2),
    (call_script, "script_rebalance_troop_trees", "trp_mordovian_horse", "trp_pool_mordovian", 2),
    (call_script, "script_rebalance_troop_trees", "trp_kipchak_range", "trp_pool_kipchak", 2),
    (call_script, "script_rebalance_troop_trees", "trp_kipchak_light_horse", "trp_pool_kipchak", 2),
    (call_script, "script_rebalance_troop_trees", "trp_kipchak_medium_horse", "trp_pool_kipchak", 3),
    (display_message, "@Troop rebalanced"),
  ]),

  ("cstm_add_troop_tree_to_main_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (party_get_free_companions_capacity, ":var2", "p_main_party"),
      (gt, ":var2", 0),
      (party_add_members, "p_main_party", ":var0", ":var1"),
      (troop_get_upgrade_troop, ":var3", ":var0", 0),
      (troop_get_upgrade_troop, ":var4", ":var0", 1),
      (try_begin),
        (gt, ":var3", 0),
        (call_script, "script_cstm_add_troop_tree_to_main_party", ":var3", ":var1"),
      (try_end),
      (try_begin),
        (gt, ":var4", 0),
        (call_script, "script_cstm_add_troop_tree_to_main_party", ":var4", ":var1"),
      (try_end),
    (try_end),
  ]),

  ("cstm_troop_refresh_name",
  [
    (store_script_param, ":var0", 1),
    (str_store_troop_name, s0, "trp_cstm_custom_troops_end"),
    (troop_get_slot, ":var1", ":var0", 500),
    (str_store_troop_name, s1, ":var1"),
    (troop_set_name, ":var0", "@{s0} {s1}"),
    (troop_get_slot, ":var1", ":var0", 500),
    (str_store_troop_name_plural, s1, ":var1"),
    (troop_set_plural_name, ":var0", "@{s0} {s1}"),
  ]),

  ("cstm_print_attribute_to_s0",
  [
    (store_script_param, ":var0", 1),
    (store_add, ":var1", "str_cstm_ca_strength", ":var0"),
    (str_store_string, s0, ":var1"),
  ]),

  ("cstm_print_skill_to_s0",
  [
    (store_script_param, ":var0", 1),
    (store_add, ":var1", "str_cstm_skill_trade", ":var0"),
    (str_store_string, s0, ":var1"),
  ]),

  ("cstm_print_proficiency_to_s0",
  [
    (store_script_param, ":var0", 1),
    (store_add, ":var1", "str_cstm_wpt_one_handed_weapon", ":var0"),
    (str_store_string, s0, ":var1"),
  ]),

  ("cstm_troop_reset_stats",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", 0, 4),
      (store_attribute_level, ":var2", ":var0", ":var1"),
      (val_mul, ":var2", -1),
      (troop_raise_attribute, ":var0", ":var1", ":var2"),
    (try_end),
    (try_for_range, ":var3", 0, 42),
      (store_skill_level, ":var2", ":var3", ":var0"),
      (val_mul, ":var2", -1),
      (troop_raise_skill, ":var0", ":var3", ":var2"),
    (try_end),
    (try_for_range, ":var4", 0, 7),
      (troop_raise_proficiency_linear, ":var0", ":var4", -700),
    (try_end),
  ]),

  ("cstm_get_attribute_points",
  [
    (store_script_param, ":var0", 1),
    (store_character_level, ":var1", ":var0"),
    (val_add, ":var1", "$g_cstm_attribute_points_start"),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_get_attribute_points_spent",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_for_range, ":var2", 0, 4),
      (store_attribute_level, ":var3", ":var0", ":var2"),
      (val_add, ":var1", ":var3"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_get_attribute_points_available",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_cstm_get_attribute_points", ":var0"),
    (assign, ":var1", reg0),
    (call_script, "script_cstm_get_attribute_points_spent", ":var0"),
    (val_sub, ":var1", reg0),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_get_attribute_points_available_to_upgrade",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_get_attribute_points", ":var1"),
    (assign, ":var2", reg0),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 0, 4),
      (store_attribute_level, ":var5", ":var0", ":var4"),
      (store_attribute_level, ":var6", ":var1", ":var4"),
      (val_max, ":var6", ":var5"),
      (val_add, ":var3", ":var6"),
    (try_end),
    (store_sub, reg0, ":var2", ":var3"),
  ]),

  ("cstm_troop_get_attribute_min_from_points",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_type, ":var2", ":var0"),
    (try_begin),
      (troop_get_slot, ":var3", ":var0", 502),
      (gt, ":var3", 0),
      (store_attribute_level, ":var4", ":var3", ":var1"),
    (else_try),
      (eq, ":var1", 0),
      (assign, ":var4", 6),
      (try_begin),
        (neq, ":var2", 1),
        (val_add, ":var4", 1),
      (try_end),
    (else_try),
      (eq, ":var1", 1),
      (assign, ":var4", 6),
      (try_begin),
        (eq, ":var2", 1),
        (val_add, ":var4", 1),
      (try_end),
    (else_try),
      (eq, ":var1", 2),
      (assign, ":var4", 6),
    (else_try),
      (eq, ":var1", 3),
      (assign, ":var4", 5),
    (try_end),
    (assign, reg0, ":var4"),
  ]),

  ("cstm_troop_get_attribute_min_from_tree",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (call_script, "script_cstm_troop_get_attribute_min_from_points", ":var0", ":var2"),
    (assign, ":var3", reg0),
    (try_begin),
      (troop_get_upgrade_troop, ":var4", ":var1", 0),
      (gt, ":var4", 0),
      (call_script, "script_cstm_get_attribute_points", ":var4"),
      (assign, ":var5", reg0),
      (call_script, "script_cstm_get_attribute_points", ":var0"),
      (val_sub, ":var5", reg0),
      (val_max, ":var5", 0),
      (store_attribute_level, ":var6", ":var4", ":var2"),
      (val_sub, ":var6", ":var5"),
      (val_max, ":var3", ":var6"),
      (call_script, "script_cstm_troop_get_attribute_min_from_tree", ":var0", ":var4", ":var2"),
      (val_max, ":var3", reg0),
      (troop_get_upgrade_troop, ":var4", ":var1", 1),
      (gt, ":var4", 0),
      (call_script, "script_cstm_get_attribute_points", ":var4"),
      (assign, ":var5", reg0),
      (call_script, "script_cstm_get_attribute_points", ":var0"),
      (val_sub, ":var5", reg0),
      (val_max, ":var5", 0),
      (store_attribute_level, ":var6", ":var4", ":var2"),
      (val_sub, ":var6", ":var5"),
      (val_max, ":var3", ":var6"),
      (call_script, "script_cstm_troop_get_attribute_min_from_tree", ":var0", ":var4", ":var2"),
      (val_max, ":var3", reg0),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("cstm_troop_get_attribute_max_from_points",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_attribute_level, ":var2", ":var0", ":var1"),
    (call_script, "script_cstm_get_attribute_points_available", ":var0"),
    (val_add, ":var2", reg0),
    (assign, reg0, ":var2"),
  ]),

  ("cstm_troop_get_attribute_max_from_upgrade",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (troop_get_slot, ":var3", ":var0", 500),
    (store_attribute_level, ":var4", ":var3", ":var2"),
    (store_attribute_level, ":var5", ":var1", ":var2"),
    (val_max, ":var5", ":var4"),
    (call_script, "script_cstm_get_attribute_points_available_to_upgrade", ":var3", ":var1"),
    (val_add, reg0, ":var5"),
  ]),

  ("cstm_troop_get_attribute_max_from_tree",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_troop_get_attribute_max_from_points", ":var0", ":var1"),
    (assign, ":var2", reg0),
    (store_attribute_level, ":var3", ":var0", ":var1"),
    (val_max, ":var2", ":var3"),
    (try_begin),
      (troop_get_upgrade_troop, ":var4", ":var0", 0),
      (gt, ":var4", 0),
      (call_script, "script_cstm_troop_get_attribute_max_from_upgrade", ":var0", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (call_script, "script_cstm_troop_get_attribute_max_from_tree", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (troop_get_upgrade_troop, ":var4", ":var0", 1),
      (gt, ":var4", 0),
      (call_script, "script_cstm_troop_get_attribute_max_from_upgrade", ":var0", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (call_script, "script_cstm_troop_get_attribute_max_from_tree", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cstm_dummy_set_attribute",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_attribute_level, ":var3", ":var0", ":var1"),
    (store_sub, ":var4", ":var2", ":var3"),
    (troop_raise_attribute, ":var0", ":var1", ":var4"),
    (try_begin),
      (lt, ":var4", 0),
      (eq, ":var1", 2),
      (call_script, "script_cstm_get_skill_points_available", ":var0"),
      (lt, reg0, 0),
      (store_mul, ":var4", reg0, -1),
      (troop_raise_attribute, ":var0", ":var1", ":var4"),
      (assign, reg0, ":var2"),
      (display_message, "@Cannot reduce INT to {reg0} without taking back bonus skill points"),
    (else_try),
      (lt, ":var4", 0),
      (eq, ":var1", 1),
      (call_script, "script_cstm_get_proficiency_points_available", ":var0"),
      (lt, reg0, 0),
      (val_mul, reg0, -1),
      (val_add, reg0, 9),
      (store_div, ":var4", reg0, 10),
      (troop_raise_attribute, ":var0", ":var1", ":var4"),
      (assign, reg0, ":var2"),
      (display_message, "@Cannot reduce AGI to {reg0} without taking back bonus proficiency points"),
    (else_try),
      (gt, ":var4", 0),
      (troop_get_slot, ":var5", ":var0", 501),
      (store_add, ":var6", "str_cstm_ca_strength", ":var1"),
      (str_store_string, s0, ":var6"),
      (call_script, "script_cstm_troop_get_attribute_max_from_tree", ":var5", ":var1"),
    (try_end),
  ]),

  ("cstm_get_skill_points",
  [
    (store_script_param, ":var0", 1),
    (store_character_level, ":var1", ":var0"),
    (store_attribute_level, ":var2", ":var0", ca_intelligence),
    (val_add, ":var1", ":var2"),
    (val_add, ":var1", "$g_cstm_skill_points_start"),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_get_skill_points_spent",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_for_range, ":var2", 0, 42),
      (store_skill_level, ":var3", ":var2", ":var0"),
      (val_add, ":var1", ":var3"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_get_skill_points_available",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_cstm_get_skill_points", ":var0"),
    (assign, ":var1", reg0),
    (call_script, "script_cstm_get_skill_points_spent", ":var0"),
    (val_sub, ":var1", reg0),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_get_skill_points_available_to_upgrade",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_get_skill_points", ":var1"),
    (assign, ":var2", reg0),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 0, 42),
      (store_skill_level, ":var5", ":var4", ":var0"),
      (store_skill_level, ":var6", ":var4", ":var1"),
      (val_max, ":var6", ":var5"),
      (val_add, ":var3", ":var6"),
    (try_end),
    (store_sub, reg0, ":var2", ":var3"),
  ]),

  ("cstm_troop_get_skill_min_from_points",
  [
    (assign, reg0, 0),
  ]),

  ("cstm_troop_get_skill_min_from_tree",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (call_script, "script_cstm_troop_get_skill_min_from_points", ":var0", ":var2"),
    (assign, ":var3", reg0),
    (try_begin),
      (troop_get_upgrade_troop, ":var4", ":var1", 0),
      (gt, ":var4", 0),
      (call_script, "script_cstm_get_skill_points", ":var4"),
      (assign, ":var5", reg0),
      (call_script, "script_cstm_get_skill_points", ":var0"),
      (val_sub, ":var5", reg0),
      (val_max, ":var5", 0),
      (assign, reg0, ":var5"),
      (store_skill_level, ":var6", ":var2", ":var4"),
      (val_sub, ":var6", ":var5"),
      (val_max, ":var6", 0),
      (val_max, ":var3", ":var6"),
      (call_script, "script_cstm_troop_get_skill_min_from_tree", ":var0", ":var4", ":var2"),
      (val_max, ":var3", reg0),
      (troop_get_upgrade_troop, ":var4", ":var1", 1),
      (gt, ":var4", 0),
      (call_script, "script_cstm_get_skill_points", ":var4"),
      (assign, ":var5", reg0),
      (call_script, "script_cstm_get_skill_points", ":var0"),
      (val_sub, ":var5", reg0),
      (val_max, ":var5", 0),
      (store_skill_level, ":var6", ":var2", ":var4"),
      (val_sub, ":var6", ":var5"),
      (val_max, ":var6", 0),
      (val_max, ":var3", ":var6"),
      (call_script, "script_cstm_troop_get_skill_min_from_tree", ":var0", ":var4", ":var2"),
      (val_max, ":var3", reg0),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("cstm_troop_get_skill_max_from_points",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_skill_level, ":var2", ":var1", ":var0"),
    (call_script, "script_cstm_get_skill_points_available", ":var0"),
    (val_add, ":var2", reg0),
    (assign, reg0, ":var2"),
  ]),

  ("cstm_troop_get_skill_max_from_upgrade",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (troop_get_slot, ":var3", ":var0", 500),
    (store_skill_level, ":var4", ":var2", ":var3"),
    (store_skill_level, ":var5", ":var2", ":var1"),
    (val_max, ":var5", ":var4"),
    (call_script, "script_cstm_get_skill_points_available_to_upgrade", ":var3", ":var1"),
    (val_add, reg0, ":var5"),
  ]),

  ("cstm_troop_get_skill_max_from_tree",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_troop_get_skill_max_from_points", ":var0", ":var1"),
    (assign, ":var2", reg0),
    (store_skill_level, ":var3", ":var1", ":var0"),
    (val_max, ":var2", ":var3"),
    (try_begin),
      (troop_get_upgrade_troop, ":var4", ":var0", 0),
      (gt, ":var4", 0),
      (call_script, "script_cstm_troop_get_skill_max_from_upgrade", ":var0", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (call_script, "script_cstm_troop_get_skill_max_from_tree", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (troop_get_upgrade_troop, ":var4", ":var0", 1),
      (gt, ":var4", 0),
      (call_script, "script_cstm_troop_get_skill_max_from_upgrade", ":var0", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (call_script, "script_cstm_troop_get_skill_max_from_tree", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cstm_dummy_set_skill",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_skill_level, ":var3", ":var1", ":var0"),
    (store_sub, ":var4", ":var2", ":var3"),
    (troop_raise_skill, ":var0", ":var1", ":var4"),
    (try_begin),
      (lt, ":var4", 0),
      (eq, ":var1", 27),
      (call_script, "script_cstm_get_proficiency_points_available", ":var0"),
      (lt, reg0, 0),
      (display_message, "@Try taking back some of those bonus proficiency points before trying to reduce Weapon Master"),
      (store_mul, ":var5", ":var4", -1),
      (assign, ":var6", ":var5"),
      (try_for_range, ":var7", 0, ":var6"),
        (troop_raise_skill, ":var0", ":var1", 1),
        (call_script, "script_cstm_get_proficiency_points_available", ":var0"),
        (ge, reg0, 0),
        (assign, ":var6", 0),
      (try_end),
    (else_try),
      (lt, ":var4", 0),
      (eq, ":var1", 27),
      (store_skill_level, ":var8", 27, ":var0"),
      (store_mul, ":var9", 40, ":var8"),
      (val_add, ":var9", 60),
      (assign, ":var6", 7),
      (try_for_range, ":var10", 0, ":var6"),
        (store_proficiency_level, ":var11", ":var0", ":var10"),
        (gt, ":var11", ":var9"),
        (assign, reg0, ":var9"),
        (store_skill_level, reg1, 27, ":var0"),
        (display_message, "@Reduce proficiencies to {reg0} or lower before trying to reduce Weapon Master to {reg1}"),
        (val_mul, ":var4", -1),
        (troop_raise_skill, ":var0", ":var1", ":var4"),
        (assign, ":var6", 0),
      (try_end),
    (else_try),
      (gt, ":var4", 0),
      (troop_get_slot, ":var12", ":var0", 501),
      (call_script, "script_cstm_print_skill_to_s0", ":var1"),
      (call_script, "script_cstm_troop_get_skill_max_from_tree", ":var12", ":var1"),
    (try_end),
  ]),

  ("cstm_get_proficiency_points",
  [
    (store_script_param, ":var0", 1),
    (store_skill_level, ":var1", 27, ":var0"),
    (store_mul, ":var2", ":var1", "$g_cstm_proficiency_per_wm"),
    (val_add, ":var2", 40),
    (troop_get_slot, ":var3", "trp_cstm_proficiency_requirements", ":var2"),
    (val_mul, ":var3", 7),
    (store_character_level, ":var4", ":var0"),
    (store_mul, ":var5", ":var4", "$g_cstm_proficiency_points_per_level"),
    (val_add, ":var3", ":var5"),
    (store_attribute_level, ":var6", ":var0", ca_agility),
    (store_mul, ":var7", ":var6", "$g_cstm_proficiency_per_agility"),
    (val_add, ":var3", ":var7"),
    (assign, reg0, ":var3"),
  ]),

  ("cstm_get_proficiency_points_spent",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_for_range, ":var2", 0, 7),
      (store_proficiency_level, ":var3", ":var0", ":var2"),
      (troop_get_slot, ":var4", "trp_cstm_proficiency_requirements", ":var3"),
      (val_add, ":var1", ":var4"),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_get_proficiency_points_available",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_cstm_get_proficiency_points", ":var0"),
    (assign, ":var1", reg0),
    (call_script, "script_cstm_get_proficiency_points_spent", ":var0"),
    (val_sub, ":var1", reg0),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_get_proficiency_points_available_to_upgrade",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_get_proficiency_points", ":var1"),
    (assign, ":var2", reg0),
    (assign, ":var3", 0),
    (try_for_range, ":var4", 0, 7),
      (store_proficiency_level, ":var5", ":var1", ":var4"),
      (store_proficiency_level, ":var6", ":var0", ":var4"),
      (val_max, ":var5", ":var6"),
      (troop_get_slot, ":var7", "trp_cstm_proficiency_requirements", ":var5"),
      (val_add, ":var3", ":var7"),
    (try_end),
    (store_sub, reg0, ":var2", ":var3"),
  ]),

  ("cstm_troop_get_highest_proficiency_from_points",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 1500),
    (assign, ":var2", 1500),
    (try_for_range, ":var3", 1, ":var2"),
      (troop_get_slot, ":var4", "trp_cstm_proficiency_requirements", ":var3"),
      (gt, ":var4", ":var0"),
      (store_sub, ":var1", ":var3", 1),
      (assign, ":var2", 0),
    (try_end),
    (assign, reg0, ":var1"),
  ]),

  ("cstm_troop_get_proficiency_min_from_points",
  [
    (assign, reg0, 40),
  ]),

  ("cstm_troop_get_proficiency_min_from_tree",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (call_script, "script_cstm_troop_get_proficiency_min_from_points", ":var0", ":var2"),
    (assign, ":var3", reg0),
    (try_begin),
      (troop_get_upgrade_troop, ":var4", ":var1", 0),
      (gt, ":var4", 0),
      (call_script, "script_cstm_get_proficiency_points", ":var4"),
      (assign, ":var5", reg0),
      (call_script, "script_cstm_get_proficiency_points", ":var0"),
      (val_sub, ":var5", reg0),
      (val_max, ":var5", 0),
      (store_proficiency_level, ":var6", ":var4", ":var2"),
      (troop_get_slot, ":var7", "trp_cstm_proficiency_requirements", ":var6"),
      (val_sub, ":var7", ":var5"),
      (call_script, "script_cstm_troop_get_highest_proficiency_from_points", ":var7"),
      (val_max, ":var3", reg0),
      (call_script, "script_cstm_troop_get_proficiency_min_from_tree", ":var0", ":var4", ":var2"),
      (val_max, ":var3", reg0),
      (troop_get_upgrade_troop, ":var4", ":var1", 1),
      (gt, ":var4", 0),
      (call_script, "script_cstm_get_proficiency_points", ":var4"),
      (assign, ":var5", reg0),
      (call_script, "script_cstm_get_proficiency_points", ":var0"),
      (val_sub, ":var5", reg0),
      (val_max, ":var5", 0),
      (store_proficiency_level, ":var6", ":var4", ":var2"),
      (troop_get_slot, ":var7", "trp_cstm_proficiency_requirements", ":var6"),
      (val_sub, ":var7", ":var5"),
      (call_script, "script_cstm_troop_get_highest_proficiency_from_points", ":var7"),
      (val_max, ":var3", reg0),
      (call_script, "script_cstm_troop_get_proficiency_min_from_tree", ":var0", ":var4", ":var2"),
      (val_max, ":var3", reg0),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("cstm_troop_get_proficiency_max_from_points",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_proficiency_level, ":var2", ":var0", ":var1"),
    (troop_get_slot, ":var3", "trp_cstm_proficiency_requirements", ":var2"),
    (call_script, "script_cstm_get_proficiency_points_available", ":var0"),
    (val_add, ":var3", reg0),
    (call_script, "script_cstm_troop_get_highest_proficiency_from_points", ":var3"),
  ]),

  ("cstm_troop_get_proficiency_max_from_upgrade",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (troop_get_slot, ":var3", ":var0", 500),
    (store_proficiency_level, ":var4", ":var3", ":var2"),
    (store_proficiency_level, ":var5", ":var1", ":var2"),
    (val_max, ":var5", ":var4"),
    (troop_get_slot, ":var6", "trp_cstm_proficiency_requirements", ":var5"),
    (call_script, "script_cstm_get_proficiency_points_available_to_upgrade", ":var3", ":var1"),
    (val_add, ":var6", reg0),
    (call_script, "script_cstm_troop_get_highest_proficiency_from_points", ":var6"),
  ]),

  ("cstm_troop_get_proficiency_max_from_tree",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_troop_get_proficiency_max_from_points", ":var0", ":var1"),
    (assign, ":var2", reg0),
    (store_proficiency_level, ":var3", ":var0", ":var1"),
    (val_max, ":var2", ":var3"),
    (try_begin),
      (troop_get_upgrade_troop, ":var4", ":var0", 0),
      (gt, ":var4", 0),
      (call_script, "script_cstm_troop_get_proficiency_max_from_upgrade", ":var0", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (call_script, "script_cstm_troop_get_proficiency_max_from_tree", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (troop_get_upgrade_troop, ":var4", ":var0", 1),
      (gt, ":var4", 0),
      (call_script, "script_cstm_troop_get_proficiency_max_from_upgrade", ":var0", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
      (call_script, "script_cstm_troop_get_proficiency_max_from_tree", ":var4", ":var1"),
      (try_begin),
        (lt, reg0, ":var2"),
        (assign, ":var2", reg0),
        (str_store_troop_name, s10, ":var4"),
      (else_try),
        (str_store_troop_name, s10, ":var0"),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cstm_dummy_set_proficiency",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_proficiency_level, ":var3", ":var0", ":var1"),
    (store_sub, ":var4", ":var2", ":var3"),
    (troop_raise_proficiency_linear, ":var0", ":var1", ":var4"),
    (try_begin),
      (gt, ":var4", 0),
      (troop_get_slot, ":var5", ":var0", 501),
      (store_add, ":var6", "str_cstm_wpt_one_handed_weapon", ":var1"),
      (str_store_string, s0, ":var6"),
      (call_script, "script_cstm_troop_get_proficiency_max_from_tree", ":var5", ":var1"),
    (try_end),
  ]),

  ("cstm_cf_troop_stats_are_different",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_for_range, ":var3", 0, 4),
      (eq, ":var2", 0),
      (store_attribute_level, reg0, ":var0", ":var3"),
      (store_attribute_level, reg1, ":var1", ":var3"),
      (neq, reg0, reg1),
      (assign, ":var2", 1),
    (try_end),
    (try_for_range, ":var4", 0, 42),
      (eq, ":var2", 0),
      (store_skill_level, reg0, ":var4", ":var0"),
      (store_skill_level, reg1, ":var4", ":var1"),
      (neq, reg0, reg1),
      (assign, ":var2", 1),
    (try_end),
    (try_for_range, ":var5", 0, 7),
      (eq, ":var2", 0),
      (store_proficiency_level, reg0, ":var0", ":var5"),
      (store_proficiency_level, reg1, ":var1", ":var5"),
      (neq, reg0, reg1),
      (assign, ":var2", 1),
    (try_end),
    (eq, ":var2", 1),
  ]),

  ("cstm_cf_troop_equipments_are_different",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (troop_get_inventory_capacity, ":var3", ":var0"),
    (try_for_range, ":var4", 0, ":var3"),
      (eq, ":var2", 0),
      (troop_get_inventory_slot, ":var5", ":var0", ":var4"),
      (try_begin),
        (gt, ":var5", 0),
        (store_item_kind_count, reg0, ":var5", ":var0"),
        (store_item_kind_count, reg1, ":var5", ":var1"),
        (neq, reg0, reg1),
        (assign, ":var2", 1),
      (try_end),
      (troop_get_inventory_slot, ":var5", ":var1", ":var4"),
      (gt, ":var5", 0),
      (store_item_kind_count, reg0, ":var5", ":var0"),
      (store_item_kind_count, reg1, ":var5", ":var1"),
      (neq, reg0, reg1),
      (assign, ":var2", 1),
    (try_end),
    (eq, ":var2", 1),
  ]),

  ("cstm_cf_troop_has_horse",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (troop_get_inventory_slot, ":var4", ":var0", ":var3"),
      (gt, ":var4", 0),
      (item_get_type, ":var5", ":var4"),
      (eq, ":var5", 1),
      (assign, ":var1", 1),
    (try_end),
    (eq, ":var1", 1),
  ]),

  ("cstm_cf_troop_has_bow_or_crossbow",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (troop_get_inventory_slot, ":var4", ":var0", ":var3"),
      (gt, ":var4", 0),
      (item_get_type, ":var5", ":var4"),
      (this_or_next|eq, ":var5", 8),
      (eq, ":var5", 9),
      (assign, ":var1", 1),
    (try_end),
    (eq, ":var1", 1),
  ]),

  ("cstm_troop_copy_stats",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_troop_reset_stats", ":var0"),
    (try_for_range, ":var2", 0, 4),
      (store_attribute_level, ":var3", ":var1", ":var2"),
      (troop_raise_attribute, ":var0", ":var2", ":var3"),
    (try_end),
    (try_for_range, ":var4", 0, 42),
      (store_skill_level, ":var5", ":var4", ":var1"),
      (troop_raise_skill, ":var0", ":var4", ":var5"),
    (try_end),
    (try_for_range, ":var6", 0, 7),
      (store_proficiency_level, ":var7", ":var1", ":var6"),
      (troop_raise_proficiency_linear, ":var0", ":var6", ":var7"),
    (try_end),
  ]),

  ("cstm_troop_copy_stats_if_higher",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_for_range, ":var2", 0, 4),
      (store_attribute_level, ":var3", ":var1", ":var2"),
      (store_attribute_level, ":var4", ":var0", ":var2"),
      (store_sub, ":var5", ":var3", ":var4"),
      (gt, ":var5", 0),
      (troop_raise_attribute, ":var0", ":var2", ":var5"),
    (try_end),
    (try_for_range, ":var6", 0, 42),
      (store_skill_level, ":var3", ":var6", ":var1"),
      (store_skill_level, ":var4", ":var6", ":var0"),
      (store_sub, ":var5", ":var3", ":var4"),
      (gt, ":var5", 0),
      (troop_raise_skill, ":var0", ":var6", ":var5"),
    (try_end),
    (try_for_range, ":var7", 0, 7),
      (store_proficiency_level, ":var3", ":var1", ":var7"),
      (store_proficiency_level, ":var4", ":var0", ":var7"),
      (store_sub, ":var5", ":var3", ":var4"),
      (gt, ":var5", 0),
      (troop_raise_proficiency_linear, ":var0", ":var7", ":var5"),
    (try_end),
  ]),

  ("cstm_troop_tree_copy_stats",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_troop_copy_stats", ":var0", ":var1"),
    (troop_get_slot, ":var2", ":var0", 500),
    (try_begin),
      (gt, ":var2", 0),
      (neq, ":var2", ":var1"),
      (call_script, "script_cstm_troop_copy_stats", ":var2", ":var1"),
    (try_end),
    (troop_get_upgrade_troop, ":var3", ":var0", 0),
    (troop_get_upgrade_troop, ":var4", ":var0", 1),
    (try_begin),
      (gt, ":var3", 0),
      (call_script, "script_cstm_troop_tree_copy_stats", ":var3", ":var1"),
    (try_end),
    (try_begin),
      (gt, ":var4", 0),
      (call_script, "script_cstm_troop_tree_copy_stats", ":var4", ":var1"),
    (try_end),
  ]),

  ("cstm_troop_tree_copy_stats_if_higher",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (call_script, "script_cstm_troop_copy_stats_if_higher", ":var0", ":var1"),
    (troop_get_slot, ":var2", ":var0", 500),
    (try_begin),
      (gt, ":var2", 0),
      (neq, ":var2", ":var1"),
      (call_script, "script_cstm_troop_copy_stats_if_higher", ":var2", ":var1"),
    (try_end),
    (troop_get_upgrade_troop, ":var3", ":var0", 0),
    (troop_get_upgrade_troop, ":var4", ":var0", 1),
    (try_begin),
      (gt, ":var3", 0),
      (call_script, "script_cstm_troop_tree_copy_stats_if_higher", ":var3", ":var1"),
    (try_end),
    (try_begin),
      (gt, ":var4", 0),
      (call_script, "script_cstm_troop_tree_copy_stats_if_higher", ":var4", ":var1"),
    (try_end),
  ]),

  ("cstm_troop_tree_update_stat_minimums",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_for_range, ":var2", 0, 4),
      (store_attribute_level, ":var3", ":var0", ":var2"),
      (call_script, "script_cstm_troop_get_attribute_min_from_tree", ":var0", ":var0", ":var2"),
      (gt, reg0, ":var3"),
      (store_sub, ":var4", reg0, ":var3"),
      (troop_raise_attribute, ":var0", ":var2", ":var4"),
      (assign, ":var1", 1),
    (try_end),
    (try_for_range, ":var5", 0, 42),
      (store_skill_level, ":var3", ":var5", ":var0"),
      (call_script, "script_cstm_troop_get_skill_min_from_tree", ":var0", ":var0", ":var5"),
      (gt, reg0, ":var3"),
      (store_sub, ":var4", reg0, ":var3"),
      (troop_raise_skill, ":var0", ":var5", ":var4"),
      (assign, ":var1", 1),
    (try_end),
    (try_for_range, ":var6", 0, 7),
      (store_proficiency_level, ":var3", ":var0", ":var6"),
      (call_script, "script_cstm_troop_get_proficiency_min_from_tree", ":var0", ":var0", ":var6"),
      (gt, reg0, ":var3"),
      (store_sub, ":var4", reg0, ":var3"),
      (troop_raise_proficiency_linear, ":var0", ":var6", ":var4"),
      (assign, ":var1", 1),
    (try_end),
    (try_for_range, ":var6", 0, 7),
      (store_proficiency_level, ":var3", ":var0", ":var6"),
      (store_sub, ":var7", ":var3", 60),
      (val_add, ":var7", 39),
      (val_div, ":var7", 40),
      (store_skill_level, ":var8", 27, ":var0"),
      (gt, ":var7", ":var8"),
      (store_sub, ":var4", ":var7", ":var8"),
      (troop_raise_skill, ":var0", 27, ":var4"),
      (assign, ":var1", 1),
    (try_end),
    (try_begin),
      (store_skill_level, ":var8", 27, ":var0"),
      (store_mul, ":var9", ":var8", 3),
      (store_attribute_level, ":var10", ":var0", ca_agility),
      (gt, ":var9", ":var10"),
      (store_sub, ":var4", ":var9", ":var10"),
      (troop_raise_attribute, ":var0", ca_agility, ":var4"),
      (assign, ":var1", 1),
    (try_end),
    (try_begin),
      (eq, ":var1", 1),
      (call_script, "script_cstm_troop_tree_copy_stats_if_higher", ":var0", ":var0"),
    (try_end),
    (troop_get_slot, ":var11", ":var0", 502),
    (try_begin),
      (gt, ":var11", 0),
      (call_script, "script_cstm_troop_tree_update_stat_minimums", ":var11"),
    (try_end),
  ]),

  ("cstm_setup_item_arrays",
  [
    (try_for_range, ":var0", "trp_cstm_items_horses", "trp_cstm_overlay_troops"),
      (troop_get_slot, ":var1", ":var0", 0),
      (try_for_range, ":var2", 0, ":var1"),
        (store_add, ":var3", ":var2", 2),
        (troop_set_slot, ":var0", ":var3", 0),
      (try_end),
      (troop_set_slot, ":var0", 0, 0),
    (try_end),
    (assign, ":var4", 0),
    (store_add, ":var5", "itm_items_end", 9999),
    (try_for_range, ":var6", 0, ":var5"),
      (eq, ":var4", 1),
      (assign, ":var4", 0),
    (else_try),
      (ge, ":var6", "itm_items_end"),
      (item_get_type, ":var7", ":var6"),
      (eq, ":var7", 0),
      (assign, ":var5", 0),
    (else_try),
      (call_script, "script_cstm_cf_item_is_eligible_equipment_option", ":var6"),
      (item_get_type, ":var7", ":var6"),
      (try_begin),
        (call_script, "script_cstm_get_items_array", ":var7"),
        (gt, reg0, 0),
        (assign, ":var0", reg0),
        (troop_get_slot, ":var1", ":var0", 0),
        (store_add, ":var3", ":var1", 2),
        (troop_set_slot, ":var0", ":var3", ":var6"),
        (val_add, ":var1", 1),
        (troop_set_slot, ":var0", 0, ":var1"),
      (try_end),
      (try_begin),
        (is_between, ":var7", 2, 11),
        (item_has_property, ":var6", itp_next_item_as_melee),
        (assign, ":var4", 1),
      (try_end),
    (try_end),
    (try_for_range, ":var0", "trp_cstm_items_horses", "trp_cstm_overlay_troops"),
      (troop_get_slot, ":var1", ":var0", 0),
      (assign, ":var5", ":var1"),
      (assign, ":var8", 0),
      (assign, ":var9", 0),
      (assign, ":var10", 0),
      (try_for_range, ":var11", 0, ":var5"),
        (try_for_range, ":var2", 1, ":var1"),
          (store_sub, ":var12", ":var2", 1),
          (store_add, ":var13", ":var12", 2),
          (troop_get_slot, ":var14", ":var0", ":var13"),
          (store_add, ":var3", ":var2", 2),
          (troop_get_slot, ":var6", ":var0", ":var3"),
          (item_get_value, ":var9", ":var14"),
          (item_get_value, ":var10", ":var6"),
          (lt, ":var9", ":var10"),
          (troop_set_slot, ":var0", ":var13", ":var6"),
          (troop_set_slot, ":var0", ":var3", ":var14"),
          (assign, ":var8", 1),
        (try_end),
        (eq, ":var8", 0),
        (assign, ":var5", 0),
      (try_end),
    (try_end),
  ]),

  ("cf_item_is_ranged",
  [
    (store_script_param, ":var0", 1),
    (item_get_type, ":var1", ":var0"),
    (call_script, "script_cf_item_type_is_ranged", ":var1"),
  ]),

  ("cf_item_type_is_ranged",
  [
    (store_script_param, ":var0", 1),
    (this_or_next|eq, ":var0", 8),
    (this_or_next|eq, ":var0", 9),
    (this_or_next|eq, ":var0", 10),
    (this_or_next|eq, ":var0", 16),
    (eq, ":var0", 17),
  ]),

  ("cf_item_is_missile",
  [
    (store_script_param, ":var0", 1),
    (item_get_type, ":var1", ":var0"),
    (call_script, "script_cf_item_type_is_missile", ":var1"),
  ]),

  ("cf_item_type_is_missile",
  [
    (store_script_param, ":var0", 1),
    (this_or_next|eq, ":var0", 5),
    (this_or_next|eq, ":var0", 6),
    (eq, ":var0", 18),
  ]),

  ("cf_cci_imod_appropriate_for_item",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 1),
    (try_begin),
      (this_or_next|eq, ":var1", 28),
      (this_or_next|eq, ":var1", 11),
      (this_or_next|eq, ":var1", 12),
      (this_or_next|eq, ":var1", 15),
      (this_or_next|eq, ":var1", 16),
      (this_or_next|eq, ":var1", 20),
      (this_or_next|eq, ":var1", 37),
      (this_or_next|eq, ":var1", 38),
      (this_or_next|eq, ":var1", 39),
      (this_or_next|eq, ":var1", 40),
      (eq, ":var1", 41),
      (assign, ":var2", 0),
    (try_end),
    (eq, ":var2", 1),
    (assign, ":var2", 0),
    (try_begin),
      (assign, ":var3", 0),
      (try_begin),
        (call_script, "script_cf_item_type_is_ranged", ":var0"),
        (assign, ":var3", 1),
      (try_end),
      (this_or_next|eq, ":var3", 1),
      (this_or_next|eq, ":var0", 2),
      (this_or_next|eq, ":var0", 3),
      (eq, ":var0", 4),
      (this_or_next|eq, ":var1", 19),
      (this_or_next|eq, ":var1", 18),
      (this_or_next|eq, ":var1", 17),
      (this_or_next|eq, ":var1", 14),
      (this_or_next|eq, ":var1", 13),
      (eq, ":var1", 0),
      (assign, ":var2", 1),
    (else_try),
      (call_script, "script_cf_item_type_is_missile", ":var0"),
      (this_or_next|eq, ":var1", 42),
      (eq, ":var1", 0),
      (assign, ":var2", 1),
    (else_try),
      (eq, ":var0", 7),
      (this_or_next|eq, ":var1", 27),
      (this_or_next|eq, ":var1", 25),
      (eq, ":var1", 0),
      (assign, ":var2", 1),
    (else_try),
      (is_between, ":var0", 12, 16),
      (this_or_next|eq, ":var1", 29),
      (this_or_next|eq, ":var1", 27),
      (this_or_next|eq, ":var1", 26),
      (this_or_next|eq, ":var1", 25),
      (this_or_next|eq, ":var1", 24),
      (eq, ":var1", 0),
      (assign, ":var2", 1),
    (else_try),
      (eq, ":var0", 1),
      (this_or_next|eq, ":var1", 36),
      (this_or_next|eq, ":var1", 35),
      (this_or_next|eq, ":var1", 18),
      (eq, ":var1", 0),
      (assign, ":var2", 1),
    (try_end),
    (eq, ":var2", 1),
  ]),

  ("cf_troop_can_use_item_with_modifier",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (item_get_type, ":var3", ":var1"),
    (assign, ":var4", 0),
    (item_get_difficulty, ":var4", ":var1"),
    (try_begin),
      (eq, ":var3", 1),
      (try_begin),
        (eq, ":var2", 36),
        (val_add, ":var4", 2),
      (else_try),
        (eq, ":var2", 32),
        (val_add, ":var4", 1),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var3", 8),
      (eq, ":var3", 10),
      (gt, ":var4", 0),
      (try_begin),
        (eq, ":var2", 17),
        (val_add, ":var4", 4),
      (else_try),
        (eq, ":var2", 19),
        (val_add, ":var4", 2),
      (else_try),
        (eq, ":var2", 18),
        (val_add, ":var4", 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var3", 1),
      (store_skill_level, ":var5", 24, ":var0"),
    (else_try),
      (eq, ":var3", 7),
      (store_skill_level, ":var5", 26, ":var0"),
    (else_try),
      (eq, ":var3", 8),
      (store_skill_level, ":var5", 33, ":var0"),
    (else_try),
      (eq, ":var3", 10),
      (store_skill_level, ":var5", 34, ":var0"),
    (else_try),
      (store_attribute_level, ":var5", ":var0", ca_strength),
    (try_end),
    (assign, reg0, ":var5"),
    (assign, reg1, ":var4"),
    (ge, ":var5", ":var4"),
  ]),

  ("cstm_store_item_requirement_stat_to_s0",
  [
    (store_script_param, ":var0", 1),
    (item_get_type, ":var1", ":var0"),
    (try_begin),
      (eq, ":var1", 1),
      (str_store_string, s0, "@Riding skill"),
    (else_try),
      (eq, ":var1", 7),
      (str_store_string, s0, "@Shield skill"),
    (else_try),
      (eq, ":var1", 8),
      (str_store_string, s0, "@Power Draw"),
    (else_try),
      (eq, ":var1", 10),
      (str_store_string, s0, "@Power Throw"),
    (else_try),
      (str_store_string, s0, "@Strength"),
    (try_end),
  ]),

  ("cstm_item_get_price_with_modifier",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (item_get_type, ":var2", ":var0"),
    (call_script, "script_cstm_item_type_get_cost_modifier", ":var2", ":var1"),
    (store_add, ":var3", reg0, 100),
    (store_div, ":var4", reg0, 2),
    (val_add, ":var4", 100),
    (store_mul, ":var5", ":var4", 100),
    (val_div, ":var5", ":var3"),
    (store_item_value, ":var6", ":var0"),
    (val_mul, ":var6", ":var3"),
    (val_div, ":var6", 100),
    (val_mul, ":var6", ":var5"),
    (val_div, ":var6", 100),
    (assign, reg0, ":var6"),
    (assign, reg1, ":var5"),
  ]),

  ("cstm_troop_get_inventory_value",
  [
    (store_script_param, ":var0", 1),
    (troop_get_inventory_capacity, ":var1", ":var0"),
    (try_for_range, ":var2", 504, 520),
      (troop_set_slot, ":var0", ":var2", 0),
    (try_end),
    (try_for_range, ":var2", 0, ":var1"),
      (troop_get_inventory_slot, ":var3", ":var0", ":var2"),
      (troop_get_inventory_slot_modifier, ":var4", ":var0", ":var2"),
      (gt, ":var3", 0),
      (item_get_type, ":var5", ":var3"),
      (call_script, "script_cstm_item_get_price_with_modifier", ":var3", ":var4"),
      (assign, ":var6", reg0),
      (try_begin),
        (is_between, ":var5", 12, 16),
        (store_add, ":var7", 492, ":var5"),
        (store_add, ":var8", 496, ":var5"),
        (troop_get_slot, ":var9", ":var0", ":var7"),
        (val_add, ":var9", ":var6"),
        (troop_set_slot, ":var0", ":var7", ":var9"),
        (troop_get_slot, ":var10", ":var0", ":var8"),
        (val_add, ":var10", 1),
        (troop_set_slot, ":var0", ":var8", ":var10"),
      (else_try),
        (eq, ":var5", 7),
        (troop_get_slot, ":var9", ":var0", 516),
        (val_add, ":var9", ":var6"),
        (troop_set_slot, ":var0", 516, ":var9"),
        (troop_get_slot, ":var10", ":var0", 517),
        (val_add, ":var10", 1),
        (troop_set_slot, ":var0", 517, ":var10"),
      (else_try),
        (eq, ":var5", 1),
        (troop_get_slot, ":var9", ":var0", 518),
        (val_add, ":var9", ":var6"),
        (troop_set_slot, ":var0", 518, ":var9"),
        (troop_get_slot, ":var10", ":var0", 519),
        (val_add, ":var10", 1),
        (troop_set_slot, ":var0", 519, ":var10"),
      (else_try),
        (troop_is_guarantee_ranged, ":var0"),
        (assign, ":var11", 0),
        (try_begin),
          (call_script, "script_cf_item_is_ranged", ":var3"),
          (assign, ":var11", 1),
        (else_try),
          (call_script, "script_cf_item_is_missile", ":var3"),
          (assign, ":var11", 1),
        (else_try),
        (try_end),
        (eq, ":var11", 1),
        (troop_get_slot, ":var9", ":var0", 514),
        (val_add, ":var9", ":var6"),
        (troop_set_slot, ":var0", 514, ":var9"),
        (troop_get_slot, ":var10", ":var0", 515),
        (val_add, ":var10", 1),
        (troop_set_slot, ":var0", 515, ":var10"),
      (else_try),
        (assign, reg0, 512),
        (assign, reg1, 513),
        (troop_get_slot, ":var9", ":var0", 512),
        (val_add, ":var9", ":var6"),
        (troop_set_slot, ":var0", 512, ":var9"),
        (troop_get_slot, ":var10", ":var0", 513),
        (val_add, ":var10", 1),
        (troop_set_slot, ":var0", 513, ":var10"),
      (try_end),
    (try_end),
    (assign, ":var12", 0),
    (try_for_range, ":var5", 12, 16),
      (store_add, ":var7", 492, ":var5"),
      (store_add, ":var8", 496, ":var5"),
      (troop_get_slot, ":var9", ":var0", ":var7"),
      (troop_get_slot, ":var10", ":var0", ":var8"),
      (gt, ":var10", 0),
      (store_div, ":var13", ":var9", ":var10"),
      (val_add, ":var12", ":var13"),
    (try_end),
    (assign, ":var14", 0),
    (try_begin),
      (troop_is_guarantee_ranged, ":var0"),
      (troop_get_slot, ":var9", ":var0", 514),
      (troop_get_slot, ":var10", ":var0", 515),
      (gt, ":var10", 0),
      (store_div, ":var13", ":var9", ":var10"),
      (assign, ":var15", ":var10"),
      (val_min, ":var15", 2),
      (val_mul, ":var13", ":var15"),
      (val_add, ":var12", ":var13"),
      (val_add, ":var14", ":var15"),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var9", ":var0", 516),
      (troop_get_slot, ":var10", ":var0", 517),
      (gt, ":var10", 0),
      (store_div, ":var13", ":var9", ":var10"),
      (val_add, ":var12", ":var13"),
      (val_add, ":var14", 1),
    (try_end),
    (troop_get_slot, ":var9", ":var0", 512),
    (troop_get_slot, ":var10", ":var0", 513),
    (try_begin),
      (gt, ":var10", 0),
      (store_div, ":var13", ":var9", ":var10"),
      (store_sub, ":var15", 4, ":var14"),
      (val_min, ":var15", ":var10"),
      (val_mul, ":var13", ":var15"),
      (val_add, ":var12", ":var13"),
    (try_end),
    (troop_get_slot, ":var9", ":var0", 518),
    (troop_get_slot, ":var10", ":var0", 519),
    (try_begin),
      (gt, ":var10", 0),
      (store_div, ":var13", ":var9", ":var10"),
      (str_clear, s0),
      (try_begin),
        (neg|troop_is_guarantee_horse, ":var0"),
        (neg|troop_is_hero, ":var0"),
        (val_div, ":var13", 2),
        (str_store_string, s0, "@ / 2"),
      (try_end),
      (val_add, ":var12", ":var13"),
    (try_end),
    (assign, reg0, ":var12"),
  ]),

  ("cstm_get_item_from_array",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_add, ":var2", 2, ":var1"),
    (troop_get_slot, reg0, ":var0", ":var2"),
  ]),

  ("cstm_troop_copy_inventory",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_clear_inventory, ":var0"),
    (troop_get_inventory_capacity, ":var2", ":var1"),
    (try_for_range, ":var3", 0, ":var2"),
      (troop_get_inventory_slot, ":var4", ":var1", ":var3"),
      (troop_get_inventory_slot_modifier, ":var5", ":var1", ":var3"),
      (troop_set_inventory_slot, ":var0", ":var3", ":var4"),
      (troop_set_inventory_slot_modifier, ":var0", ":var3", ":var5"),
    (try_end),
  ]),

  ("cstm_troop_tree_copy_inventory_if_unmodified",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (troop_slot_eq, ":var0", 503, 0),
      (call_script, "script_cstm_troop_copy_inventory", ":var0", ":var1"),
      (troop_sort_inventory, ":var0"),
      (troop_equip_items, ":var0"),
      (troop_get_class, ":var2", ":var1"),
      (troop_set_class, ":var0", ":var2"),
      (try_begin),
        (troop_get_slot, ":var3", ":var0", 500),
        (gt, ":var3", 0),
        (neq, ":var3", ":var1"),
        (call_script, "script_cstm_troop_copy_inventory", ":var3", ":var1"),
        (troop_sort_inventory, ":var3"),
        (troop_equip_items, ":var3"),
      (try_end),
      (troop_get_upgrade_troop, ":var4", ":var0", 0),
      (troop_get_upgrade_troop, ":var5", ":var0", 1),
      (try_begin),
        (gt, ":var4", 0),
        (call_script, "script_cstm_troop_tree_copy_inventory_if_unmodified", ":var4", ":var1"),
        (gt, ":var5", 0),
        (call_script, "script_cstm_troop_tree_copy_inventory_if_unmodified", ":var5", ":var1"),
      (try_end),
    (try_end),
  ]),

  ("cstm_copy_custom_troop_to_dummy",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", ":var0", 500),
    (call_script, "script_cstm_troop_copy_stats", ":var1", ":var0"),
    (call_script, "script_cstm_troop_copy_inventory", ":var1", ":var0"),
  ]),

  ("cstm_replace_custom_troop_with_dummy",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", ":var0", 500),
    (call_script, "script_cstm_troop_refresh_name", ":var0"),
    (call_script, "script_cstm_troop_copy_stats", ":var0", ":var1"),
    (call_script, "script_cstm_troop_copy_inventory", ":var0", ":var1"),
    (troop_sort_inventory, ":var0"),
    (troop_equip_items, ":var0"),
  ]),

  ("cstm_get_grid_position",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_mod, ":var5", ":var0", ":var2"),
    (store_mul, ":var6", ":var5", ":var3"),
    (store_sub, ":var7", ":var0", ":var5"),
    (val_div, ":var7", ":var2"),
    (val_sub, ":var1", 1),
    (store_div, ":var8", ":var1", ":var2"),
    (val_add, ":var8", 1),
    (store_sub, ":var9", ":var8", ":var7"),
    (val_sub, ":var9", 1),
    (val_mul, ":var9", ":var4"),
    (assign, reg0, ":var6"),
    (assign, reg1, ":var9"),
  ]),

  ("prsnt_lines_to",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (try_begin),
      (eq, ":var0", ":var2"),
      (store_sub, ":var5", ":var1", ":var3"),
      (val_abs, ":var5"),
      (val_min, ":var1", ":var3"),
      (call_script, "script_prsnt_lines", 4, ":var5", ":var0", ":var1", ":var4"),
    (else_try),
      (eq, ":var1", ":var3"),
      (store_sub, ":var5", ":var0", ":var2"),
      (val_abs, ":var5"),
      (val_min, ":var0", ":var2"),
      (call_script, "script_prsnt_lines", ":var5", 5, ":var0", ":var1", ":var4"),
    (else_try),
      (store_add, ":var6", ":var0", ":var2"),
      (val_div, ":var6", 2),
      (val_sub, ":var6", 6),
      (call_script, "script_prsnt_lines_to", ":var0", ":var1", ":var6", ":var1", ":var4"),
      (call_script, "script_prsnt_lines_to", ":var6", ":var1", ":var6", ":var3", ":var4"),
      (call_script, "script_prsnt_lines_to", ":var6", ":var3", ":var2", ":var3", ":var4"),
    (try_end),
  ]),

  ("cstm_create_troop_tree_images",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_script_param, ":var5", 6),
    (troop_get_upgrade_troop, ":var6", ":var0", 0),
    (troop_get_upgrade_troop, ":var7", ":var0", 1),
    (store_add, ":var8", ":var1", ":var3"),
    (try_begin),
      (gt, ":var6", 0),
      (try_begin),
        (gt, ":var7", 0),
        (call_script, "script_cstm_create_troop_tree_images", ":var6", ":var8", ":var2", ":var3", ":var4", ":var5"),
        (store_add, ":var9", ":var2", reg0),
        (val_add, ":var5", 1),
        (call_script, "script_cstm_create_troop_tree_images", ":var7", ":var8", ":var2", ":var3", ":var4", ":var5"),
        (store_add, ":var10", ":var2", reg0),
        (store_sub, ":var11", ":var10", ":var9"),
        (val_div, ":var11", 2),
        (store_sub, ":var12", ":var9", ":var2"),
        (val_add, ":var12", ":var11"),
      (else_try),
        (call_script, "script_cstm_create_troop_tree_images", ":var6", ":var8", ":var2", ":var3", ":var4", ":var5"),
        (assign, ":var12", reg0),
      (try_end),
    (else_try),
      (store_mul, ":var12", ":var5", ":var4"),
    (try_end),
    (val_add, ":var2", ":var12"),
    (str_store_troop_name, s0, ":var0"),
    (call_script, "script_gpu_create_text_overlay", "str_s0", ":var1", ":var2", 600, ":var3", 50, 4112),
    (troop_set_slot, "trp_cstm_overlay_troops", reg1, ":var0"),
    (val_sub, ":var1", 52),
    (call_script, "script_gpu_create_troop_image", ":var0", ":var1", ":var2", 500),
    (position_set_x, pos1, 375),
    (position_set_y, pos1, 500),
    (overlay_set_size, reg1, pos1),
    (troop_set_slot, "trp_cstm_overlay_troops", reg1, ":var0"),
    (assign, ":var13", 56),
    (store_div, ":var14", ":var4", 2),
    (val_add, ":var1", ":var13"),
    (val_add, ":var2", ":var14"),
    (try_begin),
      (gt, ":var6", 0),
      (try_begin),
        (gt, ":var7", 0),
        (val_add, ":var9", ":var14"),
        (val_add, ":var10", ":var14"),
        (store_add, ":var8", ":var1", ":var3"),
        (val_add, ":var8", 5),
        (call_script, "script_prsnt_lines_to", ":var1", ":var2", ":var8", ":var9", 0),
        (call_script, "script_prsnt_lines_to", ":var1", ":var2", ":var8", ":var10", 0),
      (else_try),
        (val_add, ":var8", 5),
        (call_script, "script_prsnt_lines_to", ":var1", ":var2", ":var8", ":var2", 0),
      (try_end),
    (try_end),
    (assign, reg0, ":var12"),
  ]),

  ("gpu_create_scrollable_container",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (str_clear, s0),
    (call_script, "script_gpu_create_text_overlay", "str_s0", ":var0", ":var1", 1000, ":var2", ":var3", 131072),
  ]),

  ("gpu_create_text_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_script_param, ":var5", 6),
    (store_script_param, ":var6", 7),
    (set_fixed_point_multiplier, 1000),
    (create_text_overlay, reg1, ":var0", ":var6"),
    (position_set_x, pos1, ":var1"),
    (position_set_y, pos1, ":var2"),
    (overlay_set_position, reg1, pos1),
    (position_set_x, pos1, ":var3"),
    (position_set_y, pos1, ":var3"),
    (overlay_set_size, reg1, pos1),
    (position_set_x, pos1, ":var4"),
    (position_set_y, pos1, ":var5"),
    (overlay_set_area_size, reg1, pos1),
    (overlay_set_text, reg1, ":var0"),
  ]),

  ("gpu_create_text_box_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (set_fixed_point_multiplier, 1000),
    (create_simple_text_box_overlay, reg1, ":var0"),
    (position_set_x, pos1, ":var1"),
    (position_set_y, pos1, ":var2"),
    (overlay_set_position, reg1, pos1),
    (overlay_set_text, reg1, ":var0"),
  ]),

  ("gpu_create_game_button_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (set_fixed_point_multiplier, 1000),
    (create_game_button_overlay, reg1, ":var0"),
    (position_set_x, pos1, ":var1"),
    (position_set_y, pos1, ":var2"),
    (overlay_set_position, reg1, pos1),
    (overlay_set_text, reg1, ":var0"),
  ]),

  ("gpu_create_button_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (set_fixed_point_multiplier, 1000),
    (create_button_overlay, reg1, ":var0", ":var4"),
    (position_set_x, pos1, ":var1"),
    (position_set_y, pos1, ":var2"),
    (overlay_set_position, reg1, pos1),
    (position_set_x, pos1, ":var3"),
    (position_set_y, pos1, ":var3"),
    (overlay_set_size, reg1, pos1),
    (overlay_set_text, reg1, ":var0"),
  ]),

  ("gpu_create_mesh_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (set_fixed_point_multiplier, 1000),
    (create_mesh_overlay, reg1, ":var0"),
    (position_set_x, pos2, ":var1"),
    (position_set_y, pos2, ":var2"),
    (overlay_set_position, reg1, pos2),
    (position_set_x, pos3, ":var3"),
    (position_set_y, pos3, ":var4"),
    (overlay_set_size, reg1, pos3),
  ]),

  ("gpu_create_item_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (set_fixed_point_multiplier, 1000),
    (create_mesh_overlay_with_item_id, reg1, ":var0"),
    (position_set_x, pos2, ":var1"),
    (position_set_y, pos2, ":var2"),
    (overlay_set_position, reg1, pos2),
    (position_set_x, pos3, ":var3"),
    (position_set_y, pos3, ":var3"),
    (overlay_set_size, reg1, pos3),
  ]),

  ("gpu_create_combo_button_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (set_fixed_point_multiplier, 1000),
    (create_combo_button_overlay, reg1),
    (position_set_x, pos1, ":var0"),
    (position_set_y, pos1, ":var1"),
    (overlay_set_position, reg1, pos1),
  ]),

  ("gpu_create_combo_label_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (set_fixed_point_multiplier, 1000),
    (create_combo_label_overlay, reg1),
    (position_set_x, pos1, ":var0"),
    (position_set_y, pos1, ":var1"),
    (overlay_set_position, reg1, pos1),
  ]),

  ("gpu_create_number_box_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (set_fixed_point_multiplier, 1000),
    (create_number_box_overlay, reg1, ":var2", ":var3"),
    (position_set_x, pos1, ":var0"),
    (position_set_y, pos1, ":var1"),
    (overlay_set_position, reg1, pos1),
  ]),

  ("gpu_create_troop_image",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (set_fixed_point_multiplier, 1000),
    (store_mul, ":var4", ":var0", 2),
    (create_image_button_overlay_with_tableau_material, reg1, -1, "tableau_game_party_window", ":var4"),
    (position_set_x, pos2, ":var1"),
    (position_set_y, pos2, ":var2"),
    (overlay_set_position, reg1, pos2),
    (position_set_x, pos3, ":var3"),
    (position_set_y, pos3, ":var3"),
    (overlay_set_size, reg1, pos3),
  ]),

  ("cstm_center_set_culture",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_set_slot, ":var0", 19, ":var1"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 4),
      (call_script, "script_update_volunteer_troops_in_village", ":var0"),
      (call_script, "script_update_npc_volunteer_troops_in_village", ":var0"),
    (try_end),
  ]),

  ("cstm_get_items_array",
  [
    (store_script_param, ":var0", 1),
    (assign, reg0, -1),
    (try_begin),
      (eq, ":var0", 1),
      (assign, reg0, "trp_cstm_items_horses"),
    (else_try),
      (eq, ":var0", 2),
      (assign, reg0, "trp_cstm_items_one_handed_weapons"),
    (else_try),
      (eq, ":var0", 3),
      (assign, reg0, "trp_cstm_items_two_handed_weapons"),
    (else_try),
      (eq, ":var0", 4),
      (assign, reg0, "trp_cstm_items_polearms"),
    (else_try),
      (eq, ":var0", 5),
      (assign, reg0, "trp_cstm_items_arrows"),
    (else_try),
      (eq, ":var0", 6),
      (assign, reg0, "trp_cstm_items_bolts"),
    (else_try),
      (eq, ":var0", 7),
      (assign, reg0, "trp_cstm_items_shields"),
    (else_try),
      (eq, ":var0", 8),
      (assign, reg0, "trp_cstm_items_bows"),
    (else_try),
      (eq, ":var0", 9),
      (assign, reg0, "trp_cstm_items_crossbows"),
    (else_try),
      (eq, ":var0", 10),
      (assign, reg0, "trp_cstm_items_throwing_weapons"),
    (else_try),
      (eq, ":var0", 12),
      (assign, reg0, "trp_cstm_items_caps_and_helmets"),
    (else_try),
      (eq, ":var0", 13),
      (assign, reg0, "trp_cstm_items_body_armour"),
    (else_try),
      (eq, ":var0", 14),
      (assign, reg0, "trp_cstm_items_boots_and_greaves"),
    (else_try),
      (eq, ":var0", 15),
      (assign, reg0, "trp_cstm_items_gloves_and_gauntlets"),
    (else_try),
      (eq, ":var0", 16),
      (assign, reg0, "trp_cstm_items_pistols"),
    (else_try),
      (eq, ":var0", 18),
      (assign, reg0, "trp_cstm_items_bullets"),
    (try_end),
  ]),

  ("cstm_troop_set_stats_to_default",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_cstm_troop_reset_stats", ":var0"),
    (troop_raise_attribute, ":var0", ca_strength, 6),
    (troop_raise_attribute, ":var0", ca_agility, 6),
    (troop_raise_attribute, ":var0", ca_intelligence, 5),
    (troop_raise_attribute, ":var0", ca_charisma, 5),
    (troop_get_type, ":var1", ":var0"),
    (try_begin),
      (eq, ":var1", 1),
      (troop_raise_attribute, ":var0", ca_agility, 1),
    (else_try),
      (troop_raise_attribute, ":var0", ca_strength, 1),
    (try_end),
    (try_for_range, ":var2", 0, 7),
      (troop_raise_proficiency_linear, ":var0", ":var2", 40),
    (try_end),
    (troop_raise_skill, ":var0", 0, 2),
    (troop_raise_skill, ":var0", 12, 2),
    (troop_raise_skill, ":var0", 2, 1),
    (troop_raise_skill, ":var0", 1, 1),
  ]),

  ("cstm_item_type_get_cost_modifier",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_begin),
      (is_between, ":var0", 12, 16),
      (try_begin),
        (eq, ":var1", 29),
        (assign, ":var2", 1050),
      (else_try),
        (eq, ":var1", 27),
        (assign, ":var2", 550),
      (else_try),
        (eq, ":var1", 26),
        (assign, ":var2", 290),
      (else_try),
        (eq, ":var1", 25),
        (assign, ":var2", 160),
      (else_try),
        (eq, ":var1", 24),
        (assign, ":var2", 70),
      (else_try),
        (eq, ":var1", 7),
        (assign, ":var2", -17),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var2", -25),
      (else_try),
        (eq, ":var1", 22),
        (assign, ":var2", -30),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var2", -45),
      (else_try),
        (eq, ":var1", 21),
        (assign, ":var2", -50),
      (else_try),
        (eq, ":var1", 1),
        (assign, ":var2", -50),
      (try_end),
    (else_try),
      (eq, ":var0", 7),
      (try_begin),
        (eq, ":var1", 27),
        (assign, ":var2", 110),
      (else_try),
        (eq, ":var1", 25),
        (assign, ":var2", 60),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var2", -15),
      (else_try),
        (eq, ":var1", 1),
        (assign, ":var2", -40),
      (try_end),
    (else_try),
      (this_or_next|is_between, ":var0", 2, 5),
      (is_between, ":var0", 8, 11),
      (try_begin),
        (eq, ":var1", 17),
        (assign, ":var2", 1650),
      (else_try),
        (eq, ":var1", 14),
        (assign, ":var2", 670),
      (else_try),
        (eq, ":var1", 19),
        (assign, ":var2", 360),
      (else_try),
        (eq, ":var1", 13),
        (assign, ":var2", 250),
      (else_try),
        (eq, ":var1", 18),
        (assign, ":var2", 90),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var2", -28),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var2", -45),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var2", -35),
      (else_try),
        (eq, ":var1", 1),
        (assign, ":var2", -50),
      (try_end),
    (else_try),
      (is_between, ":var0", 5, 7),
      (try_begin),
        (eq, ":var1", 42),
        (assign, ":var2", 90),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var2", -35),
      (try_end),
    (else_try),
      (eq, ":var0", 1),
      (try_begin),
        (eq, ":var1", 36),
        (assign, ":var2", 1350),
      (else_try),
        (eq, ":var1", 35),
        (assign, ":var2", 550),
      (else_try),
        (eq, ":var1", 18),
        (assign, ":var2", 90),
      (else_try),
        (eq, ":var1", 32),
        (assign, ":var2", -10),
      (else_try),
        (eq, ":var1", 31),
        (assign, ":var2", -40),
      (else_try),
        (eq, ":var1", 30),
        (assign, ":var2", -60),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("cstm_reset_lord_armies_in_player_faction",
  [
    (try_for_range, ":var0", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
      (store_faction_of_troop, ":var1", ":var0"),
      (eq, ":var1", "fac_player_supporters_faction"),
      (troop_get_slot, ":var2", ":var0", 10),
      (gt, ":var2", 0),
      (party_clear, ":var2"),
      (party_add_leader, ":var2", ":var0"),
      (troop_set_slot, ":var0", 11, 9000),
      (assign, ":var3", 30),
      (try_for_range, ":var4", 0, ":var3"),
        (call_script, "script_hire_men_to_kingdom_hero_party", ":var0"),
      (try_end),
      (troop_get_slot, ":var5", ":var0", 7),
      (store_div, ":var6", ":var5", 100),
      (try_for_range, ":var4", 0, ":var6"),
        (call_script, "script_upgrade_hero_party", ":var2", 4000),
      (try_end),
    (try_end),
  ]),

  ("cstm_reset_garrisons_in_player_faction",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var1", ":var0"),
      (eq, ":var1", "fac_player_supporters_faction"),
      (party_clear, ":var0"),
      (assign, ":var2", 15),
      (try_begin),
        (party_slot_eq, ":var0", 0, 3),
        (assign, ":var2", 40),
      (try_end),
      (try_for_range, ":var3", 0, ":var2"),
        (call_script, "script_cf_reinforce_party", ":var0"),
      (try_end),
      (store_div, ":var4", ":var2", 5),
      (val_add, ":var4", 2),
      (game_get_reduce_campaign_ai, ":var5"),
      (try_begin),
        (eq, ":var5", 0),
        (assign, ":var6", 7500),
      (else_try),
        (eq, ":var5", 1),
        (assign, ":var6", 5000),
      (else_try),
        (eq, ":var5", 2),
        (assign, ":var6", 2500),
      (try_end),
      (try_for_range, ":var3", 0, ":var4"),
        (party_upgrade_with_xp, ":var0", ":var6", 0),
      (try_end),
    (try_end),
  ]),

  ("cstm_cf_item_is_eligible_equipment_option",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (try_begin),
      (item_has_property, ":var0", itp_merchandise),
      (store_item_value, ":var2", ":var0"),
      (gt, ":var2", 0),
      (assign, ":var1", 1),
    (else_try),
      (eq, 0, 1),
      (assign, ":var1", 1),
    (try_end),
    (eq, ":var1", 1),
  ]),

  ("freelancer_attach_party",
  [
    (party_attach_to_party, "p_main_party", "$enlisted_party"),
    (set_camera_follow_party, "$enlisted_party"),
    (party_set_flags, "$enlisted_party", pf_always_visible, 1),
    (disable_party, "p_main_party"),
    (assign, "$freelancer_state", 1),
  ]),

  ("freelancer_detach_party",
  [
    (enable_party, "p_main_party"),
    (party_detach, "p_main_party"),
    (try_begin),
      (party_is_active, "$enlisted_party"),
      (party_relocate_near_party, "p_main_party", "$enlisted_party", 2),
      (party_set_flags, "$enlisted_party", pf_always_visible, 0),
    (try_end),
    (troop_set_slot, "trp_player", 10, "p_main_party"),
    (set_camera_follow_party, "p_main_party"),
    (assign, "$g_player_icon_state", 0),
  ]),

  ("freelancer_event_player_enlists",
  [
    (party_clear, "p_freelancer_party_backup"),
    (call_script, "script_party_copy", "p_freelancer_party_backup", "p_main_party"),
    (remove_member_from_party, "trp_player", "p_freelancer_party_backup"),
    (store_current_day, ":var0"),
    (troop_set_slot, "trp_player", 111, ":var0"),
    (call_script, "script_set_parties_around_player_ignore_player", 2, 4),
    (assign, "$enlisted_lord", "$g_talk_troop"),
    (troop_get_slot, "$enlisted_party", "$enlisted_lord", 10),
    (party_get_num_companion_stacks, ":var1", "p_main_party"),
    (try_for_range_backwards, ":var2", 1, ":var1"),
      (party_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
      (party_stack_get_size, ":var4", "p_main_party", ":var2"),
      (party_remove_members, "p_main_party", ":var3", ":var4"),
    (try_end),
    (store_faction_of_troop, ":var5", "$enlisted_lord"),
    (assign, "$players_kingdom", ":var5"),
    (troop_set_faction, "trp_player", ":var5"),
    (call_script, "script_freelancer_equip_troop", "$player_cur_troop"),
    (call_script, "script_freelancer_attach_party"),
    (troop_get_slot, ":var6", "$enlisted_lord", 13),
    (try_begin),
      (this_or_next|eq, "$g_player_banner_granted", 1),
      (eq, "$background_type", 1),
      (troop_get_slot, ":var7", "trp_player", 13),
      (quest_set_slot, "qst_freelancer_enlisted", 15, ":var7"),
    (else_try),
      (quest_set_slot, "qst_freelancer_enlisted", 15, 0),
    (try_end),
    (troop_set_slot, "trp_player", 13, ":var6"),
    (str_store_troop_name_link, s13, "$enlisted_lord"),
    (str_store_faction_name_link, s14, ":var5"),
    (quest_set_slot, "qst_freelancer_enlisted", 8, "$enlisted_party"),
    (quest_set_slot, "qst_freelancer_enlisted", 20, 5),
    (quest_set_slot, "qst_freelancer_enlisted", 21, 1000),
    (quest_set_slot, "qst_freelancer_enlisted", 22, 100),
    (setup_quest_text, "qst_freelancer_enlisted"),
    (str_clear, s2),
    (call_script, "script_start_quest", "qst_freelancer_enlisted", "$enlisted_lord"),
    (str_store_troop_name, s5, "$player_cur_troop"),
    (str_store_string, s1, "@Enlisted as a {s5} in the party of {s13} of {s14}."),
    (add_troop_note_from_sreg, "trp_player", 3, s1, 0),
    (str_store_string, s5, "@Current rank: {s5}"),
    (add_quest_note_from_sreg, "qst_freelancer_enlisted", 3, s5, 1),
    (call_script, "script_freelancer_get_upgrade_xp", "$player_cur_troop"),
    (quest_set_slot, "qst_freelancer_enlisted", 13, reg0),
    (troop_get_xp, reg0, "trp_player"),
    (quest_set_slot, "qst_freelancer_enlisted", 17, reg0),
    (store_current_day, reg0),
    (quest_set_slot, "qst_freelancer_enlisted", 16, reg0),
    (party_get_morale, reg0, "p_main_party"),
    (quest_set_slot, "qst_freelancer_enlisted", 12, reg0),
    (assign, "$g_infinite_camping", 1),
    (rest_for_hours_interactive, 8760, 5, 1),
  ]),

  ("freelancer_event_player_discharge",
  [
    (store_faction_of_troop, ":var0", "$enlisted_lord"),
    (call_script, "script_change_player_relation_with_faction_ex", ":var0", 5),
    (assign, "$players_kingdom", "fac_player_faction"),
    (troop_set_faction, "trp_player", "fac_player_faction"),
    (store_current_day, ":var1"),
    (troop_get_slot, ":var2", "trp_player", 111),
    (store_sub, ":var3", ":var1", ":var2"),
    (try_begin),
      (gt, ":var3", 45),
    (else_try),
      (call_script, "script_freelancer_unequip_troop", "$player_cur_troop"),
      (troop_equip_items, "trp_player"),
    (try_end),
    (try_begin),
      (this_or_next|eq, "$g_player_banner_granted", 1),
      (eq, "$background_type", 1),
      (quest_get_slot, ":var4", "qst_freelancer_enlisted", 15),
      (troop_set_slot, "trp_player", 13, ":var4"),
    (else_try),
      (troop_set_slot, "trp_player", 13, 0),
    (try_end),
    (assign, "$freelancer_state", 0),
    (call_script, "script_freelancer_detach_party"),
    (call_script, "script_party_restore"),
    (rest_for_hours, 0, 0, 0),
    (display_message, "@You have left your commander!"),
    (store_current_day, ":var5"),
    (quest_get_slot, reg0, "qst_freelancer_enlisted", 16),
    (val_sub, ":var5", reg0),
    (val_mul, ":var5", 100),
    (val_div, ":var5", 60),
    (call_script, "script_finish_quest", "qst_freelancer_enlisted", ":var5"),
    (set_show_messages, 0),
    (try_for_range, ":var6", "qst_freelancer_enlisted", "qst_freelancer_end"),
      (check_quest_active, ":var6"),
      (call_script, "script_cancel_quest", ":var6"),
    (try_end),
    (set_show_messages, 1),
    (str_clear, s1),
    (add_troop_note_from_sreg, "trp_player", 3, s1),
  ]),

  ("freelancer_event_player_vacation",
  [
    (store_faction_of_troop, ":var0", "$enlisted_lord"),
    (assign, "$players_kingdom", "fac_player_faction"),
    (troop_set_faction, "trp_player", "fac_player_faction"),
    (assign, "$freelancer_state", 2),
    (call_script, "script_freelancer_detach_party"),
    (call_script, "script_party_restore"),
    (rest_for_hours, 0, 0, 0),
    (str_store_troop_name_link, s13, "$enlisted_lord"),
    (str_store_faction_name_link, s14, ":var0"),
    (quest_set_slot, "qst_freelancer_vacation", 8, "$enlisted_party"),
    (quest_set_slot, "qst_freelancer_vacation", 23, 14),
    (setup_quest_text, "qst_freelancer_vacation"),
    (str_clear, s2),
    (call_script, "script_start_quest", "qst_freelancer_vacation", "$enlisted_lord"),
    (str_store_string, s5, "@If you do not return to your commander in time, you will be declared a deserter."),
    (add_quest_note_from_sreg, "qst_freelancer_vacation", 3, s5, 0),
  ]),

  ("freelancer_event_player_returns",
  [
    (store_script_param_1, ":var0"),
    (call_script, "script_set_parties_around_player_ignore_player", 2, 4),
    (call_script, "script_party_copy", "p_freelancer_party_backup", "p_main_party"),
    (remove_member_from_party, "trp_player", "p_freelancer_party_backup"),
    (party_get_num_companion_stacks, ":var1", "p_main_party"),
    (try_for_range_backwards, ":var2", 1, ":var1"),
      (party_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
      (party_stack_get_size, ":var4", "p_main_party", ":var2"),
      (party_remove_members, "p_main_party", ":var3", ":var4"),
    (try_end),
    (troop_get_slot, "$enlisted_party", "$enlisted_lord", 10),
    (store_faction_of_troop, ":var5", "$enlisted_lord"),
    (assign, "$players_kingdom", ":var5"),
    (troop_set_faction, "trp_player", ":var5"),
    (call_script, "script_freelancer_attach_party"),
    (display_message, "@You have rejoined your commander!"),
    (try_begin),
      (eq, ":var0", 1),
      (call_script, "script_finish_quest", "qst_freelancer_vacation", 100),
    (else_try),
      (eq, ":var0", 2),
      (call_script, "script_finish_quest", "qst_freelancer_captured", 100),
    (try_end),
  ]),

  ("freelancer_event_player_revolts",
  [
    (call_script, "script_freelancer_detach_party"),
    (call_script, "script_freelancer_event_player_deserts"),
    (call_script, "script_party_restore"),
    (party_get_num_companion_stacks, ":var0", "p_main_party"),
    (try_for_range_backwards, ":var1", 0, ":var0"),
      (party_stack_get_troop_id, ":var2", "p_main_party", ":var1"),
      (neg|troop_is_hero, ":var2"),
      (party_stack_get_size, ":var3", "p_main_party", ":var1"),
      (party_remove_members, "p_main_party", ":var2", ":var3"),
    (try_end),
    (call_script, "script_get_desert_troops"),
    (call_script, "script_change_player_relation_with_troop", "$enlisted_lord", -20),
    (assign, "$freelancer_state", 0),
    (assign, "$players_kingdom", "fac_player_faction"),
    (troop_set_faction, "trp_player", "fac_player_faction"),
    (store_faction_of_troop, ":var4", "$enlisted_lord"),
    (try_begin),
      (party_get_battle_opponent, ":var5", "$enlisted_party"),
      (gt, ":var5", 0),
      (store_faction_of_party, ":var6", ":var5"),
      (store_relation, ":var7", ":var6", ":var4"),
      (store_sub, ":var8", 100, ":var7"),
      (val_add, ":var8", 5),
      (call_script, "script_change_player_relation_with_faction_ex", ":var4", ":var8"),
    (try_end),
    (str_store_troop_name_link, s13, "$enlisted_lord"),
    (str_store_faction_name_link, s14, ":var4"),
    (quest_set_slot, "qst_freelancer_revolt", 8, 0),
    (quest_set_slot, "qst_freelancer_revolt", 2, "$enlisted_lord"),
    (setup_quest_text, "qst_freelancer_revolt"),
    (str_clear, s2),
    (call_script, "script_start_quest", "qst_freelancer_revolt", "trp_player"),
  ]),

  ("freelancer_event_player_deserts",
  [
    (try_begin),
      (neg|party_is_active, "p_main_party"),
      (call_script, "script_freelancer_detach_party"),
    (try_end),
    (assign, "$players_kingdom", "fac_player_faction"),
    (troop_set_faction, "trp_player", "fac_player_faction"),
    (store_faction_of_troop, ":var0", "$enlisted_lord"),
    (call_script, "script_change_player_relation_with_faction_ex", ":var0", -10),
    (call_script, "script_change_player_relation_with_troop", "$enlisted_lord", -15),
    (call_script, "script_change_player_honor", -20),
    (faction_set_slot, ":var0", 148, 0),
    (try_begin),
      (this_or_next|eq, "$g_player_banner_granted", 1),
      (eq, "$background_type", 1),
      (quest_get_slot, ":var1", "qst_freelancer_enlisted", 15),
      (troop_set_slot, "trp_player", 13, ":var1"),
    (else_try),
      (troop_set_slot, "trp_player", 13, 0),
    (try_end),
    (rest_for_hours, 0, 0, 0),
    (assign, "$freelancer_state", 0),
    (set_show_messages, 0),
    (try_for_range, ":var2", "qst_freelancer_enlisted", "qst_freelancer_end"),
      (check_quest_active, ":var2"),
      (call_script, "script_fail_quest", ":var2"),
      (call_script, "script_end_quest", ":var2"),
    (try_end),
    (set_show_messages, 1),
    (str_clear, s1),
    (add_troop_note_from_sreg, "trp_player", 3, s1),
  ]),

  ("freelancer_event_player_captured",
  [
    (try_begin),
      (troop_slot_ge, "trp_player", 8, 1),
      (troop_get_slot, ":var0", "trp_player", 8),
      (call_script, "script_remove_troop_from_prison", "trp_player"),
      (party_is_active, ":var0"),
      (party_count_prisoners_of_type, reg0, ":var0", "trp_player"),
      (gt, reg0, 0),
      (party_remove_prisoners, ":var0", "trp_player", reg0),
      (gt, reg0, 0),
    (else_try),
      (try_for_parties, ":var0"),
        (party_count_prisoners_of_type, reg0, ":var0", "trp_player"),
        (gt, reg0, 0),
        (party_remove_prisoners, ":var0", "trp_player", reg0),
      (try_end),
    (try_end),
    (assign, "$players_kingdom", "fac_player_faction"),
    (troop_set_faction, "trp_player", "fac_player_faction"),
    (store_faction_of_troop, ":var1", "$enlisted_lord"),
    (call_script, "script_freelancer_detach_party"),
    (call_script, "script_party_restore"),
    (party_get_num_companion_stacks, ":var2", "p_main_party"),
    (try_for_range_backwards, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", "p_main_party", ":var3"),
      (neg|troop_is_hero, ":var4"),
      (party_stack_get_size, ":var5", "p_main_party", ":var3"),
      (party_remove_members, "p_main_party", ":var4", ":var5"),
    (try_end),
    (assign, "$enlisted_party", 0),
    (assign, "$freelancer_state", 2),
    (display_message, "@You have been captured! Escape and rejoin your commander!"),
    (str_store_troop_name_link, s13, "$enlisted_lord"),
    (str_store_faction_name_link, s14, ":var1"),
    (quest_set_slot, "qst_freelancer_captured", 2, "$enlisted_lord"),
    (quest_set_slot, "qst_freelancer_captured", 7, "$g_enemy_party"),
    (store_faction_of_party, ":var6", "$g_enemy_party"),
    (quest_set_slot, "qst_freelancer_captured", 15, ":var6"),
    (quest_set_slot, "qst_freelancer_captured", 20, 0),
    (quest_set_slot, "qst_freelancer_captured", 21, 100),
    (quest_set_slot, "qst_freelancer_captured", 23, 20),
    (setup_quest_text, "qst_freelancer_captured"),
    (str_clear, s2),
    (call_script, "script_start_quest", "qst_freelancer_captured", "$enlisted_lord"),
    (str_store_string, s5, "@If you do not return to your commander in time, you will be declared a deserter."),
    (add_quest_note_from_sreg, "qst_freelancer_captured", 3, s5, 0),
  ]),

  ("party_restore",
  [
    (store_current_day, ":var0"),
    (quest_get_slot, ":var1", "qst_freelancer_enlisted", 16),
    (store_sub, ":var2", ":var0", ":var1"),
    (quest_get_slot, ":var3", "qst_freelancer_enlisted", 12),
    (store_add, ":var4", 800, ":var3"),
    (val_sub, ":var4", ":var2"),
    (party_get_num_companion_stacks, ":var5", "p_freelancer_party_backup"),
    (try_for_range, ":var6", 0, ":var5"),
      (assign, ":var7", 0),
      (party_stack_get_troop_id, ":var8", "p_freelancer_party_backup", ":var6"),
      (neq, ":var8", "trp_player"),
      (try_begin),
        (troop_is_hero, ":var8"),
        (assign, ":var7", 1),
      (else_try),
        (store_random_in_range, ":var9", 0, 1000),
        (is_between, ":var9", 0, ":var4"),
        (party_stack_get_size, ":var10", "p_freelancer_party_backup", ":var6"),
        (store_random_in_range, ":var9", 0, 1000),
        (try_begin),
          (is_between, ":var9", 0, ":var4"),
          (assign, ":var7", ":var10"),
        (else_try),
          (store_random_in_range, ":var7", 0, ":var10"),
        (try_end),
      (try_end),
      (ge, ":var7", 1),
      (party_add_members, "p_main_party", ":var8", ":var7"),
    (try_end),
    (party_clear, "p_freelancer_party_backup"),
    (try_for_range, ":var11", "trp_npc1", "trp_kingdom_1_lord"),
      (troop_slot_eq, ":var11", 2, 5),
      (neg|main_party_has_troop, ":var11"),
      (troop_set_slot, ":var11", 151, 0),
      (troop_set_slot, ":var11", 152, 8),
      (troop_set_slot, ":var11", 153, 0),
    (try_end),
  ]),

  ("get_desert_troops",
  [
    (party_get_morale, ":var0", "$enlisted_party"),
    (store_current_day, ":var1"),
    (quest_get_slot, ":var2", "qst_freelancer_enlisted", 16),
    (store_sub, ":var3", ":var1", ":var2"),
    (store_sub, ":var4", 100, ":var0"),
    (store_skill_level, ":var5", "skl_leadership", "trp_player"),
    (store_skill_level, ":var6", "skl_persuasion", "trp_player"),
    (val_mul, ":var5", 10),
    (val_mul, ":var6", 10),
    (store_add, ":var7", ":var5", ":var6"),
    (val_add, ":var7", ":var3"),
    (val_add, ":var7", ":var4"),
    (party_get_num_companion_stacks, ":var8", "$enlisted_party"),
    (try_for_range_backwards, ":var9", 1, ":var8"),
      (store_random_in_range, ":var10", 0, 1000),
      (is_between, ":var10", 0, ":var7"),
      (party_stack_get_troop_id, ":var11", "$enlisted_party", ":var9"),
      (party_stack_get_size, ":var12", "$enlisted_party", ":var9"),
      (store_random_in_range, ":var13", 0, ":var12"),
      (party_remove_members, "$enlisted_party", ":var11", ":var13"),
      (party_add_members, "p_main_party", ":var11", ":var13"),
    (try_end),
  ]),

  ("freelancer_keep_field_loot",
  [
    (get_player_agent_no, ":var0"),
    (try_for_range, ":var1", 0, 4),
      (agent_get_item_slot, ":var2", ":var0", ":var1"),
      (gt, ":var2", 0),
      (neg|troop_has_item_equipped, "trp_player", ":var2"),
      (troop_add_item, "trp_player", ":var2"),
      (str_store_item_name, s1, ":var2"),
      (display_message, "@Received item: {s1}", 0x00FF00),
    (try_end),
    (agent_get_horse, ":var3", ":var0"),
    (try_begin),
      (gt, ":var3", 0),
      (agent_get_item_id, ":var3", ":var3"),
      (troop_get_inventory_slot, ":var4", "trp_player", ek_horse),
      (neq, ":var3", ":var4"),
      (try_begin),
        (gt, ":var4", 0),
        (troop_get_inventory_slot_modifier, ":var5", "trp_player", ek_horse),
        (troop_add_item, "trp_player", ":var4", ":var5"),
      (try_end),
      (troop_set_inventory_slot, "trp_player", ek_horse, ":var3"),
      (str_store_item_name, s1, ":var3"),
      (display_message, "@You got a {s1} from the field.", 0x00FF00),
    (try_end),
  ]),

  ("freelancer_get_upgrade_xp",
  [
    (store_script_param_1, ":var0"),
    (assign, reg0, 0),
    (troop_set_slot, "trp_temp_array_c", 0, 0),
    (troop_set_slot, "trp_temp_array_c", 1, 600),
    (troop_set_slot, "trp_temp_array_c", 2, 1360),
    (troop_set_slot, "trp_temp_array_c", 3, 2296),
    (troop_set_slot, "trp_temp_array_c", 4, 3426),
    (troop_set_slot, "trp_temp_array_c", 5, 4768),
    (troop_set_slot, "trp_temp_array_c", 6, 6345),
    (troop_set_slot, "trp_temp_array_c", 7, 8179),
    (troop_set_slot, "trp_temp_array_c", 8, 10297),
    (troop_set_slot, "trp_temp_array_c", 9, 13010),
    (troop_set_slot, "trp_temp_array_c", 10, 16161),
    (troop_set_slot, "trp_temp_array_c", 11, 19806),
    (troop_set_slot, "trp_temp_array_c", 12, 24007),
    (troop_set_slot, "trp_temp_array_c", 13, 28832),
    (troop_set_slot, "trp_temp_array_c", 14, 34362),
    (troop_set_slot, "trp_temp_array_c", 15, 40682),
    (troop_set_slot, "trp_temp_array_c", 16, 47892),
    (troop_set_slot, "trp_temp_array_c", 17, 56103),
    (troop_set_slot, "trp_temp_array_c", 18, 65441),
    (troop_set_slot, "trp_temp_array_c", 19, 77233),
    (troop_set_slot, "trp_temp_array_c", 20, 90809),
    (troop_set_slot, "trp_temp_array_c", 21, 106425),
    (troop_set_slot, "trp_temp_array_c", 22, 124371),
    (troop_set_slot, "trp_temp_array_c", 23, 144981),
    (troop_set_slot, "trp_temp_array_c", 24, 168636),
    (troop_set_slot, "trp_temp_array_c", 25, 195769),
    (troop_set_slot, "trp_temp_array_c", 26, 226879),
    (troop_set_slot, "trp_temp_array_c", 27, 262533),
    (troop_set_slot, "trp_temp_array_c", 28, 303381),
    (troop_set_slot, "trp_temp_array_c", 29, 350164),
    (troop_set_slot, "trp_temp_array_c", 30, 412091),
    (troop_set_slot, "trp_temp_array_c", 31, 484440),
    (troop_set_slot, "trp_temp_array_c", 32, 568947),
    (troop_set_slot, "trp_temp_array_c", 33, 667638),
    (troop_set_slot, "trp_temp_array_c", 34, 782877),
    (troop_set_slot, "trp_temp_array_c", 35, 917424),
    (troop_set_slot, "trp_temp_array_c", 36, 1074494),
    (troop_set_slot, "trp_temp_array_c", 37, 1257843),
    (troop_set_slot, "trp_temp_array_c", 38, 1471851),
    (troop_set_slot, "trp_temp_array_c", 39, 1721626),
    (troop_set_slot, "trp_temp_array_c", 40, 2070551),
    (troop_set_slot, "trp_temp_array_c", 41, 2489361),
    (troop_set_slot, "trp_temp_array_c", 42, 2992033),
    (troop_set_slot, "trp_temp_array_c", 43, 3595340),
    (troop_set_slot, "trp_temp_array_c", 44, 4319408),
    (troop_set_slot, "trp_temp_array_c", 45, 5188389),
    (troop_set_slot, "trp_temp_array_c", 46, 6231267),
    (troop_set_slot, "trp_temp_array_c", 47, 7482821),
    (troop_set_slot, "trp_temp_array_c", 48, 8984785),
    (troop_set_slot, "trp_temp_array_c", 49, 11236531),
    (troop_set_slot, "trp_temp_array_c", 50, 14051314),
    (troop_set_slot, "trp_temp_array_c", 51, 17569892),
    (troop_set_slot, "trp_temp_array_c", 52, 21968215),
    (troop_set_slot, "trp_temp_array_c", 53, 27466219),
    (troop_set_slot, "trp_temp_array_c", 54, 34338823),
    (troop_set_slot, "trp_temp_array_c", 55, 42929679),
    (troop_set_slot, "trp_temp_array_c", 56, 53668349),
    (troop_set_slot, "trp_temp_array_c", 57, 67091786),
    (troop_set_slot, "trp_temp_array_c", 58, 83871183),
    (troop_set_slot, "trp_temp_array_c", 59, 160204600),
    (troop_set_slot, "trp_temp_array_c", 60, 320304600),
    (troop_set_slot, "trp_temp_array_c", 61, 644046000),
    (troop_set_slot, "trp_temp_array_c", 62, 2050460000),
    (troop_set_slot, "trp_temp_array_c", 63, 2050460000),
    (troop_set_slot, "trp_temp_array_c", 64, 2050460000),
    (troop_set_slot, "trp_temp_array_c", 65, 2050460000),
    (troop_set_slot, "trp_temp_array_c", 66, 2050460000),
    (try_begin),
      (troop_get_upgrade_troop, ":var1", ":var0", 0),
      (store_character_level, ":var2", "trp_player"),
      (try_begin),
        (gt, ":var1", 1),
        (call_script, "script_game_get_upgrade_xp", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("cf_freelancer_get_reassign_troop",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_get_slot, ":var2", ":var0", 0),
    (assign, ":var3", ":var2"),
    (try_for_range, ":var4", 1, ":var3"),
      (troop_slot_eq, ":var0", ":var4", "$player_cur_troop"),
      (assign, ":var3", ":var4"),
    (try_end),
    (lt, ":var3", ":var2"),
    (assign, ":var5", ":var2"),
    (try_for_range, ":var4", 1, ":var3"),
      (troop_get_slot, ":var6", ":var0", ":var4"),
      (gt, ":var6", 0),
      (assign, ":var7", 1),
      (try_begin),
        (eq, ":var1", 2),
        (troop_is_guarantee_horse, ":var6"),
      (else_try),
        (eq, ":var1", 1),
        (neg|troop_is_guarantee_horse, ":var6"),
        (troop_is_guarantee_ranged, ":var6"),
      (else_try),
        (eq, ":var1", 0),
        (neg|troop_is_guarantee_horse, ":var6"),
        (neg|troop_is_guarantee_ranged, ":var6"),
      (else_try),
        (assign, ":var7", 0),
      (try_end),
      (eq, ":var7", 1),
      (call_script, "script_cf_freelancer_player_can_upgrade", ":var6"),
      (troop_set_slot, ":var0", ":var5", ":var6"),
      (val_add, ":var5", 1),
    (try_end),
    (gt, ":var5", ":var2"),
    (store_sub, ":var8", ":var5", ":var2"),
    (try_begin),
      (gt, ":var8", 1),
      (store_attribute_level, ":var9", "trp_player", ca_intelligence),
      (val_div, ":var9", 8),
      (val_sub, ":var8", 1),
      (val_min, ":var9", ":var8"),
      (val_add, ":var2", ":var9"),
    (try_end),
    (store_random_in_range, ":var4", ":var2", ":var5"),
    (troop_get_slot, reg0, ":var0", ":var4"),
  ]),

  ("freelancer_list_faction_troops",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_for_range, reg0, 1, 101),
      (troop_set_slot, ":var1", reg0, 0),
      (troop_set_slot, ":var2", reg0, 0),
    (try_end),
    (faction_get_slot, reg0, ":var0", 41),
    (troop_set_slot, ":var1", 1, reg0),
    (troop_set_slot, ":var2", 0, reg0),
    (assign, ":var3", 2),
    (assign, ":var4", 1),
    (assign, ":var5", 101),
    (try_for_range, ":var6", 0, ":var5"),
      (troop_get_slot, ":var7", ":var2", 0),
      (gt, ":var7", 0),
      (try_for_range, ":var8", 0, 2),
        (troop_get_upgrade_troop, reg0, ":var7", ":var8"),
        (gt, reg0, 0),
        (troop_set_slot, ":var1", ":var3", reg0),
        (troop_set_slot, ":var2", ":var4", reg0),
        (val_add, ":var3", 1),
        (val_add, ":var4", 1),
      (try_end),
      (try_for_range, ":var8", 1, ":var4"),
        (troop_get_slot, reg0, ":var2", ":var8"),
        (store_sub, ":var9", ":var8", 1),
        (troop_set_slot, ":var2", ":var9", reg0),
      (try_end),
      (troop_set_slot, ":var2", ":var4", 0),
      (val_sub, ":var4", 1),
    (else_try),
      (assign, ":var5", 0),
    (try_end),
    (troop_set_slot, ":var1", 0, ":var3"),
  ]),

  ("cf_freelancer_player_can_upgrade",
  [
    (store_script_param_1, ":var0"),
    (str_clear, s0),
    (troop_get_inventory_capacity, ":var1", ":var0"),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 5),
    (try_for_range, ":var5", 2, ":var4"),
      (assign, ":var6", ":var1"),
      (try_for_range, ":var7", 0, ":var6"),
        (troop_get_inventory_slot, ":var8", ":var0", ":var7"),
        (gt, ":var8", 0),
        (item_get_type, ":var9", ":var8"),
        (eq, ":var9", ":var5"),
        (val_add, ":var3", 1),
        (call_script, "script_troop_can_use_item", "trp_player", ":var8", 0),
        (eq, reg0, 1),
        (assign, ":var2", 1),
        (assign, ":var6", 0),
      (try_end),
      (eq, ":var2", 1),
      (assign, ":var4", 2),
    (try_end),
    (try_begin),
      (eq, ":var2", 0),
      (gt, ":var3", 0),
      (str_store_string, s0, "@--too weak for required melee weapons"),
    (try_end),
    (str_is_empty, s0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var6", ":var1"),
    (try_for_range, ":var7", 0, ":var6"),
      (troop_get_inventory_slot, ":var8", ":var0", ":var7"),
      (gt, ":var8", 0),
      (item_get_type, ":var9", ":var8"),
      (eq, ":var9", 13),
      (val_add, ":var3", 1),
      (call_script, "script_troop_can_use_item", "trp_player", ":var8", 0),
      (eq, reg0, 1),
      (assign, ":var2", 1),
      (assign, ":var6", 0),
    (try_end),
    (try_begin),
      (eq, ":var2", 0),
      (gt, ":var3", 0),
      (str_store_string, s0, "@--too weak for required armor"),
    (try_end),
    (str_is_empty, s0),
    (try_begin),
      (troop_is_guarantee_ranged, ":var0"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (assign, ":var4", 11),
      (try_for_range, ":var5", 8, ":var4"),
        (assign, ":var6", ":var1"),
        (try_for_range, ":var7", 0, ":var6"),
          (troop_get_inventory_slot, ":var8", ":var0", ":var7"),
          (gt, ":var8", 0),
          (item_get_type, ":var9", ":var8"),
          (eq, ":var9", ":var5"),
          (val_add, ":var3", 1),
          (call_script, "script_troop_can_use_item", "trp_player", ":var8", 0),
          (eq, reg0, 1),
          (assign, ":var2", 1),
          (assign, ":var6", 0),
        (try_end),
        (eq, ":var2", 1),
        (assign, ":var4", 8),
      (try_end),
      (eq, ":var2", 0),
      (gt, ":var3", 0),
      (str_store_string, s0, "@--lacking required ranged skill or strength"),
    (try_end),
    (str_is_empty, s0),
    (try_begin),
      (troop_is_guarantee_horse, ":var0"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (assign, ":var6", ":var1"),
      (try_for_range, ":var7", 0, ":var6"),
        (troop_get_inventory_slot, ":var8", ":var0", ":var7"),
        (gt, ":var8", 0),
        (item_get_type, ":var9", ":var8"),
        (eq, ":var9", 1),
        (val_add, ":var3", 1),
        (call_script, "script_troop_can_use_item", "trp_player", ":var8", 0),
        (eq, reg0, 1),
        (assign, ":var2", 1),
        (assign, ":var6", 0),
      (try_end),
      (eq, ":var2", 0),
      (gt, ":var3", 0),
      (str_store_string, s0, "@--horsemanship needs improving"),
    (try_end),
    (str_is_empty, s0),
  ]),

  ("freelancer_equip_troop",
  [
    (store_script_param_1, ":var0"),
    (str_clear, s2),
    (set_show_messages, 0),
    (assign, ":var1", 100),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (try_for_range, ":var6", 1, 16),
      (neq, ":var6", 11),
      (neq, ":var6", 5),
      (neq, ":var6", 6),
      (assign, ":var7", 0),
      (try_begin),
        (troop_is_guarantee_horse, ":var0"),
        (eq, ":var6", 1),
        (assign, ":var7", 1),
      (else_try),
        (troop_is_guarantee_ranged, ":var0"),
        (this_or_next|eq, ":var6", 8),
        (this_or_next|eq, ":var6", 9),
        (eq, ":var6", 10),
        (assign, ":var7", 1),
      (else_try),
        (this_or_next|eq, ":var6", 7),
        (this_or_next|eq, ":var6", 12),
        (this_or_next|eq, ":var6", 13),
        (this_or_next|eq, ":var6", 14),
        (eq, ":var6", 15),
        (assign, ":var7", 1),
      (else_try),
        (neq, ":var6", 1),
        (lt, ":var5", 4),
        (assign, ":var7", 1),
      (try_end),
      (eq, ":var7", 1),
      (try_for_range, ":var8", 0, 20),
        (troop_set_slot, "trp_temp_array_a", ":var8", 0),
      (try_end),
      (assign, ":var9", 0),
      (try_for_range, ":var8", 0, ":var2"),
        (troop_get_inventory_slot, ":var10", ":var0", ":var8"),
        (gt, ":var10", 0),
        (item_get_type, ":var11", ":var10"),
        (eq, ":var11", ":var6"),
        (call_script, "script_troop_can_use_item", "trp_player", ":var10", 0),
        (eq, reg0, 1),
        (troop_set_slot, "trp_temp_array_a", ":var9", ":var10"),
        (val_add, ":var9", 1),
      (try_end),
      (gt, ":var9", 0),
      (try_begin),
        (eq, ":var9", 1),
        (assign, ":var12", 0),
      (else_try),
        (store_random_in_range, ":var12", 0, ":var9"),
      (try_end),
      (troop_get_slot, ":var10", "trp_temp_array_a", ":var12"),
      (gt, ":var10", 0),
      (str_store_item_name, s3, ":var10"),
      (str_store_string, s2, "@{s3}, {s2}"),
      (try_begin),
        (eq, ":var6", 1),
        (assign, ":var13", 8),
      (else_try),
        (is_between, ":var6", 12, 16),
        (store_sub, ":var14", ":var6", 12),
        (store_add, ":var13", 4, ":var14"),
      (else_try),
        (store_add, ":var13", 0, ":var5"),
      (try_end),
      (try_begin),
        (eq, "$ee_freelancer_upgrade_unequip", 1),
        (troop_get_inventory_slot, ":var15", "trp_player", ":var13"),
        (gt, ":var15", 0),
        (troop_get_inventory_slot_modifier, ":var16", "trp_player", ":var13"),
        (troop_add_item, "trp_player", ":var15", ":var16"),
      (try_end),
      (try_begin),
        (eq, "$ee_freelancer_upgrade_unequip", 1),
        (troop_set_inventory_slot, "trp_player", ":var13", ":var10"),
        (party_set_slot, "p_freelancer_party_backup", ":var1", ":var10"),
        (val_add, ":var1", 1),
      (else_try),
        (eq, "$ee_freelancer_upgrade_unequip", 0),
        (troop_add_item, "trp_player", ":var10", 0),
        (party_set_slot, "p_freelancer_party_backup", ":var1", ":var10"),
        (val_add, ":var1", 1),
      (try_end),
      (try_begin),
        (is_between, ":var6", 2, 12),
        (val_add, ":var5", 1),
        (try_begin),
          (is_between, ":var6", 2, 5),
          (assign, ":var3", 1),
        (else_try),
          (eq, ":var6", 8),
          (assign, ":var4", 5),
        (else_try),
          (eq, ":var6", 9),
          (assign, ":var4", 6),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (neq, ":var4", 0),
      (try_begin),
        (eq, "$ee_freelancer_upgrade_unequip", 1),
        (troop_get_inventory_slot, ":var15", "trp_player", ek_item_3),
        (gt, ":var15", 0),
        (troop_get_inventory_slot_modifier, ":var16", "trp_player", ek_item_3),
        (troop_add_item, "trp_player", ":var15", ":var16"),
      (try_end),
      (assign, ":var17", ":var2"),
      (try_for_range, ":var8", 0, ":var17"),
        (troop_get_inventory_slot, ":var10", ":var0", ":var8"),
        (gt, ":var10", 0),
        (item_get_type, ":var6", ":var10"),
        (eq, ":var6", ":var4"),
        (try_begin),
          (eq, "$ee_freelancer_upgrade_unequip", 1),
          (troop_set_inventory_slot, "trp_player", ek_item_3, ":var10"),
          (party_set_slot, "p_freelancer_party_backup", ":var1", ":var10"),
          (val_add, ":var1", 1),
          (assign, ":var5", 4),
          (str_store_item_name, s3, ":var10"),
          (str_store_string, s2, "@{s3}, {s2}"),
          (assign, ":var17", 0),
        (else_try),
          (eq, "$ee_freelancer_upgrade_unequip", 0),
          (troop_add_item, "trp_player", ":var10", 0),
          (party_set_slot, "p_freelancer_party_backup", ":var1", ":var10"),
          (val_add, ":var1", 1),
          (assign, ":var5", 4),
          (str_store_item_name, s3, ":var10"),
          (str_store_string, s2, "@{s3}, {s2}"),
          (assign, ":var17", 0),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var3", 0),
      (assign, ":var17", ":var2"),
      (try_for_range, ":var8", 0, ":var17"),
        (troop_get_inventory_slot, ":var10", ":var0", ":var8"),
        (gt, ":var10", 0),
        (item_get_type, ":var6", ":var10"),
        (is_between, ":var6", 2, 5),
        (call_script, "script_troop_can_use_item", "trp_player", ":var10", 0),
        (eq, reg0, 1),
        (try_begin),
          (gt, ":var5", 3),
          (assign, ":var5", 2),
        (try_end),
        (try_begin),
          (eq, "$ee_freelancer_upgrade_unequip", 1),
          (troop_get_inventory_slot, ":var15", "trp_player", ":var5"),
          (gt, ":var15", 0),
          (troop_get_inventory_slot_modifier, ":var16", "trp_player", ":var5"),
          (troop_add_item, "trp_player", ":var15", ":var16"),
        (try_end),
        (try_begin),
          (eq, "$ee_freelancer_upgrade_unequip", 1),
          (troop_set_inventory_slot, "trp_player", ":var5", ":var10"),
          (party_set_slot, "p_freelancer_party_backup", ":var1", ":var10"),
          (val_add, ":var1", 1),
          (str_store_item_name, s3, ":var10"),
          (str_store_string, s2, "@{s3}, {s2}"),
          (assign, ":var17", 0),
        (else_try),
          (eq, "$ee_freelancer_upgrade_unequip", 0),
          (troop_add_item, "trp_player", ":var10", 0),
          (party_set_slot, "p_freelancer_party_backup", ":var1", ":var10"),
          (val_add, ":var1", 1),
          (str_store_item_name, s3, ":var10"),
          (str_store_string, s2, "@{s3}, {s2}"),
          (assign, ":var17", 0),
        (try_end),
      (try_end),
    (try_end),
    (set_show_messages, 1),
    (try_begin),
      (neg|str_is_empty, s2),
      (val_sub, ":var1", 100),
      (party_set_slot, "p_freelancer_party_backup", 99, ":var1"),
      (str_store_troop_name, s1, ":var0"),
      (display_message, "@The equipment of a {s1}: {s2}is assigned to you."),
    (try_end),
  ]),

  ("freelancer_unequip_troop",
  [
    (store_script_param_1, ":var0"),
    (str_clear, s2),
    (set_show_messages, 0),
    (party_get_slot, ":var1", "p_freelancer_party_backup", 99),
    (troop_get_inventory_capacity, ":var2", "trp_player"),
    (try_for_range, ":var3", 0, ":var1"),
      (store_add, ":var4", 100, ":var3"),
      (party_get_slot, ":var5", "p_freelancer_party_backup", ":var4"),
      (gt, ":var5", 0),
      (assign, ":var6", ":var2"),
      (try_for_range, ":var7", 0, ":var6"),
        (troop_get_inventory_slot, ":var8", "trp_player", ":var7"),
        (eq, ":var8", ":var5"),
        (troop_get_inventory_slot_modifier, ":var9", "trp_player", ":var7"),
        (eq, ":var9", 0),
        (troop_set_inventory_slot, "trp_player", ":var7", -1),
        (str_store_item_name, s3, ":var8"),
        (str_store_string, s2, "@{s3}, {s2}"),
        (assign, ":var6", 0),
      (try_end),
    (try_end),
    (set_show_messages, 1),
    (try_begin),
      (neg|str_is_empty, s2),
      (party_set_slot, "p_freelancer_party_backup", 99, 0),
      (str_store_troop_name, s1, ":var0"),
      (display_message, "@The equipment of a {s1}: {s2}is taken from you."),
    (try_end),
    (troop_equip_items, "trp_player"),
  ]),

  ("freelancer_find_enlist_troops",
  [
    (store_script_param_1, ":var0"),
    (assign, reg51, 0),
    (assign, reg52, 0),
    (assign, reg53, 0),
    (store_character_level, ":var1", "trp_player"),
    (try_begin),
      (lt, ":var1", 7),
      (assign, ":var1", 7),
    (try_end),
    (troop_get_slot, ":var2", "$g_talk_troop", 165),
    (try_begin),
      (neg|is_between, ":var2", "fac_culture_finnish", "fac_player_faction"),
      (faction_get_slot, ":var2", "$g_talk_troop_faction", 10),
    (else_try),
      (eq, ":var2", "fac_culture_player"),
      (faction_get_slot, ":var2", "$g_talk_troop_faction", 10),
    (try_end),
    (try_for_range, ":var3", "trp_farmer", "trp_town_walker_1"),
      (troop_get_slot, ":var4", ":var3", 160),
      (eq, ":var4", ":var2"),
      (store_character_level, ":var5", ":var3"),
      (ge, ":var1", ":var5"),
      (try_begin),
        (eq, ":var0", 2),
        (troop_is_guarantee_horse, ":var3"),
        (call_script, "script_freelancer_get_highest_values", ":var3"),
      (else_try),
        (eq, ":var0", 1),
        (neg|troop_is_guarantee_horse, ":var3"),
        (troop_is_guarantee_ranged, ":var3"),
        (call_script, "script_freelancer_get_highest_values", ":var3"),
      (else_try),
        (eq, ":var0", 0),
        (neg|troop_is_guarantee_horse, ":var3"),
        (neg|troop_is_guarantee_ranged, ":var3"),
        (call_script, "script_freelancer_get_highest_values", ":var3"),
      (try_end),
    (try_end),
  ]),

  ("freelancer_get_highest_values",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (try_begin),
      (gt, ":var0", reg51),
      (assign, ":var1", reg51),
      (assign, reg51, ":var0"),
    (else_try),
      (gt, ":var0", reg52),
      (assign, ":var1", reg52),
      (assign, reg52, ":var0"),
    (else_try),
      (gt, ":var0", reg53),
      (assign, ":var1", reg53),
      (assign, reg53, ":var0"),
    (try_end),
    (try_begin),
      (gt, ":var1", reg51),
      (assign, ":var2", reg51),
      (assign, reg51, ":var1"),
    (else_try),
      (gt, ":var1", reg52),
      (assign, ":var2", reg52),
      (assign, reg52, ":var1"),
    (else_try),
      (gt, ":var1", reg53),
      (assign, ":var2", reg53),
      (assign, reg53, ":var1"),
    (try_end),
    (try_begin),
      (gt, ":var2", reg51),
      (assign, reg51, ":var2"),
    (else_try),
      (gt, ":var2", reg52),
      (assign, reg52, ":var2"),
    (else_try),
      (gt, ":var2", reg53),
      (assign, reg53, ":var2"),
    (try_end),
  ]),

  ("set_player_camp_commander",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_set_flags, ":var0", pf_limit_members, 0),
    (party_add_leader, ":var0", ":var1"),
    (party_remove_members, "p_main_party", ":var1", 1),
    (party_set_flags, ":var0", pf_limit_members, 1),
    (party_set_slot, ":var0", 25, ":var1"),
    (troop_set_slot, ":var1", 10, ":var0"),
    (party_get_slot, ":var2", ":var0", 23),
    (troop_set_slot, ":var2", 33, ":var1"),
    (str_store_troop_name, s0, ":var1"),
    (str_store_string, s1, "str_pcamp_s0s_camp"),
    (party_set_name, ":var0", s1),
    (troop_set_name, ":var2", s1),
  ]),

  ("replace_player_camp_commander",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_slot, ":var2", ":var0", 25),
    (party_remove_members, ":var0", ":var2", 1),
    (troop_set_slot, ":var2", 10, -1),
    (call_script, "script_set_player_camp_commander", ":var0", ":var1"),
    (party_set_flags, "p_main_party", pf_limit_members, 0),
    (party_add_members, "p_main_party", ":var2", 1),
    (party_set_flags, "p_main_party", pf_limit_members, 1),
  ]),

  ("cleanup_player_camp_slot",
  [
    (store_script_param_1, ":var0"),
    (troop_set_slot, ":var0", 60, 0),
    (troop_set_slot, ":var0", 33, 0),
    (troop_set_slot, ":var0", 16, 0),
    (troop_clear_inventory, ":var0"),
    (store_troop_gold, ":var1", ":var0"),
    (troop_remove_gold, ":var0", ":var1"),
  ]),

  ("cleanup_player_camp_commander",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (troop_slot_eq, ":var1", 10, ":var0"),
      (troop_set_slot, ":var1", 10, -1),
    (try_end),
    (try_begin),
      (troop_slot_eq, ":var1", 2, 5),
      (try_begin),
        (this_or_next|main_party_has_troop, ":var1"),
        (troop_slot_ge, ":var1", 152, 1),
      (else_try),
        (troop_slot_ge, ":var1", 8, 1),
        (troop_set_slot, ":var1", 82, 1),
        (troop_set_slot, ":var1", 81, 0),
        (troop_set_slot, ":var1", 2, 0),
      (else_try),
        (troop_set_slot, ":var1", 152, 8),
        (troop_set_slot, ":var1", 151, 2),
      (try_end),
    (try_end),
  ]),

  ("disband_player_camp",
  [
    (store_script_param_1, ":var0"),
    (party_get_slot, ":var1", ":var0", 25),
    (call_script, "script_cleanup_player_camp_commander", ":var0", ":var1"),
    (party_get_slot, ":var2", ":var0", 23),
    (call_script, "script_cleanup_player_camp_slot", ":var2"),
    (remove_party, ":var0"),
  ]),

  ("add_party_until_capacity",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (party_get_free_companions_capacity, ":var2", ":var0"),
    (party_get_num_companion_stacks, ":var3", ":var1"),
    (try_for_range, ":var4", 0, ":var3"),
      (party_stack_get_troop_id, ":var5", ":var1", ":var4"),
      (neg|this_or_next|troop_is_hero, ":var5"),
      (eq, "$g_move_heroes", 1),
      (party_stack_get_size, ":var6", ":var1", ":var4"),
      (party_stack_get_num_wounded, ":var7", ":var1", ":var4"),
      (store_sub, ":var8", ":var6", ":var7"),
      (val_min, ":var6", ":var2"),
      (val_min, ":var8", ":var2"),
      (store_sub, ":var7", ":var6", ":var8"),
      (party_add_members, ":var0", ":var5", ":var6"),
      (party_wound_members, ":var0", ":var5", ":var7"),
      (val_sub, ":var2", ":var6"),
    (try_end),
    (party_get_free_prisoners_capacity, ":var2", ":var0"),
    (party_get_num_prisoner_stacks, ":var3", ":var1"),
    (try_for_range, ":var4", 0, ":var3"),
      (party_prisoner_stack_get_troop_id, ":var5", ":var1", ":var4"),
      (neg|this_or_next|troop_is_hero, ":var5"),
      (eq, "$g_move_heroes", 1),
      (party_prisoner_stack_get_size, ":var6", ":var1", ":var4"),
      (val_min, ":var6", ":var2"),
      (party_add_prisoners, ":var0", ":var5", ":var6"),
      (val_sub, ":var2", ":var6"),
    (try_end),
  ]),

  ("calc_player_camp_bandit_attraction",
  [
    (store_script_param_1, ":var0"),
    (party_get_slot, ":var1", ":var0", 23),
    (store_troop_gold, ":var2", ":var1"),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (troop_get_inventory_capacity, ":var5", ":var1"),
    (try_for_range, ":var6", 0, ":var5"),
      (troop_get_inventory_slot, ":var7", ":var1", ":var6"),
      (ge, ":var7", 0),
      (store_item_value, ":var8", ":var7"),
      (troop_get_inventory_slot_modifier, ":var9", ":var1", ":var6"),
      (try_begin),
        (eq, ":var9", 0),
      (else_try),
        (eq, ":var9", 41),
        (assign, ":var8", 0),
      (else_try),
        (this_or_next|eq, ":var9", 1),
        (this_or_next|eq, ":var9", 2),
        (this_or_next|eq, ":var9", 21),
        (this_or_next|eq, ":var9", 30),
        (this_or_next|eq, ":var9", 31),
        (this_or_next|eq, ":var9", 23),
        (eq, ":var9", 40),
        (val_div, ":var8", 2),
      (else_try),
        (this_or_next|eq, ":var9", 3),
        (this_or_next|eq, ":var9", 4),
        (this_or_next|eq, ":var9", 5),
        (this_or_next|eq, ":var9", 6),
        (this_or_next|eq, ":var9", 7),
        (this_or_next|eq, ":var9", 8),
        (eq, ":var9", 22),
        (val_mul, ":var8", 3),
        (val_div, ":var8", 4),
      (else_try),
        (this_or_next|eq, ":var9", 10),
        (this_or_next|eq, ":var9", 11),
        (this_or_next|eq, ":var9", 12),
        (this_or_next|eq, ":var9", 18),
        (this_or_next|eq, ":var9", 24),
        (this_or_next|eq, ":var9", 25),
        (this_or_next|eq, ":var9", 28),
        (this_or_next|eq, ":var9", 33),
        (this_or_next|eq, ":var9", 34),
        (eq, ":var9", 42),
        (val_mul, ":var8", 2),
      (else_try),
        (this_or_next|eq, ":var9", 13),
        (this_or_next|eq, ":var9", 19),
        (this_or_next|eq, ":var9", 20),
        (eq, ":var9", 26),
        (val_mul, ":var8", 4),
      (else_try),
        (this_or_next|eq, ":var9", 14),
        (this_or_next|eq, ":var9", 15),
        (this_or_next|eq, ":var9", 27),
        (eq, ":var9", 35),
        (val_mul, ":var8", 7),
      (else_try),
        (eq, ":var9", 29),
        (val_mul, ":var8", 11),
      (else_try),
        (this_or_next|eq, ":var9", 16),
        (eq, ":var9", 36),
        (val_mul, ":var8", 14),
      (else_try),
        (eq, ":var9", 17),
        (val_mul, ":var8", 17),
      (try_end),
      (val_add, ":var3", 1),
      (val_add, ":var4", ":var8"),
      (try_begin),
        (neg|is_between, ":var7", "itm_spice", "itm_siege_supply"),
        (val_div, ":var8", 5),
      (try_end),
      (val_add, ":var2", ":var8"),
    (try_end),
    (troop_set_slot, ":var1", 7, ":var3"),
    (troop_set_slot, ":var1", 11, ":var4"),
    (store_div, ":var10", ":var2", 100),
    (val_clamp, ":var10", 0, 100),
    (party_set_bandit_attraction, ":var0", ":var10"),
    (assign, reg0, ":var3"),
    (assign, reg1, ":var4"),
  ]),

  ("set_pcamp_banner_from_troop",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_get_slot, ":var2", ":var1", 13),
    (try_begin),
      (gt, ":var2", 0),
      (val_sub, ":var2", "spr_banner_a"),
      (val_add, ":var2", "icon_banner_01"),
      (party_set_banner_icon, ":var0", ":var2"),
    (try_end),
  ]),

  ("find_closest_player_camp",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 999999),
    (assign, ":var2", -1),
    (try_for_range, ":var3", "trp_player_camp_chest_1", "trp_player_camp_chest_end"),
      (troop_get_slot, ":var4", ":var3", 60),
      (gt, ":var4", 0),
      (party_is_active, ":var4"),
      (store_distance_to_party_from_party, ":var5", ":var0", ":var4"),
      (try_begin),
        (lt, ":var5", ":var1"),
        (assign, ":var1", ":var5"),
        (assign, ":var2", ":var4"),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
    (assign, reg1, ":var1"),
  ]),

  ("find_closest_town",
  [
    (store_script_param_1, ":var0"),
    (assign, reg0, -1),
    (assign, reg1, 9999999),
    (try_for_range, ":var1", "p_town_1_1", "p_castle_1_1"),
      (store_distance_to_party_from_party, ":var2", ":var0", ":var1"),
      (lt, ":var2", reg1),
      (assign, reg0, ":var1"),
      (assign, reg1, ":var2"),
    (try_end),
  ]),

  ("pcamp_ransom_prisoners",
  [
    (assign, ":var0", "$g_talk_troop"),
    (try_for_range, ":var1", "trp_player_camp_chest_1", "trp_player_camp_chest_end"),
      (troop_slot_eq, ":var1", 16, 1),
      (troop_get_slot, ":var2", ":var1", 60),
      (gt, ":var2", 0),
      (party_is_active, ":var2"),
      (troop_get_slot, ":var3", ":var1", 9),
      (is_between, ":var3", "p_town_1_1", "p_castle_1_1"),
      (party_get_slot, "$g_talk_troop", ":var3", 95),
      (gt, "$g_talk_troop", 0),
      (store_faction_of_party, ":var4", ":var3"),
      (store_relation, ":var5", ":var4", "fac_player_faction"),
      (ge, ":var5", 0),
      (assign, ":var6", 0),
      (party_get_num_prisoner_stacks, ":var7", ":var2"),
      (try_for_range_backwards, ":var8", 0, ":var7"),
        (party_prisoner_stack_get_troop_id, ":var9", ":var2", ":var8"),
        (neg|troop_is_hero, ":var9"),
        (party_prisoner_stack_get_size, ":var10", ":var2", ":var8"),
        (call_script, "script_game_get_prisoner_price", ":var9"),
        (store_mul, ":var11", ":var10", reg0),
        (val_add, ":var6", ":var11"),
        (party_remove_prisoners, ":var2", ":var9", ":var10"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (assign, reg0, ":var11"),
          (assign, reg1, ":var10"),
          (str_store_troop_name, s0, ":var1"),
          (str_store_troop_name, s1, ":var9"),
          (display_message, "@{!}DEBUG: {s0} sold {reg1} {s1} for {reg0}"),
        (try_end),
      (try_end),
      (try_begin),
        (gt, ":var6", 0),
        (troop_add_gold, ":var1", ":var6"),
        (call_script, "script_calc_player_camp_bandit_attraction", ":var2"),
      (try_end),
    (try_end),
    (assign, "$g_talk_troop", ":var0"),
  ]),

  ("setup_outpost_scene",
  [
    (party_get_current_terrain, ":var0", "p_main_party"),
    (assign, ":var1", "scn_outpost_one_two_plain"),
    (try_begin),
    (else_try),
    (else_try),
      (eq, ":var0", 4),
      (assign, ":var1", "scn_outpost_one_two_snow"),
    (else_try),
    (else_try),
    (else_try),
      (eq, ":var0", 11),
      (assign, ":var1", "scn_outpost_one_two_forest"),
    (else_try),
      (eq, ":var0", 12),
      (assign, ":var1", "scn_outpost_one_two_snow_forest"),
    (else_try),
    (try_end),
    (try_begin),
      (neq, ":var1", "scn_random_scene"),
      (party_slot_eq, "$g_encountered_party", 19, 2),
      (val_add, ":var1", 16),
    (try_end),
    (assign, reg1, ":var1"),
  ]),

  ("setup_fort_scene",
  [
    (party_get_current_terrain, ":var0", "p_main_party"),
    (assign, ":var1", "scn_fort"),
    (try_begin),
      (eq, ":var0", 4),
      (assign, ":var1", "scn_fort_snow"),
    (else_try),
      (eq, ":var0", 11),
      (assign, ":var1", "scn_fort_forest"),
    (try_end),
    (assign, reg1, ":var1"),
  ]),

  ("set_walker_to_type",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_for_range, ":var2", "itm_arrows", "itm_arrows"),
      (store_item_kind_count, ":var3", ":var2", ":var0"),
      (ge, ":var3", 1),
      (troop_remove_items, ":var0", ":var2", ":var3"),
    (try_end),
    (try_for_range, ":var2", "itm_arrows", "itm_arrows"),
      (store_item_kind_count, ":var3", ":var2", ":var1"),
      (ge, ":var3", 1),
      (store_item_kind_count, ":var3", ":var2", ":var0"),
      (lt, ":var3", 1),
      (troop_add_items, ":var0", ":var2", 1),
    (try_end),
    (troop_equip_items, ":var0"),
  ]),

  ("init_fort_patrols",
  [
    (try_for_agents, ":var0"),
      (agent_get_troop_id, ":var1", ":var0"),
      (agent_get_entry_no, ":var2", ":var0"),
      (try_begin),
        (eq, ":var1", "trp_ee_watchman"),
        (entry_point_get_position, pos1, ":var2"),
        (agent_set_position, ":var0", pos1),
        (val_add, ":var2", 1),
        (agent_set_slot, ":var0", 0, ":var2"),
        (entry_point_get_position, pos2, ":var2"),
        (agent_set_speed_limit, ":var0", 1),
        (agent_set_scripted_destination, ":var0", pos2, 0),
      (else_try),
        (this_or_next|eq, ":var1", "trp_fort_rider"),
        (eq, ":var2", 20),
        (agent_is_human, ":var0"),
        (call_script, "script_init_mounted_patrol", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("init_mounted_patrol",
  [
    (store_script_param, ":var0", 1),
    (agent_get_entry_no, ":var1", ":var0"),
    (agent_set_stand_animation, ":var0", "anim_ride_0"),
    (agent_set_walk_forward_animation, ":var0", "anim_ride_1"),
    (agent_set_animation, ":var0", "anim_ride_0"),
    (agent_set_animation_progress, ":var0", 10),
    (store_add, ":var2", ":var1", 1),
    (entry_point_get_position, pos1, ":var2"),
    (agent_set_slot, ":var0", 0, ":var2"),
    (agent_set_speed_limit, ":var0", 15),
    (agent_set_scripted_destination, ":var0", pos1, 0),
  ]),

  ("cf_tick_fort_patrol",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (agent_get_entry_no, ":var2", ":var0"),
    (agent_get_slot, ":var3", ":var0", 0),
    (agent_get_class, ":var4", ":var0"),
    (entry_point_get_position, pos1, ":var3"),
    (agent_get_position, pos2, ":var0"),
    (get_distance_between_positions, ":var5", pos1, pos2),
    (try_begin),
      (eq, ":var4", 2),
      (lt, ":var5", 6000),
      (store_sub, ":var6", 6000, ":var5"),
      (val_mul, ":var6", 100),
      (val_div, ":var6", 6000),
      (store_sub, ":var7", 15, 5),
      (val_mul, ":var7", -1),
      (val_mul, ":var6", ":var7"),
      (val_div, ":var6", 100),
      (val_add, ":var6", 15),
      (agent_set_speed_limit, ":var0", ":var6"),
      (assign, reg3, ":var0"),
      (assign, reg4, ":var6"),
    (try_end),
    (lt, ":var5", 400),
    (store_random_in_range, ":var8", 0, 100),
    (lt, ":var8", 20),
    (store_add, ":var9", ":var2", ":var1"),
    (val_add, ":var3", 1),
    (try_begin),
      (gt, ":var3", ":var9"),
      (assign, ":var3", ":var2"),
    (try_end),
    (try_begin),
      (eq, ":var4", 2),
      (agent_set_speed_limit, ":var0", 15),
    (try_end),
    (entry_point_get_position, pos1, ":var3"),
    (agent_set_slot, ":var0", 0, ":var3"),
    (agent_set_scripted_destination, ":var0", pos1, 0),
  ]),

  ("dplmc_send_patrol",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (set_spawn_radius, 1),
    (spawn_around_party, ":var0", "pt_patrol_party"),
    (assign, ":var5", reg0),
    (party_set_faction, ":var5", ":var3"),
    (party_set_slot, ":var5", 0, 69),
    (party_set_slot, ":var5", 123, ":var0"),
    (party_set_slot, ":var5", 286, ":var4"),
    (str_store_party_name, s5, ":var1"),
    (party_set_name, ":var5", "@{s5} patrol"),
    (party_set_ai_behavior, ":var5", ai_bhvr_patrol_party),
    (party_set_ai_object, ":var5", ":var1"),
    (party_set_slot, ":var5", 5, ":var1"),
    (party_set_slot, ":var5", 4, 4),
    (party_set_ai_patrol_radius, ":var5", 10),
    (try_begin),
      (neg|is_between, ":var3", "fac_kingdom_1", "fac_kingdoms_end"),
      (party_get_slot, ":var3", ":var0", 61),
      (try_begin),
        (is_between, "$g_player_culture", "fac_kingdom_1", "fac_kingdoms_end"),
        (assign, ":var3", "$g_player_culture"),
      (else_try),
        (party_get_slot, ":var6", ":var0", 7),
        (gt, ":var6", 0),
        (troop_get_slot, ":var3", ":var6", 14),
      (try_end),
      (try_begin),
        (eq, ":var2", 0),
        (call_script, "script_dplmc_withdraw_from_treasury", 1000),
      (else_try),
        (this_or_next|eq, ":var2", 1),
        (eq, ":var2", 3),
        (call_script, "script_dplmc_withdraw_from_treasury", 2000),
      (else_try),
        (eq, ":var2", 2),
        (call_script, "script_dplmc_withdraw_from_treasury", 3000),
      (try_end),
    (try_end),
    (faction_get_slot, ":var7", ":var3", 77),
    (faction_get_slot, ":var8", ":var3", 78),
    (faction_get_slot, ":var9", ":var3", 79),
    (try_begin),
      (eq, ":var2", 3),
      (party_add_template, ":var5", ":var9"),
      (party_add_template, ":var5", ":var9"),
      (party_add_template, ":var5", ":var9"),
      (party_add_template, ":var5", ":var9"),
      (party_add_template, ":var5", ":var9"),
    (else_try),
      (val_add, ":var2", 1),
      (val_mul, ":var2", 2),
      (try_for_range, ":var10", 0, ":var2"),
        (store_random_in_range, ":var11", 0, 3),
        (try_begin),
          (eq, ":var11", 0),
          (party_add_template, ":var5", ":var7"),
          (party_add_template, ":var5", ":var7"),
        (else_try),
          (eq, ":var11", 1),
          (party_add_template, ":var5", ":var8"),
          (party_add_template, ":var5", ":var8"),
        (else_try),
          (party_add_template, ":var5", ":var9"),
          (party_add_template, ":var5", ":var9"),
          (party_add_template, ":var5", ":var9"),
        (try_end),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (assign, reg0, ":var10"),
          (str_store_faction_name, s7, ":var3"),
          (display_message, "@{!}DEBUG - Added {reg0}.template of faction {s7} to patrol."),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (str_store_party_name, s13, ":var1"),
      (str_store_faction_name, s14, ":var3"),
      (str_store_party_name, s15, ":var0"),
      (display_message, "@{!}DEBUG - Send {s14} patrol from {s15} to {s13}"),
    (try_end),
  ]),

  ("dplmc_send_patrol_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (set_spawn_radius, 1),
    (spawn_around_party, ":var0", "pt_patrol_party"),
    (assign, ":var5", reg0),
    (party_set_faction, ":var5", ":var3"),
    (party_set_slot, ":var5", 0, 69),
    (party_set_slot, ":var5", 123, ":var0"),
    (party_set_slot, ":var5", 286, ":var4"),
    (str_store_party_name, s5, ":var1"),
    (party_set_name, ":var5", "@{s5} patrol"),
    (party_set_ai_behavior, ":var5", ai_bhvr_patrol_party),
    (party_set_ai_object, ":var5", ":var1"),
    (party_set_slot, ":var5", 5, ":var1"),
    (party_set_slot, ":var5", 4, 4),
    (party_set_ai_patrol_radius, ":var5", 10),
    (call_script, "script_party_add_party", ":var5", ":var2"),
  ]),

  ("order_weapon_type_switch",
  [
    (store_script_param_1, ":var0"),
    (get_player_agent_no, ":var1"),
    (agent_get_team, ":var2", ":var1"),
    (try_for_agents, ":var3"),
      (agent_is_alive, ":var3"),
      (agent_is_human, ":var3"),
      (agent_is_non_player, ":var3"),
      (agent_get_team, ":var4", ":var3"),
      (eq, ":var4", ":var2"),
      (agent_get_division, ":var5", ":var3"),
      (try_begin),
        (eq, ":var5", 0),
        (assign, ":var6", 1),
      (else_try),
        (eq, ":var5", 1),
        (assign, ":var7", 1),
      (else_try),
        (eq, ":var5", 2),
        (assign, ":var8", 1),
      (else_try),
        (eq, ":var5", 3),
        (assign, ":var9", 1),
      (else_try),
        (eq, ":var5", 4),
        (assign, ":var10", 1),
      (else_try),
        (eq, ":var5", 5),
        (assign, ":var11", 1),
      (else_try),
        (eq, ":var5", 6),
        (assign, ":var12", 1),
      (else_try),
        (eq, ":var5", 7),
        (assign, ":var13", 1),
      (else_try),
        (eq, ":var5", 8),
        (assign, ":var14", 1),
      (try_end),
      (class_is_listening_order, ":var4", ":var5"),
      (try_begin),
        (eq, ":var5", 0),
        (assign, ":var15", 1),
      (else_try),
        (eq, ":var5", 1),
        (assign, ":var16", 1),
      (else_try),
        (eq, ":var5", 2),
        (assign, ":var17", 1),
      (else_try),
        (eq, ":var5", 3),
        (assign, ":var18", 1),
      (else_try),
        (eq, ":var5", 4),
        (assign, ":var19", 1),
      (else_try),
        (eq, ":var5", 5),
        (assign, ":var20", 1),
      (else_try),
        (eq, ":var5", 6),
        (assign, ":var21", 1),
      (else_try),
        (eq, ":var5", 7),
        (assign, ":var22", 1),
      (else_try),
        (eq, ":var5", 8),
        (assign, ":var23", 1),
      (try_end),
      (agent_get_troop_id, ":var24", ":var3"),
      (try_begin),
        (troop_is_hero, ":var24"),
        (assign, ":var25", 4),
        (try_for_range, ":var26", 0, ":var25"),
          (troop_get_inventory_slot, ":var27", ":var24", ":var26"),
          (gt, ":var27", 0),
          (item_get_type, ":var28", ":var27"),
          (try_begin),
            (eq, ":var0", 0),
            (str_store_string, s1, "@ready bows and missiles"),
            (this_or_next|eq, ":var28", 8),
            (this_or_next|eq, ":var28", 9),
            (eq, ":var28", 10),
            (agent_set_wielded_item, ":var3", ":var27"),
            (assign, ":var25", 0),
          (else_try),
            (eq, ":var0", 1),
            (str_store_string, s1, "@ready side arms"),
            (eq, ":var28", 2),
            (agent_set_wielded_item, ":var3", ":var27"),
            (assign, ":var25", 0),
          (else_try),
            (eq, ":var0", 2),
            (str_store_string, s1, "@ready two-handers and polearms"),
            (this_or_next|eq, ":var28", 3),
            (eq, ":var28", 4),
            (agent_set_wielded_item, ":var3", ":var27"),
            (assign, ":var25", 0),
          (else_try),
            (eq, ":var0", 3),
            (agent_get_wielded_item, ":var29", ":var3", 1),
            (try_begin),
              (gt, ":var29", 0),
              (agent_unequip_item, ":var3", ":var29"),
              (agent_equip_item, ":var3", ":var29"),
              (str_store_string, s1, "@doff your shields"),
              (assign, ":var25", 0),
            (else_try),
              (eq, ":var28", 7),
              (agent_set_wielded_item, ":var3", ":var27"),
              (str_store_string, s1, "@brandish shields"),
              (assign, ":var25", 0),
            (try_end),
          (try_end),
        (try_end),
      (else_try),
        (troop_get_inventory_capacity, ":var30", ":var24"),
        (try_for_range, ":var26", 0, ":var30"),
          (troop_get_inventory_slot, ":var27", ":var24", ":var26"),
          (gt, ":var27", 0),
          (item_get_type, ":var28", ":var27"),
          (try_begin),
            (eq, ":var0", 0),
            (str_store_string, s1, "@ready bows and missiles"),
            (this_or_next|eq, ":var28", 8),
            (this_or_next|eq, ":var28", 9),
            (eq, ":var28", 10),
            (agent_has_item_equipped, ":var3", ":var27"),
            (agent_set_wielded_item, ":var3", ":var27"),
            (assign, ":var30", 0),
          (else_try),
            (eq, ":var0", 1),
            (str_store_string, s1, "@ready side arms"),
            (eq, ":var28", 2),
            (agent_has_item_equipped, ":var3", ":var27"),
            (agent_set_wielded_item, ":var3", ":var27"),
            (assign, ":var30", 0),
          (else_try),
            (eq, ":var0", 2),
            (str_store_string, s1, "@ready two-handers and polearms"),
            (this_or_next|eq, ":var28", 3),
            (eq, ":var28", 4),
            (agent_has_item_equipped, ":var3", ":var27"),
            (agent_set_wielded_item, ":var3", ":var27"),
            (assign, ":var30", 0),
          (else_try),
            (eq, ":var0", 3),
            (agent_get_wielded_item, ":var29", ":var3", 1),
            (try_begin),
              (gt, ":var29", 0),
              (agent_unequip_item, ":var3", ":var29"),
              (agent_equip_item, ":var3", ":var29"),
              (str_store_string, s1, "@doff your shields"),
              (assign, ":var30", 0),
            (else_try),
              (eq, ":var28", 7),
              (agent_has_item_equipped, ":var3", ":var27"),
              (agent_set_wielded_item, ":var3", ":var27"),
              (str_store_string, s1, "@brandish shields"),
              (assign, ":var30", 0),
            (try_end),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (str_clear, s2),
    (str_clear, s3),
    (assign, ":var31", 0),
    (assign, ":var32", 0),
    (try_begin),
      (eq, ":var6", 1),
      (val_add, ":var31", 1),
      (eq, ":var15", 1),
      (val_add, ":var32", 1),
      (str_store_class_name, 2, 0),
    (try_end),
    (try_begin),
      (eq, ":var7", 1),
      (val_add, ":var31", 1),
      (eq, ":var16", 1),
      (val_add, ":var32", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 1),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var8", 1),
      (val_add, ":var31", 1),
      (eq, ":var17", 1),
      (val_add, ":var32", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 2),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 2),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var9", 1),
      (val_add, ":var31", 1),
      (eq, ":var18", 1),
      (val_add, ":var32", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 3),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 3),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var10", 1),
      (val_add, ":var31", 1),
      (eq, ":var19", 1),
      (val_add, ":var32", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 4),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 4),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var11", 1),
      (val_add, ":var31", 1),
      (eq, ":var20", 1),
      (val_add, ":var32", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 5),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 5),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var12", 1),
      (val_add, ":var31", 1),
      (eq, ":var21", 1),
      (val_add, ":var32", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 6),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 6),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var13", 1),
      (val_add, ":var31", 1),
      (eq, ":var22", 1),
      (val_add, ":var32", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 7),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 7),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var14", 1),
      (val_add, ":var31", 1),
      (eq, ":var23", 1),
      (val_add, ":var32", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 8),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 8),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var32", ":var31"),
      (str_store_string, s2, "@Everyone"),
    (try_end),
    (try_begin),
      (gt, ":var32", 0),
      (display_message, "@{!}{s2}, {s1}!", 0xFFDDDD66),
    (try_end),
    (str_clear, s2),
    (str_clear, s3),
  ]),

  ("cf_order_volley_check",
  [
    (assign, ":var0", 0),
    (assign, ":var1", 4),
    (assign, ":var2", 19),
    (try_for_range, ":var3", 0, ":var1"),
      (try_for_range, ":var4", 10, ":var2"),
        (team_slot_ge, ":var3", ":var4", 1),
        (assign, ":var0", 1),
        (assign, ":var1", 0),
        (assign, ":var2", 10),
      (try_end),
    (try_end),
    (eq, ":var0", 1),
  ]),

  ("order_volley_begin_end",
  [
    (get_player_agent_no, ":var0"),
    (agent_get_team, ":var1", ":var0"),
    (assign, ":var2", 0),
    (try_for_range, ":var3", 0, 8),
      (class_is_listening_order, ":var1", ":var3"),
      (store_add, ":var4", 10, ":var3"),
      (team_slot_eq, ":var1", ":var4", 0),
      (team_set_slot, ":var1", ":var4", 1),
      (assign, ":var2", 1),
      (str_store_string, s1, "@prepare to volley"),
      (try_begin),
        (eq, ":var3", 0),
        (assign, ":var5", 1),
      (else_try),
        (eq, ":var3", 1),
        (assign, ":var6", 1),
      (else_try),
        (eq, ":var3", 2),
        (assign, ":var7", 1),
      (else_try),
        (eq, ":var3", 3),
        (assign, ":var8", 1),
      (else_try),
        (eq, ":var3", 4),
        (assign, ":var9", 1),
      (else_try),
        (eq, ":var3", 5),
        (assign, ":var10", 1),
      (else_try),
        (eq, ":var3", 6),
        (assign, ":var11", 1),
      (else_try),
        (eq, ":var3", 7),
        (assign, ":var12", 1),
      (else_try),
        (eq, ":var3", 8),
        (assign, ":var13", 1),
      (try_end),
    (try_end),
    (try_for_agents, ":var14"),
      (agent_is_alive, ":var14"),
      (agent_is_human, ":var14"),
      (agent_is_non_player, ":var14"),
      (agent_get_team, ":var15", ":var14"),
      (eq, ":var15", ":var1"),
      (agent_get_division, ":var3", ":var14"),
      (try_begin),
        (eq, ":var3", 0),
        (assign, ":var16", 1),
      (else_try),
        (eq, ":var3", 1),
        (assign, ":var17", 1),
      (else_try),
        (eq, ":var3", 2),
        (assign, ":var18", 1),
      (else_try),
        (eq, ":var3", 3),
        (assign, ":var19", 1),
      (else_try),
        (eq, ":var3", 4),
        (assign, ":var20", 1),
      (else_try),
        (eq, ":var3", 5),
        (assign, ":var21", 1),
      (else_try),
        (eq, ":var3", 6),
        (assign, ":var22", 1),
      (else_try),
        (eq, ":var3", 7),
        (assign, ":var23", 1),
      (else_try),
        (eq, ":var3", 8),
        (assign, ":var24", 1),
      (try_end),
      (class_is_listening_order, ":var15", ":var3"),
      (try_begin),
        (eq, ":var2", 0),
        (store_add, ":var4", 10, ":var3"),
        (team_set_slot, ":var15", ":var4", 0),
        (try_begin),
          (agent_slot_ge, ":var14", 33, 1),
          (agent_set_slot, ":var14", 33, 0),
          (agent_set_attack_action, ":var14", 0, 0),
        (try_end),
        (str_store_string, s1, "@end volley"),
        (try_begin),
          (eq, ":var3", 0),
          (assign, ":var5", 1),
        (else_try),
          (eq, ":var3", 1),
          (assign, ":var6", 1),
        (else_try),
          (eq, ":var3", 2),
          (assign, ":var7", 1),
        (else_try),
          (eq, ":var3", 3),
          (assign, ":var8", 1),
        (else_try),
          (eq, ":var3", 4),
          (assign, ":var9", 1),
        (else_try),
          (eq, ":var3", 5),
          (assign, ":var10", 1),
        (else_try),
          (eq, ":var3", 6),
          (assign, ":var11", 1),
        (else_try),
          (eq, ":var3", 7),
          (assign, ":var12", 1),
        (else_try),
          (eq, ":var3", 8),
          (assign, ":var13", 1),
        (try_end),
      (else_try),
        (eq, ":var2", 1),
        (agent_get_horse, ":var25", ":var14"),
        (le, ":var25", 0),
        (assign, ":var26", -1),
        (try_begin),
          (team_get_movement_order, ":var27", ":var15", ":var3"),
          (this_or_next|eq, ":var27", 0),
          (eq, ":var27", 11),
          (agent_get_wielded_item, ":var28", ":var14", 0),
          (ge, ":var28", 0),
          (item_get_type, ":var29", ":var28"),
          (try_begin),
            (this_or_next|eq, ":var29", 8),
            (eq, ":var29", 9),
            (assign, ":var26", ":var29"),
          (else_try),
            (assign, ":var30", 4),
            (try_for_range, ":var31", 0, ":var30"),
              (agent_get_item_slot, ":var32", ":var14", ":var31"),
              (ge, ":var32", 0),
              (item_get_type, ":var29", ":var32"),
              (this_or_next|eq, ":var29", 8),
              (eq, ":var29", 9),
              (agent_set_wielded_item, ":var14", ":var32"),
              (assign, ":var26", ":var29"),
              (assign, ":var30", 0),
            (try_end),
          (try_end),
        (try_end),
        (agent_set_slot, ":var14", 33, ":var26"),
      (try_end),
    (try_end),
    (str_clear, s2),
    (str_clear, s3),
    (assign, ":var33", 0),
    (assign, ":var34", 0),
    (try_begin),
      (eq, ":var16", 1),
      (val_add, ":var33", 1),
      (eq, ":var5", 1),
      (val_add, ":var34", 1),
      (str_store_class_name, 2, 0),
    (try_end),
    (try_begin),
      (eq, ":var17", 1),
      (val_add, ":var33", 1),
      (eq, ":var6", 1),
      (val_add, ":var34", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 1),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var18", 1),
      (val_add, ":var33", 1),
      (eq, ":var7", 1),
      (val_add, ":var34", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 2),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 2),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var19", 1),
      (val_add, ":var33", 1),
      (eq, ":var8", 1),
      (val_add, ":var34", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 3),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 3),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var20", 1),
      (val_add, ":var33", 1),
      (eq, ":var9", 1),
      (val_add, ":var34", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 4),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 4),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var21", 1),
      (val_add, ":var33", 1),
      (eq, ":var10", 1),
      (val_add, ":var34", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 5),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 5),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var22", 1),
      (val_add, ":var33", 1),
      (eq, ":var11", 1),
      (val_add, ":var34", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 6),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 6),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var23", 1),
      (val_add, ":var33", 1),
      (eq, ":var12", 1),
      (val_add, ":var34", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 7),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 7),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var24", 1),
      (val_add, ":var33", 1),
      (eq, ":var13", 1),
      (val_add, ":var34", 1),
      (try_begin),
        (neg|str_is_empty, s2),
        (str_store_class_name, 3, 8),
        (str_store_string, s2, "@{!}{s2}, {s3}"),
      (else_try),
        (str_store_class_name, 2, 8),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var34", ":var33"),
      (str_store_string, s2, "@Everyone"),
    (try_end),
    (try_begin),
      (gt, ":var34", 0),
      (display_message, "@{!}{s2}, {s1}!", 0xFFDDDD66),
    (try_end),
    (str_clear, s2),
    (str_clear, s3),
  ]),

  ("dplmc_copy_inventory",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_clear_inventory, ":var1"),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (troop_get_inventory_slot, ":var4", ":var0", ":var3"),
      (troop_set_inventory_slot, ":var1", ":var3", ":var4"),
      (troop_get_inventory_slot_modifier, ":var5", ":var0", ":var3"),
      (troop_set_inventory_slot_modifier, ":var1", ":var3", ":var5"),
      (troop_inventory_slot_get_item_amount, ":var6", ":var0", ":var3"),
      (gt, ":var6", 0),
      (troop_inventory_slot_set_item_amount, ":var1", ":var3", ":var6"),
    (try_end),
  ]),

  ("set_player_kingdom_init",
  [
    (set_show_messages, 0),
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (store_script_param, ":var5", 6),
    (store_script_param, ":var6", 7),
    (remove_troop_from_site, ":var5", ":var6"),
    (str_store_troop_name, s10, "trp_player"),
    (call_script, "script_activate_player_faction", "trp_player"),
    (call_script, "script_give_center_to_faction_aux", ":var1", "fac_player_supporters_faction"),
    (call_script, "script_give_center_to_lord", ":var1", "trp_player", 1),
    (troop_set_slot, "trp_player", 12, ":var1"),
    (troop_set_slot, "trp_player", 60, ":var1"),
    (troop_get_slot, ":var7", ":var5", 10),
    (remove_party, ":var7"),
    (troop_set_slot, ":var5", 10, -1),
    (troop_set_slot, ":var5", 2, 0),
    (troop_set_slot, ":var5", 12, -1),
    (troop_set_slot, ":var5", 60, -1),
    (troop_set_note_available, ":var5", 0),
    (try_for_range, ":var8", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var9", ":var8", 7),
      (try_begin),
        (eq, "$kaos_kings_kingdom", 1),
        (eq, ":var9", "trp_kingdom_1_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 2),
        (eq, ":var9", "trp_kingdom_2_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 3),
        (eq, ":var9", "trp_kingdom_3_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 4),
        (eq, ":var9", "trp_kingdom_4_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 5),
        (eq, ":var9", "trp_kingdom_5_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 6),
        (eq, ":var9", "trp_kingdom_6_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 7),
        (eq, ":var9", "trp_kingdom_7_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 8),
        (eq, ":var9", "trp_kingdom_8_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 9),
        (eq, ":var9", "trp_kingdom_9_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 10),
        (eq, ":var9", "trp_kingdom_10_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 11),
        (eq, ":var9", "trp_kingdom_11_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 12),
        (eq, ":var9", "trp_kingdom_12_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 13),
        (eq, ":var9", "trp_kingdom_13_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 14),
        (eq, ":var9", "trp_kingdom_14_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 15),
        (eq, ":var9", "trp_kingdom_15_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 16),
        (eq, ":var9", "trp_kingdom_16_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 17),
        (eq, ":var9", "trp_kingdom_17_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 18),
        (eq, ":var9", "trp_kingdom_18_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 19),
        (eq, ":var9", "trp_kingdom_19_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 20),
        (eq, ":var9", "trp_kingdom_20_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 21),
        (eq, ":var9", "trp_pope"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 22),
        (eq, ":var9", "trp_kingdom_22_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 23),
        (eq, ":var9", "trp_kingdom_23_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 24),
        (eq, ":var9", "trp_kingdom_24_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 25),
        (eq, ":var9", "trp_kingdom_25_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 26),
        (eq, ":var9", "trp_kingdom_26_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 27),
        (eq, ":var9", "trp_kingdom_27_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 28),
        (eq, ":var9", "trp_kingdom_28_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 29),
        (eq, ":var9", "trp_kingdom_29_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 30),
        (eq, ":var9", "trp_kingdom_30_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 31),
        (eq, ":var9", "trp_kingdom_31_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 32),
        (eq, ":var9", "trp_kingdom_32_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 33),
        (eq, ":var9", "trp_kingdom_33_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 34),
        (eq, ":var9", "trp_kingdom_34_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 35),
        (eq, ":var9", "trp_kingdom_35_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 36),
        (eq, ":var9", "trp_kingdom_36_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 37),
        (eq, ":var9", "trp_kingdom_37_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 38),
        (eq, ":var9", "trp_kingdom_38_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 39),
        (eq, ":var9", "trp_kingdom_39_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 40),
        (eq, ":var9", "trp_kingdom_40_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 41),
        (eq, ":var9", "trp_kingdom_41_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (else_try),
        (eq, "$kaos_kings_kingdom", 42),
        (eq, ":var9", "trp_kingdom_42_lord"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_neutral"),
        (call_script, "script_give_center_to_faction", ":var8", "fac_player_supporters_faction"),
        (call_script, "script_assign_lords_to_empty_centers_noplayer"),
      (try_end),
    (try_end),
    (try_for_range, ":var10", "p_village_1_1", "p_salt_mine"),
      (party_slot_eq, ":var10", 120, ":var1"),
      (party_set_faction, ":var10", "fac_player_supporters_faction"),
      (party_set_slot, ":var10", 7, "trp_player"),
    (try_end),
    (assign, "$g_player_court", ":var1"),
    (store_faction_of_troop, ":var11", ":var9"),
    (faction_get_slot, ":var12", ":var11", 10),
    (faction_set_slot, "fac_player_supporters_faction", 10, ":var12"),
    (faction_set_slot, "fac_player_faction", 10, ":var12"),
    (assign, "$players_kingdom", "fac_player_supporters_faction"),
    (try_for_range, ":var9", ":var3", ":var4"),
      (troop_slot_eq, ":var9", 166, 1),
      (call_script, "script_change_troop_faction_game_start", ":var9", "fac_player_supporters_faction"),
      (troop_set_slot, ":var9", 2, 2),
      (store_random_in_range, ":var13", -10, 30),
      (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var9", ":var13"),
      (troop_set_slot, ":var9", 5, 1),
    (try_end),
    (party_get_slot, ":var14", "$g_player_court", 19),
    (troop_set_slot, "trp_player", 165, ":var14"),
    (call_script, "script_assign_lords_to_empty_centers_noplayer"),
    (try_for_range, ":var15", "trp_knight_1_1_wife", "trp_heroes_end"),
      (store_faction_of_troop, ":var16", ":var15"),
      (eq, ":var16", ":var0"),
      (call_script, "script_change_troop_faction_game_start", ":var15", "fac_player_supporters_faction"),
      (troop_set_slot, ":var15", 5, 1),
    (try_end),
    (faction_set_note_available, "fac_player_supporters_faction", 1),
    (call_script, "script_update_faction_notes", "fac_player_supporters_faction"),
    (call_script, "script_change_player_right_to_rule", 50),
    (troop_set_slot, "trp_player", 31, ":var5"),
    (assign, "$players_kingdom_name_set", 1),
    (faction_set_slot, ":var0", 21, 2),
    (store_random_in_range, ":var17", 0, 45),
    (troop_set_slot, "trp_player", 150, ":var17"),
    (store_random_in_range, ":var18", 800, 1000),
    (troop_set_slot, "trp_player", 7, ":var18"),
    (faction_set_slot, "fac_player_supporters_faction", 11, "trp_player"),
    (faction_set_slot, "fac_player_supporters_faction", 8, "trp_player"),
    (call_script, "script_update_all_notes"),
    (party_set_morale, "p_main_party", 100),
    (try_begin),
      (party_get_slot, ":var19", "$g_player_court", 19),
      (try_begin),
        (eq, ":var0", "fac_kingdom_1"),
        (assign, ":var19", "fac_kingdom_1"),
      (try_end),
      (try_begin),
        (neg|is_between, ":var19", "fac_culture_finnish", "fac_player_faction"),
        (faction_get_slot, ":var19", ":var0", 10),
      (try_end),
      (faction_get_slot, ":var20", ":var19", 77),
      (faction_get_slot, ":var21", ":var19", 78),
      (faction_get_slot, ":var22", ":var19", 79),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var20"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var21"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (party_add_template, "p_main_party", ":var22"),
      (store_random_in_range, ":var23", 23000, 25000),
      (party_upgrade_with_xp, "p_main_party", ":var23", 0),
      (store_random_in_range, ":var24", 18000, 22000),
      (party_upgrade_with_xp, "p_main_party", ":var24", 0),
    (try_end),
    (try_for_range, ":var25", "fac_kingdom_1", "fac_kingdoms_end"),
      (store_relation, ":var26", ":var0", ":var25"),
      (set_relation, "fac_player_supporters_faction", ":var25", ":var26"),
      (store_relation, ":var27", ":var25", ":var0"),
      (set_relation, ":var25", "fac_player_supporters_faction", ":var27"),
      (call_script, "script_set_player_relation_with_faction", ":var25", ":var26"),
    (try_end),
    (try_for_range, ":var25", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_set_slot, ":var25", 32, 1),
    (try_end),
    (try_begin),
      (eq, ":var0", "fac_kingdom_1"),
      (assign, "$kaos_kings_kingdom", 1),
      (str_store_string, s1, "str_kaos_kingdom1_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_2"),
      (assign, "$kaos_kings_kingdom", 2),
      (str_store_string, s1, "str_kaos_kingdom2_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_3"),
      (assign, "$kaos_kings_kingdom", 3),
      (str_store_string, s1, "str_kaos_kingdom3_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_4"),
      (assign, "$kaos_kings_kingdom", 4),
      (str_store_string, s1, "str_kaos_kingdom4_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_5"),
      (assign, "$kaos_kings_kingdom", 5),
      (str_store_string, s1, "str_kaos_kingdom5_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_6"),
      (assign, "$kaos_kings_kingdom", 6),
      (str_store_string, s1, "str_kaos_kingdom6_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_7"),
      (assign, "$kaos_kings_kingdom", 7),
      (str_store_string, s1, "str_kaos_kingdom7_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_8"),
      (assign, "$kaos_kings_kingdom", 8),
      (str_store_string, s1, "str_kaos_kingdom8_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_9"),
      (assign, "$kaos_kings_kingdom", 9),
      (str_store_string, s1, "str_kaos_kingdom9_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_10"),
      (assign, "$kaos_kings_kingdom", 10),
      (str_store_string, s1, "str_kaos_kingdom10_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_11"),
      (assign, "$kaos_kings_kingdom", 11),
      (str_store_string, s1, "str_kaos_kingdom11_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_12"),
      (assign, "$kaos_kings_kingdom", 12),
      (str_store_string, s1, "str_kaos_kingdom12_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_13"),
      (assign, "$kaos_kings_kingdom", 13),
      (str_store_string, s1, "str_kaos_kingdom13_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_14"),
      (assign, "$kaos_kings_kingdom", 14),
      (str_store_string, s1, "str_kaos_kingdom14_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_15"),
      (assign, "$kaos_kings_kingdom", 15),
      (str_store_string, s1, "str_kaos_kingdom15_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_16"),
      (assign, "$kaos_kings_kingdom", 16),
      (str_store_string, s1, "str_kaos_kingdom16_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_17"),
      (assign, "$kaos_kings_kingdom", 17),
      (str_store_string, s1, "str_kaos_kingdom17_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_18"),
      (assign, "$kaos_kings_kingdom", 18),
      (str_store_string, s1, "str_kaos_kingdom18_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_19"),
      (assign, "$kaos_kings_kingdom", 19),
      (str_store_string, s1, "str_kaos_kingdom19_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_20"),
      (assign, "$kaos_kings_kingdom", 20),
      (str_store_string, s1, "str_kaos_kingdom20_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_papacy"),
      (assign, "$kaos_kings_kingdom", 21),
      (str_store_string, s1, "str_kaos_kingdom21_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_22"),
      (assign, "$kaos_kings_kingdom", 22),
      (str_store_string, s1, "str_kaos_kingdom22_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_23"),
      (assign, "$kaos_kings_kingdom", 23),
      (str_store_string, s1, "str_kaos_kingdom23_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_24"),
      (assign, "$kaos_kings_kingdom", 24),
      (str_store_string, s1, "str_kaos_kingdom24_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_25"),
      (assign, "$kaos_kings_kingdom", 25),
      (str_store_string, s1, "str_kaos_kingdom25_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_26"),
      (assign, "$kaos_kings_kingdom", 26),
      (str_store_string, s1, "str_kaos_kingdom26_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_27"),
      (assign, "$kaos_kings_kingdom", 27),
      (str_store_string, s1, "str_kaos_kingdom27_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_28"),
      (assign, "$kaos_kings_kingdom", 28),
      (str_store_string, s1, "str_kaos_kingdom28_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_29"),
      (assign, "$kaos_kings_kingdom", 29),
      (str_store_string, s1, "str_kaos_kingdom29_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_30"),
      (assign, "$kaos_kings_kingdom", 30),
      (str_store_string, s1, "str_kaos_kingdom30_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_31"),
      (assign, "$kaos_kings_kingdom", 31),
      (str_store_string, s1, "str_kaos_kingdom31_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_32"),
      (assign, "$kaos_kings_kingdom", 32),
      (str_store_string, s1, "str_kaos_kingdom32_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_33"),
      (assign, "$kaos_kings_kingdom", 33),
      (str_store_string, s1, "str_kaos_kingdom33_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_34"),
      (assign, "$kaos_kings_kingdom", 34),
      (str_store_string, s1, "str_kaos_kingdom34_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_35"),
      (assign, "$kaos_kings_kingdom", 35),
      (str_store_string, s1, "str_kaos_kingdom35_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_36"),
      (assign, "$kaos_kings_kingdom", 36),
      (str_store_string, s1, "str_kaos_kingdom36_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_37"),
      (assign, "$kaos_kings_kingdom", 37),
      (str_store_string, s1, "str_kaos_kingdom37_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_38"),
      (assign, "$kaos_kings_kingdom", 38),
      (str_store_string, s1, "str_kaos_kingdom38_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_39"),
      (assign, "$kaos_kings_kingdom", 39),
      (str_store_string, s1, "str_kaos_kingdom39_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_40"),
      (assign, "$kaos_kings_kingdom", 40),
      (str_store_string, s1, "str_kaos_kingdom40_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_41"),
      (assign, "$kaos_kings_kingdom", 41),
      (str_store_string, s1, "str_kaos_kingdom41_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (else_try),
      (eq, ":var0", "fac_kingdom_42"),
      (assign, "$kaos_kings_kingdom", 42),
      (str_store_string, s1, "str_kaos_kingdom42_king"),
      (faction_set_name, "fac_player_supporters_faction", s1),
    (try_end),
    (call_script, "script_initialize_faction_stats_player", ":var0"),
    (call_script, "script_initialize_faction_troop_types_player"),
    (faction_set_slot, "fac_player_supporters_faction", 11, "trp_player"),
    (troop_set_name, "trp_player", s10),
    (troop_set_plural_name, "trp_player", s10),
    (try_begin),
      (faction_get_slot, ":var28", ":var0", 135),
      (call_script, "script_troop_set_title_according_to_culture_language_king", "trp_player", ":var19", ":var28"),
    (try_end),
    (assign, "$players_kingdom", "fac_player_supporters_faction"),
    (troop_set_faction, "trp_player", "fac_player_supporters_faction"),
    (assign, "$g_player_minister", "trp_temporary_minister"),
    (troop_set_faction, "trp_temporary_minister", "fac_player_supporters_faction"),
    (assign, "$g_player_chamberlain", "trp_dplmc_chamberlain"),
    (troop_set_faction, "trp_dplmc_chamberlain", "fac_player_supporters_faction"),
    (assign, "$g_player_chancellor", "trp_dplmc_chancellor"),
    (troop_set_faction, "trp_dplmc_chancellor", "fac_player_supporters_faction"),
    (assign, "$g_player_constable", "trp_dplmc_constable"),
    (troop_set_faction, "trp_dplmc_constable", "fac_player_supporters_faction"),
    (try_begin),
      (faction_get_slot, ":var29", "$players_kingdom", 10),
      (try_begin),
        (eq, ":var29", "fac_culture_finnish"),
        (assign, "$g_player_know_culture_finnish", 1),
      (else_try),
        (eq, ":var29", "fac_culture_mazovian"),
        (assign, "$g_player_know_culture_mazovian", 1),
      (else_try),
        (eq, ":var29", "fac_culture_serbian"),
        (assign, "$g_player_know_culture_serbian", 1),
      (else_try),
        (eq, ":var29", "fac_culture_welsh"),
        (assign, "$g_player_know_culture_welsh", 1),
      (else_try),
        (eq, ":var29", "fac_culture_teutonic"),
        (assign, "$g_player_know_culture_teutonic", 1),
      (else_try),
        (eq, ":var29", "fac_culture_balkan"),
        (assign, "$g_player_know_culture_balkan", 1),
      (else_try),
        (eq, ":var29", "fac_culture_rus"),
        (assign, "$g_player_know_culture_rus", 1),
      (else_try),
        (eq, ":var29", "fac_culture_nordic"),
        (assign, "$g_player_know_culture_nordic", 1),
      (else_try),
        (eq, ":var29", "fac_culture_baltic"),
        (assign, "$g_player_know_culture_baltic", 1),
      (else_try),
        (eq, ":var29", "fac_culture_marinid"),
        (assign, "$g_player_know_culture_marinid", 1),
      (else_try),
        (eq, ":var29", "fac_culture_mamluke"),
        (assign, "$g_player_know_culture_mamluke", 1),
      (else_try),
        (eq, ":var29", "fac_culture_byzantium"),
        (assign, "$g_player_know_culture_byzantium", 1),
      (else_try),
        (eq, ":var29", "fac_culture_iberian"),
        (assign, "$g_player_know_culture_iberian", 1),
        (assign, "$g_ask_for_language", 1),
      (else_try),
        (eq, ":var29", "fac_culture_italian"),
        (assign, "$g_player_know_culture_italian", 1),
      (else_try),
        (eq, ":var29", "fac_culture_andalus"),
        (assign, "$g_player_know_culture_andalus", 1),
      (else_try),
        (eq, ":var29", "fac_culture_gaelic"),
        (assign, "$g_player_know_culture_gaelic", 1),
      (else_try),
        (eq, ":var29", "fac_culture_anatolian_christian"),
        (assign, "$g_player_know_culture_anatolian_christian", 1),
      (else_try),
        (eq, ":var29", "fac_culture_anatolian"),
        (assign, "$g_player_know_culture_anatolian", 1),
      (else_try),
        (eq, ":var29", "fac_culture_western"),
        (assign, "$g_player_know_culture_western", 1),
        (assign, "$g_ask_for_language", 1),
      (else_try),
        (eq, ":var29", "fac_culture_mongol"),
        (assign, "$g_player_know_culture_mongol", 1),
      (else_try),
        (eq, ":var29", "fac_culture_templar"),
        (assign, "$g_player_know_culture_templar", 1),
      (else_try),
        (eq, ":var29", "fac_culture_hospitaller"),
        (assign, "$g_player_know_culture_hospitaller", 1),
      (else_try),
        (eq, ":var29", "fac_culture_antioch"),
        (assign, "$g_player_know_culture_antiochian", 1),
      (else_try),
        (eq, ":var29", "fac_culture_tripoli"),
        (assign, "$g_player_know_culture_tripoli", 1),
      (else_try),
        (eq, ":var29", "fac_culture_ibelin"),
        (assign, "$g_player_know_culture_ibelin", 1),
      (else_try),
        (eq, ":var29", "fac_culture_jerusalem"),
        (assign, "$g_player_know_culture_jerusalem", 1),
      (else_try),
        (eq, ":var29", "fac_culture_crusader"),
        (assign, "$g_player_know_culture_crusader", 1),
      (else_try),
        (eq, ":var29", "fac_culture_cuman"),
        (assign, "$g_player_know_culture_cuman", 1),
      (else_try),
        (eq, ":var29", "fac_culture_english"),
        (assign, "$g_player_know_culture_english", 1),
      (else_try),
        (eq, ":var29", "fac_culture_french"),
        (assign, "$g_player_know_culture_french", 1),
      (else_try),
        (eq, ":var29", "fac_culture_hungarian"),
        (assign, "$g_player_know_culture_hungarian", 1),
      (else_try),
        (eq, ":var29", "fac_culture_polish"),
        (assign, "$g_player_know_culture_polish", 1),
      (else_try),
        (eq, ":var29", "fac_culture_player"),
        (assign, "$g_player_know_culture_player", 1),
      (try_end),
    (try_end),
    (troop_set_slot, "trp_player", 165, ":var29"),
    (set_show_messages, 1),
  ]),

  ("set_player_prince_init",
  [
    (set_show_messages, 0),
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (str_store_troop_name, s10, "trp_player"),
    (call_script, "script_player_join_faction", ":var0"),
    (assign, "$player_has_homage", 1),
    (assign, "$g_player_banner_granted", 1),
    (assign, "$g_invite_faction", 1),
    (assign, "$g_invite_faction_lord", 1),
    (store_random_in_range, ":var6", 20, 45),
    (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var3", ":var6"),
    (troop_set_slot, ":var3", 5, 1),
    (try_for_range, ":var7", ":var1", ":var2"),
      (store_random_in_range, ":var6", -22, 39),
      (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var7", ":var6"),
      (troop_set_slot, ":var7", 5, 1),
    (try_end),
    (try_for_range, ":var8", "trp_knight_1_1_wife", "trp_heroes_end"),
      (store_faction_of_troop, ":var9", ":var8"),
      (eq, ":var9", ":var0"),
      (store_random_in_range, ":var6", -2, 18),
      (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var8", ":var6"),
      (troop_set_slot, ":var8", 5, 1),
    (try_end),
    (call_script, "script_change_player_right_to_rule", 25),
    (troop_set_slot, "trp_player", 31, ":var3"),
    (store_random_in_range, ":var10", 10, 45),
    (troop_set_slot, "trp_player", 150, ":var10"),
    (call_script, "script_kaos_get_lord_highest_controversy_in_faction", ":var0"),
    (assign, ":var11", reg0),
    (try_for_range, ":var12", "p_town_1_1", "p_village_1_1"),
      (party_get_slot, ":var4", ":var12", 7),
      (eq, ":var4", ":var11"),
      (assign, ":var5", ":var12"),
    (try_end),
    (try_begin),
      (eq, ":var5", 0),
      (call_script, "script_kaos_get_lord_lowest_relation_in_faction", ":var0"),
      (assign, ":var11", reg0),
      (try_for_range, ":var12", "p_town_1_1", "p_village_1_1"),
        (party_get_slot, ":var4", ":var12", 7),
        (eq, ":var4", ":var11"),
        (assign, ":var5", ":var12"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var5", 0),
      (try_begin),
        (eq, ":var0", "fac_kingdom_1"),
        (assign, ":var5", "p_castle_1_1"),
        (party_get_slot, ":var4", "p_castle_1_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_2"),
        (assign, ":var5", "p_castle_2_1"),
        (party_get_slot, ":var4", "p_castle_2_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_3"),
        (assign, ":var5", "p_castle_3_1"),
        (party_get_slot, ":var4", "p_castle_3_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_4"),
        (assign, ":var5", "p_castle_4_1"),
        (party_get_slot, ":var4", "p_castle_4_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_5"),
        (assign, ":var5", "p_castle_5_3"),
        (party_get_slot, ":var4", "p_castle_5_3", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_6"),
        (assign, ":var5", "p_castle_6_1"),
        (party_get_slot, ":var4", "p_castle_6_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_7"),
        (assign, ":var5", "p_castle_7_1"),
        (party_get_slot, ":var4", "p_castle_7_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_8"),
        (assign, ":var5", "p_castle_8_1"),
        (party_get_slot, ":var4", "p_castle_8_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_9"),
        (assign, ":var5", "p_castle_9_1"),
        (party_get_slot, ":var4", "p_castle_9_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_10"),
        (assign, ":var5", "p_castle_10_1"),
        (party_get_slot, ":var4", "p_castle_10_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_11"),
        (assign, ":var5", "p_castle_11_1"),
        (party_get_slot, ":var4", "p_castle_11_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_12"),
        (assign, ":var5", "p_castle_12_1"),
        (party_get_slot, ":var4", "p_castle_12_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_13"),
        (assign, ":var5", "p_castle_13_1"),
        (party_get_slot, ":var4", "p_castle_13_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_14"),
        (assign, ":var5", "p_castle_14_1"),
        (party_get_slot, ":var4", "p_castle_14_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_15"),
        (assign, ":var5", "p_castle_15_1"),
        (party_get_slot, ":var4", "p_castle_15_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_16"),
        (assign, ":var5", "p_castle_16_1"),
        (party_get_slot, ":var4", "p_castle_16_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_17"),
        (assign, ":var5", "p_castle_17_1"),
        (party_get_slot, ":var4", "p_castle_17_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_18"),
        (assign, ":var5", "p_castle_18_1"),
        (party_get_slot, ":var4", "p_castle_18_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_19"),
        (assign, ":var5", "p_castle_19_1"),
        (party_get_slot, ":var4", "p_castle_19_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_20"),
        (assign, ":var5", "p_castle_20_1"),
        (party_get_slot, ":var4", "p_castle_20_1", 7),
      (else_try),
        (eq, ":var0", "fac_papacy"),
        (assign, ":var5", "p_town_21_1"),
        (party_get_slot, ":var4", "p_town_21_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_22"),
        (assign, ":var5", "p_castle_22_1"),
        (party_get_slot, ":var4", "p_castle_22_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_23"),
        (assign, ":var5", "p_castle_23_1"),
        (party_get_slot, ":var4", "p_castle_23_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_24"),
        (assign, ":var5", "p_castle_24_1"),
        (party_get_slot, ":var4", "p_castle_24_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_25"),
        (assign, ":var5", "p_castle_25_1"),
        (party_get_slot, ":var4", "p_castle_25_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_26"),
        (assign, ":var5", "p_castle_26_1"),
        (party_get_slot, ":var4", "p_castle_26_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_27"),
        (assign, ":var5", "p_castle_27_1"),
        (party_get_slot, ":var4", "p_castle_27_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_28"),
        (assign, ":var5", "p_castle_28_1"),
        (party_get_slot, ":var4", "p_castle_28_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_29"),
        (assign, ":var5", "p_castle_29_1"),
        (party_get_slot, ":var4", "p_castle_29_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_30"),
        (assign, ":var5", "p_castle_30_1"),
        (party_get_slot, ":var4", "p_castle_30_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_31"),
        (assign, ":var5", "p_castle_31_1"),
        (party_get_slot, ":var4", "p_castle_31_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_32"),
        (assign, ":var5", "p_castle_32_1"),
        (party_get_slot, ":var4", "p_castle_32_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_33"),
        (assign, ":var5", "p_castle_33_1"),
        (party_get_slot, ":var4", "p_castle_33_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_34"),
        (assign, ":var5", "p_castle_34_1"),
        (party_get_slot, ":var4", "p_castle_34_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_35"),
        (assign, ":var5", "p_castle_35_1"),
        (party_get_slot, ":var4", "p_castle_35_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_36"),
        (assign, ":var5", "p_castle_36_1"),
        (party_get_slot, ":var4", "p_castle_36_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_37"),
        (assign, ":var5", "p_castle_37_1"),
        (party_get_slot, ":var4", "p_castle_37_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_38"),
        (assign, ":var5", "p_castle_38_1"),
        (party_get_slot, ":var4", "p_castle_38_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_39"),
        (assign, ":var5", "p_castle_39_1"),
        (party_get_slot, ":var4", "p_castle_39_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_40"),
        (assign, ":var5", "p_town_40_1"),
        (party_get_slot, ":var4", "p_town_40_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_41"),
        (assign, ":var5", "p_town_41_1"),
        (party_get_slot, ":var4", "p_town_41_1", 7),
      (else_try),
        (eq, ":var0", "fac_kingdom_42"),
        (assign, ":var5", "p_town_42_1"),
        (party_get_slot, ":var4", "p_town_42_1", 7),
      (try_end),
    (try_end),
    (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var4", -5),
    (call_script, "script_give_center_to_lord", ":var5", "trp_player", 0),
    (assign, "$g_invite_offered_center", ":var5"),
    (assign, "$kaos_prince_start", ":var5"),
    (assign, reg0, ":var5"),
    (call_script, "script_update_all_notes"),
    (assign, "$g_player_chamberlain", "trp_dplmc_chamberlain"),
    (troop_set_faction, "trp_dplmc_chamberlain", "fac_player_supporters_faction"),
    (assign, "$g_player_constable", "trp_dplmc_constable"),
    (troop_set_faction, "trp_dplmc_constable", "fac_player_supporters_faction"),
    (try_begin),
      (faction_slot_eq, ":var0", 137, -1),
      (faction_set_slot, ":var0", 137, "trp_player"),
    (else_try),
      (faction_slot_eq, ":var0", 138, -1),
      (faction_set_slot, ":var0", 138, "trp_player"),
    (else_try),
      (faction_slot_eq, ":var0", 139, -1),
      (faction_set_slot, ":var0", 139, "trp_player"),
    (try_end),
    (assign, "$players_kingdom", ":var0"),
    (troop_set_faction, "trp_player", ":var0"),
    (call_script, "script_change_player_right_to_rule", 35),
    (store_random_in_range, ":var13", 20, 45),
    (troop_set_slot, "trp_player", 150, ":var13"),
    (store_random_in_range, ":var13", 600, 800),
    (troop_set_slot, "trp_player", 7, ":var13"),
    (party_set_morale, "p_main_party", 100),
    (try_begin),
      (party_get_slot, ":var14", "$g_player_court", 19),
      (try_begin),
        (eq, ":var0", "fac_kingdom_1"),
        (assign, ":var14", "fac_kingdom_1"),
      (try_end),
      (try_begin),
        (neg|is_between, ":var14", "fac_culture_finnish", "fac_player_faction"),
        (faction_get_slot, ":var14", ":var0", 10),
      (try_end),
      (try_begin),
        (call_script, "script_troop_set_title_according_to_faction", "trp_player", ":var0"),
      (try_end),
      (faction_get_slot, ":var15", ":var14", 77),
      (faction_get_slot, ":var16", ":var14", 78),
      (faction_get_slot, ":var17", ":var14", 79),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var16"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (party_add_template, "p_main_party", ":var17"),
      (store_random_in_range, ":var18", 18000, 20000),
      (party_upgrade_with_xp, "p_main_party", ":var18", 0),
      (store_random_in_range, ":var18", 14000, 15000),
      (party_upgrade_with_xp, "p_main_party", ":var18", 0),
    (try_end),
    (troop_set_slot, "trp_player", 165, ":var14"),
    (try_begin),
      (faction_get_slot, ":var19", "$players_kingdom", 10),
      (try_begin),
        (eq, ":var19", "fac_culture_finnish"),
        (assign, "$g_player_know_culture_finnish", 1),
      (else_try),
        (eq, ":var19", "fac_culture_mazovian"),
        (assign, "$g_player_know_culture_mazovian", 1),
      (else_try),
        (eq, ":var19", "fac_culture_serbian"),
        (assign, "$g_player_know_culture_serbian", 1),
      (else_try),
        (eq, ":var19", "fac_culture_welsh"),
        (assign, "$g_player_know_culture_welsh", 1),
      (else_try),
        (eq, ":var19", "fac_culture_teutonic"),
        (assign, "$g_player_know_culture_teutonic", 1),
      (else_try),
        (eq, ":var19", "fac_culture_balkan"),
        (assign, "$g_player_know_culture_balkan", 1),
      (else_try),
        (eq, ":var19", "fac_culture_rus"),
        (assign, "$g_player_know_culture_rus", 1),
      (else_try),
        (eq, ":var19", "fac_culture_nordic"),
        (assign, "$g_player_know_culture_nordic", 1),
      (else_try),
        (eq, ":var19", "fac_culture_baltic"),
        (assign, "$g_player_know_culture_baltic", 1),
      (else_try),
        (eq, ":var19", "fac_culture_marinid"),
        (assign, "$g_player_know_culture_marinid", 1),
      (else_try),
        (eq, ":var19", "fac_culture_mamluke"),
        (assign, "$g_player_know_culture_mamluke", 1),
      (else_try),
        (eq, ":var19", "fac_culture_byzantium"),
        (assign, "$g_player_know_culture_byzantium", 1),
      (else_try),
        (eq, ":var19", "fac_culture_iberian"),
        (assign, "$g_player_know_culture_iberian", 1),
        (assign, "$g_ask_for_language", 1),
      (else_try),
        (eq, ":var19", "fac_culture_italian"),
        (assign, "$g_player_know_culture_italian", 1),
      (else_try),
        (eq, ":var19", "fac_culture_andalus"),
        (assign, "$g_player_know_culture_andalus", 1),
      (else_try),
        (eq, ":var19", "fac_culture_gaelic"),
        (assign, "$g_player_know_culture_gaelic", 1),
      (else_try),
        (eq, ":var19", "fac_culture_anatolian_christian"),
        (assign, "$g_player_know_culture_anatolian_christian", 1),
      (else_try),
        (eq, ":var19", "fac_culture_anatolian"),
        (assign, "$g_player_know_culture_anatolian", 1),
      (else_try),
        (eq, ":var19", "fac_culture_western"),
        (assign, "$g_player_know_culture_western", 1),
        (assign, "$g_ask_for_language", 1),
      (else_try),
        (eq, ":var19", "fac_culture_mongol"),
        (assign, "$g_player_know_culture_mongol", 1),
      (else_try),
        (eq, ":var19", "fac_culture_templar"),
        (assign, "$g_player_know_culture_templar", 1),
      (else_try),
        (eq, ":var19", "fac_culture_hospitaller"),
        (assign, "$g_player_know_culture_hospitaller", 1),
      (else_try),
        (eq, ":var19", "fac_culture_antioch"),
        (assign, "$g_player_know_culture_antiochian", 1),
      (else_try),
        (eq, ":var19", "fac_culture_tripoli"),
        (assign, "$g_player_know_culture_tripoli", 1),
      (else_try),
        (eq, ":var19", "fac_culture_ibelin"),
        (assign, "$g_player_know_culture_ibelin", 1),
      (else_try),
        (eq, ":var19", "fac_culture_jerusalem"),
        (assign, "$g_player_know_culture_jerusalem", 1),
      (else_try),
        (eq, ":var19", "fac_culture_crusader"),
        (assign, "$g_player_know_culture_crusader", 1),
      (else_try),
        (eq, ":var19", "fac_culture_cuman"),
        (assign, "$g_player_know_culture_cuman", 1),
      (else_try),
        (eq, ":var19", "fac_culture_english"),
        (assign, "$g_player_know_culture_english", 1),
      (else_try),
        (eq, ":var19", "fac_culture_french"),
        (assign, "$g_player_know_culture_french", 1),
      (else_try),
        (eq, ":var19", "fac_culture_hungarian"),
        (assign, "$g_player_know_culture_hungarian", 1),
      (else_try),
        (eq, ":var19", "fac_culture_polish"),
        (assign, "$g_player_know_culture_polish", 1),
      (else_try),
        (eq, ":var19", "fac_culture_player"),
        (assign, "$g_player_know_culture_player", 1),
      (try_end),
    (try_end),
    (troop_set_slot, "trp_player", 165, ":var19"),
    (set_show_messages, 1),
  ]),

  ("set_player_vassal_init",
  [
    (set_show_messages, 0),
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (str_store_troop_name, s10, "trp_player"),
    (call_script, "script_player_join_faction", ":var0"),
    (assign, "$player_has_homage", 1),
    (assign, "$g_player_banner_granted", 1),
    (assign, "$g_invite_faction", 1),
    (assign, "$g_invite_faction_lord", 1),
    (try_begin),
      (eq, ":var0", "fac_kingdom_1"),
      (assign, ":var4", "p_village_1_1"),
      (party_get_slot, ":var5", "p_village_1_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_2"),
      (assign, ":var4", "p_village_2_1"),
      (party_get_slot, ":var5", "p_village_2_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_3"),
      (assign, ":var4", "p_village_3_1"),
      (party_get_slot, ":var5", "p_village_3_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_4"),
      (assign, ":var4", "p_village_4_1"),
      (party_get_slot, ":var5", "p_village_4_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_5"),
      (assign, ":var4", "p_village_5_3"),
      (party_get_slot, ":var5", "p_village_5_3", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_6"),
      (assign, ":var4", "p_village_6_1"),
      (party_get_slot, ":var5", "p_village_6_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_7"),
      (assign, ":var4", "p_village_7_1"),
      (party_get_slot, ":var5", "p_village_7_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_8"),
      (assign, ":var4", "p_village_8_1"),
      (party_get_slot, ":var5", "p_village_8_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_9"),
      (assign, ":var4", "p_village_9_1"),
      (party_get_slot, ":var5", "p_village_9_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_10"),
      (assign, ":var4", "p_village_10_1"),
      (party_get_slot, ":var5", "p_village_10_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_11"),
      (assign, ":var4", "p_village_11_1"),
      (party_get_slot, ":var5", "p_village_11_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_12"),
      (assign, ":var4", "p_village_12_1"),
      (party_get_slot, ":var5", "p_village_12_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_13"),
      (assign, ":var4", "p_village_13_1"),
      (party_get_slot, ":var5", "p_village_13_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_14"),
      (assign, ":var4", "p_village_14_1"),
      (party_get_slot, ":var5", "p_village_14_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_15"),
      (assign, ":var4", "p_village_15_1"),
      (party_get_slot, ":var5", "p_village_15_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_16"),
      (assign, ":var4", "p_village_16_1"),
      (party_get_slot, ":var5", "p_village_16_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_17"),
      (assign, ":var4", "p_village_17_1"),
      (party_get_slot, ":var5", "p_village_17_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_18"),
      (assign, ":var4", "p_village_18_1"),
      (party_get_slot, ":var5", "p_village_18_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_19"),
      (assign, ":var4", "p_village_19_1"),
      (party_get_slot, ":var5", "p_village_19_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_20"),
      (assign, ":var4", "p_village_20_1"),
      (party_get_slot, ":var5", "p_village_20_1", 7),
    (else_try),
      (eq, ":var0", "fac_papacy"),
      (assign, ":var4", "p_town_21_1"),
      (party_get_slot, ":var5", "p_town_21_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_22"),
      (assign, ":var4", "p_village_22_1"),
      (party_get_slot, ":var5", "p_village_22_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_23"),
      (assign, ":var4", "p_village_23_1"),
      (party_get_slot, ":var5", "p_village_23_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_24"),
      (assign, ":var4", "p_village_24_1"),
      (party_get_slot, ":var5", "p_village_24_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_25"),
      (assign, ":var4", "p_village_25_1"),
      (party_get_slot, ":var5", "p_village_25_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_26"),
      (assign, ":var4", "p_village_26_1"),
      (party_get_slot, ":var5", "p_village_26_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_27"),
      (assign, ":var4", "p_village_27_1"),
      (party_get_slot, ":var5", "p_village_27_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_28"),
      (assign, ":var4", "p_village_28_1"),
      (party_get_slot, ":var5", "p_village_28_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_29"),
      (assign, ":var4", "p_village_29_1"),
      (party_get_slot, ":var5", "p_village_29_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_30"),
      (assign, ":var4", "p_village_30_1"),
      (party_get_slot, ":var5", "p_village_30_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_31"),
      (assign, ":var4", "p_village_31_1"),
      (party_get_slot, ":var5", "p_village_31_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_32"),
      (assign, ":var4", "p_village_32_1"),
      (party_get_slot, ":var5", "p_village_32_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_33"),
      (assign, ":var4", "p_village_33_1"),
      (party_get_slot, ":var5", "p_village_33_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_34"),
      (assign, ":var4", "p_village_34_1"),
      (party_get_slot, ":var5", "p_village_34_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_35"),
      (assign, ":var4", "p_village_35_1"),
      (party_get_slot, ":var5", "p_village_35_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_36"),
      (assign, ":var4", "p_village_36_1"),
      (party_get_slot, ":var5", "p_village_36_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_37"),
      (assign, ":var4", "p_village_37_1"),
      (party_get_slot, ":var5", "p_village_37_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_38"),
      (assign, ":var4", "p_village_38_1"),
      (party_get_slot, ":var5", "p_village_38_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_39"),
      (assign, ":var4", "p_village_39_1"),
      (party_get_slot, ":var5", "p_village_39_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_40"),
      (assign, ":var4", "p_village_40_1"),
      (party_get_slot, ":var5", "p_village_40_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_41"),
      (assign, ":var4", "p_village_41_1"),
      (party_get_slot, ":var5", "p_village_41_1", 7),
    (else_try),
      (eq, ":var0", "fac_kingdom_42"),
      (assign, ":var4", "p_village_42_1"),
      (party_get_slot, ":var5", "p_village_42_1", 7),
    (try_end),
    (call_script, "script_get_poorest_village_of_faction", ":var0"),
    (assign, ":var6", reg0),
    (call_script, "script_give_center_to_lord", ":var6", ":var5", 0),
    (call_script, "script_give_center_to_lord", ":var4", "trp_player", 0),
    (assign, "$g_invite_offered_center", ":var4"),
    (assign, "$kaos_vasal_start", ":var4"),
    (assign, ":var4", reg0),
    (store_random_in_range, ":var7", 15, 35),
    (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var3", ":var7"),
    (try_for_range, ":var8", ":var1", ":var2"),
      (store_random_in_range, ":var7", -15, 35),
      (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var8", ":var7"),
      (troop_set_slot, ":var8", 5, 1),
    (try_end),
    (try_for_range, ":var9", "trp_knight_1_1_wife", "trp_heroes_end"),
      (store_faction_of_troop, ":var10", ":var9"),
      (eq, ":var10", ":var0"),
      (store_random_in_range, ":var7", -5, 15),
      (call_script, "script_troop_change_relation_with_troop", "trp_player", ":var9", ":var7"),
      (troop_set_slot, ":var9", 5, 1),
    (try_end),
    (call_script, "script_change_player_right_to_rule", 15),
    (store_random_in_range, ":var11", 20, 45),
    (troop_set_slot, "trp_player", 150, ":var11"),
    (store_random_in_range, ":var11", 200, 400),
    (troop_set_slot, "trp_player", 7, ":var11"),
    (assign, "$players_kingdom", ":var0"),
    (troop_set_faction, "trp_player", ":var0"),
    (party_set_morale, "p_main_party", 100),
    (try_begin),
      (party_get_slot, ":var12", "$g_player_court", 19),
      (try_begin),
        (eq, ":var0", "fac_kingdom_1"),
        (assign, ":var12", "fac_kingdom_1"),
      (try_end),
      (try_begin),
        (neg|is_between, ":var12", "fac_culture_finnish", "fac_player_faction"),
        (faction_get_slot, ":var12", ":var0", 10),
      (try_end),
      (try_begin),
        (call_script, "script_troop_set_title_according_to_faction", "trp_player", ":var0"),
      (try_end),
      (faction_get_slot, ":var13", ":var12", 77),
      (faction_get_slot, ":var14", ":var12", 78),
      (faction_get_slot, ":var15", ":var12", 79),
      (party_add_template, "p_main_party", ":var13"),
      (party_add_template, "p_main_party", ":var13"),
      (party_add_template, "p_main_party", ":var13"),
      (party_add_template, "p_main_party", ":var13"),
      (party_add_template, "p_main_party", ":var13"),
      (party_add_template, "p_main_party", ":var13"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var14"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (party_add_template, "p_main_party", ":var15"),
      (store_random_in_range, ":var16", 18000, 20000),
      (party_upgrade_with_xp, "p_main_party", ":var16", 0),
      (store_random_in_range, ":var16", 14000, 15000),
      (party_upgrade_with_xp, "p_main_party", ":var16", 0),
    (try_end),
    (call_script, "script_update_all_notes"),
    (troop_set_slot, "trp_player", 165, ":var12"),
    (try_begin),
      (faction_get_slot, ":var17", "$players_kingdom", 10),
      (try_begin),
        (eq, ":var17", "fac_culture_finnish"),
        (assign, "$g_player_know_culture_finnish", 1),
      (else_try),
        (eq, ":var17", "fac_culture_mazovian"),
        (assign, "$g_player_know_culture_mazovian", 1),
      (else_try),
        (eq, ":var17", "fac_culture_serbian"),
        (assign, "$g_player_know_culture_serbian", 1),
      (else_try),
        (eq, ":var17", "fac_culture_welsh"),
        (assign, "$g_player_know_culture_welsh", 1),
      (else_try),
        (eq, ":var17", "fac_culture_teutonic"),
        (assign, "$g_player_know_culture_teutonic", 1),
      (else_try),
        (eq, ":var17", "fac_culture_balkan"),
        (assign, "$g_player_know_culture_balkan", 1),
      (else_try),
        (eq, ":var17", "fac_culture_rus"),
        (assign, "$g_player_know_culture_rus", 1),
      (else_try),
        (eq, ":var17", "fac_culture_nordic"),
        (assign, "$g_player_know_culture_nordic", 1),
      (else_try),
        (eq, ":var17", "fac_culture_baltic"),
        (assign, "$g_player_know_culture_baltic", 1),
      (else_try),
        (eq, ":var17", "fac_culture_marinid"),
        (assign, "$g_player_know_culture_marinid", 1),
      (else_try),
        (eq, ":var17", "fac_culture_mamluke"),
        (assign, "$g_player_know_culture_mamluke", 1),
      (else_try),
        (eq, ":var17", "fac_culture_byzantium"),
        (assign, "$g_player_know_culture_byzantium", 1),
      (else_try),
        (eq, ":var17", "fac_culture_iberian"),
        (assign, "$g_player_know_culture_iberian", 1),
        (assign, "$g_ask_for_language", 1),
      (else_try),
        (eq, ":var17", "fac_culture_italian"),
        (assign, "$g_player_know_culture_italian", 1),
      (else_try),
        (eq, ":var17", "fac_culture_andalus"),
        (assign, "$g_player_know_culture_andalus", 1),
      (else_try),
        (eq, ":var17", "fac_culture_gaelic"),
        (assign, "$g_player_know_culture_gaelic", 1),
      (else_try),
        (eq, ":var17", "fac_culture_anatolian_christian"),
        (assign, "$g_player_know_culture_anatolian_christian", 1),
      (else_try),
        (eq, ":var17", "fac_culture_anatolian"),
        (assign, "$g_player_know_culture_anatolian", 1),
      (else_try),
        (eq, ":var17", "fac_culture_western"),
        (assign, "$g_player_know_culture_western", 1),
        (assign, "$g_ask_for_language", 1),
      (else_try),
        (eq, ":var17", "fac_culture_mongol"),
        (assign, "$g_player_know_culture_mongol", 1),
      (else_try),
        (eq, ":var17", "fac_culture_templar"),
        (assign, "$g_player_know_culture_templar", 1),
      (else_try),
        (eq, ":var17", "fac_culture_hospitaller"),
        (assign, "$g_player_know_culture_hospitaller", 1),
      (else_try),
        (eq, ":var17", "fac_culture_antioch"),
        (assign, "$g_player_know_culture_antiochian", 1),
      (else_try),
        (eq, ":var17", "fac_culture_tripoli"),
        (assign, "$g_player_know_culture_tripoli", 1),
      (else_try),
        (eq, ":var17", "fac_culture_ibelin"),
        (assign, "$g_player_know_culture_ibelin", 1),
      (else_try),
        (eq, ":var17", "fac_culture_jerusalem"),
        (assign, "$g_player_know_culture_jerusalem", 1),
      (else_try),
        (eq, ":var17", "fac_culture_crusader"),
        (assign, "$g_player_know_culture_crusader", 1),
      (else_try),
        (eq, ":var17", "fac_culture_cuman"),
        (assign, "$g_player_know_culture_cuman", 1),
      (else_try),
        (eq, ":var17", "fac_culture_english"),
        (assign, "$g_player_know_culture_english", 1),
      (else_try),
        (eq, ":var17", "fac_culture_french"),
        (assign, "$g_player_know_culture_french", 1),
      (else_try),
        (eq, ":var17", "fac_culture_hungarian"),
        (assign, "$g_player_know_culture_hungarian", 1),
      (else_try),
        (eq, ":var17", "fac_culture_polish"),
        (assign, "$g_player_know_culture_polish", 1),
      (else_try),
        (eq, ":var17", "fac_culture_player"),
        (assign, "$g_player_know_culture_player", 1),
      (try_end),
    (try_end),
    (troop_set_slot, "trp_player", 165, ":var17"),
    (set_show_messages, 1),
  ]),

  ("change_troop_faction_game_start",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_faction_of_troop, ":var2", ":var0"),
    (try_begin),
      (faction_slot_eq, ":var2", 8, ":var0"),
      (call_script, "script_check_and_finish_active_army_quests_for_faction", ":var2"),
      (try_begin),
        (faction_slot_eq, ":var2", 64, 0),
        (faction_set_slot, ":var2", 64, 1),
        (store_current_hours, ":var3"),
        (val_max, ":var3", 0),
        (faction_set_slot, ":var2", 65, ":var3"),
        (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var4", 166, 1),
          (store_faction_of_troop, ":var5", ":var4"),
          (eq, ":var5", ":var2"),
          (troop_set_slot, ":var4", 154, -1),
        (try_end),
        (try_begin),
          (eq, "$players_kingdom", ":var2"),
          (troop_set_slot, "trp_player", 154, -1),
        (try_end),
      (try_end),
      (try_begin),
        (troop_get_slot, ":var6", ":var0", 10),
        (party_is_active, ":var6"),
        (party_set_marshall, ":var6", 0),
      (try_end),
      (faction_set_slot, ":var2", 8, -1),
    (try_end),
    (troop_set_slot, ":var0", 154, -1),
    (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var4", 166, 1),
      (troop_slot_eq, ":var4", 154, ":var0"),
      (troop_set_slot, ":var4", 154, -1),
    (try_end),
    (try_begin),
      (ge, "$cheat_mode", 1),
      (str_store_troop_name, s4, ":var0"),
      (display_message, "@{!}DEBUG - {s4} faction changed in normal faction change"),
    (try_end),
    (troop_set_faction, ":var0", ":var1"),
    (troop_set_slot, ":var0", 50, 0),
    (troop_set_slot, ":var0", 53, 0),
    (troop_set_slot, ":var0", 54, 0),
    (troop_set_slot, ":var0", 47, 0),
    (call_script, "script_troop_set_title_according_to_faction", ":var0", ":var1"),
    (try_begin),
      (this_or_next|eq, ":var1", "$players_kingdom"),
      (eq, ":var1", "fac_player_supporters_faction"),
      (call_script, "script_check_concilio_calradi_achievement"),
    (try_end),
    (try_for_range, ":var7", "p_town_1_1", "p_village_1_1"),
      (party_slot_eq, ":var7", 7, ":var0"),
      (party_set_faction, ":var7", ":var1"),
      (try_for_range, ":var8", "p_village_1_1", "p_salt_mine"),
        (party_slot_eq, ":var8", 120, ":var7"),
        (party_set_faction, ":var8", ":var1"),
        (party_get_slot, ":var9", ":var8", 122),
        (try_begin),
          (gt, ":var9", 0),
          (party_is_active, ":var9"),
          (party_set_faction, ":var9", ":var1"),
        (try_end),
        (try_begin),
          (party_get_slot, ":var10", ":var8", 7),
          (neq, ":var10", ":var0"),
          (party_set_slot, ":var8", 7, ":var0"),
        (try_end),
      (try_end),
    (try_end),
    (try_for_range, ":var11", "trp_knight_1_1_wife", "trp_heroes_end"),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var11"),
      (assign, ":var12", reg0),
      (assign, ":var13", reg1),
      (eq, ":var12", ":var0"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var11"),
        (display_message, "@{!}DEBUG - {s4} faction changed by guardian moving"),
      (try_end),
      (troop_set_faction, ":var11", ":var1"),
      (troop_slot_eq, ":var11", 8, -1),
      (troop_set_slot, ":var11", 12, ":var13"),
    (try_end),
    (try_for_range, ":var8", "p_village_1_1", "p_salt_mine"),
      (party_slot_eq, ":var8", 7, ":var0"),
      (store_faction_of_party, ":var14", ":var8"),
      (try_begin),
        (neq, ":var14", ":var1"),
        (party_set_slot, ":var8", 7, -1),
      (try_end),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var15", ":var0", 10),
      (gt, ":var15", 0),
      (party_set_faction, ":var15", ":var1"),
      (party_get_num_prisoner_stacks, ":var16", ":var15"),
      (try_for_range_backwards, ":var17", 0, ":var16"),
        (party_prisoner_stack_get_troop_id, ":var18", ":var15", ":var17"),
        (store_faction_of_troop, ":var19", ":var18"),
        (troop_is_hero, ":var18"),
        (eq, ":var19", ":var1"),
        (call_script, "script_remove_troop_from_prison", ":var18"),
        (party_remove_prisoners, ":var15", ":var18", 1),
      (try_end),
    (try_end),
    (try_for_range, ":var20", 0, "qst_quests_end"),
      (check_quest_active, ":var20"),
      (quest_slot_eq, ":var20", 6, ":var0"),
      (str_store_troop_name, s4, ":var0"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_s4_changing_sides_aborts_quest"),
      (try_end),
      (call_script, "script_abort_quest", ":var20", 0),
    (try_end),
    (try_for_range, ":var21", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var21", 166, 1),
      (troop_get_slot, ":var22", ":var21", 10),
      (party_is_active, ":var22"),
      (party_get_attached_to, ":var23", ":var22"),
      (is_between, ":var23", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var24", ":var22"),
      (store_faction_of_party, ":var25", ":var23"),
      (neq, ":var24", ":var25"),
      (party_detach, ":var22"),
    (try_end),
    (faction_get_slot, ":var26", ":var1", 11),
    (try_begin),
      (eq, ":var26", "trp_player"),
      (neq, ":var0", "$g_talk_troop"),
      (troop_set_slot, ":var0", 2, 0),
    (else_try),
      (is_between, ":var26", "trp_npc1", "trp_knight_1_1_wife"),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (call_script, "script_troop_change_relation_with_troop", ":var26", ":var0", 5),
      (val_add, "$total_indictment_changes", 5),
    (try_end),
    (try_begin),
      (troop_slot_ge, ":var0", 30, 0),
    (else_try),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (try_for_range, ":var27", 35, 38),
        (troop_get_slot, ":var28", ":var0", ":var27"),
        (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var28", ":var0"),
      (try_end),
      (call_script, "script_assign_troop_love_interests", ":var0"),
    (else_try),
      (is_between, ":var0", "trp_knight_1_1_wife", "trp_heroes_end"),
      (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
        (try_for_range, ":var27", 35, 38),
          (troop_slot_eq, ":var4", ":var27", ":var0"),
          (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var0", ":var4"),
        (try_end),
      (try_end),
    (try_end),
    (troop_get_slot, ":var29", ":var0", 10),
    (try_for_range, ":var7", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var7", 0, 4),
      (party_get_slot, ":var30", ":var7", 34),
      (eq, ":var30", ":var29"),
      (party_set_slot, ":var7", 34, -1),
      (try_begin),
        (party_slot_eq, ":var7", 35, 1),
        (party_set_slot, ":var7", 35, 0),
        (party_set_extra_text, ":var7", "str_empty_string"),
      (try_end),
    (else_try),
      (party_get_slot, ":var31", ":var7", 54),
      (eq, ":var31", ":var29"),
      (party_set_slot, ":var7", 54, -1),
      (try_begin),
        (party_slot_eq, ":var7", 35, 5),
        (party_set_slot, ":var7", 35, 0),
        (party_set_extra_text, ":var7", "str_empty_string"),
      (try_end),
    (try_end),
    (call_script, "script_update_all_notes"),
    (call_script, "script_update_village_market_towns"),
  ]),

  ("assign_lords_to_empty_centers_noplayer",
  [
    (set_show_messages, 0),
    (try_for_range, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_set_slot, ":var0", 12, 0),
    (try_end),
    (try_for_range, ":var1", 0, "trp_knight_1_1_wife"),
      (troop_set_slot, ":var1", 46, 0),
    (try_end),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var3", ":var2", 7),
      (try_begin),
        (this_or_next|eq, ":var3", -1),
        (eq, ":var3", -3),
        (store_faction_of_party, ":var4", ":var2"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_party_name, s4, ":var2"),
          (str_store_faction_name, s5, ":var4"),
          (display_message, "str_s4_of_the_s5_is_unassigned"),
        (try_end),
        (faction_get_slot, ":var5", ":var4", 12),
        (val_add, ":var5", 1),
        (faction_set_slot, ":var4", 12, ":var5"),
      (else_try),
        (eq, ":var3", -2),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_party_name, s4, ":var2"),
          (str_store_faction_name, s5, ":var4"),
          (display_message, "str_s4_of_the_s5_is_reserved_for_player"),
        (try_end),
      (else_try),
        (ge, ":var3", 0),
        (troop_set_slot, ":var3", 46, 1),
      (try_end),
    (try_end),
    (try_for_range, ":var1", 0, "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var1", 2, 2),
      (this_or_next|gt, ":var1", "trp_player"),
      (eq, "$player_has_homage", 1),
      (troop_slot_eq, ":var1", 46, 0),
      (store_faction_of_troop, ":var6", ":var1"),
      (is_between, ":var6", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neq, "$players_kingdom", ":var6"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var1"),
        (str_store_faction_name, s5, ":var6"),
        (display_message, "str_s4_of_the_s5_has_no_fiefs"),
      (try_end),
      (faction_get_slot, ":var5", ":var6", 12),
      (val_add, ":var5", 1),
      (faction_set_slot, ":var6", 12, ":var5"),
    (try_end),
    (try_begin),
      (eq, "$cheat_mode", 1),
      (try_for_range, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_get_slot, reg4, ":var0", 12),
        (str_store_faction_name, s4, ":var0"),
        (display_message, "str_s4_unassigned_centers_plus_landless_lords_=_reg4"),
      (try_end),
    (try_end),
    (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var3", ":var2", 7),
      (this_or_next|eq, ":var3", -1),
      (eq, ":var3", -3),
      (store_faction_of_party, ":var4", ":var2"),
      (is_between, ":var4", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neg|faction_slot_eq, ":var4", 11, "trp_player"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (str_store_party_name, s5, ":var2"),
        (try_begin),
          (neg|faction_slot_ge, ":var4", 12, 2),
          (str_store_faction_name, s4, ":var4"),
          (display_message, "str_s4_holds_s5_in_reserve"),
        (try_end),
      (try_end),
      (faction_slot_ge, ":var4", 12, 2),
      (assign, ":var7", -1),
      (assign, ":var8", -1),
      (try_begin),
        (eq, ":var3", -1),
        (try_begin),
          (eq, "$players_kingdom", ":var4"),
          (eq, "$player_has_homage", 1),
          (assign, ":var7", -2),
          (call_script, "script_calculate_troop_score_for_center", "trp_player", ":var2"),
          (assign, ":var8", reg0),
        (try_end),
      (try_end),
      (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var9", 2, 2),
        (store_faction_of_troop, ":var10", ":var9"),
        (eq, ":var10", ":var4"),
        (neq, "$players_kingdom", ":var10"),
        (call_script, "script_calculate_troop_score_for_center", ":var9", ":var2"),
        (assign, ":var11", reg0),
        (try_begin),
          (troop_slot_eq, ":var9", 46, 0),
          (is_between, ":var2", "p_village_1_1", "p_salt_mine"),
          (val_mul, ":var11", 10),
        (try_end),
        (gt, ":var11", ":var8"),
        (assign, ":var8", ":var11"),
        (assign, ":var7", ":var9"),
      (try_end),
      (try_begin),
        (this_or_next|ge, ":var7", 0),
        (eq, ":var7", -2),
        (faction_get_slot, ":var12", ":var4", 12),
        (val_sub, ":var12", 1),
        (try_begin),
          (eq, ":var7", -2),
          (troop_slot_eq, "trp_player", 46, 0),
          (troop_set_slot, "trp_player", 46, 1),
          (val_sub, ":var12", 1),
        (else_try),
          (troop_slot_eq, ":var7", 46, 0),
          (troop_set_slot, ":var7", 46, 1),
          (val_sub, ":var12", 1),
        (try_end),
        (faction_set_slot, ":var4", 12, ":var12"),
      (try_end),
      (try_begin),
        (ge, ":var7", 0),
        (call_script, "script_give_center_to_lord", ":var2", ":var7", 1),
      (else_try),
        (eq, ":var7", -2),
        (party_set_slot, ":var2", 7, -2),
        (try_begin),
          (party_slot_eq, ":var2", 0, 2),
          (try_for_range, ":var13", "p_village_1_1", "p_salt_mine"),
            (party_slot_eq, ":var13", 120, ":var2"),
            (party_slot_eq, ":var13", 7, -1),
            (party_set_slot, ":var13", 7, -2),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (set_show_messages, 1),
  ]),

  ("initialize_faction_troop_types_player",
  [
    (faction_get_slot, ":var0", "$players_kingdom", 10),
    (faction_get_slot, ":var1", ":var0", 41),
    (faction_set_slot, "$players_kingdom", 41, ":var1"),
    (faction_get_slot, ":var1", ":var0", 42),
    (faction_set_slot, "$players_kingdom", 42, ":var1"),
    (faction_get_slot, ":var1", ":var0", 43),
    (faction_set_slot, "$players_kingdom", 43, ":var1"),
    (faction_get_slot, ":var1", ":var0", 44),
    (faction_set_slot, "$players_kingdom", 44, ":var1"),
    (faction_get_slot, ":var1", ":var0", 45),
    (faction_set_slot, "$players_kingdom", 45, ":var1"),
    (faction_get_slot, ":var1", ":var0", 100),
    (faction_set_slot, "$players_kingdom", 100, ":var1"),
    (faction_get_slot, ":var1", ":var0", 101),
    (faction_set_slot, "$players_kingdom", 101, ":var1"),
    (faction_get_slot, ":var1", ":var0", 48),
    (faction_set_slot, "$players_kingdom", 48, ":var1"),
    (faction_get_slot, ":var1", ":var0", 49),
    (faction_set_slot, "$players_kingdom", 49, ":var1"),
    (faction_get_slot, ":var1", ":var0", 50),
    (faction_set_slot, "$players_kingdom", 50, ":var1"),
    (faction_get_slot, ":var1", ":var0", 51),
    (faction_set_slot, "$players_kingdom", 51, ":var1"),
    (faction_get_slot, ":var1", ":var0", 52),
    (faction_set_slot, "$players_kingdom", 52, ":var1"),
    (faction_get_slot, ":var1", ":var0", 77),
    (faction_set_slot, "$players_kingdom", 77, ":var1"),
    (faction_get_slot, ":var1", ":var0", 78),
    (faction_set_slot, "$players_kingdom", 78, ":var1"),
    (faction_get_slot, ":var1", ":var0", 79),
    (faction_set_slot, "$players_kingdom", 79, ":var1"),
    (faction_get_slot, ":var1", ":var0", 135),
    (faction_set_slot, "$players_kingdom", 135, ":var1"),
    (try_begin),
      (faction_slot_eq, "$players_kingdom", 10, "fac_culture_player"),
      (faction_set_slot, "$players_kingdom", 48, "trp_cstm_custom_troop_3_tiers_0_1_1"),
      (faction_set_slot, "$players_kingdom", 49, "trp_cstm_custom_troop_3_tiers_0_2_3"),
      (faction_set_slot, "$players_kingdom", 50, "trp_cstm_custom_troop_3_tiers_0_2_2"),
      (faction_set_slot, "$players_kingdom", 51, "trp_cstm_custom_troop_3_tiers_0_1_2"),
      (faction_set_slot, "$players_kingdom", 52, "trp_cstm_custom_troop_3_tiers_0_2_3"),
      (faction_set_slot, "$players_kingdom", 77, "pt_cstm_kingdom_player_3_tiers_0_reinforcements_a"),
      (faction_set_slot, "$players_kingdom", 78, "pt_cstm_kingdom_player_3_tiers_0_reinforcements_b"),
      (faction_set_slot, "$players_kingdom", 79, "pt_cstm_kingdom_player_3_tiers_0_reinforcements_c"),
    (try_end),
  ]),

  ("troop_set_title_according_to_faction_gender_and_lands",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (eq, "$kaos_title_run", 0),
      (eq, ":var0", "trp_player"),
      (str_store_troop_name, s10, "trp_player"),
      (troop_set_plural_name, "trp_player", s10),
      (troop_set_plural_name, "trp_dummy_player", s10),
      (troop_set_name, "trp_dummy_player", s10),
      (assign, "$kaos_title_run", 1),
    (try_end),
    (try_begin),
      (call_script, "script_cf_troop_set_title_according_to_faction_gender_and_lands_new", ":var0", ":var1", ":var1"),
    (try_end),
    (try_begin),
      (store_faction_of_troop, ":var2", "trp_player"),
      (is_between, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (call_script, "script_cf_troop_set_title_according_to_faction_gender_and_lands_new", "trp_player", ":var2", ":var1"),
    (try_end),
  ]),

  ("cf_troop_set_title_according_to_faction_gender_and_lands_new",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (neq, ":var0", -1),
    (str_store_troop_name_plural, s0, ":var0"),
    (try_begin),
      (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var1", 21, 0),
      (neg|is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (this_or_next|is_between, ":var0", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
      (eq, ":var0", "trp_player"),
      (faction_get_slot, ":var3", ":var1", 11),
      (troop_get_type, ":var4", ":var0"),
      (assign, ":var5", 0),
      (try_for_range, ":var6", "p_town_1_1", "p_salt_mine"),
        (troop_get_slot, ":var7", ":var0", 30),
        (neq, ":var0", ":var3"),
        (neq, ":var7", ":var3"),
        (lt, ":var5", 3),
        (party_slot_ge, ":var6", 7, 0),
        (this_or_next|party_slot_eq, ":var6", 7, ":var7"),
        (party_slot_eq, ":var6", 7, ":var0"),
        (try_begin),
          (party_slot_eq, ":var6", 0, 3),
          (lt, ":var5", 3),
          (assign, ":var5", 3),
        (else_try),
          (party_slot_eq, ":var6", 0, 2),
          (lt, ":var5", 2),
          (assign, ":var5", 2),
        (else_try),
          (party_slot_eq, ":var6", 0, 4),
          (lt, ":var5", 1),
          (assign, ":var5", 1),
        (try_end),
      (try_end),
      (assign, ":var8", 0),
      (try_begin),
        (eq, ":var4", 0),
        (try_begin),
          (eq, ":var0", ":var3"),
          (assign, ":var8", 4),
        (else_try),
          (assign, ":var8", ":var5"),
        (try_end),
      (else_try),
        (try_begin),
          (this_or_next|troop_slot_eq, ":var0", 30, ":var3"),
          (eq, ":var0", ":var3"),
          (assign, ":var8", 4),
        (else_try),
          (gt, ":var5", 0),
          (assign, ":var8", ":var5"),
        (else_try),
          (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
          (assign, ":var8", 0),
        (else_try),
          (troop_slot_ge, ":var0", 30, 0),
          (assign, ":var8", 0),
        (else_try),
          (assign, ":var8", 5),
        (try_end),
      (try_end),
      (try_begin),
        (neq, ":var0", ":var3"),
        (eq, "$kaos_use_suffixes", 1),
        (call_script, "script_troop_get_relation_with_troop", ":var0", ":var3"),
        (assign, ":var9", reg0),
        (str_clear, s61),
        (assign, reg10, 0),
        (try_begin),
          (this_or_next|gt, ":var9", 19),
          (lt, ":var9", -19),
          (assign, reg10, ":var9"),
          (store_add, ":var10", ":var9", 100),
          (store_div, ":var11", ":var10", 20),
          (val_clamp, ":var11", 0, 10),
          (store_add, ":var12", "str_ruler_relation_mnus_100_ns", ":var11"),
          (str_store_string, s61, ":var12"),
        (try_end),
      (else_try),
        (str_clear, s61),
        (assign, reg10, 0),
      (try_end),
      (store_sub, ":var13", ":var2", "fac_player_supporters_faction"),
      (try_begin),
        (eq, ":var4", 0),
        (val_mul, ":var13", 5),
        (val_add, ":var13", "str_faction_title_male_player"),
      (else_try),
        (val_mul, ":var13", 6),
        (val_add, ":var13", "str_faction_title_female_player"),
      (try_end),
      (val_add, ":var13", ":var8"),
      (str_store_string, s1, ":var13"),
      (try_begin),
        (eq, "$kaos_royal_children", 1),
        (assign, ":var3", 0),
        (assign, ":var14", 0),
        (assign, ":var15", 0),
        (faction_get_slot, ":var3", ":var1", 11),
        (troop_get_slot, ":var14", ":var0", 32),
        (troop_get_slot, ":var15", ":var0", 31),
        (this_or_next|eq, ":var14", ":var3"),
        (eq, ":var15", ":var3"),
        (troop_get_type, ":var4", ":var0"),
        (try_begin),
          (eq, ":var4", 0),
          (str_store_string, s1, "str_faction_title_male_heir"),
        (else_try),
          (str_store_string, s1, "str_faction_title_female_heir"),
        (try_end),
      (try_end),
      (troop_set_name, ":var0", s1),
      (try_begin),
        (eq, ":var2", "fac_player_supporters_faction"),
        (eq, "$kaos_has_custom_title", 1),
        (eq, ":var4", 0),
        (try_begin),
          (eq, ":var8", 4),
          (troop_slot_eq, "trp_dummy_5_king", 0, 1),
          (str_store_troop_name, s0, "trp_dummy_5_king"),
          (str_store_troop_name_plural, s1, ":var0"),
          (str_store_string, s1, "str_s0_s1"),
          (troop_set_name, ":var0", s1),
        (else_try),
          (eq, ":var8", 3),
          (troop_slot_eq, "trp_dummy_4_town", 0, 1),
          (str_store_troop_name, s0, "trp_dummy_4_town"),
          (str_store_troop_name_plural, s1, ":var0"),
          (str_store_string, s1, "str_s0_s1"),
          (troop_set_name, ":var0", s1),
        (else_try),
          (eq, ":var8", 2),
          (troop_slot_eq, "trp_dummy_3_castle", 0, 1),
          (str_store_troop_name, s0, "trp_dummy_3_castle"),
          (str_store_troop_name_plural, s1, ":var0"),
          (str_store_string, s1, "str_s0_s1"),
          (troop_set_name, ":var0", s1),
        (else_try),
          (eq, ":var8", 1),
          (troop_slot_eq, "trp_dummy_2_village", 0, 1),
          (str_store_troop_name, s0, "trp_dummy_2_village"),
          (str_store_troop_name_plural, s1, ":var0"),
          (str_store_string, s1, "str_s0_s1"),
          (troop_set_name, ":var0", s1),
        (else_try),
          (eq, ":var8", 0),
          (troop_slot_eq, "trp_dummy_1", 0, 1),
          (str_store_troop_name, s0, "trp_dummy_1"),
          (str_store_troop_name_plural, s1, ":var0"),
          (str_store_string, s1, "str_s0_s1"),
          (troop_set_name, ":var0", s1),
        (try_end),
      (try_end),
      (troop_get_slot, ":var16", ":var0", 10),
      (try_begin),
        (gt, ":var16", 0),
        (str_store_troop_name, s5, ":var0"),
        (party_set_name, ":var16", "str_s5_s_party"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$kaos_use_custom_name", 1),
      (neq, ":var1", "fac_player_supporters_faction"),
      (neg|troop_slot_eq, ":var0", 2, 2),
      (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (str_store_troop_name_plural, s0, ":var0"),
      (try_begin),
        (troop_slot_eq, ":var0", 2, 5),
        (str_store_string, s1, "str_hero_titles_party"),
      (else_try),
        (call_script, "script_get_troop_specialisation", ":var0", ":var1"),
        (assign, ":var13", reg0),
        (val_add, ":var13", "str_hero_titles_none"),
        (str_store_string, s1, ":var13"),
      (try_end),
      (troop_set_name, ":var0", s1),
    (try_end),
    (faction_get_slot, ":var3", ":var1", 11),
    (try_begin),
      (eq, "$background_type", 8),
      (str_store_troop_name_plural, s22, "trp_player"),
      (call_script, "script_cf_kaos_update_king_titles", "trp_player", ":var1"),
    (try_end),
    (try_begin),
      (faction_get_slot, ":var3", ":var1", 11),
      (eq, ":var0", ":var3"),
      (call_script, "script_cf_kaos_update_king_titles", ":var0", ":var1"),
    (try_end),
    (call_script, "script_update_all_notes"),
    (try_begin),
      (eq, "trp_player", ":var0"),
      (this_or_next|gt, "$kaos_kings_kingdom", 0),
      (this_or_next|gt, "$kaos_kings_prince", 0),
      (gt, "$kaos_kings_vassal", 0),
      (str_store_troop_name, s5, "trp_player"),
      (party_set_name, "p_main_party", s5),
    (try_end),
  ]),

  ("kaos_get_lord_highest_controversy_in_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_for_range, ":var3", "trp_knight_1_1", "trp_knight_1_1_wife"),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (troop_get_slot, ":var5", ":var3", 150),
      (try_begin),
        (gt, ":var5", ":var1"),
        (assign, ":var1", ":var5"),
        (assign, ":var2", ":var3"),
      (try_end),
    (try_end),
    (troop_set_slot, ":var2", 150, 15),
    (assign, reg0, ":var2"),
  ]),

  ("kaos_get_lord_lowest_relation_in_faction",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 100),
    (assign, ":var2", 0),
    (faction_get_slot, ":var3", ":var0", 11),
    (try_for_range, ":var2", "trp_knight_1_1", "trp_knight_1_1_wife"),
      (store_faction_of_troop, ":var4", ":var2"),
      (eq, ":var4", ":var0"),
      (call_script, "script_troop_get_relation_with_troop", ":var2", ":var3"),
      (assign, ":var5", reg0),
      (try_begin),
        (eq, ":var0", ":var4"),
        (le, ":var5", ":var1"),
        (assign, ":var1", ":var5"),
        (assign, ":var6", ":var2"),
      (try_end),
    (try_end),
    (assign, reg0, ":var6"),
  ]),

  ("get_troop_specialisation",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (try_begin),
      (neq, ":var1", "fac_player_supporters_faction"),
      (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
      (store_skill_level, ":var5", "skl_spotting", ":var0"),
      (store_skill_level, ":var6", "skl_pathfinding", ":var0"),
      (val_add, ":var5", ":var6"),
      (store_skill_level, ":var6", "skl_tracking", ":var0"),
      (val_add, ":var5", ":var6"),
      (store_skill_level, ":var7", "skl_wound_treatment", ":var0"),
      (store_skill_level, ":var8", "skl_first_aid", ":var0"),
      (val_add, ":var7", ":var8"),
      (store_skill_level, ":var8", "skl_surgery", ":var0"),
      (val_add, ":var7", ":var8"),
      (store_skill_level, ":var9", "skl_tactics", ":var0"),
      (store_skill_level, ":var10", "skl_engineer", ":var0"),
      (val_add, ":var9", ":var10"),
      (store_skill_level, ":var10", "skl_trainer", ":var0"),
      (val_add, ":var9", ":var10"),
      (store_skill_level, ":var11", "skl_trade", ":var0"),
      (val_mul, ":var11", 3),
      (store_skill_level, ":var2", "skl_looting", ":var0"),
      (val_mul, ":var2", 3),
      (store_skill_level, ":var3", "skl_weapon_master", ":var0"),
      (store_skill_level, ":var12", "skl_power_strike", ":var0"),
      (val_add, ":var3", ":var12"),
      (store_skill_level, ":var12", "skl_power_draw", ":var0"),
      (val_add, ":var3", ":var12"),
      (val_div, ":var3", 2),
      (store_skill_level, ":var4", "skl_prisoner_management", ":var0"),
      (val_mul, ":var4", 3),
      (store_skill_level, ":var13", "skl_persuasion", ":var0"),
      (val_mul, ":var13", 3),
      (try_begin),
        (eq, ":var13", 0),
        (eq, ":var9", 0),
        (eq, ":var5", 0),
        (eq, ":var7", 0),
        (eq, ":var11", 0),
        (eq, ":var2", 0),
        (eq, ":var3", 0),
        (eq, ":var4", 0),
        (assign, reg0, 0),
      (else_try),
        (gt, ":var13", 0),
        (ge, ":var13", ":var9"),
        (ge, ":var13", ":var5"),
        (ge, ":var13", ":var7"),
        (ge, ":var13", ":var11"),
        (ge, ":var13", ":var2"),
        (ge, ":var13", ":var3"),
        (ge, ":var13", ":var4"),
        (assign, reg0, 1),
      (else_try),
        (gt, ":var9", 0),
        (ge, ":var9", ":var5"),
        (ge, ":var9", ":var7"),
        (ge, ":var9", ":var11"),
        (ge, ":var9", ":var2"),
        (ge, ":var9", ":var3"),
        (ge, ":var9", ":var4"),
        (assign, reg0, 2),
      (else_try),
        (gt, ":var5", 0),
        (ge, ":var5", ":var7"),
        (ge, ":var5", ":var11"),
        (ge, ":var5", ":var2"),
        (ge, ":var5", ":var3"),
        (ge, ":var5", ":var4"),
        (assign, reg0, 3),
      (else_try),
        (gt, ":var7", 0),
        (ge, ":var7", ":var11"),
        (ge, ":var7", ":var2"),
        (ge, ":var7", ":var3"),
        (ge, ":var7", ":var4"),
        (assign, reg0, 4),
      (else_try),
        (gt, ":var11", 0),
        (ge, ":var11", ":var2"),
        (ge, ":var11", ":var3"),
        (ge, ":var11", ":var4"),
        (assign, reg0, 5),
      (else_try),
        (gt, ":var2", 0),
        (ge, ":var2", ":var3"),
        (ge, ":var2", ":var4"),
        (assign, reg0, 6),
      (else_try),
        (gt, ":var3", 0),
        (ge, ":var3", ":var4"),
        (assign, reg0, 7),
      (else_try),
        (gt, ":var4", 0),
        (assign, reg0, 8),
      (try_end),
    (try_end),
  ]),

  ("cf_kaos_update_king_titles",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (eq, "$kaos_king_titles", 1),
    (eq, "$kaos_has_custom_title", 0),
    (str_clear, s1),
    (str_clear, s0),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (str_store_troop_name_plural, s0, "trp_dummy_player"),
    (else_try),
      (str_store_troop_name_plural, s0, ":var0"),
    (try_end),
    (assign, reg0, 0),
    (faction_slot_eq, ":var1", 21, 0),
    (neg|faction_slot_eq, ":var1", 21, 1),
    (try_for_range, ":var5", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var6", ":var5"),
      (try_begin),
        (eq, ":var6", ":var1"),
        (val_add, reg0, 1),
      (try_end),
    (try_end),
    (troop_get_type, ":var7", ":var0"),
    (try_begin),
      (ge, reg0, 120),
      (try_begin),
        (eq, ":var7", 0),
        (str_store_string, s3, "str_kings_rank_2_male"),
      (else_try),
        (str_store_string, s3, "str_kings_rank_2_female"),
      (try_end),
      (assign, ":var2", 1),
      (assign, ":var3", 1),
    (else_try),
      (gt, reg0, 80),
      (try_begin),
        (eq, ":var7", 0),
        (str_store_string, s3, "str_kings_rank_1_male"),
      (else_try),
        (str_store_string, s3, "str_kings_rank_1_female"),
      (try_end),
      (assign, ":var2", 1),
      (assign, ":var4", 1),
    (else_try),
      (lt, reg0, 20),
      (str_store_string, s3, "str_kings_rank_0"),
      (assign, ":var2", 1),
    (try_end),
    (try_begin),
      (ge, reg0, 120),
      (try_begin),
        (eq, ":var1", "fac_kingdom_1"),
        (str_store_string, s4, "str_kaos_kingdom1_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_2"),
        (str_store_string, s4, "str_kaos_kingdom2_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_3"),
        (str_store_string, s4, "str_kaos_kingdom3_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_4"),
        (str_store_string, s4, "str_kaos_kingdom4_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_5"),
        (str_store_string, s4, "str_kaos_kingdom5_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_6"),
        (str_store_string, s4, "str_kaos_kingdom6_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_7"),
        (str_store_string, s4, "str_kaos_kingdom7_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_8"),
        (str_store_string, s4, "str_kaos_kingdom8_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_9"),
        (str_store_string, s4, "str_kaos_kingdom9_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_10"),
        (str_store_string, s4, "str_kaos_kingdom10_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_11"),
        (str_store_string, s4, "str_kaos_kingdom11_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_12"),
        (str_store_string, s4, "str_kaos_kingdom12_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_13"),
        (str_store_string, s4, "str_kaos_kingdom13_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_14"),
        (str_store_string, s4, "str_kaos_kingdom14_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_15"),
        (str_store_string, s4, "str_kaos_kingdom15_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_16"),
        (str_store_string, s4, "str_kaos_kingdom16_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_17"),
        (str_store_string, s4, "str_kaos_kingdom17_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_18"),
        (str_store_string, s4, "str_kaos_kingdom18_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_19"),
        (str_store_string, s4, "str_kaos_kingdom19_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_20"),
        (str_store_string, s4, "str_kaos_kingdom20_empire"),
      (else_try),
        (eq, ":var1", "fac_papacy"),
        (str_store_string, s4, "str_kaos_kingdom21_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_22"),
        (str_store_string, s4, "str_kaos_kingdom22_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_23"),
        (str_store_string, s4, "str_kaos_kingdom23_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_24"),
        (str_store_string, s4, "str_kaos_kingdom24_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_25"),
        (str_store_string, s4, "str_kaos_kingdom25_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_26"),
        (str_store_string, s4, "str_kaos_kingdom26_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_27"),
        (str_store_string, s4, "str_kaos_kingdom27_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_28"),
        (str_store_string, s4, "str_kaos_kingdom28_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_29"),
        (str_store_string, s4, "str_kaos_kingdom29_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_30"),
        (str_store_string, s4, "str_kaos_kingdom30_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_31"),
        (str_store_string, s4, "str_kaos_kingdom31_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_32"),
        (str_store_string, s4, "str_kaos_kingdom32_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_33"),
        (str_store_string, s4, "str_kaos_kingdom33_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_34"),
        (str_store_string, s4, "str_kaos_kingdom34_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_35"),
        (str_store_string, s4, "str_kaos_kingdom35_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_36"),
        (str_store_string, s4, "str_kaos_kingdom36_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_37"),
        (str_store_string, s4, "str_kaos_kingdom37_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_38"),
        (str_store_string, s4, "str_kaos_kingdom38_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_39"),
        (str_store_string, s4, "str_kaos_kingdom39_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_40"),
        (str_store_string, s4, "str_kaos_kingdom40_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_41"),
        (str_store_string, s4, "str_kaos_kingdom41_empire"),
      (else_try),
        (eq, ":var1", "fac_kingdom_42"),
        (str_store_string, s4, "str_kaos_kingdom42_empire"),
      (try_end),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (eq, "$background_type", 8),
        (try_begin),
          (eq, "$kaos_kings_kingdom", 1),
          (str_store_string, s7, "str_kaos_kingdom1_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 2),
          (str_store_string, s7, "str_kaos_kingdom2_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 3),
          (str_store_string, s7, "str_kaos_kingdom3_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 4),
          (str_store_string, s7, "str_kaos_kingdom4_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 5),
          (str_store_string, s7, "str_kaos_kingdom5_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 6),
          (str_store_string, s7, "str_kaos_kingdom6_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 7),
          (str_store_string, s7, "str_kaos_kingdom7_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 8),
          (str_store_string, s7, "str_kaos_kingdom8_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 9),
          (str_store_string, s7, "str_kaos_kingdom9_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 10),
          (str_store_string, s7, "str_kaos_kingdom10_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 11),
          (str_store_string, s7, "str_kaos_kingdom11_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 12),
          (str_store_string, s7, "str_kaos_kingdom12_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 13),
          (str_store_string, s7, "str_kaos_kingdom13_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 14),
          (str_store_string, s7, "str_kaos_kingdom14_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 15),
          (str_store_string, s7, "str_kaos_kingdom15_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 16),
          (str_store_string, s7, "str_kaos_kingdom16_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 17),
          (str_store_string, s7, "str_kaos_kingdom17_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 18),
          (str_store_string, s7, "str_kaos_kingdom18_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 19),
          (str_store_string, s7, "str_kaos_kingdom19_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 20),
          (str_store_string, s7, "str_kaos_kingdom20_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 21),
          (str_store_string, s7, "str_kaos_kingdom21_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 22),
          (str_store_string, s7, "str_kaos_kingdom22_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 23),
          (str_store_string, s7, "str_kaos_kingdom23_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 24),
          (str_store_string, s7, "str_kaos_kingdom24_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 25),
          (str_store_string, s7, "str_kaos_kingdom25_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 26),
          (str_store_string, s7, "str_kaos_kingdom26_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 27),
          (str_store_string, s7, "str_kaos_kingdom27_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 28),
          (str_store_string, s7, "str_kaos_kingdom28_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 29),
          (str_store_string, s7, "str_kaos_kingdom29_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 30),
          (str_store_string, s7, "str_kaos_kingdom30_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 31),
          (str_store_string, s7, "str_kaos_kingdom31_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 32),
          (str_store_string, s7, "str_kaos_kingdom32_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 33),
          (str_store_string, s7, "str_kaos_kingdom33_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 34),
          (str_store_string, s7, "str_kaos_kingdom34_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 35),
          (str_store_string, s7, "str_kaos_kingdom35_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 36),
          (str_store_string, s7, "str_kaos_kingdom36_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 37),
          (str_store_string, s7, "str_kaos_kingdom37_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 38),
          (str_store_string, s7, "str_kaos_kingdom38_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 39),
          (str_store_string, s7, "str_kaos_kingdom39_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 40),
          (str_store_string, s7, "str_kaos_kingdom40_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 41),
          (str_store_string, s7, "str_kaos_kingdom41_empire"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 42),
          (str_store_string, s7, "str_kaos_kingdom42_empire"),
        (try_end),
      (try_end),
    (else_try),
      (gt, reg0, 80),
      (try_begin),
        (eq, ":var1", "fac_kingdom_1"),
        (str_store_string, s4, "str_kaos_kingdom1_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_2"),
        (str_store_string, s4, "str_kaos_kingdom2_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_3"),
        (str_store_string, s4, "str_kaos_kingdom3_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_4"),
        (str_store_string, s4, "str_kaos_kingdom4_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_5"),
        (str_store_string, s4, "str_kaos_kingdom5_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_6"),
        (str_store_string, s4, "str_kaos_kingdom6_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_7"),
        (str_store_string, s4, "str_kaos_kingdom7_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_8"),
        (str_store_string, s4, "str_kaos_kingdom8_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_9"),
        (str_store_string, s4, "str_kaos_kingdom9_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_10"),
        (str_store_string, s4, "str_kaos_kingdom10_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_11"),
        (str_store_string, s4, "str_kaos_kingdom11_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_12"),
        (str_store_string, s4, "str_kaos_kingdom12_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_13"),
        (str_store_string, s4, "str_kaos_kingdom13_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_14"),
        (str_store_string, s4, "str_kaos_kingdom14_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_15"),
        (str_store_string, s4, "str_kaos_kingdom15_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_16"),
        (str_store_string, s4, "str_kaos_kingdom16_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_17"),
        (str_store_string, s4, "str_kaos_kingdom17_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_18"),
        (str_store_string, s4, "str_kaos_kingdom18_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_19"),
        (str_store_string, s4, "str_kaos_kingdom19_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_20"),
        (str_store_string, s4, "str_kaos_kingdom20_king"),
      (else_try),
        (eq, ":var1", "fac_papacy"),
        (str_store_string, s4, "str_kaos_kingdom21_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_22"),
        (str_store_string, s4, "str_kaos_kingdom22_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_23"),
        (str_store_string, s4, "str_kaos_kingdom23_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_24"),
        (str_store_string, s4, "str_kaos_kingdom24_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_25"),
        (str_store_string, s4, "str_kaos_kingdom25_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_26"),
        (str_store_string, s4, "str_kaos_kingdom26_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_27"),
        (str_store_string, s4, "str_kaos_kingdom27_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_28"),
        (str_store_string, s4, "str_kaos_kingdom28_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_29"),
        (str_store_string, s4, "str_kaos_kingdom29_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_30"),
        (str_store_string, s4, "str_kaos_kingdom30_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_31"),
        (str_store_string, s4, "str_kaos_kingdom31_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_32"),
        (str_store_string, s4, "str_kaos_kingdom32_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_33"),
        (str_store_string, s4, "str_kaos_kingdom33_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_34"),
        (str_store_string, s4, "str_kaos_kingdom34_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_35"),
        (str_store_string, s4, "str_kaos_kingdom35_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_36"),
        (str_store_string, s4, "str_kaos_kingdom36_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_37"),
        (str_store_string, s4, "str_kaos_kingdom37_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_38"),
        (str_store_string, s4, "str_kaos_kingdom38_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_39"),
        (str_store_string, s4, "str_kaos_kingdom39_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_40"),
        (str_store_string, s4, "str_kaos_kingdom40_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_41"),
        (str_store_string, s4, "str_kaos_kingdom41_king"),
      (else_try),
        (eq, ":var1", "fac_kingdom_42"),
        (str_store_string, s4, "str_kaos_kingdom42_king"),
      (try_end),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (eq, "$background_type", 8),
        (try_begin),
          (eq, "$kaos_kings_kingdom", 1),
          (str_store_string, s7, "str_kaos_kingdom1_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 2),
          (str_store_string, s7, "str_kaos_kingdom2_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 3),
          (str_store_string, s7, "str_kaos_kingdom3_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 4),
          (str_store_string, s7, "str_kaos_kingdom4_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 5),
          (str_store_string, s7, "str_kaos_kingdom5_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 6),
          (str_store_string, s7, "str_kaos_kingdom6_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 7),
          (str_store_string, s7, "str_kaos_kingdom7_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 8),
          (str_store_string, s7, "str_kaos_kingdom8_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 9),
          (str_store_string, s7, "str_kaos_kingdom9_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 10),
          (str_store_string, s7, "str_kaos_kingdom10_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 11),
          (str_store_string, s7, "str_kaos_kingdom11_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 12),
          (str_store_string, s7, "str_kaos_kingdom12_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 13),
          (str_store_string, s7, "str_kaos_kingdom13_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 14),
          (str_store_string, s7, "str_kaos_kingdom14_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 15),
          (str_store_string, s7, "str_kaos_kingdom15_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 16),
          (str_store_string, s7, "str_kaos_kingdom16_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 17),
          (str_store_string, s7, "str_kaos_kingdom17_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 18),
          (str_store_string, s7, "str_kaos_kingdom18_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 19),
          (str_store_string, s7, "str_kaos_kingdom19_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 20),
          (str_store_string, s7, "str_kaos_kingdom20_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 21),
          (str_store_string, s7, "str_kaos_kingdom21_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 22),
          (str_store_string, s7, "str_kaos_kingdom22_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 23),
          (str_store_string, s7, "str_kaos_kingdom23_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 24),
          (str_store_string, s7, "str_kaos_kingdom24_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 25),
          (str_store_string, s7, "str_kaos_kingdom25_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 26),
          (str_store_string, s7, "str_kaos_kingdom26_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 27),
          (str_store_string, s7, "str_kaos_kingdom27_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 28),
          (str_store_string, s7, "str_kaos_kingdom28_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 29),
          (str_store_string, s7, "str_kaos_kingdom29_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 30),
          (str_store_string, s7, "str_kaos_kingdom30_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 31),
          (str_store_string, s7, "str_kaos_kingdom31_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 32),
          (str_store_string, s7, "str_kaos_kingdom32_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 33),
          (str_store_string, s7, "str_kaos_kingdom33_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 34),
          (str_store_string, s7, "str_kaos_kingdom34_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 35),
          (str_store_string, s7, "str_kaos_kingdom35_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 36),
          (str_store_string, s7, "str_kaos_kingdom36_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 37),
          (str_store_string, s7, "str_kaos_kingdom37_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 38),
          (str_store_string, s7, "str_kaos_kingdom38_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 39),
          (str_store_string, s7, "str_kaos_kingdom39_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 40),
          (str_store_string, s7, "str_kaos_kingdom40_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 41),
          (str_store_string, s7, "str_kaos_kingdom41_king"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 42),
          (str_store_string, s7, "str_kaos_kingdom42_king"),
        (try_end),
      (try_end),
    (else_try),
      (lt, reg0, 20),
      (try_begin),
        (eq, ":var1", "fac_kingdom_1"),
        (str_store_string, s4, "str_kaos_kingdom1_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_2"),
        (str_store_string, s4, "str_kaos_kingdom2_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_3"),
        (str_store_string, s4, "str_kaos_kingdom3_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_4"),
        (str_store_string, s4, "str_kaos_kingdom4_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_5"),
        (str_store_string, s4, "str_kaos_kingdom5_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_6"),
        (str_store_string, s4, "str_kaos_kingdom6_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_7"),
        (str_store_string, s4, "str_kaos_kingdom7_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_8"),
        (str_store_string, s4, "str_kaos_kingdom8_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_9"),
        (str_store_string, s4, "str_kaos_kingdom9_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_10"),
        (str_store_string, s4, "str_kaos_kingdom10_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_11"),
        (str_store_string, s4, "str_kaos_kingdom11_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_12"),
        (str_store_string, s4, "str_kaos_kingdom12_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_13"),
        (str_store_string, s4, "str_kaos_kingdom13_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_14"),
        (str_store_string, s4, "str_kaos_kingdom14_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_15"),
        (str_store_string, s4, "str_kaos_kingdom15_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_16"),
        (str_store_string, s4, "str_kaos_kingdom16_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_17"),
        (str_store_string, s4, "str_kaos_kingdom17_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_18"),
        (str_store_string, s4, "str_kaos_kingdom18_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_19"),
        (str_store_string, s4, "str_kaos_kingdom19_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_20"),
        (str_store_string, s4, "str_kaos_kingdom20_king_20"),
      (else_try),
        (eq, ":var1", "fac_papacy"),
        (str_store_string, s4, "str_kaos_kingdom21_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_22"),
        (str_store_string, s4, "str_kaos_kingdom22_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_23"),
        (str_store_string, s4, "str_kaos_kingdom23_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_24"),
        (str_store_string, s4, "str_kaos_kingdom24_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_25"),
        (str_store_string, s4, "str_kaos_kingdom25_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_26"),
        (str_store_string, s4, "str_kaos_kingdom26_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_27"),
        (str_store_string, s4, "str_kaos_kingdom27_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_28"),
        (str_store_string, s4, "str_kaos_kingdom28_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_29"),
        (str_store_string, s4, "str_kaos_kingdom29_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_30"),
        (str_store_string, s4, "str_kaos_kingdom30_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_31"),
        (str_store_string, s4, "str_kaos_kingdom31_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_32"),
        (str_store_string, s4, "str_kaos_kingdom32_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_33"),
        (str_store_string, s4, "str_kaos_kingdom33_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_34"),
        (str_store_string, s4, "str_kaos_kingdom34_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_35"),
        (str_store_string, s4, "str_kaos_kingdom35_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_36"),
        (str_store_string, s4, "str_kaos_kingdom36_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_37"),
        (str_store_string, s4, "str_kaos_kingdom37_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_38"),
        (str_store_string, s4, "str_kaos_kingdom38_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_39"),
        (str_store_string, s4, "str_kaos_kingdom39_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_40"),
        (str_store_string, s4, "str_kaos_kingdom40_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_41"),
        (str_store_string, s4, "str_kaos_kingdom41_king_20"),
      (else_try),
        (eq, ":var1", "fac_kingdom_42"),
        (str_store_string, s4, "str_kaos_kingdom41_king_20"),
      (try_end),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (eq, "$background_type", 8),
        (try_begin),
          (eq, "$kaos_kings_kingdom", 1),
          (str_store_string, s7, "str_kaos_kingdom1_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 2),
          (str_store_string, s7, "str_kaos_kingdom2_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 3),
          (str_store_string, s7, "str_kaos_kingdom3_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 4),
          (str_store_string, s7, "str_kaos_kingdom4_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 5),
          (str_store_string, s7, "str_kaos_kingdom5_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 6),
          (str_store_string, s7, "str_kaos_kingdom6_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 7),
          (str_store_string, s7, "str_kaos_kingdom7_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 8),
          (str_store_string, s7, "str_kaos_kingdom8_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 9),
          (str_store_string, s7, "str_kaos_kingdom9_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 10),
          (str_store_string, s7, "str_kaos_kingdom10_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 11),
          (str_store_string, s7, "str_kaos_kingdom11_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 12),
          (str_store_string, s7, "str_kaos_kingdom12_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 13),
          (str_store_string, s7, "str_kaos_kingdom13_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 14),
          (str_store_string, s7, "str_kaos_kingdom14_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 15),
          (str_store_string, s7, "str_kaos_kingdom15_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 16),
          (str_store_string, s7, "str_kaos_kingdom16_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 17),
          (str_store_string, s7, "str_kaos_kingdom17_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 18),
          (str_store_string, s7, "str_kaos_kingdom18_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 19),
          (str_store_string, s7, "str_kaos_kingdom19_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 20),
          (str_store_string, s7, "str_kaos_kingdom20_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 21),
          (str_store_string, s7, "str_kaos_kingdom21_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 22),
          (str_store_string, s7, "str_kaos_kingdom22_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 23),
          (str_store_string, s7, "str_kaos_kingdom23_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 24),
          (str_store_string, s7, "str_kaos_kingdom24_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 25),
          (str_store_string, s7, "str_kaos_kingdom25_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 26),
          (str_store_string, s7, "str_kaos_kingdom26_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 27),
          (str_store_string, s7, "str_kaos_kingdom27_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 28),
          (str_store_string, s7, "str_kaos_kingdom28_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 29),
          (str_store_string, s7, "str_kaos_kingdom29_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 30),
          (str_store_string, s7, "str_kaos_kingdom30_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 31),
          (str_store_string, s7, "str_kaos_kingdom31_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 32),
          (str_store_string, s7, "str_kaos_kingdom32_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 33),
          (str_store_string, s7, "str_kaos_kingdom33_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 34),
          (str_store_string, s7, "str_kaos_kingdom34_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 35),
          (str_store_string, s7, "str_kaos_kingdom35_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 36),
          (str_store_string, s7, "str_kaos_kingdom36_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 37),
          (str_store_string, s7, "str_kaos_kingdom37_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 38),
          (str_store_string, s7, "str_kaos_kingdom38_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 39),
          (str_store_string, s7, "str_kaos_kingdom39_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 40),
          (str_store_string, s7, "str_kaos_kingdom40_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 41),
          (str_store_string, s7, "str_kaos_kingdom41_king_20"),
        (else_try),
          (eq, "$kaos_kings_kingdom", 42),
          (str_store_string, s7, "str_kaos_kingdom42_king_20"),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (troop_set_name, ":var0", s3),
      (faction_set_name, ":var1", s4),
      (troop_get_slot, ":var8", ":var0", 10),
      (try_begin),
        (gt, ":var8", 0),
        (str_store_troop_name, s5, ":var0"),
        (party_set_name, ":var8", "str_s5_s_party"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (eq, ":var2", 1),
      (troop_set_name, ":var0", s3),
      (faction_set_name, "fac_player_supporters_faction", s7),
      (troop_get_slot, ":var8", "trp_player", 10),
      (try_begin),
        (gt, ":var8", 0),
        (str_store_troop_name, s5, "trp_player"),
        (party_set_name, ":var8", "str_s5_s_party"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, "$kaos_royal_children", 1),
      (assign, ":var0", 0),
      (assign, ":var9", 0),
      (assign, ":var10", 0),
      (try_for_range, ":var11", "trp_npc1", "trp_heroes_end"),
        (store_faction_of_troop, ":var12", ":var11"),
        (try_begin),
          (eq, ":var12", ":var1"),
          (troop_get_slot, ":var9", ":var11", 32),
          (troop_get_slot, ":var10", ":var11", 31),
          (this_or_next|eq, ":var9", ":var0"),
          (eq, ":var10", ":var0"),
          (str_store_troop_name_plural, s0, ":var11"),
          (troop_get_type, ":var7", ":var11"),
          (try_begin),
            (eq, ":var3", 1),
            (try_begin),
              (eq, ":var7", 0),
              (str_store_string, s11, "str_faction_title_male_heir_empire"),
            (else_try),
              (str_store_string, s11, "str_faction_title_female_heir_empire"),
            (try_end),
          (else_try),
            (eq, ":var4", 1),
            (try_begin),
              (eq, ":var7", 0),
              (str_store_string, s11, "str_faction_title_male_heir_high"),
            (else_try),
              (str_store_string, s11, "str_faction_title_female_heir_high"),
            (try_end),
          (try_end),
          (troop_set_name, ":var11", s11),
          (troop_get_slot, ":var8", ":var11", 10),
          (try_begin),
            (gt, ":var8", 0),
            (str_store_troop_name, s5, ":var11"),
            (party_set_name, ":var8", "str_s5_s_party"),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("kaos_update_titles",
  [
    (try_for_range, ":var0", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
      (this_or_next|troop_slot_eq, ":var0", 2, 2),
      (this_or_next|troop_slot_eq, ":var0", 2, 6),
      (eq),
      (store_faction_of_troop, ":var1", ":var0"),
      (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (store_faction_of_troop, ":var1", ":var0"),
      (call_script, "script_troop_set_title_according_to_faction", ":var0", ":var1"),
    (try_end),
    (call_script, "script_update_all_notes"),
  ]),

  ("add_tavern_troops",
  [
    (try_for_range, ":var0", "p_town_merc_1", "p_town_merc_end"),
      (store_party_size, ":var1", ":var0"),
      (lt, ":var1", 30),
      (store_sub, ":var2", ":var0", "p_town_1_1"),
      (store_add, ":var3", "p_town_1_1", ":var2"),
      (store_faction_of_party, ":var4", ":var3"),
      (faction_get_slot, ":var5", ":var4", 77),
      (faction_get_slot, ":var6", ":var4", 78),
      (faction_get_slot, ":var7", ":var4", 79),
      (call_script, "script_get_random_merc_company_from_center", ":var3"),
      (assign, ":var8", reg0),
      (try_begin),
        (store_random_in_range, ":var9", 0, 100),
        (lt, ":var9", 50),
        (party_add_template, ":var0", ":var5"),
        (store_random_in_range, ":var10", 0, 100),
        (lt, ":var10", 35),
        (party_add_template, ":var0", ":var6"),
        (store_random_in_range, ":var11", 0, 100),
        (lt, ":var11", 20),
        (party_add_template, ":var0", ":var7"),
        (store_random_in_range, ":var12", 0, 100),
        (lt, ":var12", 30),
        (party_add_template, ":var0", ":var8"),
      (try_end),
    (try_end),
  ]),

  ("party_daily_training",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
      (store_skill_level, ":var5", 17, ":var4"),
      (gt, ":var5", 0),
      (try_begin),
        (eq, ":var5", 1),
        (assign, ":var6", 4),
      (else_try),
        (eq, ":var5", 2),
        (assign, ":var6", 10),
      (else_try),
        (eq, ":var5", 3),
        (assign, ":var6", 16),
      (else_try),
        (eq, ":var5", 4),
        (assign, ":var6", 23),
      (else_try),
        (eq, ":var5", 5),
        (assign, ":var6", 30),
      (else_try),
        (eq, ":var5", 6),
        (assign, ":var6", 38),
      (else_try),
        (eq, ":var5", 7),
        (assign, ":var6", 46),
      (else_try),
        (eq, ":var5", 8),
        (assign, ":var6", 55),
      (else_try),
        (eq, ":var5", 9),
        (assign, ":var6", 65),
      (else_try),
        (eq, ":var5", 10),
        (assign, ":var6", 80),
      (try_end),
      (store_character_level, ":var7", ":var4"),
      (party_stack_get_size, ":var8", ":var0", ":var3"),
      (try_for_range, ":var9", 0, ":var2"),
        (neq, ":var3", ":var9"),
        (party_stack_get_troop_id, ":var10", ":var0", ":var9"),
        (store_character_level, ":var11", ":var10"),
        (gt, ":var7", ":var11"),
        (party_stack_get_size, ":var12", ":var0", ":var9"),
        (store_mul, ":var13", ":var6", ":var8"),
        (val_mul, ":var13", ":var12"),
        (val_add, ":var1", ":var13"),
      (try_end),
    (try_end),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_village_1_1"),
      (val_div, ":var1", 2),
    (try_end),
    (party_upgrade_with_xp, ":var0", ":var1", 0),
  ]),

  ("setup_tavern_brawl",
  [
    (get_player_agent_no, ":var0"),
    (try_for_agents, ":var1"),
      (neq, ":var1", ":var0"),
      (store_random_in_range, ":var2", 2, 6),
      (agent_set_team, ":var1", ":var2"),
    (try_end),
    (stop_all_sounds, 2),
    (assign, "$g_init_fight", 1),
  ]),

  ("init_town_fight",
  [
    (get_player_agent_no, ":var0"),
    (try_for_agents, ":var1"),
      (neq, ":var1", ":var0"),
      (agent_get_entry_no, ":var2", ":var1"),
      (try_begin),
        (this_or_next|eq, ":var2", 48),
        (eq, ":var2", 49),
        (agent_set_team, ":var1", 0),
      (else_try),
        (agent_set_team, ":var1", 2),
      (try_end),
    (try_end),
    (team_set_relation, 0, 2, 1),
  ]),

  ("start_town_fight",
  [
    (try_for_agents, ":var0"),
      (agent_get_team, ":var1", ":var0"),
      (eq, ":var1", 2),
      (agent_clear_scripted_mode, ":var0"),
      (agent_set_speed_limit, ":var0", 50),
    (try_end),
    (team_set_relation, 0, 2, -1),
    (set_show_messages, 0),
    (team_give_order, 0, 9, 2),
    (team_give_order, 1, 9, 2),
    (team_give_order, 2, 9, 2),
    (set_show_messages, 1),
  ]),

  ("spawn_rebels",
  [
    (store_current_day, ":var0"),
    (store_num_parties_of_template, ":var1", "pt_rebels"),
    (store_random_in_range, ":var2", "fac_player_supporters_faction", "fac_kingdoms_end"),
    (try_begin),
      (lt, ":var1", "$g_party_rebellion_strong_max"),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (assign, ":var5", 0),
      (assign, ":var6", 100),
      (assign, ":var7", -1),
      (try_for_range, ":var8", "p_town_1_1", "p_castle_1_1"),
        (store_faction_of_party, ":var9", ":var8"),
        (eq, ":var9", ":var2"),
        (val_add, ":var3", 1),
        (party_get_slot, ":var10", ":var8", 50),
        (val_add, ":var4", ":var10"),
        (lt, ":var10", ":var6"),
        (assign, ":var6", ":var10"),
        (assign, ":var7", ":var8"),
      (try_end),
      (gt, ":var3", 0),
      (gt, ":var7", 0),
      (store_div, ":var5", ":var4", ":var3"),
      (le, ":var5", 25),
      (set_spawn_radius, 3),
      (store_random_in_range, ":var11", 3, 5),
      (assign, ":var12", ":var11"),
      (faction_get_slot, ":var13", ":var2", 77),
      (faction_get_slot, ":var14", ":var2", 78),
      (faction_get_slot, ":var15", ":var2", 79),
      (faction_get_slot, ":var16", ":var2", 42),
      (faction_get_slot, ":var17", ":var2", 43),
      (faction_get_slot, ":var18", ":var2", 44),
      (try_for_range, reg1, 0, ":var12"),
        (spawn_around_party, ":var7", "pt_rebels"),
        (assign, ":var19", reg0),
        (party_set_ai_behavior, ":var19", ai_bhvr_patrol_party),
        (party_set_ai_object, ":var19", ":var7"),
        (party_set_ai_patrol_radius, ":var19", 10),
        (str_store_faction_name, s25, ":var2"),
        (assign, ":var20", "str_s25_rebels"),
        (party_set_slot, ":var19", 5, ":var7"),
        (store_random_in_range, ":var21", 10, 20),
        (store_random_in_range, ":var22", 30, 50),
        (store_random_in_range, ":var23", 50, 70),
        (party_add_members, ":var19", ":var18", ":var21"),
        (party_add_members, ":var19", ":var17", ":var22"),
        (party_add_members, ":var19", ":var16", ":var23"),
        (party_add_template, ":var19", ":var15"),
        (party_add_template, ":var19", ":var15"),
        (party_add_template, ":var19", ":var15"),
        (party_add_template, ":var19", ":var15"),
        (party_add_template, ":var19", ":var15"),
        (party_add_template, ":var19", ":var15"),
        (party_add_template, ":var19", ":var15"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var14"),
        (party_add_template, ":var19", ":var13"),
        (party_add_template, ":var19", ":var13"),
        (party_add_template, ":var19", ":var13"),
        (party_add_template, ":var19", ":var13"),
        (party_add_template, ":var19", ":var13"),
        (store_random_in_range, ":var24", 8000, 12000),
        (party_upgrade_with_xp, ":var19", ":var24", 2),
        (party_set_name, ":var19", ":var20"),
      (try_end),
      (try_begin),
        (call_script, "script_get_message_color_rebels", 10, ":var2"),
        (display_message, "@There was a massive revolt in areas controlled by the {s25}! Do not be fooled however. These aren't rabble! They're well trained and equipped, most likely funded by {s25}'s enemies.", reg20),
      (try_end),
    (try_end),
  ]),

  ("spawn_fugitive_serfs",
  [
    (assign, ":var0", "$g_party_fugitive_serf_max"),
    (store_num_parties_of_template, ":var1", "pt_fugitive_serfs"),
    (try_begin),
      (lt, ":var1", ":var0"),
      (val_sub, ":var0", ":var1"),
      (try_for_range, reg2, 0, ":var0"),
        (store_random_in_range, ":var2", "p_village_1_1", "p_salt_mine"),
        (spawn_around_party, ":var2", "pt_fugitive_serfs"),
      (try_end),
    (try_end),
  ]),

  ("spawn_rogue_mercenaries",
  [
    (assign, ":var0", "$g_party_mercenary_company_max"),
    (store_num_parties_of_template, ":var1", "pt_rogue_mercenaries"),
    (try_begin),
      (lt, ":var1", ":var0"),
      (store_random_in_range, ":var2", "p_town_1_1", "p_castle_1_1"),
      (spawn_around_party, ":var2", "pt_rogue_mercenaries"),
      (assign, ":var3", "str_s7_rogue_mercenaries"),
      (str_store_party_name, s7, ":var2"),
      (str_store_party_name_link, s8, ":var2"),
      (display_message, "@A group of mercenaries in {s8} failed to find work. They formed a party and started ravaging the outskirts of the town!"),
      (assign, ":var4", reg0),
      (call_script, "script_get_random_merc_company_from_center", ":var2"),
      (assign, ":var5", reg0),
      (party_add_template, ":var4", ":var5"),
      (party_add_template, ":var4", ":var5"),
      (party_add_template, ":var4", ":var5"),
      (party_add_template, ":var4", ":var5"),
      (party_add_template, ":var4", ":var5"),
      (party_set_slot, ":var4", 5, ":var2"),
      (party_set_name, ":var4", ":var3"),
      (store_random_in_range, ":var6", 16000, 20000),
      (party_upgrade_with_xp, ":var4", ":var6", 0),
    (try_end),
  ]),

  ("print_kill_count_to_s0",
  [
    (assign, ":var0", 0),
    (str_clear, s0),
    (try_for_agents, ":var1"),
      (agent_is_human, ":var1"),
      (agent_get_troop_id, ":var2", ":var1"),
      (troop_is_hero, ":var2"),
      (agent_get_kill_count, ":var3", ":var1"),
      (agent_get_kill_count, ":var4", ":var1", 1),
      (troop_get_slot, ":var5", ":var2", 163),
      (troop_get_slot, ":var6", ":var2", 164),
      (val_add, ":var5", ":var3"),
      (val_add, ":var6", ":var4"),
      (troop_set_slot, ":var2", 163, ":var5"),
      (troop_set_slot, ":var2", 164, ":var6"),
      (this_or_next|gt, ":var3", 0),
      (gt, ":var4", 0),
      (str_store_troop_name, s1, ":var2"),
      (store_add, reg3, ":var3", ":var4"),
      (assign, reg4, ":var3"),
      (assign, reg5, ":var4"),
      (str_store_string, s2, "@{reg4} killed, {reg5} wounded"),
      (try_begin),
        (this_or_next|eq, ":var2", "trp_player"),
        (is_between, ":var2", "trp_npc1", "trp_kingdom_1_lord"),
        (str_store_string, s0, "@{s0}^{s1}: {reg3} ({s2})"),
      (else_try),
        (agent_is_ally, ":var1"),
        (str_store_string, s0, "@{s0}^{s1}(ally): {reg3} ({s2})"),
      (else_try),
        (str_store_string, s0, "@{s0}^{s1}(enemy): {reg3} ({s2})"),
      (try_end),
      (val_add, ":var0", 1),
      (try_begin),
        (eq, ":var2", "trp_player"),
        (ge, ":var3", 3),
        (assign, reg6, ":var3"),
        (val_div, reg6, 3),
        (call_script, "script_change_troop_renown", "trp_player", reg6),
        (display_message, "@You earned {reg6} renown as a result of your battle prowess.", 0x50FF50),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var0", 0),
      (str_store_string, s0, "@^None"),
    (try_end),
  ]),

  ("setup_camp_scene",
  [
    (party_get_current_terrain, ":var0", "p_main_party"),
    (assign, ":var1", "scn_camp_scene_plain"),
    (try_begin),
      (this_or_next|eq, ":var0", 2),
      (eq, ":var0", 10),
      (assign, ":var1", "scn_camp_scene_steppe"),
    (else_try),
      (this_or_next|eq, ":var0", 3),
      (eq, ":var0", 11),
      (assign, ":var1", "scn_camp_scene_plain"),
    (else_try),
      (this_or_next|eq, ":var0", 4),
      (eq, ":var0", 12),
      (assign, ":var1", "scn_camp_scene_snow"),
    (else_try),
      (this_or_next|eq, ":var0", 5),
      (eq, ":var0", 13),
      (assign, ":var1", "scn_camp_scene_desert"),
    (else_try),
      (eq, ":var0", 7),
      (try_for_parties, ":var2"),
        (is_between, ":var2", "p_bridge_1", "p_looter_spawn_point"),
        (store_distance_to_party_from_party, ":var3", ":var2", "p_main_party"),
        (lt, ":var3", 2),
        (party_get_icon, ":var4", ":var2"),
        (try_begin),
          (eq, ":var4", "icon_bridge_snow_a"),
          (assign, ":var1", "scn_camp_scene_snow"),
        (else_try),
          (assign, ":var1", "scn_camp_scene_plain"),
        (try_end),
      (try_end),
    (try_end),
    (modify_visitors_at_site, ":var1"),
    (reset_visitors),
    (assign, ":var5", 2),
    (assign, ":var6", 0),
    (troop_get_slot, ":var7", "trp_player", 30),
    (party_get_num_companion_stacks, ":var8", "p_main_party"),
    (try_for_range, ":var9", 0, ":var8"),
      (party_stack_get_troop_id, ":var10", "p_main_party", ":var9"),
      (troop_is_hero, ":var10"),
      (neq, ":var10", "trp_player"),
      (try_begin),
        (ge, ":var5", 40),
        (assign, ":var8", -1),
      (else_try),
        (eq, ":var10", ":var7"),
        (set_visitor, 1, ":var10"),
        (assign, ":var6", 1),
      (else_try),
        (set_visitor, ":var5", ":var10"),
        (val_add, ":var5", 1),
      (try_end),
    (try_end),
    (try_for_range, ":var9", 0, ":var8"),
      (party_stack_get_troop_id, ":var10", "p_main_party", ":var9"),
      (neq, ":var10", "trp_player"),
      (neg|troop_is_hero, ":var10"),
      (try_begin),
        (ge, ":var5", 40),
        (assign, ":var8", -1),
      (else_try),
        (party_stack_get_size, ":var11", "p_main_party", ":var9"),
        (party_stack_get_num_wounded, ":var12", "p_main_party", ":var9"),
        (val_sub, ":var11", ":var12"),
        (gt, ":var11", 0),
        (try_for_range, ":var13", 0, ":var11"),
          (try_begin),
            (ge, ":var5", 40),
            (assign, ":var11", -1),
          (else_try),
            (store_random_in_range, ":var14", 0, 1000),
            (set_visitor, ":var5", ":var10", ":var14"),
            (troop_set_slot, "trp_temp_array_c", ":var5", ":var14"),
            (val_add, ":var5", 1),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (assign, ":var5", 40),
    (party_get_num_prisoner_stacks, ":var15", "p_main_party"),
    (try_for_range, ":var9", 0, ":var15"),
      (party_prisoner_stack_get_troop_id, ":var10", "p_main_party", ":var9"),
      (troop_is_hero, ":var10"),
      (neq, ":var10", "trp_player"),
      (try_begin),
        (ge, ":var5", 48),
        (assign, ":var9", ":var15"),
      (else_try),
        (set_visitor, ":var5", ":var10"),
        (store_add, ":var5", ":var5", 1),
      (try_end),
    (try_end),
    (party_get_num_prisoner_stacks, ":var15", "p_main_party"),
    (try_for_range, ":var9", 0, ":var15"),
      (party_prisoner_stack_get_troop_id, ":var10", "p_main_party", ":var9"),
      (neg|troop_is_hero, ":var10"),
      (try_begin),
        (ge, ":var5", 48),
        (assign, ":var9", ":var8"),
      (else_try),
        (party_prisoner_stack_get_size, ":var11", "p_main_party", ":var9"),
        (gt, ":var11", 0),
        (try_for_range, ":var13", 0, ":var11"),
          (try_begin),
            (ge, ":var5", 48),
            (assign, ":var11", -1),
          (else_try),
            (store_random_in_range, ":var14", 0, 1000),
            (set_visitor, ":var5", ":var10", ":var14"),
            (troop_set_slot, "trp_temp_array_c", ":var5", ":var14"),
            (val_add, ":var5", 1),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (mission_tpl_entry_clear_override_items, "mt_camp", 1),
    (store_random_in_range, ":var16", 0, 2),
    (try_begin),
      (eq, ":var16", 0),
      (mission_tpl_entry_add_override_item, "mt_camp", 1, "itm_lute"),
    (else_try),
      (mission_tpl_entry_add_override_item, "mt_camp", 1, "itm_lyre"),
    (try_end),
    (assign, "$talk_context", 23),
    (jump_to_scene, ":var1"),
  ]),

  ("lord_random_build_script",
  [
    (try_for_range, ":var0", "p_village_1_1", "p_salt_mine"),
      (store_random_in_range, ":var1", 0, 100),
      (le, ":var1", "$g_misc_lord_random_build_chance"),
      (party_get_slot, ":var2", ":var0", 7),
      (store_random_in_range, ":var3", 130, 135),
      (party_slot_eq, ":var3", 0),
      (party_set_slot, ":var0", ":var3", 1),
      (assign, reg6, ":var0"),
      (assign, reg7, ":var2"),
      (assign, reg8, ":var3"),
      (display_message, "@{reg7} completed the building of {reg8} in {reg6}."),
    (try_end),
    (try_for_range, ":var4", "p_town_1_1", "p_village_1_1"),
      (store_random_in_range, ":var1", 0, 100),
      (le, ":var1", "$g_misc_lord_random_build_chance"),
      (party_get_slot, ":var2", ":var4", 7),
      (store_random_in_range, ":var3", 134, 136),
      (party_slot_eq, ":var3", 0),
      (party_set_slot, ":var4", ":var3", 1),
      (assign, reg9, ":var4"),
      (assign, reg10, ":var2"),
      (assign, reg11, ":var3"),
      (display_message, "@{reg10} completed the building of {reg11} in {reg9}."),
    (try_end),
  ]),

  ("town_merc_respawn",
  [
    (try_for_parties, ":var0"),
      (party_get_template_id, ":var1", ":var0"),
      (eq, ":var1", "pt_manor"),
      (party_slot_ge, ":var0", 340, 2),
      (party_set_slot, ":var0", 267, 1),
    (try_end),
    (try_for_range, ":var2", "p_town_1_1", "p_village_1_1"),
      (try_begin),
        (party_get_slot, ":var3", ":var2", 255),
        (ge, ":var3", 1),
        (party_get_template_id, ":var4", ":var3"),
        (eq, ":var4", "pt_monastery"),
        (party_slot_ge, ":var3", 340, 2),
        (party_set_slot, ":var3", 267, 1),
      (try_end),
      (party_set_slot, ":var2", 261, 1),
      (party_set_slot, ":var2", 264, 1),
      (party_set_slot, ":var2", 267, 1),
      (party_set_slot, ":var2", 546, 1),
      (party_set_slot, ":var2", 547, 1),
      (party_set_slot, ":var2", 548, 1),
      (party_set_slot, ":var2", 549, 1),
      (party_set_slot, ":var2", 550, 1),
      (party_set_slot, ":var2", 551, 1),
      (party_set_slot, ":var2", 552, 1),
      (party_set_slot, ":var2", 553, 1),
      (party_set_slot, ":var2", 554, 1),
      (party_set_slot, ":var2", 555, 1),
      (party_set_slot, ":var2", 556, 1),
      (party_set_slot, ":var2", 557, 1),
      (party_set_slot, ":var2", 558, 1),
      (party_set_slot, ":var2", 592, 1),
      (party_set_slot, ":var2", 594, 1),
      (party_set_slot, ":var2", 593, 1),
      (party_set_slot, ":var2", 561, 1),
      (party_set_slot, ":var2", 562, 1),
      (party_set_slot, ":var2", 563, 1),
      (party_set_slot, ":var2", 564, 1),
      (party_set_slot, ":var2", 566, 1),
      (party_set_slot, ":var2", 567, 1),
      (party_set_slot, ":var2", 569, 2),
      (party_set_slot, ":var2", 570, 2),
      (party_set_slot, ":var2", 571, 2),
      (party_set_slot, ":var2", 572, 2),
      (party_set_slot, ":var2", 573, 2),
      (party_set_slot, ":var2", 574, 2),
      (party_set_slot, ":var2", 575, 2),
      (party_set_slot, ":var2", 576, 2),
      (party_set_slot, ":var2", 577, 2),
      (party_set_slot, ":var2", 578, 2),
      (party_set_slot, ":var2", 579, 2),
      (party_set_slot, ":var2", 580, 2),
      (party_set_slot, ":var2", 581, 2),
      (party_set_slot, ":var2", 588, 1),
      (party_set_slot, ":var2", 582, 1),
      (party_set_slot, ":var2", 583, 1),
      (party_set_slot, ":var2", 584, 1),
      (party_set_slot, ":var2", 585, 1),
      (party_set_slot, ":var2", 586, 1),
      (party_set_slot, ":var2", 587, 1),
      (party_set_slot, ":var2", 589, 1),
      (party_set_slot, ":var2", 590, 1),
      (party_set_slot, ":var2", 269, 3),
      (party_set_slot, ":var2", 270, 2),
      (party_set_slot, ":var2", 271, 1),
      (call_script, "script_update_npc_volunteer_troops_in_village", ":var2"),
    (try_end),
  ]),

  ("give_village_elders_random_money",
  [
    (try_for_range, ":var0", "trp_village_1_elder", "trp_merchants_end"),
      (store_random_in_range, ":var1", 300, 800),
      (call_script, "script_troop_add_gold", ":var0", ":var1"),
    (try_end),
  ]),

  ("random_bounty",
  [
    (store_script_param_1, ":var0"),
    (store_faction_of_troop, ":var1", ":var0"),
    (troop_get_slot, ":var2", ":var0", 10),
    (assign, ":var3", -1),
    (try_begin),
      (gt, ":var2", 0),
      (party_get_attached_to, ":var3", ":var2"),
    (else_try),
      (is_between, "$g_encountered_party", "p_town_1_1", "p_salt_mine"),
      (assign, ":var3", "$g_encountered_party"),
    (try_end),
    (try_begin),
      (eq, ":var1", "fac_commoners"),
      (store_faction_of_party, ":var1", ":var3"),
    (try_end),
    (assign, ":var4", -1),
    (try_begin),
      (eq, ":var4", -1),
      (assign, ":var5", -1),
      (assign, ":var6", -1),
      (assign, ":var7", -1),
      (assign, ":var8", -1),
      (assign, ":var9", -1),
      (assign, ":var10", -1),
      (assign, ":var11", -1),
      (assign, ":var12", -1),
      (assign, ":var13", -1),
      (assign, ":var14", -1),
      (assign, ":var15", -1),
      (assign, ":var16", 1),
      (assign, ":var17", 0),
      (assign, ":var18", 0),
      (assign, ":var19", 0),
      (assign, ":var20", 0),
      (assign, ":var21", 0),
      (try_begin),
        (neg|check_quest_active, "qst_bounty_1"),
        (neg|quest_slot_ge, "qst_bounty_1", 25, 1),
        (assign, ":var22", "qst_bounty_1"),
      (else_try),
        (neg|check_quest_active, "qst_bounty_2"),
        (neg|quest_slot_ge, "qst_bounty_2", 25, 1),
        (assign, ":var22", "qst_bounty_2"),
      (else_try),
        (neg|check_quest_active, "qst_bounty_3"),
        (neg|quest_slot_ge, "qst_bounty_3", 25, 1),
        (assign, ":var22", "qst_bounty_3"),
      (else_try),
        (neg|check_quest_active, "qst_bounty_4"),
        (neg|quest_slot_ge, "qst_bounty_4", 25, 1),
        (assign, ":var22", "qst_bounty_5"),
      (else_try),
        (neg|check_quest_active, "qst_bounty_5"),
        (neg|quest_slot_ge, "qst_bounty_5", 25, 1),
        (assign, ":var22", "qst_bounty_5"),
      (else_try),
        (neg|check_quest_active, "qst_bounty_6"),
        (neg|quest_slot_ge, "qst_bounty_6", 25, 1),
        (assign, ":var22", "qst_bounty_6"),
      (try_end),
      (try_begin),
        (eq, ":var22", "qst_bounty_1"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_select_random_village_with_faction", ":var1"),
          (assign, ":var6", reg0),
          (store_random_in_range, ":var14", 0, 1000000),
          (assign, ":var4", ":var22"),
          (assign, ":var20", 20),
          (assign, ":var21", 0),
        (try_end),
      (else_try),
        (eq, ":var22", "qst_bounty_2"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_select_random_village_with_faction", ":var1"),
          (assign, ":var6", reg0),
          (store_random_in_range, ":var14", 0, 1000000),
          (assign, ":var4", ":var22"),
          (assign, ":var20", 20),
          (assign, ":var21", 0),
        (try_end),
      (else_try),
        (eq, ":var22", "qst_bounty_3"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_select_random_village_with_faction", ":var1"),
          (assign, ":var6", reg0),
          (store_random_in_range, ":var14", 0, 1000000),
          (assign, ":var4", ":var22"),
          (assign, ":var20", 20),
          (assign, ":var21", 0),
        (try_end),
      (else_try),
        (eq, ":var22", "qst_bounty_4"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_select_random_village_with_faction", ":var1"),
          (assign, ":var6", reg0),
          (store_random_in_range, ":var14", 0, 1000000),
          (assign, ":var4", ":var22"),
          (assign, ":var20", 20),
          (assign, ":var21", 0),
        (try_end),
      (else_try),
        (eq, ":var22", "qst_bounty_5"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_select_random_village_with_faction", ":var1"),
          (assign, ":var6", reg0),
          (store_random_in_range, ":var14", 0, 1000000),
          (assign, ":var4", ":var22"),
          (assign, ":var20", 20),
          (assign, ":var21", 0),
        (try_end),
      (else_try),
        (eq, ":var22", "qst_bounty_6"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_select_random_village_with_faction", ":var1"),
          (assign, ":var6", reg0),
          (store_random_in_range, ":var14", 0, 1000000),
          (assign, ":var4", ":var22"),
          (assign, ":var20", 20),
          (assign, ":var21", 0),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (neq, ":var4", -1),
      (try_begin),
        (ge, ":var6", 0),
        (store_faction_of_party, ":var7", ":var6"),
      (try_end),
      (quest_set_slot, ":var4", 2, ":var5"),
      (quest_set_slot, ":var4", 1, ":var6"),
      (quest_set_slot, ":var4", 4, ":var9"),
      (quest_set_slot, ":var4", 3, ":var7"),
      (quest_set_slot, ":var4", 15, ":var8"),
      (quest_set_slot, ":var4", 7, ":var10"),
      (quest_set_slot, ":var4", 8, ":var11"),
      (quest_set_slot, ":var4", 9, ":var12"),
      (quest_set_slot, ":var4", 10, ":var13"),
      (quest_set_slot, ":var4", 20, ":var16"),
      (quest_set_slot, ":var4", 21, ":var17"),
      (quest_set_slot, ":var4", 22, ":var18"),
      (quest_set_slot, ":var4", 19, ":var19"),
      (quest_set_slot, ":var4", 23, ":var20"),
      (quest_set_slot, ":var4", 24, ":var21"),
      (quest_set_slot, ":var4", 11, 0),
      (quest_set_slot, ":var4", 6, ":var0"),
      (quest_set_slot, ":var4", 12, ":var3"),
      (quest_set_slot, ":var4", 13, ":var14"),
      (quest_set_slot, ":var4", 14, ":var15"),
    (try_end),
    (assign, reg0, ":var4"),
  ]),

  ("succeed_quest_bounty",
  [
    (store_script_param, ":var0", 1),
    (succeed_quest, ":var0"),
    (quest_get_slot, ":var1", ":var0", 6),
    (str_store_troop_name, s59, ":var1"),
    (try_begin),
      (eq, ":var0", "qst_bounty_1"),
      (str_store_party_name_link, s60, "$g_bounty_town_1"),
    (else_try),
      (eq, ":var0", "qst_bounty_2"),
      (str_store_party_name_link, s60, "$g_bounty_town_2"),
    (else_try),
      (eq, ":var0", "qst_bounty_3"),
      (str_store_party_name_link, s60, "$g_bounty_town_3"),
    (else_try),
      (eq, ":var0", "qst_bounty_4"),
      (str_store_party_name_link, s60, "$g_bounty_town_4"),
    (else_try),
      (eq, ":var0", "qst_bounty_5"),
      (str_store_party_name_link, s60, "$g_bounty_town_5"),
    (else_try),
      (eq, ":var0", "qst_bounty_6"),
      (str_store_party_name_link, s60, "$g_bounty_town_6"),
    (try_end),
    (add_quest_note_from_sreg, ":var0", 7, "@This quest has been successfully completed. Talk to {s59} in {s60} to claim your reward.", 0),
  ]),

  ("fail_quest_bounty",
  [
    (store_script_param, ":var0", 1),
    (fail_quest, ":var0"),
    (quest_get_slot, ":var1", ":var0", 6),
    (str_store_troop_name, s59, ":var1"),
    (try_begin),
      (eq, ":var0", "qst_bounty_1"),
      (str_store_party_name_link, s60, "$g_bounty_town_1"),
    (else_try),
      (eq, ":var0", "qst_bounty_2"),
      (str_store_party_name_link, s60, "$g_bounty_town_2"),
    (else_try),
      (eq, ":var0", "qst_bounty_3"),
      (str_store_party_name_link, s60, "$g_bounty_town_3"),
    (else_try),
      (eq, ":var0", "qst_bounty_4"),
      (str_store_party_name_link, s60, "$g_bounty_town_4"),
    (else_try),
      (eq, ":var0", "qst_bounty_5"),
      (str_store_party_name_link, s60, "$g_bounty_town_5"),
    (else_try),
      (eq, ":var0", "qst_bounty_6"),
      (str_store_party_name_link, s60, "$g_bounty_town_6"),
    (try_end),
    (add_quest_note_from_sreg, ":var0", 7, "@This quest has failed. Talk to {s59} in {s60} to explain the situation.", 0),
  ]),

  ("fill_company_new",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (party_add_template, ":var1", ":var2"),
  ]),

  ("population_init",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_castle_1_1"),
      (try_begin),
        (store_random_in_range, ":var1", 15000, 30000),
        (party_set_slot, ":var0", 298, ":var1"),
        (party_set_slot, ":var0", 518, 30000),
      (try_end),
    (try_end),
    (try_for_range, ":var2", "p_castle_1_1", "p_village_1_1"),
      (try_begin),
        (store_random_in_range, ":var1", 1500, 3000),
        (party_set_slot, ":var2", 298, ":var1"),
        (party_set_slot, ":var2", 518, 3000),
      (try_end),
    (try_end),
    (try_for_range, ":var3", "p_village_1_1", "p_salt_mine"),
      (try_begin),
        (store_random_in_range, ":var1", 600, 1000),
        (party_set_slot, ":var3", 298, ":var1"),
        (party_set_slot, ":var3", 518, 1000),
      (try_end),
    (try_end),
  ]),

  ("get_message_color",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (gt, ":var1", 0),
    (assign, reg20, 4294967295),
    (assign, ":var2", reg20),
    (try_begin),
      (gt, "$players_kingdom", 0),
      (assign, ":var3", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var3", "trp_player"),
    (try_end),
    (try_begin),
      (eq, ":var0", 1),
      (store_faction_of_troop, ":var4", ":var1"),
      (try_begin),
        (eq, ":var4", ":var3"),
        (assign, ":var2", 16732240),
      (else_try),
        (store_relation, ":var5", ":var4", ":var3"),
        (lt, ":var5", -5),
        (assign, ":var2", 5308240),
      (else_try),
        (assign, ":var2", 16777215),
      (try_end),
    (else_try),
      (eq, ":var0", 2),
      (store_faction_of_troop, ":var4", ":var1"),
      (try_begin),
        (eq, ":var4", ":var3"),
        (assign, ":var2", 16720418),
      (else_try),
        (store_relation, ":var5", ":var4", ":var3"),
        (lt, ":var5", -5),
        (assign, ":var2", 65280),
      (else_try),
        (assign, ":var2", 16777215),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var0", 3),
      (eq, ":var0", 4),
      (store_faction_of_troop, ":var4", ":var1"),
      (try_begin),
        (eq, ":var4", ":var3"),
        (assign, ":var2", 65280),
      (else_try),
        (store_relation, ":var5", ":var4", ":var3"),
        (lt, ":var5", -5),
        (assign, ":var2", 16720418),
      (else_try),
        (assign, ":var2", 16777215),
      (try_end),
    (else_try),
      (eq, ":var0", 5),
      (store_faction_of_troop, ":var6", ":var1"),
      (try_begin),
        (eq, ":var6", ":var3"),
        (assign, ":var2", 16732240),
      (else_try),
        (store_relation, ":var5", ":var6", ":var3"),
        (lt, ":var5", -5),
        (assign, ":var2", 5308240),
      (else_try),
        (assign, ":var2", 16777215),
      (try_end),
    (else_try),
      (eq, ":var0", 6),
      (store_faction_of_troop, ":var7", ":var1"),
      (try_begin),
        (eq, ":var7", ":var3"),
        (assign, ":var2", 16720418),
      (else_try),
        (store_relation, ":var5", ":var7", ":var3"),
        (lt, ":var5", -5),
        (assign, ":var2", 65280),
      (else_try),
        (assign, ":var2", 6737151),
      (try_end),
    (else_try),
      (eq, ":var0", 7),
      (store_faction_of_troop, ":var6", ":var1"),
      (try_begin),
        (eq, ":var6", ":var3"),
        (assign, ":var2", 16732240),
      (else_try),
        (store_relation, ":var5", ":var6", ":var3"),
        (lt, ":var5", -5),
        (assign, ":var2", 5308240),
      (else_try),
        (assign, ":var2", 16777215),
      (try_end),
    (else_try),
      (eq, ":var0", 9),
      (try_begin),
        (eq, reg0, 1),
        (assign, ":var2", 5308240),
      (else_try),
        (assign, ":var2", 16732240),
      (try_end),
    (try_end),
    (assign, reg20, ":var2"),
  ]),

  ("get_message_color_raid",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, reg20, 4294967295),
    (assign, ":var3", reg20),
    (try_begin),
      (gt, "$players_kingdom", 0),
      (assign, ":var4", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var4", "trp_player"),
    (try_end),
    (try_begin),
      (eq, ":var0", 8),
      (store_faction_of_troop, ":var5", ":var1"),
      (try_begin),
        (eq, ":var5", ":var4"),
        (assign, ":var3", 5308240),
      (else_try),
        (neq, ":var2", ":var4"),
        (assign, ":var3", 16777215),
      (else_try),
        (eq, ":var2", ":var4"),
        (store_relation, ":var6", ":var5", ":var4"),
        (lt, ":var6", -5),
        (assign, ":var3", 16732240),
      (else_try),
        (assign, ":var3", 16777215),
      (try_end),
    (try_end),
    (assign, reg20, ":var3"),
  ]),

  ("get_message_color_siege",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, reg20, 4294967295),
    (assign, ":var3", reg20),
    (try_begin),
      (gt, "$players_kingdom", 0),
      (assign, ":var4", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var4", "trp_player"),
    (try_end),
    (try_begin),
      (eq, ":var0", 8),
      (try_begin),
        (eq, ":var1", ":var4"),
        (assign, ":var3", 16732240),
      (else_try),
        (store_relation, ":var5", ":var1", ":var4"),
        (ge, ":var5", 10),
        (assign, ":var3", 16732240),
      (else_try),
        (store_relation, ":var5", ":var2", ":var4"),
        (store_relation, ":var6", ":var1", ":var4"),
        (lt, ":var5", -5),
        (ge, ":var6", -5),
        (assign, ":var3", 5308240),
      (else_try),
        (store_relation, ":var5", ":var2", ":var4"),
        (store_relation, ":var6", ":var1", ":var4"),
        (lt, ":var5", -5),
        (lt, ":var6", -5),
        (assign, ":var3", 255),
      (else_try),
        (assign, ":var3", 16777215),
      (try_end),
    (try_end),
    (assign, reg20, ":var3"),
  ]),

  ("get_message_color_rebels",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, reg20, 4294967295),
    (assign, ":var2", reg20),
    (try_begin),
      (gt, "$players_kingdom", 0),
      (assign, ":var3", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var3", "trp_player"),
    (try_end),
    (try_begin),
      (eq, ":var0", 10),
      (try_begin),
        (eq, ":var1", ":var3"),
        (assign, ":var2", 16732240),
      (else_try),
        (neq, ":var1", ":var3"),
        (assign, ":var2", 16777215),
      (else_try),
        (eq, ":var1", ":var3"),
        (store_relation, ":var4", ":var1", ":var3"),
        (lt, ":var4", -5),
        (assign, ":var2", 5308240),
      (else_try),
        (assign, ":var2", 16777215),
      (try_end),
    (try_end),
    (assign, reg20, ":var2"),
  ]),

  ("get_message_color_siege_win",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, reg20, 4294967295),
    (assign, ":var3", reg20),
    (try_begin),
      (gt, "$players_kingdom", 0),
      (assign, ":var4", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var4", "trp_player"),
    (try_end),
    (try_begin),
      (eq, ":var0", 8),
      (try_begin),
        (eq, ":var2", ":var4"),
        (assign, ":var3", 16732240),
      (else_try),
        (store_relation, ":var5", ":var2", ":var4"),
        (ge, ":var5", 10),
        (assign, ":var3", 16732240),
      (else_try),
        (store_relation, ":var5", ":var2", ":var4"),
        (store_relation, ":var6", ":var1", ":var4"),
        (lt, ":var5", -5),
        (ge, ":var6", -5),
        (assign, ":var3", 5308240),
      (else_try),
        (store_relation, ":var5", ":var2", ":var4"),
        (store_relation, ":var6", ":var1", ":var4"),
        (lt, ":var5", -5),
        (lt, ":var6", -5),
        (assign, ":var3", 255),
      (else_try),
        (assign, ":var3", 16777215),
      (try_end),
    (try_end),
    (assign, reg20, ":var3"),
  ]),

  ("dplmc_move_troops_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (set_spawn_radius, 1),
    (spawn_around_party, ":var0", "pt_patrol_party"),
    (assign, ":var5", reg0),
    (party_set_faction, ":var5", ":var3"),
    (party_set_slot, ":var5", 0, 69),
    (party_set_slot, ":var5", 123, ":var0"),
    (party_set_slot, ":var5", 286, ":var4"),
    (str_store_party_name, s5, ":var1"),
    (party_set_name, ":var5", "@Transfer to {s5}"),
    (party_set_ai_behavior, ":var5", ai_bhvr_travel_to_party),
    (party_set_ai_object, ":var5", ":var1"),
    (party_set_slot, ":var5", 5, ":var1"),
    (party_set_slot, ":var5", 4, 14),
    (party_set_aggressiveness, ":var5", 2),
    (party_set_courage, ":var5", 3),
    (party_set_ai_initiative, ":var5", 100),
    (call_script, "script_party_add_party", ":var5", ":var2"),
  ]),

  ("food_consumption_display_message",
  [
    (store_script_param, ":var0", 1),
    (gt, ":var0", 0),
    (assign, reg1, ":var0"),
    (assign, ":var1", 0),
    (troop_get_inventory_capacity, ":var2", "trp_player"),
    (try_for_range, ":var3", 0, ":var2"),
      (troop_get_inventory_slot, ":var4", "trp_player", ":var3"),
      (try_begin),
        (is_between, ":var4", "itm_smoked_fish", "itm_siege_supply"),
        (troop_get_inventory_slot_modifier, ":var5", "trp_player", ":var3"),
        (neq, ":var5", 41),
        (troop_inventory_slot_get_item_amount, ":var6", "trp_player", ":var3"),
        (val_add, ":var1", ":var6"),
      (try_end),
    (try_end),
    (assign, ":var7", ":var1"),
    (val_mul, ":var7", 12),
    (val_div, ":var7", 24),
    (val_div, ":var7", ":var0"),
    (assign, ":var8", ":var7"),
    (assign, reg2, ":var8"),
    (try_begin),
      (lt, reg2, 4),
      (display_message, "@Your party consumed {reg1} units of food{reg4?, {reg4} from foraging : }({reg2} days left).", 0xFF0000),
    (else_try),
      (display_message, "@Your party consumed {reg1} units of food{reg4?, {reg4} from foraging : }({reg2} days left)."),
    (try_end),
  ]),

  ("forage_for_food",
  [
    (call_script, "script_get_max_skill_of_player_party", "skl_foraging"),
    (assign, ":var0", reg0),
    (assign, ":var1", reg1),
    (assign, ":var2", 0),
    (assign, reg4, 0),
    (try_begin),
      (gt, ":var0", 0),
      (try_begin),
        (assign, ":var3", ":var0"),
        (val_mul, ":var3", 5),
        (assign, ":var4", ":var0"),
        (val_mul, ":var4", 2),
        (try_for_parties, ":var5"),
          (assign, ":var6", 0),
          (this_or_next|party_slot_eq, ":var5", 0, 3),
          (party_slot_eq, ":var5", 0, 4),
          (neg|party_slot_eq, ":var5", 35, 2),
          (store_distance_to_party_from_party, ":var7", ":var5", "p_main_party"),
          (try_begin),
            (le, ":var7", ":var4"),
            (party_get_slot, ":var8", ":var5", 209),
            (val_div, ":var8", 1000),
            (val_add, ":var6", ":var8"),
            (party_get_slot, ":var8", ":var5", 211),
            (val_div, ":var8", 800),
            (val_add, ":var6", ":var8"),
            (party_get_slot, ":var8", ":var5", 211),
            (val_div, ":var8", 1000),
            (val_add, ":var6", ":var8"),
            (party_get_slot, ":var8", ":var5", 210),
            (val_div, ":var8", 1200),
            (val_add, ":var6", ":var8"),
            (party_get_slot, ":var8", ":var5", 213),
            (val_div, ":var8", 960),
            (val_add, ":var6", ":var8"),
            (party_get_slot, ":var8", ":var5", 205),
            (val_div, ":var8", 36),
            (val_add, ":var6", ":var8"),
            (party_get_slot, ":var8", ":var5", 206),
            (val_div, ":var8", 60),
            (val_add, ":var6", ":var8"),
            (party_get_slot, ":var8", ":var5", 232),
            (val_add, ":var6", 2),
            (party_get_slot, ":var8", ":var5", 216),
            (val_add, ":var6", 1),
            (party_get_slot, ":var8", ":var5", 220),
            (val_add, ":var6", ":var8"),
            (val_add, ":var2", ":var6"),
          (try_end),
        (try_end),
        (party_get_current_terrain, ":var9", "p_main_party"),
        (try_begin),
          (is_between, ":var9", 7, 13),
          (assign, reg10, 4),
        (else_try),
          (is_between, ":var9", 2, 3),
          (assign, reg10, 2),
        (else_try),
          (assign, reg10, 0),
        (try_end),
        (val_add, ":var2", reg10),
        (try_begin),
          (gt, ":var0", 1),
          (lt, ":var0", 5),
          (val_mul, ":var2", 3),
          (val_div, ":var2", 2),
        (else_try),
          (gt, ":var0", 4),
          (lt, ":var0"),
          (val_mul, ":var2", 2),
        (else_try),
          (gt, ":var0", 7),
          (lt, ":var0", 10),
          (val_mul, ":var2", 5),
          (val_div, ":var2", 2),
        (else_try),
          (ge, ":var0", 10),
          (val_mul, ":var2", 3),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_camp_mode", 1),
          (eq, "$g_siege_force_wait", 1),
          (val_mul, ":var2", 3),
          (val_div, ":var2", 2),
        (try_end),
        (try_begin),
          (gt, ":var2", ":var3"),
          (assign, ":var2", ":var3"),
        (try_end),
        (assign, reg4, ":var2"),
        (try_begin),
          (gt, ":var2", 0),
          (str_store_troop_name, s2, ":var1"),
          (display_message, "@{s2} managed to forage {reg4} units of food to complement supplies.", 0x00FF00),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("battle_pos_init",
  [
    (get_player_agent_no, "$fplayer_agent_no"),
    (agent_get_team, "$fplayer_team_no", "$fplayer_agent_no"),
    (set_show_messages, 0),
    (call_script, "script_player_order_formations", 2),
    (team_give_order, "$fplayer_team_no", 9, 0),
    (agent_get_position, pos1, "$fplayer_agent_no"),
    (position_move_x, 1, -4000),
    (team_set_order_position, "$fplayer_team_no", 2, pos1),
    (team_give_order, "$fplayer_team_no", 2, 7),
    (team_give_order, "$fplayer_team_no", 2, 7),
    (team_give_order, "$fplayer_team_no", 2, 3),
    (agent_get_position, pos1, "$fplayer_agent_no"),
    (position_move_y, pos1, 2500),
    (team_set_order_position, "$fplayer_team_no", 0, pos1),
    (team_give_order, "$fplayer_team_no", 0, 7),
    (team_give_order, "$fplayer_team_no", 0, 7),
    (agent_get_position, pos1, "$fplayer_agent_no"),
    (position_move_y, pos1, 1000),
    (team_set_order_position, "$fplayer_team_no", 1, pos1),
    (team_give_order, "$fplayer_team_no", 1, 7),
    (agent_get_position, pos1, "$fplayer_agent_no"),
    (position_move_x, 1, 4000),
    (position_move_y, pos1, -500),
    (try_for_range, reg0, 3, 9),
      (team_give_order, "$fplayer_team_no", reg0, 7),
      (team_set_order_position, "$fplayer_team_no", reg0, pos1),
    (try_end),
    (set_show_messages, 1),
  ]),

  ("battle_pos_hold",
  [
    (store_script_param, ":var0", 1),
    (get_player_agent_no, "$fplayer_agent_no"),
    (agent_get_team, "$fplayer_team_no", "$fplayer_agent_no"),
    (set_show_messages, 0),
    (call_script, "script_player_order_formations", 2),
    (team_give_order, "$fplayer_team_no", 9, 0),
    (position_move_x, 1, -4000),
    (team_set_order_position, "$fplayer_team_no", 2, ":var0"),
    (team_give_order, "$fplayer_team_no", 2, 7),
    (team_give_order, "$fplayer_team_no", 2, 7),
    (team_give_order, "$fplayer_team_no", 2, 3),
    (position_move_y, pos1, 2500),
    (team_set_order_position, "$fplayer_team_no", 0, ":var0"),
    (team_give_order, "$fplayer_team_no", 0, 7),
    (team_give_order, "$fplayer_team_no", 0, 7),
    (position_move_y, pos1, 1000),
    (team_set_order_position, "$fplayer_team_no", 1, ":var0"),
    (team_give_order, "$fplayer_team_no", 1, 7),
    (position_move_x, 1, 4000),
    (position_move_y, ":var0", -500),
    (try_for_range, reg0, 3, 9),
      (team_give_order, "$fplayer_team_no", reg0, 7),
      (team_set_order_position, "$fplayer_team_no", reg0, ":var0"),
    (try_end),
    (set_show_messages, 1),
  ]),

  ("recalculate_ais_for_faction",
  [
    (store_script_param, ":var0", 1),
    (call_script, "script_decide_faction_ai", ":var0"),
    (try_for_range, ":var1", "trp_npc1", "trp_enhanced_rnd_lord_end"),
      (troop_slot_eq, ":var1", 166, 1),
      (troop_slot_eq, ":var1", 2, 2),
      (store_faction_of_troop, ":var2", ":var1"),
      (eq, ":var2", ":var0"),
      (call_script, "script_calculate_troop_ai", ":var1"),
    (try_end),
  ]),

  ("xgm_get_skill_modifier_for_troop_by_items",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_tracking"),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_tracking"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_tracking"),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_tracking"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_tracking"),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_tracking"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_tracking"),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_tracking"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_tracking"),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_tracking"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_tracking"),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_tracking"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_tracking"),
      (this_or_next|eq, ":var1", "skl_foraging"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_tracking"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_foraging"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_spotting"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_spotting"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_spotting"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_spotting"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_spotting"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_spotting"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_spotting"),
      (this_or_next|eq, ":var1", "skl_pathfinding"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_spotting"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_pathfinding"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_ironflesh"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_ironflesh"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_ironflesh"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_ironflesh"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_ironflesh"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_ironflesh"),
        (store_mul, ":var5", 3, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_ironflesh"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_ironflesh"),
        (store_mul, ":var5", 4, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_athletics"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_athletics"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_athletics"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_athletics"),
        (store_mul, ":var5", 2, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_trade"),
      (this_or_next|eq, ":var1", "skl_inventory_management"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_trade"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_inventory_management"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "skl_wound_treatment"),
      (this_or_next|eq, ":var1", "skl_surgery"),
      (neq, 1, 1),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (val_add, ":var3", ":var4"),
      (try_begin),
        (gt, ":var3", 1),
        (assign, ":var3", 1),
      (try_end),
      (gt, ":var3", 0),
      (try_begin),
        (neq, 1, 1),
      (else_try),
        (eq, ":var1", "skl_wound_treatment"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (else_try),
        (eq, ":var1", "skl_surgery"),
        (store_mul, ":var5", 1, ":var3"),
        (val_add, ":var2", ":var5"),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("xgm_get_skill_modifier_for_troop_by_item_sets",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (assign, reg0, ":var2"),
  ]),

  ("process_sieges_new",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", reg0),
    (assign, ":var2", reg1),
    (try_begin),
      (party_get_slot, ":var3", ":var0", 54),
      (gt, ":var3", 0),
      (party_is_active, ":var3"),
      (store_current_hours, ":var4"),
      (store_faction_of_party, ":var5", ":var3"),
      (party_slot_ge, ":var0", 54, 1),
      (party_get_slot, ":var6", ":var0", 64),
      (store_sub, ":var6", ":var4", ":var6"),
      (assign, ":var7", 0),
      (assign, ":var8", 0),
      (assign, ":var9", 0),
      (assign, ":var10", 0),
      (try_for_range, ":var11", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var11", 166, 1),
        (troop_slot_eq, ":var11", 2, 2),
        (neg|troop_slot_ge, ":var11", 8, 0),
        (troop_get_slot, ":var12", ":var11", 10),
        (gt, ":var12", 0),
        (party_is_active, ":var12"),
        (store_faction_of_troop, ":var13", ":var11"),
        (eq, ":var13", ":var5"),
        (assign, ":var14", 0),
        (try_begin),
          (party_slot_eq, ":var12", 4, 1),
          (party_slot_eq, ":var12", 5, ":var0"),
          (assign, ":var14", 1),
        (else_try),
          (party_slot_eq, ":var12", 4, 11),
          (party_get_slot, ":var15", ":var12", 5),
          (gt, ":var15", 0),
          (party_is_active, ":var15"),
          (party_slot_eq, ":var15", 4, 1),
          (party_slot_eq, ":var15", 5, ":var0"),
          (assign, ":var14", 1),
        (try_end),
        (eq, ":var14", 1),
        (party_get_battle_opponent, ":var16", ":var12"),
        (this_or_next|lt, ":var16", 0),
        (eq, ":var16", ":var0"),
        (try_begin),
          (faction_slot_eq, ":var5", 8, ":var11"),
          (assign, ":var10", 1),
        (try_end),
        (call_script, "script_party_calculate_strength", ":var12", 0),
        (val_add, ":var9", reg0),
      (try_end),
      (try_begin),
        (gt, ":var9", 0),
        (party_collect_attachments_to_party, ":var0", "p_collective_enemy"),
        (call_script, "script_party_calculate_regular_strength", "p_collective_enemy"),
        (assign, ":var17", reg0),
        (try_begin),
          (eq, "$auto_enter_town", ":var0"),
          (eq, "$g_player_is_captive", 0),
          (call_script, "script_party_calculate_regular_strength", "p_main_party"),
          (val_add, ":var17", reg0),
          (val_mul, ":var9", 2),
        (try_end),
        (party_get_slot, ":var18", ":var0", 65),
        (val_add, ":var18", 100),
        (val_mul, ":var17", ":var18"),
        (val_div, ":var17", 100),
        (val_max, ":var17", 1),
        (try_begin),
          (eq, ":var10", 1),
          (eq, ":var5", "$players_kingdom"),
          (check_quest_active, "qst_follow_army"),
          (val_mul, ":var9", 2),
        (try_end),
        (store_mul, ":var19", ":var9", 100),
        (val_div, ":var19", ":var17"),
        (store_sub, ":var20", ":var19", 250),
        (try_begin),
          (gt, ":var20", -100),
          (store_div, ":var21", ":var6", 2),
          (val_add, ":var20", ":var21"),
        (try_end),
        (val_div, ":var20", 5),
        (val_max, ":var20", 0),
        (store_sub, ":var22", 175, ":var19"),
        (val_max, ":var22", 0),
        (try_begin),
          (party_get_skill_level, ":var23", ":var3", 8),
          (gt, ":var23", 0),
          (val_mul, ":var23", 5),
          (val_add, ":var20", ":var23"),
        (try_end),
        (try_begin),
          (store_random_in_range, ":var24", 0, 100),
          (lt, ":var24", ":var20"),
          (gt, ":var6", 24),
          (assign, ":var7", 1),
        (else_try),
          (store_random_in_range, ":var24", 0, 100),
          (lt, ":var24", ":var22"),
          (assign, ":var8", 1),
        (try_end),
      (else_try),
        (assign, ":var8", 1),
      (try_end),
      (try_begin),
        (eq, ":var7", 1),
        (call_script, "script_begin_assault_on_center", ":var0"),
      (else_try),
        (eq, ":var8", 1),
        (try_for_range, ":var11", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var11", 166, 1),
          (troop_slot_eq, ":var11", 2, 2),
          (neg|troop_slot_ge, ":var11", 8, 0),
          (troop_get_slot, ":var12", ":var11", 10),
          (gt, ":var12", 0),
          (party_is_active, ":var12"),
          (party_slot_eq, ":var12", 4, 1),
          (party_slot_eq, ":var12", 5, ":var0"),
          (party_slot_eq, ":var12", 8, 1),
          (call_script, "script_party_set_ai_state", ":var12", -1, -1),
          (call_script, "script_party_set_ai_state", ":var12", 1, ":var0"),
          (party_set_slot, ":var0", 64, ":var4"),
        (try_end),
      (try_end),
    (try_end),
    (assign, reg0, ":var1"),
    (assign, reg1, ":var2"),
  ]),

  ("process_center_upgrades",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (party_get_slot, ":var1", ":var0", 124),
      (gt, ":var1", 0),
      (party_get_slot, ":var2", ":var0", 294),
      (party_get_slot, ":var3", ":var0", 125),
      (store_current_hours, ":var4"),
      (ge, ":var4", ":var3"),
      (party_set_slot, ":var0", ":var1", ":var2"),
      (party_set_slot, ":var0", 124, 0),
      (call_script, "script_get_improvement_details", ":var1", ":var2"),
      (try_begin),
        (party_slot_eq, ":var0", 7, "trp_player"),
        (str_store_party_name_link, s4, ":var0"),
        (call_script, "script_add_notification_menu", "mnu_notification_building_constructed", ":var1", ":var0", ":var2"),
      (try_end),
      (try_begin),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (eq, ":var1", 131),
        (call_script, "script_change_center_prosperity", ":var0", 5),
      (try_end),
      (try_begin),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (eq, ":var1", 248),
        (call_script, "script_process_1257ad_center_upgrades", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("process_1257ad_center_upgrades",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (party_get_slot, ":var1", ":var0", 124),
      (party_get_position, pos0, ":var0"),
      (map_get_land_position_around_position, pos1, pos0, 2),
      (party_set_position, "p_castle_player", pos1),
      (party_set_flags, "p_castle_player", pf_disabled, 0),
      (str_store_party_name, s10, ":var0"),
      (str_store_string, s11, "@{s10} Castle"),
      (party_set_name, "p_castle_player", s11),
      (party_set_slot, ":var0", 120, "p_castle_player"),
      (party_set_slot, "p_castle_player", 0, 2),
      (party_set_slot, "p_castle_player", 7, "trp_player"),
      (call_script, "script_give_center_to_faction_aux", "p_castle_player", "$players_kingdom"),
      (call_script, "script_give_center_to_lord", "p_castle_player", "trp_player", 0),
      (call_script, "script_update_village_market_towns"),
      (party_set_note_available, "p_castle_player", 1),
      (party_get_slot, ":var2", ":var0", 19),
      (party_get_slot, ":var3", ":var0", 61),
      (party_set_slot, "p_castle_player", 19, ":var2"),
      (party_set_slot, "p_castle_player", 61, ":var3"),
      (party_get_current_terrain, ":var4", "p_castle_player"),
      (try_begin),
        (this_or_next|eq, ":var4", 5),
        (eq, ":var4", 13),
        (party_set_slot, "p_castle_player", 10, "scn_player_castle_desert_tier1"),
        (party_set_slot, "p_castle_player", 27, 0),
      (else_try),
        (this_or_next|eq, ":var4", 4),
        (eq, ":var4", 12),
        (party_set_slot, "p_castle_player", 10, "scn_castle_player_nordic_1"),
        (party_set_slot, "p_castle_player", 27, 0),
      (else_try),
        (eq, "fac_kingdom_10", "$players_kingdom"),
        (party_set_slot, "p_castle_player", 10, "scn_player_castle_french_tier1"),
        (party_set_slot, "p_castle_player", 27, 1),
      (else_try),
        (party_set_slot, "p_castle_player", 10, "scn_player_castle_central_Europe_tier1"),
        (party_set_slot, "p_castle_player", 27, 0),
      (try_end),
      (party_set_slot, "p_castle_player", 11, "scn_interior_moscow"),
      (party_set_slot, "p_castle_player", 12, "scn_castle_prison_eastern"),
      (party_set_slot, "p_castle_player", 61, "$players_kingdom"),
      (party_set_slot, "p_castle_player", 47, 0),
      (party_set_slot, "p_castle_player", 48, 0),
      (try_begin),
        (troop_get_slot, ":var5", "trp_temp_lord", 10),
        (neq, ":var5", -1),
        (party_is_active, ":var5"),
        (party_detach, ":var5"),
        (remove_party, ":var5"),
        (party_clear, "p_castle_player"),
        (remove_member_from_party, "trp_temp_lord", "p_castle_player"),
      (try_end),
      (try_begin),
        (troop_get_slot, ":var5", "trp_temp_lord", 10),
        (gt, ":var5", -1),
        (party_is_active, ":var5"),
        (party_relocate_near_party, ":var5", ":var0", 10),
        (disable_party, ":var5"),
      (try_end),
      (party_get_current_terrain, ":var4", "p_castle_player"),
      (try_begin),
        (this_or_next|eq, ":var4", 5),
        (eq, ":var4", 13),
        (party_set_slot, "p_castle_player", 27, 0),
        (try_begin),
          (eq, ":var1", 251),
          (party_set_slot, "p_castle_player", 10, "scn_player_castle_desert_tier2"),
        (else_try),
          (eq, ":var1", 252),
          (party_set_slot, "p_castle_player", 10, "scn_player_castle_desert_tier3"),
        (try_end),
      (else_try),
        (this_or_next|eq, ":var4", 4),
        (eq, ":var4", 12),
        (party_set_slot, "p_castle_player", 27, 0),
        (try_begin),
          (eq, ":var1", 251),
          (party_set_slot, "p_castle_player", 10, "scn_castle_player_nordic_2"),
        (else_try),
          (eq, ":var1", 252),
          (party_set_slot, "p_castle_player", 10, "scn_castle_player_nordic_3"),
        (try_end),
      (else_try),
        (eq, "fac_kingdom_10", "$players_kingdom"),
        (party_set_slot, "p_castle_player", 27, 1),
        (try_begin),
          (eq, ":var1", 251),
          (party_set_slot, "p_castle_player", 10, "scn_player_castle_french_tier2"),
        (else_try),
          (eq, ":var1", 252),
          (party_set_slot, "p_castle_player", 10, "scn_player_castle_french_tier3"),
        (try_end),
      (else_try),
        (party_set_slot, "p_castle_player", 27, 0),
        (try_begin),
          (eq, ":var1", 251),
          (party_set_slot, "p_castle_player", 10, "scn_player_castle_central_Europe_tier2"),
        (else_try),
          (eq, ":var1", 252),
          (party_set_slot, "p_castle_player", 10, "scn_player_castle_central_Europe_tier3"),
        (try_end),
      (try_end),
      (party_clear, "p_castle_player"),
    (try_end),
  ]),

  ("init_ai_calculation_active_npcs",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (troop_slot_eq, ":var0", 2, 2),
      (troop_get_slot, ":var1", ":var0", 10),
      (party_is_active, ":var1"),
      (call_script, "script_party_calculate_strength", ":var1", 0),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var2", ":var0", 10),
      (gt, ":var2", 0),
      (party_is_active, ":var2"),
      (call_script, "script_party_calculate_and_set_nearby_friend_enemy_follower_strengths", ":var2"),
    (try_end),
  ]),

  ("init_ai_calculation_ladies",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (troop_slot_eq, ":var0", 2, 2),
      (troop_get_slot, ":var1", ":var0", 10),
      (party_is_active, ":var1"),
      (call_script, "script_party_calculate_strength", ":var1", 0),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var2", ":var0", 10),
      (gt, ":var2", 0),
      (party_is_active, ":var2"),
      (call_script, "script_party_calculate_and_set_nearby_friend_enemy_follower_strengths", ":var2"),
    (try_end),
  ]),

  ("add_bandits_to_towns_and_villages",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (this_or_next|party_slot_eq, ":var0", 0, 3),
      (party_slot_eq, ":var0", 0, 4),
      (party_get_slot, ":var1", ":var0", 155),
      (try_begin),
        (le, ":var1", 0),
        (assign, ":var2", 0),
        (try_begin),
          (check_quest_active, "qst_deal_with_night_bandits"),
          (quest_slot_eq, "qst_deal_with_night_bandits", 1, ":var0"),
          (neg|check_quest_succeeded, "qst_deal_with_night_bandits"),
          (assign, ":var2", 1),
        (else_try),
          (store_random_in_range, ":var3", 0, 100),
          (lt, ":var3", 3),
          (assign, ":var2", 1),
        (try_end),
        (try_begin),
          (eq, ":var2", 1),
          (store_random_in_range, ":var3", 0, 3),
          (try_begin),
            (eq, ":var3", 0),
            (assign, ":var4", "trp_bandit"),
          (else_try),
            (eq, ":var3", 1),
            (assign, ":var4", "trp_mountain_bandit"),
          (else_try),
            (assign, ":var4", "trp_forest_bandit"),
          (try_end),
          (party_set_slot, ":var0", 155, ":var4"),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_party_name, s1, ":var0"),
            (display_message, "@{!}{s1} is infested by bandits (at night)."),
          (try_end),
        (try_end),
      (else_try),
        (try_begin),
          (assign, ":var5", 40),
          (try_begin),
            (party_slot_eq, ":var0", 0, 3),
            (assign, ":var5", 20),
          (try_end),
          (store_random_in_range, ":var3", 0, 100),
          (lt, ":var3", ":var5"),
          (party_set_slot, ":var0", 155, 0),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (str_store_party_name, s1, ":var0"),
            (display_message, "@{s1} is no longer infested by bandits (at night)."),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("update_fief_culture",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_set_slot, ":var0", 19, ":var1"),
    (try_begin),
      (call_script, "script_update_volunteer_troops_in_village", ":var0"),
      (call_script, "script_update_npc_volunteer_troops_in_village", ":var0"),
      (call_script, "script_update_mercenaries_in_fief", ":var0", ":var1"),
    (try_end),
  ]),

  ("trigger_process_alarms",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (this_or_next|party_slot_ge, ":var0", 54, 0),
      (party_slot_eq, ":var0", 35, 1),
      (party_slot_eq, ":var0", 55, -1),
      (call_script, "script_process_alarms_new", ":var0"),
    (else_try),
      (neg|this_or_next|party_slot_ge, ":var0", 54, 0),
      (neg|party_slot_eq, ":var0", 35, 1),
      (party_set_slot, ":var0", 55, -1),
      (party_set_slot, ":var0", 66, 0),
      (party_set_slot, ":var0", 67, 0),
    (try_end),
  ]),

  ("list_random",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", ":var0", 0),
    (val_add, ":var1", 1),
    (store_random_in_range, reg2, 1, ":var1"),
    (troop_get_slot, reg1, ":var0", reg2),
  ]),

  ("list_add",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", ":var0", 0),
    (val_add, ":var2", 1),
    (troop_set_slot, ":var0", ":var2", ":var1"),
    (troop_set_slot, ":var0", 0, ":var2"),
  ]),

  ("list_clear",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", ":var0", 0),
    (val_add, ":var1", 1),
    (try_for_range, ":var2", 1, ":var1"),
      (troop_set_slot, ":var0", ":var2", 0),
    (try_end),
    (troop_set_slot, ":var0", 0, 0),
  ]),

  ("update_trade_good_prices_new",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (this_or_next|is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
      (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
      (call_script, "script_update_trade_good_price_for_party", ":var0"),
    (try_end),
    (try_for_range, ":var1", "itm_spice", "itm_siege_supply"),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (try_for_range, ":var0", "p_town_1_1", "p_salt_mine"),
        (this_or_next|is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (store_sub, ":var4", ":var1", "itm_spice"),
        (val_add, ":var4", 310),
        (party_get_slot, ":var5", ":var0", ":var4"),
        (try_begin),
          (is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
          (assign, ":var6", 5),
        (else_try),
          (assign, ":var6", 1),
        (try_end),
        (val_mul, ":var5", ":var6"),
        (val_add, ":var2", ":var5"),
        (val_add, ":var3", ":var6"),
      (try_end),
      (try_for_range, ":var0", "p_town_1_1", "p_salt_mine"),
        (this_or_next|is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
        (is_between, ":var0", "p_village_1_1", "p_salt_mine"),
        (store_sub, ":var4", ":var1", "itm_spice"),
        (val_add, ":var4", 310),
        (party_get_slot, ":var5", ":var0", ":var4"),
        (val_mul, ":var5", 1000),
        (val_mul, ":var5", ":var3"),
        (val_div, ":var5", ":var2"),
        (val_clamp, ":var5", 100, 10000),
        (party_set_slot, ":var0", ":var4", ":var5"),
      (try_end),
    (try_end),
  ]),

  ("create_incidents_new",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_faction_of_party, ":var2", ":var0"),
    (try_begin),
      (eq, ":var1", -1),
      (party_get_slot, ":var3", ":var0", 61),
      (try_begin),
        (this_or_next|eq, ":var3", ":var2"),
        (neg|faction_slot_eq, ":var3", 21, 0),
        (party_get_slot, ":var3", ":var0", 62),
      (try_end),
      (str_store_party_name_link, s1, ":var0"),
      (str_store_faction_name_link, s3, ":var2"),
      (str_store_faction_name_link, s4, ":var3"),
      (faction_get_slot, ":var4", ":var3", 11),
      (str_store_troop_name_link, s5, ":var4"),
      (str_store_string, s9, "str_local_notables_from_s1_a_village_claimed_by_the_s4_have_been_mistreated_by_their_overlords_from_the_s3_and_petition_s5_for_protection"),
      (display_log_message, "@There has been an alleged border incident: {s9}"),
      (call_script, "script_add_log_entry", 75, ":var0", -1, -1, ":var2"),
      (try_begin),
        (this_or_next|faction_slot_eq, ":var3", 11, "trp_player"),
        (faction_slot_eq, ":var2", 11, "trp_player"),
        (call_script, "script_add_notification_menu", "mnu_notification_border_incident", ":var0", -1),
      (try_end),
    (else_try),
      (store_faction_of_party, ":var3", ":var1"),
      (str_store_party_name_link, s1, ":var0"),
      (str_store_party_name_link, s2, ":var1"),
      (store_random_in_range, ":var5", 0, 3),
      (try_begin),
        (eq, ":var5", 0),
        (str_store_string, s9, "str_villagers_from_s1_stole_some_cattle_from_s2"),
        (display_log_message, "@There has been an alleged border incident: {s9}"),
        (call_script, "script_add_log_entry", 72, ":var0", ":var1", -1, ":var2"),
        (try_begin),
          (this_or_next|faction_slot_eq, ":var3", 11, "trp_player"),
          (faction_slot_eq, ":var2", 11, "trp_player"),
          (call_script, "script_add_notification_menu", "mnu_notification_border_incident", ":var0", ":var1"),
        (try_end),
      (else_try),
        (eq, ":var5", 1),
        (str_store_string, s9, "str_villagers_from_s1_abducted_a_woman_from_a_prominent_family_in_s2_to_marry_one_of_their_boys"),
        (display_log_message, "@There has been an alleged border incident: {s9}"),
        (call_script, "script_add_log_entry", 73, ":var0", ":var1", -1, ":var2"),
        (try_begin),
          (this_or_next|faction_slot_eq, ":var3", 11, "trp_player"),
          (faction_slot_eq, ":var2", 11, "trp_player"),
          (call_script, "script_add_notification_menu", "mnu_notification_border_incident", ":var0", ":var1"),
        (try_end),
      (else_try),
        (eq, ":var5", 2),
        (str_store_string, s9, "str_villagers_from_s1_killed_some_farmers_from_s2_in_a_fight_over_the_diversion_of_a_stream"),
        (display_log_message, "@There has been an alleged border incident: {s9}"),
        (call_script, "script_add_log_entry", 74, ":var0", ":var1", -1, ":var2"),
        (try_begin),
          (this_or_next|faction_slot_eq, ":var3", 11, "trp_player"),
          (faction_slot_eq, ":var2", 11, "trp_player"),
          (call_script, "script_add_notification_menu", "mnu_notification_border_incident", ":var0", ":var1"),
        (try_end),
      (try_end),
    (try_end),
    (str_store_faction_name, s3, ":var2"),
    (str_store_faction_name, s4, ":var3"),
    (store_add, ":var6", ":var2", 220),
    (val_sub, ":var6", "fac_player_supporters_faction"),
    (faction_set_slot, ":var3", ":var6", 30),
  ]),

  ("equip_troop_king_start",
  [
    (troop_clear_inventory, "trp_player"),
    (try_for_range, ":var0", 0, 12),
      (store_random_in_range, ":var1", "itm_smoked_fish", "itm_raw_grapes"),
      (troop_add_item, "trp_player", ":var1", 0),
    (try_end),
    (try_begin),
      (eq, "$kaos_kings_kingdom", 1),
      (troop_set_slot, "trp_player", 13, "spr_banner_q01"),
      (party_set_banner_icon, "trp_player", "icon_banner_337"),
      (assign, ":var2", "trp_kingdom_1_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 2),
      (troop_set_slot, "trp_player", 13, "spr_banner_p01"),
      (party_set_banner_icon, "trp_player", "icon_banner_316"),
      (assign, ":var2", "trp_kingdom_2_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 3),
      (troop_set_slot, "trp_player", 13, "spr_banner_n01"),
      (party_set_banner_icon, "trp_player", "icon_banner_274"),
      (assign, ":var2", "trp_kingdom_3_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 4),
      (troop_set_slot, "trp_player", 13, "spr_banner_m01"),
      (party_set_banner_icon, "trp_player", "icon_banner_253"),
      (assign, ":var2", "trp_kingdom_4_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 5),
      (troop_set_slot, "trp_player", 13, "spr_banner_l01"),
      (party_set_banner_icon, "trp_player", "icon_banner_232"),
      (assign, ":var2", "trp_kingdom_5_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 6),
      (troop_set_slot, "trp_player", 13, "spr_banner_k01"),
      (party_set_banner_icon, "trp_player", "icon_banner_211"),
      (assign, ":var2", "trp_kingdom_6_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 7),
      (troop_set_slot, "trp_player", 13, "spr_banner_j01"),
      (party_set_banner_icon, "trp_player", "icon_banner_190"),
      (assign, ":var2", "trp_kingdom_7_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 8),
      (troop_set_slot, "trp_player", 13, "spr_banner_i01"),
      (party_set_banner_icon, "trp_player", "icon_banner_169"),
      (assign, ":var2", "trp_kingdom_8_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 9),
      (troop_set_slot, "trp_player", 13, "spr_banner_h01"),
      (party_set_banner_icon, "trp_player", "icon_banner_148"),
      (assign, ":var2", "trp_kingdom_9_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 10),
      (troop_set_slot, "trp_player", 13, "spr_banner_g01"),
      (party_set_banner_icon, "trp_player", "icon_banner_127"),
      (assign, ":var2", "trp_kingdom_10_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 11),
      (troop_set_slot, "trp_player", 13, "spr_banner_r01"),
      (party_set_banner_icon, "trp_player", "icon_banner_358"),
      (assign, ":var2", "trp_kingdom_11_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 12),
      (troop_set_slot, "trp_player", 13, "spr_banner_s01"),
      (party_set_banner_icon, "trp_player", "icon_banner_379"),
      (assign, ":var2", "trp_kingdom_12_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 13),
      (troop_set_slot, "trp_player", 13, "spr_banner_t02"),
      (party_set_banner_icon, "trp_player", "icon_banner_401"),
      (assign, ":var2", "trp_kingdom_13_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 14),
      (troop_set_slot, "trp_player", 13, "spr_banner_u01"),
      (party_set_banner_icon, "trp_player", "icon_banner_421"),
      (assign, ":var2", "trp_kingdom_14_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 15),
      (troop_set_slot, "trp_player", 13, "spr_banner_v01"),
      (party_set_banner_icon, "trp_player", "icon_banner_442"),
      (assign, ":var2", "trp_kingdom_15_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 16),
      (troop_set_slot, "trp_player", 13, "spr_banner_e17"),
      (party_set_banner_icon, "trp_player", "icon_banner_101"),
      (assign, ":var2", "trp_kingdom_16_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 17),
      (troop_set_slot, "trp_player", 13, "spr_banner_e01"),
      (party_set_banner_icon, "trp_player", "icon_banner_85"),
      (assign, ":var2", "trp_kingdom_17_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 18),
      (troop_set_slot, "trp_player", 13, "spr_banner_f01"),
      (party_set_banner_icon, "trp_player", "icon_banner_106"),
      (assign, ":var2", "trp_kingdom_18_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 19),
      (troop_set_slot, "trp_player", 13, "spr_banner_x04"),
      (party_set_banner_icon, "trp_player", "icon_banner_466"),
      (assign, ":var2", "trp_kingdom_19_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 20),
      (troop_set_slot, "trp_player", 13, "spr_banner_x01"),
      (party_set_banner_icon, "trp_player", "icon_banner_463"),
      (assign, ":var2", "trp_kingdom_20_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 21),
      (troop_set_slot, "trp_player", 13, "spr_banner_f16"),
      (party_set_banner_icon, "trp_player", "icon_banner_121"),
      (assign, ":var2", "trp_pope"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 22),
      (troop_set_slot, "trp_player", 13, "spr_banner_x07"),
      (party_set_banner_icon, "trp_player", "icon_banner_469"),
      (assign, ":var2", "trp_kingdom_22_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 23),
      (troop_set_slot, "trp_player", 13, "spr_banner_v05"),
      (party_set_banner_icon, "trp_player", "icon_banner_446"),
      (assign, ":var2", "trp_kingdom_23_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 24),
      (troop_set_slot, "trp_player", 13, "spr_banner_f10"),
      (party_set_banner_icon, "trp_player", "icon_banner_115"),
      (assign, ":var2", "trp_kingdom_24_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 25),
      (troop_set_slot, "trp_player", 13, "spr_banner_x10"),
      (party_set_banner_icon, "trp_player", "icon_banner_472"),
      (assign, ":var2", "trp_kingdom_25_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 26),
      (troop_set_slot, "trp_player", 13, "spr_banner_x11"),
      (party_set_banner_icon, "trp_player", "icon_banner_473"),
      (assign, ":var2", "trp_kingdom_26_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 27),
      (troop_set_slot, "trp_player", 13, "spr_banner_x12"),
      (party_set_banner_icon, "trp_player", "icon_banner_474"),
      (assign, ":var2", "trp_kingdom_27_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 28),
      (troop_set_slot, "trp_player", 13, "spr_banner_x13"),
      (party_set_banner_icon, "trp_player", "icon_banner_475"),
      (assign, ":var2", "trp_kingdom_28_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 29),
      (troop_set_slot, "trp_player", 13, "spr_banner_x16"),
      (party_set_banner_icon, "trp_player", "icon_banner_478"),
      (assign, ":var2", "trp_kingdom_29_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 30),
      (troop_set_slot, "trp_player", 13, "spr_banner_x15"),
      (party_set_banner_icon, "trp_player", "icon_banner_477"),
      (assign, ":var2", "trp_kingdom_30_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 31),
      (troop_set_slot, "trp_player", 13, "spr_banner_x19"),
      (party_set_banner_icon, "trp_player", "icon_banner_481"),
      (assign, ":var2", "trp_kingdom_31_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 32),
      (troop_set_slot, "trp_player", 13, "spr_banner_o"),
      (party_set_banner_icon, "trp_player", "icon_banner_15"),
      (assign, ":var2", "trp_kingdom_32_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 33),
      (troop_set_slot, "trp_player", 13, "spr_banner_p17"),
      (party_set_banner_icon, "trp_player", "icon_banner_332"),
      (assign, ":var2", "trp_kingdom_33_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 34),
      (troop_set_slot, "trp_player", 13, "spr_banner_l"),
      (party_set_banner_icon, "trp_player", "icon_banner_12"),
      (assign, ":var2", "trp_kingdom_34_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 35),
      (troop_set_slot, "trp_player", 13, "spr_banner_d"),
      (party_set_banner_icon, "trp_player", "icon_banner_04"),
      (assign, ":var2", "trp_kingdom_35_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 36),
      (troop_set_slot, "trp_player", 13, "spr_banner_p19"),
      (party_set_banner_icon, "trp_player", "icon_banner_334"),
      (assign, ":var2", "trp_kingdom_36_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 37),
      (troop_set_slot, "trp_player", 13, "spr_banner_h"),
      (party_set_banner_icon, "trp_player", "icon_banner_08"),
      (assign, ":var2", "trp_kingdom_37_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 38),
      (troop_set_slot, "trp_player", 13, "spr_banner_f18"),
      (party_set_banner_icon, "trp_player", "icon_banner_123"),
      (assign, ":var2", "trp_kingdom_38_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 39),
      (troop_set_slot, "trp_player", 13, "spr_banner_x09"),
      (party_set_banner_icon, "trp_player", "icon_banner_471"),
      (assign, ":var2", "trp_kingdom_39_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 40),
      (troop_set_slot, "trp_player", 13, "spr_banner_t"),
      (party_set_banner_icon, "trp_player", "icon_banner_20"),
      (assign, ":var2", "trp_kingdom_40_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 41),
      (troop_set_slot, "trp_player", 13, "spr_banner_s"),
      (party_set_banner_icon, "trp_player", "icon_banner_19"),
      (assign, ":var2", "trp_kingdom_41_lord"),
    (else_try),
      (eq, "$kaos_kings_kingdom", 42),
      (troop_set_slot, "trp_player", 13, "spr_banner_o06"),
      (party_set_banner_icon, "trp_player", "icon_banner_300"),
      (assign, ":var2", "trp_kingdom_42_lord"),
    (try_end),
    (call_script, "script_give_source_troop_inventory_to_troop", "trp_player", ":var2", 1),
  ]),

  ("equip_troop_royal_start",
  [
    (troop_clear_inventory, "trp_player"),
    (try_for_range, ":var0", 0, 8),
      (store_random_in_range, ":var1", "itm_smoked_fish", "itm_raw_grapes"),
      (troop_add_item, "trp_player", ":var1", 0),
    (try_end),
    (try_begin),
      (this_or_next|eq, "$kaos_kings_prince", 1),
      (eq, "$kaos_kings_vassal", 1),
      (store_random_in_range, ":var2", "trp_knight_1_1", "trp_knight_2_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 2),
      (eq, "$kaos_kings_vassal", 2),
      (store_random_in_range, ":var2", "trp_knight_2_1", "trp_knight_3_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 3),
      (eq, "$kaos_kings_vassal", 3),
      (store_random_in_range, ":var2", "trp_knight_3_1", "trp_knight_4_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 4),
      (eq, "$kaos_kings_vassal", 4),
      (store_random_in_range, ":var2", "trp_knight_4_1", "trp_knight_5_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 5),
      (eq, "$kaos_kings_vassal", 5),
      (store_random_in_range, ":var2", "trp_knight_5_1", "trp_knight_6_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 6),
      (eq, "$kaos_kings_vassal", 6),
      (store_random_in_range, ":var2", "trp_knight_6_1", "trp_knight_7_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 7),
      (eq, "$kaos_kings_vassal", 7),
      (store_random_in_range, ":var2", "trp_knight_7_1", "trp_knight_8_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 8),
      (eq, "$kaos_kings_vassal", 8),
      (store_random_in_range, ":var2", "trp_knight_8_1", "trp_knight_9_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 9),
      (eq, "$kaos_kings_vassal", 9),
      (store_random_in_range, ":var2", "trp_knight_9_1", "trp_knight_10_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 10),
      (eq, "$kaos_kings_vassal", 10),
      (store_random_in_range, ":var2", "trp_knight_10_1", "trp_knight_11_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 11),
      (eq, "$kaos_kings_vassal", 11),
      (store_random_in_range, ":var2", "trp_knight_11_1", "trp_knight_12_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 12),
      (eq, "$kaos_kings_vassal", 12),
      (store_random_in_range, ":var2", "trp_knight_12_1", "trp_knight_13_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 13),
      (eq, "$kaos_kings_vassal", 13),
      (store_random_in_range, ":var2", "trp_knight_13_1", "trp_knight_14_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 14),
      (eq, "$kaos_kings_vassal", 14),
      (store_random_in_range, ":var2", "trp_knight_14_1", "trp_knight_15_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 15),
      (eq, "$kaos_kings_vassal", 15),
      (store_random_in_range, ":var2", "trp_knight_15_1", "trp_knight_16_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 16),
      (eq, "$kaos_kings_vassal", 16),
      (store_random_in_range, ":var2", "trp_knight_16_1", "trp_knight_17_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 17),
      (eq, "$kaos_kings_vassal", 17),
      (store_random_in_range, ":var2", "trp_knight_17_1", "trp_knight_18_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 18),
      (eq, "$kaos_kings_vassal", 18),
      (store_random_in_range, ":var2", "trp_knight_18_1", "trp_knight_19_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 19),
      (eq, "$kaos_kings_vassal", 19),
      (store_random_in_range, ":var2", "trp_knight_19_1", "trp_knight_20_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 20),
      (eq, "$kaos_kings_vassal", 20),
      (store_random_in_range, ":var2", "trp_knight_20_1", "trp_knight_21_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 21),
      (eq, "$kaos_kings_vassal", 21),
      (store_random_in_range, ":var2", "trp_knight_21_1", "trp_knight_22_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 22),
      (eq, "$kaos_kings_vassal", 22),
      (store_random_in_range, ":var2", "trp_knight_22_1", "trp_knight_23_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 23),
      (eq, "$kaos_kings_vassal", 23),
      (store_random_in_range, ":var2", "trp_knight_23_1", "trp_knight_24_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 24),
      (eq, "$kaos_kings_vassal", 24),
      (store_random_in_range, ":var2", "trp_knight_24_1", "trp_knight_25_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 25),
      (eq, "$kaos_kings_vassal", 25),
      (store_random_in_range, ":var2", "trp_knight_25_1", "trp_knight_26_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 26),
      (eq, "$kaos_kings_vassal", 26),
      (store_random_in_range, ":var2", "trp_knight_26_1", "trp_knight_27_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 27),
      (eq, "$kaos_kings_vassal", 27),
      (store_random_in_range, ":var2", "trp_knight_27_1", "trp_knight_28_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 28),
      (eq, "$kaos_kings_vassal", 28),
      (store_random_in_range, ":var2", "trp_knight_28_1", "trp_knight_29_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 29),
      (eq, "$kaos_kings_vassal", 29),
      (store_random_in_range, ":var2", "trp_knight_29_1", "trp_knight_30_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 30),
      (eq, "$kaos_kings_vassal", 30),
      (store_random_in_range, ":var2", "trp_knight_30_1", "trp_knight_31_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 31),
      (eq, "$kaos_kings_vassal", 31),
      (store_random_in_range, ":var2", "trp_knight_31_1", "trp_knight_32_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 32),
      (eq, "$kaos_kings_vassal", 32),
      (store_random_in_range, ":var2", "trp_knight_32_1", "trp_knight_33_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 33),
      (eq, "$kaos_kings_vassal", 33),
      (store_random_in_range, ":var2", "trp_knight_33_1", "trp_knight_34_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 34),
      (eq, "$kaos_kings_vassal", 34),
      (store_random_in_range, ":var2", "trp_knight_34_1", "trp_knight_35_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 35),
      (eq, "$kaos_kings_vassal", 35),
      (store_random_in_range, ":var2", "trp_knight_35_1", "trp_knight_36_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 36),
      (eq, "$kaos_kings_vassal", 36),
      (store_random_in_range, ":var2", "trp_knight_36_1", "trp_knight_37_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 37),
      (eq, "$kaos_kings_vassal", 37),
      (store_random_in_range, ":var2", "trp_knight_37_1", "trp_knight_38_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 38),
      (eq, "$kaos_kings_vassal", 38),
      (store_random_in_range, ":var2", "trp_knight_38_1", "trp_knight_39_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 39),
      (eq, "$kaos_kings_vassal", 39),
      (store_random_in_range, ":var2", "trp_knight_39_1", "trp_knight_40_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 40),
      (eq, "$kaos_kings_vassal", 40),
      (store_random_in_range, ":var2", "trp_knight_40_1", "trp_knight_41_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 41),
      (eq, "$kaos_kings_vassal", 41),
      (store_random_in_range, ":var2", "trp_knight_41_1", "trp_knight_42_1"),
    (else_try),
      (this_or_next|eq, "$kaos_kings_prince", 42),
      (eq, "$kaos_kings_vassal", 42),
      (store_random_in_range, ":var2", "trp_knight_42_1", "trp_enhanced_rnd_lord_1"),
    (try_end),
    (try_begin),
      (gt, "$kaos_kings_prince", 0),
      (call_script, "script_give_source_troop_inventory_to_troop", "trp_player", ":var2", 2),
    (else_try),
      (gt, "$kaos_kings_vassal", 0),
      (call_script, "script_give_source_troop_inventory_to_troop", "trp_player", ":var2", 3),
    (try_end),
  ]),

  ("dplmc_store_troop_is_female",
  [
    (store_script_param_1, ":var0"),
    (try_begin),
      (eq, ":var0", "trp_kingdom_heroes_including_player_begin"),
      (assign, ":var0", "trp_player"),
    (try_end),
    (troop_get_type, reg0, ":var0"),
    (try_begin),
      (neq, reg0, 0),
      (neq, reg0, 1),
      (assign, reg0, 0),
    (try_end),
  ]),

  ("get_item_modifier_effects",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (assign, ":var6", 0),
    (assign, ":var7", 100),
    (try_begin),
      (eq, ":var0", 1),
      (try_begin),
        (eq, ":var1", 30),
        (assign, ":var3", -10),
        (assign, ":var7", 40),
        (str_store_string, s0, "@Lame"),
      (else_try),
        (eq, ":var1", 31),
        (assign, ":var3", -4),
        (assign, ":var7", 60),
        (str_store_string, s0, "@Swaybacked"),
      (else_try),
        (eq, ":var1", 33),
        (assign, ":var3", 2),
        (assign, ":var7", 120),
        (str_store_string, s0, "@Timid"),
      (else_try),
        (eq, ":var1", 34),
        (assign, ":var3", 2),
        (assign, ":var7", 120),
        (str_store_string, s0, "@Meek"),
      (else_try),
        (eq, ":var1", 32),
        (assign, ":var5", 5),
        (assign, ":var6", 1),
        (assign, ":var7", 90),
        (str_store_string, s0, "@Stubborn"),
      (else_try),
        (eq, ":var1", 18),
        (assign, ":var2", 4),
        (assign, ":var4", 3),
        (assign, ":var5", 10),
        (assign, ":var7", 150),
        (str_store_string, s0, "@Heavy"),
      (else_try),
        (eq, ":var1", 35),
        (assign, ":var2", 1),
        (assign, ":var3", 2),
        (assign, ":var7", 160),
        (str_store_string, s0, "@Spirited"),
      (else_try),
        (eq, ":var1", 36),
        (assign, ":var2", 2),
        (assign, ":var3", 4),
        (assign, ":var6", 2),
        (assign, ":var7", 170),
        (str_store_string, s0, "@Champion"),
      (try_end),
    (else_try),
      (eq, ":var0", 7),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var4", -4),
        (assign, ":var5", -56),
        (assign, ":var7", 50),
        (str_store_string, s0, "@Cracked"),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var4", -2),
        (assign, ":var5", -26),
        (assign, ":var7", 75),
        (str_store_string, s0, "@Battered"),
      (else_try),
        (eq, ":var1", 25),
        (assign, ":var4", 2),
        (assign, ":var5", 47),
        (assign, ":var7", 120),
        (str_store_string, s0, "@Thick"),
      (else_try),
        (eq, ":var1", 27),
        (assign, ":var4", 4),
        (assign, ":var5", 63),
        (assign, ":var7", 150),
        (str_store_string, s0, "@Reinforced"),
      (try_end),
    (else_try),
      (ge, ":var0", 12),
      (le, ":var0", 15),
      (try_begin),
        (eq, ":var1", 1),
        (assign, ":var4", -4),
        (assign, ":var7", 50),
        (str_store_string, s0, "@Cracked"),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var4", -3),
        (assign, ":var7", 55),
        (str_store_string, s0, "@Rusty"),
      (else_try),
        (eq, ":var1", 21),
        (assign, ":var4", -3),
        (assign, ":var7", 40),
        (str_store_string, s0, "@Tattered"),
      (else_try),
        (eq, ":var1", 22),
        (assign, ":var4", -2),
        (assign, ":var7", 60),
        (str_store_string, s0, "@Ragged"),
      (else_try),
        (eq, ":var1", 5),
        (assign, ":var4", -2),
        (assign, ":var7", 75),
        (str_store_string, s0, "@Battered"),
      (else_try),
        (eq, ":var1", 7),
        (assign, ":var4", -1),
        (assign, ":var7", 83),
        (str_store_string, s0, "@Crude"),
      (else_try),
        (eq, ":var1", 24),
        (assign, ":var4", 1),
        (assign, ":var7", 120),
        (str_store_string, s0, "@Sturdy"),
      (else_try),
        (eq, ":var1", 25),
        (assign, ":var4", 2),
        (assign, ":var7", 140),
        (str_store_string, s0, "@Thick"),
      (else_try),
        (eq, ":var1", 26),
        (assign, ":var4", 3),
        (assign, ":var7", 160),
        (str_store_string, s0, "@Hardened"),
      (else_try),
        (eq, ":var1", 27),
        (assign, ":var4", 4),
        (assign, ":var7", 180),
        (str_store_string, s0, "@Reinforced"),
      (else_try),
        (eq, ":var1", 29),
        (assign, ":var4", 5),
        (assign, ":var7", 400),
        (str_store_string, s0, "@Lordly"),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var0", 2),
      (this_or_next|eq, ":var0", 3),
      (this_or_next|eq, ":var0", 4),
      (this_or_next|eq, ":var0", 8),
      (this_or_next|eq, ":var0", 9),
      (this_or_next|eq, ":var0", 16),
      (eq, ":var0", 17),
      (try_begin),
        (eq, ":var1", 41),
        (assign, ":var2", -20),
        (assign, ":var7", 5),
        (str_store_string, s0, "@Broken"),
      (else_try),
        (eq, ":var1", 1),
        (assign, ":var2", -5),
        (assign, ":var7", 40),
        (str_store_string, s0, "@Cracked"),
      (else_try),
        (eq, ":var1", 2),
        (assign, ":var2", -3),
        (assign, ":var7", 55),
        (str_store_string, s0, "@Rusty"),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var2", -3),
        (assign, ":var3", -3),
        (assign, ":var7", 60),
        (str_store_string, s0, "@Bent"),
      (else_try),
        (eq, ":var1", 4),
        (assign, ":var2", -1),
        (assign, ":var7", 72),
        (str_store_string, s0, "@Chipped"),
      (else_try),
        (eq, ":var1", 18),
        (assign, ":var2", 2),
        (assign, ":var3", -2),
        (assign, ":var6", 1),
        (assign, ":var7", 120),
        (str_store_string, s0, "@Heavy"),
      (else_try),
        (eq, ":var1", 19),
        (assign, ":var2", 3),
        (assign, ":var3", -3),
        (assign, ":var6", 2),
        (assign, ":var7", 150),
        (str_store_string, s0, "@Strong"),
      (else_try),
        (eq, ":var1", 13),
        (assign, ":var2", 3),
        (assign, ":var3", 3),
        (assign, ":var7", 165),
        (str_store_string, s0, "@Balanced"),
      (else_try),
        (eq, ":var1", 14),
        (assign, ":var2", 4),
        (assign, ":var7", 180),
        (str_store_string, s0, "@Tempered"),
      (else_try),
        (eq, ":var1", 17),
        (assign, ":var2", 5),
        (assign, ":var3", 1),
        (assign, ":var6", 4),
        (assign, ":var7", 400),
        (str_store_string, s0, "@Masterwork"),
      (else_try),
        (eq, ":var1", 7),
        (assign, ":var2", -2),
        (assign, ":var7", 83),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var0", 5),
      (this_or_next|eq, ":var0", 6),
      (this_or_next|eq, ":var0", 18),
      (eq, ":var0", 10),
      (try_begin),
        (eq, ":var1", 42),
        (assign, ":var7", 110),
        (str_store_string, s0, "@Large Bag of"),
      (else_try),
        (eq, ":var1", 3),
        (assign, ":var2", -3),
        (assign, ":var7", 65),
        (str_store_string, s0, "@Bent"),
      (else_try),
        (eq, ":var1", 1),
        (assign, ":var2", -5),
        (assign, ":var7", 50),
        (str_store_string, s0, "@Cracked"),
      (else_try),
        (eq, ":var1", 18),
        (assign, ":var2", 2),
        (assign, ":var7", 130),
        (str_store_string, s0, "@Heavy"),
      (else_try),
        (eq, ":var1", 13),
        (assign, ":var2", 3),
        (assign, ":var7", 150),
        (str_store_string, s0, "@Balanced"),
      (try_end),
    (try_end),
    (assign, reg0, ":var2"),
    (assign, reg1, ":var3"),
    (assign, reg2, ":var4"),
    (assign, reg3, ":var5"),
    (assign, reg4, ":var6"),
    (assign, reg5, ":var7"),
  ]),

  ("get_next_lower_imod_for_item",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (item_get_type, ":var2", ":var0"),
    (call_script, "script_get_item_modifier_effects", ":var2", ":var1"),
    (assign, ":var3", reg5),
    (assign, ":var4", 0),
    (assign, ":var5", ":var1"),
    (try_for_range, ":var6", 0, 43),
      (this_or_next|eq, ":var6", 0),
      (item_has_modifier, ":var0", ":var6"),
      (neq, ":var6", ":var1"),
      (call_script, "script_get_item_modifier_effects", ":var2", ":var6"),
      (is_between, reg5, ":var4", ":var3"),
      (assign, ":var4", reg5),
      (assign, ":var5", ":var6"),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("get_next_higher_imod_for_item",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (item_get_type, ":var2", ":var0"),
    (call_script, "script_get_item_modifier_effects", ":var2", ":var1"),
    (assign, ":var3", reg5),
    (assign, ":var4", 1000),
    (assign, ":var5", ":var1"),
    (try_for_range, ":var6", 0, 43),
      (this_or_next|eq, ":var6", 0),
      (item_has_modifier, ":var0", ":var6"),
      (neq, ":var6", 31),
      (neq, ":var6", ":var1"),
      (call_script, "script_get_item_modifier_effects", ":var2", ":var6"),
      (is_between, reg5, ":var3", ":var4"),
      (assign, ":var4", reg5),
      (assign, ":var5", ":var6"),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("sa_armor_jerusalem_set_tableau_kompl",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (item_set_slot, ":var2", 94, 1),
    (try_begin),
      (ge, ":var0", 0),
      (agent_is_human, ":var0"),
      (neg|troop_is_hero, ":var1"),
      (try_begin),
        (agent_get_slot, ":var3", ":var0", 28),
        (agent_get_slot, ":var4", ":var0", 29),
        (ge, ":var3", 1),
        (try_begin),
          (assign, ":var5", 0),
          (assign, ":var6", 89),
          (assign, ":var7", 0),
          (try_for_range, ":var8", 70, ":var6"),
            (this_or_next|eq, ":var8", 70),
            (this_or_next|eq, ":var8", 72),
            (this_or_next|eq, ":var8", 74),
            (this_or_next|eq, ":var8", 76),
            (this_or_next|eq, ":var8", 78),
            (this_or_next|eq, ":var8", 80),
            (this_or_next|eq, ":var8", 82),
            (this_or_next|eq, ":var8", 84),
            (this_or_next|eq, ":var8", 86),
            (eq, ":var8", 88),
            (val_add, ":var5", 1),
            (eq, ":var5", ":var3"),
            (item_slot_ge, ":var2", ":var8", 1),
            (assign, ":var9", ":var8"),
            (store_add, ":var10", ":var9", 1),
            (assign, ":var6", 0),
          (try_end),
          (item_get_slot, ":var7", ":var2", ":var9"),
          (item_get_slot, ":var11", ":var2", ":var10"),
          (val_add, ":var11", 1),
          (ge, ":var7", 1),
          (store_random_in_range, ":var12", ":var7", ":var11"),
          (cur_item_set_tableau_material, ":var12"),
        (try_end),
      (else_try),
        (eq, ":var3", 0),
        (ge, ":var4", 1),
        (try_begin),
          (item_get_slot, ":var7", ":var2", 90),
          (item_get_slot, ":var11", ":var2", 91),
          (val_add, ":var11", 1),
          (ge, ":var7", 1),
          (store_random_in_range, ":var12", ":var7", ":var11"),
          (cur_item_set_tableau_material, ":var12"),
          (assign, ":var5", 0),
          (assign, ":var6", 89),
          (assign, ":var7", 0),
          (try_for_range, ":var8", 70, ":var6"),
            (this_or_next|eq, ":var8", 70),
            (this_or_next|eq, ":var8", 72),
            (this_or_next|eq, ":var8", 74),
            (this_or_next|eq, ":var8", 76),
            (this_or_next|eq, ":var8", 78),
            (this_or_next|eq, ":var8", 80),
            (this_or_next|eq, ":var8", 82),
            (this_or_next|eq, ":var8", 84),
            (this_or_next|eq, ":var8", 86),
            (eq, ":var8", 88),
            (val_add, ":var5", 1),
            (item_slot_ge, ":var2", ":var8", 1),
            (assign, ":var9", ":var8"),
            (store_add, ":var10", ":var9", 1),
            (item_get_slot, ":var7", ":var2", ":var9"),
            (item_get_slot, ":var11", ":var2", ":var10"),
            (val_add, ":var11", 1),
            (is_between, ":var12", ":var7", ":var11"),
            (agent_set_slot, ":var0", 28, ":var5"),
            (assign, ":var6", 0),
          (try_end),
        (try_end),
      (else_try),
        (item_get_slot, ":var7", ":var2", 90),
        (item_get_slot, ":var11", ":var2", 91),
        (val_add, ":var11", 1),
        (ge, ":var7", 1),
        (store_random_in_range, ":var12", ":var7", ":var11"),
        (cur_item_set_tableau_material, ":var12"),
      (try_end),
      (try_begin),
        (call_script, "script_sa_boot_set_imodbits_for_troop", ":var1"),
      (try_end),
    (try_end),
  ]),

  ("sa_boot_set_imodbits_for_troop",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (troop_get_inventory_slot, ":var1", ":var0", ek_foot),
      (ge, ":var1", 1),
      (item_get_slot, ":var2", ":var1", 65),
      (ge, ":var2", 1),
      (assign, ":var3", 0),
      (assign, ":var4", 6),
      (try_begin),
        (eq, ":var2", 16777216),
        (store_random_in_range, ":var5", 0, 2),
        (try_begin),
          (eq, ":var5", 1),
          (assign, ":var3", 24),
        (try_end),
      (else_try),
        (eq, ":var2", 134217728),
        (store_random_in_range, ":var5", 0, 2),
        (try_begin),
          (eq, ":var5", 1),
          (assign, ":var3", 27),
        (try_end),
      (else_try),
        (eq, ":var2", 536870912),
        (try_begin),
          (troop_is_mounted, ":var0"),
          (assign, ":var3", 29),
        (try_end),
      (else_try),
        (eq, ":var2", 33554432),
        (store_random_in_range, ":var5", 0, 2),
        (try_begin),
          (eq, ":var5", 1),
          (assign, ":var3", 25),
        (try_end),
      (try_end),
      (try_begin),
        (ge, ":var3", 0),
        (troop_set_inventory_slot_modifier, ":var0", ":var4", ":var3"),
      (try_end),
    (try_end),
  ]),

  ("sa_armor_set_random_tableau",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (item_set_slot, ":var4", 94, 1),
    (try_begin),
      (ge, ":var0", 0),
      (neg|troop_is_hero, ":var1"),
      (val_add, ":var3", 1),
      (ge, ":var2", 1),
      (store_random_in_range, ":var5", ":var2", ":var3"),
      (cur_item_set_tableau_material, ":var5"),
    (try_end),
  ]),

  ("troop_tree_recursive_backtracking",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_add, ":var4", ":var1", ":var3"),
    (troop_get_upgrade_troop, ":var5", ":var0", 0),
    (troop_get_upgrade_troop, ":var6", ":var0", 1),
    (try_begin),
      (gt, ":var6", 0),
      (call_script, "script_troop_tree_recursive_backtracking", ":var6", ":var4", reg2, ":var3"),
      (assign, ":var7", reg0),
      (val_add, reg2, 160),
      (call_script, "script_troop_tree_recursive_backtracking", ":var5", ":var4", reg2, ":var3"),
      (assign, ":var8", reg0),
    (else_try),
      (gt, ":var5", 0),
      (call_script, "script_troop_tree_recursive_backtracking", ":var5", ":var4", reg2, ":var3"),
      (assign, ":var8", reg0),
    (try_end),
    (try_begin),
      (gt, ":var6", 0),
      (store_add, reg0, ":var8", ":var7"),
      (val_div, reg0, 2),
      (store_div, ":var9", ":var3", 2),
      (store_add, ":var10", ":var1", ":var9"),
      (call_script, "script_prsnt_line", ":var9", 4, ":var1", reg0, 0),
      (call_script, "script_prsnt_line", ":var9", 4, ":var10", ":var8", 0),
      (call_script, "script_prsnt_line", ":var9", 4, ":var10", ":var7", 0),
      (store_sub, ":var11", ":var8", ":var7"),
      (val_add, ":var11", 4),
      (call_script, "script_prsnt_line", 4, ":var11", ":var10", ":var7", 0),
    (else_try),
      (gt, ":var5", 0),
      (assign, reg0, ":var8"),
      (call_script, "script_prsnt_line", ":var3", 4, ":var1", ":var8", 0),
    (else_try),
      (assign, reg0, ":var2"),
    (try_end),
    (str_store_troop_name, s1, ":var0"),
    (create_text_overlay, reg1, "@{s1}", tf_center_justify|tf_double_space|tf_vertical_align_center|tf_scrollable),
    (try_begin),
      (troop_is_mounted, ":var0"),
      (store_sub, ":var12", ":var1", 57),
      (store_sub, ":var13", reg0, 120),
    (else_try),
      (store_sub, ":var12", ":var1", 57),
      (store_sub, ":var13", reg0, 104),
    (try_end),
    (position_set_x, pos1, ":var12"),
    (position_set_y, pos1, ":var13"),
    (overlay_set_position, reg1, pos1),
    (position_set_x, pos1, 100),
    (position_set_y, pos1, 60),
    (overlay_set_area_size, reg1, pos1),
    (position_set_x, pos1, 640),
    (position_set_y, pos1, 640),
    (overlay_set_size, reg1, pos1),
    (store_sub, ":var14", ":var1", 60),
    (store_sub, ":var15", reg0, 60),
    (store_mul, ":var16", ":var0", 2),
    (create_image_button_overlay_with_tableau_material, reg1, -1, "tableau_game_party_window", ":var16"),
    (position_set_x, pos1, 360),
    (position_set_y, pos1, 480),
    (overlay_set_size, reg1, pos1),
    (position_set_x, pos1, ":var14"),
    (position_set_y, pos1, ":var15"),
    (overlay_set_position, reg1, pos1),
    (troop_set_slot, "trp_stack_selection_amounts", "$g_cur_slot_no", reg1),
    (troop_set_slot, "trp_stack_selection_ids", "$g_cur_slot_no", ":var0"),
    (val_add, "$g_cur_slot_no", 1),
  ]),

  ("troop_tree_recursive_detect_max_tier",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_add, ":var2", ":var1", 1),
    (troop_get_upgrade_troop, ":var3", ":var0", 0),
    (troop_get_upgrade_troop, ":var4", ":var0", 1),
    (try_begin),
      (gt, ":var4", 0),
      (call_script, "script_troop_tree_recursive_detect_max_tier", ":var4", ":var2"),
      (call_script, "script_troop_tree_recursive_detect_max_tier", ":var3", ":var2"),
    (else_try),
      (gt, ":var3", 0),
      (call_script, "script_troop_tree_recursive_detect_max_tier", ":var3", ":var2"),
    (try_end),
    (try_begin),
      (gt, ":var1", reg0),
      (assign, reg0, ":var1"),
    (try_end),
  ]),

  ("prsnt_line",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (create_mesh_overlay, reg1, "mesh_white_plane"),
    (val_mul, ":var0", 50),
    (val_mul, ":var1", 50),
    (position_set_x, pos0, ":var0"),
    (position_set_y, pos0, ":var1"),
    (overlay_set_size, reg1, pos0),
    (position_set_x, pos0, ":var2"),
    (position_set_y, pos0, ":var3"),
    (overlay_set_position, reg1, pos0),
    (overlay_set_color, reg1, ":var4"),
  ]),

  ("get_page_no_of_troop_tree_for_troop_on_1",
  [
    (store_script_param, ":var0", 1),
    (store_sub, ":var1", "fac_culture_templar", "fac_culture_finnish"),
    (try_begin),
      (is_between, ":var0", 191, 206),
      (store_sub, ":var2", "fac_culture_finnish", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 206, 223),
      (store_sub, ":var2", "fac_culture_mazovian", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 223, 240),
      (store_sub, ":var2", "fac_culture_serbian", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 240, 250),
      (store_sub, ":var2", "fac_culture_welsh", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 250, 271),
      (store_sub, ":var2", "fac_culture_teutonic", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 271, 290),
      (store_sub, ":var2", "fac_culture_balkan", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 290, 305),
      (store_sub, ":var2", "fac_culture_rus", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 305, 323),
      (store_sub, ":var2", "fac_culture_nordic", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 323, 342),
      (store_sub, ":var2", "fac_culture_baltic", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 342, 359),
      (store_sub, ":var2", "fac_culture_marinid", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 359, 388),
      (store_sub, ":var2", "fac_culture_mamluke", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 388, 404),
      (store_sub, ":var2", "fac_culture_byzantium", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 405, 423),
      (store_sub, ":var2", "fac_culture_iberian", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 423, 442),
      (store_sub, ":var2", "fac_culture_italian", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 442, 462),
      (store_sub, ":var2", "fac_culture_andalus", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 462, 475),
      (store_sub, ":var2", "fac_culture_gaelic", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 475, 487),
      (store_sub, ":var2", "fac_culture_anatolian_christian", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 487, 501),
      (store_sub, ":var2", "fac_culture_anatolian", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 501, 513),
      (store_sub, ":var2", "fac_culture_scotish", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 513, 530),
      (store_sub, ":var2", "fac_culture_western", "fac_culture_finnish"),
    (else_try),
      (is_between, ":var0", 530, 537),
      (store_sub, ":var2", "fac_culture_mongol", "fac_culture_finnish"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("get_page_no_of_troop_tree_for_troop_on_2",
  [
    (store_script_param, ":var0", 1),
    (store_sub, ":var1", "fac_culture_player", "fac_culture_templar"),
    (try_begin),
      (is_between, ":var0", 537, 552),
      (store_sub, ":var2", "fac_culture_templar", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 552, 567),
      (store_sub, ":var2", "fac_culture_hospitaller", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 567, 584),
      (store_sub, ":var2", "fac_culture_antioch", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 584, 601),
      (store_sub, ":var2", "fac_culture_tripoli", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 601, 618),
      (store_sub, ":var2", "fac_culture_ibelin", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 618, 635),
      (store_sub, ":var2", "fac_culture_jerusalem", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 513, 530),
      (store_sub, ":var2", "fac_culture_crusader", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 148, 155),
      (store_sub, ":var2", "fac_culture_cuman", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 659, 673),
      (store_sub, ":var2", "fac_culture_english", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 673, 688),
      (store_sub, ":var2", "fac_culture_french", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 688, 703),
      (store_sub, ":var2", "fac_culture_hungarian", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", 703, 717),
      (store_sub, ":var2", "fac_culture_polish", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", "trp_cstm_custom_troop_1_tier_0_0_0", "trp_cstm_custom_troops_end"),
      (store_sub, ":var2", "fac_culture_player", "fac_culture_templar"),
    (else_try),
      (is_between, ":var0", "trp_merc_euro_spearman", "trp_mercenaries_end"),
      (store_add, ":var2", ":var1", 0),
    (else_try),
      (is_between, ":var0", "trp_looter", "trp_black_khergit_horseman"),
      (store_add, ":var2", ":var1", 1),
    (else_try),
      (is_between, ":var0", "trp_refugee", "trp_kidnapped_girl"),
      (store_add, ":var2", ":var1", 2),
    (else_try),
      (neg|is_between, ":var0", "trp_farmer", "trp_town_walker_1"),
      (store_add, ":var2", ":var1", 2),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("enhanced_apply_lord_culture_to_fief",
  [
    (try_for_range, ":var0", "p_town_1_1", "p_salt_mine"),
      (party_get_slot, ":var1", ":var0", 7),
      (gt, ":var1", -1),
      (troop_get_slot, ":var2", ":var1", 165),
      (party_set_slot, ":var0", 19, ":var2"),
    (try_end),
  ]),

  ("check_faction_lord_threshold",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (assign, ":var1", 0),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (faction_get_slot, ":var4", ":var0", 82),
      (faction_get_slot, ":var5", ":var0", 81),
      (faction_get_slot, ":var6", ":var0", 108),
      (faction_get_slot, ":var7", ":var0", 107),
      (try_begin),
        (gt, "$g_lord_creation_threshold_towns", 0),
        (ge, ":var4", "$g_lord_creation_threshold_towns"),
        (store_div, ":var1", ":var4", "$g_lord_creation_threshold_towns"),
      (try_end),
      (try_begin),
        (gt, "$g_lord_creation_threshold_castles", 0),
        (ge, ":var5", "$g_lord_creation_threshold_castles"),
        (store_div, ":var2", ":var5", "$g_lord_creation_threshold_castles"),
      (try_end),
      (try_begin),
        (gt, "$g_lord_creation_threshold_villages", 0),
        (ge, ":var6", "$g_lord_creation_threshold_villages"),
        (store_div, ":var3", ":var6", "$g_lord_creation_threshold_villages"),
      (try_end),
      (try_begin),
        (store_add, ":var8", ":var1", ":var2"),
        (val_add, ":var8", ":var3"),
        (try_begin),
          (lt, ":var8", "$g_lord_creation_minimum"),
          (val_add, ":var8", "$g_lord_creation_minimum"),
        (try_end),
        (lt, ":var7", ":var8"),
        (assign, reg0, 1),
      (else_try),
        (assign, reg0, 0),
      (try_end),
    (try_end),
  ]),

  ("create_new_lord_for_faction",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (le, "$g_use_random_lords_until", 130),
      (assign, ":var1", "trp_enhanced_rnd_lord_1"),
      (assign, ":var2", "trp_enhanced_rnd_lord_end"),
      (val_add, "$g_use_random_lords_until", 1),
    (else_try),
      (gt, "$g_use_random_lords_until", 130),
      (assign, ":var1", "trp_knight_1_1"),
      (assign, ":var2", "trp_enhanced_rnd_lord_end"),
      (val_add, "$g_use_random_lords_until", 1),
    (try_end),
    (try_begin),
      (eq, ":var0", "fac_player_supporters_faction"),
      (call_script, "script_get_random_culture_for_lord_player_faction", ":var0"),
      (assign, ":var3", reg0),
    (else_try),
      (neq, ":var0", "fac_player_supporters_faction"),
      (call_script, "script_get_random_culture_for_lord", ":var0"),
      (assign, ":var3", reg0),
    (try_end),
    (try_for_range, ":var4", ":var1", ":var2"),
      (troop_slot_eq, ":var4", 166, 0),
      (assign, ":var2", -1),
      (troop_set_note_available, ":var4", 0),
      (call_script, "script_recycle_lord", ":var4", ":var0"),
      (try_begin),
        (troop_set_slot, ":var4", 165, ":var3"),
      (try_end),
      (try_begin),
        (eq, ":var3", "fac_culture_player"),
        (call_script, "script_get_random_name_for_lord_by_language", ":var0", ":var4"),
      (else_try),
        (neq, ":var3", "fac_culture_player"),
        (call_script, "script_get_random_name_for_lord", ":var0", ":var4", ":var3"),
      (try_end),
      (try_begin),
        (neq, ":var3", "fac_culture_player"),
        (neg|is_between, ":var0", 84, 114),
        (faction_get_slot, ":var5", ":var0", 10),
        (eq, ":var3", ":var5"),
        (call_script, "script_get_random_equipment_type_from_troop_by_faction", ":var4", ":var0"),
      (else_try),
        (call_script, "script_get_random_equipment_type_from_troop_by_culture", ":var4", ":var3"),
      (try_end),
      (try_begin),
        (eq, ":var0", "$players_kingdom"),
        (faction_slot_eq, ":var0", 11, "trp_player"),
        (assign, "$g_ee_cur_faction", ":var0"),
        (assign, "$g_ee_cur_troop", ":var4"),
        (start_presentation, "prsnt_lord_vassalage_notify"),
      (else_try),
        (call_script, "script_ee_spawn_lord_party", ":var4", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("recycle_lord",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (troop_set_slot, ":var0", 31, -1),
      (troop_set_slot, ":var0", 32, -1),
      (troop_set_slot, ":var0", 33, -1),
      (troop_set_slot, ":var0", 30, -1),
      (troop_set_slot, ":var0", 34, -1),
      (troop_set_slot, ":var0", 8, -1),
      (troop_set_slot, ":var0", 38, -1),
      (troop_set_slot, ":var0", 154, -1),
      (call_script, "script_rand", 0, 10000),
      (troop_set_slot, ":var0", 48, reg0),
      (troop_set_slot, ":var0", 49, reg0),
      (call_script, "script_rand", 200, 400),
      (troop_set_slot, ":var0", 7, reg0),
      (call_script, "script_rand", "mesh_banner_a01", "mesh_banner_x21"),
      (troop_set_slot, ":var0", 13, reg0),
      (troop_set_slot, ":var0", 14, ":var1"),
      (call_script, "script_rand", 3000, 5000),
      (troop_set_slot, ":var0", 11, reg0),
      (troop_set_slot, ":var0", 10, -1),
      (troop_set_slot, ":var0", 2, 2),
      (call_script, "script_rand", 1, 8),
      (troop_set_slot, ":var0", 52, reg0),
      (troop_set_slot, ":var0", 5, 0),
      (call_script, "script_rand", 20, 50),
      (troop_set_slot, ":var0", 18, reg0),
      (call_script, "script_init_troop_age", ":var0", reg0),
      (troop_set_slot, ":var0", 20, 0),
      (troop_set_slot, ":var0", 21, 0),
      (troop_set_slot, ":var0", 22, 0),
      (troop_set_slot, ":var0", 24, 0),
      (troop_set_slot, ":var0", 25, 0),
      (troop_set_slot, ":var0", 26, 0),
      (troop_set_slot, ":var0", 27, 0),
      (troop_set_slot, ":var0", 59, -1),
      (troop_set_slot, ":var0", 60, -1),
      (troop_set_slot, ":var0", 63, -1),
      (troop_set_slot, ":var0", 67, -1),
      (troop_set_slot, ":var0", 69, -1),
      (troop_set_slot, ":var0", 71, -1),
      (troop_set_slot, ":var0", 72, -1),
      (troop_set_slot, ":var0", 73, -1),
      (troop_set_slot, ":var0", 74, -1),
      (troop_set_slot, ":var0", 75, -1),
      (troop_set_slot, ":var0", 76, -1),
      (troop_set_slot, ":var0", 77, -1),
      (troop_set_slot, ":var0", 77, -1),
      (troop_set_slot, ":var0", 80, -1),
      (troop_set_slot, ":var0", 81, -1),
      (troop_set_slot, ":var0", 82, -1),
      (troop_set_slot, ":var0", 151, -1),
      (troop_set_slot, ":var0", 152, -1),
      (troop_set_slot, ":var0", 153, -1),
      (call_script, "script_assign_troop_love_interests", ":var0"),
      (troop_set_slot, ":var0", 46, 0),
      (troop_set_slot, ":var0", 149, 0),
      (troop_set_slot, ":var0", 167, -1),
      (troop_set_slot, ":var0", 168, -1),
      (troop_set_slot, ":var0", 169, -1),
      (troop_set_slot, ":var0", 170, -1),
      (troop_set_slot, ":var0", 171, -1),
      (troop_set_slot, ":var0", 172, -1),
      (troop_set_slot, ":var0", 173, -1),
      (troop_set_slot, ":var0", 174, 0),
      (troop_set_slot, ":var0", 175, -1),
      (troop_set_slot, ":var0", 176, -1),
      (troop_set_slot, ":var0", 177, 0),
      (troop_set_slot, ":var0", 178, 0),
      (troop_set_slot, ":var0", 179, -1),
      (troop_set_slot, ":var0", 28, 1),
      (call_script, "script_rand", 10, 46),
      (troop_set_slot, ":var0", 150, reg0),
      (try_for_range, ":var2", 200, 1401),
        (neg|troop_slot_eq, ":var0", ":var2", 0),
        (troop_set_slot, ":var0", ":var2", 0),
      (try_end),
      (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
        (party_slot_eq, ":var3", 7, ":var0"),
        (party_set_slot, ":var3", 7, -1),
      (try_end),
      (troop_set_slot, ":var0", 182, 0),
    (try_end),
  ]),

  ("get_random_culture_for_lord",
  [
    (store_script_param, ":var0", 1),
    (faction_get_slot, ":var1", ":var0", 10),
    (try_begin),
      (eq, ":var1", "fac_culture_teutonic"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 75),
        (assign, ":var3", "fac_culture_teutonic"),
      (else_try),
        (ge, ":var2", 75),
        (lt, ":var2", 85),
        (assign, ":var3", "fac_culture_nordic"),
      (else_try),
        (ge, ":var2", 85),
        (assign, ":var3", "fac_culture_baltic"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_baltic"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 85),
        (assign, ":var3", "fac_culture_baltic"),
      (else_try),
        (ge, ":var2", 85),
        (assign, ":var3", "fac_culture_rus"),
      (try_end),
    (else_try),
      (eq, ":var0", "fac_kingdom_3"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_mongol"),
      (else_try),
        (ge, ":var2", 80),
        (assign, ":var3", "fac_culture_rus"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_mongol"),
      (assign, ":var3", "fac_culture_mongol"),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (faction_slot_eq, ":var0", 135, 7),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_nordic"),
      (else_try),
        (ge, ":var2", 80),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_polish"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_polish"),
      (else_try),
        (ge, ":var2", 80),
        (assign, ":var3", "fac_culture_mazovian"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (faction_slot_eq, ":var0", 135, 4),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 70),
        (assign, ":var3", "fac_culture_western"),
      (else_try),
        (ge, ":var2", 70),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_nordic"),
      (else_try),
        (ge, ":var2", 80),
        (lt, ":var2", 93),
        (assign, ":var3", "fac_culture_teutonic"),
      (else_try),
        (ge, ":var2", 93),
        (assign, ":var3", "fac_culture_hospitaller"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_hungarian"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 75),
        (assign, ":var3", "fac_culture_hungarian"),
      (else_try),
        (ge, ":var2", 75),
        (lt, ":var2", 85),
        (assign, ":var3", "fac_culture_balkan"),
      (else_try),
        (ge, ":var2", 85),
        (assign, ":var3", "fac_culture_cuman"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_rus"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_rus"),
      (else_try),
        (ge, ":var2", 90),
        (assign, ":var3", "fac_culture_baltic"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_english"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 70),
        (assign, ":var3", "fac_culture_english"),
      (else_try),
        (ge, ":var2", 70),
        (lt, ":var2", 77),
        (assign, ":var3", "fac_culture_welsh"),
      (else_try),
        (ge, ":var2", 77),
        (lt, ":var2", 84),
        (assign, ":var3", "fac_culture_scotish"),
      (else_try),
        (ge, ":var2", 84),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_gaelic"),
      (else_try),
        (ge, ":var2", 90),
        (lt, ":var2", 95),
        (assign, ":var3", "fac_culture_templar"),
      (else_try),
        (ge, ":var2", 95),
        (assign, ":var3", "fac_culture_hospitaller"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_french"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 75),
        (assign, ":var3", "fac_culture_french"),
      (else_try),
        (ge, ":var2", 75),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_scotish"),
      (else_try),
        (ge, ":var2", 80),
        (lt, ":var2", 93),
        (assign, ":var3", "fac_culture_templar"),
      (else_try),
        (ge, ":var2", 93),
        (assign, ":var3", "fac_culture_hospitaller"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (faction_slot_eq, ":var0", 135, 8),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 85),
        (assign, ":var3", "fac_culture_nordic"),
      (else_try),
        (ge, ":var2", 85),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_scotish"),
      (else_try),
        (ge, ":var2", 90),
        (assign, ":var3", "fac_culture_finnish"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_scotish"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_scotish"),
      (else_try),
        (ge, ":var2", 80),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_gaelic"),
      (else_try),
        (ge, ":var2", 90),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_gaelic"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_gaelic"),
      (else_try),
        (ge, ":var2", 80),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_scotish"),
      (else_try),
        (ge, ":var2", 90),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (faction_slot_eq, ":var0", 135, 9),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_nordic"),
      (else_try),
        (ge, ":var2", 80),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_finnish"),
      (else_try),
        (ge, ":var2", 90),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_iberian"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_iberian"),
      (else_try),
        (ge, ":var2", 80),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (faction_slot_eq, ":var0", 135, 13),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 60),
        (assign, ":var3", "fac_culture_western"),
      (else_try),
        (ge, ":var2", 60),
        (assign, ":var3", "fac_culture_iberian"),
      (try_end),
    (else_try),
      (neq, ":var0", "fac_kingdom_26"),
      (neq, ":var0", "fac_kingdom_41"),
      (eq, ":var1", "fac_culture_italian"),
      (faction_slot_eq, ":var0", 135, 15),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_italian"),
      (else_try),
        (ge, ":var2", 90),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_byzantium"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 70),
        (assign, ":var3", "fac_culture_byzantium"),
      (else_try),
        (ge, ":var2", 70),
        (lt, ":var2", 85),
        (assign, ":var3", "fac_culture_anatolian_christian"),
      (else_try),
        (ge, ":var2", 85),
        (assign, ":var3", "fac_culture_balkan"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_crusader"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 30),
        (assign, ":var3", "fac_culture_western"),
      (else_try),
        (ge, ":var2", 30),
        (lt, ":var2", 35),
        (assign, ":var3", "fac_culture_iberian"),
      (else_try),
        (ge, ":var2", 35),
        (lt, ":var2", 40),
        (assign, ":var3", "fac_culture_italian"),
      (else_try),
        (ge, ":var2", 40),
        (lt, ":var2", 50),
        (assign, ":var3", "fac_culture_anatolian_christian"),
      (else_try),
        (ge, ":var2", 50),
        (lt, ":var2", 60),
        (assign, ":var3", "fac_culture_teutonic"),
      (else_try),
        (ge, ":var2", 60),
        (lt, ":var2", 70),
        (assign, ":var3", "fac_culture_templar"),
      (else_try),
        (ge, ":var2", 70),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_hospitaller"),
      (else_try),
        (ge, ":var2", 80),
        (lt, ":var2", 85),
        (assign, ":var3", "fac_culture_antioch"),
      (else_try),
        (ge, ":var2", 85),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_tripoli"),
      (else_try),
        (ge, ":var2", 90),
        (lt, ":var2", 95),
        (assign, ":var3", "fac_culture_ibelin"),
      (else_try),
        (ge, ":var2", 95),
        (assign, ":var3", "fac_culture_jerusalem"),
      (try_end),
    (else_try),
      (eq, ":var0", "fac_kingdom_26"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 60),
        (assign, ":var3", "fac_culture_italian"),
      (else_try),
        (ge, ":var2", 60),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_western"),
      (else_try),
        (ge, ":var2", 80),
        (lt, ":var2", 87),
        (assign, ":var3", "fac_culture_serbian"),
      (else_try),
        (ge, ":var2", 87),
        (lt, ":var2", 94),
        (assign, ":var3", "fac_culture_balkan"),
      (else_try),
        (ge, ":var2", 94),
        (assign, ":var3", "fac_culture_anatolian_christian"),
      (try_end),
    (else_try),
      (eq, ":var0", "fac_kingdom_27"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 55),
        (assign, ":var3", "fac_culture_anatolian"),
      (else_try),
        (ge, ":var2", 55),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_mongol"),
      (else_try),
        (ge, ":var2", 90),
        (assign, ":var3", "fac_culture_anatolian_christian"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_mamluke"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 90),
        (assign, ":var3", "fac_culture_mamluke"),
      (else_try),
        (ge, ":var2", 90),
        (assign, ":var3", "fac_culture_anatolian"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_serbian"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_serbian"),
      (else_try),
        (ge, ":var2", 80),
        (assign, ":var3", "fac_culture_balkan"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_balkan"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 70),
        (assign, ":var3", "fac_culture_balkan"),
      (else_try),
        (ge, ":var2", 70),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_serbian"),
      (else_try),
        (ge, ":var2", 80),
        (assign, ":var3", "fac_culture_byzantium"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_marinid"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_marinid"),
      (else_try),
        (ge, ":var2", 80),
        (assign, ":var3", "fac_culture_andalus"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_andalus"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 80),
        (assign, ":var3", "fac_culture_andalus"),
      (else_try),
        (ge, ":var2", 80),
        (assign, ":var3", "fac_culture_marinid"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_welsh"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 70),
        (assign, ":var3", "fac_culture_welsh"),
      (else_try),
        (ge, ":var2", 70),
        (lt, ":var2", 77),
        (assign, ":var3", "fac_culture_gaelic"),
      (else_try),
        (ge, ":var2", 77),
        (lt, ":var2", 84),
        (assign, ":var3", "fac_culture_scotish"),
      (else_try),
        (ge, ":var2", 84),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var0", "fac_kingdom_41"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 70),
        (assign, ":var3", "fac_culture_italian"),
      (else_try),
        (ge, ":var2", 70),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (faction_slot_eq, ":var0", 135, 23),
      (try_begin),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (try_begin),
        (assign, ":var3", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_templar"),
      (try_begin),
        (assign, ":var3", "fac_culture_templar"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_hospitaller"),
      (try_begin),
        (assign, ":var3", "fac_culture_hospitaller"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_antioch"),
      (try_begin),
        (assign, ":var3", "fac_culture_antioch"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_tripoli"),
      (try_begin),
        (assign, ":var3", "fac_culture_tripoli"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_ibelin"),
      (try_begin),
        (assign, ":var3", "fac_culture_ibelin"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_jerusalem"),
      (try_begin),
        (assign, ":var3", "fac_culture_jerusalem"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian_christian"),
      (store_random_in_range, ":var2", 0, 100),
      (try_begin),
        (lt, ":var2", 75),
        (assign, ":var3", "fac_culture_anatolian_christian"),
      (else_try),
        (ge, ":var2", 25),
        (assign, ":var3", "fac_culture_byzantium"),
      (try_end),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("get_random_name_for_lord",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (str_clear, s1),
    (str_clear, s2),
    (str_clear, s3),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (try_begin),
      (eq, ":var2", "fac_culture_finnish"),
      (store_random_in_range, ":var3", "str_enhanced_name_finnish_1", "str_enhanced_name_serbian_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (eq, ":var2", "fac_culture_serbian"),
      (store_random_in_range, ":var3", "str_enhanced_name_serbian_1", "str_enhanced_surname_serbian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_serbian_1", "str_enhanced_name_welsh_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_welsh"),
      (store_random_in_range, ":var3", "str_enhanced_name_welsh_1", "str_enhanced_surname_welsh_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_welsh_1", "str_enhanced_name_german_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_teutonic"),
      (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_western"),
      (this_or_next|faction_slot_eq, ":var0", 135, 4),
      (this_or_next|eq, ":var0", "fac_kingdom_4"),
      (this_or_next|eq, ":var0", "fac_kingdom_6"),
      (this_or_next|eq, ":var0", "fac_kingdom_40"),
      (this_or_next|eq, ":var0", "fac_kingdom_41"),
      (eq, ":var0", "fac_kingdom_14"),
      (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_balkan"),
      (store_random_in_range, ":var3", "str_enhanced_name_balkan_1", "str_enhanced_name_rus_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (eq, ":var2", "fac_culture_rus"),
      (store_random_in_range, ":var3", "str_enhanced_name_rus_1", "str_enhanced_surname_rus_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_rus_1", "str_enhanced_name_danish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_nordic"),
      (this_or_next|faction_slot_eq, ":var0", 135, 7),
      (this_or_next|eq, ":var0", "fac_kingdom_1"),
      (this_or_next|eq, ":var0", "fac_kingdom_4"),
      (eq, ":var0", "fac_kingdom_6"),
      (store_random_in_range, ":var3", "str_enhanced_name_danish_1", "str_enhanced_surname_danish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_danish_1", "str_enhanced_name_norwegian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_nordic"),
      (this_or_next|faction_slot_eq, ":var0", 135, 8),
      (eq, ":var0", "fac_kingdom_11"),
      (store_random_in_range, ":var3", "str_enhanced_name_norwegian_1", "str_enhanced_surname_norwegian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_norwegian_1", "str_enhanced_name_swedish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_nordic"),
      (this_or_next|faction_slot_eq, ":var0", 135, 9),
      (this_or_next|eq, ":var0", "fac_kingdom_1"),
      (eq, ":var0", "fac_kingdom_14"),
      (store_random_in_range, ":var3", "str_enhanced_name_swedish_1", "str_enhanced_surname_swedish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_swedish_1", "str_enhanced_name_baltic_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_baltic"),
      (store_random_in_range, ":var3", "str_enhanced_name_baltic_1", "str_enhanced_name_arab_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (this_or_next|eq, ":var2", "fac_culture_marinid"),
      (this_or_next|eq, ":var2", "fac_culture_mamluke"),
      (eq, ":var2", "fac_culture_andalus"),
      (store_random_in_range, ":var3", "str_enhanced_name_arab_1", "str_enhanced_surname_arab_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_arab_1", "str_enhanced_name_greek_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_byzantium"),
      (store_random_in_range, ":var3", "str_enhanced_name_greek_1", "str_enhanced_surname_greek_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_greek_1", "str_enhanced_name_spanish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 13),
      (eq, ":var2", "fac_culture_iberian"),
      (store_random_in_range, ":var3", "str_enhanced_name_spanish_1", "str_enhanced_surname_spanish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_spanish_1", "str_enhanced_name_portuguese_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 14),
      (eq, ":var2", "fac_culture_iberian"),
      (store_random_in_range, ":var3", "str_enhanced_name_portuguese_1", "str_enhanced_surname_portuguese_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_portuguese_1", "str_enhanced_name_italian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_iberian"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 30),
        (store_random_in_range, ":var3", "str_enhanced_name_portuguese_1", "str_enhanced_surname_portuguese_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_portuguese_1", "str_enhanced_name_italian_1"),
      (else_try),
        (ge, reg0, 30),
        (store_random_in_range, ":var3", "str_enhanced_name_spanish_1", "str_enhanced_surname_spanish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_spanish_1", "str_enhanced_name_portuguese_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_italian"),
      (store_random_in_range, ":var3", "str_enhanced_name_italian_1", "str_enhanced_surname_italian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_italian_1", "str_enhanced_name_gaelic_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_gaelic"),
      (store_random_in_range, ":var3", "str_enhanced_name_gaelic_1", "str_enhanced_surname_gaelic_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_gaelic_1", "str_enhanced_name_armenian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_anatolian_christian"),
      (store_random_in_range, ":var3", "str_enhanced_name_armenian_1", "str_enhanced_surname_armenian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_armenian_1", "str_enhanced_name_turkish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_anatolian"),
      (store_random_in_range, ":var3", "str_enhanced_name_turkish_1", "str_enhanced_surname_turkish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_turkish_1", "str_enhanced_name_scottish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_scotish"),
      (store_random_in_range, ":var3", "str_enhanced_name_scottish_1", "str_enhanced_surname_scottish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_scottish_1", "str_enhanced_name_polish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (this_or_next|eq, ":var2", "fac_culture_polish"),
      (eq, ":var2", "fac_culture_mazovian"),
      (store_random_in_range, ":var3", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_hungarian"),
      (store_random_in_range, ":var3", "str_enhanced_name_hungarian_1", "str_enhanced_surname_hungarian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_hungarian_1", "str_enhanced_name_english_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_english"),
      (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_french"),
      (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_cuman"),
      (store_random_in_range, ":var3", "str_enhanced_name_cuman_1", "str_enhanced_name_custom_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (this_or_next|eq, ":var2", "fac_culture_western"),
      (this_or_next|eq, ":var2", "fac_culture_antioch"),
      (this_or_next|eq, ":var2", "fac_culture_tripoli"),
      (this_or_next|eq, ":var2", "fac_culture_ibelin"),
      (eq, ":var2", "fac_culture_jerusalem"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 45),
        (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (else_try),
        (ge, reg0, 45),
        (lt, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_western"),
      (faction_slot_eq, ":var0", 135, 15),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 30),
        (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (else_try),
        (ge, reg0, 30),
        (lt, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_mongol"),
      (store_random_in_range, ":var3", "str_enhanced_name_mongolian_1", "str_enhanced_name_bohemian_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (eq, ":var2", "fac_culture_templar"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 60),
        (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (else_try),
        (ge, reg0, 60),
        (lt, reg0, 85),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 85),
        (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_hospitaller"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 20),
        (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (else_try),
        (ge, reg0, 20),
        (lt, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_western"),
      (this_or_next|faction_slot_eq, ":var0", 135, 23),
      (eq, ":var0", "fac_kingdom_42"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 65),
        (store_random_in_range, ":var3", "str_enhanced_name_bohemian_1", "str_enhanced_surname_bohemian_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_bohemian_1", "str_enhanced_name_cuman_1"),
      (else_try),
        (ge, reg0, 65),
        (lt, reg0, 90),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 90),
        (store_random_in_range, ":var3", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (try_end),
    (troop_set_slot, ":var1", 167, ":var3"),
    (troop_set_slot, ":var1", 168, ":var4"),
    (call_script, "script_get_troop_title", ":var1", ":var2"),
    (troop_set_name, ":var1", s3),
    (troop_set_plural_name, ":var1", s3),
  ]),

  ("get_random_equipment_for_lord",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_clear_inventory, ":var0"),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (try_for_range, ":var3", 0, ":var2"),
      (troop_set_inventory_slot, ":var0", ":var3", -1),
    (try_end),
    (try_begin),
      (this_or_next|eq, ":var1", "fac_culture_western"),
      (this_or_next|eq, ":var1", "fac_culture_welsh"),
      (this_or_next|eq, ":var1", "fac_culture_iberian"),
      (this_or_next|eq, ":var1", "fac_culture_gaelic"),
      (this_or_next|eq, ":var1", "fac_culture_scotish"),
      (this_or_next|eq, ":var1", "fac_culture_player"),
      (eq, ":var1", "fac_culture_italian"),
      (call_script, "script_rand", "itm_osp_great_helm_b", "itm_african_turban"),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_rand", "itm_splinted_leather_greaves", "itm_sarranid_boots_a_long"),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_rand", "itm_rnd_surcoat_01", "itm_rus_militia_padded_a"),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_rand", "itm_tab_shield_kite_cav_b", "itm_tab_shield_pavise_d"),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_rand", "itm_warhorse_white", "itm_warhorse_denmark_a"),
      (troop_add_item, ":var0", reg0, 18),
      (try_begin),
        (call_script, "script_rand", 0, 100),
        (lt, reg0, 70),
        (call_script, "script_rand", "itm_cp391_sword", "itm_bb_rus_sword_1"),
      (else_try),
        (ge, reg0, 70),
        (call_script, "script_rand", "itm_mace_1", "itm_baltic_sword"),
      (try_end),
      (troop_add_item, ":var0", reg0, 13),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_finnish"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_finn_noble_4", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_finn_noble_4", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_finn_noble_4", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_finn_noble_4", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_finn_noble_4", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_rand", "itm_hunter", "itm_arabian_horse_a"),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_mazovian"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_mazovian_horse_4", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_mazovian_horse_4", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_mazovian_horse_4", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_mazovian_horse_4", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_mazovian_horse_4", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_rand", "itm_hunter", "itm_arabian_horse_a"),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_serbian"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_serbian_horse_4", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_serbian_horse_4", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_serbian_horse_4", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_serbian_horse_4", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_serbian_horse_4", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_serbian_horse_4", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_teutonic"),
      (call_script, "script_rand", "itm_osp_great_helm_b", "itm_african_turban"),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_teu_horse_4", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_teu_horse_4", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_teu_horse_4", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_teu_horse_4", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_teu_horse_4", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_balkan"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balkan_horse_4", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balkan_horse_4", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balkan_horse_4", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balkan_horse_4", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balkan_horse_4", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balkan_horse_4", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_rus"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_rus_horse_4", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_rus_horse_4", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_rus_horse_4", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_rus_horse_4", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_rus_horse_4", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (call_script, "script_rand", "itm_osp_great_helm_b", "itm_african_turban"),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_rand", "itm_splinted_leather_greaves", "itm_sarranid_boots_a_long"),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_rand", "itm_rnd_surcoat_01", "itm_rus_militia_padded_a"),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_rand", "itm_tab_shield_kite_cav_b", "itm_tab_shield_pavise_d"),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_rand", "itm_warhorse_white", "itm_warhorse_denmark_a"),
      (troop_add_item, ":var0", reg0, 18),
      (try_begin),
        (call_script, "script_rand", 0, 100),
        (lt, reg0, 65),
        (call_script, "script_rand", "itm_cp391_sword", "itm_bb_rus_sword_1"),
      (else_try),
        (ge, reg0, 65),
        (call_script, "script_rand", "itm_raf_two_handed_axe_a", "itm_club_with_spike_head"),
      (try_end),
      (troop_add_item, ":var0", reg0, 13),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_baltic"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balt_medium_cavalry", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balt_medium_cavalry", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balt_medium_cavalry", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balt_medium_cavalry", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_balt_medium_cavalry", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
      (troop_add_item, ":var0", "itm_balt_javelin", 42),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_marinid"),
      (call_script, "script_get_random_equipment_type_from_random_troop", "trp_knight_31_1", "trp_knight_32_1", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_random_troop", "trp_knight_31_1", "trp_knight_32_1", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_random_troop", "trp_knight_31_1", "trp_knight_32_1", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_random_troop", "trp_knight_31_1", "trp_knight_32_1", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_random_troop", "trp_knight_31_1", "trp_knight_32_1", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_random_troop", "trp_knight_31_1", "trp_knight_32_1", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_mamluke"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_ghulam_cavalry_3", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_ghulam_cavalry_3", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_ghulam_cavalry_3", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_ghulam_cavalry_3", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_ghulam_cavalry_3", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_ghulam_cavalry_3", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
      (try_begin),
        (call_script, "script_rand", 0, 100),
        (lt, reg0, 40),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_ghulam_cavalry_3", 8),
        (troop_add_item, ":var0", reg0, 19),
        (troop_add_item, ":var0", "itm_strely", 42),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_byzantium"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_byz_castle_4", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_byz_castle_4", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_byz_castle_4", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_byz_castle_4", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_byz_castle_4", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_byz_castle_4", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_andalus"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_andalus_horse_4", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_andalus_horse_4", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_andalus_horse_4", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_andalus_horse_4", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_andalus_horse_4", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_andalus_horse_4", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian_christian"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_heavy_cavalry", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_heavy_cavalry", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_heavy_cavalry", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_heavy_cavalry", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_heavy_cavalry", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_turkoman_3", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_turkoman_3", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_turkoman_3", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_turkoman_3", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_turkoman_3", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_turkoman_3", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
      (try_begin),
        (call_script, "script_rand", 0, 100),
        (lt, reg0, 40),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_anatolian_turkoman_3", 8),
        (troop_add_item, ":var0", reg0, 19),
        (troop_add_item, ":var0", "itm_strely", 42),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_mongol"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_tatar_heavy_lancer", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_tatar_heavy_lancer", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_tatar_heavy_lancer", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_tatar_heavy_lancer", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_tatar_heavy_lancer", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_lamellar_gauntlets", 27),
      (troop_add_item, ":var0", "itm_heavy_lance"),
      (troop_add_item, ":var0", "itm_khergit_guard_boots"),
      (try_begin),
        (call_script, "script_rand", 0, 100),
        (lt, reg0, 60),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_tatar_veteran_horse_archer", 8),
        (troop_add_item, ":var0", reg0, 19),
        (troop_add_item, ":var0", "itm_strely", 42),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_templar"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_templar_knight_veteran", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_templar_knight_veteran", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_templar_knight_veteran", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_templar_knight_veteran", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_templar_knight_veteran", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_templar_knight_veteran", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_hospitaller"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hospitaller_knight_veteran", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hospitaller_knight_veteran", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hospitaller_knight_veteran", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hospitaller_knight_veteran", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hospitaller_knight_veteran", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hospitaller_knight_veteran", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_antioch"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_antioch", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_antioch", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_antioch", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_antioch", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_antioch", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_antioch", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_tripoli"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_tripoli", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_tripoli", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_tripoli", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_tripoli", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_tripoli", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_tripoli", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_ibelin"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_ibelin", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_ibelin", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_ibelin", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_ibelin", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_ibelin", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_ibelin", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_jerusalem"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_jerusalem", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_jerusalem", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_jerusalem", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_jerusalem", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_jerusalem", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4_jerusalem", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_cuman"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_cuman_heavy_lancer", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_cuman_heavy_lancer", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_cuman_heavy_lancer", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_cuman_heavy_lancer", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_cuman_heavy_lancer", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_cuman_heavy_lancer", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_english"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_english_knight", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_english_knight", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_english_knight", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_english_knight", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_english_knight", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_english_knight", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_french"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_french_knight", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_french_knight", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_french_knight", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_french_knight", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_french_knight", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_french_knight", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_hungarian"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hungarian_knight", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hungarian_knight", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hungarian_knight", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hungarian_knight", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hungarian_knight", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_hungarian_knight", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_polish"),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_polish_guard", 12),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_polish_guard", 13),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_polish_guard", 14),
      (troop_add_item, ":var0", reg0),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_polish_guard", 7),
      (troop_add_item, ":var0", reg0, 27),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_polish_guard", 2),
      (troop_add_item, ":var0", reg0, 13),
      (call_script, "script_get_random_equipment_type_from_troop", "trp_polish_guard", 1),
      (troop_add_item, ":var0", reg0, 18),
      (troop_add_item, ":var0", "itm_mail_mittens", 27),
      (troop_add_item, ":var0", "itm_heraldic_lance"),
      (troop_add_item, ":var0", "itm_mail_chausses"),
    (else_try),
      (eq, ":var1", "fac_culture_player"),
      (assign, ":var4", "trp_euro_horse_4"),
      (try_begin),
        (assign, ":var4", "trp_cstm_custom_troop_3_tiers_0_2_4"),
      (try_end),
      (try_begin),
        (call_script, "script_get_random_equipment_type_from_troop", ":var4", 12),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0),
      (else_try),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4", 12),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0),
      (try_end),
      (try_begin),
        (call_script, "script_get_random_equipment_type_from_troop", ":var4", 13),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 27),
      (else_try),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4", 13),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 27),
      (try_end),
      (try_begin),
        (call_script, "script_get_random_equipment_type_from_troop", ":var4", 15),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 27),
      (else_try),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4", 15),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 27),
      (try_end),
      (try_begin),
        (call_script, "script_get_random_equipment_type_from_troop", ":var4", 14),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0),
      (else_try),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4", 14),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0),
      (try_end),
      (try_begin),
        (call_script, "script_get_random_equipment_type_from_troop", ":var4", 7),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 27),
      (else_try),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4", 7),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 27),
      (try_end),
      (try_begin),
        (call_script, "script_get_random_equipment_type_from_troop", ":var4", 2),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 13),
      (else_try),
        (call_script, "script_get_random_equipment_type_from_troop", "trp_euro_horse_4", 2),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 13),
      (try_end),
      (try_begin),
        (call_script, "script_get_random_equipment_type_from_troop", ":var4", 1),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 18),
      (else_try),
        (call_script, "script_rand", "itm_hunter", "itm_arabian_horse_a"),
        (troop_add_item, ":var0", reg0, 18),
      (try_end),
      (try_begin),
        (call_script, "script_rand", 0, 100),
        (lt, reg0, 60),
        (call_script, "script_get_random_equipment_type_from_troop", ":var4", 8),
        (gt, reg0, 0),
        (troop_add_item, ":var0", reg0, 19),
        (troop_add_item, ":var0", "itm_arrows", 42),
      (try_end),
      (troop_add_item, ":var0", "itm_heavy_lance"),
    (try_end),
  ]),

  ("rand",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (val_mul, "$rand_seed", 1664525),
    (val_add, "$rand_seed", 1013904223),
    (val_sub, ":var1", ":var0"),
    (try_begin),
      (gt, ":var1", 1),
      (store_mod, ":var2", "$rand_seed", 1073741824),
      (try_begin),
        (lt, ":var2", 0),
        (val_add, ":var2", 1073741824),
      (try_end),
      (store_div, ":var3", 1073741824, ":var1"),
      (val_div, ":var2", ":var3"),
      (try_begin),
        (eq, ":var2", ":var1"),
        (call_script, "script_rand", 0, ":var1"),
        (val_add, reg0, ":var0"),
      (else_try),
        (store_add, reg0, ":var0", ":var2"),
      (try_end),
    (else_try),
      (assign, reg0, ":var0"),
    (try_end),
  ]),

  ("get_random_equipment_type_from_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 325),
    (troop_get_inventory_capacity, ":var3", ":var0"),
    (try_for_range, ":var4", 0, ":var3"),
      (troop_get_inventory_slot, ":var5", ":var0", ":var4"),
      (gt, ":var5", 0),
      (item_get_type, ":var6", ":var5"),
      (eq, ":var6", ":var1"),
      (troop_set_slot, "trp_items_array", ":var2", ":var5"),
      (val_add, ":var2", 1),
    (try_end),
    (call_script, "script_rand", 325, ":var2"),
    (assign, reg1, reg0),
  ]),

  ("get_random_equipment_type_from_random_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 325),
    (call_script, "script_rand", ":var0", ":var1"),
    (assign, ":var4", reg0),
    (troop_get_inventory_capacity, ":var5", ":var4"),
    (try_for_range, ":var6", 0, ":var5"),
      (troop_get_inventory_slot, ":var7", ":var4", ":var6"),
      (gt, ":var7", 0),
      (item_get_type, ":var8", ":var7"),
      (eq, ":var8", ":var2"),
      (troop_set_slot, "trp_items_array", ":var3", ":var7"),
      (val_add, ":var3", 1),
    (try_end),
    (call_script, "script_rand", 325, ":var3"),
    (assign, reg1, reg0),
  ]),

  ("kill_lord_execution",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (store_script_param, ":var4", 5),
    (troop_set_slot, ":var1", 166, 0),
    (troop_set_slot, ":var1", 174, 2),
    (troop_set_slot, ":var1", 176, ":var0"),
    (troop_set_slot, ":var1", 55, "fac_no_faction"),
    (troop_set_slot, ":var1", 14, "fac_no_faction"),
    (troop_get_slot, ":var5", ":var1", 7),
    (troop_get_slot, ":var6", ":var1", 7),
    (store_faction_of_troop, ":var7", ":var0"),
    (str_store_troop_name_link, s1, ":var1"),
    (str_store_faction_name_link, s2, ":var7"),
    (try_begin),
      (neq, ":var4", 2),
      (neq, ":var4", 3),
      (str_store_party_name, s3, ":var2"),
      (str_store_party_name, s4, "p_main_party"),
    (try_end),
    (str_store_troop_name_link, s5, ":var0"),
    (try_begin),
      (eq, ":var3", 1),
      (val_div, ":var5", -50),
      (troop_set_slot, ":var1", 177, 1),
    (else_try),
      (eq, ":var3", 2),
      (val_div, ":var5", -40),
      (troop_set_slot, ":var1", 177, 2),
    (else_try),
      (eq, ":var3", 3),
      (val_div, ":var5", -30),
      (troop_set_slot, ":var1", 177, 3),
    (else_try),
      (eq, ":var3", 4),
      (val_div, ":var5", -20),
      (troop_set_slot, ":var1", 177, 4),
    (else_try),
      (eq, ":var3", 5),
      (val_div, ":var5", -30),
      (troop_set_slot, ":var1", 177, 1),
    (try_end),
    (try_begin),
      (eq, ":var4", 1),
      (try_begin),
        (neq, ":var0", "trp_player"),
        (try_begin),
          (eq, ":var3", 1),
          (display_log_message, "@{s1} was beheaded by the {s2} at {s3}!"),
        (else_try),
          (eq, ":var3", 2),
          (display_log_message, "@{s1} was hanged by the {s2} at {s3}!"),
        (else_try),
          (eq, ":var3", 3),
          (display_log_message, "@{s1} was burned alive by the {s2} at {s3}!"),
        (else_try),
          (eq, ":var3", 4),
          (display_log_message, "@{s1} was hung, strung, and quartered by the {s2} at {s3}!"),
        (else_try),
          (eq, ":var3", 5),
          (display_log_message, "@{s1} was killed by the {s2} while being held prisoner under {s4}!"),
        (try_end),
      (else_try),
        (eq, ":var0", "trp_player"),
        (neq, ":var3", 5),
        (call_script, "script_add_notification_menu", "mnu_lord_executed_by_player", ":var1", ":var2", ":var3"),
      (try_end),
    (else_try),
      (eq, ":var4", 2),
      (try_begin),
        (display_log_message, "@{s1} was captured and executed by {s5}! Reason was vengeance."),
      (try_end),
    (else_try),
      (eq, ":var4", 3),
      (try_begin),
        (eq, ":var3", 1),
        (display_log_message, "@{s1} was beheaded by the orders of {s5}! The reason was treason."),
      (else_try),
        (eq, ":var3", 2),
        (display_log_message, "@{s1} was hanged by the orders of {s5}! The reason was treason."),
      (else_try),
        (eq, ":var3", 3),
        (display_log_message, "@{s1} was burned alive by the orders of {s5}! The reason was treason."),
      (else_try),
        (eq, ":var3", 4),
        (display_log_message, "@{s1} was hung, strung, and quartered by the orders of {s5}! The reason was treason."),
      (else_try),
        (eq, ":var3", 5),
        (display_log_message, "@{s1} was killed by the orders of {s5}! The reason was treason."),
      (try_end),
    (try_end),
    (assign, ":var8", ":var5"),
    (store_div, ":var9", ":var5", 2),
    (val_div, ":var6", 50),
    (store_div, ":var10", ":var6", 2),
    (store_faction_of_troop, ":var11", ":var1"),
    (faction_get_slot, ":var12", ":var11", 132),
    (val_add, ":var12", 1),
    (faction_set_slot, ":var11", 132, ":var12"),
    (try_for_range, ":var13", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var13", 166, 1),
      (store_faction_of_troop, ":var14", ":var13"),
      (call_script, "script_get_troop_relation_with_troop", ":var1", ":var13"),
      (assign, ":var15", reg1),
      (try_begin),
        (ge, ":var15", 20),
        (store_div, ":var8", ":var15", 2),
        (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", ":var8"),
      (else_try),
        (lt, ":var15", -10),
        (store_div, ":var10", ":var15", 2),
        (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", ":var10"),
      (else_try),
        (eq, ":var11", ":var14"),
        (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", ":var9"),
      (try_end),
      (try_begin),
        (ge, ":var15", -30),
        (try_begin),
          (troop_slot_eq, ":var13", 30, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -40),
        (else_try),
          (troop_slot_eq, ":var13", 31, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -80),
        (else_try),
          (troop_slot_eq, ":var13", 32, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -80),
        (else_try),
          (troop_slot_eq, ":var13", 33, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -30),
        (else_try),
          (troop_slot_eq, ":var13", 34, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -50),
        (else_try),
          (troop_slot_eq, ":var13", 35, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -25),
        (else_try),
          (troop_slot_eq, ":var13", 36, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -25),
        (else_try),
          (troop_slot_eq, ":var13", 37, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -25),
        (try_end),
      (else_try),
        (try_begin),
          (troop_slot_eq, ":var13", 30, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -20),
        (else_try),
          (troop_slot_eq, ":var13", 31, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -40),
        (else_try),
          (troop_slot_eq, ":var13", 32, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -40),
        (else_try),
          (troop_slot_eq, ":var13", 33, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -15),
        (else_try),
          (troop_slot_eq, ":var13", 34, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -25),
        (else_try),
          (troop_slot_eq, ":var13", 35, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -10),
        (else_try),
          (troop_slot_eq, ":var13", 36, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -10),
        (else_try),
          (troop_slot_eq, ":var13", 37, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var13", -10),
        (try_end),
      (try_end),
    (try_end),
    (store_faction_of_troop, ":var16", ":var0"),
    (store_faction_of_troop, ":var11", ":var1"),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (this_or_next|eq, ":var3", 3),
      (this_or_next|eq, ":var3", 4),
      (eq, ":var3", 5),
      (call_script, "script_change_player_honor", ":var5"),
      (call_script, "script_change_player_party_morale", ":var9"),
    (try_end),
    (val_mul, ":var5", -1),
    (call_script, "script_change_troop_renown", ":var0", ":var5"),
    (try_begin),
      (eq, ":var4", 1),
      (call_script, "script_remove_troop_from_prison", ":var1"),
      (party_remove_prisoners, ":var2", ":var1", 1),
    (else_try),
      (eq, ":var4", 2),
      (party_remove_prisoners, ":var2", ":var1", 1),
    (else_try),
      (eq, ":var4", 3),
      (call_script, "script_remove_dead_lord_from_game", ":var1"),
    (try_end),
    (call_script, "script_process_lord_death", ":var1", ":var11"),
  ]),

  ("kill_lord_battle",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_set_slot, ":var1", 166, 0),
    (troop_set_slot, ":var1", 174, 1),
    (troop_set_slot, ":var1", 175, ":var0"),
    (troop_set_slot, ":var1", 55, "fac_no_faction"),
    (troop_set_slot, ":var1", 14, "fac_no_faction"),
    (troop_get_slot, ":var2", ":var1", 7),
    (troop_get_slot, ":var3", ":var1", 7),
    (val_div, ":var2", -80),
    (store_div, ":var4", ":var2", 2),
    (store_div, ":var5", ":var2", 3),
    (val_div, ":var3", 80),
    (assign, ":var6", ":var2"),
    (store_div, ":var7", ":var3", 2),
    (try_for_range, ":var8", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var8", 166, 1),
      (store_faction_of_troop, ":var9", ":var1"),
      (store_faction_of_troop, ":var10", ":var8"),
      (call_script, "script_get_troop_relation_with_troop", ":var1", ":var8"),
      (assign, ":var11", reg1),
      (try_begin),
        (ge, ":var11", 20),
        (store_div, ":var6", ":var11", 2),
        (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", ":var6"),
      (else_try),
        (lt, ":var11", -10),
        (store_div, ":var7", ":var11", 2),
        (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", ":var7"),
      (else_try),
        (eq, ":var9", ":var10"),
        (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", ":var5"),
      (try_end),
      (try_begin),
        (ge, ":var11", -30),
        (try_begin),
          (troop_slot_eq, ":var8", 30, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -40),
        (else_try),
          (troop_slot_eq, ":var8", 31, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -80),
        (else_try),
          (troop_slot_eq, ":var8", 32, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -80),
        (else_try),
          (troop_slot_eq, ":var8", 33, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -30),
        (else_try),
          (troop_slot_eq, ":var8", 34, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -50),
        (else_try),
          (troop_slot_eq, ":var8", 35, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -25),
        (else_try),
          (troop_slot_eq, ":var8", 36, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -25),
        (else_try),
          (troop_slot_eq, ":var8", 37, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -25),
        (try_end),
      (else_try),
        (try_begin),
          (troop_slot_eq, ":var8", 30, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -20),
        (else_try),
          (troop_slot_eq, ":var8", 31, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -40),
        (else_try),
          (troop_slot_eq, ":var8", 32, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -40),
        (else_try),
          (troop_slot_eq, ":var8", 33, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -15),
        (else_try),
          (troop_slot_eq, ":var8", 34, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -25),
        (else_try),
          (troop_slot_eq, ":var8", 35, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -10),
        (else_try),
          (troop_slot_eq, ":var8", 36, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -10),
        (else_try),
          (troop_slot_eq, ":var8", 37, ":var1"),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var8", -10),
        (try_end),
      (try_end),
    (try_end),
    (store_faction_of_troop, ":var12", ":var0"),
    (store_faction_of_troop, ":var9", ":var1"),
    (faction_get_slot, ":var13", ":var9", 130),
    (val_add, ":var13", 1),
    (faction_set_slot, ":var9", 130, ":var13"),
    (try_begin),
      (eq, ":var0", "trp_player"),
      (call_script, "script_change_player_party_morale", ":var3"),
    (try_end),
    (val_mul, ":var2", -1),
    (call_script, "script_change_troop_renown", ":var0", ":var2"),
    (call_script, "script_process_lord_death", ":var1", ":var9"),
  ]),

  ("get_troop_relation_with_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_add, ":var2", ":var1", 200),
    (troop_get_slot, ":var3", ":var0", ":var2"),
    (store_add, ":var4", ":var0", 200),
    (troop_get_slot, ":var5", ":var1", ":var4"),
    (assign, reg0, ":var3"),
    (assign, reg1, ":var5"),
  ]),

  ("kill_lord_assassination",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (troop_set_slot, ":var0", 166, 0),
    (troop_set_slot, ":var0", 174, 3),
    (store_faction_of_troop, ":var3", ":var0"),
    (faction_get_slot, ":var4", ":var3", 131),
    (val_add, ":var4", 1),
    (faction_set_slot, ":var3", 131, ":var4"),
    (call_script, "script_get_message_color", 2, ":var0"),
    (str_store_troop_name_link, s1, ":var0"),
    (str_store_faction_name_link, s2, ":var3"),
    (display_log_message, "@{s1} of {s2} was assassinated!", reg20),
    (try_begin),
      (call_script, "script_rand", 0, 100),
      (lt, reg0, 40),
      (display_message, "@Cause of death: Poisoned.", reg20),
      (troop_set_slot, ":var0", 178, 1),
    (else_try),
      (ge, reg0, 40),
      (lt, reg0, 60),
      (display_message, "@Cause of death: Stabbed.", reg20),
      (troop_set_slot, ":var0", 178, 2),
    (else_try),
      (ge, reg0, 60),
      (lt, reg0, 80),
      (display_message, "@Cause of death: Strangled.", reg20),
      (troop_set_slot, ":var0", 178, 3),
    (else_try),
      (ge, reg0, 80),
      (display_message, "@Cause of death: Ambushed.", reg20),
      (troop_set_slot, ":var0", 178, 4),
    (try_end),
    (troop_set_slot, ":var0", 55, "fac_no_faction"),
    (troop_set_slot, ":var0", 14, "fac_no_faction"),
    (troop_get_slot, ":var5", ":var0", 7),
    (troop_get_slot, ":var6", ":var0", 7),
    (val_div, ":var5", -60),
    (store_div, ":var7", ":var5", 2),
    (val_div, ":var6", 60),
    (store_div, ":var8", ":var6", 2),
    (try_begin),
      (eq, ":var1", 1),
      (store_faction_of_troop, ":var9", ":var2"),
      (str_store_troop_name_link, s2, ":var2"),
      (str_store_faction_name_link, s3, ":var9"),
      (str_store_faction_name_link, s4, ":var3"),
      (troop_set_slot, ":var0", 179, ":var2"),
      (try_begin),
        (eq, ":var9", ":var3"),
        (display_message, "@The perpretator was discovered! It is {s2}! The {s4} is furious!", reg20),
        (try_for_range, ":var10", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var10", 166, 1),
          (call_script, "script_get_troop_relation_with_troop", ":var0", ":var10"),
          (assign, ":var11", reg1),
          (try_begin),
            (ge, ":var11", 20),
            (store_div, ":var5", ":var11", 2),
            (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", ":var5"),
          (else_try),
            (lt, ":var11", -10),
            (store_div, ":var8", ":var11", 2),
            (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", ":var8"),
          (try_end),
          (try_begin),
            (ge, ":var11", -30),
            (try_begin),
              (troop_slot_eq, ":var10", 30, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -40),
            (else_try),
              (troop_slot_eq, ":var10", 31, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -80),
            (else_try),
              (troop_slot_eq, ":var10", 32, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -80),
            (else_try),
              (troop_slot_eq, ":var10", 33, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -30),
            (else_try),
              (troop_slot_eq, ":var10", 34, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -50),
            (else_try),
              (troop_slot_eq, ":var10", 35, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -25),
            (else_try),
              (troop_slot_eq, ":var10", 36, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -25),
            (else_try),
              (troop_slot_eq, ":var10", 37, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -25),
            (try_end),
          (else_try),
            (try_begin),
              (troop_slot_eq, ":var10", 30, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -20),
            (else_try),
              (troop_slot_eq, ":var10", 31, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -40),
            (else_try),
              (troop_slot_eq, ":var10", 32, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -40),
            (else_try),
              (troop_slot_eq, ":var10", 33, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -15),
            (else_try),
              (troop_slot_eq, ":var10", 34, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -25),
            (else_try),
              (troop_slot_eq, ":var10", 35, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -10),
            (else_try),
              (troop_slot_eq, ":var10", 36, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -10),
            (else_try),
              (troop_slot_eq, ":var10", 37, ":var0"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", -10),
            (try_end),
          (try_end),
          (store_faction_of_troop, ":var12", ":var10"),
          (eq, ":var12", ":var9"),
          (try_begin),
            (eq, ":var3", ":var12"),
            (troop_get_slot, ":var5", ":var0", 7),
            (troop_get_slot, ":var6", ":var0", 7),
            (val_div, ":var5", -60),
            (store_div, ":var7", ":var5", 2),
            (val_div, ":var6", 60),
            (store_div, ":var8", ":var6", 2),
            (try_begin),
              (eq, ":var3", ":var12"),
              (faction_slot_eq, ":var9", 11, ":var10"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", ":var5"),
            (else_try),
              (eq, ":var3", ":var12"),
              (neg|faction_slot_eq, ":var9", 11, ":var10"),
              (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", ":var7"),
            (try_end),
          (try_end),
        (try_end),
      (else_try),
        (neq, ":var9", ":var3"),
        (display_message, "@The perpretator was discovered! It is {s2} from the {s3}! The {s4} is furious!", reg20),
        (try_begin),
        (try_end),
        (try_for_range, ":var10", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var10", 166, 1),
          (call_script, "script_get_troop_relation_with_troop", ":var0", ":var10"),
          (assign, ":var11", reg1),
          (try_begin),
            (ge, ":var11", 20),
            (store_div, ":var5", ":var11", 2),
            (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", ":var5"),
          (else_try),
            (lt, ":var11", -10),
            (store_div, ":var8", ":var11", 2),
            (call_script, "script_troop_change_relation_with_troop", ":var2", ":var10", ":var8"),
          (try_end),
        (try_end),
      (try_end),
    (try_end),
    (call_script, "script_remove_dead_lord_from_game", ":var0"),
    (call_script, "script_process_lord_death", ":var0", ":var3"),
  ]),

  ("give_equipment_to_new_king",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (neq, ":var0", "trp_player"),
      (troop_clear_inventory, ":var0"),
      (troop_get_inventory_capacity, ":var2", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (troop_set_inventory_slot, ":var0", ":var3", -1),
      (try_end),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var4", ":var0", 10),
      (gt, ":var4", -1),
      (store_faction_of_troop, ":var5", ":var0"),
      (call_script, "script_apply_banner_to_new_king", ":var4", ":var0", ":var5"),
    (try_end),
    (call_script, "script_give_source_troop_inventory_to_troop", ":var0", ":var1", 1),
  ]),

  ("apply_banner_to_new_king",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (try_begin),
      (eq, ":var2", "fac_kingdom_1"),
      (troop_set_slot, ":var1", 13, "spr_banner_q01"),
      (party_set_banner_icon, ":var0", "icon_banner_337"),
    (else_try),
      (eq, ":var2", "fac_kingdom_2"),
      (troop_set_slot, ":var1", 13, "spr_banner_p01"),
      (party_set_banner_icon, ":var0", "icon_banner_316"),
    (else_try),
      (eq, ":var2", "fac_kingdom_3"),
      (troop_set_slot, ":var1", 13, "spr_banner_n01"),
      (party_set_banner_icon, ":var0", "icon_banner_274"),
    (else_try),
      (eq, ":var2", "fac_kingdom_4"),
      (troop_set_slot, ":var1", 13, "spr_banner_m01"),
      (party_set_banner_icon, ":var0", "icon_banner_253"),
    (else_try),
      (eq, ":var2", "fac_kingdom_5"),
      (troop_set_slot, ":var1", 13, "spr_banner_l01"),
      (party_set_banner_icon, ":var0", "icon_banner_232"),
    (else_try),
      (eq, ":var2", "fac_kingdom_6"),
      (troop_set_slot, ":var1", 13, "spr_banner_k01"),
      (party_set_banner_icon, ":var0", "icon_banner_211"),
    (else_try),
      (eq, ":var2", "fac_kingdom_7"),
      (troop_set_slot, ":var1", 13, "spr_banner_j01"),
      (party_set_banner_icon, ":var0", "icon_banner_190"),
    (else_try),
      (eq, ":var2", "fac_kingdom_8"),
      (troop_set_slot, ":var1", 13, "spr_banner_i01"),
      (party_set_banner_icon, ":var0", "icon_banner_169"),
    (else_try),
      (eq, ":var2", "fac_kingdom_9"),
      (troop_set_slot, ":var1", 13, "spr_banner_h01"),
      (party_set_banner_icon, ":var0", "icon_banner_148"),
    (else_try),
      (eq, ":var2", "fac_kingdom_10"),
      (troop_set_slot, ":var1", 13, "spr_banner_g01"),
      (party_set_banner_icon, ":var0", "icon_banner_127"),
    (else_try),
      (eq, ":var2", "fac_kingdom_11"),
      (troop_set_slot, ":var1", 13, "spr_banner_r01"),
      (party_set_banner_icon, ":var0", "icon_banner_358"),
    (else_try),
      (eq, ":var2", "fac_kingdom_12"),
      (troop_set_slot, ":var1", 13, "spr_banner_s01"),
      (party_set_banner_icon, ":var0", "icon_banner_379"),
    (else_try),
      (eq, ":var2", "fac_kingdom_13"),
      (troop_set_slot, ":var1", 13, "spr_banner_t02"),
      (party_set_banner_icon, ":var0", "icon_banner_401"),
    (else_try),
      (eq, ":var2", "fac_kingdom_14"),
      (troop_set_slot, ":var1", 13, "spr_banner_u01"),
      (party_set_banner_icon, ":var0", "icon_banner_421"),
    (else_try),
      (eq, ":var2", "fac_kingdom_15"),
      (troop_set_slot, ":var1", 13, "spr_banner_v01"),
      (party_set_banner_icon, ":var0", "icon_banner_442"),
    (else_try),
      (eq, ":var2", "fac_kingdom_16"),
      (troop_set_slot, ":var1", 13, "spr_banner_e17"),
      (party_set_banner_icon, ":var0", "icon_banner_101"),
    (else_try),
      (eq, ":var2", "fac_kingdom_17"),
      (troop_set_slot, ":var1", 13, "spr_banner_e01"),
      (party_set_banner_icon, ":var0", "icon_banner_85"),
    (else_try),
      (eq, ":var2", "fac_kingdom_18"),
      (troop_set_slot, ":var1", 13, "spr_banner_f01"),
      (party_set_banner_icon, ":var0", "icon_banner_106"),
    (else_try),
      (eq, ":var2", "fac_kingdom_19"),
      (troop_set_slot, ":var1", 13, "spr_banner_x04"),
      (party_set_banner_icon, ":var0", "icon_banner_466"),
    (else_try),
      (eq, ":var2", "fac_kingdom_20"),
      (troop_set_slot, ":var1", 13, "spr_banner_x01"),
      (party_set_banner_icon, ":var0", "icon_banner_463"),
    (else_try),
      (eq, ":var2", "fac_papacy"),
      (troop_set_slot, ":var1", 13, "spr_banner_f16"),
      (party_set_banner_icon, ":var0", "icon_banner_121"),
    (else_try),
      (eq, ":var2", "fac_kingdom_22"),
      (troop_set_slot, ":var1", 13, "spr_banner_x07"),
      (party_set_banner_icon, ":var0", "icon_banner_469"),
    (else_try),
      (eq, ":var2", "fac_kingdom_23"),
      (troop_set_slot, ":var1", 13, "spr_banner_v05"),
      (party_set_banner_icon, ":var0", "icon_banner_446"),
    (else_try),
      (eq, ":var2", "fac_kingdom_24"),
      (troop_set_slot, ":var1", 13, "spr_banner_f10"),
      (party_set_banner_icon, ":var0", "icon_banner_115"),
    (else_try),
      (eq, ":var2", "fac_kingdom_25"),
      (troop_set_slot, ":var1", 13, "spr_banner_x10"),
      (party_set_banner_icon, ":var0", "icon_banner_472"),
    (else_try),
      (eq, ":var2", "fac_kingdom_26"),
      (troop_set_slot, ":var1", 13, "spr_banner_x11"),
      (party_set_banner_icon, ":var0", "icon_banner_473"),
    (else_try),
      (eq, ":var2", "fac_kingdom_27"),
      (troop_set_slot, ":var1", 13, "spr_banner_x12"),
      (party_set_banner_icon, ":var0", "icon_banner_474"),
    (else_try),
      (eq, ":var2", "fac_kingdom_28"),
      (troop_set_slot, ":var1", 13, "spr_banner_x13"),
      (party_set_banner_icon, ":var0", "icon_banner_475"),
    (else_try),
      (eq, ":var2", "fac_kingdom_29"),
      (troop_set_slot, ":var1", 13, "spr_banner_x16"),
      (party_set_banner_icon, ":var0", "icon_banner_478"),
    (else_try),
      (eq, ":var2", "fac_kingdom_30"),
      (troop_set_slot, ":var1", 13, "spr_banner_x15"),
      (party_set_banner_icon, ":var0", "icon_banner_477"),
    (else_try),
      (eq, ":var2", "fac_kingdom_31"),
      (troop_set_slot, ":var1", 13, "spr_banner_x19"),
      (party_set_banner_icon, ":var0", "icon_banner_481"),
    (else_try),
      (eq, ":var2", "fac_kingdom_32"),
      (troop_set_slot, ":var1", 13, "spr_banner_o"),
      (party_set_banner_icon, ":var0", "icon_banner_15"),
    (else_try),
      (eq, ":var2", "fac_kingdom_33"),
      (troop_set_slot, ":var1", 13, "spr_banner_p17"),
      (party_set_banner_icon, ":var0", "icon_banner_332"),
    (else_try),
      (eq, ":var2", "fac_kingdom_34"),
      (troop_set_slot, ":var1", 13, "spr_banner_l"),
      (party_set_banner_icon, ":var0", "icon_banner_12"),
    (else_try),
      (eq, ":var2", "fac_kingdom_35"),
      (troop_set_slot, ":var1", 13, "spr_banner_d"),
      (party_set_banner_icon, ":var0", "icon_banner_04"),
    (else_try),
      (eq, ":var2", "fac_kingdom_36"),
      (troop_set_slot, ":var1", 13, "spr_banner_p19"),
      (party_set_banner_icon, ":var0", "icon_banner_334"),
    (else_try),
      (eq, ":var2", "fac_kingdom_37"),
      (troop_set_slot, ":var1", 13, "spr_banner_h"),
      (party_set_banner_icon, ":var0", "icon_banner_08"),
    (else_try),
      (eq, ":var2", "fac_kingdom_38"),
      (troop_set_slot, ":var1", 13, "spr_banner_f18"),
      (party_set_banner_icon, ":var0", "icon_banner_123"),
    (else_try),
      (eq, ":var2", "fac_kingdom_39"),
      (troop_set_slot, ":var1", 13, "spr_banner_x09"),
      (party_set_banner_icon, ":var0", "icon_banner_471"),
    (else_try),
      (eq, ":var2", "fac_kingdom_40"),
      (troop_set_slot, ":var1", 13, "spr_banner_t"),
      (party_set_banner_icon, ":var0", "icon_banner_20"),
    (else_try),
      (eq, ":var2", "fac_kingdom_41"),
      (troop_set_slot, ":var1", 13, "spr_banner_s"),
      (party_set_banner_icon, ":var0", "icon_banner_19"),
    (else_try),
      (eq, ":var2", "fac_kingdom_42"),
      (troop_set_slot, ":var1", 13, "spr_banner_o06"),
      (party_set_banner_icon, ":var0", "icon_banner_300"),
    (try_end),
  ]),

  ("process_faction_leader_death",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", 0),
    (try_begin),
      (faction_get_slot, ":var5", ":var1", 137),
      (gt, ":var5", -1),
      (troop_slot_eq, ":var5", 166, 1),
      (store_faction_of_troop, ":var6", ":var5"),
      (eq, ":var6", ":var1"),
      (assign, ":var2", ":var5"),
      (faction_set_slot, ":var1", 137, -1),
      (str_store_troop_name_link, s46, ":var5"),
      (display_message, "@Found heir: {s46}."),
    (else_try),
      (faction_get_slot, ":var5", ":var1", 138),
      (gt, ":var5", -1),
      (troop_slot_eq, ":var5", 166, 1),
      (store_faction_of_troop, ":var6", ":var5"),
      (eq, ":var6", ":var1"),
      (assign, ":var2", ":var5"),
      (faction_set_slot, ":var1", 138, -1),
      (str_store_troop_name_link, s46, ":var5"),
      (display_message, "@Found heir: {s46}."),
    (else_try),
      (faction_get_slot, ":var5", ":var1", 139),
      (gt, ":var5", -1),
      (troop_slot_eq, ":var5", 166, 1),
      (store_faction_of_troop, ":var6", ":var5"),
      (eq, ":var6", ":var1"),
      (assign, ":var2", ":var5"),
      (faction_set_slot, ":var1", 139, -1),
      (str_store_troop_name_link, s46, ":var5"),
      (display_message, "@Found heir: {s46}."),
    (else_try),
      (eq, ":var2", -1),
      (assign, ":var4", 1),
      (display_message, "@Found no heir."),
    (try_end),
    (try_begin),
      (eq, ":var4", 1),
      (try_for_range, ":var7", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var7", 166, 1),
        (troop_slot_eq, ":var7", 2, 2),
        (store_faction_of_troop, ":var8", ":var7"),
        (eq, ":var8", ":var1"),
        (troop_get_slot, ":var9", ":var7", 7),
        (gt, ":var9", ":var3"),
        (assign, ":var2", ":var7"),
        (assign, ":var3", ":var9"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var4", 1),
      (eq, "$players_kingdom", ":var1"),
      (troop_get_slot, ":var9", "trp_player", 7),
      (gt, ":var9", ":var3"),
      (assign, ":var2", "trp_player"),
      (assign, ":var3", ":var9"),
      (assign, "$g_player_cur_role", 6),
      (assign, "$g_player_minister", "trp_temporary_minister"),
      (troop_set_faction, "trp_temporary_minister", "$players_kingdom"),
      (assign, "$g_player_chamberlain", "trp_dplmc_chamberlain"),
      (troop_set_faction, "trp_dplmc_chamberlain", "$players_kingdom"),
      (assign, "$g_player_chancellor", "trp_dplmc_chancellor"),
      (troop_set_faction, "trp_dplmc_chancellor", "$players_kingdom"),
      (assign, "$g_player_constable", "trp_dplmc_constable"),
      (troop_set_faction, "trp_dplmc_constable", "$players_kingdom"),
      (faction_get_slot, ":var10", "$players_kingdom", 10),
      (troop_set_slot, "trp_player", 165, ":var10"),
    (try_end),
    (try_begin),
      (eq, ":var4", 0),
      (eq, ":var2", "trp_player"),
      (assign, "$g_player_cur_role", 6),
      (assign, "$g_player_minister", "trp_temporary_minister"),
      (troop_set_faction, "trp_temporary_minister", "$players_kingdom"),
      (assign, "$g_player_chamberlain", "trp_dplmc_chamberlain"),
      (troop_set_faction, "trp_dplmc_chamberlain", "$players_kingdom"),
      (assign, "$g_player_chancellor", "trp_dplmc_chancellor"),
      (troop_set_faction, "trp_dplmc_chancellor", "$players_kingdom"),
      (assign, "$g_player_constable", "trp_dplmc_constable"),
      (troop_set_faction, "trp_dplmc_constable", "$players_kingdom"),
      (faction_get_slot, ":var10", "$players_kingdom", 10),
      (troop_set_slot, "trp_player", 165, ":var10"),
    (try_end),
    (try_begin),
      (neq, ":var2", -1),
      (faction_set_slot, ":var1", 11, ":var2"),
      (troop_get_slot, ":var9", ":var2", 7),
      (val_add, ":var9", 300),
      (troop_set_slot, ":var2", 7, ":var9"),
      (try_begin),
        (troop_get_slot, ":var11", ":var2", 167),
        (troop_get_slot, ":var12", trp_goergian_horse_archer, ":var2"),
        (gt, ":var11", 0),
        (gt, ":var12", 0),
        (str_store_string, s1, ":var11"),
        (str_store_string, s2, ":var12"),
        (str_store_string, s3, "str_enhanced_name_surname"),
        (troop_set_name, ":var2", s3),
      (else_try),
        (gt, ":var11", 0),
        (str_store_string, s1, ":var11"),
        (str_store_string, s3, "str_enhanced_name"),
        (troop_set_name, ":var2", s3),
      (try_end),
      (call_script, "script_give_equipment_to_new_king", ":var2", ":var0"),
      (call_script, "script_update_troop_notes", ":var0"),
      (call_script, "script_update_troop_notes", ":var2"),
      (str_store_troop_name, s1, ":var2"),
      (str_store_faction_name, s2, ":var1"),
      (display_message, "@{s1} is the new ruler of the {s2}!!!"),
      (call_script, "script_update_faction_notes", ":var1"),
      (try_for_range, ":var13", "p_town_1_1", "p_salt_mine"),
        (party_get_slot, ":var14", ":var13", 7),
        (eq, ":var14", ":var0"),
        (call_script, "script_give_center_to_faction", ":var13", ":var1"),
        (call_script, "script_give_center_to_lord_plus_villages", ":var13", ":var2", 0),
      (try_end),
      (try_begin),
        (eq, ":var2", "trp_player"),
        (assign, ":var15", "p_salt_mine"),
        (try_for_range, ":var13", "p_town_1_1", ":var15"),
          (party_get_slot, ":var14", ":var13", 7),
          (eq, ":var14", "trp_player"),
          (try_begin),
            (party_slot_eq, ":var13", 0, 3),
            (assign, "$g_player_court", ":var13"),
            (assign, ":var15", -1),
          (else_try),
            (party_slot_eq, ":var13", 0, 2),
            (assign, "$g_player_court", ":var13"),
            (assign, ":var15", -1),
          (try_end),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var0", "trp_kingdom_3_lord"),
        (faction_set_slot, ":var1", 102, 4),
        (display_message, "@Berke Khan died! Golden Horde religion changed to Mongol Paganism."),
      (try_end),
    (try_end),
  ]),

  ("get_random_faction_walled_center",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 0),
    (assign, ":var2", 100),
    (try_for_range, ":var3", "p_town_1_1", "p_salt_mine"),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (val_add, ":var1", 1),
      (troop_set_slot, "trp_ee_array_2", ":var2", ":var3"),
      (val_add, ":var2", 1),
    (try_end),
    (try_begin),
      (gt, ":var1", 0),
      (call_script, "script_rand", 100, ":var2"),
      (troop_get_slot, ":var5", "trp_ee_array_2", reg0),
      (assign, reg21, ":var5"),
    (try_end),
  ]),

  ("get_troop_title",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (str_clear, s4),
    (str_clear, s5),
    (str_clear, s6),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (store_faction_of_troop, ":var8", ":var0"),
    (try_begin),
      (call_script, "script_rand", 0, 100),
      (lt, reg0, 15),
      (this_or_next|neq, ":var1", "fac_culture_finnish"),
      (this_or_next|neq, ":var1", "fac_culture_baltic"),
      (this_or_next|neq, ":var1", "fac_culture_marinid"),
      (this_or_next|neq, ":var1", "fac_culture_mamluke"),
      (this_or_next|neq, ":var1", "fac_culture_andalus"),
      (this_or_next|neq, ":var1", "fac_culture_anatolian"),
      (this_or_next|neq, ":var1", "fac_culture_cuman"),
      (neq, ":var1", "fac_culture_mongol"),
      (call_script, "script_rand", "str_enhanced_name_title_numeral_1", "str_enhanced_name_surname_origin_1"),
      (str_store_string, s4, reg0),
      (assign, ":var2", reg0),
      (try_begin),
        (assign, ":var7", "str_enhanced_name_title_numeral"),
      (try_end),
    (else_try),
      (ge, reg0, 15),
      (try_begin),
        (this_or_next|eq, ":var1", "fac_culture_finnish"),
        (this_or_next|eq, ":var1", "fac_culture_baltic"),
        (this_or_next|eq, ":var1", "fac_culture_cuman"),
        (eq, ":var1", "fac_culture_mongol"),
        (assign, ":var7", "str_enhanced_name"),
      (else_try),
        (assign, ":var7", "str_enhanced_name_surname"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var7", 0),
      (this_or_next|eq, ":var1", "fac_culture_finnish"),
      (this_or_next|eq, ":var1", "fac_culture_baltic"),
      (this_or_next|eq, ":var1", "fac_culture_cuman"),
      (eq, ":var1", "fac_culture_mongol"),
      (assign, ":var7", "str_enhanced_name"),
    (try_end),
    (troop_set_slot, ":var0", 169, ":var2"),
    (troop_set_slot, ":var0", 170, ":var3"),
    (troop_set_slot, ":var0", 171, ":var4"),
    (troop_set_slot, ":var0", 172, ":var5"),
    (troop_set_slot, ":var0", 173, ":var6"),
    (str_store_string, s3, ":var7"),
  ]),

  ("give_source_troop_inventory_to_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", 0),
    (assign, ":var4", 25),
    (assign, ":var5", 50),
    (assign, ":var6", 75),
    (assign, ":var7", 100),
    (assign, ":var8", 125),
    (assign, ":var9", 150),
    (assign, ":var10", 175),
    (assign, ":var11", 200),
    (assign, ":var12", 225),
    (assign, ":var13", 250),
    (assign, ":var14", 275),
    (assign, ":var15", 300),
    (assign, ":var16", 325),
    (assign, ":var17", 0),
    (assign, ":var18", 0),
    (assign, ":var19", 0),
    (assign, ":var20", 0),
    (assign, ":var21", 0),
    (assign, ":var22", 0),
    (assign, ":var23", 0),
    (assign, ":var24", 0),
    (assign, ":var25", 0),
    (assign, ":var26", 0),
    (assign, ":var27", 0),
    (assign, ":var28", 0),
    (assign, ":var29", 0),
    (assign, ":var30", 0),
    (troop_get_inventory_capacity, ":var31", ":var1"),
    (try_for_range, ":var32", 0, ":var31"),
      (troop_get_inventory_slot, ":var33", ":var1", ":var32"),
      (troop_get_inventory_slot_modifier, ":var34", ":var1", ":var32"),
      (gt, ":var33", 0),
      (item_get_type, ":var35", ":var33"),
      (try_begin),
        (eq, ":var35", 4),
        (val_add, ":var3", 1),
        (troop_set_slot, "trp_items_array", 0, ":var3"),
        (troop_set_slot, "trp_items_array", ":var3", ":var33"),
        (assign, ":var17", 1),
      (else_try),
        (eq, ":var35", 2),
        (val_add, ":var4", 1),
        (troop_set_slot, "trp_items_array", 25, ":var4"),
        (troop_set_slot, "trp_items_array", ":var4", ":var33"),
        (assign, ":var18", 1),
      (else_try),
        (eq, ":var35", 7),
        (val_add, ":var5", 1),
        (troop_set_slot, "trp_items_array", 50, ":var5"),
        (troop_set_slot, "trp_items_array", ":var5", ":var33"),
        (assign, ":var19", 1),
      (else_try),
        (eq, ":var35", 3),
        (val_add, ":var6", 1),
        (troop_set_slot, "trp_items_array", 75, ":var6"),
        (troop_set_slot, "trp_items_array", ":var6", ":var33"),
        (assign, ":var20", 1),
      (else_try),
        (eq, ":var35", 10),
        (val_add, ":var7", 1),
        (troop_set_slot, "trp_items_array", 100, ":var7"),
        (troop_set_slot, "trp_items_array", ":var7", ":var33"),
        (assign, ":var21", 1),
      (else_try),
        (eq, ":var35", 6),
        (val_add, ":var8", 1),
        (troop_set_slot, "trp_items_array", 125, ":var8"),
        (troop_set_slot, "trp_items_array", ":var8", ":var33"),
        (assign, ":var22", 1),
      (else_try),
        (eq, ":var35", 5),
        (val_add, ":var9", 1),
        (troop_set_slot, "trp_items_array", 150, ":var9"),
        (troop_set_slot, "trp_items_array", ":var9", ":var33"),
        (assign, ":var23", 1),
      (else_try),
        (eq, ":var35", 8),
        (val_add, ":var10", 1),
        (troop_set_slot, "trp_items_array", 175, ":var10"),
        (troop_set_slot, "trp_items_array", ":var10", ":var33"),
        (assign, ":var24", 1),
      (else_try),
        (eq, ":var35", 9),
        (val_add, ":var11", 1),
        (troop_set_slot, "trp_items_array", 200, ":var11"),
        (troop_set_slot, "trp_items_array", ":var11", ":var33"),
        (assign, ":var25", 1),
      (else_try),
        (eq, ":var35", 12),
        (neq, ":var35", 536870912),
        (val_add, ":var12", 1),
        (troop_set_slot, "trp_items_array", 225, ":var12"),
        (troop_set_slot, "trp_items_array", ":var12", ":var33"),
        (assign, ":var26", 1),
      (else_try),
        (eq, ":var35", 13),
        (neq, ":var35", 536870912),
        (val_add, ":var13", 1),
        (troop_set_slot, "trp_items_array", 250, ":var13"),
        (troop_set_slot, "trp_items_array", ":var13", ":var33"),
        (assign, ":var27", 1),
      (else_try),
        (eq, ":var35", 14),
        (neq, ":var35", 536870912),
        (val_add, ":var14", 1),
        (troop_set_slot, "trp_items_array", 275, ":var14"),
        (troop_set_slot, "trp_items_array", ":var14", ":var33"),
        (assign, ":var28", 1),
      (else_try),
        (eq, ":var35", 15),
        (val_add, ":var15", 1),
        (troop_set_slot, "trp_items_array", 300, ":var15"),
        (troop_set_slot, "trp_items_array", ":var15", ":var33"),
        (assign, ":var29", 1),
      (else_try),
        (eq, ":var35", 1),
        (val_add, ":var16", 1),
        (troop_set_slot, "trp_items_array", 325, ":var16"),
        (troop_set_slot, "trp_items_array", ":var16", ":var33"),
        (assign, ":var30", 1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var17", 1),
      (troop_get_slot, ":var36", "trp_items_array", 0),
      (store_random_in_range, ":var37", 1, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 13),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 13),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 18),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var18", 1),
      (troop_get_slot, ":var36", "trp_items_array", 25),
      (store_random_in_range, ":var37", 26, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 17),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 13),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 18),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var19", 1),
      (troop_get_slot, ":var36", "trp_items_array", 50),
      (store_random_in_range, ":var37", 51, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 18),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var20", 1),
      (try_begin),
        (eq, ":var18", 1),
        (store_random_in_range, ":var39", 0, 100),
        (lt, ":var39", 65),
      (else_try),
        (troop_get_slot, ":var36", "trp_items_array", 75),
        (store_random_in_range, ":var37", 76, ":var36"),
        (troop_get_slot, ":var38", "trp_items_array", ":var37"),
        (neq, ":var38", "itm_no_item"),
        (try_begin),
          (eq, ":var2", 1),
          (troop_add_item, ":var0", ":var38", 17),
        (else_try),
          (eq, ":var2", 2),
          (troop_add_item, ":var0", ":var38", 13),
        (else_try),
          (eq, ":var2", 3),
          (troop_add_item, ":var0", ":var38", 18),
        (else_try),
          (eq, ":var2", 4),
          (troop_add_item, ":var0", ":var38", 0),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var21", 1),
      (troop_get_slot, ":var36", "trp_items_array", 100),
      (store_random_in_range, ":var37", 101, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (troop_add_item, ":var0", ":var38", ":var34"),
    (try_end),
    (try_begin),
      (eq, ":var22", 1),
      (troop_get_slot, ":var36", "trp_items_array", 125),
      (store_random_in_range, ":var37", 126, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (troop_add_item, ":var0", ":var38", ":var34"),
    (try_end),
    (try_begin),
      (eq, ":var23", 1),
      (troop_get_slot, ":var36", "trp_items_array", 150),
      (store_random_in_range, ":var37", 151, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (troop_add_item, ":var0", ":var38", ":var34"),
    (try_end),
    (try_begin),
      (eq, ":var24", 1),
      (troop_get_slot, ":var36", "trp_items_array", 175),
      (store_random_in_range, ":var37", 176, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 17),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 13),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", ":var34"),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var25", 1),
      (troop_get_slot, ":var36", "trp_items_array", 200),
      (store_random_in_range, ":var37", 201, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 17),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 13),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 18),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var26", 1),
      (troop_get_slot, ":var36", "trp_items_array", 225),
      (store_random_in_range, ":var37", 226, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 29),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 25),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var27", 1),
      (troop_get_slot, ":var36", "trp_items_array", 250),
      (store_random_in_range, ":var37", 251, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 25),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var28", 1),
      (troop_get_slot, ":var36", "trp_items_array", 275),
      (store_random_in_range, ":var37", 276, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 25),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var29", 1),
      (troop_get_slot, ":var36", "trp_items_array", 300),
      (store_random_in_range, ":var37", 301, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 27),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 25),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var30", 1),
      (troop_get_slot, ":var36", "trp_items_array", 325),
      (store_random_in_range, ":var37", 326, ":var36"),
      (troop_get_slot, ":var38", "trp_items_array", ":var37"),
      (neq, ":var38", "itm_no_item"),
      (try_begin),
        (eq, ":var2", 1),
        (troop_add_item, ":var0", ":var38", 36),
      (else_try),
        (eq, ":var2", 2),
        (troop_add_item, ":var0", ":var38", 35),
      (else_try),
        (eq, ":var2", 3),
        (troop_add_item, ":var0", ":var38", 18),
      (else_try),
        (eq, ":var2", 4),
        (troop_add_item, ":var0", ":var38", 0),
      (try_end),
    (try_end),
    (try_begin),
      (troop_equip_items, ":var0"),
      (troop_set_auto_equip, ":var0", 0),
    (try_end),
  ]),

  ("get_random_equipment_type_from_troop_by_faction",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (neq, ":var0", "trp_player"),
      (troop_clear_inventory, ":var0"),
      (troop_get_inventory_capacity, ":var2", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (troop_set_inventory_slot, ":var0", ":var3", -1),
      (try_end),
    (try_end),
    (assign, ":var4", -1),
    (try_begin),
      (eq, ":var1", "fac_kingdom_1"),
      (assign, ":var4", "trp_item_pool_faction_1"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_kingdom_2"),
      (this_or_next|eq, ":var1", "fac_kingdom_33"),
      (this_or_next|eq, ":var1", "fac_kingdom_34"),
      (this_or_next|eq, ":var1", "fac_kingdom_35"),
      (eq, ":var1", "fac_kingdom_36"),
      (assign, ":var4", "trp_item_pool_faction_baltic"),
    (else_try),
      (eq, ":var1", "fac_kingdom_3"),
      (assign, ":var4", "trp_item_pool_faction_mongol"),
    (else_try),
      (eq, ":var1", "fac_kingdom_4"),
      (assign, ":var4", "trp_item_pool_faction_4"),
    (else_try),
      (eq, ":var1", "fac_kingdom_5"),
      (assign, ":var4", "trp_item_pool_faction_5"),
    (else_try),
      (eq, ":var1", "fac_kingdom_6"),
      (assign, ":var4", "trp_item_pool_faction_6"),
    (else_try),
      (eq, ":var1", "fac_kingdom_7"),
      (assign, ":var4", "trp_item_pool_faction_7"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_kingdom_8"),
      (eq, ":var1", "fac_kingdom_15"),
      (assign, ":var4", "trp_item_pool_faction_rus"),
    (else_try),
      (eq, ":var1", "fac_kingdom_9"),
      (assign, ":var4", "trp_item_pool_faction_9"),
    (else_try),
      (eq, ":var1", "fac_kingdom_10"),
      (assign, ":var4", "trp_item_pool_faction_10"),
    (else_try),
      (eq, ":var1", "fac_kingdom_11"),
      (assign, ":var4", "trp_item_pool_faction_11"),
    (else_try),
      (eq, ":var1", "fac_kingdom_12"),
      (assign, ":var4", "trp_item_pool_faction_12"),
    (else_try),
      (eq, ":var1", "fac_kingdom_13"),
      (assign, ":var4", "trp_item_pool_faction_13"),
    (else_try),
      (eq, ":var1", "fac_kingdom_14"),
      (assign, ":var4", "trp_item_pool_faction_14"),
    (else_try),
      (eq, ":var1", "fac_kingdom_16"),
      (assign, ":var4", "trp_item_pool_faction_16"),
    (else_try),
      (eq, ":var1", "fac_kingdom_17"),
      (assign, ":var4", "trp_item_pool_faction_17"),
    (else_try),
      (eq, ":var1", "fac_kingdom_18"),
      (assign, ":var4", "trp_item_pool_faction_18"),
    (else_try),
      (eq, ":var1", "fac_kingdom_19"),
      (assign, ":var4", "trp_item_pool_faction_19"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_kingdom_20"),
      (eq, ":var1", "fac_kingdom_31"),
      (assign, ":var4", "trp_item_pool_faction_andalus"),
    (else_try),
      (eq, ":var1", "fac_papacy"),
      (assign, ":var4", "trp_item_pool_faction_21"),
    (else_try),
      (eq, ":var1", "fac_kingdom_22"),
      (assign, ":var4", "trp_item_pool_faction_22"),
    (else_try),
      (eq, ":var1", "fac_kingdom_23"),
      (assign, ":var4", "trp_item_pool_faction_23"),
    (else_try),
      (eq, ":var1", "fac_kingdom_24"),
      (assign, ":var4", "trp_item_pool_faction_24"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_kingdom_25"),
      (eq, ":var1", "fac_kingdom_28"),
      (assign, ":var4", "trp_item_pool_faction_mamluke"),
    (else_try),
      (eq, ":var1", "fac_kingdom_26"),
      (assign, ":var4", "trp_item_pool_faction_26"),
    (else_try),
      (eq, ":var1", "fac_kingdom_27"),
      (assign, ":var4", "trp_item_pool_faction_27"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_kingdom_29"),
      (eq, ":var1", "fac_kingdom_30"),
      (assign, ":var4", "trp_item_pool_faction_balkan"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_kingdom_32"),
      (this_or_next|eq, ":var1", "fac_kingdom_38"),
      (this_or_next|eq, ":var1", "fac_kingdom_39"),
      (eq, ":var1", "fac_kingdom_40"),
      (assign, ":var4", "trp_item_pool_faction_italian"),
    (else_try),
      (eq, ":var1", "fac_kingdom_37"),
      (assign, ":var4", "trp_item_pool_faction_37"),
    (else_try),
      (eq, ":var1", "fac_kingdom_41"),
      (assign, ":var4", "trp_item_pool_faction_41"),
    (else_try),
      (eq, ":var1", "fac_kingdom_42"),
      (assign, ":var4", "trp_item_pool_faction_42"),
    (else_try),
      (eq, ":var1", "fac_player_supporters_faction"),
      (assign, ":var4", "trp_euro_horse_4"),
      (try_begin),
        (eq, "$g_player_culture", "fac_culture_player"),
        (assign, ":var4", "trp_cstm_custom_troop_3_tiers_0_2_4"),
      (try_end),
    (try_end),
    (call_script, "script_give_source_troop_inventory_to_troop", ":var0", ":var4", 3),
  ]),

  ("get_random_equipment_type_from_troop_by_culture",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (neq, ":var0", "trp_player"),
      (troop_clear_inventory, ":var0"),
      (troop_get_inventory_capacity, ":var2", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (troop_set_inventory_slot, ":var0", ":var3", -1),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var1", "fac_culture_teutonic"),
      (assign, ":var4", "trp_item_pool_faction_1"),
    (else_try),
      (eq, ":var1", "fac_culture_baltic"),
      (assign, ":var4", "trp_item_pool_faction_baltic"),
    (else_try),
      (eq, ":var1", "fac_culture_mongol"),
      (assign, ":var4", "trp_item_pool_faction_mongol"),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 34),
        (assign, ":var4", "trp_item_pool_faction_4"),
      (else_try),
        (ge, reg0, 34),
        (lt, reg0, 67),
        (assign, ":var4", "trp_item_pool_faction_11"),
      (else_try),
        (ge, reg0, 67),
        (assign, ":var4", "trp_item_pool_faction_14"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_rus"),
      (assign, ":var4", "trp_item_pool_faction_rus"),
    (else_try),
      (eq, ":var1", "fac_culture_scotish"),
      (assign, ":var4", "trp_item_pool_faction_12"),
    (else_try),
      (eq, ":var1", "fac_culture_gaelic"),
      (assign, ":var4", "trp_item_pool_faction_13"),
    (else_try),
      (eq, ":var1", "fac_culture_iberian"),
      (assign, ":var4", "trp_item_pool_faction_19"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_culture_marinid"),
      (eq, ":var1", "fac_culture_andalus"),
      (assign, ":var4", "trp_item_pool_faction_andalus"),
    (else_try),
      (eq, ":var1", "fac_culture_byzantium"),
      (assign, ":var4", "trp_item_pool_faction_22"),
    (else_try),
      (eq, ":var1", "fac_culture_mamluke"),
      (assign, ":var4", "trp_item_pool_faction_mamluke"),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian"),
      (assign, ":var4", "trp_item_pool_faction_27"),
    (else_try),
      (eq, ":var1", "fac_culture_balkan"),
      (assign, ":var4", "trp_item_pool_faction_balkan"),
    (else_try),
      (eq, ":var1", "fac_culture_italian"),
      (assign, ":var4", "trp_item_pool_faction_italian"),
    (else_try),
      (eq, ":var1", "fac_culture_welsh"),
      (assign, ":var4", "trp_item_pool_faction_37"),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (assign, ":var4", "trp_item_pool_faction_42"),
    (else_try),
      (eq, ":var1", "fac_culture_finnish"),
      (assign, ":var4", "trp_finn_noble_4"),
    (else_try),
      (eq, ":var1", "fac_culture_mazovian"),
      (assign, ":var4", "trp_mazovian_horse_4"),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian_christian"),
      (assign, ":var4", "trp_anatolian_heavy_cavalry"),
    (else_try),
      (eq, ":var1", "fac_culture_templar"),
      (assign, ":var4", "trp_templar_knight_veteran"),
    (else_try),
      (eq, ":var1", "fac_culture_hospitaller"),
      (assign, ":var4", "trp_hospitaller_knight_veteran"),
    (else_try),
      (eq, ":var1", "fac_culture_antioch"),
      (assign, ":var4", "trp_euro_horse_4_antioch"),
    (else_try),
      (eq, ":var1", "fac_culture_tripoli"),
      (assign, ":var4", "trp_euro_horse_4_tripoli"),
    (else_try),
      (eq, ":var1", "fac_culture_ibelin"),
      (assign, ":var4", "trp_euro_horse_4_ibelin"),
    (else_try),
      (eq, ":var1", "fac_culture_jerusalem"),
      (assign, ":var4", "trp_euro_horse_4_jerusalem"),
    (else_try),
      (eq, ":var1", "fac_culture_cuman"),
      (assign, ":var4", "trp_cuman_heavy_lancer"),
    (else_try),
      (eq, ":var1", "fac_culture_english"),
      (assign, ":var4", "trp_english_knight"),
    (else_try),
      (eq, ":var1", "fac_culture_french"),
      (assign, ":var4", "trp_french_knight"),
    (else_try),
      (eq, ":var1", "fac_culture_hungarian"),
      (assign, ":var4", "trp_hungarian_knight"),
    (else_try),
      (eq, ":var1", "fac_culture_polish"),
      (assign, ":var4", "trp_polish_guard"),
    (else_try),
      (eq, ":var1", "fac_culture_player"),
      (assign, ":var4", "trp_cstm_custom_troop_3_tiers_0_2_4"),
    (try_end),
    (call_script, "script_give_source_troop_inventory_to_troop", ":var0", ":var4", 3),
  ]),

  ("assign_lord_face_type",
  [
    (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (store_faction_of_troop, ":var1", ":var0"),
      (try_begin),
        (this_or_next|eq, ":var1", "fac_kingdom_1"),
        (this_or_next|eq, ":var1", "fac_kingdom_2"),
        (this_or_next|eq, ":var1", "fac_kingdom_4"),
        (this_or_next|eq, ":var1", "fac_kingdom_5"),
        (this_or_next|eq, ":var1", "fac_kingdom_6"),
        (this_or_next|eq, ":var1", "fac_kingdom_7"),
        (this_or_next|eq, ":var1", "fac_kingdom_8"),
        (this_or_next|eq, ":var1", "fac_kingdom_9"),
        (this_or_next|eq, ":var1", "fac_kingdom_10"),
        (this_or_next|eq, ":var1", "fac_kingdom_11"),
        (this_or_next|eq, ":var1", "fac_kingdom_12"),
        (this_or_next|eq, ":var1", "fac_kingdom_13"),
        (this_or_next|eq, ":var1", "fac_kingdom_14"),
        (this_or_next|eq, ":var1", "fac_kingdom_15"),
        (this_or_next|eq, ":var1", "fac_kingdom_16"),
        (this_or_next|eq, ":var1", "fac_kingdom_17"),
        (this_or_next|eq, ":var1", "fac_kingdom_18"),
        (this_or_next|eq, ":var1", "fac_kingdom_19"),
        (this_or_next|eq, ":var1", "fac_papacy"),
        (this_or_next|eq, ":var1", "fac_kingdom_22"),
        (this_or_next|eq, ":var1", "fac_kingdom_23"),
        (this_or_next|eq, ":var1", "fac_kingdom_24"),
        (this_or_next|eq, ":var1", "fac_kingdom_26"),
        (this_or_next|eq, ":var1", "fac_kingdom_29"),
        (this_or_next|eq, ":var1", "fac_kingdom_30"),
        (this_or_next|eq, ":var1", "fac_kingdom_32"),
        (this_or_next|eq, ":var1", "fac_kingdom_33"),
        (this_or_next|eq, ":var1", "fac_kingdom_34"),
        (this_or_next|eq, ":var1", "fac_kingdom_35"),
        (this_or_next|eq, ":var1", "fac_kingdom_36"),
        (this_or_next|eq, ":var1", "fac_kingdom_37"),
        (this_or_next|eq, ":var1", "fac_kingdom_38"),
        (this_or_next|eq, ":var1", "fac_kingdom_39"),
        (this_or_next|eq, ":var1", "fac_kingdom_40"),
        (this_or_next|eq, ":var1", "fac_kingdom_41"),
        (eq, ":var1", "fac_kingdom_42"),
        (neq, ":var0", "trp_knight_7_15"),
        (neq, ":var0", "trp_knight_23_9"),
        (troop_set_slot, ":var0", 180, 1),
      (else_try),
        (this_or_next|eq, ":var1", "fac_kingdom_20"),
        (this_or_next|eq, ":var1", "fac_kingdom_25"),
        (this_or_next|eq, ":var1", "fac_kingdom_27"),
        (this_or_next|eq, ":var1", "fac_kingdom_28"),
        (this_or_next|eq, ":var0", "trp_knight_23_9"),
        (eq, ":var1", "fac_kingdom_31"),
        (neq, ":var0", "trp_kingdom_27_lord"),
        (neq, ":var0", "trp_knight_27_4"),
        (neq, ":var0", "trp_knight_27_5"),
        (neq, ":var0", "trp_knight_27_6"),
        (neq, ":var0", "trp_knight_27_7"),
        (neq, ":var0", "trp_knight_27_8"),
        (neq, ":var0", "trp_knight_27_9"),
        (neq, ":var0", "trp_knight_27_10"),
        (neq, ":var0", "trp_knight_27_11"),
        (neq, ":var0", "trp_knight_27_12"),
        (neq, ":var0", "trp_knight_27_13"),
        (neq, ":var0", "trp_knight_27_14"),
        (neq, ":var0", "trp_knight_27_15"),
        (neq, ":var0", "trp_knight_7_15"),
        (troop_set_slot, ":var0", 180, 2),
      (else_try),
        (this_or_next|eq, ":var0", "trp_kingdom_27_lord"),
        (this_or_next|eq, ":var0", "trp_knight_27_4"),
        (this_or_next|eq, ":var0", "trp_knight_27_5"),
        (this_or_next|eq, ":var0", "trp_knight_27_6"),
        (this_or_next|eq, ":var0", "trp_knight_27_7"),
        (this_or_next|eq, ":var0", "trp_knight_27_8"),
        (this_or_next|eq, ":var0", "trp_knight_27_9"),
        (this_or_next|eq, ":var0", "trp_knight_27_10"),
        (this_or_next|eq, ":var0", "trp_knight_27_11"),
        (this_or_next|eq, ":var0", "trp_knight_27_12"),
        (this_or_next|eq, ":var0", "trp_knight_27_13"),
        (this_or_next|eq, ":var0", "trp_knight_27_14"),
        (this_or_next|eq, ":var0", "trp_knight_27_15"),
        (this_or_next|eq, ":var0", "trp_knight_7_15"),
        (eq, ":var1", "fac_kingdom_3"),
        (troop_set_slot, ":var0", 180, 3),
      (try_end),
    (try_end),
  ]),

  ("get_random_culture_for_lord_player_faction",
  [
    (store_script_param, ":var0", 1),
    (faction_get_slot, ":var1", ":var0", 10),
    (faction_get_slot, ":var2", ":var0", 135),
    (try_begin),
      (eq, ":var1", "fac_culture_teutonic"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 75),
        (assign, ":var4", "fac_culture_teutonic"),
      (else_try),
        (ge, ":var3", 75),
        (lt, ":var3", 85),
        (assign, ":var4", "fac_culture_nordic"),
      (else_try),
        (ge, ":var3", 85),
        (assign, ":var4", "fac_culture_baltic"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_baltic"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 85),
        (assign, ":var4", "fac_culture_baltic"),
      (else_try),
        (ge, ":var3", 85),
        (assign, ":var4", "fac_culture_rus"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (eq, ":var2", 7),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_nordic"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_polish"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_polish"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_mazovian"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (eq, ":var2", 4),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 70),
        (assign, ":var4", "fac_culture_western"),
      (else_try),
        (ge, ":var3", 70),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_nordic"),
      (else_try),
        (ge, ":var3", 80),
        (lt, ":var3", 93),
        (assign, ":var4", "fac_culture_teutonic"),
      (else_try),
        (ge, ":var3", 93),
        (assign, ":var4", "fac_culture_hospitaller"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_hungarian"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 75),
        (assign, ":var4", "fac_culture_hungarian"),
      (else_try),
        (ge, ":var3", 75),
        (lt, ":var3", 85),
        (assign, ":var4", "fac_culture_balkan"),
      (else_try),
        (ge, ":var3", 85),
        (assign, ":var4", "fac_culture_cuman"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_rus"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_rus"),
      (else_try),
        (ge, ":var3", 90),
        (assign, ":var4", "fac_culture_baltic"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_english"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 70),
        (assign, ":var4", "fac_culture_english"),
      (else_try),
        (ge, ":var3", 70),
        (lt, ":var3", 77),
        (assign, ":var4", "fac_culture_welsh"),
      (else_try),
        (ge, ":var3", 77),
        (lt, ":var3", 84),
        (assign, ":var4", "fac_culture_scotish"),
      (else_try),
        (ge, ":var3", 84),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_gaelic"),
      (else_try),
        (ge, ":var3", 90),
        (lt, ":var3", 95),
        (assign, ":var4", "fac_culture_templar"),
      (else_try),
        (ge, ":var3", 95),
        (assign, ":var4", "fac_culture_hospitaller"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_french"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_french"),
      (else_try),
        (ge, ":var3", 80),
        (lt, ":var3", 85),
        (assign, ":var4", "fac_culture_scotish"),
      (else_try),
        (ge, ":var3", 85),
        (lt, ":var3", 95),
        (assign, ":var4", "fac_culture_templar"),
      (else_try),
        (ge, ":var3", 95),
        (assign, ":var4", "fac_culture_hospitaller"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (eq, ":var2", 8),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 85),
        (assign, ":var4", "fac_culture_nordic"),
      (else_try),
        (ge, ":var3", 85),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_scotish"),
      (else_try),
        (ge, ":var3", 90),
        (assign, ":var4", "fac_culture_finnish"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_scotish"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_scotish"),
      (else_try),
        (ge, ":var3", 80),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_gaelic"),
      (else_try),
        (ge, ":var3", 90),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_gaelic"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_gaelic"),
      (else_try),
        (ge, ":var3", 80),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_scotish"),
      (else_try),
        (ge, ":var3", 90),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (eq, ":var2", 9),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_nordic"),
      (else_try),
        (ge, ":var3", 80),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_finnish"),
      (else_try),
        (ge, ":var3", 90),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_iberian"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_iberian"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (faction_slot_eq, ":var0", 135, 13),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 60),
        (assign, ":var4", "fac_culture_western"),
      (else_try),
        (ge, ":var3", 60),
        (assign, ":var4", "fac_culture_iberian"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_italian"),
      (eq, ":var2", 15),
      (neq, ":var0", "fac_kingdom_26"),
      (neq, ":var0", "fac_kingdom_41"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_italian"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_byzantium"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 70),
        (assign, ":var4", "fac_culture_byzantium"),
      (else_try),
        (ge, ":var3", 70),
        (lt, ":var3", 85),
        (assign, ":var4", "fac_culture_anatolian_christian"),
      (else_try),
        (ge, ":var3", 85),
        (assign, ":var4", "fac_culture_balkan"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_crusader"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 30),
        (assign, ":var4", "fac_culture_western"),
      (else_try),
        (ge, ":var3", 30),
        (lt, ":var3", 35),
        (assign, ":var4", "fac_culture_iberian"),
      (else_try),
        (ge, ":var3", 35),
        (lt, ":var3", 40),
        (assign, ":var4", "fac_culture_italian"),
      (else_try),
        (ge, ":var3", 40),
        (lt, ":var3", 50),
        (assign, ":var4", "fac_culture_anatolian_christian"),
      (else_try),
        (ge, ":var3", 50),
        (lt, ":var3", 60),
        (assign, ":var4", "fac_culture_teutonic"),
      (else_try),
        (ge, ":var3", 60),
        (lt, ":var3", 70),
        (assign, ":var4", "fac_culture_templar"),
      (else_try),
        (ge, ":var3", 70),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_hospitaller"),
      (else_try),
        (ge, ":var3", 80),
        (lt, ":var3", 85),
        (assign, ":var4", "fac_culture_antioch"),
      (else_try),
        (ge, ":var3", 85),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_tripoli"),
      (else_try),
        (ge, ":var3", 90),
        (lt, ":var3", 95),
        (assign, ":var4", "fac_culture_ibelin"),
      (else_try),
        (ge, ":var3", 95),
        (assign, ":var4", "fac_culture_jerusalem"),
      (try_end),
    (else_try),
      (this_or_next|eq, "$kaos_kings_kingdom", 26),
      (eq, ":var0", "fac_kingdom_26"),
      (eq, ":var2", 15),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 60),
        (assign, ":var4", "fac_culture_italian"),
      (else_try),
        (ge, ":var3", 60),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_western"),
      (else_try),
        (ge, ":var3", 80),
        (lt, ":var3", 87),
        (assign, ":var4", "fac_culture_serbian"),
      (else_try),
        (ge, ":var3", 87),
        (lt, ":var3", 94),
        (assign, ":var4", "fac_culture_balkan"),
      (else_try),
        (ge, ":var3", 94),
        (assign, ":var4", "fac_culture_anatolian_christian"),
      (try_end),
    (else_try),
      (this_or_next|eq, ":var1", "fac_culture_anatolian"),
      (eq, ":var1", "fac_culture_mongol"),
      (eq, "$kaos_kings_kingdom", 27),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 55),
        (assign, ":var4", "fac_culture_anatolian"),
      (else_try),
        (ge, ":var3", 55),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_mongol"),
      (else_try),
        (ge, ":var3", 90),
        (assign, ":var4", "fac_culture_anatolian_christian"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_mongol"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 70),
        (assign, ":var4", "fac_culture_mongol"),
      (else_try),
        (ge, ":var3", 70),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_rus"),
      (else_try),
        (ge, ":var3", 90),
        (assign, ":var4", "fac_culture_cuman"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_mamluke"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 90),
        (assign, ":var4", "fac_culture_mamluke"),
      (else_try),
        (ge, ":var3", 90),
        (assign, ":var4", "fac_culture_anatolian"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_serbian"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_serbian"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_balkan"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_balkan"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 70),
        (assign, ":var4", "fac_culture_balkan"),
      (else_try),
        (ge, ":var3", 70),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_serbian"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_byzantium"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_marinid"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_marinid"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_andalus"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_andalus"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_andalus"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_marinid"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_welsh"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 70),
        (assign, ":var4", "fac_culture_welsh"),
      (else_try),
        (ge, ":var3", 70),
        (lt, ":var3", 77),
        (assign, ":var4", "fac_culture_gaelic"),
      (else_try),
        (ge, ":var3", 77),
        (lt, ":var3", 84),
        (assign, ":var4", "fac_culture_scotish"),
      (else_try),
        (ge, ":var3", 84),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_welsh"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 70),
        (assign, ":var4", "fac_culture_italian"),
      (else_try),
        (ge, ":var3", 70),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian_christian"),
      (store_random_in_range, ":var3", 0, 100),
      (try_begin),
        (lt, ":var3", 80),
        (assign, ":var4", "fac_culture_anatolian_christian"),
      (else_try),
        (ge, ":var3", 80),
        (assign, ":var4", "fac_culture_byzantium"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (eq, ":var2", 23),
      (try_begin),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (eq, ":var2", 25),
      (try_begin),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_templar"),
      (try_begin),
        (assign, ":var4", "fac_culture_templar"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_hospitaller"),
      (try_begin),
        (assign, ":var4", "fac_culture_hospitaller"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_antioch"),
      (try_begin),
        (assign, ":var4", "fac_culture_antioch"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_tripoli"),
      (try_begin),
        (assign, ":var4", "fac_culture_tripoli"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_ibelin"),
      (try_begin),
        (assign, ":var4", "fac_culture_ibelin"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_jerusalem"),
      (try_begin),
        (assign, ":var4", "fac_culture_jerusalem"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian"),
      (try_begin),
        (assign, ":var4", "fac_culture_anatolian"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_cuman"),
      (try_begin),
        (assign, ":var4", "fac_culture_cuman"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (try_begin),
        (assign, ":var4", "fac_culture_western"),
      (try_end),
    (else_try),
      (eq, ":var1", "fac_culture_player"),
      (assign, ":var4", "fac_culture_player"),
    (try_end),
    (assign, reg0, ":var4"),
  ]),

  ("get_random_name_for_lord_player_faction",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (str_clear, s1),
    (str_clear, s2),
    (str_clear, s3),
    (str_clear, s4),
    (str_clear, s5),
    (assign, ":var3", 0),
    (assign, ":var4", 0),
    (try_begin),
      (eq, ":var2", "fac_culture_finnish"),
      (store_random_in_range, ":var3", "str_enhanced_name_finnish_1", "str_enhanced_name_serbian_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (eq, ":var2", "fac_culture_serbian"),
      (store_random_in_range, ":var3", "str_enhanced_name_serbian_1", "str_enhanced_surname_serbian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_serbian_1", "str_enhanced_name_welsh_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_welsh"),
      (store_random_in_range, ":var3", "str_enhanced_name_welsh_1", "str_enhanced_surname_welsh_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_welsh_1", "str_enhanced_name_german_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_teutonic"),
      (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_western"),
      (faction_slot_eq, ":var0", 135, 4),
      (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_balkan"),
      (store_random_in_range, ":var3", "str_enhanced_name_balkan_1", "str_enhanced_name_rus_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (eq, ":var2", "fac_culture_rus"),
      (store_random_in_range, ":var3", "str_enhanced_name_rus_1", "str_enhanced_surname_rus_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_rus_1", "str_enhanced_name_danish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_nordic"),
      (faction_slot_eq, ":var0", 135, 7),
      (store_random_in_range, ":var3", "str_enhanced_name_danish_1", "str_enhanced_surname_danish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_danish_1", "str_enhanced_name_norwegian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_nordic"),
      (faction_slot_eq, ":var0", 135, 8),
      (store_random_in_range, ":var3", "str_enhanced_name_norwegian_1", "str_enhanced_surname_norwegian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_norwegian_1", "str_enhanced_name_swedish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_nordic"),
      (faction_slot_eq, ":var0", 135, 9),
      (store_random_in_range, ":var3", "str_enhanced_name_swedish_1", "str_enhanced_surname_swedish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_swedish_1", "str_enhanced_name_baltic_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_baltic"),
      (store_random_in_range, ":var3", "str_enhanced_name_baltic_1", "str_enhanced_name_arab_1"),
      (str_store_string, s3, ":var3"),
    (else_try),
      (this_or_next|eq, ":var2", "fac_culture_marinid"),
      (this_or_next|eq, ":var2", "fac_culture_mamluke"),
      (eq, ":var2", "fac_culture_andalus"),
      (store_random_in_range, ":var3", "str_enhanced_name_arab_1", "str_enhanced_surname_arab_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_arab_1", "str_enhanced_name_greek_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_byzantium"),
      (store_random_in_range, ":var3", "str_enhanced_name_greek_1", "str_enhanced_surname_greek_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_greek_1", "str_enhanced_name_spanish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_iberian"),
      (faction_slot_eq, ":var0", 135, 13),
      (store_random_in_range, ":var3", "str_enhanced_name_spanish_1", "str_enhanced_surname_spanish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_spanish_1", "str_enhanced_name_portuguese_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_iberian"),
      (faction_slot_eq, ":var0", 135, 14),
      (store_random_in_range, ":var3", "str_enhanced_name_portuguese_1", "str_enhanced_surname_portuguese_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_portuguese_1", "str_enhanced_name_italian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_iberian"),
      (faction_slot_eq, ":var0", 135, 25),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 70),
        (store_random_in_range, ":var3", "str_enhanced_name_spanish_1", "str_enhanced_surname_spanish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_spanish_1", "str_enhanced_name_portuguese_1"),
      (else_try),
        (ge, reg0, 70),
        (store_random_in_range, ":var3", "str_enhanced_name_portuguese_1", "str_enhanced_surname_portuguese_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_portuguese_1", "str_enhanced_name_italian_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_italian"),
      (store_random_in_range, ":var3", "str_enhanced_name_italian_1", "str_enhanced_surname_italian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_italian_1", "str_enhanced_name_gaelic_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_gaelic"),
      (store_random_in_range, ":var3", "str_enhanced_name_gaelic_1", "str_enhanced_surname_gaelic_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_gaelic_1", "str_enhanced_name_armenian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_anatolian_christian"),
      (store_random_in_range, ":var3", "str_enhanced_name_armenian_1", "str_enhanced_surname_armenian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_armenian_1", "str_enhanced_name_turkish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_anatolian"),
      (store_random_in_range, ":var3", "str_enhanced_name_turkish_1", "str_enhanced_surname_turkish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_turkish_1", "str_enhanced_name_scottish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_scotish"),
      (store_random_in_range, ":var3", "str_enhanced_name_scottish_1", "str_enhanced_surname_scottish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_scottish_1", "str_enhanced_name_polish_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_mazovian"),
      (store_random_in_range, ":var3", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_polish"),
      (store_random_in_range, ":var3", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_hungarian"),
      (store_random_in_range, ":var3", "str_enhanced_name_hungarian_1", "str_enhanced_surname_hungarian_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_hungarian_1", "str_enhanced_name_english_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_english"),
      (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_french"),
      (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
      (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_western"),
      (faction_slot_eq, ":var0", 135, 23),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 65),
        (store_random_in_range, ":var3", "str_enhanced_name_bohemian_1", "str_enhanced_surname_bohemian_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_bohemian_1", "str_enhanced_name_cuman_1"),
      (else_try),
        (ge, reg0, 65),
        (lt, reg0, 90),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 90),
        (store_random_in_range, ":var3", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_cuman"),
      (store_random_in_range, ":var3", "str_enhanced_name_cuman_1", "str_enhanced_name_custom_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (this_or_next|eq, ":var2", "fac_culture_western"),
      (this_or_next|eq, ":var2", "fac_culture_antioch"),
      (this_or_next|eq, ":var2", "fac_culture_tripoli"),
      (this_or_next|eq, ":var2", "fac_culture_ibelin"),
      (eq, ":var2", "fac_culture_jerusalem"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 45),
        (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (else_try),
        (ge, reg0, 45),
        (lt, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_mongol"),
      (store_random_in_range, ":var3", "str_enhanced_name_mongolian_1", "str_enhanced_name_bohemian_1"),
      (str_store_string, s1, ":var3"),
    (else_try),
      (eq, ":var2", "fac_culture_templar"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 60),
        (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (else_try),
        (ge, reg0, 60),
        (lt, reg0, 85),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 85),
        (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (eq, ":var2", "fac_culture_hospitaller"),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 20),
        (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (else_try),
        (ge, reg0, 20),
        (lt, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 80),
        (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (try_end),
      (str_store_string, s1, ":var3"),
      (str_store_string, s2, ":var4"),
    (else_try),
      (try_begin),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 0),
        (store_random_in_range, ":var3", "str_enhanced_name_finnish_1", "str_enhanced_name_serbian_1"),
        (str_store_string, s1, ":var3"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 1),
        (store_random_in_range, ":var3", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 2),
        (store_random_in_range, ":var3", "str_enhanced_name_serbian_1", "str_enhanced_surname_serbian_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_serbian_1", "str_enhanced_name_welsh_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 3),
        (store_random_in_range, ":var3", "str_enhanced_name_welsh_1", "str_enhanced_surname_welsh_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_welsh_1", "str_enhanced_name_german_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 4),
        (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 5),
        (store_random_in_range, ":var3", "str_enhanced_name_balkan_1", "str_enhanced_name_rus_1"),
        (str_store_string, s1, ":var3"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 6),
        (store_random_in_range, ":var3", "str_enhanced_name_rus_1", "str_enhanced_surname_rus_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_rus_1", "str_enhanced_name_danish_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 7),
        (store_random_in_range, ":var3", "str_enhanced_name_danish_1", "str_enhanced_surname_danish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_danish_1", "str_enhanced_name_norwegian_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 8),
        (store_random_in_range, ":var3", "str_enhanced_name_norwegian_1", "str_enhanced_surname_norwegian_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_norwegian_1", "str_enhanced_name_swedish_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 9),
        (store_random_in_range, ":var3", "str_enhanced_name_swedish_1", "str_enhanced_surname_swedish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_swedish_1", "str_enhanced_name_baltic_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 10),
        (store_random_in_range, ":var3", "str_enhanced_name_baltic_1", "str_enhanced_name_arab_1"),
        (str_store_string, s1, ":var3"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 11),
        (store_random_in_range, ":var3", "str_enhanced_name_arab_1", "str_enhanced_surname_arab_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_arab_1", "str_enhanced_name_greek_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 12),
        (store_random_in_range, ":var3", "str_enhanced_name_greek_1", "str_enhanced_surname_greek_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_greek_1", "str_enhanced_name_spanish_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 13),
        (store_random_in_range, ":var3", "str_enhanced_name_spanish_1", "str_enhanced_surname_spanish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_spanish_1", "str_enhanced_name_portuguese_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 14),
        (store_random_in_range, ":var3", "str_enhanced_name_portuguese_1", "str_enhanced_surname_portuguese_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_portuguese_1", "str_enhanced_name_italian_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 15),
        (store_random_in_range, ":var3", "str_enhanced_name_italian_1", "str_enhanced_surname_italian_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_italian_1", "str_enhanced_name_gaelic_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 16),
        (store_random_in_range, ":var3", "str_enhanced_name_gaelic_1", "str_enhanced_surname_gaelic_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_gaelic_1", "str_enhanced_name_armenian_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 17),
        (store_random_in_range, ":var3", "str_enhanced_name_armenian_1", "str_enhanced_surname_armenian_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_armenian_1", "str_enhanced_name_turkish_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 18),
        (store_random_in_range, ":var3", "str_enhanced_name_turkish_1", "str_enhanced_surname_turkish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_turkish_1", "str_enhanced_name_scottish_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 19),
        (store_random_in_range, ":var3", "str_enhanced_name_scottish_1", "str_enhanced_surname_scottish_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_scottish_1", "str_enhanced_name_polish_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 22),
        (store_random_in_range, ":var3", "str_enhanced_name_hungarian_1", "str_enhanced_surname_hungarian_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_hungarian_1", "str_enhanced_name_english_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 20),
        (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 21),
        (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 24),
        (store_random_in_range, ":var3", "str_enhanced_name_mongolian_1", "str_enhanced_name_bohemian_1"),
        (str_store_string, s1, ":var3"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 23),
        (store_random_in_range, ":var3", "str_enhanced_name_bohemian_1", "str_enhanced_surname_bohemian_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_bohemian_1", "str_enhanced_name_cuman_1"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 26),
        (store_random_in_range, ":var3", "str_enhanced_name_cuman_1", "str_enhanced_name_custom_1"),
        (str_store_string, s1, ":var3"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 27),
        (store_random_in_range, ":var3", "str_enhanced_name_custom_1", "str_enhanced_surname_custom_1"),
        (store_random_in_range, ":var4", "str_enhanced_surname_custom_1", "str_enhanced_names_end"),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (else_try),
        (eq, ":var2", "fac_culture_player"),
        (faction_slot_eq, ":var0", 135, 25),
        (call_script, "script_rand", 0, 100),
        (try_begin),
          (lt, reg0, 20),
          (store_random_in_range, ":var3", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
        (else_try),
          (ge, reg0, 20),
          (lt, reg0, 40),
          (store_random_in_range, ":var3", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
        (else_try),
          (ge, reg0, 40),
          (lt, reg0, 60),
          (store_random_in_range, ":var3", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
        (else_try),
          (ge, reg0, 60),
          (lt, reg0, 65),
          (store_random_in_range, ":var3", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
        (else_try),
          (ge, reg0, 65),
          (lt, reg0, 70),
          (store_random_in_range, ":var3", "str_enhanced_name_hungarian_1", "str_enhanced_surname_hungarian_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_hungarian_1", "str_enhanced_name_english_1"),
        (else_try),
          (ge, reg0, 70),
          (lt, reg0, 75),
          (store_random_in_range, ":var3", "str_enhanced_name_bohemian_1", "str_enhanced_surname_bohemian_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_bohemian_1", "str_enhanced_name_cuman_1"),
        (else_try),
          (ge, reg0, 75),
          (lt, reg0, 80),
          (store_random_in_range, ":var3", "str_enhanced_name_danish_1", "str_enhanced_surname_danish_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_danish_1", "str_enhanced_name_norwegian_1"),
        (else_try),
          (ge, reg0, 80),
          (lt, reg0, 85),
          (store_random_in_range, ":var3", "str_enhanced_name_danish_1", "str_enhanced_surname_danish_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_danish_1", "str_enhanced_name_norwegian_1"),
        (else_try),
          (ge, reg0, 85),
          (lt, reg0, 90),
          (store_random_in_range, ":var3", "str_enhanced_name_swedish_1", "str_enhanced_surname_swedish_1"),
          (store_random_in_range, ":var4", "str_enhanced_surname_swedish_1", "str_enhanced_name_baltic_1"),
        (else_try),
          (call_script, "script_rand", 0, 100),
          (try_begin),
            (lt, reg0, 30),
            (store_random_in_range, ":var3", "str_enhanced_name_portuguese_1", "str_enhanced_surname_portuguese_1"),
            (store_random_in_range, ":var4", "str_enhanced_surname_portuguese_1", "str_enhanced_name_italian_1"),
          (else_try),
            (ge, reg0, 30),
            (store_random_in_range, ":var3", "str_enhanced_name_spanish_1", "str_enhanced_surname_spanish_1"),
            (store_random_in_range, ":var4", "str_enhanced_surname_spanish_1", "str_enhanced_name_portuguese_1"),
          (try_end),
        (try_end),
        (str_store_string, s1, ":var3"),
        (str_store_string, s2, ":var4"),
      (try_end),
    (try_end),
    (troop_set_slot, ":var1", 167, ":var3"),
    (troop_set_slot, ":var1", 168, ":var4"),
    (call_script, "script_get_troop_title", ":var1", ":var2"),
    (troop_set_name, ":var1", s3),
    (troop_set_plural_name, ":var1", s3),
  ]),

  ("calculate_hero_weekly_income_and_party_wage",
  [
    (store_script_param_1, ":var0"),
    (troop_get_slot, ":var1", ":var0", 10),
    (troop_get_slot, ":var2", ":var0", 11),
    (assign, ":var3", 1000),
    (store_character_level, ":var4", ":var0"),
    (store_mul, ":var5", ":var4", 10),
    (val_add, ":var3", ":var5"),
    (store_faction_of_troop, ":var6", ":var0"),
    (try_begin),
      (faction_slot_eq, ":var6", 11, ":var0"),
      (val_add, ":var3", 1000),
    (try_end),
    (try_begin),
      (faction_slot_eq, ":var6", 8, ":var0"),
      (val_add, ":var3", 1000),
    (try_end),
    (assign, reg35, ":var3"),
    (try_begin),
      (gt, ":var1", 0),
      (call_script, "script_calculate_weekly_party_wage", ":var1"),
      (assign, ":var7", reg0),
    (try_end),
    (assign, reg36, ":var7"),
  ]),

  ("cf_troop_get_random_enemy_lord",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", -1),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var3", 166, 1),
      (troop_slot_eq, ":var3", 2, 2),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var3"),
      (lt, reg0, -20),
      (val_add, ":var2", 1),
    (try_end),
    (gt, ":var2", 0),
    (call_script, "script_rand", 0, ":var2"),
    (assign, ":var4", reg0),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var3", 166, 1),
      (troop_slot_eq, ":var3", 2, 2),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var3"),
      (lt, reg0, -20),
      (val_add, ":var2", 1),
      (eq, ":var4", ":var2"),
      (assign, ":var1", ":var3"),
    (try_end),
    (neq, ":var1", -1),
    (assign, reg0, ":var1"),
  ]),

  ("check_faction_civil_war_requirements",
  [
    (store_script_param, ":var0", 1),
    (assign, reg0, 0),
    (assign, ":var1", 0),
    (assign, ":var2", 0),
    (assign, ":var3", 150),
    (assign, ":var4", 0),
    (assign, ":var5", "p_village_1_1"),
    (faction_get_slot, ":var6", ":var0", 11),
    (faction_get_slot, ":var7", ":var0", 107),
    (try_for_range, ":var8", "trp_knight_1_1", "trp_enhanced_rnd_lord_end"),
      (troop_slot_eq, ":var8", 166, 1),
      (troop_slot_eq, ":var8", 2, 2),
      (neq, ":var6", ":var8"),
      (store_faction_of_troop, ":var9", ":var8"),
      (eq, ":var9", ":var0"),
      (call_script, "script_troop_get_relation_with_troop", ":var6", ":var8"),
      (le, reg0, -20),
      (try_for_range, ":var10", "p_town_1_1", ":var5"),
        (party_get_slot, ":var11", ":var10", 7),
        (eq, ":var11", ":var8"),
        (val_add, ":var4", 1),
        (try_begin),
          (gt, ":var4", 0),
          (assign, ":var5", -1),
        (try_end),
      (try_end),
      (val_add, ":var1", 1),
      (troop_set_slot, "trp_ee_array_1", ":var3", ":var8"),
      (val_add, ":var3", 1),
    (try_end),
    (try_begin),
      (gt, ":var1", 0),
      (gt, ":var4", 0),
      (val_mul, ":var1", 100),
      (store_div, ":var2", ":var1", ":var7"),
    (try_end),
    (try_begin),
      (ge, ":var2", "$g_misc_civil_war_lords_required"),
      (assign, reg0, 1),
      (assign, reg1, ":var3"),
    (try_end),
  ]),

  ("initiate_civil_war",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, reg0, 0),
    (assign, ":var2", 150),
    (assign, ":var3", 114),
    (try_for_range, ":var4", 84, ":var3"),
      (neg|faction_slot_eq, ":var4", 21, 0),
      (neg|faction_slot_ge, ":var4", 136, 1),
      (assign, ":var5", ":var4"),
      (faction_set_note_available, ":var5", 0),
      (call_script, "script_rand", 0, 16777215),
      (faction_set_color, ":var5", reg0),
      (faction_set_slot, ":var5", 4, -1),
      (faction_set_slot, ":var5", 5, -1),
      (faction_get_slot, ":var6", ":var0", 15),
      (faction_set_slot, ":var5", 15, ":var6"),
      (faction_set_slot, ":var5", 32, 1),
      (faction_set_slot, ":var5", 85, -1),
      (faction_set_slot, ":var5", 86, -1),
      (faction_set_slot, ":var5", 87, -1),
      (faction_set_slot, ":var5", 94, -1),
      (faction_set_slot, ":var5", 94, -1),
      (faction_set_slot, ":var5", 136, ":var0"),
      (try_begin),
        (faction_set_slot, ":var5", 120, 0),
        (faction_set_slot, ":var5", 121, 0),
        (faction_set_slot, ":var5", 122, 0),
        (faction_set_slot, ":var5", 123, 0),
        (faction_set_slot, ":var5", 124, 0),
        (faction_set_slot, ":var5", 125, 0),
        (faction_set_slot, ":var5", 126, 0),
        (faction_set_slot, ":var5", 127, 0),
        (faction_set_slot, ":var5", 128, 0),
        (faction_set_slot, ":var5", 129, 0),
        (faction_set_slot, ":var5", 130, 0),
        (faction_set_slot, ":var5", 131, 0),
        (faction_set_slot, ":var5", 132, 0),
        (faction_set_slot, ":var5", 133, 0),
      (try_end),
      (faction_set_slot, ":var4", 21, 0),
      (assign, ":var3", -1),
    (try_end),
    (try_for_range, ":var7", ":var2", ":var1"),
      (troop_get_slot, ":var8", "trp_ee_array_1", ":var7"),
      (gt, ":var8", 0),
      (call_script, "script_change_troop_faction", ":var8", ":var5"),
    (try_end),
    (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var9", 166, 1),
      (troop_slot_eq, ":var9", 2, 2),
      (neq, ":var9", ":var8"),
      (store_faction_of_troop, ":var10", ":var9"),
      (eq, ":var10", ":var5"),
      (store_random_in_range, ":var11", 20, 30),
      (call_script, "script_troop_change_relation_with_troop", ":var8", ":var9", ":var11"),
    (try_end),
    (try_for_range, ":var7", ":var2", ":var1"),
      (troop_get_slot, ":var8", "trp_ee_array_1", ":var7"),
      (gt, ":var8", 0),
      (try_for_range, ":var12", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var12", 166, 1),
        (troop_slot_eq, ":var12", 2, 2),
        (store_faction_of_troop, ":var13", ":var12"),
        (eq, ":var13", ":var0"),
        (store_random_in_range, ":var11", -30, -15),
        (call_script, "script_troop_change_relation_with_troop", ":var8", ":var12", ":var11"),
      (try_end),
      (faction_get_slot, ":var14", ":var0", 11),
      (store_random_in_range, ":var11", -60, -40),
      (call_script, "script_troop_change_relation_with_troop", ":var8", ":var14", ":var11"),
    (try_end),
    (try_begin),
      (call_script, "script_process_faction_leader_death", ":var14", ":var5"),
      (store_random_in_range, ":var7", ":var2", ":var1"),
      (troop_get_slot, ":var15", "trp_ee_array_1", ":var7"),
      (faction_set_slot, ":var5", 8, ":var15"),
      (faction_get_slot, ":var16", ":var5", 11),
      (troop_get_slot, ":var17", ":var16", 165),
      (faction_set_slot, ":var5", 10, ":var17"),
      (faction_get_slot, ":var18", ":var17", 102),
      (faction_set_slot, ":var5", 102, ":var18"),
      (faction_get_slot, ":var19", ":var17", 77),
      (faction_get_slot, ":var20", ":var17", 78),
      (faction_get_slot, ":var21", ":var17", 79),
      (faction_set_slot, ":var5", 77, ":var19"),
      (faction_set_slot, ":var5", 78, ":var20"),
      (faction_set_slot, ":var5", 79, ":var21"),
      (faction_get_slot, ":var22", ":var17", 41),
      (faction_get_slot, ":var23", ":var17", 42),
      (faction_get_slot, ":var24", ":var17", 43),
      (faction_get_slot, ":var25", ":var17", 44),
      (faction_get_slot, ":var26", ":var17", 45),
      (faction_set_slot, ":var5", 41, ":var22"),
      (faction_set_slot, ":var5", 42, ":var23"),
      (faction_set_slot, ":var5", 43, ":var24"),
      (faction_set_slot, ":var5", 44, ":var25"),
      (faction_set_slot, ":var5", 45, ":var26"),
      (faction_get_slot, ":var27", ":var17", 100),
      (faction_get_slot, ":var28", ":var17", 101),
      (faction_set_slot, ":var5", 100, ":var27"),
      (faction_set_slot, ":var5", 101, ":var28"),
      (faction_get_slot, ":var29", ":var17", 48),
      (faction_get_slot, ":var30", ":var17", 49),
      (faction_get_slot, ":var31", ":var17", 50),
      (faction_get_slot, ":var32", ":var17", 51),
      (faction_get_slot, ":var33", ":var17", 52),
      (faction_set_slot, ":var5", 48, ":var29"),
      (faction_set_slot, ":var5", 49, ":var30"),
      (faction_set_slot, ":var5", 50, ":var31"),
      (faction_set_slot, ":var5", 51, ":var32"),
      (faction_set_slot, ":var5", 52, ":var33"),
      (try_begin),
        (eq, ":var17", "fac_culture_western"),
        (faction_get_slot, ":var34", ":var0", 135),
        (faction_set_slot, ":var5", 135, ":var34"),
      (else_try),
        (faction_get_slot, ":var34", ":var17", 135),
        (faction_set_slot, ":var5", 135, ":var34"),
      (try_end),
      (faction_get_slot, ":var17", ":var0", 10),
      (faction_get_slot, ":var34", ":var0", 135),
      (call_script, "script_troop_set_title_according_to_culture_language_king", ":var16", ":var17", ":var34"),
      (str_clear, s4),
      (str_clear, s5),
      (str_store_faction_name, s4, ":var0"),
      (str_store_string, s5, "@{s4} Rebels"),
      (faction_set_name, ":var5", s5),
    (try_end),
    (faction_get_slot, ":var34", ":var5", 135),
    (faction_get_slot, ":var17", ":var5", 10),
    (try_for_range, ":var7", ":var2", ":var1"),
      (troop_get_slot, ":var8", "trp_ee_array_1", ":var7"),
      (neg|faction_slot_eq, ":var5", 11, ":var8"),
      (call_script, "script_troop_set_title_according_to_culture_language", ":var8", ":var17", ":var34"),
    (try_end),
    (str_clear, s1),
    (str_clear, s2),
    (str_store_faction_name_link, s1, ":var0"),
    (str_store_faction_name_link, s2, ":var5"),
    (display_message, "@Disgruntled lords from the {s1} have joined forces and started a rebellion! A civil war in the lands of the {s1} has begun."),
    (call_script, "script_diplomacy_start_war_between_kingdoms", ":var5", ":var0", 0),
    (call_script, "script_faction_recalculate_strength", ":var0"),
    (call_script, "script_faction_recalculate_strength", ":var5"),
    (call_script, "script_recalculate_ais_for_faction", ":var0"),
    (call_script, "script_recalculate_ais_for_faction", ":var5"),
    (faction_set_note_available, ":var5", 1),
    (call_script, "script_update_all_notes"),
  ]),

  ("set_kingdom_languages_game_start",
  [
    (try_begin),
      (faction_set_slot, "fac_kingdom_1", 135, 4),
      (faction_set_slot, "fac_kingdom_6", 135, 4),
      (faction_set_slot, "fac_kingdom_2", 135, 10),
      (faction_set_slot, "fac_kingdom_33", 135, 10),
      (faction_set_slot, "fac_kingdom_34", 135, 10),
      (faction_set_slot, "fac_kingdom_35", 135, 10),
      (faction_set_slot, "fac_kingdom_36", 135, 10),
      (faction_set_slot, "fac_kingdom_3", 135, 24),
      (faction_set_slot, "fac_kingdom_4", 135, 7),
      (faction_set_slot, "fac_kingdom_5", 135, 1),
      (faction_set_slot, "fac_kingdom_7", 135, 22),
      (faction_set_slot, "fac_kingdom_8", 135, 6),
      (faction_set_slot, "fac_kingdom_15", 135, 6),
      (faction_set_slot, "fac_kingdom_9", 135, 20),
      (faction_set_slot, "fac_kingdom_10", 135, 21),
      (faction_set_slot, "fac_kingdom_11", 135, 8),
      (faction_set_slot, "fac_kingdom_12", 135, 19),
      (faction_set_slot, "fac_kingdom_13", 135, 16),
      (faction_set_slot, "fac_kingdom_14", 135, 9),
      (faction_set_slot, "fac_kingdom_16", 135, 14),
      (faction_set_slot, "fac_kingdom_17", 135, 13),
      (faction_set_slot, "fac_kingdom_18", 135, 13),
      (faction_set_slot, "fac_kingdom_19", 135, 13),
      (faction_set_slot, "fac_kingdom_20", 135, 11),
      (faction_set_slot, "fac_kingdom_25", 135, 11),
      (faction_set_slot, "fac_kingdom_28", 135, 11),
      (faction_set_slot, "fac_kingdom_31", 135, 11),
      (faction_set_slot, "fac_papacy", 135, 15),
      (faction_set_slot, "fac_kingdom_24", 135, 15),
      (faction_set_slot, "fac_kingdom_26", 135, 15),
      (faction_set_slot, "fac_kingdom_32", 135, 15),
      (faction_set_slot, "fac_kingdom_38", 135, 15),
      (faction_set_slot, "fac_kingdom_39", 135, 15),
      (faction_set_slot, "fac_kingdom_40", 135, 15),
      (faction_set_slot, "fac_kingdom_41", 135, 15),
      (faction_set_slot, "fac_kingdom_22", 135, 12),
      (faction_set_slot, "fac_kingdom_23", 135, 25),
      (faction_set_slot, "fac_kingdom_27", 135, 18),
      (faction_set_slot, "fac_kingdom_29", 135, 2),
      (faction_set_slot, "fac_kingdom_30", 135, 5),
      (faction_set_slot, "fac_kingdom_37", 135, 3),
      (faction_set_slot, "fac_kingdom_42", 135, 23),
      (faction_set_slot, "fac_player_supporters_faction", 135, 25),
      (faction_set_slot, "fac_culture_finnish", 135, 0),
      (faction_set_slot, "fac_culture_mazovian", 135, 1),
      (faction_set_slot, "fac_culture_serbian", 135, 2),
      (faction_set_slot, "fac_culture_welsh", 135, 3),
      (faction_set_slot, "fac_culture_teutonic", 135, 4),
      (faction_set_slot, "fac_culture_balkan", 135, 5),
      (faction_set_slot, "fac_culture_rus", 135, 6),
      (faction_set_slot, "fac_culture_nordic", 135, 7),
      (faction_set_slot, "fac_culture_baltic", 135, 10),
      (faction_set_slot, "fac_culture_marinid", 135, 11),
      (faction_set_slot, "fac_culture_mamluke", 135, 11),
      (faction_set_slot, "fac_culture_andalus", 135, 11),
      (faction_set_slot, "fac_culture_byzantium", 135, 12),
      (faction_set_slot, "fac_culture_iberian", 135, 13),
      (faction_set_slot, "fac_culture_italian", 135, 15),
      (faction_set_slot, "fac_culture_gaelic", 135, 16),
      (faction_set_slot, "fac_culture_anatolian_christian", 135, 17),
      (faction_set_slot, "fac_culture_anatolian", 135, 18),
      (faction_set_slot, "fac_culture_scotish", 135, 19),
      (faction_set_slot, "fac_culture_western", 135, 25),
      (faction_set_slot, "fac_culture_templar", 135, 25),
      (faction_set_slot, "fac_culture_hospitaller", 135, 25),
      (faction_set_slot, "fac_culture_antioch", 135, 25),
      (faction_set_slot, "fac_culture_tripoli", 135, 25),
      (faction_set_slot, "fac_culture_ibelin", 135, 25),
      (faction_set_slot, "fac_culture_jerusalem", 135, 25),
      (faction_set_slot, "fac_culture_mongol", 135, 24),
      (faction_set_slot, "fac_culture_crusader", 135, 25),
      (faction_set_slot, "fac_culture_cuman", 135, 26),
      (faction_set_slot, "fac_culture_english", 135, 20),
      (faction_set_slot, "fac_culture_french", 135, 21),
      (faction_set_slot, "fac_culture_hungarian", 135, 22),
      (faction_set_slot, "fac_culture_polish", 135, 1),
      (faction_set_slot, "fac_culture_player", 135, 25),
    (try_end),
  ]),

  ("change_troop_faction_new",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_faction_of_troop, ":var2", ":var0"),
    (try_begin),
      (faction_slot_eq, ":var2", 8, ":var0"),
      (call_script, "script_check_and_finish_active_army_quests_for_faction", ":var2"),
      (try_begin),
        (faction_slot_eq, ":var2", 64, 0),
        (faction_set_slot, ":var2", 64, 1),
        (store_current_hours, ":var3"),
        (val_max, ":var3", 0),
        (faction_set_slot, ":var2", 65, ":var3"),
        (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var4", 166, 1),
          (store_faction_of_troop, ":var5", ":var4"),
          (eq, ":var5", ":var2"),
          (troop_set_slot, ":var4", 154, -1),
        (try_end),
        (try_begin),
          (eq, "$players_kingdom", ":var2"),
          (troop_set_slot, "trp_player", 154, -1),
        (try_end),
      (try_end),
      (try_begin),
        (troop_get_slot, ":var6", ":var0", 10),
        (party_is_active, ":var6"),
        (party_set_marshall, ":var6", 0),
      (try_end),
      (faction_set_slot, ":var2", 8, -1),
    (try_end),
    (troop_set_slot, ":var0", 154, -1),
    (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var4", 166, 1),
      (troop_slot_eq, ":var4", 154, ":var0"),
      (troop_set_slot, ":var4", 154, -1),
    (try_end),
    (troop_set_faction, ":var0", ":var1"),
    (troop_set_slot, ":var0", 50, 0),
    (troop_set_slot, ":var0", 53, 0),
    (troop_set_slot, ":var0", 54, 0),
    (troop_set_slot, ":var0", 47, 0),
    (try_for_range, ":var7", "p_town_1_1", "p_village_1_1"),
      (party_slot_eq, ":var7", 7, ":var0"),
      (party_set_faction, ":var7", ":var1"),
      (try_for_range, ":var8", "p_village_1_1", "p_salt_mine"),
        (party_slot_eq, ":var8", 120, ":var7"),
        (party_set_faction, ":var8", ":var1"),
        (party_get_slot, ":var9", ":var8", 122),
        (try_begin),
          (gt, ":var9", 0),
          (party_is_active, ":var9"),
          (party_set_faction, ":var9", ":var1"),
        (try_end),
        (try_begin),
          (party_get_slot, ":var10", ":var8", 7),
          (neq, ":var10", ":var0"),
          (party_set_slot, ":var8", 7, -1),
        (try_end),
      (try_end),
    (try_end),
    (try_for_range, ":var11", "trp_knight_1_1_wife", "trp_heroes_end"),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var11"),
      (assign, ":var12", reg0),
      (assign, ":var13", reg1),
      (eq, ":var12", ":var0"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var11"),
        (display_message, "@{!}DEBUG - {s4} faction changed by guardian moving"),
      (try_end),
      (troop_set_faction, ":var11", ":var1"),
      (troop_slot_eq, ":var11", 8, -1),
      (troop_set_slot, ":var11", 12, ":var13"),
    (try_end),
    (try_for_range, ":var8", "p_village_1_1", "p_salt_mine"),
      (party_slot_eq, ":var8", 7, ":var0"),
      (store_faction_of_party, ":var14", ":var8"),
      (try_begin),
        (neq, ":var14", ":var1"),
        (party_set_slot, ":var8", 7, -1),
      (try_end),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var15", ":var0", 10),
      (gt, ":var15", 0),
      (party_set_faction, ":var15", ":var1"),
      (party_get_num_prisoner_stacks, ":var16", ":var15"),
      (try_for_range_backwards, ":var17", 0, ":var16"),
        (party_prisoner_stack_get_troop_id, ":var18", ":var15", ":var17"),
        (store_faction_of_troop, ":var19", ":var18"),
        (troop_is_hero, ":var18"),
        (eq, ":var19", ":var1"),
        (call_script, "script_remove_troop_from_prison", ":var18"),
        (party_remove_prisoners, ":var15", ":var18", 1),
      (try_end),
    (try_end),
    (try_for_range, ":var20", 0, "qst_quests_end"),
      (check_quest_active, ":var20"),
      (quest_slot_eq, ":var20", 6, ":var0"),
      (str_store_troop_name, s4, ":var0"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_s4_changing_sides_aborts_quest"),
      (try_end),
      (call_script, "script_abort_quest", ":var20", 0),
    (try_end),
    (try_for_range, ":var21", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var21", 166, 1),
      (troop_get_slot, ":var22", ":var21", 10),
      (party_is_active, ":var22"),
      (party_get_attached_to, ":var23", ":var22"),
      (is_between, ":var23", "p_town_1_1", "p_village_1_1"),
      (store_faction_of_party, ":var24", ":var22"),
      (store_faction_of_party, ":var25", ":var23"),
      (neq, ":var24", ":var25"),
      (party_detach, ":var22"),
    (try_end),
    (try_begin),
      (troop_slot_ge, ":var0", 30, 0),
    (else_try),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (try_for_range, ":var26", 35, 38),
        (troop_get_slot, ":var27", ":var0", ":var26"),
        (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var27", ":var0"),
      (try_end),
      (call_script, "script_assign_troop_love_interests", ":var0"),
    (else_try),
      (is_between, ":var0", "trp_knight_1_1_wife", "trp_heroes_end"),
      (try_for_range, ":var4", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var4", 166, 1),
        (try_for_range, ":var26", 35, 38),
          (troop_slot_eq, ":var4", ":var26", ":var0"),
          (call_script, "script_courtship_event_lady_break_relation_with_suitor", ":var0", ":var4"),
        (try_end),
      (try_end),
    (try_end),
    (troop_get_slot, ":var28", ":var0", 10),
    (try_for_range, ":var7", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var7", 0, 4),
      (party_get_slot, ":var29", ":var7", 34),
      (eq, ":var29", ":var28"),
      (party_set_slot, ":var7", 34, -1),
      (try_begin),
        (party_slot_eq, ":var7", 35, 1),
        (party_set_slot, ":var7", 35, 0),
        (party_set_extra_text, ":var7", "str_empty_string"),
      (try_end),
    (else_try),
      (party_get_slot, ":var30", ":var7", 54),
      (eq, ":var30", ":var28"),
      (party_set_slot, ":var7", 54, -1),
      (try_begin),
        (party_slot_eq, ":var7", 35, 5),
        (party_set_slot, ":var7", 35, 0),
        (party_set_extra_text, ":var7", "str_empty_string"),
      (try_end),
    (try_end),
    (call_script, "script_update_village_market_towns"),
  ]),

  ("dplmc_print_subordinate_says_sir_madame_to_s0",
  [
    (assign, ":var0", 1),
    (try_begin),
      (eq, "$sneaked_into_town", 1),
      (assign, ":var0", 1),
    (else_try),
      (troop_get_slot, ":var1", "trp_player", 7),
      (troop_get_slot, ":var2", "trp_player", 30),
      (ge, ":var2", 1),
      (try_for_range, ":var3", "fac_kingdom_1", "fac_kingdoms_end"),
        (this_or_next|faction_slot_eq, ":var3", 11, "trp_player"),
        (faction_slot_eq, ":var3", 11, ":var2"),
        (val_max, ":var0", 3),
      (try_end),
      (this_or_next|is_between, ":var2", "trp_kingdom_1_lord", "trp_knight_1_1"),
      (this_or_next|is_between, ":var2", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (ge, ":var0", 3),
      (val_max, ":var0", 3),
    (else_try),
      (ge, "$players_kingdom", 0),
      (this_or_next|faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (faction_slot_eq, "$players_kingdom", 11, ":var2"),
      (this_or_next|faction_slot_eq, "$players_kingdom", 11, "trp_player"),
      (ge, ":var2", 1),
      (faction_slot_eq, "$players_kingdom", 21, 0),
      (try_begin),
        (ge, "$player_right_to_rule", 10),
        (store_sub, reg0, 150, "$player_right_to_rule"),
        (val_mul, reg0, 16),
        (ge, ":var1", reg0),
        (val_max, ":var0", 3),
      (else_try),
        (try_begin),
          (faction_slot_eq, "$players_kingdom", 81, 0),
          (faction_slot_eq, "$players_kingdom", 82, 0),
          (call_script, "script_faction_recalculate_strength", "$players_kingdom"),
        (else_try),
          (neg|this_or_next|faction_slot_ge, "$players_kingdom", 81, 0),
          (neg|faction_slot_ge, "$players_kingdom", 82, 0),
          (call_script, "script_faction_recalculate_strength", "$players_kingdom"),
        (try_end),
        (faction_get_slot, ":var4", "$players_kingdom", 82),
        (val_mul, ":var4", 3),
        (faction_get_slot, reg0, "$players_kingdom", 81),
        (val_add, ":var4", reg0),
        (val_add, ":var4", reg0),
        (ge, ":var4", 1),
        (val_max, ":var0", 2),
        (store_sub, ":var5", "p_castle_1_1", "p_town_1_1"),
        (val_mul, ":var5", 3),
        (store_sub, reg0, "p_village_1_1", "p_castle_1_1"),
        (val_add, ":var5", reg0),
        (val_add, ":var5", reg0),
        (store_sub, ":var6", "fac_kingdoms_end", "fac_kingdom_1"),
        (val_max, ":var6", 1),
        (store_mul, ":var7", ":var5", 9),
        (store_mul, reg0, "$player_right_to_rule", 2),
        (val_add, reg0, 300),
        (val_mul, reg0, ":var4"),
        (val_mul, reg0, ":var6"),
        (val_mul, reg0, 4),
        (ge, reg0, ":var7"),
        (val_max, ":var0", 3),
      (try_end),
      (ge, ":var0", 3),
    (else_try),
      (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
      (val_max, ":var0", 1),
      (eq, "$player_has_homage", 1),
      (val_max, ":var0", 2),
    (try_end),
    (try_begin),
      (ge, ":var0", 3),
      (str_store_string, s0, "str_dplmc_your_highness"),
    (else_try),
      (eq, ":var0", 2),
      (str_store_string, s0, "str_dplmc_my_lordlady"),
    (else_try),
      (str_store_string, s0, "str_dplmc_sirmadam"),
    (try_end),
    (try_begin),
      (lt, "$sneaked_into_town", 1),
      (is_between, "$g_talk_troop", "trp_npc1", "trp_kingdom_1_lord"),
      (ge, ":var0", 1),
      (neg|troop_slot_eq, "$g_talk_troop", 5, 0),
      (neg|this_or_next|troop_slot_eq, "$g_talk_troop", 2, 0),
      (neg|troop_slot_eq, "$g_talk_troop", 82, 0),
      (troop_get_slot, ":var8", "$g_talk_troop", 130),
      (ge, ":var8", "str_npc1_honorific"),
      (str_store_string, s0, ":var8"),
    (else_try),
      (eq, ":var0", 1),
      (is_between, "$g_talk_troop", "trp_npc1", "trp_heroes_end"),
      (str_store_string, s0, "str_dplmc_sirmadame"),
    (try_end),
    (assign, reg0, ":var0"),
  ]),

  ("dplmc_evaluate_fief_exchange",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (assign, ":var4", -1),
    (assign, reg0, ":var4"),
    (str_store_string, s14, "str_error_string"),
    (try_begin),
      (neq, ":var0", ":var2"),
      (is_between, ":var0", "trp_npc1", "trp_heroes_end"),
      (this_or_next|is_between, ":var2", "trp_npc1", "trp_heroes_end"),
      (eq, ":var2", "trp_player"),
      (is_between, ":var1", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var1", 7, ":var0"),
      (is_between, ":var3", "p_town_1_1", "p_salt_mine"),
      (party_slot_eq, ":var3", 7, ":var2"),
      (store_faction_of_troop, ":var5", ":var0"),
      (store_faction_of_troop, ":var6", ":var2"),
      (try_begin),
        (eq, ":var2", "trp_player"),
        (neq, ":var5", ":var6"),
        (assign, ":var6", "$players_kingdom"),
      (try_end),
      (this_or_next|eq, ":var5", ":var6"),
      (this_or_next|faction_slot_eq, ":var5", 11, ":var2"),
      (faction_slot_eq, ":var6", 11, ":var0"),
      (party_get_slot, ":var7", ":var1", 50),
      (party_get_slot, ":var8", ":var3", 50),
      (store_div, ":var9", ":var7", 10),
      (val_mul, ":var9", 10),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var2"),
      (store_div, ":var10", reg0, 10),
      (val_sub, ":var9", ":var10"),
      (store_skill_level, ":var11", "skl_persuasion", ":var2"),
      (val_sub, ":var9", ":var11"),
      (store_skill_level, ":var12", "skl_trade", ":var2"),
      (val_sub, ":var9", ":var12"),
      (val_min, ":var9", ":var7"),
      (assign, ":var13", 0),
      (try_begin),
        (party_slot_eq, ":var1", 0, 3),
        (assign, ":var13", 3),
      (else_try),
        (party_slot_eq, ":var1", 0, 2),
        (assign, ":var13", 2),
      (else_try),
        (party_slot_eq, ":var1", 0, 4),
        (assign, ":var13", 1),
      (try_end),
      (ge, ":var13", 1),
      (assign, ":var14", 0),
      (try_begin),
        (party_slot_eq, ":var3", 0, 3),
        (assign, ":var14", 3),
      (else_try),
        (party_slot_eq, ":var3", 0, 2),
        (assign, ":var14", 2),
      (else_try),
        (party_slot_eq, ":var3", 0, 4),
        (assign, ":var14", 1),
      (try_end),
      (ge, ":var14", 1),
      (try_begin),
        (lt, ":var14", ":var13"),
        (eq, ":var13", 3),
        (str_store_string, s14, "str_dplmc_fief_exchange_refuse_town"),
      (else_try),
        (lt, ":var14", ":var13"),
        (str_store_string, s14, "str_dplmc_fief_exchange_refuse_castle"),
      (else_try),
        (this_or_next|party_slot_eq, ":var3", 35, 5),
        (party_slot_eq, ":var3", 35, 1),
        (str_store_party_name, s14, ":var3"),
        (str_store_string, s14, "str_dplmc_fief_exchange_refuse_s14_attack"),
      (else_try),
        (lt, ":var13", ":var14"),
        (str_store_string, s14, "str_dplmc_fief_exchange_accept"),
        (assign, ":var4", 0),
      (else_try),
        (this_or_next|party_slot_eq, ":var1", 281, ":var0"),
        (troop_slot_eq, ":var0", 60, ":var1"),
        (neg|party_slot_eq, ":var3", 281, ":var0"),
        (neg|troop_slot_eq, ":var0", 60, ":var3"),
        (neg|this_or_next|is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
        (neg|troop_slot_eq, ":var0", 67, ":var3"),
        (str_store_party_name, s14, ":var1"),
        (str_store_string, s14, "str_dplmc_fief_exchange_refuse_home"),
      (else_try),
        (lt, ":var8", ":var9"),
        (str_store_string, s14, "str_dplmc_fief_exchange_refuse_rich"),
      (else_try),
        (store_sub, ":var4", ":var7", ":var8"),
        (val_mul, ":var4", ":var13"),
        (val_mul, ":var4", 36),
        (val_add, ":var4", 2000),
        (val_max, ":var4", 0),
        (try_begin),
          (ge, ":var4", 1),
          (assign, reg3, ":var4"),
          (str_store_string, s14, "str_dplmc_fief_exchange_accept_reg3_denars"),
        (else_try),
          (str_store_string, s14, "str_dplmc_fief_exchange_accept"),
        (try_end),
      (try_end),
    (try_end),
    (assign, reg0, ":var4"),
  ]),

  ("dplmc_distribute_gold_to_lord_and_holdings",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (lt, ":var1", 0),
    (else_try),
      (lt, ":var0", 0),
      (val_mul, ":var0", -1),
      (call_script, "script_dplmc_remove_gold_from_lord_and_holdings", ":var0", ":var1"),
      (assign, ":var0", 0),
    (else_try),
      (neq, ":var1", "trp_player"),
      (neg|troop_is_hero, ":var1"),
      (troop_add_gold, ":var1", ":var0"),
      (assign, ":var0", 0),
    (else_try),
      (eq, ":var1", "trp_player"),
      (troop_add_gold, "trp_player", ":var0"),
      (assign, ":var0", 0),
    (else_try),
      (neg|troop_is_hero, ":var1"),
    (else_try),
      (troop_get_slot, ":var2", ":var1", 11),
      (val_max, ":var2", 0),
      (store_sub, ":var3", 6000, ":var2"),
      (val_max, ":var3", 0),
      (val_min, ":var3", ":var0"),
      (val_add, ":var2", ":var3"),
      (troop_set_slot, ":var1", 11, ":var2"),
      (val_sub, ":var0", ":var3"),
      (gt, ":var0", 0),
      (try_for_range, ":var4", "p_town_1_1", "p_village_1_1"),
        (party_slot_eq, ":var4", 7, ":var1"),
        (party_get_slot, ":var2", ":var4", 49),
        (store_party_size_wo_prisoners, ":var5", ":var4"),
        (call_script, "script_party_get_ideal_size", ":var4"),
        (val_mul, reg0, 3),
        (val_div, reg0, 2),
        (ge, reg0, ":var5"),
        (try_begin),
          (party_slot_eq, ":var4", 0, 3),
          (store_sub, ":var3", 4000, ":var2"),
        (else_try),
          (store_sub, ":var3", 2000, ":var2"),
        (try_end),
        (val_max, ":var3", 0),
        (val_min, ":var3", ":var0"),
        (gt, ":var3", 0),
        (val_add, ":var2", ":var3"),
        (party_set_slot, ":var4", 49, ":var2"),
        (val_sub, ":var0", ":var3"),
      (try_end),
      (gt, ":var0", 0),
      (troop_get_slot, ":var2", ":var1", 11),
      (val_add, ":var2", ":var0"),
      (val_max, ":var2", 0),
      (troop_set_slot, ":var1", 11, ":var2"),
      (assign, ":var0", 0),
    (try_end),
  ]),

  ("dplmc_remove_gold_from_lord_and_holdings",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (lt, ":var1", 0),
    (else_try),
      (neq, ":var1", "trp_player"),
      (neg|troop_is_hero, ":var1"),
    (else_try),
      (lt, ":var0", 0),
      (val_mul, ":var0", -1),
      (call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", ":var0", ":var1"),
      (assign, ":var0", 0),
    (else_try),
      (eq, ":var1", "trp_player"),
      (store_troop_gold, ":var2", "trp_household_possessions"),
      (try_begin),
        (ge, ":var2", 1),
        (val_min, ":var2", ":var0"),
        (call_script, "script_dplmc_withdraw_from_treasury", ":var2"),
        (val_sub, ":var0", ":var2"),
      (try_end),
      (store_troop_gold, ":var2", "trp_player"),
      (try_begin),
        (ge, ":var2", 1),
        (val_min, ":var2", ":var0"),
        (troop_remove_gold, "trp_player", ":var2"),
        (val_sub, ":var0", ":var2"),
      (try_end),
      (lt, ":var0", 1),
    (else_try),
      (ge, ":var0", 1),
      (ge, ":var1", 1),
      (troop_get_slot, ":var3", ":var1", 11),
      (ge, ":var3", 1),
      (try_begin),
        (ge, ":var3", ":var0"),
        (val_sub, ":var3", ":var0"),
        (assign, ":var0", 0),
      (else_try),
        (val_sub, ":var0", ":var3"),
        (assign, ":var3", 0),
      (try_end),
      (troop_set_slot, ":var1", 11, ":var3"),
      (lt, ":var0", 1),
    (else_try),
      (ge, ":var0", 1),
      (try_for_range_backwards, ":var4", "p_town_1_1", "p_salt_mine"),
        (ge, ":var0", 1),
        (party_slot_eq, ":var4", 7, ":var1"),
        (party_get_slot, ":var3", ":var4", 47),
        (try_begin),
          (gt, ":var3", 0),
          (ge, ":var3", ":var0"),
          (val_sub, ":var3", ":var0"),
          (assign, ":var0", 0),
        (else_try),
          (gt, ":var3", 0),
          (val_sub, ":var0", ":var3"),
          (assign, ":var3", 0),
        (try_end),
        (party_set_slot, ":var4", 47, ":var3"),
        (ge, ":var0", 1),
        (party_get_slot, ":var3", ":var4", 48),
        (try_begin),
          (gt, ":var3", 0),
          (ge, ":var3", ":var0"),
          (val_sub, ":var3", ":var0"),
          (assign, ":var0", 0),
        (else_try),
          (gt, ":var3", 0),
          (val_sub, ":var0", ":var3"),
          (assign, ":var3", 0),
        (try_end),
        (party_set_slot, ":var4", 48, ":var3"),
      (try_end),
      (lt, ":var0", 1),
    (else_try),
      (ge, ":var0", 1),
      (try_for_range_backwards, ":var4", "p_town_1_1", "p_salt_mine"),
        (ge, ":var0", 1),
        (party_slot_eq, ":var4", 7, ":var1"),
        (party_get_slot, ":var3", ":var4", 49),
        (ge, ":var3", 1),
        (try_begin),
          (ge, ":var3", ":var0"),
          (val_sub, ":var3", ":var0"),
          (assign, ":var0", 0),
        (else_try),
          (val_sub, ":var0", ":var3"),
          (assign, ":var3", 0),
        (try_end),
        (party_set_slot, ":var4", 49, ":var3"),
      (try_end),
      (lt, ":var0", 1),
    (else_try),
      (store_troop_gold, ":var3", ":var1"),
      (gt, ":var3", 0),
      (try_begin),
        (ge, ":var3", ":var0"),
        (troop_remove_gold, ":var1", ":var0"),
        (assign, ":var0", 0),
      (else_try),
        (troop_remove_gold, ":var1", ":var3"),
        (val_sub, ":var0", ":var3"),
      (try_end),
    (try_end),
  ]),

  ("trade_with_travelling_merchant",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", "$g_talk_troop"),
    (try_begin),
      (eq, ":var0", 1),
      (call_script, "script_copy_inventory", ":var1", "trp_temp_troop"),
      (call_script, "script_merchant_inventory_from_party_slot", ":var1", "$g_encountered_party"),
      (store_troop_gold, ":var2", ":var1"),
      (troop_remove_gold, ":var1", ":var2"),
      (party_get_slot, ":var3", "$g_encountered_party", 49),
      (troop_add_gold, ":var1", ":var3"),
      (try_for_range, ":var4", 0, 9),
        (agent_get_item_slot, ":var5", "$g_talk_agent", ":var4"),
        (gt, ":var5", 0),
        (troop_remove_item, "$g_talk_troop", ":var5"),
      (try_end),
      (store_script_param_2, reg60),
      (change_screen_trade),
    (else_try),
      (eq, ":var0", 2),
      (call_script, "script_merchant_inventory_to_party_slot", ":var1", "$g_encountered_party"),
      (party_get_slot, ":var3", "$g_encountered_party", 49),
      (store_troop_gold, ":var2", ":var1"),
      (party_set_slot, "$g_encountered_party", 49, ":var2"),
      (troop_remove_gold, ":var1", ":var2"),
      (try_begin),
        (lt, reg60, 4),
        (troop_slot_ge, "trp_player", 7, 200),
        (val_sub, ":var3", ":var2"),
        (val_abs, ":var3"),
        (val_div, ":var3", 100),
        (gt, ":var3", 0),
        (store_random_in_range, ":var6", 0, 3),
        (gt, ":var6", 0),
        (val_mul, ":var6", ":var3"),
        (call_script, "script_change_player_relation_with_center", "$g_encountered_party", ":var6"),
      (try_end),
      (call_script, "script_copy_inventory", "trp_temp_troop", ":var1"),
      (assign, reg60, 0),
    (try_end),
  ]),

  ("merchant_inventory_from_party_slot",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (troop_clear_inventory, ":var0"),
    (party_get_slot, ":var2", ":var1", 470),
    (val_add, ":var2", 1),
    (troop_ensure_inventory_space, ":var0", ":var2"),
    (try_for_range, ":var3", 1, ":var2"),
      (store_add, ":var4", 470, ":var3"),
      (party_slot_ge, ":var1", ":var4", 1),
      (party_get_slot, ":var5", ":var1", ":var4"),
      (troop_add_item, ":var0", ":var5"),
      (party_set_slot, ":var1", ":var4", 0),
    (try_end),
    (troop_sort_inventory, ":var0"),
  ]),

  ("refresh_travelling_merchant_inventory",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", reg1),
    (party_get_slot, ":var2", ":var0", 126),
    (assign, ":var3", "trp_temp_troop"),
    (val_div, ":var1", 2),
    (party_get_slot, ":var4", ":var0", 470),
    (val_mul, ":var1", ":var4"),
    (val_div, ":var1", 8),
    (call_script, "script_merchant_inventory_from_party_slot", ":var3", ":var0"),
    (troop_clear_inventory, ":var3"),
    (reset_item_probabilities, 0),
    (store_sub, ":var5", 310, "itm_spice"),
    (try_for_range, ":var6", "itm_spice", "itm_siege_supply"),
      (call_script, "script_center_get_production", ":var2", ":var6"),
      (assign, ":var7", reg0),
      (call_script, "script_center_get_consumption", ":var2", ":var6"),
      (val_add, ":var7", reg0),
      (try_begin),
        (this_or_next|eq, ":var6", "itm_cattle_meat"),
        (this_or_next|eq, ":var6", "itm_chicken"),
        (eq, ":var6", "itm_pork"),
        (assign, ":var7", 0),
      (try_end),
      (val_mul, ":var7", 3),
      (store_add, ":var8", ":var6", ":var5"),
      (party_get_slot, ":var9", ":var0", ":var8"),
      (val_mul, ":var7", 1000),
      (val_div, ":var7", ":var9"),
      (val_mul, ":var7", 1000),
      (val_div, ":var7", ":var9"),
      (val_mul, ":var7", 1000),
      (val_div, ":var7", ":var9"),
      (val_mul, ":var7", 1000),
      (val_div, ":var7", ":var9"),
      (set_item_probability_in_merchandise, ":var6", ":var7"),
    (try_end),
    (store_random_in_range, ":var10", 6, 12),
    (try_begin),
      (party_get_slot, ":var11", ":var0", 50),
      (store_div, ":var12", ":var11", 10),
      (val_add, ":var10", ":var12"),
    (try_end),
    (troop_add_merchandise, ":var3", itp_type_goods, ":var10"),
    (troop_ensure_inventory_space, ":var3", ":var10"),
    (troop_sort_inventory, ":var3"),
    (call_script, "script_merchant_inventory_to_party_slot", ":var3", ":var0"),
    (party_get_slot, ":var13", ":var0", 49),
    (val_add, ":var13", ":var1"),
    (store_sub, ":var14", ":var13", 1000),
    (try_begin),
      (gt, ":var14", 1000),
      (store_mod, ":var15", ":var14", 500),
      (val_sub, ":var13", ":var14"),
      (val_add, ":var13", ":var15"),
      (val_div, ":var14", 500),
      (try_begin),
        (val_add, ":var11", ":var14"),
        (val_clamp, ":var11", 0, 101),
      (try_end),
    (try_end),
    (party_set_slot, ":var0", 49, ":var13"),
    (party_set_slot, ":var0", 50, ":var11"),
  ]),

  ("dplmc_center_point_calc",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_script_param, ":var3", 4),
    (val_clamp, ":var3", 2, 5),
    (assign, ":var4", 0),
    (assign, ":var5", 0),
    (assign, ":var6", 0),
    (assign, ":var7", 0),
    (assign, ":var8", 0),
    (assign, ":var9", ":var0"),
    (try_begin),
      (this_or_next|eq, ":var0", "$players_kingdom"),
      (eq, ":var0", "fac_player_supporters_faction"),
      (val_add, ":var8", 1),
      (troop_get_slot, ":var7", "trp_player", 7),
      (assign, ":var9", "fac_player_supporters_faction"),
      (eq, ":var0", "fac_player_supporters_faction"),
      (assign, ":var9", "$players_kingdom"),
    (try_end),
    (try_for_range, ":var10", "trp_npc1", "trp_heroes_end"),
      (troop_slot_eq, ":var10", 166, 1),
      (troop_slot_eq, ":var10", 2, 2),
      (neq, ":var10", "trp_kingdom_heroes_including_player_begin"),
      (store_faction_of_troop, ":var11", ":var10"),
      (this_or_next|eq, ":var11", ":var0"),
      (eq, ":var11", ":var9"),
      (val_add, ":var8", 1),
      (troop_get_slot, ":var12", ":var10", 7),
      (val_max, ":var12", 0),
      (val_add, ":var7", ":var12"),
    (try_end),
    (try_for_parties, ":var13"),
      (assign, ":var14", 0),
      (try_begin),
        (this_or_next|is_between, ":var13", "p_town_1_1", "p_castle_1_1"),
        (party_slot_eq, ":var13", 0, 3),
        (assign, ":var14", ":var3"),
      (else_try),
        (this_or_next|is_between, ":var13", "p_castle_1_1", "p_village_1_1"),
        (party_slot_eq, ":var13", 0, 2),
        (assign, ":var14", 2),
      (else_try),
        (this_or_next|is_between, ":var13", "p_village_1_1", "p_salt_mine"),
        (party_slot_eq, ":var13", 0, 4),
      (try_end),
      (ge, ":var14", 1),
      (try_begin),
        (party_slot_eq, ":var13", 7, ":var1"),
        (val_add, ":var5", ":var14"),
      (try_end),
      (try_begin),
        (party_slot_eq, ":var13", 7, ":var2"),
        (val_add, ":var6", ":var14"),
      (try_end),
      (store_faction_of_party, ":var11", ":var13"),
      (this_or_next|eq, ":var11", ":var0"),
      (eq, ":var11", ":var9"),
      (val_add, ":var4", ":var14"),
    (try_end),
    (assign, reg0, 0),
    (try_begin),
      (neq, ":var4", 0),
      (store_div, reg0, ":var7", ":var4"),
    (try_end),
    (assign, reg1, ":var5"),
    (assign, reg2, ":var6"),
    (assign, reg3, 0),
    (try_begin),
      (neq, ":var8", 0),
      (store_div, reg0, ":var7", ":var8"),
    (try_end),
  ]),

  ("dplmc_get_troop_morality_value",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, reg0, 0),
    (try_begin),
      (neg|is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
    (else_try),
      (troop_slot_eq, ":var0", 62, ":var1"),
      (troop_get_slot, reg0, ":var0", 63),
    (else_try),
      (troop_slot_eq, ":var0", 64, ":var1"),
      (troop_get_slot, reg0, ":var0", 66),
    (try_end),
  ]),

  ("merchant_inventory_to_party_slot",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", 0),
    (troop_get_inventory_capacity, ":var3", ":var0"),
    (try_for_range, ":var4", 0, ":var3"),
      (troop_get_inventory_slot, ":var5", ":var0", ":var4"),
      (gt, ":var5", 0),
      (item_get_type, ":var6", ":var5"),
      (eq, ":var6", 11),
      (val_add, ":var2", 1),
      (store_add, ":var7", ":var3", 1),
      (try_for_range, ":var8", 1, ":var7"),
        (store_add, ":var9", 470, ":var8"),
        (party_slot_eq, ":var1", ":var9", 0),
        (party_set_slot, ":var1", ":var9", ":var5"),
        (assign, ":var7", 0),
      (try_end),
    (try_end),
    (party_set_slot, ":var1", 470, ":var2"),
    (troop_clear_inventory, ":var0"),
  ]),

  ("troop_set_title_according_to_culture_language",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (str_clear, s0),
    (str_clear, s1),
    (str_clear, s2),
    (str_clear, s5),
    (try_begin),
      (is_between, ":var1", "fac_culture_finnish", "fac_player_faction"),
      (neq, ":var1", "fac_culture_western"),
      (str_store_troop_name_plural, s0, ":var0"),
      (store_sub, ":var3", ":var1", "fac_culture_finnish"),
      (try_begin),
        (val_add, ":var3", "str_ee_culture_title_finnish"),
      (try_end),
    (else_try),
      (is_between, ":var2", 0, 28),
      (eq, ":var1", "fac_culture_western"),
      (str_store_troop_name_plural, s0, ":var0"),
      (store_sub, ":var3", ":var2", 0),
      (try_begin),
        (val_add, ":var3", "str_ee_language_title_finnish"),
      (try_end),
    (try_end),
    (str_store_string, s1, ":var3"),
    (troop_set_name, ":var0", s1),
    (troop_get_slot, ":var4", ":var0", 10),
    (gt, ":var4", -1),
    (str_store_troop_name, s5, ":var0"),
    (party_set_name, ":var4", "str_s5_s_party"),
  ]),

  ("troop_set_title_according_to_culture_language_king",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (str_clear, s0),
    (str_clear, s1),
    (str_clear, s2),
    (str_clear, s3),
    (str_clear, s5),
    (try_begin),
      (is_between, ":var1", "fac_culture_finnish", "fac_player_faction"),
      (neq, ":var1", "fac_culture_western"),
      (str_store_troop_name_plural, s0, ":var0"),
      (troop_get_type, ":var3", ":var0"),
      (store_sub, ":var4", ":var1", "fac_culture_finnish"),
      (try_begin),
        (eq, ":var3", 0),
        (val_add, ":var4", "str_ee_culture_title_king_finnish"),
      (else_try),
        (val_add, ":var4", "str_ee_culture_title_female_finnish"),
      (try_end),
    (else_try),
      (is_between, ":var2", 0, 28),
      (eq, ":var1", "fac_culture_western"),
      (str_store_troop_name_plural, s0, ":var0"),
      (troop_get_type, ":var3", ":var0"),
      (store_sub, ":var4", ":var2", 0),
      (try_begin),
        (eq, ":var3", 0),
        (val_add, ":var4", "str_ee_language_title_king_finnish"),
      (else_try),
        (val_add, ":var4", "str_ee_language_title_female_finnish"),
      (try_end),
    (try_end),
    (str_store_string, s1, ":var4"),
    (troop_set_name, ":var0", s1),
    (troop_get_slot, ":var5", ":var0", 10),
    (gt, ":var5", -1),
    (str_store_troop_name_plural, s5, ":var0"),
    (party_set_name, ":var5", "str_s5_s_party"),
  ]),

  ("sort_party_by_troop_level",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_get_num_companion_stacks, ":var2", ":var0"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 11),
      (try_for_range, ":var3", 0, ":var2"),
        (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
        (eq, ":var4", "trp_caravan_master"),
        (party_stack_get_size, ":var5", ":var0", ":var3"),
        (party_remove_members, ":var0", "trp_caravan_master", ":var5"),
        (party_add_leader, ":var0", "trp_caravan_master", ":var5"),
        (assign, ":var3", 0),
        (assign, ":var1", 1),
      (try_end),
    (try_end),
    (try_begin),
      (gt, ":var2", ":var1"),
      (assign, ":var6", ":var2"),
      (store_sub, ":var7", ":var2", ":var1"),
      (try_for_range, ":var8", 0, ":var7"),
        (assign, ":var9", -1),
        (assign, ":var10", -1),
        (try_for_range, ":var3", ":var1", ":var6"),
          (party_stack_get_troop_id, ":var4", ":var0", ":var3"),
          (store_character_level, ":var11", ":var4"),
          (val_mul, ":var11", 10),
          (try_begin),
            (troop_is_guarantee_horse, ":var4"),
            (troop_is_guarantee_ranged, ":var4"),
            (val_add, ":var11", 2),
          (else_try),
            (troop_is_guarantee_horse, ":var4"),
            (val_add, ":var11", 3),
          (else_try),
            (troop_is_guarantee_ranged, ":var4"),
            (val_add, ":var11", 0),
          (else_try),
            (val_add, ":var11", 1),
          (try_end),
          (gt, ":var11", ":var10"),
          (assign, ":var10", ":var11"),
          (assign, ":var9", ":var3"),
        (try_end),
        (try_begin),
          (gt, ":var10", -1),
          (party_stack_get_troop_id, ":var12", ":var0", ":var9"),
          (party_stack_get_size, ":var5", ":var0", ":var9"),
          (party_stack_get_num_wounded, ":var13", ":var0", ":var9"),
          (party_remove_members, ":var0", ":var12", ":var5"),
          (party_add_members, ":var0", ":var12", ":var5"),
          (party_wound_members, ":var0", ":var12", ":var13"),
          (val_sub, ":var6", 1),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("sort_prisoners_by_troop_level",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_get_num_prisoner_stacks, ":var2", ":var0"),
    (try_begin),
      (gt, ":var2", ":var1"),
      (assign, ":var3", ":var2"),
      (store_sub, ":var4", ":var2", ":var1"),
      (try_for_range_backwards, ":var5", 0, ":var4"),
        (assign, ":var6", -1),
        (assign, ":var7", -1),
        (try_for_range, ":var8", ":var1", ":var3"),
          (party_prisoner_stack_get_troop_id, ":var9", ":var0", ":var8"),
          (store_character_level, ":var10", ":var9"),
          (gt, ":var10", ":var7"),
          (assign, ":var7", ":var10"),
          (assign, ":var6", ":var8"),
        (try_end),
        (try_begin),
          (gt, ":var7", -1),
          (party_prisoner_stack_get_troop_id, ":var11", ":var0", ":var6"),
          (party_prisoner_stack_get_size, ":var12", ":var0", ":var6"),
          (party_remove_prisoners, ":var0", ":var11", ":var12"),
          (party_add_prisoners, ":var0", ":var11", ":var12"),
          (val_sub, ":var3", 1),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("siege_rot_belfry_platform",
  [
    (try_begin),
      (scene_prop_get_instance, ":var0", "spr_belfry_platform_a", 0),
      (prop_instance_get_position, pos1, ":var0"),
      (position_rotate_x, pos1, -90),
      (prop_instance_animate_to_position, ":var0", pos1, 400),
      (assign, "$belfry_positioned", 3),
    (try_end),
  ]),

  ("rearrange_inventory",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_inventory_capacity, ":var2", ":var0"),
    (try_begin),
      (eq, ":var1", 0),
      (try_for_range, ":var3", 11, ":var2"),
        (troop_get_inventory_slot, ":var4", ":var0", ":var3"),
        (gt, ":var4", 0),
        (troop_get_inventory_slot_modifier, ":var5", ":var0", ":var3"),
        (troop_inventory_slot_get_item_amount, ":var6", ":var0", ":var3"),
        (assign, ":var7", -1),
        (try_for_range_backwards, ":var8", 10, ":var3"),
          (troop_get_inventory_slot, ":var9", ":var0", ":var8"),
          (le, ":var9", 0),
          (assign, ":var7", ":var8"),
        (try_end),
        (neq, ":var7", -1),
        (troop_set_inventory_slot, ":var0", ":var7", ":var4"),
        (troop_set_inventory_slot_modifier, ":var0", ":var7", ":var5"),
        (try_begin),
          (gt, ":var6", 0),
          (troop_inventory_slot_set_item_amount, ":var0", ":var7", ":var6"),
        (try_end),
        (troop_set_inventory_slot, ":var0", ":var3", -1),
        (troop_inventory_slot_set_item_amount, ":var0", ":var3", 0),
      (try_end),
    (else_try),
      (eq, ":var1", 1),
      (troop_sort_inventory, ":var0"),
    (else_try),
      (eq, ":var1", 2),
      (assign, ":var10", 0),
      (troop_set_slot, "trp_temp_array_a", 0, 11),
      (troop_set_slot, "trp_temp_array_a", 1, 20),
      (troop_set_slot, "trp_temp_array_a", 2, 1),
      (troop_set_slot, "trp_temp_array_a", 3, 12),
      (troop_set_slot, "trp_temp_array_a", 4, 13),
      (troop_set_slot, "trp_temp_array_a", 5, 14),
      (troop_set_slot, "trp_temp_array_a", 6, 15),
      (troop_set_slot, "trp_temp_array_a", 7, 2),
      (troop_set_slot, "trp_temp_array_a", 8, 3),
      (troop_set_slot, "trp_temp_array_a", 9, 4),
      (troop_set_slot, "trp_temp_array_a", 10, 8),
      (troop_set_slot, "trp_temp_array_a", 11, 9),
      (troop_set_slot, "trp_temp_array_a", 12, 10),
      (troop_set_slot, "trp_temp_array_a", 13, 5),
      (troop_set_slot, "trp_temp_array_a", 14, 6),
      (troop_set_slot, "trp_temp_array_a", 15, 7),
      (troop_set_slot, "trp_temp_array_a", 16, 16),
      (troop_set_slot, "trp_temp_array_a", 17, 17),
      (troop_set_slot, "trp_temp_array_a", 18, 18),
      (troop_set_slot, "trp_temp_array_a", 19, 19),
      (call_script, "script_clear_inventory", "trp_temp_array_a"),
      (troop_sort_inventory, ":var0"),
      (try_for_range, ":var11", 0, 20),
        (try_for_range, ":var3", 10, ":var2"),
          (troop_get_inventory_slot, ":var4", ":var0", ":var3"),
          (gt, ":var4", 0),
          (item_get_type, ":var12", ":var4"),
          (troop_slot_eq, "trp_temp_array_a", ":var11", ":var12"),
          (troop_inventory_slot_get_item_amount, ":var6", ":var0", ":var3"),
          (troop_get_inventory_slot_modifier, ":var5", ":var0", ":var3"),
          (troop_set_inventory_slot, "trp_temp_array_a", ":var10", ":var4"),
          (troop_set_inventory_slot_modifier, "trp_temp_array_a", ":var10", ":var5"),
          (try_begin),
            (gt, ":var6", 0),
            (troop_inventory_slot_set_item_amount, "trp_temp_array_a", ":var10", ":var6"),
          (try_end),
          (val_add, ":var10", 1),
        (try_end),
      (try_end),
      (troop_clear_inventory, ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (troop_get_inventory_slot, ":var4", "trp_temp_array_a", ":var3"),
        (troop_get_inventory_slot_modifier, ":var5", "trp_temp_array_a", ":var3"),
        (troop_inventory_slot_get_item_amount, ":var6", "trp_temp_array_a", ":var3"),
        (val_add, ":var3", 10),
        (troop_set_inventory_slot, ":var0", ":var3", ":var4"),
        (troop_set_inventory_slot_modifier, ":var0", ":var3", ":var5"),
        (try_begin),
          (gt, ":var6", 0),
          (troop_inventory_slot_set_item_amount, ":var0", ":var3", ":var6"),
        (try_end),
        (try_begin),
          (le, ":var4", 0),
          (assign, ":var2", 0),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("clear_inventory",
  [
    (store_script_param_1, ":var0"),
    (troop_clear_inventory, ":var0"),
    (try_for_range, ":var1", 0, 10),
      (troop_set_inventory_slot, ":var0", ":var1", -1),
    (try_end),
  ]),

  ("initialize_faction_stats_player",
  [
    (store_script_param, ":var0", 1),
    (faction_set_slot, "fac_player_supporters_faction", 250, ":var0"),
    (faction_get_color, ":var1", ":var0"),
    (faction_set_color, "fac_player_supporters_faction", ":var1"),
    (faction_get_slot, ":var2", ":var0", 10),
    (faction_set_slot, "fac_player_supporters_faction", 10, ":var2"),
    (assign, "$g_player_culture", ":var2"),
    (faction_set_slot, "fac_player_faction", 10, ":var2"),
    (faction_get_slot, ":var3", ":var0", 102),
    (faction_set_slot, "fac_player_supporters_faction", 102, ":var3"),
    (faction_get_slot, ":var4", ":var0", 135),
    (faction_set_slot, "fac_player_supporters_faction", 135, ":var4"),
    (faction_set_slot, "fac_player_faction", 135, ":var4"),
  ]),

  ("remove_dead_lord_from_game",
  [
    (store_script_param, ":var0", 1),
    (try_begin),
      (troop_get_slot, ":var1", ":var0", 10),
      (gt, ":var1", 0),
      (party_is_active, ":var1"),
      (try_begin),
        (party_get_num_companions, ":var2", ":var1"),
        (gt, ":var2", 0),
        (assign, ":var3", "p_village_1_1"),
        (try_for_range, ":var4", "p_town_1_1", ":var3"),
          (party_get_slot, ":var5", ":var4", 7),
          (eq, ":var5", ":var0"),
          (party_get_num_companion_stacks, ":var6", ":var1"),
          (gt, ":var6", 1),
          (try_for_range, ":var7", 0, ":var6"),
            (party_stack_get_troop_id, ":var8", ":var1", ":var7"),
            (party_stack_get_size, ":var9", ":var1", ":var7"),
            (val_mul, ":var9", 100),
            (store_random_in_range, ":var10", 150, 201),
            (val_div, ":var9", ":var10"),
            (party_add_members, ":var4", ":var8", ":var9"),
            (assign, ":var3", -1),
          (try_end),
        (try_end),
      (else_try),
        (party_get_num_companions, ":var2", ":var1"),
        (gt, ":var2", 0),
        (party_get_attached_to, ":var11", ":var1"),
        (is_between, ":var11", "p_town_1_1", "p_village_1_1"),
        (party_get_num_companion_stacks, ":var6", ":var1"),
        (gt, ":var6", 1),
        (try_for_range, ":var7", 0, ":var6"),
          (party_stack_get_troop_id, ":var8", ":var1", ":var7"),
          (party_stack_get_size, ":var9", ":var1", ":var7"),
          (val_mul, ":var9", 100),
          (store_random_in_range, ":var10", 300, 351),
          (val_div, ":var9", ":var10"),
          (party_add_members, ":var11", ":var8", ":var9"),
        (try_end),
      (try_end),
      (remove_party, ":var1"),
    (try_end),
  ]),

  ("give_center_to_lord_plus_villages",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (party_set_slot, ":var0", 287, 0),
    (try_begin),
      (party_slot_eq, ":var0", 39, "trp_peasant_woman"),
      (party_set_slot, ":var0", 39, 0),
    (try_end),
    (try_begin),
      (ge, ":var1", 0),
      (str_store_party_name_link, s4, ":var0"),
      (str_store_troop_name_link, s5, ":var1"),
      (store_faction_of_troop, ":var3", ":var1"),
      (try_begin),
        (eq, ":var3", "fac_player_faction"),
        (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (assign, ":var3", "$players_kingdom"),
      (try_end),
      (str_store_faction_name_link, s7, ":var3"),
      (try_begin),
        (faction_slot_eq, ":var3", 11, ":var1"),
        (display_log_message, "@{s5} of the {s7} has taken ownership of {s4}."),
      (else_try),
        (display_log_message, "@{s4} has been awarded to {s5} of the {s7}."),
      (try_end),
      (try_begin),
        (neg|faction_slot_eq, ":var3", 11, ":var1"),
        (try_begin),
          (this_or_next|is_between, ":var0", "p_town_1_1", "p_castle_1_1"),
          (party_slot_eq, ":var0", 0, 3),
          (troop_get_slot, ":var4", ":var1", 7),
          (val_add, ":var4", 100),
          (troop_set_slot, ":var1", 7, ":var4"),
        (else_try),
          (this_or_next|is_between, ":var0", "p_castle_1_1", "p_village_1_1"),
          (party_slot_eq, ":var0", 0, 2),
          (troop_get_slot, ":var4", ":var1", 7),
          (val_add, ":var4", 60),
          (troop_set_slot, ":var1", 7, ":var4"),
        (else_try),
          (this_or_next|is_between, ":var0", "p_village_1_1", "p_salt_mine"),
          (party_slot_eq, ":var0", 0, 4),
          (troop_get_slot, ":var4", ":var1", 7),
          (val_add, ":var4", 30),
          (troop_set_slot, ":var1", 7, ":var4"),
        (try_end),
      (try_end),
    (else_try),
      (eq, "$cheat_mode", 1),
      (ge, ":var1", 0),
      (str_store_party_name, s4, ":var0"),
      (str_store_troop_name, s5, ":var1"),
      (display_message, "@{!}DEBUG -- {s4} awarded to {s5}"),
    (try_end),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (unlock_achievement, 50),
      (assign, ":var5", 1),
      (try_for_range, ":var6", "p_town_1_1", "p_salt_mine"),
        (neq, ":var6", ":var0"),
        (party_slot_eq, ":var6", 7, "trp_player"),
        (val_add, ":var5", 1),
      (try_end),
      (ge, ":var5", 5),
      (unlock_achievement, 51),
    (try_end),
    (party_get_slot, ":var7", ":var0", 7),
    (try_begin),
      (eq, ":var1", -1),
      (assign, ":var8", "fac_player_supporters_faction"),
      (party_set_banner_icon, ":var0", icon_player),
    (else_try),
      (eq, ":var1", "trp_player"),
      (assign, ":var8", "$players_kingdom"),
    (else_try),
      (store_faction_of_troop, ":var8", ":var1"),
    (try_end),
    (faction_get_slot, ":var9", ":var8", 11),
    (try_begin),
      (eq, ":var9", ":var7"),
      (call_script, "script_add_log_entry", 22, ":var9", ":var0", ":var1", ":var8"),
      (troop_set_slot, ":var1", 47, 0),
    (try_end),
    (try_begin),
      (eq, ":var1", -1),
      (party_set_faction, ":var0", "$players_kingdom"),
    (else_try),
      (eq, ":var1", "trp_player"),
      (gt, "$players_kingdom", 0),
      (party_set_faction, ":var0", "$players_kingdom"),
    (else_try),
      (eq, ":var1", "trp_player"),
      (neg|is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (party_set_faction, ":var0", "fac_player_supporters_faction"),
    (else_try),
      (party_set_faction, ":var0", ":var8"),
    (try_end),
    (party_set_slot, ":var0", 7, ":var1"),
    (try_begin),
      (party_slot_eq, ":var0", 0, 4),
      (party_get_slot, ":var10", ":var0", 122),
      (gt, ":var10", 0),
      (party_is_active, ":var10"),
      (store_faction_of_party, ":var11", ":var0"),
      (party_set_faction, ":var10", ":var11"),
    (try_end),
    (try_begin),
      (this_or_next|party_slot_eq, ":var0", 0, 3),
      (party_slot_eq, ":var0", 0, 2),
      (gt, ":var1", -1),
      (troop_get_slot, ":var12", ":var1", 13),
      (gt, ":var12", 0),
      (val_sub, ":var12", "spr_banner_a"),
      (val_add, ":var12", "icon_banner_01"),
      (party_set_banner_icon, ":var0", ":var12"),
    (try_end),
    (try_begin),
      (gt, ":var1", -1),
      (call_script, "script_update_troop_notes", ":var1"),
    (try_end),
    (call_script, "script_update_center_notes", ":var0"),
    (try_begin),
      (gt, ":var8", 0),
      (call_script, "script_update_faction_notes", ":var8"),
    (try_end),
    (try_begin),
      (ge, ":var7", 0),
      (call_script, "script_update_troop_notes", ":var7"),
      (store_faction_of_troop, ":var13", ":var7"),
      (call_script, "script_update_faction_notes", ":var13"),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (this_or_next|party_slot_eq, ":var0", 0, 3),
      (party_slot_eq, ":var0", 0, 2),
      (assign, ":var14", 3),
      (try_begin),
        (party_slot_eq, ":var0", 0, 3),
        (assign, ":var14", 9),
      (try_end),
      (try_for_range, ":var15", 0, ":var14"),
        (call_script, "script_cf_reinforce_party", ":var0"),
      (try_end),
      (try_for_range, ":var15", 0, 7),
        (store_mul, ":var16", 150, ":var14"),
        (store_mul, ":var17", 200, ":var14"),
        (store_random_in_range, ":var18", ":var16", ":var17"),
        (party_upgrade_with_xp, ":var0", ":var18", 0),
      (try_end),
    (try_end),
    (try_begin),
      (is_between, ":var0", "p_town_1_1", "p_village_1_1"),
      (try_for_range, ":var19", "p_village_1_1", "p_salt_mine"),
        (party_slot_eq, ":var19", 120, ":var0"),
        (call_script, "script_give_center_to_lord", ":var19", ":var1", 0),
      (try_end),
    (try_end),
  ]),

  ("change_to_diplomatic_colors",
  [
    (faction_get_color, ":var0", "fac_neutral"),
    (faction_set_color, "fac_commoners", ":var0"),
    (faction_set_color, "fac_innocents", ":var0"),
    (faction_set_color, "fac_manhunters", ":var0"),
    (faction_get_color, ":var0", "fac_outlaws"),
    (faction_set_color, "fac_deserters", ":var0"),
    (faction_set_color, "fac_peasant_rebels", ":var0"),
    (faction_set_color, "fac_crusade", ":var0"),
    (faction_get_color, ":var0", "fac_player_faction"),
    (faction_set_color, "fac_player_supporters_faction", ":var0"),
    (faction_set_color, "fac_escaped_prisoners_faction", ":var0"),
    (try_for_range, ":var1", "fac_kingdom_1", 114),
      (store_relation, ":var2", "fac_player_supporters_faction", ":var1"),
      (try_begin),
        (lt, ":var2", 0),
        (faction_get_color, ":var0", "fac_undeads"),
        (faction_set_color, ":var1", ":var0"),
      (else_try),
        (gt, ":var2", 0),
        (faction_get_color, ":var0", "fac_mountain_bandits"),
        (faction_set_color, ":var1", ":var0"),
      (else_try),
        (faction_get_color, ":var0", "fac_forest_bandits"),
        (faction_set_color, ":var1", ":var0"),
      (try_end),
    (try_end),
  ]),

  ("print_faction_lord_count",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_for_range, ":var3", "trp_knight_1_1", "trp_knight_1_1_wife"),
      (store_faction_of_troop, ":var4", ":var3"),
      (eq, ":var4", ":var0"),
      (val_add, ":var2", 1),
    (try_end),
    (str_store_faction_name, s1, ":var0"),
    (assign, reg19, ":var2"),
    (assign, reg20, ":var1"),
    (display_message, "@s1 has {reg19} lords. Line {reg20}."),
  ]),

  ("ee_get_closest_town",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", 9999999),
    (assign, reg0, -1),
    (try_for_range, ":var2", "p_town_1_1", "p_castle_1_1"),
      (store_distance_to_party_from_party, ":var3", ":var0", ":var2"),
      (lt, ":var3", ":var1"),
      (assign, ":var1", ":var3"),
      (assign, reg0, ":var2"),
    (try_end),
  ]),

  ("process_lord_death",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (faction_slot_eq, ":var1", 11, ":var0"),
      (call_script, "script_process_faction_leader_death", ":var0", ":var1"),
    (try_end),
    (try_begin),
      (neg|faction_slot_eq, ":var1", 11, ":var0"),
      (try_for_range, ":var2", "p_town_1_1", "p_salt_mine"),
        (party_slot_eq, ":var2", 7, ":var0"),
        (call_script, "script_give_center_to_faction", ":var2", ":var1"),
        (party_set_slot, ":var2", 7, -1),
      (try_end),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var3", ":var0", 30),
      (gt, ":var3", -1),
      (troop_set_slot, ":var0", 30, -1),
      (troop_set_slot, ":var3", 30, -1),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var4", ":var0", 34),
      (gt, ":var4", -1),
      (troop_set_slot, ":var0", 34, -1),
      (troop_set_slot, ":var4", 34, -1),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_freelancer_enlisted"),
      (eq, "$enlisted_lord", ":var0"),
      (store_current_day, ":var5"),
      (quest_get_slot, reg0, "qst_freelancer_enlisted", 16),
      (val_sub, ":var5", reg0),
      (val_mul, ":var5", 100),
      (val_div, ":var5", 60),
      (call_script, "script_finish_quest", "qst_freelancer_enlisted", ":var5"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_lend_companion"),
      (this_or_next|quest_slot_eq, "qst_lend_companion", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_lend_companion", 4, ":var0"),
      (quest_slot_eq, "qst_lend_companion", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_lend_companion"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_lend_surgeon"),
      (this_or_next|quest_slot_eq, "qst_lend_surgeon", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_lend_surgeon", 4, ":var0"),
      (quest_slot_eq, "qst_lend_surgeon", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_lend_surgeon"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_deliver_message"),
      (this_or_next|quest_slot_eq, "qst_deliver_message", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_deliver_message", 4, ":var0"),
      (quest_slot_eq, "qst_deliver_message", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_deliver_message"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_deliver_message_to_enemy_lord"),
      (this_or_next|quest_slot_eq, "qst_deliver_message_to_enemy_lord", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_deliver_message_to_enemy_lord", 4, ":var0"),
      (quest_slot_eq, "qst_deliver_message_to_enemy_lord", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_deliver_message_to_enemy_lord"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_raise_troops"),
      (this_or_next|quest_slot_eq, "qst_raise_troops", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_raise_troops", 4, ":var0"),
      (quest_slot_eq, "qst_raise_troops", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_raise_troops"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_collect_taxes"),
      (this_or_next|quest_slot_eq, "qst_collect_taxes", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_collect_taxes", 4, ":var0"),
      (quest_slot_eq, "qst_collect_taxes", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_collect_taxes"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_hunt_down_fugitive"),
      (this_or_next|quest_slot_eq, "qst_hunt_down_fugitive", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_hunt_down_fugitive", 4, ":var0"),
      (quest_slot_eq, "qst_hunt_down_fugitive", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_hunt_down_fugitive"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_kill_local_merchant"),
      (this_or_next|quest_slot_eq, "qst_kill_local_merchant", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_kill_local_merchant", 4, ":var0"),
      (quest_slot_eq, "qst_kill_local_merchant", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_kill_local_merchant"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_bring_back_runaway_serfs"),
      (this_or_next|quest_slot_eq, "qst_bring_back_runaway_serfs", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_bring_back_runaway_serfs", 4, ":var0"),
      (quest_slot_eq, "qst_bring_back_runaway_serfs", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_bring_back_runaway_serfs"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_follow_spy"),
      (this_or_next|quest_slot_eq, "qst_follow_spy", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_follow_spy", 4, ":var0"),
      (quest_slot_eq, "qst_follow_spy", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_follow_spy"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_capture_enemy_hero"),
      (this_or_next|quest_slot_eq, "qst_capture_enemy_hero", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_capture_enemy_hero", 4, ":var0"),
      (quest_slot_eq, "qst_capture_enemy_hero", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_capture_enemy_hero"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_collect_debt"),
      (this_or_next|quest_slot_eq, "qst_collect_debt", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_collect_debt", 4, ":var0"),
      (quest_slot_eq, "qst_collect_debt", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_collect_debt"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_capture_prisoners"),
      (this_or_next|quest_slot_eq, "qst_capture_prisoners", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_capture_prisoners", 4, ":var0"),
      (quest_slot_eq, "qst_capture_prisoners", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_capture_prisoners"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_follow_army"),
      (this_or_next|quest_slot_eq, "qst_follow_army", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_follow_army", 4, ":var0"),
      (quest_slot_eq, "qst_follow_army", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_follow_army"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_report_to_army"),
      (this_or_next|quest_slot_eq, "qst_report_to_army", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_report_to_army", 4, ":var0"),
      (quest_slot_eq, "qst_report_to_army", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_report_to_army"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_deliver_cattle_to_army"),
      (this_or_next|quest_slot_eq, "qst_deliver_cattle_to_army", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_deliver_cattle_to_army", 4, ":var0"),
      (quest_slot_eq, "qst_deliver_cattle_to_army", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_deliver_cattle_to_army"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_join_siege_with_army"),
      (this_or_next|quest_slot_eq, "qst_join_siege_with_army", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_join_siege_with_army", 4, ":var0"),
      (quest_slot_eq, "qst_join_siege_with_army", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_join_siege_with_army"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_screen_army"),
      (this_or_next|quest_slot_eq, "qst_screen_army", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_screen_army", 4, ":var0"),
      (quest_slot_eq, "qst_screen_army", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_screen_army"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_scout_waypoints"),
      (this_or_next|quest_slot_eq, "qst_scout_waypoints", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_scout_waypoints", 4, ":var0"),
      (quest_slot_eq, "qst_scout_waypoints", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_scout_waypoints"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_rescue_lord_by_replace"),
      (this_or_next|quest_slot_eq, "qst_rescue_lord_by_replace", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_rescue_lord_by_replace", 4, ":var0"),
      (quest_slot_eq, "qst_rescue_lord_by_replace", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_rescue_lord_by_replace"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_deliver_message_to_prisoner_lord"),
      (this_or_next|quest_slot_eq, "qst_deliver_message_to_prisoner_lord", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_deliver_message_to_prisoner_lord", 4, ":var0"),
      (quest_slot_eq, "qst_deliver_message_to_prisoner_lord", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_deliver_message_to_prisoner_lord"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_duel_for_lady"),
      (this_or_next|quest_slot_eq, "qst_duel_for_lady", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_duel_for_lady", 4, ":var0"),
      (quest_slot_eq, "qst_duel_for_lady", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_duel_for_lady"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_duel_courtship_rival"),
      (this_or_next|quest_slot_eq, "qst_duel_courtship_rival", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_duel_courtship_rival", 4, ":var0"),
      (quest_slot_eq, "qst_duel_courtship_rival", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_duel_courtship_rival"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_duel_avenge_insult"),
      (this_or_next|quest_slot_eq, "qst_duel_avenge_insult", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_duel_avenge_insult", 4, ":var0"),
      (quest_slot_eq, "qst_duel_avenge_insult", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_duel_avenge_insult"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_persuade_lords_to_make_peace"),
      (this_or_next|quest_slot_eq, "qst_persuade_lords_to_make_peace", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_persuade_lords_to_make_peace", 4, ":var0"),
      (quest_slot_eq, "qst_persuade_lords_to_make_peace", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_persuade_lords_to_make_peace"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_formal_marriage_proposal"),
      (this_or_next|quest_slot_eq, "qst_formal_marriage_proposal", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_formal_marriage_proposal", 4, ":var0"),
      (quest_slot_eq, "qst_formal_marriage_proposal", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_formal_marriage_proposal"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_obtain_liege_blessing"),
      (this_or_next|quest_slot_eq, "qst_obtain_liege_blessing", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_obtain_liege_blessing", 4, ":var0"),
      (quest_slot_eq, "qst_obtain_liege_blessing", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_obtain_liege_blessing"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_wed_betrothed"),
      (this_or_next|quest_slot_eq, "qst_wed_betrothed", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_wed_betrothed", 4, ":var0"),
      (quest_slot_eq, "qst_wed_betrothed", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_wed_betrothed"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_wed_betrothed_female"),
      (this_or_next|quest_slot_eq, "qst_wed_betrothed_female", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_wed_betrothed_female", 4, ":var0"),
      (quest_slot_eq, "qst_wed_betrothed_female", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_wed_betrothed_female"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_join_faction"),
      (this_or_next|quest_slot_eq, "qst_join_faction", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_join_faction", 4, ":var0"),
      (quest_slot_eq, "qst_join_faction", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_join_faction"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_resolve_dispute"),
      (this_or_next|quest_slot_eq, "qst_resolve_dispute", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_resolve_dispute", 4, ":var0"),
      (quest_slot_eq, "qst_resolve_dispute", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_resolve_dispute"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_offer_gift"),
      (this_or_next|quest_slot_eq, "qst_offer_gift", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_offer_gift", 4, ":var0"),
      (quest_slot_eq, "qst_offer_gift", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_offer_gift"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_denounce_lord"),
      (this_or_next|quest_slot_eq, "qst_denounce_lord", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_denounce_lord", 4, ":var0"),
      (quest_slot_eq, "qst_denounce_lord", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_denounce_lord"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_intrigue_against_lord"),
      (this_or_next|quest_slot_eq, "qst_intrigue_against_lord", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_intrigue_against_lord", 4, ":var0"),
      (quest_slot_eq, "qst_intrigue_against_lord", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_intrigue_against_lord"),
    (try_end),
    (try_begin),
      (check_quest_active, "qst_retaliate_for_border_incident"),
      (this_or_next|quest_slot_eq, "qst_retaliate_for_border_incident", 2, ":var0"),
      (this_or_next|quest_slot_eq, "qst_retaliate_for_border_incident", 4, ":var0"),
      (quest_slot_eq, "qst_retaliate_for_border_incident", 6, ":var0"),
      (call_script, "script_cancel_quest", "qst_retaliate_for_border_incident"),
    (try_end),
  ]),

  ("ee_set_town_troop_names",
  [
    (try_for_agents, ":var0"),
      (agent_get_entry_no, ":var1", ":var0"),
      (try_begin),
        (this_or_next|eq, ":var1", 25),
        (this_or_next|eq, ":var1", 26),
        (this_or_next|eq, ":var1", 27),
        (eq, ":var1", 28),
      (else_try),
        (eq, ":var1", 23),
      (else_try),
        (eq, ":var1", 24),
      (try_end),
    (try_end),
  ]),

  ("give_source_troop_random_weapon_to_troop",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (assign, ":var3", 25),
    (assign, ":var4", 50),
    (assign, ":var5", 75),
    (assign, ":var6", 175),
    (assign, ":var7", 200),
    (assign, ":var8", 0),
    (troop_get_inventory_capacity, ":var9", ":var1"),
    (try_for_range, ":var10", 0, ":var9"),
      (troop_get_inventory_slot, ":var11", ":var1", ":var10"),
      (troop_get_inventory_slot_modifier, ":var12", ":var1", ":var10"),
      (gt, ":var11", 0),
      (item_get_type, ":var13", ":var11"),
      (try_begin),
        (eq, ":var13", 4),
        (val_add, ":var2", 1),
        (troop_set_slot, "trp_items_array", 0, ":var2"),
        (troop_set_slot, "trp_items_array", ":var2", ":var11"),
      (else_try),
        (eq, ":var13", 2),
        (val_add, ":var3", 1),
        (troop_set_slot, "trp_items_array", 25, ":var3"),
        (troop_set_slot, "trp_items_array", ":var3", ":var11"),
      (else_try),
        (eq, ":var13", 7),
        (val_add, ":var4", 1),
        (troop_set_slot, "trp_items_array", 50, ":var4"),
        (troop_set_slot, "trp_items_array", ":var4", ":var11"),
      (else_try),
        (eq, ":var13", 3),
        (val_add, ":var5", 1),
        (troop_set_slot, "trp_items_array", 75, ":var5"),
        (troop_set_slot, "trp_items_array", ":var5", ":var11"),
      (else_try),
        (eq, ":var13", 8),
        (val_add, ":var6", 1),
        (troop_set_slot, "trp_items_array", 175, ":var6"),
        (troop_set_slot, "trp_items_array", ":var6", ":var11"),
      (else_try),
        (eq, ":var13", 9),
        (val_add, ":var7", 1),
        (troop_set_slot, "trp_items_array", 200, ":var7"),
        (troop_set_slot, "trp_items_array", ":var7", ":var11"),
      (try_end),
    (try_end),
    (store_random_in_range, ":var8", 1, 8),
    (try_begin),
      (eq, ":var8", 1),
      (troop_get_slot, ":var14", "trp_items_array", 0),
      (store_random_in_range, ":var15", 1, ":var14"),
      (troop_get_slot, ":var16", "trp_items_array", ":var15"),
      (neq, ":var16", "itm_no_item"),
      (troop_add_item, ":var0", ":var16", ":var12"),
    (try_end),
    (try_begin),
      (eq, ":var8", 2),
      (troop_get_slot, ":var14", "trp_items_array", 25),
      (store_random_in_range, ":var15", 26, ":var14"),
      (troop_get_slot, ":var16", "trp_items_array", ":var15"),
      (neq, ":var16", "itm_no_item"),
      (troop_add_item, ":var0", ":var16", ":var12"),
    (try_end),
    (try_begin),
      (eq, ":var8", 3),
      (troop_get_slot, ":var14", "trp_items_array", 50),
      (store_random_in_range, ":var15", 51, ":var14"),
      (troop_get_slot, ":var16", "trp_items_array", ":var15"),
      (neq, ":var16", "itm_no_item"),
      (troop_add_item, ":var0", ":var16", ":var12"),
    (try_end),
    (try_begin),
      (eq, ":var8", 4),
      (try_begin),
        (eq, ":var8", 5),
        (store_random_in_range, ":var17", 0, 100),
        (lt, ":var17", 65),
      (else_try),
        (troop_get_slot, ":var14", "trp_items_array", 75),
        (store_random_in_range, ":var15", 76, ":var14"),
        (troop_get_slot, ":var16", "trp_items_array", ":var15"),
        (neq, ":var16", "itm_no_item"),
        (troop_add_item, ":var0", ":var16", ":var12"),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var8", 6),
      (troop_get_slot, ":var14", "trp_items_array", 175),
      (store_random_in_range, ":var15", 176, ":var14"),
      (troop_get_slot, ":var16", "trp_items_array", ":var15"),
      (neq, ":var16", "itm_no_item"),
      (troop_add_item, ":var0", ":var16", ":var12"),
    (try_end),
    (try_begin),
      (eq, ":var8", 7),
      (troop_get_slot, ":var14", "trp_items_array", 200),
      (store_random_in_range, ":var15", 201, ":var14"),
      (troop_get_slot, ":var16", "trp_items_array", ":var15"),
      (neq, ":var16", "itm_no_item"),
      (troop_add_item, ":var0", ":var16", ":var12"),
    (try_end),
  ]),

  ("return_random_troop_from_garrison",
  [
    (store_script_param, ":var0", 1),
    (try_for_range, ":var1", "trp_farmer", "trp_town_walker_1"),
      (troop_set_slot, ":var1", 181, 0),
    (try_end),
    (assign, ":var2", -1),
    (assign, ":var3", 0),
    (try_for_range, ":var1", "trp_farmer", "trp_town_walker_1"),
      (party_count_members_of_type, ":var4", "$current_town", ":var1"),
      (ge, ":var4", ":var0"),
      (val_add, ":var3", 1),
      (troop_set_slot, ":var1", 181, ":var4"),
    (try_end),
    (store_random_in_range, ":var5", 0, ":var3"),
    (assign, ":var6", -1),
    (try_for_range, ":var1", "trp_farmer", "trp_town_walker_1"),
      (troop_slot_ge, ":var1", 181, 1),
      (val_add, ":var6", 1),
      (eq, ":var5", ":var6"),
      (assign, ":var2", ":var1"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("add_troops_back_to_garrison",
  [
    (try_for_agents, ":var0"),
      (agent_get_troop_id, ":var1", ":var0"),
      (is_between, ":var1", "trp_farmer", "trp_town_walker_1"),
      (agent_get_team, ":var2", ":var0"),
      (neq, ":var2", 0),
      (try_begin),
        (agent_is_alive, ":var0"),
        (party_add_members, "$current_town", ":var1", 1),
      (else_try),
        (agent_is_wounded, ":var0"),
        (party_add_members, "$current_town", ":var1", 1),
        (party_wound_members, "$current_town", ":var1", 1),
      (try_end),
    (try_end),
  ]),

  ("remove_troops_from_garrison",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (party_remove_members, "$current_town", ":var0", ":var1"),
  ]),

  ("add_troops_back_to_garrison_menu",
  [
    (try_begin),
      (eq, "$all_doors_locked", 0),
      (eq, "$troop_restore_offset", 1),
      (store_current_scene, ":var0"),
      (gt, ":var0", 0),
      (try_for_range, ":var1", 10, 19),
        (party_get_slot, ":var2", "$current_town", ":var1"),
        (eq, ":var0", ":var2"),
        (call_script, "script_add_troops_back_to_garrison"),
        (assign, reg1, ":var0"),
        (assign, reg2, ":var2"),
        (display_message, "@works cur scene: {reg1} other scene: {reg2}"),
      (try_end),
    (try_end),
  ]),

  ("order_lords_guard_center",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_for_range, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var2", 166, 1),
      (troop_get_slot, ":var3", ":var2", 10),
      (gt, ":var3", 0),
      (party_is_active, ":var3"),
      (store_faction_of_party, ":var4", ":var3"),
      (eq, ":var1", ":var4"),
      (store_distance_to_party_from_party, ":var5", ":var3", ":var0"),
      (lt, ":var5", 5),
      (assign, ":var6", 0),
      (try_begin),
        (party_slot_eq, ":var3", 4, 1),
        (party_slot_eq, ":var3", 5, ":var0"),
        (assign, ":var6", 1),
      (else_try),
        (party_slot_eq, ":var3", 4, 11),
        (party_get_slot, ":var7", ":var3", 5),
        (party_slot_eq, ":var7", 4, 1),
        (party_slot_eq, ":var7", 5, ":var0"),
        (assign, ":var6", 1),
      (try_end),
      (eq, ":var6", 1),
      (call_script, "script_party_set_ai_state", ":var3", 7, ":var0"),
      (party_set_flags, ":var3", pf_default_behavior, 1),
    (try_end),
  ]),

  ("init_kingdoms_marshalls",
  [
    (try_for_range, ":var0", "fac_kingdom_1", 84),
      (assign, ":var1", 0),
      (try_for_range, ":var2", "trp_knight_1_1", "trp_enhanced_rnd_lord_1"),
        (store_faction_of_troop, ":var3", ":var2"),
        (eq, ":var3", ":var0"),
        (troop_get_slot, ":var4", ":var2", 7),
        (gt, ":var4", ":var1"),
        (assign, ":var5", ":var2"),
        (assign, ":var1", ":var4"),
      (try_end),
      (gt, ":var1", 0),
      (faction_set_slot, ":var0", 8, ":var5"),
    (try_end),
  ]),

  ("get_random_name_for_lord_by_language",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (str_clear, s1),
    (str_clear, s2),
    (str_clear, s3),
    (str_clear, s4),
    (str_clear, s5),
    (assign, ":var2", 0),
    (assign, ":var3", 0),
    (try_begin),
      (faction_slot_eq, ":var0", 135, 0),
      (store_random_in_range, ":var2", "str_enhanced_name_finnish_1", "str_enhanced_name_serbian_1"),
      (str_store_string, s1, ":var2"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 1),
      (store_random_in_range, ":var2", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 2),
      (store_random_in_range, ":var2", "str_enhanced_name_serbian_1", "str_enhanced_surname_serbian_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_serbian_1", "str_enhanced_name_welsh_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 3),
      (store_random_in_range, ":var2", "str_enhanced_name_welsh_1", "str_enhanced_surname_welsh_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_welsh_1", "str_enhanced_name_german_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 4),
      (store_random_in_range, ":var2", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 5),
      (store_random_in_range, ":var2", "str_enhanced_name_balkan_1", "str_enhanced_name_rus_1"),
      (str_store_string, s1, ":var2"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 6),
      (store_random_in_range, ":var2", "str_enhanced_name_rus_1", "str_enhanced_surname_rus_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_rus_1", "str_enhanced_name_danish_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 7),
      (store_random_in_range, ":var2", "str_enhanced_name_danish_1", "str_enhanced_surname_danish_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_danish_1", "str_enhanced_name_norwegian_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 8),
      (store_random_in_range, ":var2", "str_enhanced_name_norwegian_1", "str_enhanced_surname_norwegian_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_norwegian_1", "str_enhanced_name_swedish_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 9),
      (store_random_in_range, ":var2", "str_enhanced_name_swedish_1", "str_enhanced_surname_swedish_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_swedish_1", "str_enhanced_name_baltic_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 10),
      (store_random_in_range, ":var2", "str_enhanced_name_baltic_1", "str_enhanced_name_arab_1"),
      (str_store_string, s1, ":var2"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 11),
      (store_random_in_range, ":var2", "str_enhanced_name_arab_1", "str_enhanced_surname_arab_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_arab_1", "str_enhanced_name_greek_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 12),
      (store_random_in_range, ":var2", "str_enhanced_name_greek_1", "str_enhanced_surname_greek_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_greek_1", "str_enhanced_name_spanish_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 13),
      (store_random_in_range, ":var2", "str_enhanced_name_spanish_1", "str_enhanced_surname_spanish_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_spanish_1", "str_enhanced_name_portuguese_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 14),
      (store_random_in_range, ":var2", "str_enhanced_name_portuguese_1", "str_enhanced_surname_portuguese_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_portuguese_1", "str_enhanced_name_italian_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 15),
      (store_random_in_range, ":var2", "str_enhanced_name_italian_1", "str_enhanced_surname_italian_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_italian_1", "str_enhanced_name_gaelic_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 16),
      (store_random_in_range, ":var2", "str_enhanced_name_gaelic_1", "str_enhanced_surname_gaelic_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_gaelic_1", "str_enhanced_name_armenian_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 17),
      (store_random_in_range, ":var2", "str_enhanced_name_armenian_1", "str_enhanced_surname_armenian_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_armenian_1", "str_enhanced_name_turkish_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 18),
      (store_random_in_range, ":var2", "str_enhanced_name_turkish_1", "str_enhanced_surname_turkish_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_turkish_1", "str_enhanced_name_scottish_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 19),
      (store_random_in_range, ":var2", "str_enhanced_name_scottish_1", "str_enhanced_surname_scottish_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_scottish_1", "str_enhanced_name_polish_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 22),
      (store_random_in_range, ":var2", "str_enhanced_name_hungarian_1", "str_enhanced_surname_hungarian_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_hungarian_1", "str_enhanced_name_english_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 20),
      (store_random_in_range, ":var2", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 21),
      (store_random_in_range, ":var2", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 24),
      (store_random_in_range, ":var2", "str_enhanced_name_mongolian_1", "str_enhanced_name_bohemian_1"),
      (str_store_string, s1, ":var2"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 23),
      (store_random_in_range, ":var2", "str_enhanced_name_bohemian_1", "str_enhanced_surname_bohemian_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_bohemian_1", "str_enhanced_name_cuman_1"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 26),
      (store_random_in_range, ":var2", "str_enhanced_name_cuman_1", "str_enhanced_name_custom_1"),
      (str_store_string, s1, ":var2"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 27),
      (store_random_in_range, ":var2", "str_enhanced_name_custom_1", "str_enhanced_surname_custom_1"),
      (store_random_in_range, ":var3", "str_enhanced_surname_custom_1", "str_enhanced_names_end"),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (else_try),
      (faction_slot_eq, ":var0", 135, 25),
      (call_script, "script_rand", 0, 100),
      (try_begin),
        (lt, reg0, 20),
        (store_random_in_range, ":var2", "str_enhanced_name_english_1", "str_enhanced_surname_english_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_english_1", "str_enhanced_name_french_1"),
      (else_try),
        (ge, reg0, 20),
        (lt, reg0, 40),
        (store_random_in_range, ":var2", "str_enhanced_name_french_1", "str_enhanced_surname_french_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_french_1", "str_enhanced_name_mongolian_1"),
      (else_try),
        (ge, reg0, 40),
        (lt, reg0, 60),
        (store_random_in_range, ":var2", "str_enhanced_name_german_1", "str_enhanced_surname_german_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_german_1", "str_enhanced_name_balkan_1"),
      (else_try),
        (ge, reg0, 60),
        (lt, reg0, 65),
        (store_random_in_range, ":var2", "str_enhanced_name_polish_1", "str_enhanced_surname_polish_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_polish_1", "str_enhanced_name_hungarian_1"),
      (else_try),
        (ge, reg0, 65),
        (lt, reg0, 70),
        (store_random_in_range, ":var2", "str_enhanced_name_hungarian_1", "str_enhanced_surname_hungarian_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_hungarian_1", "str_enhanced_name_english_1"),
      (else_try),
        (ge, reg0, 70),
        (lt, reg0, 75),
        (store_random_in_range, ":var2", "str_enhanced_name_bohemian_1", "str_enhanced_surname_bohemian_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_bohemian_1", "str_enhanced_name_cuman_1"),
      (else_try),
        (ge, reg0, 75),
        (lt, reg0, 80),
        (store_random_in_range, ":var2", "str_enhanced_name_danish_1", "str_enhanced_surname_danish_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_danish_1", "str_enhanced_name_norwegian_1"),
      (else_try),
        (ge, reg0, 80),
        (lt, reg0, 85),
        (store_random_in_range, ":var2", "str_enhanced_name_danish_1", "str_enhanced_surname_danish_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_danish_1", "str_enhanced_name_norwegian_1"),
      (else_try),
        (ge, reg0, 85),
        (lt, reg0, 90),
        (store_random_in_range, ":var2", "str_enhanced_name_swedish_1", "str_enhanced_surname_swedish_1"),
        (store_random_in_range, ":var3", "str_enhanced_surname_swedish_1", "str_enhanced_name_baltic_1"),
      (else_try),
        (call_script, "script_rand", 0, 100),
        (try_begin),
          (lt, reg0, 30),
          (store_random_in_range, ":var2", "str_enhanced_name_portuguese_1", "str_enhanced_surname_portuguese_1"),
          (store_random_in_range, ":var3", "str_enhanced_surname_portuguese_1", "str_enhanced_name_italian_1"),
        (else_try),
          (ge, reg0, 30),
          (store_random_in_range, ":var2", "str_enhanced_name_spanish_1", "str_enhanced_surname_spanish_1"),
          (store_random_in_range, ":var3", "str_enhanced_surname_spanish_1", "str_enhanced_name_portuguese_1"),
        (try_end),
      (try_end),
      (str_store_string, s1, ":var2"),
      (str_store_string, s2, ":var3"),
    (try_end),
    (troop_set_slot, ":var1", 167, ":var2"),
    (troop_set_slot, ":var1", 168, ":var3"),
    (faction_get_slot, ":var4", ":var0", 135),
    (call_script, "script_get_troop_title", ":var1", ":var4"),
    (troop_set_name, ":var1", s3),
    (troop_set_plural_name, ":var1", s3),
  ]),

  ("ee_set_random_face_for_hero_troop_by_culture",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (str_clear, s45),
    (try_begin),
      (this_or_next|eq, ":var1", 6),
      (this_or_next|eq, ":var1", 7),
      (this_or_next|eq, ":var1", 8),
      (this_or_next|eq, ":var1", 9),
      (this_or_next|eq, ":var1", 10),
      (this_or_next|eq, ":var1", 11),
      (this_or_next|eq, ":var1", 12),
      (this_or_next|eq, ":var1", 18),
      (this_or_next|eq, ":var1", 13),
      (this_or_next|eq, ":var1", 14),
      (this_or_next|eq, ":var1", 17),
      (this_or_next|eq, ":var1", 19),
      (this_or_next|eq, ":var1", 21),
      (this_or_next|eq, ":var1", 24),
      (this_or_next|eq, ":var1", 25),
      (this_or_next|eq, ":var1", 27),
      (this_or_next|eq, ":var1", 28),
      (this_or_next|eq, ":var1", 29),
      (this_or_next|eq, ":var1", 30),
      (this_or_next|eq, ":var1", 31),
      (this_or_next|eq, ":var1", 35),
      (this_or_next|eq, ":var1", 36),
      (this_or_next|eq, ":var1", 37),
      (this_or_next|eq, ":var1", 38),
      (this_or_next|eq, ":var1", 39),
      (eq, ":var1", 32),
      (store_random_in_range, ":var2", "str_ee_face_key_euro_1", "str_ee_face_key_muslim_1"),
      (str_store_string, s45, ":var2"),
    (else_try),
      (this_or_next|eq, ":var1", 15),
      (this_or_next|eq, ":var1", 16),
      (this_or_next|eq, ":var1", 20),
      (this_or_next|eq, ":var1", 22),
      (this_or_next|eq, ":var1", 34),
      (eq, ":var1", 23),
      (store_random_in_range, ":var2", "str_ee_face_key_muslim_1", "str_ee_face_key_asian_1"),
      (str_store_string, s45, ":var2"),
    (else_try),
      (eq, ":var1", 26),
      (store_random_in_range, ":var2", "str_ee_face_key_asian_1", "str_ee_face_key_end"),
      (str_store_string, s45, ":var2"),
    (try_end),
    (troop_set_slot, ":var0", 182, ":var2"),
    (troop_set_face_keys, ":var0", ":var2", 0),
    (troop_set_face_keys, ":var0", ":var2", 1),
  ]),

  ("ee_spawn_lord_party",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_set_faction, ":var0", ":var1"),
    (try_begin),
      (assign, ":var2", "p_village_1_1"),
      (try_for_range, ":var3", "p_town_1_1", ":var2"),
        (store_faction_of_party, ":var4", ":var3"),
        (try_begin),
          (faction_slot_eq, ":var1", 11, "trp_player"),
          (is_between, "$g_player_court", "p_town_1_1", "p_village_1_1"),
          (assign, ":var3", "$g_player_court"),
          (assign, ":var2", -1),
        (else_try),
          (eq, ":var4", ":var1"),
          (assign, ":var2", -1),
        (try_end),
        (eq, ":var2", -1),
        (call_script, "script_create_kingdom_hero_party", ":var0", ":var3"),
        (assign, ":var5", "$pout_party"),
        (party_attach_to_party, ":var5", ":var3"),
        (troop_set_slot, ":var0", 12, ":var3"),
        (party_set_faction, ":var5", ":var1"),
        (troop_set_slot, ":var0", 2, 2),
        (troop_set_slot, ":var0", 166, 1),
        (faction_get_slot, ":var6", ":var1", 77),
        (faction_get_slot, ":var7", ":var1", 78),
        (faction_get_slot, ":var8", ":var1", 79),
        (party_add_template, ":var5", ":var6"),
        (party_add_template, ":var5", ":var8"),
        (party_add_template, ":var5", ":var7"),
        (party_add_template, ":var5", ":var7"),
        (call_script, "script_troop_set_title_according_to_faction", ":var0", ":var1"),
        (call_script, "script_update_troop_notes", ":var0"),
        (troop_set_note_available, ":var0", 1),
      (try_end),
    (try_end),
  ]),

  ("ee_setup_faction_troops",
  [
    (faction_set_slot, "fac_culture_teutonic", 41, "trp_teu_village_recruit"),
    (faction_set_slot, "fac_culture_teutonic", 42, "trp_teu_town_2_1"),
    (faction_set_slot, "fac_culture_teutonic", 43, "trp_teu_town_3_1"),
    (faction_set_slot, "fac_culture_teutonic", 44, "trp_teu_horse_3"),
    (faction_set_slot, "fac_culture_teutonic", 45, "trp_teu_horse_4"),
    (faction_set_slot, "fac_culture_teutonic", 100, "trp_teu_town_1"),
    (faction_set_slot, "fac_culture_teutonic", 101, "trp_teu_horse_1"),
    (faction_set_slot, "fac_culture_teutonic", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_teutonic", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_teutonic", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_teutonic", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_teutonic", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_teutonic", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_teutonic", 48, "trp_teu_town_2_1"),
    (faction_set_slot, "fac_culture_teutonic", 49, "trp_teu_town_2_1"),
    (faction_set_slot, "fac_culture_teutonic", 50, "trp_teu_horse_2"),
    (faction_set_slot, "fac_culture_teutonic", 51, "trp_teu_town_3_1"),
    (faction_set_slot, "fac_culture_teutonic", 52, "trp_teu_town_4_1"),
    (faction_set_slot, "fac_culture_teutonic", 77, "pt_kingdom_teutonic_reinforcements_a"),
    (faction_set_slot, "fac_culture_teutonic", 78, "pt_kingdom_teutonic_reinforcements_b"),
    (faction_set_slot, "fac_culture_teutonic", 79, "pt_kingdom_teutonic_reinforcements_c"),
    (faction_set_slot, "fac_culture_teutonic", 102, 0),
    (faction_set_slot, "fac_culture_baltic", 41, "trp_balt_recruit"),
    (faction_set_slot, "fac_culture_baltic", 42, "trp_balt_footman"),
    (faction_set_slot, "fac_culture_baltic", 43, "trp_balt_jav"),
    (faction_set_slot, "fac_culture_baltic", 44, "trp_balt_veteran_jav"),
    (faction_set_slot, "fac_culture_baltic", 45, "trp_balt_medium_cavalry"),
    (faction_set_slot, "fac_culture_baltic", 100, "trp_balt_recruit_range"),
    (faction_set_slot, "fac_culture_baltic", 101, "trp_balt_noble_recruit"),
    (faction_set_slot, "fac_culture_baltic", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_baltic", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_baltic", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_baltic", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_baltic", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_baltic", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_baltic", 48, "trp_balt_footman"),
    (faction_set_slot, "fac_culture_baltic", 49, "trp_balt_footman"),
    (faction_set_slot, "fac_culture_baltic", 50, "trp_balt_mounted_skirmisher"),
    (faction_set_slot, "fac_culture_baltic", 51, "trp_balt_billman"),
    (faction_set_slot, "fac_culture_baltic", 52, "trp_balt_noble_2"),
    (faction_set_slot, "fac_culture_baltic", 77, "pt_kingdom_baltic_reinforcements_a"),
    (faction_set_slot, "fac_culture_baltic", 78, "pt_kingdom_baltic_reinforcements_b"),
    (faction_set_slot, "fac_culture_baltic", 79, "pt_kingdom_baltic_reinforcements_c"),
    (faction_set_slot, "fac_culture_baltic", 102, 3),
    (faction_set_slot, "fac_culture_mongol", 41, "trp_tatar_tribesman"),
    (faction_set_slot, "fac_culture_mongol", 42, "trp_tatar_skirmisher"),
    (faction_set_slot, "fac_culture_mongol", 43, "trp_tatar_horseman"),
    (faction_set_slot, "fac_culture_mongol", 44, "trp_tatar_horse_archer"),
    (faction_set_slot, "fac_culture_mongol", 45, "trp_tatar_veteran_horse_archer"),
    (faction_set_slot, "fac_culture_mongol", 100, "trp_tatar_tribesman"),
    (faction_set_slot, "fac_culture_mongol", 101, "trp_tatar_horseman"),
    (faction_set_slot, "fac_culture_mongol", 53, "trp_khergit_townsman"),
    (faction_set_slot, "fac_culture_mongol", 54, "trp_khergit_townswoman"),
    (faction_set_slot, "fac_culture_mongol", 55, "trp_khergit_walker_1"),
    (faction_set_slot, "fac_culture_mongol", 56, "trp_khergit_walker_2"),
    (faction_set_slot, "fac_culture_mongol", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_mongol", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_mongol", 48, "trp_tatar_skirmisher"),
    (faction_set_slot, "fac_culture_mongol", 49, "trp_tatar_skirmisher"),
    (faction_set_slot, "fac_culture_mongol", 50, "trp_tatar_horseman"),
    (faction_set_slot, "fac_culture_mongol", 51, "trp_tatar_horseman"),
    (faction_set_slot, "fac_culture_mongol", 52, "trp_tatar_heavy_lancer"),
    (faction_set_slot, "fac_culture_mongol", 77, "pt_kingdom_mongol_reinforcements_a"),
    (faction_set_slot, "fac_culture_mongol", 78, "pt_kingdom_mongol_reinforcements_b"),
    (faction_set_slot, "fac_culture_mongol", 79, "pt_kingdom_mongol_reinforcements_c"),
    (faction_set_slot, "fac_culture_mongol", 102, 4),
    (faction_set_slot, "fac_culture_nordic", 41, "trp_nordic_village_recruit"),
    (faction_set_slot, "fac_culture_nordic", 42, "trp_nordic_spearman"),
    (faction_set_slot, "fac_culture_nordic", 43, "trp_nordic_veteran_spearman"),
    (faction_set_slot, "fac_culture_nordic", 44, "trp_nordic_squire"),
    (faction_set_slot, "fac_culture_nordic", 45, "trp_nordic_knight"),
    (faction_set_slot, "fac_culture_nordic", 100, "trp_nordic_town_recruit"),
    (faction_set_slot, "fac_culture_nordic", 101, "trp_nordic_light_cavalry"),
    (faction_set_slot, "fac_culture_nordic", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_nordic", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_nordic", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_nordic", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_nordic", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_nordic", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_nordic", 48, "trp_nordic_spearman"),
    (faction_set_slot, "fac_culture_nordic", 49, "trp_nordic_spearman"),
    (faction_set_slot, "fac_culture_nordic", 50, "trp_nordic_light_cavalry"),
    (faction_set_slot, "fac_culture_nordic", 51, "trp_nordic_veteran_spearman"),
    (faction_set_slot, "fac_culture_nordic", 52, "trp_nordic_spears_sergeant"),
    (faction_set_slot, "fac_culture_nordic", 77, "pt_kingdom_nordic_reinforcements_a"),
    (faction_set_slot, "fac_culture_nordic", 78, "pt_kingdom_nordic_reinforcements_b"),
    (faction_set_slot, "fac_culture_nordic", 79, "pt_kingdom_nordic_reinforcements_c"),
    (faction_set_slot, "fac_culture_nordic", 102, 0),
    (faction_set_slot, "fac_culture_western", 41, "trp_euro_village_recruit"),
    (faction_set_slot, "fac_culture_western", 42, "trp_euro_spearman_1"),
    (faction_set_slot, "fac_culture_western", 43, "trp_euro_spearman_2"),
    (faction_set_slot, "fac_culture_western", 44, "trp_euro_horse_3"),
    (faction_set_slot, "fac_culture_western", 45, "trp_euro_horse_4"),
    (faction_set_slot, "fac_culture_western", 100, "trp_euro_town_recruit"),
    (faction_set_slot, "fac_culture_western", 101, "trp_euro_horse_1"),
    (faction_set_slot, "fac_culture_western", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_western", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_western", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_western", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_western", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_western", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_western", 48, "trp_euro_spearman_1"),
    (faction_set_slot, "fac_culture_western", 49, "trp_euro_spearman_1"),
    (faction_set_slot, "fac_culture_western", 50, "trp_euro_horse_1"),
    (faction_set_slot, "fac_culture_western", 51, "trp_euro_spearman_2"),
    (faction_set_slot, "fac_culture_western", 52, "trp_euro_spearman_3"),
    (faction_set_slot, "fac_culture_western", 77, "pt_kingdom_western_reinforcements_a"),
    (faction_set_slot, "fac_culture_western", 78, "pt_kingdom_western_reinforcements_b"),
    (faction_set_slot, "fac_culture_western", 79, "pt_kingdom_western_reinforcements_c"),
    (faction_set_slot, "fac_culture_western", 102, 0),
    (faction_set_slot, "fac_culture_scotish", 41, "trp_scottish_village_recruit"),
    (faction_set_slot, "fac_culture_scotish", 42, "trp_scottish_clansman"),
    (faction_set_slot, "fac_culture_scotish", 43, "trp_scottish_heavy_axeman"),
    (faction_set_slot, "fac_culture_scotish", 44, "trp_scottish_heavy_swordsman"),
    (faction_set_slot, "fac_culture_scotish", 45, "trp_euro_horse_4"),
    (faction_set_slot, "fac_culture_scotish", 100, "trp_euro_village_recruit"),
    (faction_set_slot, "fac_culture_scotish", 101, "trp_euro_horse_1"),
    (faction_set_slot, "fac_culture_scotish", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_scotish", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_scotish", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_scotish", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_scotish", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_scotish", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_scotish", 48, "trp_scottish_forinsec_spearman"),
    (faction_set_slot, "fac_culture_scotish", 49, "trp_scottish_forinsec_spearman"),
    (faction_set_slot, "fac_culture_scotish", 50, "trp_euro_horse_2"),
    (faction_set_slot, "fac_culture_scotish", 51, "trp_scottish_clansman"),
    (faction_set_slot, "fac_culture_scotish", 52, "trp_scottish_heavy_swordsman"),
    (faction_set_slot, "fac_culture_scotish", 77, "pt_kingdom_scot_reinforcements_a"),
    (faction_set_slot, "fac_culture_scotish", 78, "pt_kingdom_scot_reinforcements_b"),
    (faction_set_slot, "fac_culture_scotish", 79, "pt_kingdom_scot_reinforcements_c"),
    (faction_set_slot, "fac_culture_scotish", 102, 0),
    (faction_set_slot, "fac_culture_gaelic", 41, "trp_gaelic_village_recruit"),
    (faction_set_slot, "fac_culture_gaelic", 42, "trp_gaelic_village_footman"),
    (faction_set_slot, "fac_culture_gaelic", 43, "trp_gaelic_infantry_1"),
    (faction_set_slot, "fac_culture_gaelic", 44, "trp_gaelic_infantry_2"),
    (faction_set_slot, "fac_culture_gaelic", 45, "trp_gaelic_knight"),
    (faction_set_slot, "fac_culture_gaelic", 100, "trp_gaelic_infantry_recruit"),
    (faction_set_slot, "fac_culture_gaelic", 101, "trp_gaelic_light_cavalry"),
    (faction_set_slot, "fac_culture_gaelic", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_gaelic", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_gaelic", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_gaelic", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_gaelic", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_gaelic", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_gaelic", 48, "trp_gaelic_village_footman"),
    (faction_set_slot, "fac_culture_gaelic", 49, "trp_gaelic_village_footman"),
    (faction_set_slot, "fac_culture_gaelic", 50, "trp_gaelic_light_cavalry"),
    (faction_set_slot, "fac_culture_gaelic", 51, "trp_gaelic_infantry_1"),
    (faction_set_slot, "fac_culture_gaelic", 52, "trp_gaelic_knight"),
    (faction_set_slot, "fac_culture_gaelic", 77, "pt_kingdom_gaelic_reinforcements_a"),
    (faction_set_slot, "fac_culture_gaelic", 78, "pt_kingdom_gaelic_reinforcements_b"),
    (faction_set_slot, "fac_culture_gaelic", 79, "pt_kingdom_gaelic_reinforcements_c"),
    (faction_set_slot, "fac_culture_gaelic", 102, 0),
    (faction_set_slot, "fac_culture_rus", 41, "trp_rus_vil_1"),
    (faction_set_slot, "fac_culture_rus", 42, "trp_rus_vil_2_1"),
    (faction_set_slot, "fac_culture_rus", 43, "trp_rus_town_3_2"),
    (faction_set_slot, "fac_culture_rus", 44, "trp_rus_town_4_2"),
    (faction_set_slot, "fac_culture_rus", 45, "trp_rus_horse_4"),
    (faction_set_slot, "fac_culture_rus", 100, "trp_rus_town_1"),
    (faction_set_slot, "fac_culture_rus", 101, "trp_rus_horse_1"),
    (faction_set_slot, "fac_culture_rus", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_rus", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_rus", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_rus", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_rus", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_rus", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_rus", 48, "trp_rus_town_1"),
    (faction_set_slot, "fac_culture_rus", 49, "trp_rus_town_2"),
    (faction_set_slot, "fac_culture_rus", 50, "trp_rus_horse_2"),
    (faction_set_slot, "fac_culture_rus", 51, "trp_rus_town_3_2"),
    (faction_set_slot, "fac_culture_rus", 52, "trp_rus_town_4_2"),
    (faction_set_slot, "fac_culture_rus", 77, "pt_kingdom_rus_reinforcements_a"),
    (faction_set_slot, "fac_culture_rus", 78, "pt_kingdom_rus_reinforcements_b"),
    (faction_set_slot, "fac_culture_rus", 79, "pt_kingdom_rus_reinforcements_c"),
    (faction_set_slot, "fac_culture_rus", 102, 1),
    (faction_set_slot, "fac_culture_iberian", 41, "trp_iberian_village_recruit"),
    (faction_set_slot, "fac_culture_iberian", 42, "trp_iberian_village_footman"),
    (faction_set_slot, "fac_culture_iberian", 43, "trp_iberian_veteran_spearman"),
    (faction_set_slot, "fac_culture_iberian", 44, "trp_iberian_spears_sergeant"),
    (faction_set_slot, "fac_culture_iberian", 45, "trp_iberian_knight"),
    (faction_set_slot, "fac_culture_iberian", 100, "trp_iberian_town_recruit"),
    (faction_set_slot, "fac_culture_iberian", 101, "trp_iberian_light_cavalry"),
    (faction_set_slot, "fac_culture_iberian", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_iberian", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_iberian", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_iberian", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_iberian", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_iberian", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_iberian", 48, "trp_iberian_town_footman_1"),
    (faction_set_slot, "fac_culture_iberian", 49, "trp_iberian_veteran_spearman"),
    (faction_set_slot, "fac_culture_iberian", 50, "trp_iberian_medium_cavalry"),
    (faction_set_slot, "fac_culture_iberian", 51, "trp_iberian_veteran_spearman"),
    (faction_set_slot, "fac_culture_iberian", 52, "trp_iberian_spears_sergeant"),
    (faction_set_slot, "fac_culture_iberian", 77, "pt_kingdom_iberain_reinforcements_a"),
    (faction_set_slot, "fac_culture_iberian", 78, "pt_kingdom_iberain_reinforcements_b"),
    (faction_set_slot, "fac_culture_iberian", 79, "pt_kingdom_iberain_reinforcements_c"),
    (faction_set_slot, "fac_culture_iberian", 102, 0),
    (faction_set_slot, "fac_culture_italian", 41, "trp_italian_village_recruit"),
    (faction_set_slot, "fac_culture_italian", 42, "trp_italian_village_footman"),
    (faction_set_slot, "fac_culture_italian", 43, "trp_italian_veteran_spearman"),
    (faction_set_slot, "fac_culture_italian", 44, "trp_italian_spears_sergeant"),
    (faction_set_slot, "fac_culture_italian", 45, "trp_italian_knight"),
    (faction_set_slot, "fac_culture_italian", 100, "trp_italian_town_recruit"),
    (faction_set_slot, "fac_culture_italian", 101, "trp_italian_light_cavalry"),
    (faction_set_slot, "fac_culture_italian", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_italian", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_italian", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_italian", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_italian", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_italian", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_italian", 48, "trp_italian_town_footman_1"),
    (faction_set_slot, "fac_culture_italian", 49, "trp_italian_veteran_spearman"),
    (faction_set_slot, "fac_culture_italian", 50, "trp_italian_medium_cavalry"),
    (faction_set_slot, "fac_culture_italian", 51, "trp_italian_veteran_spearman"),
    (faction_set_slot, "fac_culture_italian", 52, "trp_italian_spears_sergeant"),
    (faction_set_slot, "fac_culture_italian", 77, "pt_kingdom_italian_reinforcements_a"),
    (faction_set_slot, "fac_culture_italian", 78, "pt_kingdom_italian_reinforcements_b"),
    (faction_set_slot, "fac_culture_italian", 79, "pt_kingdom_italian_reinforcements_c"),
    (faction_set_slot, "fac_culture_italian", 102, 0),
    (faction_set_slot, "fac_culture_andalus", 41, "trp_andalus_village_recruit"),
    (faction_set_slot, "fac_culture_andalus", 42, "trp_andalus_village_footman"),
    (faction_set_slot, "fac_culture_andalus", 43, "trp_andalus_village_infantry"),
    (faction_set_slot, "fac_culture_andalus", 44, "trp_andalus_town_xbow_3"),
    (faction_set_slot, "fac_culture_andalus", 45, "trp_andalus_horse_4"),
    (faction_set_slot, "fac_culture_andalus", 100, "trp_andalus_town_recruit"),
    (faction_set_slot, "fac_culture_andalus", 101, "trp_andalus_horse_1"),
    (faction_set_slot, "fac_culture_andalus", 53, "trp_sarranid_townsman"),
    (faction_set_slot, "fac_culture_andalus", 54, "trp_sarranid_townswoman"),
    (faction_set_slot, "fac_culture_andalus", 55, "trp_sarranid_walker_1"),
    (faction_set_slot, "fac_culture_andalus", 56, "trp_sarranid_walker_2"),
    (faction_set_slot, "fac_culture_andalus", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_andalus", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_andalus", 48, "trp_andalus_spearman_1"),
    (faction_set_slot, "fac_culture_andalus", 49, "trp_andalus_spearman_1"),
    (faction_set_slot, "fac_culture_andalus", 50, "trp_andalus_horse_2"),
    (faction_set_slot, "fac_culture_andalus", 51, "trp_andalus_spearman_2"),
    (faction_set_slot, "fac_culture_andalus", 52, "trp_andalus_horse_3"),
    (faction_set_slot, "fac_culture_andalus", 77, "pt_kingdom_andalus_reinforcements_a"),
    (faction_set_slot, "fac_culture_andalus", 78, "pt_kingdom_andalus_reinforcements_b"),
    (faction_set_slot, "fac_culture_andalus", 79, "pt_kingdom_andalus_reinforcements_c"),
    (faction_set_slot, "fac_culture_andalus", 102, 2),
    (faction_set_slot, "fac_culture_byzantium", 41, "trp_byz_village_1"),
    (faction_set_slot, "fac_culture_byzantium", 42, "trp_byz_town_2"),
    (faction_set_slot, "fac_culture_byzantium", 43, "trp_byz_town_3_1"),
    (faction_set_slot, "fac_culture_byzantium", 44, "trp_byz_castle_3"),
    (faction_set_slot, "fac_culture_byzantium", 45, "trp_byz_castle_4"),
    (faction_set_slot, "fac_culture_byzantium", 100, "trp_byz_town_1"),
    (faction_set_slot, "fac_culture_byzantium", 101, "trp_byz_castle_1"),
    (faction_set_slot, "fac_culture_byzantium", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_byzantium", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_byzantium", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_byzantium", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_byzantium", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_byzantium", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_byzantium", 48, "trp_byz_town_2"),
    (faction_set_slot, "fac_culture_byzantium", 49, "trp_byz_town_2"),
    (faction_set_slot, "fac_culture_byzantium", 50, "trp_byz_castle_1"),
    (faction_set_slot, "fac_culture_byzantium", 51, "trp_byz_town_3_1"),
    (faction_set_slot, "fac_culture_byzantium", 52, "trp_byz_castle_4"),
    (faction_set_slot, "fac_culture_byzantium", 77, "pt_kingdom_byzantium_reinforcements_a"),
    (faction_set_slot, "fac_culture_byzantium", 78, "pt_kingdom_byzantium_reinforcements_b"),
    (faction_set_slot, "fac_culture_byzantium", 79, "pt_kingdom_byzantium_reinforcements_c"),
    (faction_set_slot, "fac_culture_byzantium", 102, 1),
    (faction_set_slot, "fac_culture_mamluke", 41, "trp_bedouin_recruit"),
    (faction_set_slot, "fac_culture_mamluke", 42, "trp_halqa_archer"),
    (faction_set_slot, "fac_culture_mamluke", 43, "trp_bedouin_cavalry_1"),
    (faction_set_slot, "fac_culture_mamluke", 44, "trp_mamluk_cavalry_1"),
    (faction_set_slot, "fac_culture_mamluke", 45, "trp_ghulam_cavalry_2"),
    (faction_set_slot, "fac_culture_mamluke", 100, "trp_halqa_recruit"),
    (faction_set_slot, "fac_culture_mamluke", 101, "trp_slave_recruit"),
    (faction_set_slot, "fac_culture_mamluke", 53, "trp_sarranid_townsman"),
    (faction_set_slot, "fac_culture_mamluke", 54, "trp_sarranid_townswoman"),
    (faction_set_slot, "fac_culture_mamluke", 55, "trp_sarranid_walker_1"),
    (faction_set_slot, "fac_culture_mamluke", 56, "trp_sarranid_walker_2"),
    (faction_set_slot, "fac_culture_mamluke", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_mamluke", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_mamluke", 48, "trp_halqa_archer"),
    (faction_set_slot, "fac_culture_mamluke", 49, "trp_bedouin_javelin_1"),
    (faction_set_slot, "fac_culture_mamluke", 50, "trp_ghulam_cavalry_1"),
    (faction_set_slot, "fac_culture_mamluke", 51, "trp_halqa_cavalry_1"),
    (faction_set_slot, "fac_culture_mamluke", 52, "trp_ghulam_cavalry_3"),
    (faction_set_slot, "fac_culture_mamluke", 77, "pt_kingdom_mamluke_reinforcements_a"),
    (faction_set_slot, "fac_culture_mamluke", 78, "pt_kingdom_mamluke_reinforcements_b"),
    (faction_set_slot, "fac_culture_mamluke", 79, "pt_kingdom_mamluke_reinforcements_c"),
    (faction_set_slot, "fac_culture_mamluke", 102, 2),
    (faction_set_slot, "fac_culture_anatolian_christian", 41, "trp_anatolian_village_recruit_christ"),
    (faction_set_slot, "fac_culture_anatolian_christian", 42, "trp_anatolian_christian_spearman_1"),
    (faction_set_slot, "fac_culture_anatolian_christian", 43, "trp_anatolian_christian_spearman_2"),
    (faction_set_slot, "fac_culture_anatolian_christian", 44, "trp_anatolian_medium_cavalry"),
    (faction_set_slot, "fac_culture_anatolian_christian", 45, "trp_anatolian_heavy_cavalry"),
    (faction_set_slot, "fac_culture_anatolian_christian", 100, "trp_anatolian_town_recruit_christ"),
    (faction_set_slot, "fac_culture_anatolian_christian", 101, "trp_anatolian_castle_recruit_christ"),
    (faction_set_slot, "fac_culture_anatolian_christian", 53, "trp_sarranid_townsman"),
    (faction_set_slot, "fac_culture_anatolian_christian", 54, "trp_sarranid_townswoman"),
    (faction_set_slot, "fac_culture_anatolian_christian", 55, "trp_sarranid_walker_1"),
    (faction_set_slot, "fac_culture_anatolian_christian", 56, "trp_sarranid_walker_2"),
    (faction_set_slot, "fac_culture_anatolian_christian", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_anatolian_christian", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_anatolian_christian", 48, "trp_anatolian_christian_spearman_1"),
    (faction_set_slot, "fac_culture_anatolian_christian", 49, "trp_anatolian_christian_spearman_1"),
    (faction_set_slot, "fac_culture_anatolian_christian", 50, "trp_anatolian_christian_archer_1"),
    (faction_set_slot, "fac_culture_anatolian_christian", 51, "trp_anatolian_christian_spearman_2"),
    (faction_set_slot, "fac_culture_anatolian_christian", 52, "trp_anatolian_medium_cavalry"),
    (faction_set_slot, "fac_culture_anatolian_christian", 77, "pt_kingdom_anatolian_christian_reinforcements_a"),
    (faction_set_slot, "fac_culture_anatolian_christian", 78, "pt_kingdom_anatolian_christian_reinforcements_b"),
    (faction_set_slot, "fac_culture_anatolian_christian", 79, "pt_kingdom_anatolian_christian_reinforcements_c"),
    (faction_set_slot, "fac_culture_anatolian_christian", 102, 0),
    (faction_set_slot, "fac_culture_anatolian", 41, "trp_anatolian_village_recruit"),
    (faction_set_slot, "fac_culture_anatolian", 42, "trp_anatolian_muslim_infantry_1"),
    (faction_set_slot, "fac_culture_anatolian", 43, "trp_anatolian_muslim_infantry_2"),
    (faction_set_slot, "fac_culture_anatolian", 44, "trp_anatolian_turkoman_2"),
    (faction_set_slot, "fac_culture_anatolian", 45, "trp_anatolian_turkoman_3"),
    (faction_set_slot, "fac_culture_anatolian", 100, "trp_anatolian_town_recruit"),
    (faction_set_slot, "fac_culture_anatolian", 101, "trp_anatolian_castle_recruit"),
    (faction_set_slot, "fac_culture_anatolian", 53, "trp_sarranid_townsman"),
    (faction_set_slot, "fac_culture_anatolian", 54, "trp_sarranid_townswoman"),
    (faction_set_slot, "fac_culture_anatolian", 55, "trp_sarranid_walker_1"),
    (faction_set_slot, "fac_culture_anatolian", 56, "trp_sarranid_walker_2"),
    (faction_set_slot, "fac_culture_anatolian", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_anatolian", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_anatolian", 48, "trp_anatolian_muslim_infantry_1"),
    (faction_set_slot, "fac_culture_anatolian", 49, "trp_anatolian_muslim_infantry_1"),
    (faction_set_slot, "fac_culture_anatolian", 50, "trp_anatolian_muslim_javelineer"),
    (faction_set_slot, "fac_culture_anatolian", 51, "trp_anatolian_muslim_infantry_2"),
    (faction_set_slot, "fac_culture_anatolian", 52, "trp_anatolian_turkoman_2"),
    (faction_set_slot, "fac_culture_anatolian", 77, "pt_kingdom_anatolian_reinforcements_a"),
    (faction_set_slot, "fac_culture_anatolian", 78, "pt_kingdom_anatolian_reinforcements_a"),
    (faction_set_slot, "fac_culture_anatolian", 79, "pt_kingdom_anatolian_reinforcements_a"),
    (faction_set_slot, "fac_culture_anatolian", 102, 2),
    (faction_set_slot, "fac_culture_serbian", 41, "trp_serbian_vil_recruit"),
    (faction_set_slot, "fac_culture_serbian", 42, "trp_serbian_vil_spearman"),
    (faction_set_slot, "fac_culture_serbian", 43, "trp_serbian_vil_spearman_veteran"),
    (faction_set_slot, "fac_culture_serbian", 44, "trp_serbian_horse_3"),
    (faction_set_slot, "fac_culture_serbian", 45, "trp_serbian_horse_4"),
    (faction_set_slot, "fac_culture_serbian", 100, "trp_serbian_town_recruit"),
    (faction_set_slot, "fac_culture_serbian", 101, "trp_serbian_horse_1"),
    (faction_set_slot, "fac_culture_serbian", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_serbian", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_serbian", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_serbian", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_serbian", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_serbian", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_serbian", 48, "trp_serbian_vil_spearman"),
    (faction_set_slot, "fac_culture_serbian", 49, "trp_serbian_vil_footman"),
    (faction_set_slot, "fac_culture_serbian", 50, "trp_serbian_horse_2"),
    (faction_set_slot, "fac_culture_serbian", 51, "trp_serbian_vil_spearman"),
    (faction_set_slot, "fac_culture_serbian", 52, "trp_serbian_horse_3"),
    (faction_set_slot, "fac_culture_serbian", 77, "pt_kingdom_serbian_reinforcements_a"),
    (faction_set_slot, "fac_culture_serbian", 78, "pt_kingdom_serbian_reinforcements_b"),
    (faction_set_slot, "fac_culture_serbian", 79, "pt_kingdom_serbian_reinforcements_c"),
    (faction_set_slot, "fac_culture_serbian", 102, 1),
    (faction_set_slot, "fac_culture_balkan", 41, "trp_balkan_vil_1"),
    (faction_set_slot, "fac_culture_balkan", 42, "trp_balkan_town_2_1"),
    (faction_set_slot, "fac_culture_balkan", 43, "trp_balkan_town_3_1"),
    (faction_set_slot, "fac_culture_balkan", 44, "trp_balkan_horse_3"),
    (faction_set_slot, "fac_culture_balkan", 45, "trp_balkan_horse_4"),
    (faction_set_slot, "fac_culture_balkan", 100, "trp_balkan_town_1"),
    (faction_set_slot, "fac_culture_balkan", 101, "trp_balkan_horse_1"),
    (faction_set_slot, "fac_culture_balkan", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_balkan", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_balkan", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_balkan", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_balkan", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_balkan", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_balkan", 48, "trp_balkan_town_2_1"),
    (faction_set_slot, "fac_culture_balkan", 49, "trp_balkan_town_2_1"),
    (faction_set_slot, "fac_culture_balkan", 50, "trp_balkan_horse_2"),
    (faction_set_slot, "fac_culture_balkan", 51, "trp_balkan_town_3_1"),
    (faction_set_slot, "fac_culture_balkan", 52, "trp_balkan_horse_3"),
    (faction_set_slot, "fac_culture_balkan", 77, "pt_kingdom_balkan_reinforcements_a"),
    (faction_set_slot, "fac_culture_balkan", 78, "pt_kingdom_balkan_reinforcements_b"),
    (faction_set_slot, "fac_culture_balkan", 79, "pt_kingdom_balkan_reinforcements_c"),
    (faction_set_slot, "fac_culture_balkan", 102, 1),
    (faction_set_slot, "fac_culture_marinid", 41, "trp_marinid_village_rabble"),
    (faction_set_slot, "fac_culture_marinid", 42, "trp_marinid_skirmishers"),
    (faction_set_slot, "fac_culture_marinid", 43, "trp_marinid_javelin_infantry"),
    (faction_set_slot, "fac_culture_marinid", 44, "trp_marinid_lancer"),
    (faction_set_slot, "fac_culture_marinid", 45, "trp_marinid_mounted_skirmisher_3"),
    (faction_set_slot, "fac_culture_marinid", 100, "trp_marinid_town_recruit"),
    (faction_set_slot, "fac_culture_marinid", 101, "trp_marinid_mounted_skirmisher_1"),
    (faction_set_slot, "fac_culture_marinid", 53, "trp_sarranid_townsman"),
    (faction_set_slot, "fac_culture_marinid", 54, "trp_sarranid_townswoman"),
    (faction_set_slot, "fac_culture_marinid", 55, "trp_sarranid_walker_1"),
    (faction_set_slot, "fac_culture_marinid", 56, "trp_sarranid_walker_2"),
    (faction_set_slot, "fac_culture_marinid", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_marinid", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_marinid", 48, "trp_marinid_skirmishers"),
    (faction_set_slot, "fac_culture_marinid", 49, "trp_marinid_levy_spearman"),
    (faction_set_slot, "fac_culture_marinid", 50, "trp_marinid_mounted_skirmisher_1"),
    (faction_set_slot, "fac_culture_marinid", 51, "trp_marinid_light_spearmen"),
    (faction_set_slot, "fac_culture_marinid", 52, "trp_marinid_lancer"),
    (faction_set_slot, "fac_culture_marinid", 77, "pt_kingdom_marinid_reinforcements_a"),
    (faction_set_slot, "fac_culture_marinid", 78, "pt_kingdom_marinid_reinforcements_b"),
    (faction_set_slot, "fac_culture_marinid", 79, "pt_kingdom_marinid_reinforcements_c"),
    (faction_set_slot, "fac_culture_marinid", 102, 2),
    (faction_set_slot, "fac_culture_welsh", 41, "trp_welsh_archer_recruit"),
    (faction_set_slot, "fac_culture_welsh", 42, "trp_welsh_spearman_1"),
    (faction_set_slot, "fac_culture_welsh", 43, "trp_welsh_spearman_2"),
    (faction_set_slot, "fac_culture_welsh", 44, "trp_welsh_horse_3"),
    (faction_set_slot, "fac_culture_welsh", 45, "trp_welsh_horse_4"),
    (faction_set_slot, "fac_culture_welsh", 100, "trp_welsh_recruit"),
    (faction_set_slot, "fac_culture_welsh", 101, "trp_welsh_horse_1"),
    (faction_set_slot, "fac_culture_welsh", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_welsh", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_welsh", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_welsh", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_welsh", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_welsh", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_welsh", 48, "trp_welsh_spearman_2"),
    (faction_set_slot, "fac_culture_welsh", 49, "trp_welsh_spearman_1"),
    (faction_set_slot, "fac_culture_welsh", 50, "trp_welsh_horse_2"),
    (faction_set_slot, "fac_culture_welsh", 51, "trp_welsh_spearman_2"),
    (faction_set_slot, "fac_culture_welsh", 52, "trp_welsh_horse_4"),
    (faction_set_slot, "fac_culture_welsh", 77, "pt_kingdom_welsh_reinforcements_a"),
    (faction_set_slot, "fac_culture_welsh", 78, "pt_kingdom_welsh_reinforcements_b"),
    (faction_set_slot, "fac_culture_welsh", 79, "pt_kingdom_welsh_reinforcements_c"),
    (faction_set_slot, "fac_culture_welsh", 102, 0),
    (faction_set_slot, "fac_culture_finnish", 41, "trp_finn_village_recruit"),
    (faction_set_slot, "fac_culture_finnish", 42, "trp_finn_footman"),
    (faction_set_slot, "fac_culture_finnish", 43, "trp_finn_spearman"),
    (faction_set_slot, "fac_culture_finnish", 44, "trp_finn_skirmisher"),
    (faction_set_slot, "fac_culture_finnish", 45, "trp_finn_archer"),
    (faction_set_slot, "fac_culture_finnish", 100, "trp_finn_archer_recruit"),
    (faction_set_slot, "fac_culture_finnish", 101, "trp_finn_noble_1"),
    (faction_set_slot, "fac_culture_finnish", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_finnish", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_finnish", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_finnish", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_finnish", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_finnish", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_finnish", 48, "trp_finn_footman"),
    (faction_set_slot, "fac_culture_finnish", 49, "trp_finn_footman"),
    (faction_set_slot, "fac_culture_finnish", 50, "trp_finn_skirmisher"),
    (faction_set_slot, "fac_culture_finnish", 51, "trp_finn_spearman"),
    (faction_set_slot, "fac_culture_finnish", 52, "trp_finn_noble_3"),
    (faction_set_slot, "fac_culture_finnish", 77, "pt_kingdom_finnish_reinforcements_a"),
    (faction_set_slot, "fac_culture_finnish", 78, "pt_kingdom_finnish_reinforcements_b"),
    (faction_set_slot, "fac_culture_finnish", 79, "pt_kingdom_finnish_reinforcements_c"),
    (faction_set_slot, "fac_culture_finnish", 102, 0),
    (faction_set_slot, "fac_culture_mazovian", 41, "trp_mazovian_village_recruit"),
    (faction_set_slot, "fac_culture_mazovian", 42, "trp_mazovian_spearman_1"),
    (faction_set_slot, "fac_culture_mazovian", 43, "trp_mazovian_spearman_2"),
    (faction_set_slot, "fac_culture_mazovian", 44, "trp_mazovian_horse_3"),
    (faction_set_slot, "fac_culture_mazovian", 45, "trp_mazovian_horse_4"),
    (faction_set_slot, "fac_culture_mazovian", 100, "trp_mazovian_town_recruit"),
    (faction_set_slot, "fac_culture_mazovian", 101, "trp_mazovian_horse_1"),
    (faction_set_slot, "fac_culture_mazovian", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_mazovian", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_mazovian", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_mazovian", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_mazovian", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_mazovian", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_mazovian", 48, "trp_mazovian_spearman_1"),
    (faction_set_slot, "fac_culture_mazovian", 49, "trp_mazovian_spearman_1"),
    (faction_set_slot, "fac_culture_mazovian", 50, "trp_mazovian_archer_1"),
    (faction_set_slot, "fac_culture_mazovian", 51, "trp_mazovian_spearman_2"),
    (faction_set_slot, "fac_culture_mazovian", 52, "trp_mazovian_horse_3"),
    (faction_set_slot, "fac_culture_mazovian", 77, "pt_kingdom_mazovian_reinforcements_a"),
    (faction_set_slot, "fac_culture_mazovian", 78, "pt_kingdom_mazovian_reinforcements_b"),
    (faction_set_slot, "fac_culture_mazovian", 79, "pt_kingdom_mazovian_reinforcements_c"),
    (faction_set_slot, "fac_culture_mazovian", 102, 0),
    (faction_set_slot, "fac_culture_templar", 41, "trp_euro_village_recruit_templar"),
    (faction_set_slot, "fac_culture_templar", 42, "trp_euro_spearman_1_templar"),
    (faction_set_slot, "fac_culture_templar", 43, "trp_templar_spearman_1"),
    (faction_set_slot, "fac_culture_templar", 44, "trp_templar_half_brother"),
    (faction_set_slot, "fac_culture_templar", 45, "trp_templar_knight"),
    (faction_set_slot, "fac_culture_templar", 100, "trp_euro_town_recruit_templar"),
    (faction_set_slot, "fac_culture_templar", 101, "trp_euro_horse_1_templar"),
    (faction_set_slot, "fac_culture_templar", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_templar", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_templar", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_templar", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_templar", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_templar", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_templar", 48, "trp_euro_spearman_1_templar"),
    (faction_set_slot, "fac_culture_templar", 49, "trp_euro_spearman_1_templar"),
    (faction_set_slot, "fac_culture_templar", 50, "trp_euro_horse_2_templar"),
    (faction_set_slot, "fac_culture_templar", 51, "trp_templar_spearman_1"),
    (faction_set_slot, "fac_culture_templar", 52, "trp_templar_spearman_2"),
    (faction_set_slot, "fac_culture_templar", 77, "pt_templar_reinforcements_a"),
    (faction_set_slot, "fac_culture_templar", 78, "pt_templar_reinforcements_b"),
    (faction_set_slot, "fac_culture_templar", 79, "pt_templar_reinforcements_c"),
    (faction_set_slot, "fac_culture_templar", 102, 0),
    (faction_set_slot, "fac_culture_hospitaller", 41, "trp_euro_village_recruit_hospitaller"),
    (faction_set_slot, "fac_culture_hospitaller", 42, "trp_euro_spearman_1"),
    (faction_set_slot, "fac_culture_hospitaller", 43, "trp_hospitaller_spearman_1"),
    (faction_set_slot, "fac_culture_hospitaller", 44, "trp_hospitaller_half_brother"),
    (faction_set_slot, "fac_culture_hospitaller", 45, "trp_hospitaller_knight"),
    (faction_set_slot, "fac_culture_hospitaller", 100, "trp_euro_town_recruit_hospitaller"),
    (faction_set_slot, "fac_culture_hospitaller", 101, "trp_euro_horse_1_hospitaller"),
    (faction_set_slot, "fac_culture_hospitaller", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_hospitaller", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_hospitaller", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_hospitaller", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_hospitaller", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_hospitaller", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_hospitaller", 48, "trp_euro_spearman_1_hospitaller"),
    (faction_set_slot, "fac_culture_hospitaller", 49, "trp_euro_spearman_1_hospitaller"),
    (faction_set_slot, "fac_culture_hospitaller", 50, "trp_euro_horse_2_hospitaller"),
    (faction_set_slot, "fac_culture_hospitaller", 51, "trp_hospitaller_spearman_1"),
    (faction_set_slot, "fac_culture_hospitaller", 52, "trp_hospitaller_spearman_2"),
    (faction_set_slot, "fac_culture_hospitaller", 77, "pt_hospitaller_reinforcements_a"),
    (faction_set_slot, "fac_culture_hospitaller", 78, "pt_hospitaller_reinforcements_b"),
    (faction_set_slot, "fac_culture_hospitaller", 79, "pt_hospitaller_reinforcements_c"),
    (faction_set_slot, "fac_culture_hospitaller", 102, 0),
    (faction_set_slot, "fac_culture_antioch", 41, "trp_euro_village_recruit_antioch"),
    (faction_set_slot, "fac_culture_antioch", 42, "trp_euro_spearman_1_antioch"),
    (faction_set_slot, "fac_culture_antioch", 43, "trp_euro_spearman_2_antioch"),
    (faction_set_slot, "fac_culture_antioch", 44, "trp_euro_horse_3_antioch"),
    (faction_set_slot, "fac_culture_antioch", 45, "trp_euro_horse_4_antioch"),
    (faction_set_slot, "fac_culture_antioch", 100, "trp_euro_town_recruit_antioch"),
    (faction_set_slot, "fac_culture_antioch", 101, "trp_euro_horse_1_antioch"),
    (faction_set_slot, "fac_culture_antioch", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_antioch", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_antioch", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_antioch", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_antioch", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_antioch", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_antioch", 48, "trp_euro_spearman_1_antioch"),
    (faction_set_slot, "fac_culture_antioch", 49, "trp_euro_spearman_1_antioch"),
    (faction_set_slot, "fac_culture_antioch", 50, "trp_euro_horse_1_antioch"),
    (faction_set_slot, "fac_culture_antioch", 51, "trp_euro_spearman_2_antioch"),
    (faction_set_slot, "fac_culture_antioch", 52, "trp_euro_spearman_3_antioch"),
    (faction_set_slot, "fac_culture_antioch", 77, "pt_kingdom_western_reinforcements_a_antioch"),
    (faction_set_slot, "fac_culture_antioch", 78, "pt_kingdom_western_reinforcements_b_antioch"),
    (faction_set_slot, "fac_culture_antioch", 79, "pt_kingdom_western_reinforcements_c_antioch"),
    (faction_set_slot, "fac_culture_antioch", 102, 0),
    (faction_set_slot, "fac_culture_tripoli", 41, "trp_euro_village_recruit_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 42, "trp_euro_spearman_1_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 43, "trp_euro_spearman_2_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 44, "trp_euro_horse_3_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 45, "trp_euro_horse_4_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 100, "trp_euro_town_recruit_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 101, "trp_euro_horse_1_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_tripoli", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_tripoli", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_tripoli", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_tripoli", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_tripoli", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_tripoli", 48, "trp_euro_spearman_1_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 49, "trp_euro_spearman_1_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 50, "trp_euro_horse_1_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 51, "trp_euro_spearman_2_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 52, "trp_euro_spearman_3_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 77, "pt_kingdom_western_reinforcements_a_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 78, "pt_kingdom_western_reinforcements_b_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 79, "pt_kingdom_western_reinforcements_c_tripoli"),
    (faction_set_slot, "fac_culture_tripoli", 102, 0),
    (faction_set_slot, "fac_culture_ibelin", 41, "trp_euro_village_recruit_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 42, "trp_euro_spearman_1_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 43, "trp_euro_spearman_2_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 44, "trp_euro_horse_3_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 45, "trp_euro_horse_4_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 100, "trp_euro_town_recruit_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 101, "trp_euro_horse_1_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_ibelin", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_ibelin", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_ibelin", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_ibelin", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_ibelin", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_ibelin", 48, "trp_euro_spearman_1_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 49, "trp_euro_spearman_1_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 50, "trp_euro_horse_1_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 51, "trp_euro_spearman_2_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 52, "trp_euro_spearman_3_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 77, "pt_kingdom_western_reinforcements_a_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 78, "pt_kingdom_western_reinforcements_b_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 79, "pt_kingdom_western_reinforcements_c_ibelin"),
    (faction_set_slot, "fac_culture_ibelin", 102, 0),
    (faction_set_slot, "fac_culture_jerusalem", 41, "trp_euro_village_recruit_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 42, "trp_euro_spearman_1_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 43, "trp_euro_spearman_2_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 44, "trp_euro_horse_3_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 45, "trp_euro_horse_4_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 100, "trp_euro_town_recruit_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 101, "trp_euro_horse_1_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_jerusalem", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_jerusalem", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_jerusalem", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_jerusalem", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_jerusalem", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_jerusalem", 48, "trp_euro_spearman_1_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 49, "trp_euro_spearman_1_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 50, "trp_euro_horse_1_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 51, "trp_euro_spearman_2_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 52, "trp_euro_spearman_3_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 77, "pt_kingdom_western_reinforcements_a_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 78, "pt_kingdom_western_reinforcements_b_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 79, "pt_kingdom_western_reinforcements_c_jerusalem"),
    (faction_set_slot, "fac_culture_jerusalem", 102, 0),
    (faction_set_slot, "fac_culture_crusader", 41, "trp_euro_village_recruit"),
    (faction_set_slot, "fac_culture_crusader", 42, "trp_euro_spearman_1"),
    (faction_set_slot, "fac_culture_crusader", 43, "trp_euro_spearman_2"),
    (faction_set_slot, "fac_culture_crusader", 44, "trp_euro_horse_3"),
    (faction_set_slot, "fac_culture_crusader", 45, "trp_euro_horse_4"),
    (faction_set_slot, "fac_culture_crusader", 100, "trp_euro_town_recruit"),
    (faction_set_slot, "fac_culture_crusader", 101, "trp_euro_horse_1"),
    (faction_set_slot, "fac_culture_crusader", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_crusader", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_crusader", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_crusader", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_crusader", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_crusader", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_crusader", 48, "trp_euro_spearman_1"),
    (faction_set_slot, "fac_culture_crusader", 49, "trp_euro_spearman_1"),
    (faction_set_slot, "fac_culture_crusader", 50, "trp_euro_horse_1"),
    (faction_set_slot, "fac_culture_crusader", 51, "trp_euro_spearman_2"),
    (faction_set_slot, "fac_culture_crusader", 52, "trp_euro_spearman_3"),
    (faction_set_slot, "fac_culture_crusader", 77, "pt_kingdom_western_reinforcements_a"),
    (faction_set_slot, "fac_culture_crusader", 78, "pt_kingdom_western_reinforcements_b"),
    (faction_set_slot, "fac_culture_crusader", 79, "pt_kingdom_western_reinforcements_c"),
    (faction_set_slot, "fac_culture_crusader", 102, 0),
    (faction_set_slot, "fac_culture_cuman", 41, "trp_cuman_tribesman"),
    (faction_set_slot, "fac_culture_cuman", 42, "trp_cuman_skirmisher"),
    (faction_set_slot, "fac_culture_cuman", 43, "trp_cuman_horseman"),
    (faction_set_slot, "fac_culture_cuman", 44, "trp_cuman_lancer"),
    (faction_set_slot, "fac_culture_cuman", 45, "trp_cuman_heavy_lancer"),
    (faction_set_slot, "fac_culture_cuman", 100, "trp_cuman_skirmisher"),
    (faction_set_slot, "fac_culture_cuman", 101, "trp_cuman_horseman"),
    (faction_set_slot, "fac_culture_cuman", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_cuman", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_cuman", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_cuman", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_cuman", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_cuman", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_cuman", 48, "trp_cuman_skirmisher"),
    (faction_set_slot, "fac_culture_cuman", 49, "trp_cuman_skirmisher"),
    (faction_set_slot, "fac_culture_cuman", 50, "trp_cuman_horseman"),
    (faction_set_slot, "fac_culture_cuman", 51, "trp_cuman_horseman"),
    (faction_set_slot, "fac_culture_cuman", 52, "trp_cuman_lancer"),
    (faction_set_slot, "fac_culture_cuman", 77, "pt_kingdom_cuman_reinforcements_a"),
    (faction_set_slot, "fac_culture_cuman", 78, "pt_kingdom_cuman_reinforcements_b"),
    (faction_set_slot, "fac_culture_cuman", 79, "pt_kingdom_cuman_reinforcements_c"),
    (faction_set_slot, "fac_culture_cuman", 102, 4),
    (faction_set_slot, "fac_culture_english", 41, "trp_english_village_recruit"),
    (faction_set_slot, "fac_culture_english", 42, "trp_english_levy_spearman"),
    (faction_set_slot, "fac_culture_english", 43, "trp_english_demi_lancer"),
    (faction_set_slot, "fac_culture_english", 44, "trp_english_squire"),
    (faction_set_slot, "fac_culture_english", 45, "trp_english_knight"),
    (faction_set_slot, "fac_culture_english", 100, "trp_english_town_recruit"),
    (faction_set_slot, "fac_culture_english", 101, "trp_english_hobilar"),
    (faction_set_slot, "fac_culture_english", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_english", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_english", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_english", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_english", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_english", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_english", 48, "trp_english_levy_spearman"),
    (faction_set_slot, "fac_culture_english", 49, "trp_english_levy_spearman"),
    (faction_set_slot, "fac_culture_english", 50, "trp_english_demi_lancer"),
    (faction_set_slot, "fac_culture_english", 51, "trp_english_levy_spearman"),
    (faction_set_slot, "fac_culture_english", 52, "trp_english_armoured_swordsman"),
    (faction_set_slot, "fac_culture_english", 77, "pt_kingdom_english_reinforcements_a"),
    (faction_set_slot, "fac_culture_english", 78, "pt_kingdom_english_reinforcements_b"),
    (faction_set_slot, "fac_culture_english", 79, "pt_kingdom_english_reinforcements_c"),
    (faction_set_slot, "fac_culture_english", 102, 0),
    (faction_set_slot, "fac_culture_french", 41, "trp_french_village_recruit"),
    (faction_set_slot, "fac_culture_french", 42, "trp_french_levy_spearman"),
    (faction_set_slot, "fac_culture_french", 43, "trp_french_mounted_sergeant"),
    (faction_set_slot, "fac_culture_french", 44, "trp_french_squire"),
    (faction_set_slot, "fac_culture_french", 45, "trp_french_knight"),
    (faction_set_slot, "fac_culture_french", 100, "trp_french_town_recruit"),
    (faction_set_slot, "fac_culture_french", 101, "trp_french_mounted_archer"),
    (faction_set_slot, "fac_culture_french", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_french", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_french", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_french", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_french", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_french", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_french", 48, "trp_french_levy_spearman"),
    (faction_set_slot, "fac_culture_french", 49, "trp_french_levy_spearman"),
    (faction_set_slot, "fac_culture_french", 50, "trp_french_mounted_archer"),
    (faction_set_slot, "fac_culture_french", 51, "trp_french_levy_spearman"),
    (faction_set_slot, "fac_culture_french", 52, "trp_french_armoured_sergeant"),
    (faction_set_slot, "fac_culture_french", 77, "pt_kingdom_french_reinforcements_a"),
    (faction_set_slot, "fac_culture_french", 78, "pt_kingdom_french_reinforcements_b"),
    (faction_set_slot, "fac_culture_french", 79, "pt_kingdom_french_reinforcements_c"),
    (faction_set_slot, "fac_culture_french", 102, 0),
    (faction_set_slot, "fac_culture_hungarian", 41, "trp_hungarian_village_recruit"),
    (faction_set_slot, "fac_culture_hungarian", 42, "trp_slav_levy"),
    (faction_set_slot, "fac_culture_hungarian", 43, "trp_hungarian_pavise_spearman"),
    (faction_set_slot, "fac_culture_hungarian", 44, "trp_hungarian_squire"),
    (faction_set_slot, "fac_culture_hungarian", 45, "trp_hungarian_knight"),
    (faction_set_slot, "fac_culture_hungarian", 100, "trp_hungarian_town_recruit"),
    (faction_set_slot, "fac_culture_hungarian", 101, "trp_hungarian_merchant_cavalry"),
    (faction_set_slot, "fac_culture_hungarian", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_hungarian", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_hungarian", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_hungarian", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_hungarian", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_hungarian", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_hungarian", 48, "trp_slav_levy"),
    (faction_set_slot, "fac_culture_hungarian", 49, "trp_hungarian_pavise_spearman"),
    (faction_set_slot, "fac_culture_hungarian", 50, "trp_hungarian_merchant_cavalry"),
    (faction_set_slot, "fac_culture_hungarian", 51, "trp_hungarian_pavise_spearman"),
    (faction_set_slot, "fac_culture_hungarian", 52, "trp_hungarian_battlefield_assassin"),
    (faction_set_slot, "fac_culture_hungarian", 77, "pt_kingdom_hungarian_reinforcements_a"),
    (faction_set_slot, "fac_culture_hungarian", 78, "pt_kingdom_hungarian_reinforcements_b"),
    (faction_set_slot, "fac_culture_hungarian", 79, "pt_kingdom_hungarian_reinforcements_c"),
    (faction_set_slot, "fac_culture_hungarian", 102, 0),
    (faction_set_slot, "fac_culture_polish", 41, "trp_polish_village_recruit"),
    (faction_set_slot, "fac_culture_polish", 42, "trp_polish_spear_levy"),
    (faction_set_slot, "fac_culture_polish", 43, "trp_dismounted_polish_noble"),
    (faction_set_slot, "fac_culture_polish", 44, "trp_polish_noble"),
    (faction_set_slot, "fac_culture_polish", 45, "trp_polish_guard"),
    (faction_set_slot, "fac_culture_polish", 100, "trp_polish_town_recruit"),
    (faction_set_slot, "fac_culture_polish", 101, "trp_polish_strzelcy"),
    (faction_set_slot, "fac_culture_polish", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_polish", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_polish", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_polish", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_polish", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_polish", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_polish", 48, "trp_polish_spear_levy"),
    (faction_set_slot, "fac_culture_polish", 49, "trp_polish_spear_levy"),
    (faction_set_slot, "fac_culture_polish", 50, "trp_polish_strzelcy"),
    (faction_set_slot, "fac_culture_polish", 51, "trp_polish_spear_levy"),
    (faction_set_slot, "fac_culture_polish", 52, "trp_polish_retainer"),
    (faction_set_slot, "fac_culture_polish", 77, "pt_kingdom_polish_reinforcements_a"),
    (faction_set_slot, "fac_culture_polish", 78, "pt_kingdom_polish_reinforcements_b"),
    (faction_set_slot, "fac_culture_polish", 79, "pt_kingdom_polish_reinforcements_c"),
    (faction_set_slot, "fac_culture_polish", 102, 0),
    (faction_set_slot, "fac_culture_player", 41, "trp_cstm_custom_troop_3_tiers_0_0_0"),
    (faction_set_slot, "fac_culture_player", 42, "trp_cstm_custom_troop_3_tiers_0_1_1"),
    (faction_set_slot, "fac_culture_player", 43, "trp_cstm_custom_troop_3_tiers_0_1_2"),
    (faction_set_slot, "fac_culture_player", 44, "trp_cstm_custom_troop_3_tiers_0_2_3"),
    (faction_set_slot, "fac_culture_player", 45, "trp_cstm_custom_troop_3_tiers_0_2_4"),
    (faction_set_slot, "fac_culture_player", 100, "trp_cstm_custom_troop_3_tiers_0_1_1"),
    (faction_set_slot, "fac_culture_player", 101, "trp_cstm_custom_troop_3_tiers_0_2_2"),
    (faction_set_slot, "fac_culture_player", 53, "trp_town_walker_1"),
    (faction_set_slot, "fac_culture_player", 54, "trp_town_walker_2"),
    (faction_set_slot, "fac_culture_player", 55, "trp_village_walker_1"),
    (faction_set_slot, "fac_culture_player", 56, "trp_village_walker_2"),
    (faction_set_slot, "fac_culture_player", 57, "trp_spy_walker_1"),
    (faction_set_slot, "fac_culture_player", 58, "trp_spy_walker_2"),
    (faction_set_slot, "fac_culture_player", 48, "trp_cstm_custom_troop_3_tiers_0_1_1"),
    (faction_set_slot, "fac_culture_player", 49, "trp_cstm_custom_troop_3_tiers_0_2_3"),
    (faction_set_slot, "fac_culture_player", 50, "trp_cstm_custom_troop_3_tiers_0_2_2"),
    (faction_set_slot, "fac_culture_player", 51, "trp_cstm_custom_troop_3_tiers_0_1_2"),
    (faction_set_slot, "fac_culture_player", 52, "trp_cstm_custom_troop_3_tiers_0_2_3"),
    (faction_set_slot, "fac_culture_player", 77, "pt_cstm_kingdom_player_3_tiers_0_reinforcements_a"),
    (faction_set_slot, "fac_culture_player", 78, "pt_cstm_kingdom_player_3_tiers_0_reinforcements_b"),
    (faction_set_slot, "fac_culture_player", 79, "pt_cstm_kingdom_player_3_tiers_0_reinforcements_c"),
  ]),

  ("ee_setup_global_defaults",
  [
    (assign, "$g_player_party_icon", -1),
    (assign, "$crusade_time", 0),
    (assign, "$g_travel_speed", 100),
    (assign, "$g_last_payday", 0),
    (assign, "$g_player_crusading", 0),
    (assign, "$sp_shield_bash", 0),
    (assign, "$sp_shield_bash_ai", 0),
    (assign, "$setting_use_spearwall", 0),
    (assign, "$g_battle_preparation", -1),
    (assign, "$g_battle_preparation_phase", 0),
    (assign, "$g_rand_rain_limit", 10),
    (assign, "$g_reinforcement_waves", 20),
    (assign, "$tom_sand_storm_chance", 5),
    (assign, "$g_faction_names", 0),
    (assign, "$g_unit_names", 0),
    (assign, "$tom_use_banners", 0),
    (assign, "$tom_bonus_banners", 0),
    (assign, "$tom_use_battlefields", 1),
    (assign, "$tom_weapon_break", 0),
    (assign, "$tom_lance_breaking", 0),
    (assign, "$tom_generate_reduction", 2),
    (assign, "$tom_difficulty_wages", 1),
    (assign, "$tom_difficulty_fief", 1),
    (assign, "$tom_difficulty_enterprise", 1),
    (assign, "$feudal_inefficency", 0),
    (assign, "$start_player_crusade", 0),
    (assign, "$crusader_faction", -5),
    (assign, "$crusade_start", 0),
    (assign, "$crusade_target", 0),
    (assign, "$crusade_target_faction", 0),
    (assign, "$crusader_party_id", -1),
    (assign, "$crusader_state", -1),
    (assign, "$men_are_pleased", 0),
    (assign, "$tom_use_longships", 1),
    (assign, "$use_feudal_lance", 1),
    (assign, "$use_player_auxiliary", 1),
    (assign, "$retinue_noble_balt", 0),
    (assign, "$retinue_noble_west", 0),
    (assign, "$retinue_noble_orthodox", 0),
    (assign, "$retinue_noble_muslim", 0),
    (assign, "$retinue_noble_mongol", 0),
    (assign, "$lance_troop_serving", 0),
    (assign, "$lance_troop_reserve", 0),
    (assign, "$crusader_order_joined", 0),
    (assign, "$culture_pool", 0),
    (assign, "$culture_pool_initialized", 0),
    (assign, "$historical_banners", 0),
    (assign, "$randomize_player_shield", 0),
    (assign, "$disable_sisterly_advice", 1),
    (assign, "$disable_local_histories", 1),
    (assign, "$player_crowned", 0),
    (assign, "$default_battle_size", 0),
    (assign, "$default_orignal_battle_size", 0),
    (assign, "$native_wages", 0),
    (assign, "$g_party_base_size", 30),
    (assign, "$g_party_size_leadership_bonus", 15),
    (assign, "$g_party_size_renown_bonus_divider", 10),
    (assign, "$g_party_size_king_bonus", 150),
    (assign, "$g_party_size_marshall_bonus", 80),
    (assign, "$g_party_size_castle_bonus", 40),
    (assign, "$g_party_garrison_reinforcement_rate", 24),
    (assign, "$g_party_garrison_max_size_castles", 600),
    (assign, "$g_party_garrison_max_size_towns", 800),
    (assign, "$g_party_npc_reinforcement_rate", 24),
    (assign, "$g_party_player_reinforcement_rate", 72),
    (assign, "$g_party_lances_max_village", 12),
    (assign, "$g_party_lances_max_castle", 18),
    (assign, "$g_party_lances_max_town", 15),
    (assign, "$g_party_town_merc_refill_rate", 168),
    (assign, "$g_party_npc_trainer", 1),
    (assign, "$g_prison_culling", 0),
    (assign, "$g_party_morale_per_leadership", 25),
    (assign, "$g_party_morale_per_leadership_king", 35),
    (assign, "$g_party_max_morale", 99),
    (assign, "$g_party_size_affects_morale", 1),
    (assign, "$g_party_prisoners_per_prisoner_management_point", 15),
    (assign, "$g_party_faction_respawn_rate", 24),
    (assign, "$g_party_faction_parties_spawn_chance_foragers", 8),
    (assign, "$g_party_faction_parties_spawn_chance_scouts", 15),
    (assign, "$g_party_faction_parties_spawn_chance_patrols", 10),
    (assign, "$g_party_faction_parties_spawn_chance_caravans", 15),
    (assign, "$g_party_faction_parties_spawn_chance_prisoner_trains", 8),
    (assign, "$g_party_faction_parties_spawn_chance_war_parties", 5),
    (assign, "$g_party_faction_parties_spawn_chance_mercenary_companies", 5),
    (assign, "$g_party_faction_max_parties_foragers", 2),
    (assign, "$g_party_faction_max_parties_scouts", 3),
    (assign, "$g_party_faction_max_parties_patrols", 2),
    (assign, "$g_party_faction_max_parties_caravans", 2),
    (assign, "$g_party_faction_max_parties_prisoner_trains", 1),
    (assign, "$g_party_faction_max_parties_war_parties", 1),
    (assign, "$g_party_faction_max_parties_mercenary_companies", 1),
    (assign, "$g_party_bandit_respawn_rate", 36),
    (assign, "$g_party_bandit_spawn_chance_looter", 60),
    (assign, "$g_party_bandit_spawn_chance_sea_raider", 40),
    (assign, "$g_party_bandit_spawn_chance_mountain_bandits", 50),
    (assign, "$g_party_bandit_spawn_chance_steppe_bandits", 50),
    (assign, "$g_party_bandit_spawn_chance_taiga_bandits", 50),
    (assign, "$g_party_bandit_spawn_chance_forest_bandits", 50),
    (assign, "$g_party_bandit_spawn_chance_desert_bandits", 50),
    (assign, "$g_party_bandit_spawn_chance_deserters", 40),
    (assign, "$g_party_bandit_max_parties_looter", 50),
    (assign, "$g_party_bandit_max_parties_sea_raider", 30),
    (assign, "$g_party_bandit_max_parties_mountain_bandits", 40),
    (assign, "$g_party_bandit_max_parties_steppe_bandits", 30),
    (assign, "$g_party_bandit_max_parties_taiga_bandits", 30),
    (assign, "$g_party_bandit_max_parties_forest_bandits", 40),
    (assign, "$g_party_bandit_max_parties_desert_bandits", 30),
    (assign, "$g_party_bandit_max_parties_deserters", 60),
    (assign, "$g_party_bandit_spawn_chance_roving_knights", 30),
    (assign, "$g_party_bandit_max_parties_roving_knights", 10),
    (assign, "$g_party_mercenary_company_spawn_rate", 72),
    (assign, "$g_party_mercenary_company_spawn_chance", 30),
    (assign, "$g_party_mercenary_company_max", 10),
    (assign, "$g_party_rebellion_respawn_rate", 168),
    (assign, "$g_party_rebellion_chance", 10),
    (assign, "$g_party_rebellion_max", 5),
    (assign, "$g_party_rebellion_strong_respawn_rate", 168),
    (assign, "$g_party_rebellion_strong_chance", 5),
    (assign, "$g_party_rebellion_strong_max", 5),
    (assign, "$g_party_fugitive_serf_respawn_rate", 36),
    (assign, "$g_party_fugitive_serf_chance", 20),
    (assign, "$g_party_fugitive_serf_max", 20),
    (assign, "$g_party_mercenary_warband_chance", 40),
    (assign, "$g_party_mercenary_warband_max", 40),
    (assign, "$g_misc_merchant_respawn_rate", 72),
    (assign, "$g_misc_merchant_itp_type_goods", 35),
    (assign, "$g_misc_merchant_itp_type_body_armor", 6),
    (assign, "$g_misc_merchant_itp_type_head_armor", 6),
    (assign, "$g_misc_merchant_itp_type_foot_armor", 4),
    (assign, "$g_misc_merchant_itp_type_hand_armor", 3),
    (assign, "$g_misc_merchant_itp_type_one_handed_wpn", 2),
    (assign, "$g_misc_merchant_itp_type_two_handed_wpn", 2),
    (assign, "$g_misc_merchant_itp_type_polearm", 2),
    (assign, "$g_misc_merchant_itp_type_shield", 2),
    (assign, "$g_misc_merchant_itp_type_bow", 2),
    (assign, "$g_misc_merchant_itp_type_crossbow", 2),
    (assign, "$g_misc_merchant_itp_type_thrown", 1),
    (assign, "$g_misc_merchant_itp_type_arrows", 1),
    (assign, "$g_misc_merchant_itp_type_bolts", 1),
    (assign, "$g_misc_merchant_itp_type_horse", 8),
    (assign, "$g_misc_merchant_faction_itp_type_horse", 16),
    (assign, "$g_misc_merchant_faction_itp_type_body_armor", 12),
    (assign, "$g_misc_merchant_faction_itp_type_head_armor", 12),
    (assign, "$g_misc_merchant_faction_itp_type_foot_armor", 8),
    (assign, "$g_misc_merchant_faction_itp_type_hand_armor", 5),
    (assign, "$g_misc_merchant_faction_itp_type_one_handed_wpn", 10),
    (assign, "$g_misc_merchant_faction_itp_type_two_handed_wpn", 6),
    (assign, "$g_misc_merchant_faction_itp_type_polearm", 8),
    (assign, "$g_misc_merchant_faction_itp_type_shield", 8),
    (assign, "$g_misc_merchant_faction_itp_type_bow", 4),
    (assign, "$g_misc_merchant_faction_itp_type_crossbow", 4),
    (assign, "$g_misc_merchant_faction_itp_type_thrown", 4),
    (assign, "$g_misc_merchant_faction_itp_type_arrows", 4),
    (assign, "$g_misc_merchant_faction_itp_type_bolts", 4),
    (assign, "$g_misc_remove_deserter_recruit_penalty", 0),
    (assign, "$g_misc_lord_random_build", 12),
    (assign, "$g_misc_lord_random_build_chance", 30),
    (assign, "$g_player_faction_last_marshal_appointment", 24),
    (assign, "$do_once_budget_presentation", 0),
    (assign, "$g_use_random_lords_until", 0),
    (assign, "$g_lord_death_chance_battle", 30),
    (assign, "$g_lord_death_chance_battle_king", 15),
    (assign, "$g_lord_death_chance_assassination", 4),
    (assign, "$g_lord_death_chance_assassination_king", 2),
    (assign, "$g_lord_death_chance_execution_base", 10),
    (assign, "$g_lord_death_chance_execution_king_variation", 20),
    (assign, "$g_lord_death_chance_execution_relation_divider", 3),
    (assign, "$g_lord_creation_rate", 120),
    (assign, "$g_lord_creation_minimum", 3),
    (assign, "$g_lord_creation_threshold_towns", 1),
    (assign, "$g_lord_creation_threshold_castles", 1),
    (assign, "$g_lord_creation_threshold_villages", 2),
    (assign, "$g_misc_crusade_daily_chance", 8),
    (assign, "$g_misc_garrison_dont_disband_troops_when_taking_control", 1),
    (assign, "$g_misc_troop_ratio_bar_and_kill_count", 3),
    (assign, "$g_misc_tavern_mercenaries_respawn_rate", 36),
    (assign, "$g_misc_tavern_mercenaries_min", 4),
    (assign, "$g_misc_tavern_mercenaries_max", 10),
    (assign, "$g_misc_max_tax_inneficiency", 65),
    (assign, "$g_misc_faction_diplomacy_rate", 72),
    (assign, "$g_misc_disable_renown_weekly_reduction", 0),
    (assign, "$g_misc_parties_drop_prisoners_to_walled_fief", 0),
    (assign, "$g_misc_civil_war_chance", 30),
    (assign, "$g_misc_civil_war_rate", 168),
    (assign, "$g_misc_civil_war_lords_required", 40),
    (assign, "$g_misc_floris_bank_receive_directly", 1),
    (assign, "$ee_freelancer_upgrade_unequip", 0),
    (assign, "$cheat_mode", 0),
    (assign, "$g_party_mongol_camp_rate", 168),
    (assign, "$g_party_mongol_camp_max", 20),
    (assign, "$kaos_restore", 0),
    (assign, "$rand_seed", 0),
    (assign, "$crusade_target", -1),
    (assign, "$g_minister_notification_hours", 0),
    (assign, "$g_cur_belligerent_drunk", 0),
    (assign, "$g_report_shot", 1),
    (assign, "$g_current_horse", 0),
    (assign, "$g_current_horse_imod", 0),
    (assign, "$g_current_horse_price", 0),
    (assign, "$g_current_horse_days", 0),
    (assign, "$g_cstm_attribute_points_start", 20),
    (assign, "$g_cstm_proficiency_points_per_level", 20),
    (assign, "$g_cstm_proficiency_per_wm", 15),
    (assign, "$g_cstm_proficiency_per_agility", 10),
    (assign, "$g_cstm_skill_points_start", 1),
    (assign, "$g_cstm_budget_per_level", 600),
  ]),

  ("ee_setup_faction_info",
  [
    (faction_set_slot, "fac_kingdom_1", 10, "fac_culture_teutonic"),
    (faction_set_slot, "fac_kingdom_1", 11, "trp_kingdom_1_lord"),
    (troop_set_slot, "trp_kingdom_1_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_2", 10, "fac_culture_baltic"),
    (faction_set_slot, "fac_kingdom_2", 11, "trp_kingdom_2_lord"),
    (troop_set_slot, "trp_kingdom_2_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_3", 10, "fac_culture_mongol"),
    (faction_set_slot, "fac_kingdom_3", 11, "trp_kingdom_3_lord"),
    (troop_set_slot, "trp_kingdom_3_lord", 7, 1500),
    (faction_set_slot, "fac_kingdom_4", 10, "fac_culture_nordic"),
    (faction_set_slot, "fac_kingdom_4", 11, "trp_kingdom_4_lord"),
    (troop_set_slot, "trp_kingdom_4_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_5", 10, "fac_culture_polish"),
    (faction_set_slot, "fac_kingdom_5", 11, "trp_kingdom_5_lord"),
    (troop_set_slot, "trp_kingdom_5_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_6", 10, "fac_culture_western"),
    (faction_set_slot, "fac_kingdom_6", 11, "trp_kingdom_6_lord"),
    (troop_set_slot, "trp_kingdom_6_lord", 7, 1500),
    (faction_set_slot, "fac_kingdom_7", 10, "fac_culture_hungarian"),
    (faction_set_slot, "fac_kingdom_7", 11, "trp_kingdom_7_lord"),
    (troop_set_slot, "trp_kingdom_7_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_8", 10, "fac_culture_rus"),
    (faction_set_slot, "fac_kingdom_8", 11, "trp_kingdom_8_lord"),
    (troop_set_slot, "trp_kingdom_8_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_9", 10, "fac_culture_english"),
    (faction_set_slot, "fac_kingdom_9", 11, "trp_kingdom_9_lord"),
    (troop_set_slot, "trp_kingdom_9_lord", 7, 1500),
    (faction_set_slot, "fac_kingdom_10", 10, "fac_culture_french"),
    (faction_set_slot, "fac_kingdom_10", 11, "trp_kingdom_10_lord"),
    (troop_set_slot, "trp_kingdom_10_lord", 7, 1500),
    (faction_set_slot, "fac_kingdom_11", 10, "fac_culture_nordic"),
    (faction_set_slot, "fac_kingdom_11", 11, "trp_kingdom_11_lord"),
    (troop_set_slot, "trp_kingdom_11_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_12", 10, "fac_culture_scotish"),
    (faction_set_slot, "fac_kingdom_12", 11, "trp_kingdom_12_lord"),
    (troop_set_slot, "trp_kingdom_12_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_13", 10, "fac_culture_gaelic"),
    (faction_set_slot, "fac_kingdom_13", 11, "trp_kingdom_13_lord"),
    (troop_set_slot, "trp_kingdom_13_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_14", 10, "fac_culture_nordic"),
    (faction_set_slot, "fac_kingdom_14", 11, "trp_kingdom_14_lord"),
    (troop_set_slot, "trp_kingdom_14_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_15", 10, "fac_culture_rus"),
    (faction_set_slot, "fac_kingdom_15", 11, "trp_kingdom_15_lord"),
    (troop_set_slot, "trp_kingdom_15_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_16", 10, "fac_culture_iberian"),
    (faction_set_slot, "fac_kingdom_16", 11, "trp_kingdom_16_lord"),
    (troop_set_slot, "trp_kingdom_16_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_17", 10, "fac_culture_iberian"),
    (faction_set_slot, "fac_kingdom_17", 11, "trp_kingdom_17_lord"),
    (troop_set_slot, "trp_kingdom_17_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_18", 10, "fac_culture_iberian"),
    (faction_set_slot, "fac_kingdom_18", 11, "trp_kingdom_18_lord"),
    (troop_set_slot, "trp_kingdom_18_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_19", 10, "fac_culture_western"),
    (faction_set_slot, "fac_kingdom_19", 11, "trp_kingdom_19_lord"),
    (troop_set_slot, "trp_kingdom_19_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_20", 10, "fac_culture_andalus"),
    (faction_set_slot, "fac_kingdom_20", 11, "trp_kingdom_20_lord"),
    (troop_set_slot, "trp_kingdom_20_lord", 7, 2400),
    (faction_set_slot, "fac_papacy", 10, "fac_culture_italian"),
    (faction_set_slot, "fac_papacy", 11, "trp_pope"),
    (troop_set_slot, "trp_pope", 7, 1800),
    (faction_set_slot, "fac_kingdom_22", 10, "fac_culture_byzantium"),
    (faction_set_slot, "fac_kingdom_22", 11, "trp_kingdom_22_lord"),
    (troop_set_slot, "trp_kingdom_22_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_23", 10, "fac_culture_crusader"),
    (faction_set_slot, "fac_kingdom_23", 11, "trp_kingdom_23_lord"),
    (troop_set_slot, "trp_kingdom_23_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_24", 10, "fac_culture_italian"),
    (faction_set_slot, "fac_kingdom_24", 11, "trp_kingdom_24_lord"),
    (troop_set_slot, "trp_kingdom_24_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_25", 10, "fac_culture_mamluke"),
    (faction_set_slot, "fac_kingdom_25", 11, "trp_kingdom_25_lord"),
    (troop_set_slot, "trp_kingdom_25_lord", 7, 1500),
    (faction_set_slot, "fac_kingdom_26", 10, "fac_culture_italian"),
    (faction_set_slot, "fac_kingdom_26", 11, "trp_kingdom_26_lord"),
    (troop_set_slot, "trp_kingdom_26_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_27", 10, "fac_culture_mongol"),
    (faction_set_slot, "fac_kingdom_27", 11, "trp_kingdom_27_lord"),
    (troop_set_slot, "trp_kingdom_27_lord", 7, 1500),
    (faction_set_slot, "fac_kingdom_28", 10, "fac_culture_marinid"),
    (faction_set_slot, "fac_kingdom_28", 11, "trp_kingdom_28_lord"),
    (troop_set_slot, "trp_kingdom_28_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_29", 10, "fac_culture_serbian"),
    (faction_set_slot, "fac_kingdom_29", 11, "trp_kingdom_29_lord"),
    (troop_set_slot, "trp_kingdom_29_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_30", 10, "fac_culture_balkan"),
    (faction_set_slot, "fac_kingdom_30", 11, "trp_kingdom_30_lord"),
    (troop_set_slot, "trp_kingdom_30_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_31", 10, "fac_culture_marinid"),
    (faction_set_slot, "fac_kingdom_31", 11, "trp_kingdom_31_lord"),
    (troop_set_slot, "trp_kingdom_31_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_32", 10, "fac_culture_italian"),
    (faction_set_slot, "fac_kingdom_32", 11, "trp_kingdom_32_lord"),
    (troop_set_slot, "trp_kingdom_32_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_33", 10, "fac_culture_baltic"),
    (faction_set_slot, "fac_kingdom_34", 10, "fac_culture_baltic"),
    (faction_set_slot, "fac_kingdom_35", 10, "fac_culture_baltic"),
    (faction_set_slot, "fac_kingdom_36", 10, "fac_culture_baltic"),
    (faction_set_slot, "fac_kingdom_34", 11, "trp_kingdom_34_lord"),
    (faction_set_slot, "fac_kingdom_35", 11, "trp_kingdom_35_lord"),
    (faction_set_slot, "fac_kingdom_36", 11, "trp_kingdom_36_lord"),
    (faction_set_slot, "fac_kingdom_33", 11, "trp_kingdom_33_lord"),
    (troop_set_slot, "trp_kingdom_33_lord", 7, 1200),
    (troop_set_slot, "trp_kingdom_34_lord", 7, 1200),
    (troop_set_slot, "trp_kingdom_35_lord", 7, 1200),
    (troop_set_slot, "trp_kingdom_36_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_37", 10, "fac_culture_welsh"),
    (faction_set_slot, "fac_kingdom_37", 11, "trp_kingdom_37_lord"),
    (troop_set_slot, "trp_kingdom_37_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_38", 10, "fac_culture_italian"),
    (faction_set_slot, "fac_kingdom_38", 11, "trp_kingdom_38_lord"),
    (troop_set_slot, "trp_kingdom_38_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_39", 10, "fac_culture_italian"),
    (faction_set_slot, "fac_kingdom_39", 11, "trp_kingdom_39_lord"),
    (troop_set_slot, "trp_kingdom_39_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_40", 10, "fac_culture_italian"),
    (faction_set_slot, "fac_kingdom_40", 11, "trp_kingdom_40_lord"),
    (troop_set_slot, "trp_kingdom_40_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_41", 10, "fac_culture_italian"),
    (faction_set_slot, "fac_kingdom_41", 11, "trp_kingdom_41_lord"),
    (troop_set_slot, "trp_kingdom_41_lord", 7, 1200),
    (faction_set_slot, "fac_kingdom_42", 10, "fac_culture_western"),
    (faction_set_slot, "fac_kingdom_42", 11, "trp_kingdom_42_lord"),
    (troop_set_slot, "trp_kingdom_42_lord", 7, 1200),
    (assign, ":var0", "fac_culture_player"),
    (assign, "$g_player_culture", "fac_culture_player"),
    (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
    (faction_set_slot, "fac_player_faction", 10, ":var0"),
  ]),

  ("ee_setup_settlement_info",
  [
    (try_for_range, ":var0", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_slot_eq, ":var0", 21, 0),
      (assign, ":var1", -1),
      (assign, ":var2", -1),
      (assign, ":var3", -1),
      (assign, ":var4", -1),
      (assign, ":var5", -1),
      (assign, ":var6", -1),
      (try_begin),
        (eq, ":var0", "fac_kingdom_1"),
        (assign, ":var1", "p_town_1_1"),
        (assign, ":var2", "p_town_2_1"),
        (assign, ":var3", "p_castle_1_1"),
        (assign, ":var4", "p_castle_2_1"),
        (assign, ":var5", "p_village_1_1"),
        (assign, ":var6", "p_village_2_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_2"),
        (assign, ":var1", "p_town_2_1"),
        (assign, ":var2", "p_town_3_1"),
        (assign, ":var3", "p_castle_2_1"),
        (assign, ":var4", "p_castle_3_1"),
        (assign, ":var5", "p_village_2_1"),
        (assign, ":var6", "p_village_3_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_3"),
        (assign, ":var1", "p_town_3_1"),
        (assign, ":var2", "p_town_4_1"),
        (assign, ":var3", "p_castle_3_1"),
        (assign, ":var4", "p_castle_4_1"),
        (assign, ":var5", "p_village_3_1"),
        (assign, ":var6", "p_village_4_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_4"),
        (assign, ":var1", "p_town_4_1"),
        (assign, ":var2", "p_town_5_1"),
        (assign, ":var3", "p_castle_4_1"),
        (assign, ":var4", "p_castle_5_1"),
        (assign, ":var5", "p_village_4_1"),
        (assign, ":var6", "p_village_5_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_5"),
        (assign, ":var1", "p_town_5_1"),
        (assign, ":var2", "p_town_6_1"),
        (assign, ":var3", "p_castle_5_1"),
        (assign, ":var4", "p_castle_6_1"),
        (assign, ":var5", "p_village_5_1"),
        (assign, ":var6", "p_village_6_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_6"),
        (assign, ":var1", "p_town_6_1"),
        (assign, ":var2", "p_town_7_1"),
        (assign, ":var3", "p_castle_6_1"),
        (assign, ":var4", "p_castle_7_1"),
        (assign, ":var5", "p_village_6_1"),
        (assign, ":var6", "p_village_7_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_7"),
        (assign, ":var1", "p_town_7_1"),
        (assign, ":var2", "p_town_8_1"),
        (assign, ":var3", "p_castle_7_1"),
        (assign, ":var4", "p_castle_8_1"),
        (assign, ":var5", "p_village_7_1"),
        (assign, ":var6", "p_village_8_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_8"),
        (assign, ":var1", "p_town_8_1"),
        (assign, ":var2", "p_town_9_1"),
        (assign, ":var3", "p_castle_8_1"),
        (assign, ":var4", "p_castle_9_1"),
        (assign, ":var5", "p_village_8_1"),
        (assign, ":var6", "p_village_9_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_9"),
        (assign, ":var1", "p_town_9_1"),
        (assign, ":var2", "p_town_10_1"),
        (assign, ":var3", "p_castle_9_1"),
        (assign, ":var4", "p_castle_10_1"),
        (assign, ":var5", "p_village_9_1"),
        (assign, ":var6", "p_village_10_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_10"),
        (assign, ":var1", "p_town_10_1"),
        (assign, ":var2", "p_town_11_1"),
        (assign, ":var3", "p_castle_10_1"),
        (assign, ":var4", "p_castle_11_1"),
        (assign, ":var5", "p_village_10_1"),
        (assign, ":var6", "p_village_11_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_11"),
        (assign, ":var1", "p_town_11_1"),
        (assign, ":var2", "p_town_12_1"),
        (assign, ":var3", "p_castle_11_1"),
        (assign, ":var4", "p_castle_12_1"),
        (assign, ":var5", "p_village_11_1"),
        (assign, ":var6", "p_village_12_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_12"),
        (assign, ":var1", "p_town_12_1"),
        (assign, ":var2", "p_town_13_1"),
        (assign, ":var3", "p_castle_12_1"),
        (assign, ":var4", "p_castle_13_1"),
        (assign, ":var5", "p_village_12_1"),
        (assign, ":var6", "p_village_13_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_13"),
        (assign, ":var1", "p_town_13_1"),
        (assign, ":var2", "p_town_14_1"),
        (assign, ":var3", "p_castle_13_1"),
        (assign, ":var4", "p_castle_14_1"),
        (assign, ":var5", "p_village_13_1"),
        (assign, ":var6", "p_village_14_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_14"),
        (assign, ":var1", "p_town_14_1"),
        (assign, ":var2", "p_town_15_1"),
        (assign, ":var3", "p_castle_14_1"),
        (assign, ":var4", "p_castle_15_1"),
        (assign, ":var5", "p_village_14_1"),
        (assign, ":var6", "p_village_15_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_15"),
        (assign, ":var1", "p_town_15_1"),
        (assign, ":var2", "p_town_16_1"),
        (assign, ":var3", "p_castle_15_1"),
        (assign, ":var4", "p_castle_16_1"),
        (assign, ":var5", "p_village_15_1"),
        (assign, ":var6", "p_village_16_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_16"),
        (assign, ":var1", "p_town_16_1"),
        (assign, ":var2", "p_town_17_1"),
        (assign, ":var3", "p_castle_16_1"),
        (assign, ":var4", "p_castle_17_1"),
        (assign, ":var5", "p_village_16_1"),
        (assign, ":var6", "p_village_17_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_17"),
        (assign, ":var1", "p_town_17_1"),
        (assign, ":var2", "p_town_18_1"),
        (assign, ":var3", "p_castle_17_1"),
        (assign, ":var4", "p_castle_18_1"),
        (assign, ":var5", "p_village_17_1"),
        (assign, ":var6", "p_village_18_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_18"),
        (assign, ":var1", "p_town_18_1"),
        (assign, ":var2", "p_town_20_1"),
        (assign, ":var3", "p_castle_18_1"),
        (assign, ":var4", "p_castle_19_1"),
        (assign, ":var5", "p_village_18_1"),
        (assign, ":var6", "p_village_20_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_19"),
        (assign, ":var1", "p_town_19_1"),
        (assign, ":var2", "p_town_20_1"),
        (assign, ":var3", "p_castle_19_1"),
        (assign, ":var4", "p_castle_20_1"),
        (assign, ":var5", "p_village_19_1"),
        (assign, ":var6", "p_village_20_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_20"),
        (assign, ":var1", "p_town_20_1"),
        (assign, ":var2", "p_town_21_1"),
        (assign, ":var3", "p_castle_20_1"),
        (assign, ":var4", "p_castle_22_1"),
        (assign, ":var5", "p_village_20_1"),
        (assign, ":var6", "p_village_21_1"),
      (else_try),
        (eq, ":var0", "fac_papacy"),
        (assign, ":var1", "p_town_21_1"),
        (assign, ":var2", "p_town_22_1"),
        (assign, ":var5", "p_village_21_1"),
        (assign, ":var6", "p_village_22_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_22"),
        (assign, ":var1", "p_town_22_1"),
        (assign, ":var2", "p_town_23_1"),
        (assign, ":var3", "p_castle_22_1"),
        (assign, ":var4", "p_castle_23_1"),
        (assign, ":var5", "p_village_22_1"),
        (assign, ":var6", "p_village_23_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_23"),
        (assign, ":var1", "p_town_23_1"),
        (assign, ":var2", "p_town_24_1"),
        (assign, ":var3", "p_castle_23_1"),
        (assign, ":var4", "p_castle_24_1"),
        (assign, ":var5", "p_village_23_1"),
        (assign, ":var6", "p_village_24_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_24"),
        (assign, ":var1", "p_town_24_1"),
        (assign, ":var2", "p_town_25_1"),
        (assign, ":var3", "p_castle_24_1"),
        (assign, ":var4", "p_castle_25_1"),
        (assign, ":var5", "p_village_24_1"),
        (assign, ":var6", "p_village_25_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_25"),
        (assign, ":var1", "p_town_25_1"),
        (assign, ":var2", "p_town_26_1"),
        (assign, ":var3", "p_castle_25_1"),
        (assign, ":var4", "p_castle_26_1"),
        (assign, ":var5", "p_village_25_1"),
        (assign, ":var6", "p_village_26_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_26"),
        (assign, ":var1", "p_town_26_1"),
        (assign, ":var2", "p_town_27_1"),
        (assign, ":var3", "p_castle_26_1"),
        (assign, ":var4", "p_castle_27_1"),
        (assign, ":var5", "p_village_26_1"),
        (assign, ":var6", "p_village_27_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_27"),
        (assign, ":var1", "p_town_27_1"),
        (assign, ":var2", "p_town_28_1"),
        (assign, ":var3", "p_castle_27_1"),
        (assign, ":var4", "p_castle_28_1"),
        (assign, ":var5", "p_village_27_1"),
        (assign, ":var6", "p_village_28_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_28"),
        (assign, ":var1", "p_town_28_1"),
        (assign, ":var2", "p_town_29_1"),
        (assign, ":var3", "p_castle_28_1"),
        (assign, ":var4", "p_castle_29_1"),
        (assign, ":var5", "p_village_28_1"),
        (assign, ":var6", "p_village_29_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_29"),
        (assign, ":var1", "p_town_29_1"),
        (assign, ":var2", "p_town_30_1"),
        (assign, ":var3", "p_castle_29_1"),
        (assign, ":var4", "p_castle_30_1"),
        (assign, ":var5", "p_village_29_1"),
        (assign, ":var6", "p_village_30_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_30"),
        (assign, ":var1", "p_town_30_1"),
        (assign, ":var2", "p_town_31_1"),
        (assign, ":var3", "p_castle_30_1"),
        (assign, ":var4", "p_castle_31_1"),
        (assign, ":var5", "p_village_30_1"),
        (assign, ":var6", "p_village_31_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_31"),
        (assign, ":var1", "p_town_31_1"),
        (assign, ":var2", "p_town_32_1"),
        (assign, ":var3", "p_castle_31_1"),
        (assign, ":var4", "p_castle_32_1"),
        (assign, ":var5", "p_village_31_1"),
        (assign, ":var6", "p_village_32_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_32"),
        (assign, ":var1", "p_town_32_1"),
        (assign, ":var2", "p_town_37_1"),
        (assign, ":var3", "p_castle_32_1"),
        (assign, ":var4", "p_castle_33_1"),
        (assign, ":var5", "p_village_32_1"),
        (assign, ":var6", "p_village_33_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_33"),
        (assign, ":var3", "p_castle_33_1"),
        (assign, ":var4", "p_castle_34_1"),
        (assign, ":var5", "p_village_33_1"),
        (assign, ":var6", "p_village_34_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_34"),
        (assign, ":var3", "p_castle_34_1"),
        (assign, ":var4", "p_castle_35_1"),
        (assign, ":var5", "p_village_34_1"),
        (assign, ":var6", "p_village_35_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_35"),
        (assign, ":var3", "p_castle_35_1"),
        (assign, ":var4", "p_castle_36_1"),
        (assign, ":var5", "p_village_35_1"),
        (assign, ":var6", "p_village_36_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_36"),
        (assign, ":var3", "p_castle_36_1"),
        (assign, ":var4", "p_castle_37_1"),
        (assign, ":var5", "p_village_36_1"),
        (assign, ":var6", "p_village_37_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_37"),
        (assign, ":var1", "p_town_37_1"),
        (assign, ":var2", "p_town_38_1"),
        (assign, ":var3", "p_castle_37_1"),
        (assign, ":var4", "p_castle_38_1"),
        (assign, ":var5", "p_village_37_1"),
        (assign, ":var6", "p_village_38_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_38"),
        (assign, ":var1", "p_town_38_1"),
        (assign, ":var2", "p_town_39_1"),
        (assign, ":var3", "p_castle_38_1"),
        (assign, ":var4", "p_castle_39_1"),
        (assign, ":var5", "p_village_38_1"),
        (assign, ":var6", "p_village_39_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_39"),
        (assign, ":var1", "p_town_39_1"),
        (assign, ":var2", "p_town_40_1"),
        (assign, ":var3", "p_castle_39_1"),
        (assign, ":var4", "p_castle_player"),
        (assign, ":var5", "p_village_39_1"),
        (assign, ":var6", "p_village_40_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_40"),
        (assign, ":var1", "p_town_40_1"),
        (assign, ":var2", "p_town_41_1"),
        (assign, ":var5", "p_village_40_1"),
        (assign, ":var6", "p_village_41_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_41"),
        (assign, ":var1", "p_town_41_1"),
        (assign, ":var2", "p_town_42_1"),
        (assign, ":var5", "p_village_41_1"),
        (assign, ":var6", "p_village_42_1"),
      (else_try),
        (eq, ":var0", "fac_kingdom_42"),
        (assign, ":var1", "p_town_42_1"),
        (assign, ":var2", "p_castle_1_1"),
        (assign, ":var5", "p_village_42_1"),
        (assign, ":var6", "p_village_player"),
      (try_end),
      (try_begin),
        (party_set_slot, "p_village_1_9", 120, "p_castle_1_2"),
        (store_faction_of_party, ":var7", "p_castle_1_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_1_9", ":var7"),
        (party_set_slot, "p_village_4_9", 120, "p_castle_4_1"),
        (store_faction_of_party, ":var7", "p_castle_4_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_4_9", ":var7"),
        (party_set_slot, "p_village_4_14", 120, "p_castle_4_7"),
        (store_faction_of_party, ":var7", "p_castle_4_7"),
        (call_script, "script_give_center_to_faction_aux", "p_village_4_14", ":var7"),
        (party_set_slot, "p_village_4_4", 120, "p_town_4_1"),
        (store_faction_of_party, ":var7", "p_town_4_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_4_4", ":var7"),
        (party_set_slot, "p_village_4_2", 120, "p_town_4_2"),
        (store_faction_of_party, ":var7", "p_town_4_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_4_2", ":var7"),
        (party_set_slot, "p_village_4_5", 120, "p_town_4_3"),
        (store_faction_of_party, ":var7", "p_town_4_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_4_5", ":var7"),
        (party_set_slot, "p_village_4_8", 120, "p_town_4_4"),
        (store_faction_of_party, ":var7", "p_town_4_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_4_8", ":var7"),
        (party_set_slot, "p_village_5_13", 120, "p_town_5_3"),
        (store_faction_of_party, ":var7", "p_town_5_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_5_13", ":var7"),
        (party_set_slot, "p_village_5_7", 120, "p_town_5_4"),
        (store_faction_of_party, ":var7", "p_town_5_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_5_7", ":var7"),
        (party_set_slot, "p_village_6_13", 120, "p_town_6_1"),
        (store_faction_of_party, ":var7", "p_town_6_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_13", ":var7"),
        (party_set_slot, "p_village_6_22", 120, "p_town_6_2"),
        (store_faction_of_party, ":var7", "p_town_6_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_22", ":var7"),
        (party_set_slot, "p_village_6_15", 120, "p_town_6_3"),
        (store_faction_of_party, ":var7", "p_town_6_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_15", ":var7"),
        (party_set_slot, "p_village_6_26", 120, "p_town_6_4"),
        (store_faction_of_party, ":var7", "p_town_6_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_26", ":var7"),
        (party_set_slot, "p_village_6_5", 120, "p_town_6_5"),
        (store_faction_of_party, ":var7", "p_town_6_5"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_5", ":var7"),
        (party_set_slot, "p_village_6_24", 120, "p_town_6_6"),
        (store_faction_of_party, ":var7", "p_town_6_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_24", ":var7"),
        (party_set_slot, "p_village_6_19", 120, "p_castle_6_1"),
        (store_faction_of_party, ":var7", "p_castle_6_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_19", ":var7"),
        (party_set_slot, "p_village_6_10", 120, "p_castle_6_2"),
        (store_faction_of_party, ":var7", "p_castle_6_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_10", ":var7"),
        (party_set_slot, "p_village_6_16", 120, "p_castle_6_3"),
        (store_faction_of_party, ":var7", "p_castle_6_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_16", ":var7"),
        (party_set_slot, "p_village_6_3", 120, "p_castle_6_4"),
        (store_faction_of_party, ":var7", "p_castle_6_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_3", ":var7"),
        (party_set_slot, "p_village_6_2", 120, "p_castle_6_8"),
        (store_faction_of_party, ":var7", "p_castle_6_8"),
        (call_script, "script_give_center_to_faction_aux", "p_village_6_2", ":var7"),
        (party_set_slot, "p_village_8_2", 120, "p_town_8_1"),
        (store_faction_of_party, ":var7", "p_town_8_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_8_2", ":var7"),
        (party_set_slot, "p_village_8_5", 120, "p_town_8_2"),
        (store_faction_of_party, ":var7", "p_town_8_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_8_5", ":var7"),
        (party_set_slot, "p_village_8_7", 120, "p_castle_8_3"),
        (store_faction_of_party, ":var7", "p_castle_8_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_8_7", ":var7"),
        (party_set_slot, "p_village_8_8", 120, "p_castle_8_4"),
        (store_faction_of_party, ":var7", "p_castle_8_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_8_8", ":var7"),
        (party_set_slot, "p_village_9_1", 120, "p_castle_9_1"),
        (store_faction_of_party, ":var7", "p_castle_9_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_1", ":var7"),
        (party_set_slot, "p_village_9_4", 120, "p_castle_9_2"),
        (store_faction_of_party, ":var7", "p_castle_9_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_4", ":var7"),
        (party_set_slot, "p_village_9_3", 120, "p_castle_9_4"),
        (store_faction_of_party, ":var7", "p_castle_9_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_3", ":var7"),
        (party_set_slot, "p_village_9_12", 120, "p_town_9_1"),
        (store_faction_of_party, ":var7", "p_town_9_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_12", ":var7"),
        (party_set_slot, "p_village_9_6", 120, "p_town_9_2"),
        (store_faction_of_party, ":var7", "p_town_9_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_6", ":var7"),
        (party_set_slot, "p_village_9_9", 120, "p_town_9_3"),
        (store_faction_of_party, ":var7", "p_town_9_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_9", ":var7"),
        (party_set_slot, "p_village_9_11", 120, "p_town_9_4"),
        (store_faction_of_party, ":var7", "p_town_9_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_11", ":var7"),
        (party_set_slot, "p_village_9_18", 120, "p_town_9_5"),
        (store_faction_of_party, ":var7", "p_town_9_5"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_18", ":var7"),
        (party_set_slot, "p_village_9_19", 120, "p_town_9_6"),
        (store_faction_of_party, ":var7", "p_town_9_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_9_19", ":var7"),
        (party_set_slot, "p_village_10_14", 120, "p_castle_10_2"),
        (store_faction_of_party, ":var7", "p_castle_10_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_14", ":var7"),
        (party_set_slot, "p_village_10_20", 120, "p_castle_10_4"),
        (store_faction_of_party, ":var7", "p_castle_10_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_20", ":var7"),
        (party_set_slot, "p_village_10_8", 120, "p_castle_10_5"),
        (store_faction_of_party, ":var7", "p_castle_10_5"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_8", ":var7"),
        (party_set_slot, "p_village_10_18", 120, "p_castle_10_6"),
        (store_faction_of_party, ":var7", "p_castle_10_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_18", ":var7"),
        (party_set_slot, "p_village_10_23", 120, "p_castle_10_7"),
        (store_faction_of_party, ":var7", "p_castle_10_7"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_23", ":var7"),
        (party_set_slot, "p_village_10_5", 120, "p_castle_10_8"),
        (store_faction_of_party, ":var7", "p_castle_10_8"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_5", ":var7"),
        (party_set_slot, "p_village_10_1", 120, "p_castle_10_10"),
        (store_faction_of_party, ":var7", "p_castle_10_10"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_1", ":var7"),
        (party_set_slot, "p_village_10_3", 120, "p_town_10_1"),
        (store_faction_of_party, ":var7", "p_town_10_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_3", ":var7"),
        (party_set_slot, "p_village_10_16", 120, "p_town_10_2"),
        (store_faction_of_party, ":var7", "p_town_10_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_16", ":var7"),
        (party_set_slot, "p_village_10_24", 120, "p_town_10_3"),
        (store_faction_of_party, ":var7", "p_town_10_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_24", ":var7"),
        (party_set_slot, "p_village_10_10", 120, "p_town_10_4"),
        (store_faction_of_party, ":var7", "p_town_10_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_10", ":var7"),
        (party_set_slot, "p_village_10_4", 120, "p_town_10_5"),
        (store_faction_of_party, ":var7", "p_town_10_5"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_4", ":var7"),
        (party_set_slot, "p_village_10_17", 120, "p_town_10_6"),
        (store_faction_of_party, ":var7", "p_town_10_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_17", ":var7"),
        (party_set_slot, "p_village_10_19", 120, "p_town_10_6"),
        (store_faction_of_party, ":var7", "p_town_10_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_19", ":var7"),
        (party_set_slot, "p_village_10_21", 120, "p_town_10_7"),
        (store_faction_of_party, ":var7", "p_town_10_7"),
        (call_script, "script_give_center_to_faction_aux", "p_village_10_21", ":var7"),
        (party_set_slot, "p_village_11_11", 120, "p_castle_11_3"),
        (store_faction_of_party, ":var7", "p_castle_11_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_11_11", ":var7"),
        (party_set_slot, "p_village_11_8", 120, "p_castle_11_4"),
        (store_faction_of_party, ":var7", "p_castle_11_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_11_8", ":var7"),
        (party_set_slot, "p_village_11_2", 120, "p_town_11_1"),
        (store_faction_of_party, ":var7", "p_town_11_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_11_2", ":var7"),
        (party_set_slot, "p_village_11_3", 120, "p_town_11_2"),
        (store_faction_of_party, ":var7", "p_town_11_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_11_3", ":var7"),
        (party_set_slot, "p_village_11_1", 120, "p_town_11_2"),
        (store_faction_of_party, ":var7", "p_town_11_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_11_1", ":var7"),
        (party_set_slot, "p_village_11_4", 120, "p_town_11_3"),
        (store_faction_of_party, ":var7", "p_town_11_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_11_4", ":var7"),
        (party_set_slot, "p_village_11_5", 120, "p_town_11_3"),
        (store_faction_of_party, ":var7", "p_town_11_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_11_5", ":var7"),
        (party_set_slot, "p_village_12_1", 120, "p_castle_12_1"),
        (store_faction_of_party, ":var7", "p_castle_12_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_12_1", ":var7"),
        (party_set_slot, "p_village_12_3", 120, "p_castle_12_2"),
        (store_faction_of_party, ":var7", "p_castle_12_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_12_3", ":var7"),
        (party_set_slot, "p_village_14_7", 120, "p_castle_14_1"),
        (store_faction_of_party, ":var7", "p_castle_14_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_14_7", ":var7"),
        (party_set_slot, "p_village_14_8", 120, "p_castle_14_6"),
        (store_faction_of_party, ":var7", "p_castle_14_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_14_8", ":var7"),
        (party_set_slot, "p_village_16_8", 120, "p_castle_16_1"),
        (store_faction_of_party, ":var7", "p_castle_16_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_16_8", ":var7"),
        (party_set_slot, "p_village_16_7", 120, "p_castle_16_4"),
        (store_faction_of_party, ":var7", "p_castle_16_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_16_7", ":var7"),
        (party_set_slot, "p_village_16_3", 120, "p_town_16_1"),
        (store_faction_of_party, ":var7", "p_town_16_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_16_3", ":var7"),
        (party_set_slot, "p_village_16_2", 120, "p_town_16_2"),
        (store_faction_of_party, ":var7", "p_town_16_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_16_2", ":var7"),
        (party_set_slot, "p_village_17_5", 120, "p_castle_17_1"),
        (store_faction_of_party, ":var7", "p_castle_17_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_17_5", ":var7"),
        (party_set_slot, "p_village_17_6", 120, "p_castle_17_2"),
        (store_faction_of_party, ":var7", "p_castle_17_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_17_6", ":var7"),
        (party_set_slot, "p_village_17_1", 120, "p_castle_17_5"),
        (store_faction_of_party, ":var7", "p_castle_17_5"),
        (call_script, "script_give_center_to_faction_aux", "p_village_17_1", ":var7"),
        (party_set_slot, "p_village_17_10", 120, "p_castle_17_6"),
        (store_faction_of_party, ":var7", "p_castle_17_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_17_10", ":var7"),
        (party_set_slot, "p_village_17_11", 120, "p_castle_17_7"),
        (store_faction_of_party, ":var7", "p_castle_17_7"),
        (call_script, "script_give_center_to_faction_aux", "p_village_17_11", ":var7"),
        (party_set_slot, "p_village_17_2", 120, "p_town_17_1"),
        (store_faction_of_party, ":var7", "p_town_17_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_17_2", ":var7"),
        (party_set_slot, "p_village_17_8", 120, "p_town_17_2"),
        (store_faction_of_party, ":var7", "p_town_17_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_17_8", ":var7"),
        (party_set_slot, "p_village_19_3", 120, "p_castle_19_1"),
        (store_faction_of_party, ":var7", "p_castle_19_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_19_3", ":var7"),
        (party_set_slot, "p_village_20_7", 120, "p_castle_20_3"),
        (store_faction_of_party, ":var7", "p_castle_20_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_20_7", ":var7"),
        (party_set_slot, "p_village_20_5", 120, "p_castle_20_4"),
        (store_faction_of_party, ":var7", "p_castle_20_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_20_5", ":var7"),
        (party_set_slot, "p_village_20_9", 120, "p_castle_20_6"),
        (store_faction_of_party, ":var7", "p_castle_20_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_20_9", ":var7"),
        (party_set_slot, "p_village_20_10", 120, "p_castle_20_7"),
        (store_faction_of_party, ":var7", "p_castle_20_7"),
        (call_script, "script_give_center_to_faction_aux", "p_village_20_10", ":var7"),
        (party_set_slot, "p_village_20_11", 120, "p_town_20_1"),
        (store_faction_of_party, ":var7", "p_town_20_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_20_11", ":var7"),
        (party_set_slot, "p_village_20_2", 120, "p_town_20_2"),
        (store_faction_of_party, ":var7", "p_town_20_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_20_2", ":var7"),
        (party_set_slot, "p_village_20_4", 120, "p_town_20_2"),
        (store_faction_of_party, ":var7", "p_town_20_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_20_4", ":var7"),
        (party_set_slot, "p_village_24_3", 120, "p_castle_24_1"),
        (store_faction_of_party, ":var7", "p_castle_24_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_24_3", ":var7"),
        (party_set_slot, "p_village_25_7", 120, "p_castle_25_1"),
        (store_faction_of_party, ":var7", "p_castle_25_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_25_7", ":var7"),
        (party_set_slot, "p_village_25_8", 120, "p_castle_25_2"),
        (store_faction_of_party, ":var7", "p_castle_25_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_25_8", ":var7"),
        (party_set_slot, "p_village_25_9", 120, "p_castle_25_3"),
        (store_faction_of_party, ":var7", "p_castle_25_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_25_9", ":var7"),
        (party_set_slot, "p_village_25_12", 120, "p_castle_25_6"),
        (store_faction_of_party, ":var7", "p_castle_25_6"),
        (call_script, "script_give_center_to_faction_aux", "p_village_25_12", ":var7"),
        (party_set_slot, "p_village_25_4", 120, "p_town_25_2"),
        (store_faction_of_party, ":var7", "p_town_25_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_25_4", ":var7"),
        (party_set_slot, "p_village_25_6", 120, "p_town_25_3"),
        (store_faction_of_party, ":var7", "p_town_25_3"),
        (call_script, "script_give_center_to_faction_aux", "p_village_25_6", ":var7"),
        (party_set_slot, "p_village_25_14", 120, "p_town_25_4"),
        (store_faction_of_party, ":var7", "p_town_25_4"),
        (call_script, "script_give_center_to_faction_aux", "p_village_25_14", ":var7"),
        (party_set_slot, "p_village_25_16", 120, "p_town_25_5"),
        (store_faction_of_party, ":var7", "p_town_25_5"),
        (call_script, "script_give_center_to_faction_aux", "p_village_25_16", ":var7"),
        (party_set_slot, "p_village_30_4", 120, "p_castle_30_1"),
        (store_faction_of_party, ":var7", "p_castle_30_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_30_4", ":var7"),
        (party_set_slot, "p_village_30_2", 120, "p_town_30_1"),
        (store_faction_of_party, ":var7", "p_town_30_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_30_2", ":var7"),
        (party_set_slot, "p_village_30_5", 120, "p_town_30_2"),
        (store_faction_of_party, ":var7", "p_town_30_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_30_5", ":var7"),
        (party_set_slot, "p_village_31_8", 120, "p_castle_31_2"),
        (store_faction_of_party, ":var7", "p_castle_31_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_31_8", ":var7"),
        (party_set_slot, "p_village_35_1", 120, "p_castle_35_1"),
        (store_faction_of_party, ":var7", "p_castle_35_1"),
        (call_script, "script_give_center_to_faction_aux", "p_village_35_1", ":var7"),
        (party_set_slot, "p_village_35_3", 120, "p_castle_35_2"),
        (store_faction_of_party, ":var7", "p_castle_35_2"),
        (call_script, "script_give_center_to_faction_aux", "p_village_35_3", ":var7"),
      (try_end),
      (try_for_range, ":var8", ":var3", ":var4"),
        (assign, ":var9", 999999),
        (assign, ":var10", -1),
        (try_for_range, ":var11", ":var5", ":var6"),
          (neg|party_slot_ge, ":var11", 120, 1),
          (store_distance_to_party_from_party, ":var12", ":var11", ":var8"),
          (lt, ":var12", ":var9"),
          (assign, ":var9", ":var12"),
          (assign, ":var10", ":var11"),
        (try_end),
        (assign, ":var13", 0),
        (try_for_range, ":var11", ":var5", ":var6"),
          (party_slot_eq, ":var11", 120, ":var8"),
          (assign, ":var13", 1),
        (try_end),
        (try_begin),
          (eq, ":var13", 0),
          (neq, ":var10", -1),
          (party_set_slot, ":var10", 120, ":var8"),
          (store_faction_of_party, ":var7", ":var8"),
          (call_script, "script_give_center_to_faction_aux", ":var10", ":var7"),
        (try_end),
      (try_end),
      (try_for_range, ":var8", ":var1", ":var2"),
        (assign, ":var9", 999999),
        (assign, ":var10", -1),
        (try_for_range, ":var11", ":var5", ":var6"),
          (neg|party_slot_ge, ":var11", 120, 1),
          (store_distance_to_party_from_party, ":var12", ":var11", ":var8"),
          (lt, ":var12", ":var9"),
          (assign, ":var9", ":var12"),
          (assign, ":var10", ":var11"),
        (try_end),
        (neq, ":var10", -1),
        (party_set_slot, ":var10", 120, ":var8"),
        (store_faction_of_party, ":var7", ":var8"),
        (call_script, "script_give_center_to_faction_aux", ":var10", ":var7"),
      (try_end),
      (try_for_range, ":var8", ":var1", ":var2"),
        (assign, ":var9", 999999),
        (assign, ":var10", -1),
        (try_for_range, ":var11", ":var5", ":var6"),
          (neg|party_slot_ge, ":var11", 120, 1),
          (store_distance_to_party_from_party, ":var12", ":var11", ":var8"),
          (lt, ":var12", ":var9"),
          (assign, ":var9", ":var12"),
          (assign, ":var10", ":var11"),
        (try_end),
        (neq, ":var10", -1),
        (party_set_slot, ":var10", 120, ":var8"),
        (store_faction_of_party, ":var7", ":var8"),
        (call_script, "script_give_center_to_faction_aux", ":var10", ":var7"),
      (try_end),
    (try_end),
    (store_sub, ":var14", "p_castle_1_1", "p_town_1_1"),
    (store_sub, ":var15", "p_salt_mine", "p_village_1_1"),
    (store_sub, ":var16", "p_village_1_1", "p_castle_1_1"),
    (store_sub, ":var17", "trp_village_1_elder", "trp_town_1_mayor"),
    (store_sub, ":var18", "trp_town_1_merchant", "trp_town_1_tavernkeeper"),
    (store_sub, ":var19", "trp_town_1_tavernkeeper", "trp_town_1_weaponsmith"),
    (store_sub, ":var20", "trp_town_1_weaponsmith", "trp_town_1_armorer"),
    (store_sub, ":var21", "trp_salt_mine_merchant", "trp_town_1_merchant"),
    (store_sub, ":var22", "trp_town_1_mayor", "trp_town_1_horse_merchant"),
    (store_sub, ":var23", "trp_town_1_armorer", "trp_town_1_arena_master"),
    (store_sub, ":var24", "trp_zendar_chest", "trp_town_1_master_craftsman"),
    (store_sub, ":var25", "trp_merchants_end", "trp_village_1_elder"),
    (assign, reg25, ":var14"),
    (assign, reg27, ":var15"),
    (assign, reg28, ":var16"),
    (store_mul, ":var26", ":var14", 2),
    (val_add, ":var26", ":var16"),
    (try_begin),
      (neq, ":var26", ":var15"),
      (assign, reg26, ":var26"),
    (try_end),
    (try_begin),
      (neq, ":var15", ":var25"),
      (assign, reg26, ":var25"),
      (display_message, "@ERROR -- Villages: {reg27} elders: {reg26}"),
    (try_end),
    (try_begin),
      (neq, ":var14", ":var17"),
      (assign, reg26, ":var17"),
      (display_message, "@ERROR -- Towns: {reg25} mayors: {reg26}"),
    (try_end),
    (try_begin),
      (neq, ":var14", ":var18"),
      (assign, reg26, ":var18"),
      (display_message, "@ERROR -- Towns: {reg25} tavern keepers: {reg26}"),
    (try_end),
    (try_begin),
      (neq, ":var14", ":var19"),
      (assign, reg26, ":var19"),
      (display_message, "@ERROR -- Towns: {reg25} weaponsmiths: {reg26}"),
    (try_end),
    (try_begin),
      (neq, ":var14", ":var20"),
      (assign, reg26, ":var20"),
      (display_message, "@ERROR -- Towns: {reg25} armorers: {reg26}"),
    (try_end),
    (try_begin),
      (neq, ":var14", ":var21"),
      (assign, reg26, ":var21"),
      (display_message, "@ERROR -- Towns: {reg25} merchants: {reg26}"),
    (try_end),
    (try_begin),
      (neq, ":var14", ":var22"),
      (assign, reg26, ":var22"),
      (display_message, "@ERROR -- Towns: {reg25} horse merchants: {reg26}"),
    (try_end),
    (try_begin),
      (neq, ":var14", ":var23"),
      (assign, reg26, ":var23"),
      (display_message, "@ERROR -- Towns: {reg25} arena masters: {reg26}"),
    (try_end),
    (try_begin),
      (neq, ":var14", ":var24"),
      (assign, reg26, ":var24"),
      (display_message, "@ERROR -- Towns: {reg25} craftsmen: {reg26}"),
    (try_end),
    (try_for_range, ":var27", "p_town_1_1", "p_castle_1_1"),
      (store_sub, ":var28", ":var27", "p_town_1_1"),
      (party_set_slot, ":var27", 0, 3),
      (store_add, ":var29", "p_town_merc_1", ":var28"),
      (party_set_slot, ":var27", 279, ":var29"),
      (store_add, ":var29", "trp_town_1_mayor", ":var28"),
      (party_set_slot, ":var27", 25, ":var29"),
      (store_add, ":var29", "trp_town_1_tavernkeeper", ":var28"),
      (party_set_slot, ":var27", 20, ":var29"),
      (store_add, ":var29", "trp_town_1_weaponsmith", ":var28"),
      (party_set_slot, ":var27", 21, ":var29"),
      (store_add, ":var29", "trp_town_1_armorer", ":var28"),
      (party_set_slot, ":var27", 22, ":var29"),
      (store_add, ":var29", "trp_town_1_merchant", ":var28"),
      (party_set_slot, ":var27", 23, ":var29"),
      (store_add, ":var29", "trp_town_1_horse_merchant", ":var28"),
      (party_set_slot, ":var27", 24, ":var29"),
      (store_add, ":var29", "trp_town_1_arena_master", ":var28"),
      (party_set_slot, ":var27", 277, ":var29"),
      (party_set_slot, ":var27", 60, "pt_center_reinforcements"),
    (try_end),
    (try_for_range, ":var30", "p_castle_1_1", "p_village_1_1"),
      (store_sub, ":var28", ":var30", "p_castle_1_1"),
      (val_mul, ":var28", 3),
      (party_set_slot, ":var30", 60, "pt_center_reinforcements"),
      (party_set_slot, ":var30", 0, 2),
      (party_set_slot, ":var30", 54, -1),
    (try_end),
    (try_for_range, ":var31", "p_village_1_1", "p_salt_mine"),
      (store_sub, ":var28", ":var31", "p_village_1_1"),
      (store_add, ":var32", "trp_village_1_elder", ":var28"),
      (party_set_slot, ":var31", 25, ":var32"),
      (party_set_slot, ":var31", 0, 4),
      (party_set_slot, ":var31", 34, -1),
      (call_script, "script_refresh_village_defenders", ":var31"),
      (call_script, "script_refresh_village_defenders", ":var31"),
      (call_script, "script_refresh_village_defenders", ":var31"),
      (call_script, "script_refresh_village_defenders", ":var31"),
    (try_end),
    (try_for_range, ":var33", "p_town_1_1", "p_salt_mine"),
      (party_set_slot, ":var33", 55, -1),
      (party_set_slot, ":var33", 54, -1),
      (party_set_slot, ":var33", 28, -1),
    (try_end),
  ]),

  ("ee_setup_lord_banners",
  [
    (troop_set_slot, "trp_kingdom_42_lord", 13, "spr_banner_o06"),
    (troop_set_slot, "trp_knight_42_1", 13, "spr_banner_o01"),
    (troop_set_slot, "trp_knight_42_2", 13, "spr_banner_o02"),
    (troop_set_slot, "trp_knight_42_3", 13, "spr_banner_o03"),
    (troop_set_slot, "trp_knight_42_4", 13, "spr_banner_o04"),
    (troop_set_slot, "trp_knight_42_5", 13, "spr_banner_o05"),
    (troop_set_slot, "trp_kingdom_41_lord", 13, "spr_banner_s"),
    (troop_set_slot, "trp_knight_41_1", 13, "spr_banner_s"),
    (troop_set_slot, "trp_knight_41_2", 13, "spr_banner_s"),
    (troop_set_slot, "trp_knight_41_3", 13, "spr_banner_s"),
    (troop_set_slot, "trp_knight_41_4", 13, "spr_banner_s"),
    (troop_set_slot, "trp_knight_41_5", 13, "spr_banner_s"),
    (troop_set_slot, "trp_kingdom_40_lord", 13, "spr_banner_t"),
    (troop_set_slot, "trp_knight_40_1", 13, "spr_banner_t"),
    (troop_set_slot, "trp_knight_40_2", 13, "spr_banner_t"),
    (troop_set_slot, "trp_knight_40_3", 13, "spr_banner_t"),
    (troop_set_slot, "trp_knight_40_4", 13, "spr_banner_t"),
    (troop_set_slot, "trp_knight_40_5", 13, "spr_banner_t"),
    (troop_set_slot, "trp_kingdom_39_lord", 13, "spr_banner_x09"),
    (troop_set_slot, "trp_knight_39_1", 13, "spr_banner_r12"),
    (troop_set_slot, "trp_knight_39_2", 13, "spr_banner_r03"),
    (troop_set_slot, "trp_knight_39_3", 13, "spr_banner_k20"),
    (troop_set_slot, "trp_knight_39_4", 13, "spr_banner_r04"),
    (troop_set_slot, "trp_knight_39_5", 13, "spr_banner_r02"),
    (troop_set_slot, "trp_kingdom_38_lord", 13, "spr_banner_f18"),
    (troop_set_slot, "trp_knight_38_1", 13, "spr_banner_f18"),
    (troop_set_slot, "trp_knight_38_2", 13, "spr_banner_r08"),
    (troop_set_slot, "trp_knight_38_3", 13, "spr_banner_r07"),
    (troop_set_slot, "trp_knight_38_4", 13, "spr_banner_r06"),
    (troop_set_slot, "trp_knight_38_5", 13, "spr_banner_r05"),
    (troop_set_slot, "trp_kingdom_37_lord", 13, "spr_banner_h"),
    (troop_set_slot, "trp_knight_37_1", 13, "spr_banner_h"),
    (troop_set_slot, "trp_knight_37_2", 13, "spr_banner_i"),
    (troop_set_slot, "trp_knight_37_3", 13, "spr_banner_i"),
    (troop_set_slot, "trp_kingdom_36_lord", 13, "spr_banner_p19"),
    (troop_set_slot, "trp_knight_36_1", 13, "spr_banner_p21"),
    (troop_set_slot, "trp_knight_36_2", 13, "spr_banner_p20"),
    (troop_set_slot, "trp_knight_36_3", 13, "spr_banner_p19"),
    (troop_set_slot, "trp_kingdom_35_lord", 13, "spr_banner_d"),
    (troop_set_slot, "trp_knight_35_1", 13, "spr_banner_p18"),
    (troop_set_slot, "trp_knight_35_2", 13, "spr_banner_p17"),
    (troop_set_slot, "trp_knight_35_3", 13, "spr_banner_p16"),
    (troop_set_slot, "trp_kingdom_34_lord", 13, "spr_banner_l"),
    (troop_set_slot, "trp_knight_34_1", 13, "spr_banner_p15"),
    (troop_set_slot, "trp_knight_34_2", 13, "spr_banner_p14"),
    (troop_set_slot, "trp_knight_34_3", 13, "spr_banner_p13"),
    (troop_set_slot, "trp_kingdom_33_lord", 13, "spr_banner_p17"),
    (troop_set_slot, "trp_knight_33_1", 13, "spr_banner_p12"),
    (troop_set_slot, "trp_knight_33_2", 13, "spr_banner_p11"),
    (troop_set_slot, "trp_knight_33_3", 13, "spr_banner_p10"),
    (troop_set_slot, "trp_kingdom_32_lord", 13, "spr_banner_o"),
    (troop_set_slot, "trp_knight_32_1", 13, "spr_banner_j"),
    (troop_set_slot, "trp_knight_32_2", 13, "spr_banner_r10"),
    (troop_set_slot, "trp_knight_32_3", 13, "spr_banner_r"),
    (troop_set_slot, "trp_knight_32_4", 13, "spr_banner_q09"),
    (troop_set_slot, "trp_knight_32_5", 13, "spr_banner_j"),
    (troop_set_slot, "trp_knight_32_6", 13, "spr_banner_q"),
    (troop_set_slot, "trp_knight_32_7", 13, "spr_banner_r"),
    (troop_set_slot, "trp_knight_32_8", 13, "spr_banner_p"),
    (troop_set_slot, "trp_knight_32_9", 13, "spr_banner_j"),
    (troop_set_slot, "trp_knight_32_10", 13, "spr_banner_j"),
    (troop_set_slot, "trp_kingdom_31_lord", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_1", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_2", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_3", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_4", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_5", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_6", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_7", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_8", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_9", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_10", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_11", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_12", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_13", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_14", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_knight_31_15", 13, "spr_banner_x19"),
    (troop_set_slot, "trp_kingdom_30_lord", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_1", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_2", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_3", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_4", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_5", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_6", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_7", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_8", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_9", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_knight_30_10", 13, "spr_banner_x15"),
    (troop_set_slot, "trp_kingdom_29_lord", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_1", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_2", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_3", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_4", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_5", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_6", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_7", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_8", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_9", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_knight_29_10", 13, "spr_banner_x16"),
    (troop_set_slot, "trp_kingdom_28_lord", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_1", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_2", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_3", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_4", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_5", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_6", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_7", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_8", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_9", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_10", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_11", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_12", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_13", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_14", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_knight_28_15", 13, "spr_banner_x13"),
    (troop_set_slot, "trp_kingdom_27_lord", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_1", 13, "spr_banner_x14"),
    (troop_set_slot, "trp_knight_27_2", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_3", 13, "spr_banner_i18"),
    (troop_set_slot, "trp_knight_27_4", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_5", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_6", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_7", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_8", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_9", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_10", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_11", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_12", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_13", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_14", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_knight_27_15", 13, "spr_banner_x12"),
    (troop_set_slot, "trp_kingdom_26_lord", 13, "spr_banner_x11"),
    (troop_set_slot, "trp_knight_26_1", 13, "spr_banner_i16"),
    (troop_set_slot, "trp_knight_26_2", 13, "spr_banner_i12"),
    (troop_set_slot, "trp_knight_26_3", 13, "spr_banner_i11"),
    (troop_set_slot, "trp_knight_26_4", 13, "spr_banner_i15"),
    (troop_set_slot, "trp_knight_26_5", 13, "spr_banner_x11"),
    (troop_set_slot, "trp_knight_26_6", 13, "spr_banner_i10"),
    (troop_set_slot, "trp_knight_26_7", 13, "spr_banner_i13"),
    (troop_set_slot, "trp_knight_26_8", 13, "spr_banner_x11"),
    (troop_set_slot, "trp_knight_26_9", 13, "spr_banner_i14"),
    (troop_set_slot, "trp_knight_26_10", 13, "spr_banner_x11"),
    (troop_set_slot, "trp_kingdom_25_lord", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_1", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_2", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_3", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_4", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_5", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_6", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_7", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_8", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_9", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_10", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_11", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_12", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_13", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_14", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_15", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_16", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_17", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_18", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_19", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_knight_25_20", 13, "spr_banner_x10"),
    (troop_set_slot, "trp_kingdom_24_lord", 13, "spr_banner_f10"),
    (troop_set_slot, "trp_knight_24_1", 13, "spr_banner_r11"),
    (troop_set_slot, "trp_knight_24_2", 13, "spr_banner_f12"),
    (troop_set_slot, "trp_knight_24_3", 13, "spr_banner_f13"),
    (troop_set_slot, "trp_knight_24_4", 13, "spr_banner_f14"),
    (troop_set_slot, "trp_knight_24_5", 13, "spr_banner_f15"),
    (troop_set_slot, "trp_knight_24_6", 13, "spr_banner_f10"),
    (troop_set_slot, "trp_knight_24_7", 13, "spr_banner_f10"),
    (troop_set_slot, "trp_knight_24_8", 13, "spr_banner_f10"),
    (troop_set_slot, "trp_knight_24_9", 13, "spr_banner_f10"),
    (troop_set_slot, "trp_knight_24_10", 13, "spr_banner_f10"),
    (troop_set_slot, "trp_kingdom_23_lord", 13, "spr_banner_v05"),
    (troop_set_slot, "trp_knight_23_1", 13, "spr_banner_v07"),
    (troop_set_slot, "trp_knight_23_2", 13, "spr_banner_v08"),
    (troop_set_slot, "trp_knight_23_3", 13, "spr_banner_x20"),
    (troop_set_slot, "trp_knight_23_4", 13, "spr_banner_v02"),
    (troop_set_slot, "trp_knight_23_5", 13, "spr_banner_v03"),
    (troop_set_slot, "trp_knight_23_6", 13, "spr_banner_v06"),
    (troop_set_slot, "trp_knight_23_7", 13, "spr_banner_v04"),
    (troop_set_slot, "trp_knight_23_8", 13, "spr_banner_v13"),
    (troop_set_slot, "trp_knight_23_9", 13, "spr_banner_x21"),
    (troop_set_slot, "trp_knight_23_10", 13, "spr_banner_v10"),
    (troop_set_slot, "trp_knight_23_11", 13, "spr_banner_v14"),
    (troop_set_slot, "trp_knight_23_12", 13, "spr_banner_v15"),
    (troop_set_slot, "trp_knight_23_13", 13, "spr_banner_v20"),
    (troop_set_slot, "trp_knight_23_14", 13, "spr_banner_x08"),
    (troop_set_slot, "trp_knight_23_15", 13, "spr_banner_x08"),
    (troop_set_slot, "trp_kingdom_22_lord", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_1", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_2", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_3", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_4", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_5", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_6", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_7", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_8", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_9", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_10", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_11", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_12", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_13", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_14", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_knight_22_15", 13, "spr_banner_x07"),
    (troop_set_slot, "trp_pope", 13, "spr_banner_f16"),
    (troop_set_slot, "trp_knight_21_1", 13, "spr_banner_f17"),
    (troop_set_slot, "trp_knight_21_2", 13, "spr_banner_o09"),
    (troop_set_slot, "trp_knight_21_3", 13, "spr_banner_f19"),
    (troop_set_slot, "trp_knight_21_4", 13, "spr_banner_f20"),
    (troop_set_slot, "trp_knight_21_5", 13, "spr_banner_f21"),
    (troop_set_slot, "trp_kingdom_20_lord", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_1", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_2", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_3", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_4", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_5", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_6", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_7", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_8", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_9", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_10", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_11", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_12", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_13", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_14", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_15", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_16", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_17", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_18", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_knight_20_19", 13, "spr_banner_x02"),
    (troop_set_slot, "trp_knight_20_20", 13, "spr_banner_x01"),
    (troop_set_slot, "trp_kingdom_19_lord", 13, "spr_banner_x04"),
    (troop_set_slot, "trp_knight_19_1", 13, "spr_banner_x04"),
    (troop_set_slot, "trp_knight_19_2", 13, "spr_banner_x04"),
    (troop_set_slot, "trp_knight_19_3", 13, "spr_banner_x04"),
    (troop_set_slot, "trp_kingdom_18_lord", 13, "spr_banner_f01"),
    (troop_set_slot, "trp_knight_18_1", 13, "spr_banner_f02"),
    (troop_set_slot, "trp_knight_18_2", 13, "spr_banner_f03"),
    (troop_set_slot, "trp_knight_18_3", 13, "spr_banner_f04"),
    (troop_set_slot, "trp_knight_18_4", 13, "spr_banner_f05"),
    (troop_set_slot, "trp_knight_18_5", 13, "spr_banner_f06"),
    (troop_set_slot, "trp_knight_18_6", 13, "spr_banner_f07"),
    (troop_set_slot, "trp_knight_18_7", 13, "spr_banner_f08"),
    (troop_set_slot, "trp_knight_18_8", 13, "spr_banner_f09"),
    (troop_set_slot, "trp_knight_18_9", 13, "spr_banner_e18"),
    (troop_set_slot, "trp_knight_18_10", 13, "spr_banner_f01"),
    (troop_set_slot, "trp_knight_18_11", 13, "spr_banner_f01"),
    (troop_set_slot, "trp_knight_18_12", 13, "spr_banner_f01"),
    (troop_set_slot, "trp_knight_18_13", 13, "spr_banner_f01"),
    (troop_set_slot, "trp_knight_18_14", 13, "spr_banner_f01"),
    (troop_set_slot, "trp_knight_18_15", 13, "spr_banner_f01"),
    (troop_set_slot, "trp_kingdom_17_lord", 13, "spr_banner_e01"),
    (troop_set_slot, "trp_knight_17_1", 13, "spr_banner_e02"),
    (troop_set_slot, "trp_knight_17_2", 13, "spr_banner_e03"),
    (troop_set_slot, "trp_knight_17_3", 13, "spr_banner_e04"),
    (troop_set_slot, "trp_knight_17_4", 13, "spr_banner_e05"),
    (troop_set_slot, "trp_knight_17_5", 13, "spr_banner_e06"),
    (troop_set_slot, "trp_knight_17_6", 13, "spr_banner_e07"),
    (troop_set_slot, "trp_knight_17_7", 13, "spr_banner_e08"),
    (troop_set_slot, "trp_knight_17_8", 13, "spr_banner_e09"),
    (troop_set_slot, "trp_knight_17_9", 13, "spr_banner_e10"),
    (troop_set_slot, "trp_knight_17_10", 13, "spr_banner_e11"),
    (troop_set_slot, "trp_knight_17_11", 13, "spr_banner_e12"),
    (troop_set_slot, "trp_knight_17_12", 13, "spr_banner_e13"),
    (troop_set_slot, "trp_knight_17_13", 13, "spr_banner_e14"),
    (troop_set_slot, "trp_knight_17_14", 13, "spr_banner_e15"),
    (troop_set_slot, "trp_knight_17_15", 13, "spr_banner_e16"),
    (troop_set_slot, "trp_kingdom_16_lord", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_1", 13, "spr_banner_e21"),
    (troop_set_slot, "trp_knight_16_2", 13, "spr_banner_e19"),
    (troop_set_slot, "trp_knight_16_3", 13, "spr_banner_e20"),
    (troop_set_slot, "trp_knight_16_4", 13, "spr_banner_e21"),
    (troop_set_slot, "trp_knight_16_5", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_6", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_7", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_8", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_9", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_10", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_11", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_12", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_13", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_14", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_knight_16_15", 13, "spr_banner_e17"),
    (troop_set_slot, "trp_kingdom_15_lord", 13, "spr_banner_v01"),
    (troop_set_slot, "trp_knight_15_1", 13, "spr_banner_i06"),
    (troop_set_slot, "trp_knight_15_2", 13, "spr_banner_i07"),
    (troop_set_slot, "trp_knight_15_3", 13, "spr_banner_i08"),
    (troop_set_slot, "trp_knight_15_4", 13, "spr_banner_i09"),
    (troop_set_slot, "trp_knight_15_5", 13, "spr_banner_v01"),
    (troop_set_slot, "trp_knight_15_6", 13, "spr_banner_v01"),
    (troop_set_slot, "trp_knight_15_7", 13, "spr_banner_v01"),
    (troop_set_slot, "trp_knight_15_8", 13, "spr_banner_v01"),
    (troop_set_slot, "trp_knight_15_9", 13, "spr_banner_v01"),
    (troop_set_slot, "trp_knight_15_10", 13, "spr_banner_v01"),
    (troop_set_slot, "trp_kingdom_14_lord", 13, "spr_banner_u01"),
    (troop_set_slot, "trp_knight_14_1", 13, "spr_banner_u02"),
    (troop_set_slot, "trp_knight_14_2", 13, "spr_banner_u03"),
    (troop_set_slot, "trp_knight_14_3", 13, "spr_banner_u04"),
    (troop_set_slot, "trp_knight_14_4", 13, "spr_banner_u05"),
    (troop_set_slot, "trp_knight_14_5", 13, "spr_banner_u06"),
    (troop_set_slot, "trp_knight_14_6", 13, "spr_banner_u07"),
    (troop_set_slot, "trp_knight_14_7", 13, "spr_banner_u08"),
    (troop_set_slot, "trp_knight_14_8", 13, "spr_banner_u09"),
    (troop_set_slot, "trp_knight_14_9", 13, "spr_banner_u10"),
    (troop_set_slot, "trp_knight_14_10", 13, "spr_banner_u11"),
    (troop_set_slot, "trp_knight_14_11", 13, "spr_banner_u12"),
    (troop_set_slot, "trp_knight_14_12", 13, "spr_banner_u13"),
    (troop_set_slot, "trp_knight_14_13", 13, "spr_banner_u14"),
    (troop_set_slot, "trp_knight_14_14", 13, "spr_banner_u15"),
    (troop_set_slot, "trp_knight_14_15", 13, "spr_banner_u16"),
    (troop_set_slot, "trp_kingdom_13_lord", 13, "spr_banner_t02"),
    (troop_set_slot, "trp_knight_13_1", 13, "spr_banner_t01"),
    (troop_set_slot, "trp_knight_13_2", 13, "spr_banner_t03"),
    (troop_set_slot, "trp_knight_13_3", 13, "spr_banner_t04"),
    (troop_set_slot, "trp_knight_13_4", 13, "spr_banner_t05"),
    (troop_set_slot, "trp_knight_13_5", 13, "spr_banner_t06"),
    (troop_set_slot, "trp_knight_13_6", 13, "spr_banner_t07"),
    (troop_set_slot, "trp_knight_13_7", 13, "spr_banner_t08"),
    (troop_set_slot, "trp_knight_13_8", 13, "spr_banner_t09"),
    (troop_set_slot, "trp_knight_13_9", 13, "spr_banner_t10"),
    (troop_set_slot, "trp_knight_13_10", 13, "spr_banner_t11"),
    (troop_set_slot, "trp_kingdom_13_pretender", 13, "spr_banner_t01"),
    (troop_set_slot, "trp_kingdom_12_lord", 13, "spr_banner_s01"),
    (troop_set_slot, "trp_knight_12_1", 13, "spr_banner_s02"),
    (troop_set_slot, "trp_knight_12_2", 13, "spr_banner_s03"),
    (troop_set_slot, "trp_knight_12_3", 13, "spr_banner_s04"),
    (troop_set_slot, "trp_knight_12_4", 13, "spr_banner_s05"),
    (troop_set_slot, "trp_knight_12_5", 13, "spr_banner_s06"),
    (troop_set_slot, "trp_knight_12_6", 13, "spr_banner_s07"),
    (troop_set_slot, "trp_knight_12_7", 13, "spr_banner_s08"),
    (troop_set_slot, "trp_knight_12_8", 13, "spr_banner_s09"),
    (troop_set_slot, "trp_knight_12_9", 13, "spr_banner_s10"),
    (troop_set_slot, "trp_knight_12_10", 13, "spr_banner_s11"),
    (troop_set_slot, "trp_kingdom_12_pretender", 13, "spr_banner_s01"),
    (troop_set_slot, "trp_kingdom_11_lord", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_1", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_2", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_3", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_4", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_5", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_6", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_7", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_8", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_9", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_10", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_11", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_12", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_13", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_14", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_knight_11_15", 13, "spr_banner_r01"),
    (troop_set_slot, "trp_kingdom_10_lord", 13, "spr_banner_g01"),
    (troop_set_slot, "trp_knight_10_1", 13, "spr_banner_g02"),
    (troop_set_slot, "trp_knight_10_2", 13, "spr_banner_g03"),
    (troop_set_slot, "trp_knight_10_3", 13, "spr_banner_g04"),
    (troop_set_slot, "trp_knight_10_4", 13, "spr_banner_g05"),
    (troop_set_slot, "trp_knight_10_5", 13, "spr_banner_g06"),
    (troop_set_slot, "trp_knight_10_6", 13, "spr_banner_g07"),
    (troop_set_slot, "trp_knight_10_7", 13, "spr_banner_g08"),
    (troop_set_slot, "trp_knight_10_8", 13, "spr_banner_g09"),
    (troop_set_slot, "trp_knight_10_9", 13, "spr_banner_g10"),
    (troop_set_slot, "trp_knight_10_10", 13, "spr_banner_g11"),
    (troop_set_slot, "trp_knight_10_11", 13, "spr_banner_g12"),
    (troop_set_slot, "trp_knight_10_12", 13, "spr_banner_g13"),
    (troop_set_slot, "trp_knight_10_13", 13, "spr_banner_g14"),
    (troop_set_slot, "trp_knight_10_14", 13, "spr_banner_g15"),
    (troop_set_slot, "trp_knight_10_15", 13, "spr_banner_g16"),
    (troop_set_slot, "trp_knight_10_16", 13, "spr_banner_g17"),
    (troop_set_slot, "trp_knight_10_17", 13, "spr_banner_g18"),
    (troop_set_slot, "trp_knight_10_18", 13, "spr_banner_g19"),
    (troop_set_slot, "trp_knight_10_19", 13, "spr_banner_g20"),
    (troop_set_slot, "trp_knight_10_20", 13, "spr_banner_g21"),
    (troop_set_slot, "trp_kingdom_9_lord", 13, "spr_banner_h01"),
    (troop_set_slot, "trp_knight_9_1", 13, "spr_banner_h02"),
    (troop_set_slot, "trp_knight_9_2", 13, "spr_banner_h03"),
    (troop_set_slot, "trp_knight_9_3", 13, "spr_banner_h04"),
    (troop_set_slot, "trp_knight_9_4", 13, "spr_banner_h05"),
    (troop_set_slot, "trp_knight_9_5", 13, "spr_banner_h06"),
    (troop_set_slot, "trp_knight_9_6", 13, "spr_banner_h07"),
    (troop_set_slot, "trp_knight_9_7", 13, "spr_banner_h08"),
    (troop_set_slot, "trp_knight_9_8", 13, "spr_banner_h09"),
    (troop_set_slot, "trp_knight_9_9", 13, "spr_banner_h10"),
    (troop_set_slot, "trp_knight_9_10", 13, "spr_banner_h11"),
    (troop_set_slot, "trp_knight_9_11", 13, "spr_banner_h12"),
    (troop_set_slot, "trp_knight_9_12", 13, "spr_banner_h13"),
    (troop_set_slot, "trp_knight_9_13", 13, "spr_banner_h14"),
    (troop_set_slot, "trp_knight_9_14", 13, "spr_banner_h15"),
    (troop_set_slot, "trp_knight_9_15", 13, "spr_banner_h16"),
    (troop_set_slot, "trp_knight_9_16", 13, "spr_banner_h17"),
    (troop_set_slot, "trp_knight_9_17", 13, "spr_banner_h18"),
    (troop_set_slot, "trp_knight_9_18", 13, "spr_banner_h19"),
    (troop_set_slot, "trp_knight_9_19", 13, "spr_banner_h20"),
    (troop_set_slot, "trp_knight_9_20", 13, "spr_banner_h21"),
    (troop_set_slot, "trp_kingdom_9_pretender", 13, "spr_banner_h01"),
    (troop_set_slot, "trp_kingdom_8_lord", 13, "spr_banner_i01"),
    (troop_set_slot, "trp_knight_8_1", 13, "spr_banner_i02"),
    (troop_set_slot, "trp_knight_8_2", 13, "spr_banner_i03"),
    (troop_set_slot, "trp_knight_8_3", 13, "spr_banner_i04"),
    (troop_set_slot, "trp_knight_8_4", 13, "spr_banner_i05"),
    (troop_set_slot, "trp_knight_8_5", 13, "spr_banner_i06"),
    (troop_set_slot, "trp_knight_8_6", 13, "spr_banner_i07"),
    (troop_set_slot, "trp_knight_8_7", 13, "spr_banner_i08"),
    (troop_set_slot, "trp_knight_8_8", 13, "spr_banner_i09"),
    (troop_set_slot, "trp_knight_8_9", 13, "spr_banner_i10"),
    (troop_set_slot, "trp_knight_8_10", 13, "spr_banner_i11"),
    (troop_set_slot, "trp_kingdom_7_lord", 13, "spr_banner_j01"),
    (troop_set_slot, "trp_knight_7_1", 13, "spr_banner_j02"),
    (troop_set_slot, "trp_knight_7_2", 13, "spr_banner_j03"),
    (troop_set_slot, "trp_knight_7_3", 13, "spr_banner_j04"),
    (troop_set_slot, "trp_knight_7_4", 13, "spr_banner_j05"),
    (troop_set_slot, "trp_knight_7_5", 13, "spr_banner_j06"),
    (troop_set_slot, "trp_knight_7_6", 13, "spr_banner_j07"),
    (troop_set_slot, "trp_knight_7_7", 13, "spr_banner_j08"),
    (troop_set_slot, "trp_knight_7_8", 13, "spr_banner_j09"),
    (troop_set_slot, "trp_knight_7_9", 13, "spr_banner_j10"),
    (troop_set_slot, "trp_knight_7_10", 13, "spr_banner_j11"),
    (troop_set_slot, "trp_knight_7_11", 13, "spr_banner_j12"),
    (troop_set_slot, "trp_knight_7_12", 13, "spr_banner_j13"),
    (troop_set_slot, "trp_knight_7_13", 13, "spr_banner_j14"),
    (troop_set_slot, "trp_knight_7_14", 13, "spr_banner_j15"),
    (troop_set_slot, "trp_knight_7_15", 13, "spr_banner_j16"),
    (troop_set_slot, "trp_kingdom_6_lord", 13, "spr_banner_k01"),
    (troop_set_slot, "trp_knight_6_1", 13, "spr_banner_k02"),
    (troop_set_slot, "trp_knight_6_2", 13, "spr_banner_k03"),
    (troop_set_slot, "trp_knight_6_3", 13, "spr_banner_k04"),
    (troop_set_slot, "trp_knight_6_4", 13, "spr_banner_k05"),
    (troop_set_slot, "trp_knight_6_5", 13, "spr_banner_k06"),
    (troop_set_slot, "trp_knight_6_6", 13, "spr_banner_k07"),
    (troop_set_slot, "trp_knight_6_7", 13, "spr_banner_k08"),
    (troop_set_slot, "trp_knight_6_8", 13, "spr_banner_k09"),
    (troop_set_slot, "trp_knight_6_9", 13, "spr_banner_k10"),
    (troop_set_slot, "trp_knight_6_10", 13, "spr_banner_k11"),
    (troop_set_slot, "trp_knight_6_11", 13, "spr_banner_k12"),
    (troop_set_slot, "trp_knight_6_12", 13, "spr_banner_k13"),
    (troop_set_slot, "trp_knight_6_13", 13, "spr_banner_k14"),
    (troop_set_slot, "trp_knight_6_14", 13, "spr_banner_k15"),
    (troop_set_slot, "trp_knight_6_15", 13, "spr_banner_k16"),
    (troop_set_slot, "trp_knight_6_16", 13, "spr_banner_k17"),
    (troop_set_slot, "trp_knight_6_17", 13, "spr_banner_k18"),
    (troop_set_slot, "trp_knight_6_18", 13, "spr_banner_k19"),
    (troop_set_slot, "trp_knight_6_19", 13, "spr_banner_k20"),
    (troop_set_slot, "trp_knight_6_20", 13, "spr_banner_k21"),
    (troop_set_slot, "trp_kingdom_5_lord", 13, "spr_banner_l01"),
    (troop_set_slot, "trp_knight_5_1", 13, "spr_banner_l02"),
    (troop_set_slot, "trp_knight_5_2", 13, "spr_banner_l16"),
    (troop_set_slot, "trp_knight_5_3", 13, "spr_banner_l07"),
    (troop_set_slot, "trp_knight_5_4", 13, "spr_banner_l15"),
    (troop_set_slot, "trp_knight_5_5", 13, "spr_banner_l10"),
    (troop_set_slot, "trp_knight_5_6", 13, "spr_banner_l03"),
    (troop_set_slot, "trp_knight_5_7", 13, "spr_banner_l09"),
    (troop_set_slot, "trp_knight_5_8", 13, "spr_banner_l11"),
    (troop_set_slot, "trp_knight_5_9", 13, "spr_banner_l14"),
    (troop_set_slot, "trp_knight_5_10", 13, "spr_banner_l02"),
    (troop_set_slot, "trp_knight_5_11", 13, "spr_banner_l09"),
    (troop_set_slot, "trp_knight_5_12", 13, "spr_banner_l06"),
    (troop_set_slot, "trp_knight_5_13", 13, "spr_banner_l08"),
    (troop_set_slot, "trp_knight_5_14", 13, "spr_banner_l17"),
    (troop_set_slot, "trp_knight_5_15", 13, "spr_banner_l06"),
    (troop_set_slot, "trp_kingdom_4_lord", 13, "spr_banner_m01"),
    (troop_set_slot, "trp_knight_4_1", 13, "spr_banner_m02"),
    (troop_set_slot, "trp_knight_4_2", 13, "spr_banner_m03"),
    (troop_set_slot, "trp_knight_4_3", 13, "spr_banner_m04"),
    (troop_set_slot, "trp_knight_4_4", 13, "spr_banner_m05"),
    (troop_set_slot, "trp_knight_4_5", 13, "spr_banner_m06"),
    (troop_set_slot, "trp_knight_4_6", 13, "spr_banner_m07"),
    (troop_set_slot, "trp_knight_4_7", 13, "spr_banner_m08"),
    (troop_set_slot, "trp_knight_4_8", 13, "spr_banner_m09"),
    (troop_set_slot, "trp_knight_4_9", 13, "spr_banner_m10"),
    (troop_set_slot, "trp_knight_4_10", 13, "spr_banner_m11"),
    (troop_set_slot, "trp_knight_4_11", 13, "spr_banner_m12"),
    (troop_set_slot, "trp_knight_4_12", 13, "spr_banner_m13"),
    (troop_set_slot, "trp_knight_4_13", 13, "spr_banner_m14"),
    (troop_set_slot, "trp_knight_4_14", 13, "spr_banner_m15"),
    (troop_set_slot, "trp_knight_4_15", 13, "spr_banner_m16"),
    (troop_set_slot, "trp_kingdom_4_pretender", 13, "spr_banner_m01"),
    (troop_set_slot, "trp_kingdom_3_lord", 13, "spr_banner_n01"),
    (troop_set_slot, "trp_knight_3_1", 13, "spr_banner_n02"),
    (troop_set_slot, "trp_knight_3_2", 13, "spr_banner_n03"),
    (troop_set_slot, "trp_knight_3_3", 13, "spr_banner_n04"),
    (troop_set_slot, "trp_knight_3_4", 13, "spr_banner_n05"),
    (troop_set_slot, "trp_knight_3_5", 13, "spr_banner_n06"),
    (troop_set_slot, "trp_knight_3_6", 13, "spr_banner_n07"),
    (troop_set_slot, "trp_knight_3_7", 13, "spr_banner_n08"),
    (troop_set_slot, "trp_knight_3_8", 13, "spr_banner_n09"),
    (troop_set_slot, "trp_knight_3_9", 13, "spr_banner_n10"),
    (troop_set_slot, "trp_knight_3_10", 13, "spr_banner_n11"),
    (troop_set_slot, "trp_knight_3_11", 13, "spr_banner_n12"),
    (troop_set_slot, "trp_knight_3_12", 13, "spr_banner_n13"),
    (troop_set_slot, "trp_knight_3_13", 13, "spr_banner_n14"),
    (troop_set_slot, "trp_knight_3_14", 13, "spr_banner_n15"),
    (troop_set_slot, "trp_knight_3_15", 13, "spr_banner_n16"),
    (troop_set_slot, "trp_knight_3_16", 13, "spr_banner_n17"),
    (troop_set_slot, "trp_knight_3_17", 13, "spr_banner_n18"),
    (troop_set_slot, "trp_knight_3_18", 13, "spr_banner_n19"),
    (troop_set_slot, "trp_knight_3_19", 13, "spr_banner_n20"),
    (troop_set_slot, "trp_knight_3_20", 13, "spr_banner_o21"),
    (troop_set_slot, "trp_kingdom_2_lord", 13, "spr_banner_p01"),
    (troop_set_slot, "trp_knight_2_1", 13, "spr_banner_p02"),
    (troop_set_slot, "trp_knight_2_2", 13, "spr_banner_p03"),
    (troop_set_slot, "trp_knight_2_3", 13, "spr_banner_p04"),
    (troop_set_slot, "trp_knight_2_4", 13, "spr_banner_p05"),
    (troop_set_slot, "trp_knight_2_5", 13, "spr_banner_p06"),
    (troop_set_slot, "trp_knight_2_6", 13, "spr_banner_p07"),
    (troop_set_slot, "trp_knight_2_7", 13, "spr_banner_p08"),
    (troop_set_slot, "trp_knight_2_8", 13, "spr_banner_p09"),
    (troop_set_slot, "trp_knight_2_9", 13, "spr_banner_p10"),
    (troop_set_slot, "trp_knight_2_10", 13, "spr_banner_p11"),
    (troop_set_slot, "trp_knight_2_11", 13, "spr_banner_i12"),
    (troop_set_slot, "trp_knight_2_12", 13, "spr_banner_i13"),
    (troop_set_slot, "trp_knight_2_13", 13, "spr_banner_i14"),
    (troop_set_slot, "trp_knight_2_14", 13, "spr_banner_i15"),
    (troop_set_slot, "trp_knight_2_15", 13, "spr_banner_i16"),
    (troop_set_slot, "trp_kingdom_1_lord", 13, "spr_banner_q01"),
    (troop_set_slot, "trp_knight_1_1", 13, "spr_banner_q02"),
    (troop_set_slot, "trp_knight_1_2", 13, "spr_banner_q03"),
    (troop_set_slot, "trp_knight_1_3", 13, "spr_banner_q04"),
    (troop_set_slot, "trp_knight_1_4", 13, "spr_banner_q05"),
    (troop_set_slot, "trp_knight_1_5", 13, "spr_banner_q06"),
    (troop_set_slot, "trp_knight_1_6", 13, "spr_banner_q07"),
    (troop_set_slot, "trp_knight_1_7", 13, "spr_banner_q08"),
    (troop_set_slot, "trp_knight_1_8", 13, "spr_banner_q09"),
    (troop_set_slot, "trp_knight_1_9", 13, "spr_banner_q10"),
    (troop_set_slot, "trp_knight_1_10", 13, "spr_banner_q11"),
    (troop_set_slot, "trp_knight_1_11", 13, "spr_banner_q12"),
    (troop_set_slot, "trp_knight_1_12", 13, "spr_banner_q13"),
    (troop_set_slot, "trp_knight_1_13", 13, "spr_banner_q14"),
    (troop_set_slot, "trp_knight_1_14", 13, "spr_banner_q15"),
    (troop_set_slot, "trp_knight_1_15", 13, "spr_banner_q16"),
  ]),

  ("ee_give_centers_to_factions",
  [
    (call_script, "script_give_center_to_faction_aux", "p_town_5_1", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_town_5_2", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_town_5_3", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_town_5_4", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_town_1_1", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_town_1_2", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_town_1_3", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_town_1_4", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_town_2_1", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_town_2_2", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_town_2_3", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_town_2_4", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_town_8_1", "fac_kingdom_8"),
    (call_script, "script_give_center_to_faction_aux", "p_town_8_2", "fac_kingdom_8"),
    (call_script, "script_give_center_to_faction_aux", "p_town_3_1", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_town_3_2", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_town_3_3", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_town_3_4", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_town_4_1", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_town_4_2", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_town_4_3", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_town_4_4", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_town_14_1", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_town_14_2", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_town_14_3", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_town_11_1", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_town_11_2", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_town_11_3", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_town_7_1", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_town_7_2", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_town_7_3", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_town_7_4", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_town_6_1", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_town_6_2", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_town_6_3", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_town_6_5", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_town_6_6", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_town_6_4", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_town_9_1", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_town_9_2", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_town_9_3", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_town_9_4", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_town_9_6", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_town_9_5", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_town_10_1", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_town_10_2", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_town_10_3", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_town_10_4", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_town_10_5", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_town_10_6", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_town_10_7", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_town_12_1", "fac_kingdom_12"),
    (call_script, "script_give_center_to_faction_aux", "p_town_12_2", "fac_kingdom_12"),
    (call_script, "script_give_center_to_faction_aux", "p_town_13_1", "fac_kingdom_13"),
    (call_script, "script_give_center_to_faction_aux", "p_town_13_2", "fac_kingdom_13"),
    (call_script, "script_give_center_to_faction_aux", "p_town_15_1", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_town_15_2", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_town_15_3", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_town_16_1", "fac_kingdom_16"),
    (call_script, "script_give_center_to_faction_aux", "p_town_16_2", "fac_kingdom_16"),
    (call_script, "script_give_center_to_faction_aux", "p_town_17_1", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_town_17_2", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_town_18_1", "fac_kingdom_18"),
    (call_script, "script_give_center_to_faction_aux", "p_town_18_2", "fac_kingdom_18"),
    (call_script, "script_give_center_to_faction_aux", "p_town_19_1", "fac_kingdom_19"),
    (call_script, "script_give_center_to_faction_aux", "p_town_20_1", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_town_20_2", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_town_21_1", "fac_papacy"),
    (call_script, "script_give_center_to_faction_aux", "p_town_21_2", "fac_papacy"),
    (call_script, "script_give_center_to_faction_aux", "p_town_22_1", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_town_22_2", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_town_22_3", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_town_22_4", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_town_23_1", "fac_kingdom_23"),
    (call_script, "script_give_center_to_faction_aux", "p_town_23_2", "fac_kingdom_23"),
    (call_script, "script_give_center_to_faction_aux", "p_town_23_4", "fac_kingdom_23"),
    (call_script, "script_give_center_to_faction_aux", "p_town_23_5", "fac_kingdom_23"),
    (call_script, "script_give_center_to_faction_aux", "p_town_23_6", "fac_kingdom_23"),
    (call_script, "script_give_center_to_faction_aux", "p_town_24_1", "fac_kingdom_24"),
    (call_script, "script_give_center_to_faction_aux", "p_town_24_2", "fac_kingdom_24"),
    (call_script, "script_give_center_to_faction_aux", "p_town_25_1", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_town_25_2", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_town_25_3", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_town_25_4", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_town_25_5", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_town_26_1", "fac_kingdom_26"),
    (call_script, "script_give_center_to_faction_aux", "p_town_26_2", "fac_kingdom_26"),
    (call_script, "script_give_center_to_faction_aux", "p_town_27_1", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_town_27_2", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_town_27_3", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_town_27_4", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_town_28_1", "fac_kingdom_28"),
    (call_script, "script_give_center_to_faction_aux", "p_town_28_2", "fac_kingdom_28"),
    (call_script, "script_give_center_to_faction_aux", "p_town_29_1", "fac_kingdom_29"),
    (call_script, "script_give_center_to_faction_aux", "p_town_29_2", "fac_kingdom_29"),
    (call_script, "script_give_center_to_faction_aux", "p_town_30_1", "fac_kingdom_30"),
    (call_script, "script_give_center_to_faction_aux", "p_town_30_2", "fac_kingdom_30"),
    (call_script, "script_give_center_to_faction_aux", "p_town_31_1", "fac_kingdom_31"),
    (call_script, "script_give_center_to_faction_aux", "p_town_31_2", "fac_kingdom_31"),
    (call_script, "script_give_center_to_faction_aux", "p_town_31_3", "fac_kingdom_31"),
    (call_script, "script_give_center_to_faction_aux", "p_town_32_1", "fac_kingdom_32"),
    (call_script, "script_give_center_to_faction_aux", "p_town_32_2", "fac_kingdom_32"),
    (call_script, "script_give_center_to_faction_aux", "p_town_32_3", "fac_kingdom_32"),
    (call_script, "script_give_center_to_faction_aux", "p_town_37_1", "fac_kingdom_37"),
    (call_script, "script_give_center_to_faction_aux", "p_town_38_1", "fac_kingdom_38"),
    (call_script, "script_give_center_to_faction_aux", "p_town_39_1", "fac_kingdom_39"),
    (call_script, "script_give_center_to_faction_aux", "p_town_40_1", "fac_kingdom_40"),
    (call_script, "script_give_center_to_faction_aux", "p_town_40_2", "fac_kingdom_40"),
    (call_script, "script_give_center_to_faction_aux", "p_town_41_1", "fac_kingdom_41"),
    (call_script, "script_give_center_to_faction_aux", "p_town_41_2", "fac_kingdom_41"),
    (call_script, "script_give_center_to_faction_aux", "p_town_42_1", "fac_kingdom_42"),
    (call_script, "script_give_center_to_faction_aux", "p_town_42_2", "fac_kingdom_42"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_5_1", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_5_2", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_5_3", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_5_4", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_5_5", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_5_6", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_5_7", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_5_8", "fac_kingdom_5"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_1", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_2", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_3", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_4", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_5", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_6", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_7", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_8", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_1_9", "fac_kingdom_1"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_2_1", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_2_2", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_2_3", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_2_4", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_2_5", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_2_6", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_2_7", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_2_8", "fac_kingdom_2"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_3_1", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_8_1", "fac_kingdom_8"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_8_2", "fac_kingdom_8"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_8_3", "fac_kingdom_8"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_8_4", "fac_kingdom_8"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_3_2", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_3_3", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_3_4", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_3_5", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_3_6", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_3_7", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_3_8", "fac_kingdom_3"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_1", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_2", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_3", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_4", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_5", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_6", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_7", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_8", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_7_9", "fac_kingdom_7"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_1", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_2", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_3", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_4", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_5", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_6", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_7", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_8", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_9", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_10", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_11", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_12", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_6_13", "fac_kingdom_6"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_4_1", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_4_2", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_4_3", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_4_4", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_4_5", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_4_6", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_4_7", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_4_8", "fac_kingdom_4"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_11_1", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_11_2", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_11_3", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_11_4", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_11_5", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_11_6", "fac_kingdom_11"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_1", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_2", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_3", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_4", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_5", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_6", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_7", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_8", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_9_9", "fac_kingdom_9"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_1", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_2", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_3", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_4", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_5", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_6", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_7", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_8", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_9", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_10", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_11", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_10_12", "fac_kingdom_10"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_12_1", "fac_kingdom_12"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_12_2", "fac_kingdom_12"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_12_3", "fac_kingdom_12"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_12_4", "fac_kingdom_12"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_13_1", "fac_kingdom_13"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_13_2", "fac_kingdom_13"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_13_3", "fac_kingdom_13"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_13_4", "fac_kingdom_13"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_14_1", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_14_2", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_14_3", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_14_4", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_14_5", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_14_6", "fac_kingdom_14"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_15_1", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_15_2", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_15_3", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_15_4", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_15_5", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_15_6", "fac_kingdom_15"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_16_1", "fac_kingdom_16"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_16_2", "fac_kingdom_16"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_16_3", "fac_kingdom_16"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_16_4", "fac_kingdom_16"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_17_1", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_17_2", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_17_3", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_17_4", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_17_5", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_17_6", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_17_7", "fac_kingdom_17"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_18_1", "fac_kingdom_18"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_18_2", "fac_kingdom_18"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_18_3", "fac_kingdom_18"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_18_4", "fac_kingdom_18"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_18_5", "fac_kingdom_18"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_18_6", "fac_kingdom_18"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_19_1", "fac_kingdom_19"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_20_1", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_20_2", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_20_3", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_20_4", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_20_5", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_20_6", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_20_7", "fac_kingdom_20"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_22_1", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_22_2", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_22_3", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_22_4", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_22_5", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_22_6", "fac_kingdom_22"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_23_1", "fac_kingdom_23"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_23_2", "fac_kingdom_23"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_23_3", "fac_kingdom_23"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_24_1", "fac_kingdom_24"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_24_2", "fac_kingdom_24"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_24_3", "fac_kingdom_24"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_24_4", "fac_kingdom_24"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_25_1", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_25_2", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_25_3", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_25_4", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_25_5", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_25_6", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_25_7", "fac_kingdom_25"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_26_1", "fac_kingdom_26"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_26_2", "fac_kingdom_26"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_26_3", "fac_kingdom_26"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_26_4", "fac_kingdom_26"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_27_1", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_27_2", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_27_3", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_27_4", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_27_5", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_27_6", "fac_kingdom_27"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_28_1", "fac_kingdom_28"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_28_2", "fac_kingdom_28"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_28_3", "fac_kingdom_28"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_28_4", "fac_kingdom_28"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_28_5", "fac_kingdom_28"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_28_6", "fac_kingdom_28"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_29_1", "fac_kingdom_29"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_29_2", "fac_kingdom_29"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_30_1", "fac_kingdom_30"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_30_2", "fac_kingdom_30"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_30_3", "fac_kingdom_30"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_31_1", "fac_kingdom_31"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_31_2", "fac_kingdom_31"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_32_1", "fac_kingdom_32"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_32_2", "fac_kingdom_32"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_33_1", "fac_kingdom_33"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_33_2", "fac_kingdom_33"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_33_3", "fac_kingdom_33"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_34_1", "fac_kingdom_34"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_34_2", "fac_kingdom_34"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_34_3", "fac_kingdom_34"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_35_1", "fac_kingdom_35"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_35_2", "fac_kingdom_35"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_35_3", "fac_kingdom_35"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_36_1", "fac_kingdom_36"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_36_2", "fac_kingdom_36"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_36_3", "fac_kingdom_36"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_37_1", "fac_kingdom_37"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_38_1", "fac_kingdom_38"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_38_2", "fac_kingdom_38"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_39_1", "fac_kingdom_39"),
    (call_script, "script_give_center_to_faction_aux", "p_castle_39_2", "fac_kingdom_39"),
    (call_script, "script_give_center_to_lord", "p_castle_player", "trp_temp_lord", 0),
    (call_script, "script_give_center_to_lord", "p_village_player", "trp_temp_lord", 0),
  ]),

  ("dplmc_player_can_give_troops_to_troop",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (assign, ":var2", reg1),
    (try_begin),
      (this_or_next|eq, ":var0", "trp_kingdom_heroes_including_player_begin"),
      (eq, ":var0", "trp_player"),
      (assign, ":var1", 1),
    (else_try),
      (lt, ":var0", 1),
      (assign, ":var1", 0),
    (else_try),
      (store_faction_of_troop, ":var3", ":var0"),
      (call_script, "script_troop_get_player_relation", ":var0"),
      (assign, ":var4", reg0),
      (troop_get_slot, ":var5", ":var0", 52),
      (try_begin),
        (eq, ":var3", "fac_player_supporters_faction"),
        (gt, ":var4", reg0),
        (assign, ":var1", 1),
      (else_try),
        (eq, ":var3", "$players_kingdom"),
        (faction_get_slot, ":var6", ":var3", 11),
        (try_begin),
          (this_or_next|eq, ":var6", "trp_player"),
          (faction_slot_eq, ":var3", 8, "trp_player"),
          (gt, ":var4", reg0),
          (assign, ":var1", 1),
        (else_try),
          (gt, ":var6", 1),
          (neg|troop_slot_eq, "trp_player", 30, -1),
          (this_or_next|troop_slot_eq, ":var6", 30, "trp_player"),
          (troop_slot_eq, "trp_player", 30, ":var6"),
          (call_script, "script_troop_get_player_relation", ":var6"),
          (ge, reg0, 0),
          (gt, ":var4", reg0),
          (assign, ":var1", 1),
        (else_try),
          (neg|troop_slot_eq, "trp_player", 30, -1),
          (this_or_next|troop_slot_eq, ":var0", 30, "trp_player"),
          (troop_slot_eq, "trp_player", 30, ":var0"),
          (this_or_next|ge, ":var4", 0),
          (this_or_next|eq, ":var5", 21),
          (this_or_next|eq, ":var5", 25),
          (eq, ":var5", 23),
          (assign, ":var1", 1),
        (else_try),
          (call_script, "script_ee_is_affiliated_family_member", ":var0"),
          (ge, reg0, 1),
          (assign, ":var1", 1),
        (else_try),
          (this_or_next|is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
          (is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
          (ge, ":var4", 20),
          (assign, ":var1", 1),
        (else_try),
          (ge, ":var4", 20),
          (assign, ":var1", 1),
        (try_end),
      (else_try),
        (call_script, "script_dplmc_get_faction_truce_length_with_faction", "$players_kingdom", ":var3"),
        (gt, reg0, 1),
        (faction_get_slot, ":var7", "$players_kingdom", 11),
        (try_begin),
          (this_or_next|eq, ":var7", "trp_player"),
          (faction_slot_eq, "$players_kingdom", 8, "trp_player"),
          (ge, ":var4", 0),
          (assign, ":var1", 1),
        (else_try),
          (gt, ":var7", 1),
          (neg|troop_slot_eq, "trp_player", 30, -1),
          (this_or_next|troop_slot_eq, ":var7", 30, "trp_player"),
          (troop_slot_eq, "trp_player", 30, ":var7"),
          (ge, ":var4", 0),
          (call_script, "script_troop_get_player_relation", ":var7"),
          (ge, reg0, 0),
          (assign, ":var1", 1),
        (else_try),
          (neg|troop_slot_eq, "trp_player", 30, -1),
          (this_or_next|troop_slot_eq, ":var0", 30, "trp_player"),
          (troop_slot_eq, "trp_player", 30, ":var0"),
          (this_or_next|ge, ":var4", 0),
          (this_or_next|eq, ":var5", 21),
          (this_or_next|eq, ":var5", 25),
          (eq, ":var5", 23),
          (assign, ":var1", 1),
        (else_try),
          (call_script, "script_ee_is_affiliated_family_member", ":var0"),
          (ge, reg0, 1),
          (assign, ":var1", 1),
        (else_try),
          (this_or_next|is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
          (is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
          (ge, ":var4", 20),
          (assign, ":var1", 1),
        (else_try),
          (ge, ":var4", 20),
          (assign, ":var1", 1),
        (try_end),
      (else_try),
        (store_relation, reg0, ":var3", "fac_player_faction"),
        (ge, reg0, 0),
        (store_relation, reg0, ":var3", "$players_kingdom"),
        (ge, reg0, 0),
        (try_begin),
          (neg|troop_slot_eq, "trp_player", 30, -1),
          (this_or_next|troop_slot_eq, ":var0", 30, "trp_player"),
          (troop_slot_eq, "trp_player", 30, ":var0"),
          (this_or_next|ge, ":var4", 0),
          (this_or_next|eq, ":var5", 21),
          (this_or_next|eq, ":var5", 25),
          (eq, ":var5", 23),
          (assign, ":var1", 1),
        (else_try),
          (call_script, "script_ee_is_affiliated_family_member", ":var0"),
          (ge, reg0, 1),
          (assign, ":var1", 1),
        (else_try),
          (this_or_next|is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
          (is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
          (ge, ":var4", 20),
          (assign, ":var1", 1),
        (else_try),
          (ge, ":var4", 20),
          (assign, ":var1", 1),
        (try_end),
      (try_end),
    (try_end),
    (assign, reg1, ":var2"),
    (assign, reg0, ":var1"),
  ]),

  ("ee_is_affiliated_family_member",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", 0),
    (assign, ":var2", reg1),
    (try_begin),
      (this_or_next|troop_slot_eq, ":var0", 32, 0),
      (troop_slot_eq, "trp_player", 32, ":var0"),
      (assign, ":var1", 1),
    (else_try),
      (this_or_next|troop_slot_eq, ":var0", 31, 0),
      (troop_slot_eq, "trp_player", 31, ":var0"),
      (assign, ":var1", 1),
    (else_try),
      (this_or_next|troop_slot_eq, ":var0", 33, 0),
      (troop_slot_eq, "trp_player", 33, ":var0"),
      (assign, ":var1", 1),
    (else_try),
      (this_or_next|troop_slot_eq, ":var0", 30, 0),
      (troop_slot_eq, "trp_player", 30, ":var0"),
      (assign, ":var1", 1),
    (else_try),
      (assign, ":var1", 0),
    (try_end),
    (assign, reg1, ":var2"),
    (assign, reg0, ":var1"),
  ]),

  ("dplmc_get_faction_truce_length_with_faction",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (assign, ":var2", 0),
    (try_begin),
      (is_between, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neq, ":var0", ":var1"),
      (store_add, ":var3", ":var1", 160),
      (val_sub, ":var3", "fac_player_supporters_faction"),
      (faction_get_slot, ":var2", ":var0", ":var3"),
    (try_end),
    (assign, reg0, ":var2"),
  ]),

  ("ee_activate_player_faction",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (faction_slot_eq, "fac_player_supporters_faction", 21, 2),
      (neg|is_between, ":var0", "trp_kingdom_2_pretender", "trp_knight_1_1_wife"),
      (call_script, "script_add_notification_menu", "mnu_notification_player_faction_active", 0, 0),
    (try_end),
    (assign, "$g_player_cur_role", 6),
    (faction_set_slot, "fac_player_supporters_faction", 21, 0),
    (faction_set_slot, "fac_player_supporters_faction", 11, ":var0"),
    (faction_set_slot, "fac_player_supporters_faction", 102, 0),
    (faction_get_slot, ":var2", ":var1", 10),
    (faction_get_slot, ":var3", ":var1", 102),
    (faction_get_slot, ":var4", ":var1", 135),
    (assign, "$g_player_culture", ":var2"),
    (faction_set_slot, "fac_player_supporters_faction", 10, ":var2"),
    (faction_set_slot, "fac_player_supporters_faction", 102, ":var3"),
    (faction_set_slot, "fac_player_supporters_faction", 135, ":var4"),
    (str_store_faction_name, s2, ":var1"),
    (call_script, "script_initialize_faction_troop_types_player"),
    (assign, ":var5", "$players_kingdom"),
    (try_begin),
      (is_between, ":var5", "fac_kingdom_1", "fac_kingdoms_end"),
      (call_script, "script_player_leave_faction", 0),
    (try_end),
    (try_begin),
      (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
      (troop_slot_eq, ":var0", 166, 1),
      (store_faction_of_troop, ":var6"),
      (is_between, ":var6", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_get_slot, ":var7", ":var6", 22),
      (str_store_string, s1, ":var7"),
      (faction_set_name, "fac_player_supporters_faction", "@{s1} Rebels"),
    (else_try),
      (str_store_troop_name, s2, ":var0"),
      (str_store_string, s1, "str_s2s_rebellion"),
    (try_end),
    (assign, "$players_kingdom", "fac_player_supporters_faction"),
    (troop_set_faction, "trp_player", "fac_player_supporters_faction"),
    (assign, "$g_player_banner_granted", 1),
    (try_begin),
      (is_between, ":var5", "fac_kingdom_1", "fac_kingdoms_end"),
      (faction_get_slot, ":var8", ":var5", 11),
      (call_script, "script_add_log_entry", 23, "trp_player", -1, ":var8", "$players_kingdom"),
      (assign, "$players_oath_renounced_against_kingdom", ":var5"),
      (assign, "$players_oath_renounced_given_center", 0),
      (store_current_hours, "$players_oath_renounced_begin_time"),
      (try_for_range, ":var9", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_party, ":var10", ":var9"),
        (party_set_slot, ":var9", 159, ":var10"),
      (try_end),
      (party_set_slot, "$g_center_to_give_to_player", 159, "$players_oath_renounced_against_kingdom"),
      (store_relation, ":var11", ":var5", "fac_player_supporters_faction"),
      (ge, ":var11", 0),
      (call_script, "script_diplomacy_start_war_between_kingdoms", ":var5", "fac_player_supporters_faction", 1),
    (try_end),
    (try_begin),
      (troop_get_slot, ":var12", "trp_player", 30),
      (is_between, ":var12", "trp_knight_1_1_wife", "trp_heroes_end"),
      (try_begin),
        (ge, "$cheat_mode", 1),
        (str_store_troop_name, s4, ":var12"),
        (display_message, "@{!}DEBUG - {s4} faction changed by marriage, case 3"),
      (try_end),
      (troop_set_faction, ":var12", "fac_player_supporters_faction"),
    (try_end),
    (call_script, "script_update_all_notes"),
  ]),

  ("update_wpn_slot_itp",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (troop_get_slot, ":var2", "trp_temp_array_c", ":var1"),
    (troop_get_slot, ":var3", "$temp", ":var0"),
    (try_begin),
      (this_or_next|is_between, ":var2", 2, 7),
      (eq, ":var2", 10),
      (store_mod, ":var4", ":var3", 100),
      (val_sub, ":var3", ":var4"),
      (val_add, ":var3", ":var2"),
    (else_try),
      (assign, ":var3", ":var2"),
    (try_end),
    (troop_set_slot, "$temp", ":var0", ":var3"),
    (assign, "$temp_2", ":var0"),
    (start_presentation, "prsnt_dplmc_autoloot_upgrade_management"),
  ]),

  ("dplmc_copy_upgrade_to_all_heroes",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (try_begin),
      (eq, ":var1", 1),
      (troop_get_slot, ":var2", ":var0", 187),
      (troop_get_slot, ":var3", ":var0", 188),
      (troop_get_slot, ":var4", ":var0", 189),
      (troop_get_slot, ":var5", ":var0", 190),
      (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_set_slot, ":var6", 187, ":var2"),
        (troop_set_slot, ":var6", 188, ":var3"),
        (troop_set_slot, ":var6", 189, ":var4"),
        (troop_set_slot, ":var6", 190, ":var5"),
      (try_end),
    (else_try),
      (eq, ":var1", 3),
      (troop_get_slot, ":var7", ":var0", 185),
      (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_set_slot, ":var6", 185, ":var7"),
      (try_end),
    (else_try),
      (eq, ":var1", 4),
      (troop_get_slot, ":var8", ":var0", 186),
      (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_set_slot, ":var6", 186, ":var8"),
      (try_end),
    (try_end),
  ]),

  ("dplmc_get_current_item_for_autoloot",
  [
    (store_script_param_1, ":var0"),
    (assign, ":var1", ":var0"),
    (troop_get_inventory_slot, ":var2", "$temp", ":var1"),
    (try_begin),
      (ge, ":var2", 0),
      (str_store_item_name, s10, ":var2"),
    (else_try),
      (str_store_string, s10, "str_dplmc_none"),
    (try_end),
  ]),

  ("dplmc_get_troop_max_hp",
  [
    (store_script_param_1, ":var0"),
    (store_skill_level, ":var1", 36, ":var0"),
    (store_attribute_level, ":var2", ":var0", ca_strength),
    (val_mul, ":var1", 2),
    (val_add, ":var1", ":var2"),
    (val_add, ":var1", 35),
    (assign, reg0, ":var1"),
  ]),

  ("create_wpn_slot_overlay",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (init_position, pos1),
    (position_set_x, pos1, 270),
    (position_set_y, pos1, ":var1"),
    (create_combo_button_overlay, ":var2"),
    (overlay_set_position, ":var2", pos1),
    (assign, ":var3", 0),
    (store_add, ":var4", ":var0", 187),
    (call_script, "script_dplmc_get_current_item_for_autoloot", ":var0"),
    (try_for_range_backwards, ":var5", 0, 19),
      (this_or_next|is_between, ":var5", 2, 11),
      (this_or_next|is_between, ":var5", 16, 19),
      (eq, ":var5", 0),
      (store_add, ":var6", "str_dplmc_hero_wpn_slot_none", ":var5"),
      (overlay_add_item, ":var2", ":var6"),
      (try_begin),
        (troop_get_slot, ":var7", "$temp", ":var4"),
        (val_mod, ":var7", 100),
        (eq, ":var7", ":var5"),
        (overlay_set_val, ":var2", ":var3"),
      (try_end),
      (val_add, ":var3", 1),
    (try_end),
    (troop_set_slot, "trp_stack_selection_ids", ":var0", ":var2"),
    (assign, reg1, ":var2"),
  ]),

  ("dplmc_calculate_troop_score_for_center_aux",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (assign, ":var3", "str_political_explanation_most_deserving_in_faction"),
    (assign, ":var4", -1),
    (try_begin),
      (lt, ":var0", 0),
      (assign, ":var5", 0),
      (assign, ":var6", 0),
    (else_try),
      (eq, ":var0", ":var1"),
      (assign, ":var5", 50),
      (troop_get_slot, ":var6", ":var0", 52),
    (else_try),
      (call_script, "script_troop_get_relation_with_troop", ":var0", ":var1"),
      (assign, ":var5", reg0),
      (troop_get_slot, ":var6", ":var0", 52),
    (try_end),
    (val_clamp, ":var5", -100, 101),
    (troop_get_slot, reg0, ":var1", 7),
    (val_max, reg0, 0),
    (store_add, ":var7", 500, reg0),
    (troop_get_slot, ":var8", ":var1", 46),
    (val_max, ":var8", 0),
    (val_add, ":var8", 1),
    (try_begin),
      (troop_slot_ge, ":var1", 46, 1),
      (neg|troop_slot_eq, ":var1", 60, ":var2"),
      (neg|party_slot_eq, ":var2", 281, ":var1"),
      (troop_get_slot, reg0, ":var1", 46),
      (gt, reg0, 1),
      (val_min, reg0, 250),
      (val_sub, ":var7", reg0),
    (try_end),
    (val_mul, ":var7", 75),
    (val_div, ":var7", ":var8"),
    (assign, ":var9", 0),
    (try_begin),
      (lt, ":var8", 2),
      (party_slot_eq, ":var2", 0, 4),
      (neq, ":var6", 5),
      (neq, ":var6", 3),
      (neq, ":var6", 2),
      (val_mul, ":var7", 2),
      (try_begin),
        (lt, ":var4", 100),
        (assign, ":var4", 100),
        (assign, ":var3", "str_political_explanation_lord_lacks_center"),
      (try_end),
      (assign, ":var9", 1),
    (try_end),
    (assign, ":var10", ":var1"),
    (try_begin),
      (eq, ":var1", "trp_player"),
      (assign, ":var10", "trp_kingdom_heroes_including_player_begin"),
    (try_end),
    (try_begin),
      (neq, ":var6", 5),
      (this_or_next|neq, ":var6", 3),
      (eq, ":var0", ":var1"),
      (neq, ":var6", 4),
      (neg|party_slot_eq, ":var2", 0, 4),
      (party_slot_eq, ":var2", 28, ":var10"),
      (try_begin),
        (lt, ":var8", 2),
        (eq, ":var9", 0),
        (assign, reg1, 50),
      (else_try),
        (this_or_next|troop_slot_eq, ":var1", 60, ":var2"),
        (this_or_next|party_slot_eq, ":var2", 281, ":var10"),
        (this_or_next|party_slot_eq, ":var2", 280, ":var10"),
        (eq, ":var6", 1),
        (assign, reg1, 50),
      (else_try),
        (assign, reg1, 25),
      (try_end),
      (store_add, reg0, 100, reg1),
      (val_mul, ":var7", reg0),
      (val_div, ":var7", 100),
      (try_begin),
        (ge, reg1, ":var4"),
        (assign, ":var4", reg1),
        (assign, ":var3", "str_political_explanation_lord_took_center"),
      (try_end),
    (else_try),
      (gt, ":var1", 0),
      (party_slot_eq, ":var2", 281, ":var10"),
      (try_begin),
        (lt, ":var8", 2),
        (eq, ":var9", 0),
        (assign, reg1, 50),
      (else_try),
        (this_or_next|eq, ":var1", ":var0"),
        (this_or_next|troop_slot_eq, ":var1", 60, ":var2"),
        (party_slot_eq, ":var2", 280, ":var10"),
        (assign, reg1, 50),
      (else_try),
        (assign, reg1, 25),
      (try_end),
      (store_add, reg0, 100, reg1),
      (val_mul, ":var7", reg0),
      (val_div, ":var7", 100),
      (try_begin),
        (ge, reg1, ":var4"),
        (assign, ":var4", reg1),
        (assign, ":var3", "str_dplmc_political_explanation_original_lord"),
      (try_end),
    (else_try),
      (gt, ":var1", 0),
      (party_slot_eq, ":var2", 280, ":var10"),
      (try_begin),
        (lt, ":var8", 2),
        (eq, ":var9", 0),
        (assign, reg1, 50),
      (else_try),
        (troop_slot_eq, ":var1", 60, ":var2"),
        (assign, reg1, 50),
      (else_try),
        (assign, reg1, 25),
      (try_end),
      (store_add, reg0, 100, reg1),
      (val_mul, ":var7", reg0),
      (val_div, ":var7", 100),
      (try_begin),
        (ge, reg1, ":var4"),
        (assign, ":var4", reg1),
        (assign, ":var3", "str_dplmc_political_explanation_original_lord"),
      (try_end),
    (else_try),
      (troop_slot_eq, ":var1", 60, ":var2"),
      (val_mul, ":var7", 5),
      (val_div, ":var7", 4),
      (try_begin),
        (ge, 25, ":var4"),
        (assign, ":var4", 25),
        (assign, ":var3", "str_dplmc_political_explanation_original_lord"),
      (try_end),
    (else_try),
      (troop_get_slot, reg0, ":var1", 14),
      (party_get_slot, reg1, ":var2", 61),
      (neq, reg0, reg1),
      (is_between, reg0, "fac_kingdom_1", "fac_kingdoms_end"),
      (is_between, reg1, "fac_kingdom_1", "fac_kingdoms_end"),
      (val_mul, ":var7", 19),
      (val_add, ":var7", 10),
      (val_div, ":var7", 20),
    (try_end),
    (troop_get_slot, ":var11", ":var1", 150),
    (val_clamp, ":var11", 0, 101),
    (store_mul, ":var12", ":var5", 2),
    (val_sub, ":var12", ":var11"),
    (store_add, reg0, ":var7", 1),
    (val_div, reg0, 2),
    (val_max, reg0, 1),
    (val_min, ":var12", reg0),
    (store_mul, reg0, ":var7", 100),
    (val_add, ":var7", ":var12"),
    (val_div, reg0, ":var7"),
    (store_sub, reg1, ":var7", 100),
    (try_begin),
      (ge, reg1, 0),
      (ge, reg1, ":var4"),
      (ge, ":var5", 15),
      (assign, ":var4", reg1),
      (assign, ":var3", "str_political_explanation_most_deserving_friend"),
    (try_end),
    (assign, reg0, ":var7"),
    (assign, reg1, ":var3"),
  ]),

  ("consume_drinks",
  [
    (store_script_param, ":var0", 1),
    (troop_get_inventory_capacity, ":var1", "trp_player"),
    (try_for_range, ":var2", 0, ":var1"),
      (troop_get_inventory_slot, ":var3", "trp_player", ":var2"),
      (is_between, ":var3", 68, 70),
      (item_slot_eq, ":var3", 0, 0),
      (item_set_slot, ":var3", 0, 1),
      (val_sub, ":var0", 1),
      (lt, ":var0", 0),
      (assign, ":var1", 0),
      (troop_inventory_slot_get_item_amount, ":var4", "trp_player", ":var2"),
      (val_sub, ":var4", 1),
      (troop_inventory_slot_set_item_amount, "trp_player", ":var2", ":var4"),
    (try_end),
  ]),

  ("ee_fix_defeated_faction_parties",
  [
    (try_for_parties, ":var0"),
      (party_is_active, ":var0"),
      (store_faction_of_party, ":var1", ":var0"),
      (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (neg|faction_slot_eq, ":var1", 21, 0),
      (neg|this_or_next|party_slot_eq, ":var0", 0, 4),
      (neg|this_or_next|party_slot_eq, ":var0", 0, 2),
      (neg|party_slot_eq, ":var0", 0, 3),
      (remove_party, ":var0"),
    (try_end),
  ]),

  ("ee_raise_actor_attribute",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_attribute_level, ":var3", ":var1", ":var0"),
    (assign, ":var4", ":var2"),
    (try_for_range, ":var5", 0, ":var4"),
      (try_begin),
        (lt, ":var3", ":var2"),
        (troop_raise_attribute, ":var1", ":var0", 1),
        (val_add, ":var3", 1),
      (else_try),
        (ge, ":var3", ":var2"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
  ]),

  ("ee_raise_actor_skill",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_skill_level, ":var3", ":var1", ":var0"),
    (assign, ":var4", ":var2"),
    (try_for_range, ":var5", 0, ":var4"),
      (try_begin),
        (lt, ":var3", ":var2"),
        (troop_raise_skill, ":var1", ":var0", 1),
        (val_add, ":var3", 1),
      (else_try),
        (ge, ":var3", ":var2"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
  ]),

  ("ee_raise_actor_proficiency",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_proficiency_level, ":var3", ":var1", ":var0"),
    (assign, ":var4", ":var2"),
    (try_for_range, ":var5", 0, ":var4"),
      (try_begin),
        (lt, ":var3", ":var2"),
        (troop_raise_proficiency_linear, ":var1", ":var0", 5),
        (val_add, ":var3", 5),
      (else_try),
        (ge, ":var3", ":var2"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
    (store_proficiency_level, ":var3", ":var1", ":var0"),
    (assign, ":var4", ":var2"),
    (try_for_range, ":var5", 0, ":var4"),
      (try_begin),
        (gt, ":var3", ":var2"),
        (troop_raise_proficiency_linear, ":var1", ":var0", -1),
        (val_add, ":var3", -1),
      (else_try),
        (ge, ":var3", ":var2"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
  ]),

  ("ee_lower_actor_attribute",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_attribute_level, ":var3", ":var1", ":var0"),
    (assign, ":var4", ":var2"),
    (try_for_range, ":var5", 0, ":var4"),
      (try_begin),
        (gt, ":var3", ":var2"),
        (troop_raise_attribute, ":var1", ":var0", -1),
        (val_add, ":var3", -1),
      (else_try),
        (ge, ":var3", ":var2"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
  ]),

  ("ee_lower_actor_skill",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_skill_level, ":var3", ":var1", ":var0"),
    (assign, ":var4", ":var2"),
    (try_for_range, ":var5", 0, ":var4"),
      (try_begin),
        (gt, ":var3", ":var2"),
        (troop_raise_skill, ":var1", ":var0", -1),
        (val_add, ":var3", -1),
      (else_try),
        (ge, ":var3", ":var2"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
  ]),

  ("ee_lower_actor_proficiency",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_script_param, ":var2", 3),
    (store_proficiency_level, ":var3", ":var1", ":var0"),
    (assign, ":var4", ":var2"),
    (try_for_range, ":var5", 0, ":var4"),
      (try_begin),
        (gt, ":var3", ":var2"),
        (troop_raise_proficiency_linear, ":var1", ":var0", -5),
        (val_add, ":var3", -5),
      (else_try),
        (ge, ":var3", ":var2"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
    (store_proficiency_level, ":var3", ":var1", ":var0"),
    (assign, ":var4", ":var2"),
    (try_for_range, ":var5", 0, ":var4"),
      (try_begin),
        (lt, ":var3", ":var2"),
        (troop_raise_proficiency_linear, ":var1", ":var0", 1),
        (val_add, ":var3", 1),
      (else_try),
        (ge, ":var3", ":var2"),
        (assign, ":var4", -1),
      (try_end),
    (try_end),
  ]),

  ("ee_reload_character_starting_equipment",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (neq, ":var0", "trp_player"),
      (troop_clear_inventory, ":var0"),
      (troop_get_inventory_capacity, ":var2", ":var0"),
      (try_for_range, ":var3", 0, ":var2"),
        (troop_set_inventory_slot, ":var0", ":var3", -1),
      (try_end),
    (try_end),
    (call_script, "script_give_source_troop_inventory_to_troop", ":var0", ":var1", 1),
  ]),

  ("ee_reload_character_starting_equipment_excluding_player_spouse",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (troop_get_slot, ":var2", "trp_player", 30),
    (try_end),
    (try_begin),
      (neq, ":var0", "trp_player"),
      (neq, ":var0", ":var2"),
      (troop_clear_inventory, ":var0"),
      (troop_get_inventory_capacity, ":var3", ":var0"),
      (try_for_range, ":var4", 0, ":var3"),
        (troop_set_inventory_slot, ":var0", ":var4", -1),
      (try_end),
    (try_end),
    (call_script, "script_give_source_troop_inventory_to_troop", ":var0", ":var1", 1),
  ]),

  ("ee_lord_find_faction_to_defect",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (call_script, "script_ee_find_nearest_faction_for_troop_with_same_religion", ":var0"),
    (assign, ":var1", reg0),
    (try_begin),
      (gt, ":var1", -1),
      (assign, reg0, ":var1"),
    (else_try),
      (call_script, "script_lord_find_alternative_faction", ":var0"),
    (try_end),
  ]),

  ("ee_find_nearest_faction_for_troop_with_same_religion",
  [
    (store_script_param, ":var0", 1),
    (store_faction_of_troop, ":var1", ":var0"),
    (faction_get_slot, ":var2", ":var1", 102),
    (assign, ":var3", -1),
    (assign, ":var4", 1000),
    (try_for_range, ":var5", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (faction_slot_eq, ":var5", 21, 0),
      (faction_slot_eq, ":var5", 102, ":var2"),
      (call_script, "script_distance_between_factions", ":var5", ":var1"),
      (assign, ":var6", reg0),
      (gt, ":var6", -1),
      (lt, ":var6", ":var4"),
      (assign, ":var4", ":var6"),
      (assign, ":var3", ":var5"),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("ee_assign_names_to_lords",
  [
    (try_begin),
    (try_end),
  ]),

  ("ee_get_troop_horse_imod",
  [
    (store_script_param, ":var0", 1),
    (assign, ":var1", -1),
    (assign, ":var2", -1),
    (try_begin),
      (troop_get_inventory_slot, ":var1", ":var0", ek_horse),
      (gt, ":var1", 0),
      (troop_get_inventory_slot_modifier, ":var2", ":var0", ek_horse),
    (try_end),
    (assign, reg0, ":var1"),
    (assign, reg1, ":var2"),
  ]),

  ("ee_player_learn_new_culture",
  [
    (store_script_param, ":var0", 1),
    (party_get_slot, ":var1", ":var0", 19),
    (try_begin),
      (eq, ":var1", "fac_culture_finnish"),
      (neq, "$g_player_know_culture_finnish", 1),
      (assign, "$g_player_know_culture_finnish", 1),
      (display_message, "@You learned a new culture (finnish)!"),
    (else_try),
      (eq, ":var1", "fac_culture_mazovian"),
      (neq, "$g_player_know_culture_mazovian", 1),
      (assign, "$g_player_know_culture_mazovian", 1),
      (display_message, "@You learned a new culture (mazovian)!"),
    (else_try),
      (eq, ":var1", "fac_culture_serbian"),
      (neq, "$g_player_know_culture_serbian", 1),
      (assign, "$g_player_know_culture_serbian", 1),
      (display_message, "@You learned a new culture (serbian)!"),
    (else_try),
      (eq, ":var1", "fac_culture_welsh"),
      (neq, "$g_player_know_culture_welsh", 1),
      (assign, "$g_player_know_culture_welsh", 1),
      (display_message, "@You learned a new culture (welsh)!"),
    (else_try),
      (eq, ":var1", "fac_culture_teutonic"),
      (neq, "$g_player_know_culture_teutonic", 1),
      (assign, "$g_player_know_culture_teutonic", 1),
      (display_message, "@You learned a new culture (teutonic)!"),
    (else_try),
      (eq, ":var1", "fac_culture_balkan"),
      (neq, "$g_player_know_culture_balkan", 1),
      (assign, "$g_player_know_culture_balkan", 1),
      (display_message, "@You learned a new culture (balkan)!"),
    (else_try),
      (eq, ":var1", "fac_culture_rus"),
      (neq, "$g_player_know_culture_rus", 1),
      (assign, "$g_player_know_culture_rus", 1),
      (display_message, "@You learned a new culture (rus)!"),
    (else_try),
      (eq, ":var1", "fac_culture_nordic"),
      (neq, "$g_player_know_culture_nordic", 1),
      (assign, "$g_player_know_culture_nordic", 1),
      (display_message, "@You learned a new culture (nordic)!"),
    (else_try),
      (eq, ":var1", "fac_culture_baltic"),
      (neq, "$g_player_know_culture_baltic", 1),
      (assign, "$g_player_know_culture_baltic", 1),
      (display_message, "@You learned a new culture (baltic)!"),
    (else_try),
      (eq, ":var1", "fac_culture_marinid"),
      (neq, "$g_player_know_culture_marinid", 1),
      (assign, "$g_player_know_culture_marinid", 1),
      (display_message, "@You learned a new culture (marinid)!"),
    (else_try),
      (eq, ":var1", "fac_culture_mamluke"),
      (neq, "$g_player_know_culture_mamluke", 1),
      (assign, "$g_player_know_culture_mamluke", 1),
      (display_message, "@You learned a new culture (mamluke)!"),
    (else_try),
      (eq, ":var1", "fac_culture_byzantium"),
      (neq, "$g_player_know_culture_byzantium", 1),
      (assign, "$g_player_know_culture_byzantium", 1),
      (display_message, "@You learned a new culture (byzantium)!"),
    (else_try),
      (eq, ":var1", "fac_culture_iberian"),
      (neq, "$g_player_know_culture_iberian", 1),
      (assign, "$g_player_know_culture_iberian", 1),
      (display_message, "@You learned a new culture (iberian)!"),
    (else_try),
      (eq, ":var1", "fac_culture_italian"),
      (neq, "$g_player_know_culture_italian", 1),
      (assign, "$g_player_know_culture_italian", 1),
      (display_message, "@You learned a new culture (italian)!"),
    (else_try),
      (eq, ":var1", "fac_culture_andalus"),
      (neq, "$g_player_know_culture_andalus", 1),
      (assign, "$g_player_know_culture_andalus", 1),
      (display_message, "@You learned a new culture (andalus)!"),
    (else_try),
      (eq, ":var1", "fac_culture_gaelic"),
      (neq, "$g_player_know_culture_gaelic", 1),
      (assign, "$g_player_know_culture_gaelic", 1),
      (display_message, "@You learned a new culture (gaelic)!"),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian_christian"),
      (neq, "$g_player_know_culture_anatolian_christian", 1),
      (assign, "$g_player_know_culture_anatolian_christian", 1),
      (display_message, "@You learned a new culture (anatolian christian)!"),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian"),
      (neq, "$g_player_know_culture_anatolian", 1),
      (assign, "$g_player_know_culture_anatolian", 1),
      (display_message, "@You learned a new culture (anatolian)!"),
    (else_try),
      (eq, ":var1", "fac_culture_western"),
      (neq, "$g_player_know_culture_western", 1),
      (assign, "$g_player_know_culture_western", 1),
      (display_message, "@You learned a new culture (western)!"),
    (else_try),
      (eq, ":var1", "fac_culture_mongol"),
      (neq, "$g_player_know_culture_mongol", 1),
      (assign, "$g_player_know_culture_mongol", 1),
      (display_message, "@You learned a new culture (mongol)!"),
    (else_try),
      (eq, ":var1", "fac_culture_templar"),
      (neq, "$g_player_know_culture_templar", 1),
      (assign, "$g_player_know_culture_templar", 1),
      (display_message, "@You learned a new culture (templar)!"),
    (else_try),
      (eq, ":var1", "fac_culture_hospitaller"),
      (neq, "$g_player_know_culture_hospitaller", 1),
      (assign, "$g_player_know_culture_hospitaller", 1),
      (display_message, "@You learned a new culture (hospitaller)!"),
    (else_try),
      (eq, ":var1", "fac_culture_antioch"),
      (neq, "$g_player_know_culture_antiochian", 1),
      (assign, "$g_player_know_culture_antiochian", 1),
      (display_message, "@You learned a new culture (antioch)!"),
    (else_try),
      (eq, ":var1", "fac_culture_tripoli"),
      (neq, "$g_player_know_culture_tripoli", 1),
      (assign, "$g_player_know_culture_tripoli", 1),
      (display_message, "@You learned a new culture (Finnish)!"),
    (else_try),
      (eq, ":var1", "fac_culture_ibelin"),
      (neq, "$g_player_know_culture_ibelin", 1),
      (assign, "$g_player_know_culture_ibelin", 1),
      (display_message, "@You learned a new culture (ibelin)!"),
    (else_try),
      (eq, ":var1", "fac_culture_jerusalem"),
      (neq, "$g_player_know_culture_jerusalem", 1),
      (assign, "$g_player_know_culture_jerusalem", 1),
      (display_message, "@You learned a new culture (jerusalem)!"),
    (else_try),
      (eq, ":var1", "fac_culture_crusader"),
      (neq, "$g_player_know_culture_crusader", 1),
      (assign, "$g_player_know_culture_crusader", 1),
      (display_message, "@You learned a new culture (crusader)!"),
    (else_try),
      (eq, ":var1", "fac_culture_cuman"),
      (neq, "$g_player_know_culture_cuman", 1),
      (assign, "$g_player_know_culture_cuman", 1),
      (display_message, "@You learned a new culture (cuman)!"),
    (else_try),
      (eq, ":var1", "fac_culture_english"),
      (neq, "$g_player_know_culture_english", 1),
      (assign, "$g_player_know_culture_english", 1),
      (display_message, "@You learned a new culture (english)!"),
    (else_try),
      (eq, ":var1", "fac_culture_french"),
      (neq, "$g_player_know_culture_french", 1),
      (assign, "$g_player_know_culture_french", 1),
      (display_message, "@You learned a new culture (french)!"),
    (else_try),
      (eq, ":var1", "fac_culture_hungarian"),
      (neq, "$g_player_know_culture_hungarian", 1),
      (assign, "$g_player_know_culture_hungarian", 1),
      (display_message, "@You learned a new culture (hungarian)!"),
    (else_try),
      (eq, ":var1", "fac_culture_polish"),
      (neq, "$g_player_know_culture_polish", 1),
      (assign, "$g_player_know_culture_polish", 1),
      (display_message, "@You learned a new culture (polish)!"),
    (else_try),
      (eq, ":var1", "fac_culture_player"),
      (neq, "$g_player_know_culture_player", 1),
      (assign, "$g_player_know_culture_player", 1),
      (display_message, "@You learned a new culture (player)!"),
    (try_end),
  ]),

  ("lance_use_backup_weapon",
  [
    (store_script_param_1, ":var0"),
    (agent_get_troop_id, ":var1", ":var0"),
    (assign, ":var2", 0),
    (try_begin),
      (troop_is_hero, ":var1"),
      (assign, ":var3", 4),
      (try_for_range, ":var4", 0, ":var3"),
        (troop_get_inventory_slot, ":var5", ":var1", ":var4"),
        (gt, ":var5", 0),
        (item_get_type, ":var6", ":var5"),
        (is_between, ":var6", 2, 4),
        (assign, ":var2", 1),
        (assign, ":var3", 0),
      (try_end),
    (else_try),
      (troop_get_inventory_capacity, ":var7", ":var1"),
      (try_for_range, ":var4", 0, ":var7"),
        (troop_get_inventory_slot, ":var5", ":var1", ":var4"),
        (gt, ":var5", 0),
        (item_get_type, ":var6", ":var5"),
        (is_between, ":var6", 2, 4),
        (agent_has_item_equipped, ":var0", ":var5"),
        (assign, ":var2", 1),
        (assign, ":var7", 0),
      (try_end),
    (try_end),
    (try_begin),
      (eq, ":var2", 1),
      (agent_set_wielded_item, ":var0", ":var5"),
    (try_end),
  ]),

  ("lance_use_classify_agent",
  [
    (try_for_agents, ":var0"),
      (agent_is_alive, ":var0"),
      (agent_is_non_player, ":var0"),
      (agent_is_human, ":var0"),
      (agent_get_horse, ":var1", ":var0"),
      (gt, ":var1", 0),
      (agent_get_troop_id, ":var2", ":var0"),
      (neg|troop_is_guarantee_ranged, ":var2"),
      (agent_get_wielded_item, ":var3", ":var0", 0),
      (try_begin),
        (this_or_next|is_between, ":var3", "itm_light_lance", "itm_bamboo_spear"),
        (is_between, ":var3", "itm_crusader_knight_spear_a", "itm_crusader_spear_a"),
        (agent_set_slot, ":var0", 43, ":var3"),
      (else_try),
        (assign, ":var4", "itm_bamboo_spear"),
        (try_for_range, ":var5", "itm_light_lance", ":var4"),
          (agent_has_item_equipped, ":var0", ":var5"),
          (agent_set_wielded_item, ":var0", ":var5"),
          (agent_set_slot, ":var0", 43, ":var5"),
          (assign, ":var4", "itm_light_lance"),
        (try_end),
        (assign, ":var4", "itm_crusader_spear_a"),
        (try_for_range, ":var5", "itm_crusader_knight_spear_a", ":var4"),
          (agent_has_item_equipped, ":var0", ":var5"),
          (agent_set_wielded_item, ":var0", ":var5"),
          (agent_set_slot, ":var0", 43, ":var5"),
          (assign, ":var4", "itm_crusader_knight_spear_a"),
        (try_end),
      (try_end),
    (try_end),
  ]),

  ("update_mercenaries_in_fief",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (try_begin),
      (this_or_next|eq, ":var1", "fac_culture_finnish"),
      (eq, ":var1", "fac_culture_nordic"),
      (party_set_slot, ":var0", 260, 8),
      (party_set_slot, ":var0", 262, "pt_generic_scan"),
    (else_try),
      (eq, ":var1", "fac_culture_mazovian"),
      (party_set_slot, ":var0", 260, 26),
      (party_set_slot, ":var0", 262, "pt_company_mordovian"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_culture_serbian"),
      (this_or_next|eq, ":var1", "fac_culture_balkan"),
      (eq, ":var1", "fac_culture_byzantium"),
      (party_set_slot, ":var0", 260, 7),
      (party_set_slot, ":var0", 262, "pt_generic_balkan"),
    (else_try),
      (eq, ":var1", "fac_culture_welsh"),
      (party_set_slot, ":var0", 260, 29),
      (party_set_slot, ":var0", 262, "pt_generic_gaelic_1"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_culture_teutonic"),
      (this_or_next|eq, ":var1", "fac_culture_western"),
      (this_or_next|eq, ":var1", "fac_culture_templar"),
      (this_or_next|eq, ":var1", "fac_culture_hospitaller"),
      (this_or_next|eq, ":var1", "fac_culture_antioch"),
      (this_or_next|eq, ":var1", "fac_culture_teutonic"),
      (this_or_next|eq, ":var1", "fac_culture_tripoli"),
      (this_or_next|eq, ":var1", "fac_culture_ibelin"),
      (this_or_next|eq, ":var1", "fac_culture_jerusalem"),
      (eq, ":var1", "fac_culture_crusader"),
      (party_set_slot, ":var0", 260, 1),
      (party_set_slot, ":var0", 262, "pt_generic_euro"),
    (else_try),
      (eq, ":var1", "fac_culture_rus"),
      (party_set_slot, ":var0", 260, 5),
      (party_set_slot, ":var0", 262, "pt_generic_rus"),
    (else_try),
      (eq, ":var1", "fac_culture_baltic"),
      (party_set_slot, ":var0", 260, 2),
      (party_set_slot, ":var0", 262, "pt_generic_balt"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_culture_marinid"),
      (eq, ":var1", "fac_culture_andalus"),
      (party_set_slot, ":var0", 260, 4),
      (party_set_slot, ":var0", 262, "pt_generic_maghreb"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_culture_mamluke"),
      (eq, ":var1", "fac_culture_anatolian"),
      (party_set_slot, ":var0", 260, 10),
      (party_set_slot, ":var0", 262, "pt_generic_mamluk"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_culture_iberian"),
      (eq, ":var1", "fac_culture_italian"),
      (party_set_slot, ":var0", 260, 6),
      (party_set_slot, ":var0", 262, "pt_generic_latin"),
    (else_try),
      (this_or_next|eq, ":var1", "fac_culture_gaelic"),
      (eq, ":var1", "fac_culture_scotish"),
      (party_set_slot, ":var0", 260, 9),
      (party_set_slot, ":var0", 262, "pt_generic_gaelic_1"),
    (else_try),
      (eq, ":var1", "fac_culture_anatolian_christian"),
      (party_set_slot, ":var0", 260, 23),
      (party_set_slot, ":var0", 262, "pt_company_turkopoles_1"),
    (else_try),
      (eq, ":var1", "fac_culture_mongol"),
      (party_set_slot, ":var0", 260, 27),
      (party_set_slot, ":var0", 262, "pt_company_kipchak_1"),
    (else_try),
      (eq, ":var1", "fac_culture_cuman"),
      (party_set_slot, ":var0", 260, 24),
      (party_set_slot, ":var0", 262, "pt_company_cuman_1"),
    (try_end),
    (party_set_slot, ":var0", 261, 0),
    (display_message, "@Regional mercs will be updated next time they respawn."),
  ]),

  ("ee_get_chance_of_execution",
  [
    (store_script_param, ":var0", 1),
    (store_script_param, ":var1", 2),
    (store_faction_of_troop, ":var2", ":var0"),
    (store_faction_of_troop, ":var3", ":var1"),
    (try_begin),
      (neq, ":var2", ":var3"),
      (store_relation, ":var4", ":var3", ":var2"),
      (store_mul, ":var5", ":var4", "$g_lord_death_chance_execution_relation_divider"),
    (try_end),
    (val_add, ":var5", "$g_lord_death_chance_execution_base"),
    (call_script, "script_troop_get_relation_with_troop", ":var1", ":var0"),
    (assign, ":var6", reg0),
    (try_begin),
      (gt, ":var6", 0),
      (val_sub, ":var5", ":var6"),
    (else_try),
      (lt, ":var6", 0),
      (store_mul, ":var7", ":var6", -1),
      (val_add, ":var5", ":var7"),
    (try_end),
    (troop_get_slot, ":var8", ":var1", 52),
    (try_begin),
      (eq, ":var8", 5),
      (val_add, ":var5", 30),
    (else_try),
      (eq, ":var8", 2),
      (val_add, ":var5", 22),
    (else_try),
      (eq, ":var8", 3),
      (val_add, ":var5", 14),
    (else_try),
      (eq, ":var8", 4),
      (val_add, ":var5", 8),
    (else_try),
      (eq, ":var8", 7),
      (val_sub, ":var5", 5),
    (else_try),
      (eq, ":var8", 6),
      (val_sub, ":var5", 10),
    (try_end),
    (try_begin),
      (faction_slot_eq, ":var2", 11, ":var0"),
      (val_sub, ":var5", "$g_lord_death_chance_execution_king_variation"),
    (try_end),
    (assign, reg0, ":var5"),
  ]),

  ("ee_get_execution_method",
  [
    (store_script_param, ":var0", 1),
    (troop_get_slot, ":var1", ":var0", 52),
    (assign, ":var2", 30),
    (try_begin),
      (eq, ":var1", 5),
      (call_script, "script_rand", 30, 60),
      (val_add, ":var2", reg0),
    (else_try),
      (eq, ":var1", 2),
      (call_script, "script_rand", 20, 40),
      (val_add, ":var2", reg0),
    (else_try),
      (eq, ":var1", 3),
      (call_script, "script_rand", 0, 30),
      (val_add, ":var2", reg0),
    (else_try),
      (eq, ":var1", 4),
      (call_script, "script_rand", 5, 20),
      (val_add, ":var2", reg0),
    (else_try),
      (eq, ":var1", 7),
      (call_script, "script_rand", 0, 15),
      (val_add, ":var2", reg0),
    (else_try),
      (eq, ":var1", 6),
      (call_script, "script_rand", 0, 8),
      (val_sub, ":var2", reg0),
    (try_end),
    (assign, ":var3", 1),
    (try_begin),
      (lt, ":var2", 40),
    (else_try),
      (ge, ":var2", 40),
      (lt, ":var2", 60),
      (assign, ":var3", 2),
    (else_try),
      (ge, ":var2", 60),
      (lt, ":var2", 80),
      (assign, ":var3", 3),
    (else_try),
      (ge, ":var2", 80),
      (assign, ":var3", 4),
    (try_end),
    (assign, reg0, ":var3"),
  ]),

  ("ee_get_quest",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (store_character_level, ":var2", "trp_player"),
    (store_faction_of_troop, ":var3", ":var1"),
    (troop_get_slot, ":var4", ":var1", 10),
    (troop_get_slot, ":var5", ":var1", 52),
    (assign, ":var6", -1),
    (try_begin),
      (gt, ":var4", 0),
      (party_get_attached_to, ":var6", ":var4"),
    (else_try),
      (is_between, ":var1", "trp_village_1_elder", "trp_merchants_end"),
      (store_sub, ":var7", ":var1", "p_village_1_1"),
      (store_add, ":var6", "p_village_1_1", ":var7"),
    (else_try),
      (is_between, ":var1", "trp_town_1_mayor", "trp_village_1_elder"),
      (store_sub, ":var7", ":var1", "p_town_1_1"),
      (store_add, ":var6", "p_town_1_1", ":var7"),
    (else_try),
      (is_between, ":var1", "trp_knight_1_1_wife", "trp_heroes_end"),
      (troop_get_slot, ":var6", ":var1", 12),
    (try_end),
    (assign, ":var8", -1),
    (assign, ":var9", -1),
    (assign, ":var10", -1),
    (assign, ":var11", -1),
    (assign, ":var12", -1),
    (assign, ":var13", -1),
    (assign, ":var14", -1),
    (assign, ":var15", -1),
    (assign, ":var16", -1),
    (assign, ":var17", -1),
    (assign, ":var18", -1),
    (assign, ":var19", -1),
    (assign, ":var20", 1),
    (assign, ":var21", 0),
    (assign, ":var22", 0),
    (assign, ":var23", 0),
    (assign, ":var24", 0),
    (assign, ":var25", 0),
    (try_begin),
      (call_script, "script_ee_get_dynamic_quest", ":var1", ":var0"),
      (assign, ":var8", reg0),
      (assign, ":var26", reg1),
      (assign, ":var27", reg2),
      (assign, ":var28", reg3),
      (try_begin),
        (eq, ":var0", "qst_track_down_bandits"),
        (assign, ":var15", ":var27"),
        (assign, ":var24", 60),
        (assign, ":var21", 1000),
        (assign, ":var22", 1000),
      (else_try),
        (eq, ":var0", "qst_retaliate_for_border_incident"),
        (assign, ":var9", ":var26"),
        (assign, ":var11", ":var28"),
        (assign, ":var24", 30),
        (assign, ":var21", 1000),
        (assign, ":var22", 1000),
      (else_try),
        (eq, ":var0", "qst_cause_provocation"),
        (assign, ":var11", ":var28"),
        (assign, ":var24", 30),
        (assign, ":var25", 100),
        (assign, ":var21", 1000),
        (assign, ":var22", 1000),
      (else_try),
        (eq, ":var0", "qst_destroy_bandit_lair"),
        (assign, ":var15", ":var27"),
        (assign, ":var24", 60),
        (assign, ":var21", 3000),
        (assign, ":var22", 1500),
      (else_try),
        (eq, ":var0", "qst_rescue_prisoner"),
        (assign, ":var9", ":var26"),
        (assign, ":var10", ":var27"),
        (assign, ":var24", 30),
        (assign, ":var25", 5),
        (assign, ":var21", 1500),
        (assign, ":var22", 3000),
      (try_end),
    (try_end),
    (try_begin),
      (assign, ":var9", -1),
      (assign, ":var10", -1),
      (assign, ":var11", -1),
      (assign, ":var12", -1),
      (assign, ":var13", -1),
      (assign, ":var14", -1),
      (assign, ":var15", -1),
      (assign, ":var16", -1),
      (assign, ":var17", -1),
      (assign, ":var18", -1),
      (assign, ":var19", -1),
      (assign, ":var20", 1),
      (assign, ":var21", 0),
      (assign, ":var22", 0),
      (assign, ":var23", 0),
      (assign, ":var24", 0),
      (assign, ":var25", 0),
      (neg|check_quest_active, ":var0"),
      (try_begin),
        (eq, ":var0", "qst_deliver_grain"),
        (try_begin),
          (is_between, ":var6", "p_village_1_1", "p_salt_mine"),
          (call_script, "script_get_troop_item_amount", ":var1", "itm_grain"),
          (eq, reg0, 0),
          (neg|party_slot_ge, ":var6", 50, 40),
          (assign, ":var10", ":var6"),
          (store_random_in_range, ":var17", 4, 8),
          (assign, ":var24", 30),
          (assign, ":var25", 20),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_deliver_cattle"),
        (try_begin),
          (is_between, ":var6", "p_village_1_1", "p_salt_mine"),
          (party_get_slot, ":var29", ":var6", 205),
          (lt, ":var29", 50),
          (assign, ":var10", ":var6"),
          (store_random_in_range, ":var17", 5, 10),
          (assign, ":var24", 30),
          (assign, ":var25", 20),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_train_peasants_against_bandits"),
        (try_begin),
          (is_between, ":var6", "p_village_1_1", "p_salt_mine"),
          (store_skill_level, ":var30", "skl_trainer", "trp_player"),
          (gt, ":var30", 0),
          (store_random_in_range, ":var17", 5, 8),
          (assign, ":var10", ":var6"),
          (assign, ":var24", 20),
          (assign, ":var25", 40),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_escort_merchant_caravan"),
        (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (store_random_party_in_range, ":var10", "p_town_1_1", "p_castle_1_1"),
        (store_distance_to_party_from_party, ":var31", ":var6", ":var10"),
        (assign, ":var22", ":var31"),
        (store_mul, ":var22", ":var31", 15),
        (store_random_in_range, ":var17", 6, 12),
        (assign, "$escort_merchant_caravan_mode", 0),
        (assign, ":var8", ":var0"),
      (else_try),
        (eq, ":var0", "qst_deliver_wine"),
        (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (store_random_party_in_range, ":var10", "p_town_1_1", "p_castle_1_1"),
        (store_random_in_range, ":var32", 0, 2),
        (try_begin),
          (eq, ":var32", 0),
          (assign, ":var19", "itm_quest_wine"),
        (else_try),
          (assign, ":var19", "itm_quest_ale"),
        (try_end),
        (store_random_in_range, ":var17", 6, 12),
        (store_distance_to_party_from_party, ":var31", ":var6", ":var10"),
        (assign, ":var22", ":var31"),
        (val_mul, ":var22", 10),
        (store_item_value, "$qst_deliver_wine_debt", ":var19"),
        (val_mul, "$qst_deliver_wine_debt", ":var17"),
        (val_mul, "$qst_deliver_wine_debt", 6),
        (val_div, "$qst_deliver_wine_debt", 5),
        (assign, ":var24", 7),
        (assign, ":var25", 20),
        (assign, ":var8", ":var0"),
      (else_try),
        (eq, ":var0", "qst_troublesome_bandits"),
        (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (store_character_level, ":var22", "trp_player"),
        (val_add, ":var22", 20),
        (val_mul, ":var22", 35),
        (val_div, ":var22", 100),
        (val_mul, ":var22", 10),
        (assign, ":var24", 30),
        (assign, ":var25", 30),
        (assign, ":var8", ":var0"),
      (else_try),
        (eq, ":var0", "qst_kidnapped_girl"),
        (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (assign, ":var33", 99),
        (try_for_range, ":var34", 0, ":var33"),
          (store_random_in_range, ":var10", "p_village_1_1", "p_salt_mine"),
          (store_distance_to_party_from_party, ":var31", ":var6", ":var10"),
          (le, ":var31", 50),
          (assign, ":var33", 0),
        (try_end),
        (assign, reg21, ":var31"),
        (str_store_party_name, s21, ":var10"),
        (display_message, "@DEBUG -- {s21} distance {reg21}"),
        (store_character_level, ":var17"),
        (val_add, ":var17", 15),
        (store_distance_to_party_from_party, ":var31", ":var6", ":var10"),
        (val_add, ":var31", 15),
        (val_mul, ":var31", 2),
        (val_mul, ":var17", ":var31"),
        (val_div, ":var17", 100),
        (val_mul, ":var17", 10),
        (assign, ":var22", ":var17"),
        (val_div, ":var22", 40),
        (val_mul, ":var22", 10),
        (assign, ":var24", 15),
        (assign, ":var25", 30),
        (assign, ":var8", ":var0"),
      (else_try),
        (eq, ":var0", "qst_move_cattle_herd"),
        (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (call_script, "script_cf_select_random_town_at_peace_with_faction", ":var3"),
        (neq, ":var6", reg0),
        (assign, ":var10", reg0),
        (store_distance_to_party_from_party, ":var31", ":var6", ":var10"),
        (store_mul, ":var22", ":var31", 10),
        (assign, ":var24", 30),
        (assign, ":var25", 20),
        (assign, ":var8", ":var0"),
      (else_try),
        (eq, ":var0", "qst_persuade_lords_to_make_peace"),
        (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var35", ":var6"),
        (call_script, "script_cf_faction_get_random_enemy_faction", ":var35"),
        (assign, ":var36", reg0),
        (call_script, "script_cf_get_random_lord_except_king_with_faction", ":var35"),
        (assign, ":var37", reg0),
        (this_or_next|troop_slot_eq, ":var37", 52, 2),
        (this_or_next|troop_slot_eq, ":var37", 52, 3),
        (this_or_next|troop_slot_eq, ":var37", 52, 1),
        (troop_slot_eq, ":var37", 52, 5),
        (call_script, "script_cf_get_random_lord_except_king_with_faction", ":var36"),
        (assign, ":var9", reg0),
        (this_or_next|troop_slot_eq, ":var9", 52, 2),
        (this_or_next|troop_slot_eq, ":var9", 52, 3),
        (this_or_next|troop_slot_eq, ":var9", 52, 1),
        (troop_slot_eq, ":var9", 52, 5),
        (assign, ":var13", ":var37"),
        (assign, ":var11", ":var36"),
        (assign, ":var12", ":var35"),
        (assign, ":var22", 12000),
        (assign, ":var23", 7000),
        (assign, ":var24", 30),
        (assign, ":var25", 100),
        (assign, ":var8", ":var0"),
      (else_try),
        (eq, ":var0", "qst_deal_with_looters"),
        (is_between, ":var2", 0, 15),
        (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (store_faction_of_party, ":var35", ":var6"),
        (store_num_parties_destroyed_by_player, ":var38", "pt_looters"),
        (party_template_set_slot, "pt_looters", 1, ":var38"),
        (quest_set_slot, ":var0", 11, 0),
        (quest_set_slot, ":var0", 9, "pt_looters"),
        (assign, ":var22", 500),
        (assign, ":var21", 500),
        (assign, ":var24", 20),
        (assign, ":var25", 30),
        (assign, ":var8", ":var0"),
      (else_try),
        (eq, ":var0", "qst_deal_with_night_bandits"),
        (is_between, ":var2", 0, 15),
        (is_between, ":var6", "p_town_1_1", "p_salt_mine"),
        (party_slot_ge, ":var6", 155, 1),
        (assign, ":var10", ":var6"),
        (assign, ":var24", 4),
        (assign, ":var25", 15),
        (assign, ":var8", ":var0"),
      (else_try),
        (eq, ":var0", "qst_rescue_lord_by_replace"),
        (eq, 1, 0),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (is_between, ":var2", 5, 25),
          (assign, ":var39", -1),
          (try_begin),
            (troop_get_slot, ":var40", ":var1", 31),
            (gt, ":var40", 0),
            (troop_slot_ge, ":var40", 8, 0),
            (assign, ":var39", ":var40"),
          (try_end),
          (try_begin),
            (eq, ":var39", -1),
            (troop_get_slot, ":var40", ":var1", 30),
            (gt, ":var40", 0),
            (troop_slot_ge, ":var40", 8, 0),
            (assign, ":var39", ":var40"),
          (try_end),
          (try_begin),
            (eq, ":var39", -1),
            (troop_get_slot, ":var40", ":var1", 33),
            (gt, ":var40", 0),
            (troop_slot_ge, ":var40", 8, 0),
            (assign, ":var39", ":var40"),
          (try_end),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (assign, reg0, ":var39"),
            (display_message, "str_prisoner_relative_is_reg0"),
          (try_end),
          (gt, ":var39", -1),
          (call_script, "script_search_troop_prisoner_of_party", ":var39"),
          (assign, ":var41", reg0),
          (is_between, ":var41", "p_town_1_1", "p_village_1_1"),
          (assign, ":var10", ":var41"),
          (assign, ":var9", ":var39"),
          (assign, ":var24", 30),
          (assign, ":var25", 73),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_deliver_message_to_prisoner_lord"),
        (eq, "$player_has_homage", 0),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (is_between, ":var2", 5, 25),
          (troop_get_slot, ":var40", ":var1", 31),
          (try_begin),
            (eq, ":var40", 0),
            (troop_get_slot, ":var40", ":var1", 30),
          (try_end),
          (gt, ":var40", -1),
          (troop_slot_ge, ":var40", 8, 0),
          (call_script, "script_search_troop_prisoner_of_party", ":var40"),
          (assign, ":var41", reg0),
          (is_between, ":var41", "p_town_1_1", "p_castle_1_1"),
          (assign, ":var10", ":var41"),
          (assign, ":var9", ":var40"),
          (assign, ":var24", 30),
          (assign, ":var25", 30),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_duel_for_lady"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (ge, ":var2", 10),
          (call_script, "script_cf_troop_get_random_enemy_troop_with_occupation", ":var1", 2),
          (assign, ":var40", reg0),
          (neg|troop_slot_eq, ":var1", 30, ":var40"),
          (neg|troop_slot_eq, ":var1", 31, ":var40"),
          (neg|troop_slot_ge, ":var40", 8, 0),
          (troop_slot_ge, ":var40", 10, 0),
          (neg|troop_slot_eq, ":var40", 52, 6),
          (neg|troop_slot_eq, ":var40", 52, 7),
          (neg|troop_slot_eq, ":var40", 52, 1),
          (assign, ":var9", ":var40"),
          (assign, ":var24", 30),
          (assign, ":var25", 50),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_lend_surgeon"),
        (try_begin),
          (eq, "$g_defending_against_siege", 0),
          (neq, ":var5", 2),
          (neq, ":var5", 5),
          (assign, ":var42", 0),
          (assign, ":var43", -1),
          (party_get_num_companion_stacks, ":var44", "p_main_party"),
          (try_for_range, ":var45", 1, ":var44"),
            (party_stack_get_troop_id, ":var46", "p_main_party", ":var45"),
            (troop_is_hero, ":var46"),
            (store_skill_level, ":var47", 10, ":var46"),
            (gt, ":var47", ":var42"),
            (assign, ":var42", ":var47"),
            (assign, ":var43", ":var46"),
          (try_end),
          (store_character_level, ":var48", "trp_player"),
          (assign, ":var49", 5),
          (val_div, ":var48", 10),
          (val_add, ":var49", ":var48"),
          (ge, ":var42", ":var49"),
          (assign, ":var13", ":var43"),
          (assign, ":var20", 1),
          (assign, ":var21", 10),
          (assign, ":var22", 10),
          (assign, ":var25", 50),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_meet_spy_in_enemy_town"),
        (eq, "$player_has_homage", 0),
        (try_begin),
          (eq, "$players_kingdom", ":var3"),
          (neq, ":var5", 6),
          (neq, ":var5", 1),
          (call_script, "script_troop_get_player_relation", ":var1"),
          (assign, ":var50", reg0),
          (gt, ":var50", 3),
          (call_script, "script_cf_faction_get_random_enemy_faction", ":var3"),
          (assign, ":var51", reg0),
          (store_relation, ":var52", ":var51", "$players_kingdom"),
          (lt, ":var52", 0),
          (call_script, "script_cf_select_random_town_with_faction", ":var51"),
          (assign, ":var41", reg0),
          (call_script, "script_cf_center_get_free_walker", ":var41"),
          (assign, ":var10", ":var41"),
          (store_random_in_range, ":var17", "str_secret_sign_1", "str_countersign_1"),
          (assign, ":var8", ":var0"),
          (assign, ":var22", 500),
          (assign, ":var24", 30),
          (assign, ":var25", 50),
          (quest_set_slot, "qst_meet_spy_in_enemy_town", 22, 500),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_raid_caravan_to_start_war"),
        (eq, 1, 0),
        (try_begin),
          (eq, "$players_kingdom", ":var3"),
          (this_or_next|eq, ":var5", 4),
          (this_or_next|eq, ":var5", 2),
          (eq, ":var5", 5),
          (gt, ":var2", 10),
          (eq, 1, 0),
          (neg|faction_slot_eq, ":var3", 11, ":var1"),
          (call_script, "script_cf_faction_get_random_friendly_faction", ":var3"),
          (assign, ":var11", reg0),
          (store_faction_of_troop, ":var12", ":var1"),
          (assign, ":var16", "pt_kingdom_caravan_party"),
          (assign, ":var17", 2),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 30),
          (assign, ":var25", 100),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_deliver_message"),
        (eq, "$player_has_homage", 0),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (lt, ":var2", 20),
          (neg|troop_slot_ge, "trp_player", 7, 125),
          (call_script, "script_cf_get_random_lord_in_a_center_with_faction", ":var3"),
          (assign, ":var40", reg0),
          (neq, ":var40", ":var1"),
          (call_script, "script_get_troop_attached_party", ":var40"),
          (assign, ":var41", reg0),
          (neq, ":var6", ":var41"),
          (assign, ":var10", ":var41"),
          (assign, ":var9", ":var40"),
          (assign, ":var21", 30),
          (assign, ":var22", 40),
          (assign, ":var25", 10),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 30),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_escort_lady"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (ge, ":var2", 10),
          (ge, ":var1", 0),
          (assign, ":var37", -1),
          (try_for_range, ":var53", "trp_knight_1_1_wife", "trp_heroes_end"),
            (troop_slot_eq, ":var53", 31, ":var1"),
            (assign, ":var37", ":var53"),
          (try_end),
          (ge, ":var37", 0),
          (troop_get_slot, ":var54", ":var37", 31),
          (eq, ":var1", ":var54"),
          (store_random_in_range, ":var32", 0, 2),
          (try_begin),
            (eq, ":var32", 0),
            (troop_get_slot, ":var55", ":var1", 30),
            (is_between, ":var55", "trp_knight_1_1_wife", "trp_heroes_end"),
            (troop_get_slot, ":var54", ":var55", 30),
            (eq, ":var1", ":var54"),
            (assign, ":var37", ":var55"),
          (try_end),
          (gt, ":var37", 0),
          (troop_get_type, ":var56", ":var37"),
          (eq, ":var56", 1),
          (gt, ":var6", 0),
          (troop_slot_eq, ":var37", 12, ":var6"),
          (call_script, "script_cf_select_random_town_with_faction", ":var3"),
          (assign, ":var41", reg0),
          (neq, ":var41", ":var6"),
          (hero_can_join),
          (assign, ":var13", ":var37"),
          (assign, ":var10", ":var41"),
          (assign, ":var24", 20),
          (assign, ":var25", 30),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_deliver_message_to_enemy_lord"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (is_between, ":var2", 5, 25),
          (call_script, "script_cf_get_random_lord_from_another_faction_in_a_center", ":var3"),
          (assign, ":var40", reg0),
          (call_script, "script_get_troop_attached_party", ":var40"),
          (assign, ":var10", reg0),
          (assign, ":var9", ":var40"),
          (assign, ":var20", 1),
          (assign, ":var21", 200),
          (assign, ":var22", 0),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 40),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_deal_with_bandits_at_lords_village"),
        (try_begin),
          (neq, ":var5", 5),
          (neq, ":var5", 2),
          (ge, "$g_talk_troop_faction_relation", 0),
          (assign, ":var57", "p_salt_mine"),
          (assign, ":var41", -1),
          (try_for_range, ":var58", "p_village_1_1", ":var57"),
            (party_slot_eq, ":var58", 7, ":var1"),
            (party_slot_eq, ":var58", 39, 1),
            (party_slot_eq, ":var58", 35, 0),
            (assign, ":var41", ":var58"),
            (assign, ":var57", 0),
          (try_end),
          (ge, ":var41", 0),
          (neg|check_quest_active, "qst_eliminate_bandits_infesting_village"),
          (assign, ":var10", ":var41"),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 30),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_raise_troops"),
        (try_begin),
          (neq, ":var5", 1),
          (neq, ":var3", "fac_player_supporters_faction"),
          (ge, "$g_talk_troop_faction_relation", 0),
          (store_character_level, ":var48", "trp_player"),
          (gt, ":var48", 5),
          (troop_slot_ge, "trp_player", 7, 100),
          (store_random_in_range, ":var17", 5, 8),
          (party_get_free_companions_capacity, ":var59", "p_main_party"),
          (le, ":var17", ":var59"),
          (faction_get_slot, ":var13", ":var3", 41),
          (store_random_in_range, ":var60", 20, 40),
          (val_add, ":var60", ":var48"),
          (val_div, ":var60", 10),
          (store_mul, ":var22", ":var17", 10),
          (assign, ":var9", ":var13"),
          (try_for_range, ":var34", 0, ":var60"),
            (troop_get_upgrade_troop, ":var61", ":var9", 0),
            (gt, ":var61", 0),
            (assign, ":var9", ":var61"),
            (val_mul, ":var22", ":var22", 7),
            (val_div, ":var22", ":var22", 4),
          (try_end),
          (assign, ":var21", ":var22"),
          (val_mul, ":var21", 3),
          (val_div, ":var21", 10),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 120),
          (assign, ":var25", 15),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_collect_taxes"),
        (eq, "$player_has_homage", 0),
        (try_begin),
          (neq, ":var5", 6),
          (neq, ":var5", 7),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_troop_get_random_leaded_town_or_village_except_center", ":var1", ":var6"),
          (assign, ":var10", reg0),
          (assign, ":var20", 1),
          (assign, ":var22", 0),
          (assign, ":var21", 100),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 50),
          (assign, ":var25", 20),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_hunt_down_fugitive"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_select_random_village_with_faction", ":var3"),
          (assign, ":var10", reg0),
          (store_random_in_range, ":var18", 0, 1000000),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 30),
          (assign, ":var25", 30),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_kill_local_merchant"),
        (eq, "$player_has_homage", 0),
        (try_begin),
          (this_or_next|eq, ":var5", 2),
          (this_or_next|eq, ":var5", 4),
          (eq, ":var5", 5),
          (neg|faction_slot_eq, ":var3", 11, ":var1"),
          (ge, "$g_talk_troop_faction_relation", 0),
          (gt, ":var2", 5),
          (is_between, ":var6", "p_town_1_1", "p_castle_1_1"),
          (assign, ":var20", 1),
          (assign, ":var21", 300),
          (assign, ":var22", 1000),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 10),
          (assign, ":var25", 30),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_bring_back_runaway_serfs"),
        (try_begin),
          (neq, ":var5", 6),
          (neq, ":var5", 7),
          (ge, "$g_talk_troop_faction_relation", 0),
          (ge, ":var2", 5),
          (gt, ":var6", 0),
          (eq, "$g_defending_against_siege", 0),
          (assign, ":var62", -1),
          (try_for_range, ":var58", "p_village_1_1", "p_salt_mine"),
            (party_slot_eq, ":var58", 7, ":var1"),
            (store_distance_to_party_from_party, ":var31", ":var58", ":var6"),
            (lt, ":var31", 25),
            (assign, ":var62", ":var58"),
          (try_end),
          (ge, ":var62", 0),
          (call_script, "script_cf_select_random_town_with_faction", ":var3"),
          (assign, ":var41", reg0),
          (neq, ":var41", ":var6"),
          (store_distance_to_party_from_party, ":var31", ":var41", ":var6"),
          (ge, ":var31", 20),
          (assign, ":var16", "pt_runaway_serfs"),
          (assign, ":var14", ":var62"),
          (assign, ":var10", ":var41"),
          (assign, ":var20", 1),
          (assign, ":var21", 200),
          (assign, ":var22", 150),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 30),
          (assign, ":var25", 20),
          (assign, "$qst_bring_back_runaway_serfs_num_parties_returned", 0),
          (assign, "$qst_bring_back_runaway_serfs_num_parties_fleed", 0),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_follow_spy"),
        (eq, "$player_has_homage", 0),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (neq, ":var5", 6),
          (party_get_skill_level, ":var63", "p_main_party", "skl_tracking"),
          (ge, ":var63", 2),
          (ge, ":var2", 10),
          (eq, "$g_defending_against_siege", 0),
          (gt, ":var4", 0),
          (gt, ":var6", 0),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (party_get_position, pos2, "p_main_party"),
          (assign, ":var64", 99999),
          (assign, ":var62", -1),
          (try_for_range, ":var65", 0, 10),
            (call_script, "script_cf_get_random_enemy_center", ":var4"),
            (assign, ":var66", reg0),
            (party_get_position, pos3, ":var66"),
            (map_get_random_position_around_position, pos4, pos3, 6),
            (get_distance_between_positions, ":var67", pos2, pos4),
            (lt, ":var67", ":var64"),
            (assign, ":var64", ":var67"),
            (assign, ":var62", ":var66"),
            (copy_position, 63, 4),
          (try_end),
          (gt, ":var62", 0),
          (assign, ":var14", ":var62"),
          (assign, ":var25", 50),
          (assign, ":var8", ":var0"),
          (assign, "$qst_follow_spy_run_away", 0),
          (assign, "$qst_follow_spy_meeting_state", 0),
          (assign, "$qst_follow_spy_meeting_counter", 0),
          (assign, "$qst_follow_spy_spy_back_in_town", 0),
          (assign, "$qst_follow_spy_partner_back_in_town", 0),
          (assign, "$qst_follow_spy_no_active_parties", 0),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_capture_enemy_hero"),
        (try_begin),
          (eq, "$players_kingdom", ":var3"),
          (neg|faction_slot_eq, "$players_kingdom", 8, "trp_player"),
          (ge, ":var2", 15),
          (call_script, "script_cf_faction_get_random_enemy_faction", ":var3"),
          (assign, ":var11", reg0),
          (assign, ":var24", 30),
          (assign, ":var25", 80),
          (assign, ":var22", 2000),
          (assign, ":var8", ":var0"),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_lend_companion"),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (assign, ":var68", 0),
          (party_get_num_companion_stacks, ":var44", "p_main_party"),
          (try_for_range, ":var45", 0, ":var44"),
            (party_stack_get_troop_id, ":var46", "p_main_party", ":var45"),
            (troop_is_hero, ":var46"),
            (is_between, ":var46", "trp_npc1", "trp_kingdom_1_lord"),
            (store_character_level, ":var69", ":var46"),
            (ge, ":var69", 15),
            (assign, ":var70", 0),
            (try_for_range, ":var71", 0, "qst_quests_end"),
              (check_quest_active, ":var71"),
              (this_or_next|quest_slot_eq, ":var71", 2, ":var46"),
              (quest_slot_eq, ":var71", 4, ":var46"),
              (assign, ":var70", 1),
            (try_end),
            (eq, ":var70", 0),
            (val_add, ":var68", 1),
          (try_end),
          (gt, ":var68", 0),
          (store_random_in_range, ":var72", 0, ":var68"),
          (assign, ":var68", 0),
          (assign, ":var40", -1),
          (try_for_range, ":var45", 0, ":var44"),
            (eq, ":var40", -1),
            (party_stack_get_troop_id, ":var46", "p_main_party", ":var45"),
            (troop_is_hero, ":var46"),
            (is_between, ":var46", "trp_npc1", "trp_kingdom_1_lord"),
            (neq, ":var46", "trp_player"),
            (store_character_level, ":var69", ":var46"),
            (ge, ":var69", 15),
            (assign, ":var70", 0),
            (try_for_range, ":var71", 0, "qst_quests_end"),
              (check_quest_active, ":var71"),
              (this_or_next|quest_slot_eq, ":var71", 2, ":var46"),
              (quest_slot_eq, ":var71", 4, ":var46"),
              (assign, ":var70", 1),
            (try_end),
            (eq, ":var70", 0),
            (val_add, ":var68", 1),
            (gt, ":var68", ":var72"),
            (assign, ":var40", ":var46"),
          (try_end),
          (is_between, ":var40", "trp_npc1", "trp_kingdom_1_lord"),
          (assign, ":var9", ":var40"),
          (store_current_day, ":var17"),
          (val_add, ":var17", 8),
          (assign, ":var20", 1),
          (assign, ":var21", 300),
          (assign, ":var22", 400),
          (assign, ":var8", ":var0"),
          (assign, ":var25", 30),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_collect_debt"),
        (eq, 1, 0),
        (try_begin),
          (ge, "$g_talk_troop_faction_relation", 0),
          (call_script, "script_cf_get_random_lord_in_a_center_with_faction", ":var3"),
          (assign, ":var9", reg0),
          (neq, ":var9", ":var1"),
          (call_script, "script_get_troop_attached_party", ":var9"),
          (assign, ":var10", reg0),
          (neq, ":var6", ":var10"),
          (assign, ":var21", 30),
          (assign, ":var22", 40),
          (assign, ":var8", ":var0"),
          (store_random_in_range, ":var17", 6, 9),
          (val_mul, ":var17", 500),
          (store_div, ":var23", ":var17", 5),
          (assign, ":var24", 90),
          (assign, ":var25", 20),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_incriminate_loyal_commander"),
        (eq, "$player_has_homage", 0),
        (try_begin),
          (neq, ":var5", 7),
          (neq, ":var5", 6),
          (eq, "$players_kingdom", ":var3"),
          (ge, ":var2", 10),
          (faction_slot_eq, ":var3", 11, ":var1"),
          (assign, ":var73", 1),
          (assign, ":var74", 0),
          (try_for_range, ":var34", 0, ":var73"),
            (call_script, "script_cf_faction_get_random_enemy_faction", ":var3"),
            (assign, ":var36", reg0),
            (faction_get_slot, ":var40", ":var36", 11),
            (assign, ":var75", 0),
            (try_for_range, ":var76", "trp_npc1", "trp_knight_1_1_wife"),
              (troop_slot_eq, ":var76", 166, 1),
              (troop_slot_eq, ":var76", 2, 2),
              (neg|troop_slot_ge, ":var76", 8, 0),
              (neq, ":var40", ":var76"),
              (store_faction_of_troop, ":var77", ":var76"),
              (eq, ":var36", ":var77"),
              (val_add, ":var75", 1),
            (try_end),
            (gt, ":var75", 0),
            (assign, ":var37", -1),
            (store_random_in_range, ":var78", 0, ":var75"),
            (try_for_range, ":var76", "trp_npc1", "trp_knight_1_1_wife"),
              (troop_slot_eq, ":var76", 166, 1),
              (eq, ":var37", -1),
              (troop_slot_eq, ":var76", 2, 2),
              (neq, ":var40", ":var76"),
              (store_faction_of_troop, ":var77", ":var76"),
              (eq, ":var36", ":var77"),
              (val_sub, ":var78", 1),
              (lt, ":var78", 0),
              (assign, ":var37", ":var76"),
            (try_end),
            (assign, ":var41", -1),
            (call_script, "script_get_troop_attached_party", ":var40"),
            (is_between, reg0, "p_town_1_1", "p_castle_1_1"),
            (party_slot_eq, reg0, 7, ":var40"),
            (assign, ":var41", reg0),
            (assign, ":var73", -1),
            (assign, ":var74", 1),
          (try_end),
          (eq, ":var74", 1),
          (assign, "$incriminate_quest_sacrificed_troop", 0),
          (party_get_num_companion_stacks, ":var44", "p_main_party"),
          (try_for_range, ":var45", 1, ":var44"),
            (eq, "$incriminate_quest_sacrificed_troop", 0),
            (party_stack_get_troop_id, ":var46", "p_main_party", ":var45"),
            (neg|troop_is_hero, ":var46"),
            (store_character_level, ":var79", ":var46"),
            (ge, ":var79", 25),
            (assign, "$incriminate_quest_sacrificed_troop", ":var46"),
          (try_end),
          (gt, "$incriminate_quest_sacrificed_troop", 0),
          (assign, ":var9", ":var40"),
          (assign, ":var13", ":var37"),
          (assign, ":var10", ":var41"),
          (assign, ":var11", ":var36"),
          (assign, ":var20", 1),
          (assign, ":var21", 700),
          (assign, ":var22", 1000),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 30),
          (assign, ":var25", 180),
        (try_end),
      (else_try),
        (eq, ":var0", "qst_capture_prisoners"),
        (eq, "$player_has_homage", 0),
        (try_begin),
          (eq, "$players_kingdom", ":var3"),
          (call_script, "script_cf_faction_get_random_enemy_faction", ":var3"),
          (assign, ":var36", reg0),
          (store_add, ":var80", 45, 1),
          (store_random_in_range, ":var81", 42, ":var80"),
          (faction_get_slot, ":var40", ":var36", ":var81"),
          (gt, ":var40", 0),
          (store_random_in_range, ":var17", 3, 7),
          (assign, ":var9", ":var40"),
          (assign, ":var11", ":var36"),
          (assign, ":var20", 1),
          (store_character_level, ":var22", ":var40"),
          (val_add, ":var22", 5),
          (val_mul, ":var22", ":var22"),
          (val_div, ":var22", 5),
          (val_mul, ":var22", ":var17"),
          (assign, ":var21", ":var22"),
          (assign, ":var8", ":var0"),
          (assign, ":var24", 90),
          (assign, ":var25", 20),
        (try_end),
      (try_end),
    (try_end),
    (try_begin),
      (neq, ":var8", -1),
      (try_begin),
        (party_is_active, ":var10"),
        (store_faction_of_party, ":var11", ":var10"),
      (try_end),
      (quest_set_slot, ":var8", 2, ":var9"),
      (quest_set_slot, ":var8", 1, ":var10"),
      (quest_set_slot, ":var8", 4, ":var13"),
      (quest_set_slot, ":var8", 3, ":var11"),
      (quest_set_slot, ":var8", 15, ":var12"),
      (quest_set_slot, ":var8", 7, ":var14"),
      (quest_set_slot, ":var8", 8, ":var15"),
      (quest_set_slot, ":var8", 9, ":var16"),
      (quest_set_slot, ":var8", 10, ":var17"),
      (quest_set_slot, ":var8", 20, ":var20"),
      (quest_set_slot, ":var8", 21, ":var21"),
      (quest_set_slot, ":var8", 22, ":var22"),
      (quest_set_slot, ":var8", 19, ":var23"),
      (quest_set_slot, ":var8", 23, ":var24"),
      (quest_set_slot, ":var8", 24, ":var25"),
      (quest_set_slot, ":var8", 11, 0),
      (quest_set_slot, ":var8", 6, ":var1"),
      (quest_set_slot, ":var8", 12, ":var6"),
      (quest_set_slot, ":var8", 13, ":var18"),
      (quest_set_slot, ":var8", 14, ":var19"),
    (try_end),
    (assign, reg0, ":var8"),
  ]),

  ("ee_get_dynamic_quest",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", -1),
    (assign, ":var3", -1),
    (assign, ":var4", -1),
    (assign, ":var5", -1),
    (try_begin),
      (eq, ":var0", -1),
    (else_try),
      (eq, ":var1", "qst_rescue_prisoner"),
      (neg|check_quest_active, "qst_rescue_prisoner"),
      (assign, ":var6", -1),
      (try_for_range, ":var7", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var7", 166, 1),
        (troop_get_slot, ":var8", ":var7", 8),
        (is_between, ":var8", "p_town_1_1", "p_village_1_1"),
        (store_faction_of_troop, ":var9", ":var0"),
        (store_faction_of_party, ":var10", ":var8"),
        (store_relation, ":var11", ":var9", ":var10"),
        (lt, ":var11", 0),
        (call_script, "script_troop_get_family_relation_to_troop", ":var0", ":var7"),
        (ge, reg0, 10),
        (assign, ":var12", 0),
        (try_begin),
          (call_script, "script_cf_prisoner_offered_parole", ":var7"),
          (assign, ":var12", 1),
        (try_end),
        (eq, ":var12", 0),
        (neg|party_slot_eq, ":var8", 7, "trp_player"),
        (assign, ":var6", ":var7"),
        (assign, ":var13", ":var8"),
      (try_end),
      (gt, ":var6", -1),
      (assign, ":var2", "qst_rescue_prisoner"),
      (assign, ":var3", ":var6"),
      (assign, ":var4", ":var13"),
    (else_try),
      (eq, ":var1", "qst_retaliate_for_border_incident"),
      (neg|check_quest_active, "qst_retaliate_for_border_incident"),
      (is_between, ":var0", "trp_town_1_mayor", "trp_village_1_elder"),
      (store_faction_of_troop, ":var14", ":var0"),
      (assign, ":var15", 0),
      (try_for_range, ":var16", "fac_kingdom_1", "fac_kingdoms_end"),
        (call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":var14", ":var16"),
        (assign, ":var17", reg0),
        (eq, ":var17", -1),
        (assign, ":var18", reg1),
        (ge, ":var18", 10),
        (try_for_range, ":var19", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var19", 166, 1),
          (store_faction_of_troop, ":var20", ":var19"),
          (eq, ":var20", ":var16"),
          (troop_slot_eq, ":var19", 52, 5),
          (assign, ":var15", ":var19"),
          (assign, ":var21", ":var16"),
        (try_end),
      (try_end),
      (is_between, ":var15", "trp_npc1", "trp_knight_1_1_wife"),
      (assign, ":var2", "qst_retaliate_for_border_incident"),
      (assign, ":var3", ":var15"),
      (assign, ":var5", ":var21"),
    (else_try),
      (eq, ":var1", "qst_destroy_bandit_lair"),
      (neg|check_quest_active, "qst_destroy_bandit_lair"),
      (assign, ":var22", -1),
      (try_for_range, ":var23", "pt_steppe_bandits", "pt_deserters"),
        (party_template_get_slot, ":var24", ":var23", 4),
        (gt, ":var24", "p_spawn_points_end"),
        (assign, ":var25", -1),
        (assign, ":var26", 99999),
        (try_for_range, ":var27", "p_town_1_1", "p_castle_1_1"),
          (store_distance_to_party_from_party, ":var28", ":var24", ":var27"),
          (lt, ":var28", ":var26"),
          (assign, ":var25", ":var27"),
          (assign, ":var26", ":var28"),
        (try_end),
        (party_slot_eq, ":var25", 7, ":var0"),
        (assign, ":var22", ":var24"),
      (try_end),
      (gt, ":var22", "p_spawn_points_end"),
      (assign, ":var2", "qst_destroy_bandit_lair"),
      (assign, ":var4", ":var22"),
    (else_try),
      (eq, ":var1", "qst_track_down_bandits"),
      (neg|check_quest_active, "qst_track_down_bandits"),
      (is_between, ":var0", "trp_town_1_mayor", "trp_village_1_elder"),
      (assign, ":var29", -1),
      (try_for_range, ":var30", "p_town_1_1", "p_castle_1_1"),
        (party_slot_eq, ":var30", 25, ":var0"),
        (assign, ":var29", ":var30"),
      (try_end),
      (gt, ":var29", -1),
      (call_script, "script_merchant_road_info_to_s42", ":var29"),
      (assign, ":var31", reg0),
      (party_is_active, ":var31"),
      (gt, ":var31", 0),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (display_message, "str_traveller_attack_found"),
      (try_end),
      (assign, ":var2", "qst_track_down_bandits"),
      (assign, ":var4", ":var31"),
    (else_try),
      (eq, ":var1", "qst_cause_provocation"),
      (neg|check_quest_active, "qst_cause_provocation"),
      (store_faction_of_troop, ":var32", ":var0"),
      (assign, ":var33", -1),
      (try_for_range, ":var34", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var34", 166, 1),
        (troop_slot_eq, ":var34", 52, 5),
        (store_faction_of_troop, ":var35", ":var34"),
        (eq, ":var35", ":var32"),
        (assign, ":var33", ":var34"),
      (try_end),
      (eq, ":var0", ":var33"),
      (assign, ":var36", 0),
      (assign, ":var37", 0),
      (try_for_range, ":var38", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (neq, ":var36", -1),
        (neq, ":var38", ":var32"),
        (faction_slot_eq, ":var38", 21, 0),
        (neq, ":var38", "$players_kingdom"),
        (store_relation, ":var39", ":var38", ":var32"),
        (store_add, ":var40", ":var32", 220),
        (val_sub, ":var40", "fac_player_supporters_faction"),
        (faction_get_slot, ":var41", ":var38", ":var40"),
        (try_begin),
          (lt, ":var39", 0),
          (assign, ":var36", -1),
        (else_try),
          (ge, ":var41", 1),
          (assign, ":var36", -1),
        (else_try),
          (ge, ":var39", 0),
          (assign, ":var42", 2),
          (gt, ":var42", ":var37"),
          (assign, ":var36", ":var38"),
          (assign, ":var42", ":var37"),
        (try_end),
      (try_end),
      (is_between, ":var36", "fac_player_supporters_faction", "fac_kingdoms_end"),
      (assign, ":var2", "qst_cause_provocation"),
      (assign, ":var5", ":var36"),
    (try_end),
    (assign, reg0, ":var2"),
    (assign, reg1, ":var3"),
    (assign, reg2, ":var4"),
    (assign, reg3, ":var5"),
  ]),

  ("ee_set_garrison_size",
  [
    (store_script_param_1, ":var0"),
    (store_script_param_2, ":var1"),
    (assign, ":var2", ":var0"),
    (try_for_range, ":var3", "p_town_1_1", "p_village_1_1"),
      (neq, ":var3", "p_castle_player"),
      (assign, ":var0", ":var2"),
      (try_begin),
        (party_slot_eq, ":var3", 0, 3),
        (val_add, ":var0", 10),
        (try_begin),
          (this_or_next|eq, ":var3", "p_town_21_1"),
          (this_or_next|eq, ":var3", "p_town_19_1"),
          (eq, ":var3", "p_town_37_1"),
          (val_add, ":var0", 40),
        (try_end),
        (try_begin),
          (eq, ":var3", "p_town_26_1"),
          (val_add, ":var0", 40),
        (try_end),
      (try_end),
      (try_for_range, ":var4", 0, ":var0"),
        (call_script, "script_cf_reinforce_party", ":var3"),
      (try_end),
      (store_div, ":var5", ":var0", 5),
      (val_add, ":var5", 2),
      (game_get_reduce_campaign_ai, ":var6"),
      (try_begin),
        (eq, ":var6", 0),
        (assign, ":var7", 15000),
      (else_try),
        (eq, ":var6", 1),
        (assign, ":var7", 10000),
      (else_try),
        (eq, ":var6", 2),
        (assign, ":var7", 5000),
      (try_end),
      (try_for_range, ":var4", 0, ":var5"),
        (party_upgrade_with_xp, ":var3", ":var7", 0),
      (try_end),
      (call_script, "script_center_get_food_store_limit", ":var3"),
      (assign, ":var8", reg0),
      (val_div, ":var8", 2),
      (party_set_slot, ":var3", 53, ":var8"),
      (try_begin),
        (eq, ":var1", 1),
        (party_get_slot, ":var9", ":var3", 7),
        (ge, ":var9", 1),
        (troop_slot_eq, ":var9", 10, 0),
        (call_script, "script_create_kingdom_hero_party", ":var9", ":var3"),
        (assign, ":var10", "$pout_party"),
        (party_attach_to_party, ":var10", ":var3"),
        (party_set_slot, ":var3", 51, 1000),
      (try_end),
    (try_end),
  ]),

]